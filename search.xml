<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å‰ç«¯AIè¯­éŸ³æ–¹é¢çš„å®ç°</title>
      <link href="/2024/04/02/js/%E8%AF%AD%E9%9F%B3%E6%96%87%E5%AD%97%E4%BA%92%E8%BD%AC/"/>
      <url>/2024/04/02/js/%E8%AF%AD%E9%9F%B3%E6%96%87%E5%AD%97%E4%BA%92%E8%BD%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰ç«¯AIè¯­éŸ³æ–¹é¢çš„å®ç°"><a href="#å‰ç«¯AIè¯­éŸ³æ–¹é¢çš„å®ç°" class="headerlink" title="å‰ç«¯AIè¯­éŸ³æ–¹é¢çš„å®ç°"></a>å‰ç«¯AIè¯­éŸ³æ–¹é¢çš„å®ç°</h1><h2 id="webkitSpeechRecognitionï¼ˆè¯­éŸ³è¯†åˆ«ï¼‰"><a href="#webkitSpeechRecognitionï¼ˆè¯­éŸ³è¯†åˆ«ï¼‰" class="headerlink" title="webkitSpeechRecognitionï¼ˆè¯­éŸ³è¯†åˆ«ï¼‰"></a>webkitSpeechRecognitionï¼ˆè¯­éŸ³è¯†åˆ«ï¼‰</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªwebkitSpeechRecognitionå®ä¾‹</span></span><br><span class="line"><span class="keyword">let</span> newRecognition = <span class="keyword">new</span> <span class="title function_">webkitSpeechRecognition</span>();</span><br><span class="line"><span class="comment">// è®¾ç½®è¯†åˆ«åˆ°å£°éŸ³å°±å…³é—­è¿˜æ˜¯ä¸€ç›´è¯†åˆ«</span></span><br><span class="line">newRecognition.<span class="property">continuous</span> = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">// å¼€å¯å½•éŸ³</span></span><br><span class="line">newRecognition.<span class="title function_">start</span>();</span><br><span class="line"><span class="comment">// å…³é—­å½•éŸ³</span></span><br><span class="line">newRecognition.<span class="title function_">stop</span>();</span><br><span class="line"><span class="comment">// è¯†åˆ«åˆ°ç»“æœå³è§¦å‘ï¼Œæ‰€ä»¥è®²è¯è¿‡ç¨‹å¤šæ¬¡åœé¡¿çš„æƒ…å†µä¸‹ä¼šè§¦å‘å¤šæ¬¡</span></span><br><span class="line">newRecognition.<span class="property">onresult</span> = <span class="keyword">function</span>(<span class="params">event</span>) &#123; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(event);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åŸºæœ¬ä»¥ä¸Šå°±å·²ç»è¾¾åˆ°äº†è¯­éŸ³è½¬æ–‡å­—çš„åŠŸèƒ½ï¼Œä¸‹é¢æ˜¯ä¸€äº›å…¶ä»–äº‹ä»¶</span></span><br><span class="line"><span class="comment">//åªè¦å¼€å§‹è®²è¯äº†ï¼Œå°±ä¼šè§¦å‘onsoundstartå’Œonspeechstartäº‹ä»¶</span></span><br><span class="line">newRecognition.<span class="property">onsoundstart</span> = <span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å¼€å§‹æ”¶å¬äº†&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">&#125;</span><br><span class="line">newRecognition.<span class="property">onspeechstart</span> = <span class="function">(<span class="params">e</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å¼€å§‹è®²è¯äº†&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// onspeechendäº‹ä»¶åº”è¯¥æ˜¯ç›‘æµ‹åˆ°æ‰§è¡Œäº†stopæ–¹æ³•æ—¶è§¦å‘çš„ã€‚è€Œå¦‚æœä¸€æ®µæ—¶é—´æ²¡æœ‰å½•å…¥ä¿¡æ¯ï¼Œåˆ™ä¼šè‡ªåŠ¨æ‰§è¡Œstopæ–¹æ³•åœæ­¢å½•éŸ³ï¼ŒåŒæ ·ä¹Ÿä¼šè§¦å‘onspeechendäº‹ä»¶</span></span><br><span class="line">newRecognition.<span class="property">onspeechend</span> = <span class="function">(<span class="params">e</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;è®²è¯å®Œæ¯•&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// onerrorå¾ˆæ˜æ˜¾æ˜¯æœ‰å¼‚å¸¸æ—¶ä¼šè§¦å‘è¯¥äº‹ä»¶ï¼Œæµ‹è¯•å‘ç°å½“é•¿æ—¶é—´æ²¡æœ‰å½•å…¥å¯¼è‡´è‡ªåŠ¨å…³é—­å½•éŸ³çš„æ—¶å€™å°±ä¼šè§¦å‘è¯¥äº‹ä»¶</span></span><br><span class="line">newRecognition.<span class="property">onerror</span> = <span class="function">(<span class="params">e</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å‘ç”Ÿå¼‚å¸¸&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>vue3demo </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">textarea</span></span></span><br><span class="line"><span class="tag">            <span class="attr">name</span>=<span class="string">&quot;è¯­éŸ³è½¬æ–‡å­—å†…å®¹åŒº&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">id</span>=<span class="string">&quot;area&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">cols</span>=<span class="string">&quot;30&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">rows</span>=<span class="string">&quot;10&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">placeholder</span>=<span class="string">&quot;è¯´ç‚¹ä»€ä¹ˆå§...&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">ref</span>=<span class="string">&quot;areaRef&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">v-model</span>=<span class="string">&quot;textInp&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;speek&quot;</span>&gt;</span>ğŸ¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> @<span class="attr">click</span>=<span class="string">&quot;addText&quot;</span>&gt;</span>å‘å¸ƒ<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">v-show</span>=<span class="string">&quot;list.length &gt; 0&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in list&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span>&#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; reactive, toRefs, ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    setup () &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> areaRef = <span class="title function_">ref</span>(<span class="literal">null</span>)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> state = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">list</span>: [],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">textInp</span>: <span class="string">&#x27;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">isGoing</span>: <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> recognition = <span class="keyword">new</span> <span class="variable language_">window</span>.<span class="title function_">webkitSpeechRecognition</span>();</span></span><br><span class="line"><span class="language-javascript">        recognition.<span class="property">continuous</span> = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">        recognition.<span class="property">interimResults</span> = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">        recognition.<span class="property">lang</span> = <span class="string">&#x27;zh-CN&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">        recognition.<span class="property">onresult</span>=<span class="keyword">function</span>(<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> result = <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>;i &lt;= event.<span class="property">resultIndex</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">                result += event.<span class="property">results</span>[i][<span class="number">0</span>].<span class="property">transcript</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            state.<span class="property">textInp</span> = result</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"><span class="comment">/** å¼€å§‹ / ç»“æŸ å½•éŸ³ */</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">speek</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(state.<span class="property">isGoing</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                recognition.<span class="title function_">stop</span>();</span></span><br><span class="line"><span class="language-javascript">                state.<span class="property">isGoing</span> = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                recognition.<span class="title function_">start</span>();</span></span><br><span class="line"><span class="language-javascript">                state.<span class="property">isGoing</span> = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"><span class="comment">/** å‘å¸ƒ */</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">addText</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            state.<span class="property">list</span>.<span class="title function_">push</span>(state.<span class="property">textInp</span>);</span></span><br><span class="line"><span class="language-javascript">            state.<span class="property">textInp</span> = <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            ...<span class="title function_">toRefs</span>(state),</span></span><br><span class="line"><span class="language-javascript">            areaRef,</span></span><br><span class="line"><span class="language-javascript">            addText,</span></span><br><span class="line"><span class="language-javascript">            speek</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="SpeechSynthesisUtteranceï¼ˆè¯­éŸ³åˆæˆï¼‰"><a href="#SpeechSynthesisUtteranceï¼ˆè¯­éŸ³åˆæˆï¼‰" class="headerlink" title="SpeechSynthesisUtteranceï¼ˆè¯­éŸ³åˆæˆï¼‰"></a>SpeechSynthesisUtteranceï¼ˆè¯­éŸ³åˆæˆï¼‰</h2><p>åŸºç¡€æµ‹è¯•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ssu = <span class="keyword">new</span> <span class="variable language_">window</span>.<span class="title class_">SpeechSynthesisUtterance</span>(<span class="string">&#x27;Hiï¼Œgirlï¼&#x27;</span>);</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">speechSynthesis</span>.<span class="title function_">speak</span>(ssu);</span><br></pre></td></tr></table></figure><p><strong>SpeechSynthesisUtteranceå¯¹è±¡æä¾›äº†ä¸€äº›å…¶ä»–å±æ€§ä¾›è®¾ç½®ï¼š</strong></p><ul><li><p>langï¼šä½¿ç”¨çš„è¯­è¨€ï¼Œå­—ç¬¦ä¸²ï¼ˆæ¯”å¦‚ï¼šâ€œzh-cnâ€ï¼‰</p></li><li><p>volumeï¼šéŸ³é‡ï¼Œå€¼åœ¨0-1ä¹‹é—´ï¼ˆé»˜è®¤æ˜¯1ï¼‰</p></li><li><p>rateï¼šè¯­é€Ÿçš„å€æ•°ï¼Œå€¼åœ¨0.1-10ä¹‹é—´ï¼ˆé»˜è®¤1å€ï¼‰</p></li><li><p>pitchï¼šéŸ³é«˜ï¼Œå€¼åœ¨0-2ä¹‹é—´ï¼Œï¼ˆé»˜è®¤æ˜¯1ï¼‰</p></li><li><p>voiceURIï¼šæŒ‡å®šå¸Œæœ›ä½¿ç”¨çš„å£°éŸ³ï¼Œå­—ç¬¦ä¸²</p></li><li><p>onstartï¼šè¯­éŸ³å¼€å§‹åˆæˆæ—¶è§¦å‘</p></li><li><p>onpauseï¼šè¯­éŸ³æš‚åœæ—¶è§¦å‘</p></li><li><p>onresumeï¼šè¯­éŸ³åˆæˆé‡æ–°å¼€å§‹æ—¶è§¦å‘</p></li><li><p>onendï¼šè¯­éŸ³ç»“æŸæ—¶è§¦å‘</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ssu = <span class="keyword">new</span> <span class="variable language_">window</span>.<span class="title class_">SpeechSynthesisUtterance</span>();</span><br><span class="line">ssu.<span class="property">text</span> = <span class="string">&#x27;Hiï¼Œgirlï¼&#x27;</span>;</span><br><span class="line">ssu.<span class="property">volume</span> = <span class="number">0.5</span>;</span><br><span class="line">ssu.<span class="property">rate</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure><p><strong>speechSynthesiså¯¹è±¡</strong><br>åˆ›å»ºå®ŒSpeechSynthesisUtteranceå¯¹è±¡ä¹‹åï¼ŒæŠŠè¿™ä¸ªå¯¹è±¡ä¼ é€’ç»™speechSynthesiså¯¹è±¡çš„speakæ–¹æ³•ä¸­ã€‚</p><ul><li><p>stop()ï¼šåœæ­¢åˆæˆ</p></li><li><p>pause()ï¼šæš‚åœåˆæˆ</p></li><li><p>resume()ï¼šé‡æ–°å¼€å§‹åˆæˆ</p></li><li><p>getVoices()ï¼šè¿”å›æµè§ˆå™¨æ”¯æŒçš„è¯­éŸ³åŒ…æ•°ç»„</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">speechSynthesis</span>.<span class="title function_">pause</span>(); <span class="comment">// ç‚¹å‡»æš‚åœ</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">speechSynthesis</span>.<span class="title function_">getVoices</span>()); <span class="comment">//æˆ‘çš„chromeæµè§ˆå™¨ä¸‹ç«Ÿç„¶æ˜¯ç©ºæ•°ç»„ã€‚ã€‚wtf</span></span><br></pre></td></tr></table></figure><p>demo:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>è¯­éŸ³è½¬æ–‡å­—<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">textarea</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">shape</span>=<span class="string">&quot;&quot;</span> <span class="attr">coords</span>=<span class="string">&quot;&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;area&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¯´ç‚¹ä»€ä¹ˆ...&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;speek&quot;</span>&gt;</span>éº¦å…‹é£<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;addBtn&quot;</span>&gt;</span>å‘å¸ƒ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;text&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="property">onload</span> = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;é¡µé¢åŠ è½½å®Œæ¯•&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> area = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#area&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> speek = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#speek&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> addBtn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#addBtn&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> text = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#text&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> recognition = <span class="keyword">new</span> <span class="title function_">webkitSpeechRecognition</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> isSpeek = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            recognition.<span class="property">continuous</span> = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">            recognition.<span class="property">interimResults</span> = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">            recognition.<span class="property">lang</span> = <span class="string">&#x27;zh-CN&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">            recognition.<span class="property">onresult</span>=<span class="keyword">function</span>(<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">let</span> result = <span class="string">&#x27;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">for</span>(<span class="keyword">let</span> i = event.<span class="property">resultIndex</span>;i &lt;= event.<span class="property">resultIndex</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (event.<span class="property">results</span>[i].<span class="property">isFinal</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        result += event.<span class="property">results</span>[i][<span class="number">0</span>].<span class="property">transcript</span>;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                area.<span class="property">value</span> = result</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            speek.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(isSpeek) &#123;</span></span><br><span class="line"><span class="language-javascript">                    recognition.<span class="title function_">stop</span>();</span></span><br><span class="line"><span class="language-javascript">                    isSpeek = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                recognition.<span class="title function_">start</span>();</span></span><br><span class="line"><span class="language-javascript">                isSpeek = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            addBtn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> li = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;li&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                li.<span class="property">textContent</span> = area.<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript">                text.<span class="title function_">appendChild</span>(li);</span></span><br><span class="line"><span class="language-javascript">                area.<span class="property">value</span> = <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSciprt </tag>
            
            <tag> AIè¯­éŸ³ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼‚æ­¥ç›¸å…³</title>
      <link href="/2024/04/02/%E5%85%AB%E8%82%A1%E6%96%87/%E5%BC%82%E6%AD%A5%E7%9B%B8%E5%85%B3/"/>
      <url>/2024/04/02/%E5%85%AB%E8%82%A1%E6%96%87/%E5%BC%82%E6%AD%A5%E7%9B%B8%E5%85%B3/</url>
      
        <content type="html"><![CDATA[<h4 id="3-1-promiseå’Œ-async-await-åŒºåˆ«"><a href="#3-1-promiseå’Œ-async-await-åŒºåˆ«" class="headerlink" title="3.1 promiseå’Œ async await åŒºåˆ«"></a>3.1 promiseå’Œ async await åŒºåˆ«</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><ul><li><p><strong>æ¦‚å¿µ</strong><br><strong>Promise</strong> æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ï¼Œç®€å•åœ°è¯´ï¼ŒPromiseå¥½æ¯”å®¹å™¨ï¼Œé‡Œé¢å­˜æ”¾ç€ä¸€äº›æœªæ¥æ‰ä¼šæ‰§è¡Œå®Œæ¯•ï¼ˆå¼‚æ­¥ï¼‰çš„äº‹ä»¶çš„ç»“æœï¼Œè€Œè¿™äº›ç»“æœä¸€æ—¦ç”Ÿæˆæ˜¯æ— æ³•æ”¹å˜çš„</p><p><strong>async await</strong>ä¹Ÿæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œä»–éµå¾ªçš„æ˜¯Generator å‡½æ•°çš„è¯­æ³•ç³–ï¼Œä»–æ‹¥æœ‰å†…ç½®æ‰§è¡Œå™¨ï¼Œä¸éœ€è¦é¢å¤–çš„è°ƒç”¨ç›´æ¥ä¼šè‡ªåŠ¨æ‰§è¡Œå¹¶è¾“å‡ºç»“æœï¼Œå®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ã€‚</p></li><li><h5 id="ä¸¤è€…çš„åŒºåˆ«"><a href="#ä¸¤è€…çš„åŒºåˆ«" class="headerlink" title="ä¸¤è€…çš„åŒºåˆ«"></a>ä¸¤è€…çš„åŒºåˆ«</h5><ol><li>Promiseçš„å‡ºç°è§£å†³äº†ä¼ ç»Ÿcallbackå‡½æ•°å¯¼è‡´çš„â€œåœ°åŸŸå›è°ƒâ€é—®é¢˜ï¼Œä½†å®ƒçš„è¯­æ³•å¯¼è‡´äº†å®ƒå‘çºµå‘å‘å±•è¡Œæˆäº†ä¸€ä¸ªå›è°ƒé“¾ï¼Œé‡åˆ°å¤æ‚çš„ä¸šåŠ¡åœºæ™¯ï¼Œè¿™æ ·çš„è¯­æ³•æ˜¾ç„¶ä¹Ÿæ˜¯ä¸ç¾è§‚çš„ã€‚è€Œasync awaitä»£ç çœ‹èµ·æ¥ä¼šç®€æ´äº›ï¼Œä½¿å¾—å¼‚æ­¥ä»£ç çœ‹èµ·æ¥åƒåŒæ­¥ä»£ç ï¼Œawaitçš„æœ¬è´¨æ˜¯å¯ä»¥æä¾›ç­‰åŒäºâ€åŒæ­¥æ•ˆæœâ€œçš„ç­‰å¾…å¼‚æ­¥è¿”å›èƒ½åŠ›çš„è¯­æ³•ç³–ï¼Œåªæœ‰è¿™ä¸€å¥ä»£ç æ‰§è¡Œå®Œï¼Œæ‰ä¼šæ‰§è¡Œä¸‹ä¸€å¥ã€‚</li><li>async awaitä¸Promiseä¸€æ ·ï¼Œæ˜¯éé˜»å¡çš„ã€‚</li><li>async awaitæ˜¯åŸºäºPromiseå®ç°çš„ï¼Œå¯ä»¥è¯´æ˜¯æ”¹è‰¯ç‰ˆçš„Promiseï¼Œå®ƒä¸èƒ½ç”¨äºæ™®é€šçš„å›è°ƒå‡½æ•°ã€‚</li></ol></li></ul><h4 id="3-2-deferå’ŒasyncåŒºåˆ«"><a href="#3-2-deferå’ŒasyncåŒºåˆ«" class="headerlink" title="3.2 deferå’ŒasyncåŒºåˆ«"></a>3.2 deferå’ŒasyncåŒºåˆ«</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>åŒºåˆ«ä¸»è¦åœ¨äºä¸€ä¸ªæ‰§è¡Œæ—¶é—´,deferä¼šåœ¨æ–‡æ¡£è§£æå®Œä¹‹åæ‰§è¡Œ,å¹¶ä¸”å¤šä¸ªdeferä¼šæŒ‰ç…§é¡ºåºæ‰§è¡Œ,è€Œasyncåˆ™æ˜¯åœ¨jsåŠ è½½å¥½ä¹‹åå°±ä¼šæ‰§è¡Œ,å¹¶ä¸”å¤šä¸ªasync,å“ªä¸ªåŠ è½½å¥½å°±æ‰§è¡Œå“ªä¸ª</p><p><strong>è§£æï¼š</strong></p><p>åœ¨æ²¡æœ‰deferæˆ–è€…asyncçš„æƒ…å†µä¸‹ï¼šä¼šç«‹å³æ‰§è¡Œè„šæœ¬,æ‰€ä»¥é€šå¸¸å»ºè®®æŠŠscriptæ”¾åœ¨bodyæœ€å</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;script.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>asyncï¼šæœ‰asyncçš„è¯,åŠ è½½å’Œæ¸²æŸ“åç»­æ–‡æ¡£å…ƒç´ çš„è¿‡ç¨‹å°†å’Œ script.js çš„åŠ è½½ä¸æ‰§è¡Œå¹¶è¡Œè¿›è¡Œï¼ˆå¼‚æ­¥ï¼‰ã€‚<br>ä½†æ˜¯å¤šä¸ªjsæ–‡ä»¶çš„åŠ è½½é¡ºåºä¸ä¼šæŒ‰ç…§ä¹¦å†™é¡ºåºè¿›è¡Œ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">&quot;script.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>dererï¼šæœ‰dererçš„è¯,åŠ è½½åç»­æ–‡æ¡£å…ƒç´ çš„è¿‡ç¨‹å°†å’Œ script.js çš„åŠ è½½å¹¶è¡Œè¿›è¡Œï¼ˆå¼‚æ­¥ï¼‰ï¼Œä½†æ˜¯ script.js çš„æ‰§è¡Œè¦åœ¨æ‰€æœ‰å…ƒç´ è§£æå®Œæˆä¹‹åï¼ŒDOMContentLoaded äº‹ä»¶è§¦å‘ä¹‹å‰å®Œæˆ,å¹¶ä¸”å¤šä¸ªdeferä¼šæŒ‰ç…§é¡ºåºè¿›è¡ŒåŠ è½½ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">&quot;script.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-3-åŒæ­¥å’Œå¼‚æ­¥"><a href="#3-3-åŒæ­¥å’Œå¼‚æ­¥" class="headerlink" title="3.3. åŒæ­¥å’Œå¼‚æ­¥"></a>3.3. åŒæ­¥å’Œå¼‚æ­¥</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>åŒæ­¥</p><ul><li>æŒ‡åœ¨ <strong>ä¸»çº¿ç¨‹</strong>ä¸Šæ’é˜Ÿæ‰§è¡Œçš„ä»»åŠ¡ï¼Œåªæœ‰å‰ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚</li><li>ä¹Ÿå°±æ˜¯è°ƒç”¨ä¸€æ—¦å¼€å§‹ï¼Œå¿…é¡»è¿™ä¸ªè°ƒç”¨ <strong>è¿”å›ç»“æœ</strong>(åˆ’é‡ç‚¹â€”â€”ï¼‰æ‰èƒ½ç»§ç»­å¾€åæ‰§è¡Œã€‚ç¨‹åºçš„æ‰§è¡Œé¡ºåºå’Œä»»åŠ¡æ’åˆ—é¡ºåºæ˜¯ä¸€è‡´çš„ã€‚</li></ul><p>å¼‚æ­¥</p><ul><li>å¼‚æ­¥ä»»åŠ¡æ˜¯æŒ‡ä¸è¿›å…¥ä¸»çº¿ç¨‹ï¼Œè€Œè¿›å…¥ <strong>ä»»åŠ¡é˜Ÿåˆ—</strong>çš„ä»»åŠ¡ï¼Œåªæœ‰ä»»åŠ¡é˜Ÿåˆ—é€šçŸ¥ä¸»çº¿ç¨‹ï¼ŒæŸä¸ªå¼‚æ­¥ä»»åŠ¡å¯ä»¥æ‰§è¡Œäº†ï¼Œè¯¥ä»»åŠ¡æ‰ä¼šè¿›å…¥ä¸»çº¿ç¨‹ã€‚</li><li>æ¯ä¸€ä¸ªä»»åŠ¡æœ‰ä¸€ä¸ªæˆ–å¤šä¸ª <strong>å›è°ƒå‡½æ•°</strong>ã€‚å‰ä¸€ä¸ªä»»åŠ¡ç»“æŸåï¼Œä¸æ˜¯æ‰§è¡Œåä¸€ä¸ªä»»åŠ¡,è€Œæ˜¯æ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œåä¸€ä¸ªä»»åŠ¡åˆ™æ˜¯ä¸ç­‰å‰ä¸€ä¸ªä»»åŠ¡ç»“æŸå°±æ‰§è¡Œã€‚</li><li>ç¨‹åºçš„æ‰§è¡Œé¡ºåºå’Œä»»åŠ¡çš„æ’åˆ—é¡ºåºæ˜¯<strong>ä¸ä¸€è‡´</strong>çš„ï¼Œå¼‚æ­¥çš„ã€‚</li><li>æˆ‘ä»¬å¸¸ç”¨çš„setTimeoutå’ŒsetIntervalå‡½æ•°ï¼ŒAjaxéƒ½æ˜¯å¼‚æ­¥æ“ä½œã€‚</li></ul><h4 id="3-4-å®ç°å¼‚æ­¥çš„æ–¹æ³•"><a href="#3-4-å®ç°å¼‚æ­¥çš„æ–¹æ³•" class="headerlink" title="3.4 å®ç°å¼‚æ­¥çš„æ–¹æ³•"></a>3.4 å®ç°å¼‚æ­¥çš„æ–¹æ³•</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>å›è°ƒå‡½æ•°ï¼ˆCallbackï¼‰ã€äº‹ä»¶ç›‘å¬ã€å‘å¸ƒè®¢é˜…ã€Promise&#x2F;A+ã€ç”Ÿæˆå™¨Generators&#x2F; yieldã€async&#x2F;await</p><ol><li><p>JS å¼‚æ­¥ç¼–ç¨‹è¿›åŒ–å²ï¼šcallback -&gt; promise -&gt; generator -&gt; async + await</p></li><li><p>async&#x2F;await å‡½æ•°çš„å®ç°ï¼Œå°±æ˜¯å°† Generator å‡½æ•°å’Œè‡ªåŠ¨æ‰§è¡Œå™¨ï¼ŒåŒ…è£…åœ¨ä¸€ä¸ªå‡½æ•°é‡Œã€‚</p></li><li><p>async&#x2F;awaitå¯ä»¥è¯´æ˜¯å¼‚æ­¥ç»ˆæè§£å†³æ–¹æ¡ˆäº†ã€‚</p><p>(1) async&#x2F;awaitå‡½æ•°ç›¸å¯¹äºPromiseï¼Œä¼˜åŠ¿ä½“ç°åœ¨ï¼š</p><ul><li>å¤„ç† then çš„è°ƒç”¨é“¾ï¼Œèƒ½å¤Ÿæ›´æ¸…æ™°å‡†ç¡®çš„å†™å‡ºä»£ç </li><li>å¹¶ä¸”ä¹Ÿèƒ½ä¼˜é›…åœ°è§£å†³å›è°ƒåœ°ç‹±é—®é¢˜ã€‚</li></ul><p>å½“ç„¶async&#x2F;awaitå‡½æ•°ä¹Ÿå­˜åœ¨ä¸€äº›ç¼ºç‚¹ï¼Œå› ä¸º await å°†å¼‚æ­¥ä»£ç æ”¹é€ æˆäº†åŒæ­¥ä»£ç ï¼Œå¦‚æœå¤šä¸ªå¼‚æ­¥ä»£ç æ²¡æœ‰ä¾èµ–æ€§å´ä½¿ç”¨äº† await ä¼šå¯¼è‡´æ€§èƒ½ä¸Šçš„é™ä½ï¼Œä»£ç æ²¡æœ‰ä¾èµ–æ€§çš„è¯ï¼Œå®Œå…¨å¯ä»¥ä½¿ç”¨ Promise.all çš„æ–¹å¼ã€‚</p><p>(2) async&#x2F;awaitå‡½æ•°å¯¹ Generator å‡½æ•°çš„æ”¹è¿›ï¼Œä½“ç°åœ¨ä»¥ä¸‹ä¸‰ç‚¹ï¼š</p><ul><li>å†…ç½®æ‰§è¡Œå™¨ã€‚ Generator å‡½æ•°çš„æ‰§è¡Œå¿…é¡»é æ‰§è¡Œå™¨ï¼Œæ‰€ä»¥æ‰æœ‰äº† co å‡½æ•°åº“ï¼Œè€Œ async å‡½æ•°è‡ªå¸¦æ‰§è¡Œå™¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>async å‡½æ•°çš„æ‰§è¡Œï¼Œä¸æ™®é€šå‡½æ•°ä¸€æ¨¡ä¸€æ ·ï¼Œåªè¦ä¸€è¡Œ</strong>ã€‚</li><li>æ›´å¹¿çš„é€‚ç”¨æ€§ã€‚ co å‡½æ•°åº“çº¦å®šï¼Œyield å‘½ä»¤åé¢åªèƒ½æ˜¯ Thunk å‡½æ•°æˆ– Promise å¯¹è±¡ï¼Œè€Œ <strong>async å‡½æ•°çš„ await å‘½ä»¤åé¢ï¼Œå¯ä»¥è·Ÿ Promise å¯¹è±¡å’ŒåŸå§‹ç±»å‹çš„å€¼ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼ï¼Œä½†è¿™æ—¶ç­‰åŒäºåŒæ­¥æ“ä½œï¼‰</strong>ã€‚</li><li>æ›´å¥½çš„è¯­ä¹‰ã€‚ async å’Œ awaitï¼Œæ¯”èµ·æ˜Ÿå·å’Œ yieldï¼Œè¯­ä¹‰æ›´æ¸…æ¥šäº†ã€‚async è¡¨ç¤ºå‡½æ•°é‡Œæœ‰å¼‚æ­¥æ“ä½œï¼Œawait è¡¨ç¤ºç´§è·Ÿåœ¨åé¢çš„è¡¨è¾¾å¼éœ€è¦ç­‰å¾…ç»“æœã€‚</li></ul></li></ol><p><strong>è§£æï¼š</strong></p><ol><li><p>å›è°ƒå‡½æ•°ï¼ˆCallbackï¼‰</p><p>å›è°ƒå‡½æ•°æ˜¯å¼‚æ­¥æ“ä½œæœ€åŸºæœ¬çš„æ–¹æ³•ã€‚ä»¥ä¸‹ä»£ç å°±æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°çš„ä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">ajax</span>(url, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// å¤„ç†é€»è¾‘</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å›è°ƒå‡½æ•°æœ‰ä¸€ä¸ªè‡´å‘½çš„å¼±ç‚¹ï¼Œå°±æ˜¯å®¹æ˜“å†™å‡º<strong>å›è°ƒåœ°ç‹±ï¼ˆCallback hellï¼‰</strong>ã€‚å‡è®¾å¤šä¸ªè¯·æ±‚å­˜åœ¨ä¾èµ–æ€§ï¼Œä½ å¯èƒ½å°±ä¼šå†™å‡ºå¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">ajax</span>(url, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// å¤„ç†é€»è¾‘</span></span><br><span class="line">    <span class="title function_">ajax</span>(url1, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// å¤„ç†é€»è¾‘</span></span><br><span class="line">        <span class="title function_">ajax</span>(url2, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// å¤„ç†é€»è¾‘</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å›è°ƒå‡½æ•°çš„ä¼˜ç‚¹æ˜¯ç®€å•ã€å®¹æ˜“ç†è§£å’Œå®ç°ï¼Œç¼ºç‚¹æ˜¯ä¸åˆ©äºä»£ç çš„é˜…è¯»å’Œç»´æŠ¤ï¼Œå„ä¸ªéƒ¨åˆ†ä¹‹é—´é«˜åº¦è€¦åˆï¼Œä½¿å¾—ç¨‹åºç»“æ„æ··ä¹±ã€æµç¨‹éš¾ä»¥è¿½è¸ªï¼ˆå°¤å…¶æ˜¯å¤šä¸ªå›è°ƒå‡½æ•°åµŒå¥—çš„æƒ…å†µï¼‰ï¼Œè€Œä¸”æ¯ä¸ªä»»åŠ¡åªèƒ½æŒ‡å®šä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚æ­¤å¤–å®ƒä¸èƒ½ä½¿ç”¨ try catch æ•è·é”™è¯¯ï¼Œä¸èƒ½ç›´æ¥ returnã€‚</p></li><li><p>äº‹ä»¶ç›‘å¬</p><p>è¿™ç§æ–¹å¼ä¸‹ï¼Œ<strong>å¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œä¸å–å†³äºä»£ç çš„é¡ºåºï¼Œè€Œå–å†³äºæŸä¸ªäº‹ä»¶æ˜¯å¦å‘ç”Ÿ</strong>ã€‚</p><p>ä¸‹é¢æ˜¯ä¸¤ä¸ªå‡½æ•°f1å’Œf2ï¼Œç¼–ç¨‹çš„æ„å›¾æ˜¯f2å¿…é¡»ç­‰åˆ°f1æ‰§è¡Œå®Œæˆï¼Œæ‰èƒ½æ‰§è¡Œã€‚é¦–å…ˆï¼Œä¸ºf1ç»‘å®šä¸€ä¸ªäº‹ä»¶ï¼ˆè¿™é‡Œé‡‡ç”¨çš„jQueryçš„å†™æ³•ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f1.<span class="title function_">on</span>(<span class="string">&#x27;done&#x27;</span>, f2);</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™è¡Œä»£ç çš„æ„æ€æ˜¯ï¼Œå½“f1å‘ç”Ÿdoneäº‹ä»¶ï¼Œå°±æ‰§è¡Œf2ã€‚ç„¶åï¼Œå¯¹f1è¿›è¡Œæ”¹å†™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    f1.<span class="title function_">trigger</span>(<span class="string">&#x27;done&#x27;</span>);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œf1.trigger(â€˜doneâ€™)è¡¨ç¤ºï¼Œæ‰§è¡Œå®Œæˆåï¼Œç«‹å³è§¦å‘doneäº‹ä»¶ï¼Œä»è€Œå¼€å§‹æ‰§è¡Œf2ã€‚</p><p>è¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯æ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œå¯ä»¥ç»‘å®šå¤šä¸ªäº‹ä»¶ï¼Œæ¯ä¸ªäº‹ä»¶å¯ä»¥æŒ‡å®šå¤šä¸ªå›è°ƒå‡½æ•°ï¼Œè€Œä¸”å¯ä»¥â€å»è€¦åˆâ€ï¼Œæœ‰åˆ©äºå®ç°æ¨¡å—åŒ–ã€‚ç¼ºç‚¹æ˜¯æ•´ä¸ªç¨‹åºéƒ½è¦å˜æˆäº‹ä»¶é©±åŠ¨å‹ï¼Œè¿è¡Œæµç¨‹ä¼šå˜å¾—å¾ˆä¸æ¸…æ™°ã€‚é˜…è¯»ä»£ç çš„æ—¶å€™ï¼Œå¾ˆéš¾çœ‹å‡ºä¸»æµç¨‹ã€‚</p></li><li><p>å‘å¸ƒè®¢é˜…</p><p>æˆ‘ä»¬å‡å®šï¼Œå­˜åœ¨ä¸€ä¸ªâ€ä¿¡å·ä¸­å¿ƒâ€ï¼ŒæŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå°±å‘ä¿¡å·ä¸­å¿ƒâ€å‘å¸ƒâ€ï¼ˆpublishï¼‰ä¸€ä¸ªä¿¡å·ï¼Œå…¶ä»–ä»»åŠ¡å¯ä»¥å‘ä¿¡å·ä¸­å¿ƒâ€è®¢é˜…â€ï¼ˆsubscribeï¼‰è¿™ä¸ªä¿¡å·ï¼Œä»è€ŒçŸ¥é“ä»€ä¹ˆæ—¶å€™è‡ªå·±å¯ä»¥å¼€å§‹æ‰§è¡Œã€‚è¿™å°±å«åšâ€å‘å¸ƒ&#x2F;è®¢é˜…æ¨¡å¼â€ï¼ˆpublish-subscribe patternï¼‰ï¼Œåˆç§°â€è§‚å¯Ÿè€…æ¨¡å¼â€ï¼ˆobserver patternï¼‰ã€‚</p><p>é¦–å…ˆï¼Œf2å‘ä¿¡å·ä¸­å¿ƒjQueryè®¢é˜…doneä¿¡å·ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jQuery.<span class="title function_">subscribe</span>(<span class="string">&#x27;done&#x27;</span>, f2);</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œf1è¿›è¡Œå¦‚ä¸‹æ”¹å†™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    jQuery.<span class="title function_">publish</span>(<span class="string">&#x27;done&#x27;</span>);</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼ŒjQuery.publish(â€˜doneâ€™)çš„æ„æ€æ˜¯ï¼Œf1æ‰§è¡Œå®Œæˆåï¼Œå‘ä¿¡å·ä¸­å¿ƒjQueryå‘å¸ƒdoneä¿¡å·ï¼Œä»è€Œå¼•å‘f2çš„æ‰§è¡Œã€‚ f2å®Œæˆæ‰§è¡Œåï¼Œå¯ä»¥å–æ¶ˆè®¢é˜…ï¼ˆunsubscribeï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jQuery.<span class="title function_">unsubscribe</span>(<span class="string">&#x27;done&#x27;</span>, f2);</span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹æ³•çš„æ€§è´¨ä¸â€œäº‹ä»¶ç›‘å¬â€ç±»ä¼¼ï¼Œä½†æ˜¯æ˜æ˜¾ä¼˜äºåè€…ã€‚å› ä¸ºå¯ä»¥é€šè¿‡æŸ¥çœ‹â€œæ¶ˆæ¯ä¸­å¿ƒâ€ï¼Œäº†è§£å­˜åœ¨å¤šå°‘ä¿¡å·ã€æ¯ä¸ªä¿¡å·æœ‰å¤šå°‘è®¢é˜…è€…ï¼Œä»è€Œç›‘æ§ç¨‹åºçš„è¿è¡Œã€‚</p></li><li><p>Promise&#x2F;A+</p><p>Promiseæœ¬æ„æ˜¯æ‰¿è¯ºï¼Œåœ¨ç¨‹åºä¸­çš„æ„æ€å°±æ˜¯æ‰¿è¯ºæˆ‘è¿‡ä¸€æ®µæ—¶é—´åä¼šç»™ä½ ä¸€ä¸ªç»“æœã€‚ ä»€ä¹ˆæ—¶å€™ä¼šç”¨åˆ°è¿‡ä¸€æ®µæ—¶é—´ï¼Ÿç­”æ¡ˆæ˜¯å¼‚æ­¥æ“ä½œï¼Œå¼‚æ­¥æ˜¯æŒ‡å¯èƒ½æ¯”è¾ƒé•¿æ—¶é—´æ‰æœ‰ç»“æœçš„æ‰åšï¼Œä¾‹å¦‚ç½‘ç»œè¯·æ±‚ã€è¯»å–æœ¬åœ°æ–‡ä»¶ç­‰</p><p>4.1 Promiseçš„ä¸‰ç§çŠ¶æ€</p><ul><li>Pendingâ€”-Promiseå¯¹è±¡å®ä¾‹åˆ›å»ºæ—¶å€™çš„åˆå§‹çŠ¶æ€</li><li>Fulfilledâ€”-å¯ä»¥ç†è§£ä¸ºæˆåŠŸçš„çŠ¶æ€</li><li>Rejectedâ€”-å¯ä»¥ç†è§£ä¸ºå¤±è´¥çš„çŠ¶æ€</li></ul><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646121826353/AE8F5B0E5132A5E6C19BCE0A3065045C" alt="img"></p><p><strong>è¿™ä¸ªæ‰¿è¯ºä¸€æ—¦ä»ç­‰å¾…çŠ¶æ€å˜æˆä¸ºå…¶ä»–çŠ¶æ€å°±æ°¸è¿œä¸èƒ½æ›´æ”¹çŠ¶æ€äº†</strong>ï¼Œæ¯”å¦‚è¯´ä¸€æ—¦çŠ¶æ€å˜ä¸º resolved åï¼Œå°±ä¸èƒ½ å†æ¬¡æ”¹å˜ä¸ºFulfilled</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">reject</span>(<span class="string">&#x27;reject&#x27;</span>)</span><br><span class="line">  <span class="title function_">resolve</span>(<span class="string">&#x27;success&#x27;</span>)<span class="comment">//æ— æ•ˆä»£ç ä¸ä¼šæ‰§è¡Œ</span></span><br><span class="line">&#125;)</span><br><span class="line">p.<span class="title function_">then</span>(</span><br><span class="line">  <span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="params">reason</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reason)<span class="comment">//reject</span></span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬åœ¨æ„é€  Promise çš„æ—¶å€™ï¼Œæ„é€ å‡½æ•°å†…éƒ¨çš„ä»£ç æ˜¯ç«‹å³æ‰§è¡Œçš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;new Promise&#x27;</span>)</span><br><span class="line">  <span class="title function_">resolve</span>(<span class="string">&#x27;success&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;end&#x27;</span>)</span><br><span class="line"><span class="comment">// new Promise =&gt; end</span></span><br></pre></td></tr></table></figure></li></ol><p>4.2 promiseçš„é“¾å¼è°ƒç”¨</p><ul><li><p>æ¯æ¬¡è°ƒç”¨è¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªæ–°çš„Promiseå®ä¾‹(è¿™å°±æ˜¯thenå¯ç”¨é“¾å¼è°ƒç”¨çš„åŸå› )</p></li><li><p>å¦‚æœthenä¸­è¿”å›çš„æ˜¯ä¸€ä¸ªç»“æœçš„è¯ä¼šæŠŠè¿™ä¸ªç»“æœä¼ é€’ä¸‹ä¸€æ¬¡thenä¸­çš„æˆåŠŸå›è°ƒ</p></li><li><p>å¦‚æœthenä¸­å‡ºç°å¼‚å¸¸,ä¼šèµ°ä¸‹ä¸€ä¸ªthençš„å¤±è´¥å›è°ƒ</p></li><li><p>åœ¨ thenä¸­ä½¿ç”¨äº†returnï¼Œé‚£ä¹ˆ return çš„å€¼ä¼šè¢«Promise.resolve() åŒ…è£…(è§ä¾‹1ï¼Œ2)</p></li><li><p>thenä¸­å¯ä»¥ä¸ä¼ é€’å‚æ•°ï¼Œå¦‚æœä¸ä¼ é€’ä¼šé€åˆ°ä¸‹ä¸€ä¸ªthenä¸­(è§ä¾‹3)</p></li><li><p>catch ä¼šæ•è·åˆ°æ²¡æœ‰æ•è·çš„å¼‚å¸¸</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹å‡ ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¾‹1</span></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="number">1</span>)</span><br><span class="line">.<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">  <span class="keyword">return</span> <span class="number">2</span> <span class="comment">//åŒ…è£…æˆ Promise.resolve(2)</span></span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> <span class="number">3</span>)</span><br><span class="line">.<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(res))</span><br><span class="line">å¤åˆ¶ä»£ç </span><br><span class="line"><span class="comment">// ä¾‹2</span></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="number">1</span>)</span><br><span class="line">.<span class="title function_">then</span>(<span class="function"><span class="params">x</span> =&gt;</span> x + <span class="number">1</span>)</span><br><span class="line">.<span class="title function_">then</span>(<span class="function"><span class="params">x</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;My Error&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">catch</span>(<span class="function">() =&gt;</span> <span class="number">1</span>)</span><br><span class="line">.<span class="title function_">then</span>(<span class="function"><span class="params">x</span> =&gt;</span> x + <span class="number">1</span>)</span><br><span class="line">.<span class="title function_">then</span>(<span class="function"><span class="params">x</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(x)) <span class="comment">//2</span></span><br><span class="line">.<span class="title function_">catch</span>(<span class="variable language_">console</span>.<span class="property">error</span>)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br><span class="line"><span class="comment">// ä¾‹3</span></span><br><span class="line"><span class="keyword">let</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">read</span>(<span class="params">url</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  fs.<span class="title function_">readFile</span>(url, <span class="string">&#x27;utf8&#x27;</span>, <span class="function">(<span class="params">err, data</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="title function_">reject</span>(err)</span><br><span class="line">    <span class="title function_">resolve</span>(data)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">read</span>(<span class="string">&#x27;./name.txt&#x27;</span>)</span><br><span class="line">.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>() <span class="comment">//thenä¸­å‡ºç°å¼‚å¸¸,ä¼šèµ°ä¸‹ä¸€ä¸ªthençš„å¤±è´¥å›è°ƒ</span></span><br><span class="line">&#125;) <span class="comment">//ç”±äºä¸‹ä¸€ä¸ªthenæ²¡æœ‰å¤±è´¥å›è°ƒï¼Œå°±ä¼šç»§ç»­å¾€ä¸‹æ‰¾ï¼Œå¦‚æœéƒ½æ²¡æœ‰ï¼Œå°±ä¼šè¢«catchæ•è·åˆ°</span></span><br><span class="line">.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;data&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">then</span>()</span><br><span class="line">.<span class="title function_">then</span>(<span class="literal">null</span>, <span class="keyword">function</span>(<span class="params">err</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;then&#x27;</span>, err)<span class="comment">// then error</span></span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">catch</span>(<span class="keyword">function</span>(<span class="params">err</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;error&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>Promiseä¸ä»…èƒ½å¤Ÿæ•è·é”™è¯¯ï¼Œè€Œä¸”ä¹Ÿå¾ˆå¥½åœ°è§£å†³äº†å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼Œå¯ä»¥æŠŠä¹‹å‰çš„å›è°ƒåœ°ç‹±ä¾‹å­æ”¹å†™ä¸ºå¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">ajax</span>(url)</span><br><span class="line">.<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">ajax</span>(url1)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">ajax</span>(url2)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(res))</span><br></pre></td></tr></table></figure><p>å®ƒä¹Ÿæ˜¯å­˜åœ¨ä¸€äº›ç¼ºç‚¹çš„ï¼Œæ¯”å¦‚æ— æ³•å–æ¶ˆ Promiseï¼Œé”™è¯¯éœ€è¦é€šè¿‡å›è°ƒå‡½æ•°æ•è·ã€‚</p></li></ul><ol><li><p>ç”Ÿæˆå™¨Generators&#x2F; yield</p><p>Generator å‡½æ•°æ˜¯ ES6 æä¾›çš„ä¸€ç§å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆï¼Œè¯­æ³•è¡Œä¸ºä¸ä¼ ç»Ÿå‡½æ•°å®Œå…¨ä¸åŒï¼ŒGenerator æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å¯ä»¥æ§åˆ¶å‡½æ•°çš„æ‰§è¡Œã€‚</p><ul><li><p>è¯­æ³•ä¸Šï¼Œé¦–å…ˆå¯ä»¥æŠŠå®ƒç†è§£æˆï¼ŒGenerator å‡½æ•°æ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œå°è£…äº†å¤šä¸ªå†…éƒ¨çŠ¶æ€ã€‚</p></li><li><p><strong>Generator å‡½æ•°é™¤äº†çŠ¶æ€æœºï¼Œè¿˜æ˜¯ä¸€ä¸ªéå†å™¨å¯¹è±¡ç”Ÿæˆå‡½æ•°</strong>ã€‚</p></li><li><p><strong>å¯æš‚åœå‡½æ•°, yieldå¯æš‚åœï¼Œnextæ–¹æ³•å¯å¯åŠ¨ï¼Œæ¯æ¬¡è¿”å›çš„æ˜¯yieldåçš„è¡¨è¾¾å¼ç»“æœ</strong>ã€‚</p></li><li><p>yieldè¡¨è¾¾å¼æœ¬èº«æ²¡æœ‰è¿”å›å€¼ï¼Œæˆ–è€…è¯´æ€»æ˜¯è¿”å›undefinedã€‚<strong>nextæ–¹æ³•å¯ä»¥å¸¦ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°å°±ä¼šè¢«å½“ä½œä¸Šä¸€ä¸ªyieldè¡¨è¾¾å¼çš„è¿”å›å€¼</strong>ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸ªä¾‹å­ï¼š</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> *<span class="title function_">foo</span>(<span class="params">x</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> y = <span class="number">2</span> * (<span class="keyword">yield</span> (x + <span class="number">1</span>))</span><br><span class="line">  <span class="keyword">let</span> z = <span class="keyword">yield</span> (y / <span class="number">3</span>)</span><br><span class="line">  <span class="keyword">return</span> (x + y + z)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> it = <span class="title function_">foo</span>(<span class="number">5</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(it.<span class="title function_">next</span>())   <span class="comment">// =&gt; &#123;value: 6, done: false&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(it.<span class="title function_">next</span>(<span class="number">12</span>)) <span class="comment">// =&gt; &#123;value: 8, done: false&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(it.<span class="title function_">next</span>(<span class="number">13</span>)) <span class="comment">// =&gt; &#123;value: 42, done: true&#125;</span></span><br></pre></td></tr></table></figure><p>å¯èƒ½ç»“æœè·Ÿä½ æƒ³è±¡ä¸ä¸€è‡´ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬é€è¡Œä»£ç åˆ†æï¼š</p><ul><li><p>é¦–å…ˆ Generator å‡½æ•°è°ƒç”¨å’Œæ™®é€šå‡½æ•°ä¸åŒï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªè¿­ä»£å™¨</p></li><li><p>å½“æ‰§è¡Œç¬¬ä¸€æ¬¡ next æ—¶ï¼Œä¼ å‚ä¼šè¢«å¿½ç•¥ï¼Œå¹¶ä¸”å‡½æ•°æš‚åœåœ¨ yield (x + 1) å¤„ï¼Œæ‰€ä»¥è¿”å› 5 + 1 &#x3D; 6</p></li><li><p>å½“æ‰§è¡Œç¬¬äºŒæ¬¡ next æ—¶ï¼Œä¼ å…¥çš„å‚æ•°12å°±ä¼šè¢«å½“ä½œä¸Šä¸€ä¸ªyieldè¡¨è¾¾å¼çš„è¿”å›å€¼ï¼Œå¦‚æœä½ ä¸ä¼ å‚ï¼Œyield æ°¸è¿œè¿”å› undefinedã€‚æ­¤æ—¶ let y &#x3D; 2 * 12ï¼Œæ‰€ä»¥ç¬¬äºŒä¸ª yield ç­‰äº 2 * 12 &#x2F; 3 &#x3D; 8</p></li><li><p>å½“æ‰§è¡Œç¬¬ä¸‰æ¬¡ next æ—¶ï¼Œä¼ å…¥çš„å‚æ•°13å°±ä¼šè¢«å½“ä½œä¸Šä¸€ä¸ªyieldè¡¨è¾¾å¼çš„è¿”å›å€¼ï¼Œæ‰€ä»¥ z &#x3D; 13, x &#x3D; 5, y &#x3D; 24ï¼Œç›¸åŠ ç­‰äº 42</p><p>æˆ‘ä»¬å†æ¥çœ‹ä¸ªä¾‹å­ï¼šæœ‰ä¸‰ä¸ªæœ¬åœ°æ–‡ä»¶ï¼Œåˆ†åˆ«1.txt,2.txtå’Œ3.txtï¼Œå†…å®¹éƒ½åªæœ‰ä¸€å¥è¯ï¼Œä¸‹ä¸€ä¸ªè¯·æ±‚ä¾èµ–ä¸Šä¸€ä¸ªè¯·æ±‚çš„ç»“æœï¼Œæƒ³é€šè¿‡Generatorå‡½æ•°ä¾æ¬¡è°ƒç”¨ä¸‰ä¸ªæ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.txt</span><br><span class="line">//1.txtæ–‡ä»¶</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2.txt</span><br><span class="line">//2.txtæ–‡ä»¶</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3.txt</span><br><span class="line">//3.txtæ–‡ä»¶</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">read</span>(<span class="params">file</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    fs.<span class="title function_">readFile</span>(file, <span class="string">&#x27;utf8&#x27;</span>, <span class="keyword">function</span>(<span class="params">err, data</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (err) <span class="title function_">reject</span>(err)</span><br><span class="line">      <span class="title function_">resolve</span>(data)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span>* <span class="title function_">r</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> r1 = <span class="keyword">yield</span> <span class="title function_">read</span>(<span class="string">&#x27;./1.txt&#x27;</span>)</span><br><span class="line">  <span class="keyword">let</span> r2 = <span class="keyword">yield</span> <span class="title function_">read</span>(r1)</span><br><span class="line">  <span class="keyword">let</span> r3 = <span class="keyword">yield</span> <span class="title function_">read</span>(r2)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(r1)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(r2)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(r3)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> it = <span class="title function_">r</span>()</span><br><span class="line"><span class="keyword">let</span> &#123; value, done &#125; = it.<span class="title function_">next</span>()</span><br><span class="line">value.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">data</span>) &#123; <span class="comment">// valueæ˜¯ä¸ªpromise</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(data) <span class="comment">//data=&gt;2.txt</span></span><br><span class="line">  <span class="keyword">let</span> &#123; value, done &#125; = it.<span class="title function_">next</span>(data)</span><br><span class="line">  value.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data) <span class="comment">//data=&gt;3.txt</span></span><br><span class="line">    <span class="keyword">let</span> &#123; value, done &#125; = it.<span class="title function_">next</span>(data)</span><br><span class="line">    value.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(data) <span class="comment">//data=&gt;ç»“æŸ</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><p>ä»ä¸Šä¾‹ä¸­æˆ‘ä»¬çœ‹å‡ºæ‰‹åŠ¨è¿­ä»£Generatorå‡½æ•°å¾ˆéº»çƒ¦ï¼Œå®ç°é€»è¾‘æœ‰ç‚¹ç»•ï¼Œè€Œå®é™…å¼€å‘ä¸€èˆ¬ä¼šé…åˆcoåº“å»ä½¿ç”¨ã€‚<strong>coæ˜¯ä¸€ä¸ªä¸ºNode.jså’Œæµè§ˆå™¨æ‰“é€ çš„åŸºäºç”Ÿæˆå™¨çš„æµç¨‹æ§åˆ¶å·¥å…·ï¼Œå€ŸåŠ©äºPromiseï¼Œä½ å¯ä»¥ä½¿ç”¨æ›´åŠ ä¼˜é›…çš„æ–¹å¼ç¼–å†™éé˜»å¡ä»£ç </strong>ã€‚</p><p>å®‰è£…coåº“åªéœ€ï¼šnpm install co</p><p>ä¸Šé¢ä¾‹å­åªéœ€ä¸¤å¥è¯å°±å¯ä»¥è½»æ¾å®ç°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>* <span class="title function_">r</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> r1 = <span class="keyword">yield</span> <span class="title function_">read</span>(<span class="string">&#x27;./1.txt&#x27;</span>)</span><br><span class="line">  <span class="keyword">let</span> r2 = <span class="keyword">yield</span> <span class="title function_">read</span>(r1)</span><br><span class="line">  <span class="keyword">let</span> r3 = <span class="keyword">yield</span> <span class="title function_">read</span>(r2)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(r1)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(r2)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(r3)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> co = <span class="built_in">require</span>(<span class="string">&#x27;co&#x27;</span>)</span><br><span class="line"><span class="title function_">co</span>(<span class="title function_">r</span>()).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 2.txt=&gt;3.txt=&gt;ç»“æŸ=&gt;undefined</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ Generator å‡½æ•°è§£å†³å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼Œå¯ä»¥æŠŠä¹‹å‰çš„å›è°ƒåœ°ç‹±ä¾‹å­æ”¹å†™ä¸ºå¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> *<span class="title function_">fetch</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="title function_">ajax</span>(url, <span class="function">() =&gt;</span> &#123;&#125;)</span><br><span class="line">    <span class="keyword">yield</span> <span class="title function_">ajax</span>(url1, <span class="function">() =&gt;</span> &#123;&#125;)</span><br><span class="line">    <span class="keyword">yield</span> <span class="title function_">ajax</span>(url2, <span class="function">() =&gt;</span> &#123;&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> it = <span class="title function_">fetch</span>()</span><br><span class="line"><span class="keyword">let</span> result1 = it.<span class="title function_">next</span>()</span><br><span class="line"><span class="keyword">let</span> result2 = it.<span class="title function_">next</span>()</span><br><span class="line"><span class="keyword">let</span> result3 = it.<span class="title function_">next</span>()</span><br></pre></td></tr></table></figure></li><li><p>async&#x2F;await</p><p>5.1 Async&#x2F;Awaitç®€ä»‹</p><p>ä½¿ç”¨async&#x2F;awaitï¼Œä½ å¯ä»¥è½»æ¾åœ°è¾¾æˆä¹‹å‰ä½¿ç”¨ç”Ÿæˆå™¨å’Œcoå‡½æ•°æ‰€åšåˆ°çš„å·¥ä½œ,å®ƒæœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p><p>\1. async&#x2F;awaitæ˜¯åŸºäºPromiseå®ç°çš„ï¼Œå®ƒä¸èƒ½ç”¨äºæ™®é€šçš„å›è°ƒå‡½æ•°ã€‚</p><p>\2. async&#x2F;awaitä¸Promiseä¸€æ ·ï¼Œæ˜¯éé˜»å¡çš„ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3. async/awaitä½¿å¾—å¼‚æ­¥ä»£ç çœ‹èµ·æ¥åƒåŒæ­¥ä»£ç ï¼Œè¿™æ­£æ˜¯å®ƒçš„é­”åŠ›æ‰€åœ¨ã€‚</span><br></pre></td></tr></table></figure></li></ol><p><strong>ä¸€ä¸ªå‡½æ•°å¦‚æœåŠ ä¸Š async ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°å°±ä¼šè¿”å›ä¸€ä¸ª Promise</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;1&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">async1</span>()) <span class="comment">// -&gt; Promise &#123;&lt;resolved&gt;: &quot;1&quot;&#125;</span></span><br></pre></td></tr></table></figure><p>Generatorå‡½æ•°ä¾æ¬¡è°ƒç”¨ä¸‰ä¸ªæ–‡ä»¶é‚£ä¸ªä¾‹å­ç”¨async&#x2F;awaitå†™æ³•ï¼Œåªéœ€å‡ å¥è¯ä¾¿å¯å®ç°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">read</span>(<span class="params">file</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    fs.<span class="title function_">readFile</span>(file, <span class="string">&#x27;utf8&#x27;</span>, <span class="keyword">function</span>(<span class="params">err, data</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (err) <span class="title function_">reject</span>(err)</span><br><span class="line">      <span class="title function_">resolve</span>(data)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">readResult</span>(<span class="params">params</span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> p1 = <span class="keyword">await</span> <span class="title function_">read</span>(params, <span class="string">&#x27;utf8&#x27;</span>)<span class="comment">//awaitåé¢è·Ÿçš„æ˜¯ä¸€ä¸ªPromiseå®ä¾‹</span></span><br><span class="line">    <span class="keyword">let</span> p2 = <span class="keyword">await</span> <span class="title function_">read</span>(p1, <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    <span class="keyword">let</span> p3 = <span class="keyword">await</span> <span class="title function_">read</span>(p2, <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;p1&#x27;</span>, p1)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;p2&#x27;</span>, p2)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;p3&#x27;</span>, p3)</span><br><span class="line">    <span class="keyword">return</span> p3</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">readResult</span>(<span class="string">&#x27;1.txt&#x27;</span>).<span class="title function_">then</span>( <span class="comment">// asyncå‡½æ•°è¿”å›çš„ä¹Ÿæ˜¯ä¸ªpromise</span></span><br><span class="line">  <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="params">err</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">)</span><br><span class="line"><span class="comment">// p1 2.txt</span></span><br><span class="line"><span class="comment">// p2 3.txt</span></span><br><span class="line"><span class="comment">// p3 ç»“æŸ</span></span><br><span class="line"><span class="comment">// ç»“æŸ</span></span><br></pre></td></tr></table></figure><p>5.2 Async&#x2F;Awaitå¹¶å‘è¯·æ±‚</p><p>å¦‚æœè¯·æ±‚ä¸¤ä¸ªæ–‡ä»¶ï¼Œæ¯«æ— å…³ç³»ï¼Œå¯ä»¥é€šè¿‡å¹¶å‘è¯·æ±‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">read</span>(<span class="params">file</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    fs.<span class="title function_">readFile</span>(file, <span class="string">&#x27;utf8&#x27;</span>, <span class="keyword">function</span>(<span class="params">err, data</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (err) <span class="title function_">reject</span>(err)</span><br><span class="line">      <span class="title function_">resolve</span>(data)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">readAll</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">read1</span>()</span><br><span class="line">  <span class="title function_">read2</span>()<span class="comment">//è¿™ä¸ªå‡½æ•°åŒæ­¥æ‰§è¡Œ</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">read1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> r = <span class="keyword">await</span> <span class="title function_">read</span>(<span class="string">&#x27;1.txt&#x27;</span>,<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(r)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">read2</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> r = <span class="keyword">await</span> <span class="title function_">read</span>(<span class="string">&#x27;2.txt&#x27;</span>,<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(r)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">readAll</span>() <span class="comment">// 2.txt 3.txt</span></span><br></pre></td></tr></table></figure><h4 id="3-5-æ€ä¹ˆè§£å†³callbackå¤šå±‚åµŒå¥—"><a href="#3-5-æ€ä¹ˆè§£å†³callbackå¤šå±‚åµŒå¥—" class="headerlink" title="3.5 æ€ä¹ˆè§£å†³callbackå¤šå±‚åµŒå¥—"></a>3.5 æ€ä¹ˆè§£å†³callbackå¤šå±‚åµŒå¥—</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>å›è°ƒåœ°ç‹±æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š</p><ol><li>Promises</li><li>Async&#x2F;await</li></ol><h4 id="3-6-promiseçš„ä»‹ç»ä¸ä½¿ç”¨"><a href="#3-6-promiseçš„ä»‹ç»ä¸ä½¿ç”¨" class="headerlink" title="3.6 promiseçš„ä»‹ç»ä¸ä½¿ç”¨"></a>3.6 promiseçš„ä»‹ç»ä¸ä½¿ç”¨</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p><strong>Promise ä»‹ç»ï¼š</strong></p><p>ES6ä¸­çš„Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§æ–¹æ¡ˆã€‚ä»è¯­æ³•ä¸Šè®²ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚</p><p>Promiseå¯¹è±¡, å¯ä»¥<strong>å°†å¼‚æ­¥æ“ä½œä»¥åŒæ­¥çš„æµç¨‹è¡¨è¾¾å‡ºæ¥</strong>ã€‚ä½¿ç”¨ Promise ä¸»è¦æœ‰ä»¥ä¸‹å¥½å¤„ï¼š</p><ul><li>å¯ä»¥å¾ˆå¥½åœ°è§£å†³<strong>å›è°ƒåœ°ç‹±</strong>çš„é—®é¢˜ï¼ˆé¿å…äº†å±‚å±‚åµŒå¥—çš„å›è°ƒå‡½æ•°ï¼‰ã€‚</li><li>è¯­æ³•éå¸¸ç®€æ´ã€‚Promise å¯¹è±¡æä¾›äº†ç®€æ´çš„APIï¼Œä½¿å¾—æ§åˆ¶å¼‚æ­¥æ“ä½œæ›´åŠ å®¹æ˜“ã€‚</li></ul><p><strong>Promise ä½¿ç”¨ï¼š</strong></p><p><strong>è¯­æ³•</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;<span class="comment">/* executorå‡½æ•° */</span></span><br><span class="line">    <span class="comment">// ... some code</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="comment">/* å¼‚æ­¥æ“ä½œæˆåŠŸ */</span>)&#123;</span><br><span class="line">        <span class="title function_">resolve</span>(value);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">reject</span>(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">promise.<span class="title function_">then</span>(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//success</span></span><br><span class="line">&#125;, <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//failure</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>å‚æ•°<br>executorå‡½æ•°åœ¨Promiseæ„é€ å‡½æ•°æ‰§è¡Œæ—¶åŒæ­¥æ‰§è¡Œï¼Œè¢«ä¼ é€’resolveå’Œrejectå‡½æ•°ï¼ˆexecutorå‡½æ•°åœ¨Promiseæ„é€ å‡½æ•°è¿”å›æ–°å»ºå¯¹è±¡å‰è¢«è°ƒç”¨ï¼‰ã€‚<br>executorå†…éƒ¨é€šå¸¸ä¼šæ‰§è¡Œä¸€äº›å¼‚æ­¥æ“ä½œï¼Œä¸€æ—¦å®Œæˆï¼Œå¯ä»¥è°ƒç”¨resolveå‡½æ•°æ¥å°†promiseçŠ¶æ€æ”¹æˆfulfilled(å®Œæˆ)ï¼Œæˆ–è€…å°†promiseçš„çŠ¶æ€æ”¹ä¸ºrejected(å¤±è´¥)ã€‚<br>å¦‚æœåœ¨executorå‡½æ•°ä¸­æŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œé‚£ä¹ˆè¯¥promiseçŠ¶æ€ä¸ºrejectedã€‚executorå‡½æ•°çš„è¿”å›å€¼è¢«å¿½ç•¥ã€‚</li><li>ç®€å•ä½¿ç”¨</li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">timeout</span>(<span class="params">ms</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(resolve, ms, <span class="string">&#x27;done&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">timeout</span>(<span class="number">2000</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value); <span class="comment">//done</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong>åŸå‹æ–¹æ³•</strong></p><p>Promise.prototype.then(onFulfilled, onRejected)</p><ol><li><p>è¯­æ³•<br>p.then(onFulfilled, onRejected);<br>p.then((value) &#x3D;&gt; {&#x2F;&#x2F; fulfillment}, (reason) &#x3D;&gt; {&#x2F;&#x2F; rejection});</p></li><li><p>å«ä¹‰<br>ä¸ºPromiseå®ä¾‹æ·»åŠ çŠ¶æ€æ”¹å˜æ—¶çš„å›è°ƒå‡½æ•°ã€‚thenæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯resolvedçŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ï¼ˆå¯é€‰ï¼‰æ˜¯rejectedçŠ¶æ€çš„å›è°ƒå‡½æ•°ã€‚</p></li><li><p>é“¾å¼æ“ä½œ<br>thenæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„promiseï¼Œå› æ­¤å¯ä»¥é‡‡ç”¨é“¾å¼å†™æ³•ï¼Œå³thenæ–¹æ³•åé¢å†è°ƒç”¨å¦ä¸€ä¸ªthenæ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="number">1</span>);</span><br><span class="line">&#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(result)) <span class="comment">//1</span></span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(result);              <span class="comment">//undefined</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(result);             <span class="comment">//2</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;err&quot;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(result);            </span><br><span class="line">    &#125;, <span class="function">(<span class="params">err</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err);                <span class="comment">//Error: err</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(result);            <span class="comment">//3</span></span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šâ‘ ä¸ç®¡æ˜¯thenæ–¹æ³•çš„onfulfilledå‡½æ•°å‚æ•°æ‰§è¡Œè¿˜æ˜¯onrejectedï¼ˆå¯é€‰å‚æ•°ï¼‰å‡½æ•°å‚æ•°æ‰§è¡Œï¼Œthenæ–¹æ³•è¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªæ–°çš„Promiseå¯¹è±¡ï¼Œéƒ½å¯ä»¥ç»§ç»­é‡‡ç”¨é“¾å¼å†™æ³•è°ƒç”¨å¦ä¸€ä¸ªthenæ–¹æ³•ã€‚â‘¡Promise.prototype.catch()æ–¹æ³•è¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ã€‚thenæ–¹æ³•å’Œcatchæ–¹æ³•å¯ä»¥é“¾å¼æ“ä½œã€‚</p></li><li><p>è¿”å›å€¼<br>thenæ–¹æ³•è¿”å›ä¸€ä¸ªPromiseï¼Œè€Œå®ƒçš„è¡Œä¸ºä¸thenä¸­çš„è¢«è°ƒç”¨çš„å›è°ƒå‡½æ•°(onfulfilledå‡½æ•°&#x2F;onrejectedå‡½æ•°)çš„è¿”å›å€¼æœ‰å…³ã€‚<br>(1) å¦‚æœthenä¸­çš„å›è°ƒå‡½æ•°è¿”å›ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆthenè¿”å›çš„Promiseå°†ä¼šæˆä¸ºæ¥å—çŠ¶æ€ï¼Œå¹¶ä¸”å°†è¿”å›çš„å€¼ä½œä¸ºæ¥å—çŠ¶æ€çš„å›è°ƒå‡½æ•°çš„å‚æ•°å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">reject</span>();</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">then</span>( <span class="function">() =&gt;</span> <span class="number">99</span>, <span class="function">() =&gt;</span> <span class="number">42</span> )</span><br><span class="line">.<span class="title function_">then</span>( <span class="function"><span class="params">result</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(result)); <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><p>(2) å¦‚æœthenä¸­çš„å›è°ƒå‡½æ•°æŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œé‚£ä¹ˆthenè¿”å›çš„Promiseå°†ä¼šæˆä¸ºæ‹’ç»çŠ¶æ€ï¼Œå¹¶ä¸”å°†æŠ›å‡ºçš„é”™è¯¯ä½œä¸ºæ‹’ç»çŠ¶æ€çš„å›è°ƒå‡½æ•°çš„å‚æ•°å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>();</span><br><span class="line">&#125;)</span><br><span class="line">    .<span class="title function_">then</span>( <span class="function">() =&gt;</span> &#123;<span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;err&#x27;</span>)&#125;, <span class="function">() =&gt;</span> &#123;&#125;)</span><br><span class="line">    .<span class="title function_">then</span>( <span class="function">() =&gt;</span> &#123;&#125;, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(err)&#125;); <span class="comment">//Error: err</span></span><br></pre></td></tr></table></figure><p>(3) å¦‚æœthenä¸­çš„å›è°ƒå‡½æ•°è¿”å›ä¸€ä¸ªå·²ç»æ˜¯æ¥å—çŠ¶æ€çš„Promiseï¼Œé‚£ä¹ˆthenè¿”å›çš„Promiseä¹Ÿä¼šæˆä¸ºæ¥å—çŠ¶æ€ï¼Œå¹¶ä¸”å°†é‚£ä¸ªPromiseçš„æ¥å—çŠ¶æ€çš„å›è°ƒå‡½æ•°çš„å‚æ•°å€¼ä½œä¸ºè¯¥è¢«è¿”å›çš„Promiseçš„æ¥å—çŠ¶æ€å›è°ƒå‡½æ•°çš„å‚æ•°å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>();</span><br><span class="line">&#125;)</span><br><span class="line">    .<span class="title function_">then</span>( <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> <span class="title function_">resolve</span>(<span class="string">&#x27;ok&#x27;</span>));</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">then</span>( <span class="function">(<span class="params">result</span>) =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(result)&#125;); <span class="comment">//ok</span></span><br></pre></td></tr></table></figure><p>(4) å¦‚æœthenä¸­çš„å›è°ƒå‡½æ•°è¿”å›ä¸€ä¸ªå·²ç»æ˜¯æ‹’ç»çŠ¶æ€çš„Promiseï¼Œé‚£ä¹ˆthenè¿”å›çš„Promiseä¹Ÿä¼šæˆä¸ºæ‹’ç»çŠ¶æ€ï¼Œå¹¶ä¸”å°†é‚£ä¸ªPromiseçš„æ‹’ç»çŠ¶æ€çš„å›è°ƒå‡½æ•°çš„å‚æ•°å€¼ä½œä¸ºè¯¥è¢«è¿”å›çš„Promiseçš„æ‹’ç»çŠ¶æ€å›è°ƒå‡½æ•°çš„å‚æ•°å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>();</span><br><span class="line">&#125;)</span><br><span class="line">    .<span class="title function_">then</span>( <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">           <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;err&#x27;</span>));</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">then</span>( <span class="function">() =&gt;</span> &#123;&#125;, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(err)&#125;); <span class="comment">//Error: err</span></span><br></pre></td></tr></table></figure><p>(5) å¦‚æœthenä¸­çš„å›è°ƒå‡½æ•°è¿”å›ä¸€ä¸ªæœªå®šçŠ¶æ€ï¼ˆpendingï¼‰çš„Promiseï¼Œé‚£ä¹ˆthenè¿”å›Promiseçš„çŠ¶æ€ä¹Ÿæ˜¯æœªå®šçš„ï¼Œå¹¶ä¸”å®ƒçš„ç»ˆæ€ä¸é‚£ä¸ªPromiseçš„ç»ˆæ€ç›¸åŒï¼›åŒæ—¶ï¼Œå®ƒå˜ä¸ºç»ˆæ€æ—¶è°ƒç”¨çš„å›è°ƒå‡½æ•°å‚æ•°ä¸é‚£ä¸ªPromiseå˜ä¸ºç»ˆæ€æ—¶çš„å›è°ƒå‡½æ•°çš„å‚æ•°æ˜¯ç›¸åŒçš„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>();</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(resolve, <span class="number">2000</span>, <span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)</span><br><span class="line">.<span class="title function_">then</span>( <span class="function">(<span class="params">result</span>) =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(result)&#125;); <span class="comment">//ok</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šè¿™é‡Œæ˜¯thenæ–¹æ³•ä¸­è¢«è°ƒç”¨å›è°ƒå‡½æ•°çš„è¿”å›å€¼ä¸thenæ–¹æ³•è¿”å›çš„Promiseå¯¹è±¡çŠ¶æ€ä¹‹é—´çš„å…³ç³»ã€‚</p></li></ol><p><strong>Promise.prototype.catch(onRejected)</strong></p><ol><li><p>è¯­æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">p.<span class="title function_">catch</span>(onRejected);</span><br><span class="line"></span><br><span class="line">p.<span class="title function_">catch</span>(<span class="keyword">function</span>(<span class="params">reason</span>) &#123;</span><br><span class="line">    <span class="comment">// æ‹’ç»</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>å«ä¹‰<br>Promise.prototype.catchæ–¹æ³•æ˜¯.then(null, rejection)çš„åˆ«åï¼Œç”¨äºæŒ‡å®šå‘ç”Ÿé”™è¯¯æ—¶çš„å›è°ƒå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„promiseå¯¹è±¡ã€‚</p></li><li><p>ç”¨æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;err&#x27;</span>)); <span class="comment">//rejectæ–¹æ³•çš„ä½œç”¨ï¼Œç­‰åŒäºæŠ›å‡ºé”™è¯¯</span></span><br><span class="line">    <span class="comment">//throw new Error(&#x27;err&#x27;);</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">p.<span class="title function_">then</span>(<span class="literal">null</span>, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err);  <span class="comment">//Err: err</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//--------ç­‰ä»·å†™æ³•---------</span></span><br><span class="line">p.<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err); <span class="comment">//Err: err</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šç”±äº.catchæ–¹æ³•æ˜¯.then(null, rejection)çš„åˆ«åï¼Œæ•….thenä¸­çš„é“¾å¼æ“ä½œ(3)ã€è¿”å›å€¼(4)ç­‰è¯­æ³•åœ¨.catchä¸­éƒ½é€‚ç”¨ã€‚</p></li><li><p>ä¸€èˆ¬æ€»æ˜¯å»ºè®®ï¼ŒPromiseå¯¹è±¡åé¢è¦è·Ÿcatchæ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥å¤„ç†Promiseå†…éƒ¨å‘ç”Ÿçš„é”™è¯¯ã€‚catchæ–¹æ³•è¿”å›çš„è¿˜æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œå› æ­¤åé¢è¿˜å¯ä»¥æ¥ç€è°ƒç”¨thenæ–¹æ³•ã€‚</p></li><li><p>Promiseå¯¹è±¡çš„é”™è¯¯å…·æœ‰â€œå†’æ³¡â€æ€§è´¨ï¼Œä¼šä¸€ç›´å‘åä¼ é€’ï¼Œç›´åˆ°è¢«æ•è·ä¸ºæ­¢ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé”™è¯¯æ€»æ˜¯ä¼šè¢«ä¸‹ä¸€ä¸ªcatchè¯­å¥æ•è·ã€‚ å³ï¼šå½“å‰catchæ–¹æ³•å¯ä»¥æ•è·ä¸Šä¸€ä¸ªcatchæ–¹æ³•(åŒ…æ‹¬ä¸Šä¸€ä¸ªcatch)åˆ°å½“å‰catch(ä¸åŒ…æ‹¬å½“å‰catch)æ–¹æ³•ä¹‹é—´æ‰€æœ‰çš„é”™è¯¯ï¼Œå¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œåˆ™å½“å‰catchæ–¹æ³•ä¸æ‰§è¡Œã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">new Promise(() =&gt; &#123;</span><br><span class="line">    throw new Error(&#x27;err1&#x27;);</span><br><span class="line">&#125;)</span><br><span class="line">    .then(() =&gt; &#123;console.log(1);&#125;)</span><br><span class="line">    .then(() =&gt; &#123;console.log(2);&#125;)</span><br><span class="line">    .catch((err) =&gt; &#123;</span><br><span class="line">        console.log(err); //Err: err1</span><br><span class="line">        throw  new Error(&#x27;err2&#x27;);</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch((err) =&gt; &#123;console.log(err);&#125;)//Err: err2</span><br></pre></td></tr></table></figure></li><li><p>ä¸€èˆ¬æ¥è¯´ï¼Œä¸è¦åœ¨thenæ–¹æ³•é‡Œé¢å®šä¹‰RejectçŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼ˆå³thençš„ç¬¬äºŒä¸ªå‚æ•°ï¼‰ï¼Œæ€»æ˜¯ä½¿ç”¨catchæ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>()</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;<span class="comment">/* success */</span> &#125;, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;<span class="comment">/* error */</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>()</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123; <span class="comment">/* success */</span> &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;<span class="comment">/* error */</span> &#125;);</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬äºŒç§å†™æ³•è¦å¥½äºç¬¬ä¸€ç§å†™æ³•ï¼Œç†ç”±æ˜¯ç¬¬äºŒç§å†™æ³•å¯ä»¥æ•è·å‰é¢thenæ–¹æ³•æ‰§è¡Œä¸­çš„é”™è¯¯ï¼Œä¹Ÿæ›´æ¥è¿‘åŒæ­¥çš„å†™æ³•ã€‚</p></li><li><p>ä¸ä¼ ç»Ÿçš„try&#x2F;catchä»£ç å—ä¸åŒçš„æ˜¯ï¼Œå³ä½¿æ²¡æœ‰ä½¿ç”¨catchæ–¹æ³•æŒ‡å®šé”™è¯¯å¤„ç†çš„å›è°ƒå‡½æ•°ï¼ŒPromiseå¯¹è±¡æŠ›å‡ºçš„é”™è¯¯ä¹Ÿä¸ä¼šä¸­æ­¢å¤–éƒ¨è„šæœ¬è¿è¡Œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ä¸‹é¢ä¸€è¡Œä¼šæŠ¥é”™ï¼Œå› ä¸ºxæ²¡æœ‰å£°æ˜</span></span><br><span class="line">    <span class="title function_">resolve</span>(x + <span class="number">2</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;over&#x27;</span>)&#125;);</span><br><span class="line"><span class="comment">//Uncaught (in promise) ReferenceError: x is not defined</span></span><br><span class="line"><span class="comment">//over</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨å¼‚æ­¥å‡½æ•°ä¸­æŠ›å‡ºçš„é”™è¯¯ä¸ä¼šè¢«catchæ•è·åˆ°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">        throw &#x27;Uncaught Exception!&#x27;;</span><br><span class="line">    &#125;, 1000);</span><br><span class="line">&#125;).catch(() =&gt; &#123;</span><br><span class="line">    console.log(&#x27;err&#x27;); //ä¸ä¼šæ‰§è¡Œ</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">        reject();</span><br><span class="line">    &#125;, 1000);</span><br><span class="line">&#125;).catch(() =&gt; &#123;</span><br><span class="line">    console.log(&#x27;err&#x27;); //err</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>åœ¨resolve()åé¢æŠ›å‡ºçš„é”™è¯¯ä¼šè¢«å¿½ç•¥</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>();</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">&#x27;Silenced Exception!&#x27;</span>;</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e); <span class="comment">// ä¸ä¼šæ‰§è¡Œ</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li></ol><p><strong>Promise.all(iterable)</strong></p><ol><li><p>è¯­æ³•<br>var p &#x3D; Promise.all([p1, p2, p3]);</p></li><li><p>å«ä¹‰<br>Promise.allæ–¹æ³•æ¥å—ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•°ï¼Œp1ã€p2ã€p3éƒ½æ˜¯Promiseå®ä¾‹ï¼Œå¦‚æœä¸æ˜¯ï¼Œå°±ä¼šå…ˆè°ƒç”¨ä¸‹é¢è®²åˆ°çš„Promise.resolveæ–¹æ³•ï¼Œå°†å‚æ•°è½¬ä¸ºPromiseå®ä¾‹ï¼Œå†è¿›ä¸€æ­¥å¤„ç†ã€‚ï¼ˆPromise.allæ–¹æ³•çš„å‚æ•°å¯ä»¥ä¸æ˜¯æ•°ç»„ï¼Œä½†å¿…é¡»å…·æœ‰Iteratoræ¥å£ï¼Œä¸”è¿”å›çš„æ¯ä¸ªæˆå‘˜éƒ½æ˜¯Promiseå®ä¾‹ã€‚ï¼‰<br>pçš„çŠ¶æ€ç”±p1ã€p2ã€p3å†³å®šï¼Œåˆ†æˆä¸¤ç§æƒ…å†µã€‚<br>(1) åªæœ‰p1ã€p2ã€p3çš„çŠ¶æ€éƒ½å˜æˆfulfilledï¼Œpçš„çŠ¶æ€æ‰ä¼šå˜æˆfulfilledï¼Œæ­¤æ—¶p1ã€p2ã€p3çš„è¿”å›å€¼ç»„æˆä¸€ä¸ªæ•°ç»„ï¼Œä¼ é€’ç»™pçš„å›è°ƒå‡½æ•°ã€‚<br>(2) åªè¦p1ã€p2ã€p3ä¹‹ä¸­æœ‰ä¸€ä¸ªè¢«rejectedï¼Œpçš„çŠ¶æ€å°±å˜æˆrejectedï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªè¢«rejectçš„å®ä¾‹çš„è¿”å›å€¼ï¼Œä¼šä¼ é€’ç»™pçš„å›è°ƒå‡½æ•°ã€‚</p></li><li><p>ç”¨æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="string">&#x27;p1-ok&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;p2-ok&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> p3 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> <span class="built_in">setTimeout</span>(resolve, <span class="number">3000</span>, <span class="string">&#x27;p3-ok&#x27;</span>));</span><br><span class="line"><span class="keyword">const</span> p4 = <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="string">&#x27;p4-err&#x27;</span>);</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>([p1, p2, p3])</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">resolves</span>) =&gt;</span> &#123;</span><br><span class="line">      resolves.<span class="title function_">forEach</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(resolve); <span class="comment">//p1-ok   p2-ok  p3-ok</span></span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;err&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">all</span>([p1, p2, p3, p4])</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(err); <span class="comment">//p4-err</span></span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure></li></ol><p><strong>Promise.race(iterable)</strong></p><ol><li><p>è¯­æ³•<br>var p &#x3D; Promise.race([p1, p2, p3]);</p></li><li><p>å«ä¹‰<br>Promise.raceæ–¹æ³•åŒæ ·æ˜¯å°†å¤šä¸ªPromiseå®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„Promiseå®ä¾‹ã€‚åªè¦p1ã€p2ã€p3ä¹‹ä¸­æœ‰ä¸€ä¸ªå®ä¾‹ç‡å…ˆæ”¹å˜çŠ¶æ€ï¼Œpçš„çŠ¶æ€å°±è·Ÿç€æ”¹å˜ã€‚é‚£ä¸ªç‡å…ˆæ”¹å˜çš„Promiseå®ä¾‹çš„è¿”å›å€¼ï¼Œå°±ä¼ é€’ç»™pçš„å›è°ƒå‡½æ•°ã€‚<br>Promise.raceæ–¹æ³•çš„å‚æ•°ä¸Promise.allæ–¹æ³•ä¸€æ ·ï¼Œå¦‚æœä¸æ˜¯Promiseå®ä¾‹ï¼Œå°±ä¼šå…ˆè°ƒç”¨ä¸‹é¢è®²åˆ°çš„Promise.resolveæ–¹æ³•ï¼Œå°†å‚æ•°è½¬ä¸ºPromiseå®ä¾‹ï¼Œå†è¿›ä¸€æ­¥å¤„ç†ã€‚</p></li><li><p>ç”¨æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;<span class="built_in">setTimeout</span>(resolve, <span class="number">500</span>, <span class="string">&quot;one&quot;</span>);&#125;);</span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;<span class="built_in">setTimeout</span>(resolve, <span class="number">100</span>, <span class="string">&quot;two&quot;</span>);&#125;);</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">race</span>([p1, p2])</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(value); <span class="comment">// &quot;two&quot;</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p3 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;<span class="built_in">setTimeout</span>(resolve, <span class="number">100</span>, <span class="string">&quot;three&quot;</span>);&#125;);</span><br><span class="line"><span class="keyword">var</span> p4 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;<span class="built_in">setTimeout</span>(reject, <span class="number">500</span>, <span class="string">&quot;four&quot;</span>);&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">race</span>([p3, p4])</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(value); <span class="comment">// &quot;three&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// æœªè¢«è°ƒç”¨  </span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p5 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;<span class="built_in">setTimeout</span>(resolve, <span class="number">500</span>, <span class="string">&quot;five&quot;</span>);&#125;);</span><br><span class="line"><span class="keyword">var</span> p6 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">setTimeout</span>(reject, <span class="number">100</span>, <span class="string">&quot;six&quot;</span>);</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">race</span>([p5, p6])</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// æœªè¢«è°ƒç”¨             </span></span><br><span class="line">    &#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">reason</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(reason); <span class="comment">// &quot;six&quot;</span></span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure></li></ol><p><strong>Promise.resolve(value)</strong></p><ol><li><p>è¯­æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>(value);</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>(promise);</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>(thenable);</span><br></pre></td></tr></table></figure><p>Promise.resolveç­‰ä»·äºä¸‹é¢çš„å†™æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>(value) ;</span><br><span class="line"><span class="comment">// ç­‰ä»·äº</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> <span class="title function_">resolve</span>(value));</span><br></pre></td></tr></table></figure></li><li><p>å«ä¹‰<br>è¿”å›ä¸€ä¸ªçŠ¶æ€ç”±ç»™å®švalueå†³å®šçš„Promiseå®ä¾‹ã€‚</p></li><li><p>ç”¨æ³•<br>(1) å¦‚æœè¯¥å€¼æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œåˆ™ç›´æ¥è¿”å›è¯¥å¯¹è±¡ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;<span class="title function_">resolve</span>()&#125;);</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(p);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p === p2); <span class="comment">//true</span></span><br></pre></td></tr></table></figure><p>(2) å¦‚æœå‚æ•°æ˜¯thenableå¯¹è±¡(å³å¸¦æœ‰thenæ–¹æ³•çš„å¯¹è±¡)ï¼Œåˆ™è¿”å›çš„Promiseå¯¹è±¡çš„æœ€ç»ˆçŠ¶æ€ç”±thenæ–¹æ³•çš„æ‰§è¡Œå†³å®šï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> thenable = &#123;</span><br><span class="line">    <span class="title function_">then</span>(<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="number">42</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>(thenable)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(value);  <span class="comment">// 42</span></span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><p>(3) å¦‚æœå‚æ•°æ˜¯ä¸å…·æœ‰thenæ–¹æ³•çš„å¯¹è±¡æˆ–åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ™è¿”å›çš„Promiseå¯¹è±¡çš„çŠ¶æ€ä¸ºfulfilledï¼Œå¹¶ä¸”å°†è¯¥å‚æ•°ä¼ é€’ç»™thenæ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;Hello&#x27;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">s</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(s); <span class="comment">//Hello</span></span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><p>(4) å¦‚æœä¸å¸¦æœ‰ä»»ä½•å‚æ•°ï¼Œåˆ™è¿”å›çš„Promiseå¯¹è±¡çš„çŠ¶æ€ä¸ºfulfilledï¼Œå¹¶ä¸”å°†undefinedä½œä¸ºå‚æ•°ä¼ é€’ç»™thenæ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>()</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">s</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(s); <span class="comment">//undefined</span></span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure></li><li><p>é€šå¸¸è€Œè¨€ï¼Œå¦‚æœä½ ä¸çŸ¥é“ä¸€ä¸ªå€¼æ˜¯å¦æ˜¯Promiseå¯¹è±¡ï¼Œä½¿ç”¨Promise.resolve(value)æ¥è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡,è¿™æ ·å°±èƒ½å°†è¯¥valueä»¥Promiseå¯¹è±¡å½¢å¼ä½¿ç”¨ã€‚</p></li><li><p>ç«‹å³resolveçš„Promiseå¯¹è±¡ï¼Œæ˜¯åœ¨æœ¬è½®â€œäº‹ä»¶å¾ªç¯â€ï¼ˆevent loopï¼‰çš„ç»“æŸæ—¶ï¼Œè€Œä¸æ˜¯åœ¨ä¸‹ä¸€è½®â€œäº‹ä»¶å¾ªç¯â€çš„å¼€å§‹æ—¶ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;three&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>( <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;two&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;one&#x27;</span>);</span><br><span class="line"><span class="comment">// one </span></span><br><span class="line"><span class="comment">// two</span></span><br><span class="line"><span class="comment">// three</span></span><br></pre></td></tr></table></figure></li></ol><p><strong>Promise.reject(reason)</strong></p><ol><li><p>è¯­æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Promise</span>.<span class="title function_">reject</span>(reason);</span><br></pre></td></tr></table></figure><p>Promise.rejectç­‰ä»·äºä¸‹é¢çš„å†™æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = <span class="title class_">Promise</span>.<span class="title function_">reject</span>(reason);</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> <span class="title function_">reject</span>(reason));</span><br></pre></td></tr></table></figure></li><li><p>å«ä¹‰<br>è¿”å›ä¸€ä¸ªçŠ¶æ€ä¸ºrejectedçš„Promiseå¯¹è±¡ï¼Œå¹¶å°†ç»™å®šçš„å¤±è´¥ä¿¡æ¯ä¼ é€’ç»™å¯¹åº”çš„å¤„ç†æ–¹æ³•ã€‚</p></li></ol><blockquote><p><strong>æ³¨æ„ï¼šPromise.resolve(value)æ–¹æ³•è¿”å›çš„Promiseå®ä¾‹çš„çŠ¶æ€ç”±valueå†³å®šï¼Œå¯èƒ½æ˜¯fulfilledï¼Œä¹Ÿå¯èƒ½æ˜¯rejectedã€‚Promise.reject(reason)æ–¹æ³•è¿”å›çš„Promiseå®ä¾‹çš„çŠ¶æ€ä¸€å®šæ˜¯rejectedã€‚</strong></p></blockquote><ol><li><p>ç”¨æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="string">&quot;Testing static reject&quot;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// æœªè¢«è°ƒç”¨</span></span><br><span class="line">    &#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">reason</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(reason); <span class="comment">// Testing static reject</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;fail&quot;</span>))</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// æœªè¢«è°ƒç”¨</span></span><br><span class="line">    &#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error); <span class="comment">// Error: fail</span></span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure></li><li><p>Promise.reject()æ–¹æ³•çš„å‚æ•°ï¼Œä¼šåŸå°ä¸åŠ¨åœ°ä½œä¸ºrejectçš„ç†ç”±ï¼Œå˜æˆåç»­æ–¹æ³•çš„å‚æ•°ã€‚è¿™ä¸€ç‚¹ä¸Promise.resolveæ–¹æ³•ä¸ä¸€è‡´ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> thenable = &#123;</span><br><span class="line">    <span class="title function_">then</span>(<span class="params">resolve</span>) &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>(thenable)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(e === <span class="string">&#x27;ok&#x27;</span>); <span class="comment">//true</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">reject</span>(thenable)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(e === thenable); <span class="comment">// true</span></span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure></li></ol><h4 id="3-7-Promise-all"><a href="#3-7-Promise-all" class="headerlink" title="3.7 Promise.all"></a>3.7 Promise.all</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>Promise.all(iterable)æ–¹æ³•è¿”å›ä¸€ä¸ªPromiseå®ä¾‹ï¼Œæ­¤å®ä¾‹åœ¨iterableå‚æ•°å†…æ‰€æœ‰çš„promiseéƒ½â€œå®Œæˆï¼ˆresolvedï¼‰â€æˆ–å‚æ•°ä¸­ä¸åŒ…å«promiseæ—¶å›è°ƒå®Œæˆï¼ˆresolveï¼‰ï¼›å¦‚æœå‚æ•°ä¸­promiseæœ‰ä¸€ä¸ªå¤±è´¥ï¼ˆrejectedï¼‰ï¼Œæ­¤å®ä¾‹å›è°ƒå¤±è´¥ï¼ˆrejectï¼‰ï¼Œå¤±è´¥çš„åŸå› æ˜¯ç¬¬ä¸€ä¸ªå¤±è´¥promiseçš„ç»“æœã€‚</p><p><strong>è§£æï¼š</strong></p><p>è¯­æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Promise.all(iterable);</span><br></pre></td></tr></table></figure><p>å‚æ•°</p><ul><li><p>iterable</p><p>ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œå¦‚Arrayæˆ–String</p></li></ul><p>è¿”å›å€¼</p><ul><li>å¦‚æœä¼ å…¥çš„å‚æ•°æ˜¯ä¸€ä¸ªç©ºçš„å¯è¿­ä»£å¯¹è±¡ï¼Œåˆ™è¿”å›ä¸€ä¸ª<strong>å·²å®Œæˆï¼ˆalready resolvedï¼‰</strong>çŠ¶æ€çš„Promise</li><li>å¦‚æœä¼ å…¥çš„å‚æ•°ä¸åŒ…å«ä»»ä½•promiseï¼Œåˆ™è¿”å›ä¸€ä¸ª<strong>å¼‚æ­¥å®Œæˆï¼ˆasynchronously resolvedï¼‰</strong> Promiseã€‚æ³¨æ„ï¼šGoogle Chrome 58 åœ¨è¿™ç§æƒ…å†µä¸‹è¿”å›ä¸€ä¸ª<strong>å·²å®Œæˆï¼ˆalready resolvedï¼‰</strong>çŠ¶æ€çš„Promiseã€‚</li><li>å…¶å®ƒæƒ…å†µä¸‹è¿”å›ä¸€ä¸ª<strong>å¤„ç†ä¸­ï¼ˆpendingï¼‰</strong>çš„Promiseã€‚è¿™ä¸ªè¿”å›çš„promiseä¹‹åä¼šåœ¨æ‰€æœ‰çš„promiseéƒ½å®Œæˆæˆ–æœ‰ä¸€ä¸ªpromiseå¤±è´¥æ—¶<strong>å¼‚æ­¥</strong>åœ°å˜ä¸ºå®Œæˆæˆ–å¤±è´¥ã€‚ è§ä¸‹æ–¹å…³äºâ€œPromise.all çš„å¼‚æ­¥æˆ–åŒæ­¥â€ç¤ºä¾‹ã€‚è¿”å›å€¼å°†ä¼šæŒ‰ç…§å‚æ•°å†…çš„promiseé¡ºåºæ’åˆ—ï¼Œè€Œä¸æ˜¯ç”±è°ƒç”¨promiseçš„å®Œæˆé¡ºåºå†³å®šã€‚</li></ul><h4 id="3-8-ä¸promise-allç›¸åçš„æ˜¯å“ªä¸€ä¸ª"><a href="#3-8-ä¸promise-allç›¸åçš„æ˜¯å“ªä¸€ä¸ª" class="headerlink" title="3.8 ä¸promise.allç›¸åçš„æ˜¯å“ªä¸€ä¸ª"></a>3.8 ä¸promise.allç›¸åçš„æ˜¯å“ªä¸€ä¸ª</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>Promse.raceå°±æ˜¯èµ›è·‘çš„æ„æ€ï¼Œæ„æ€å°±æ˜¯è¯´ï¼ŒPromise.race([p1, p2, p3])é‡Œé¢å“ªä¸ªç»“æœè·å¾—çš„å¿«ï¼Œå°±è¿”å›é‚£ä¸ªç»“æœï¼Œä¸ç®¡ç»“æœæœ¬èº«æ˜¯æˆåŠŸçŠ¶æ€è¿˜æ˜¯å¤±è´¥çŠ¶æ€ã€‚</p><p><strong>æ‰©å±•ï¼š</strong></p><p>è¯­æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Promise.race(iterable);</span><br></pre></td></tr></table></figure><p>å‚æ•°</p><ul><li><p>iterable</p><p>å¯è¿­ä»£å¯¹è±¡ï¼Œç±»ä¼¼Array</p></li></ul><p>è¿”å›å€¼</p><p>ä¸€ä¸ª<strong>å¾…å®šçš„</strong> Promise]åªè¦ç»™å®šçš„è¿­ä»£ä¸­çš„ä¸€ä¸ªpromiseè§£å†³æˆ–æ‹’ç»ï¼Œå°±é‡‡ç”¨ç¬¬ä¸€ä¸ªpromiseçš„å€¼ä½œä¸ºå®ƒçš„å€¼ï¼Œ ä»è€Œ<strong>å¼‚æ­¥</strong>åœ°è§£ææˆ–æ‹’ç»ï¼ˆä¸€æ—¦å †æ ˆä¸ºç©ºï¼‰ã€‚</p><h4 id="3-9-promiseå®ç°æ–‡ä»¶è¯»å–"><a href="#3-9-promiseå®ç°æ–‡ä»¶è¯»å–" class="headerlink" title="3.9 promiseå®ç°æ–‡ä»¶è¯»å–"></a>3.9 promiseå®ç°æ–‡ä»¶è¯»å–</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p><strong>å°è£…å¼‚æ­¥è¯»å–æ–‡ä»¶æ“ä½œ</strong></p><ul><li>fs.readFile()æ–¹æ³•ç”¨äºå¼‚æ­¥è¯»å–æ–‡ä»¶(nodeæ ¸å¿ƒæ¨¡å—)</li><li>å°†Promiseçš„å®ä¾‹å¯¹è±¡ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼è¿”å›</li><li>è¿™æ ·å‡½æ•°æ‰§è¡Œå®Œæ¯•åå°±å¾—åˆ°ä¸€ä¸ªPromiseå¯¹è±¡çš„å®ä¾‹,å¯ä»¥é€šè¿‡.thenæ–¹æ³•ä¼ å…¥æˆåŠŸçš„å›è°ƒå’Œå¤±è´¥çš„å›è°ƒ</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">asyncGetFileByPath</span>(<span class="params">p</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// Promiseå¯¹è±¡é‡Œé¢çš„å‚æ•°,ä¼šç«‹å³æ‰§è¡Œ(å‰é¢è¯´è¿‡)</span></span><br><span class="line">        fs.<span class="title function_">readFile</span>(path.<span class="title function_">join</span>(__dirname, p), <span class="string">&#x27;utf-8&#x27;</span>, <span class="function">(<span class="params">err, data</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (err) &#123;</span><br><span class="line">                <span class="title function_">reject</span>(err);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="title function_">resolve</span>(data);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">asyncGetFileByPath</span>(<span class="string">&#x27;./files/1.txt&#x27;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(</span><br><span class="line">        <span class="function">(<span class="params">data</span>) =&gt;</span> &#123; <span class="comment">// æˆåŠŸçš„å›è°ƒ</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function">(<span class="params">err</span>) =&gt;</span> &#123; <span class="comment">// å¤±è´¥çš„å›è°ƒ</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">error</span>(err);</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br></pre></td></tr></table></figure><p>**<img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646121881244/1B3A5FDCE74EDAD823C9F50C3DA78DF3" alt="img"><br>**</p><p><strong>è§£å†³å›è°ƒåœ°ç‹±</strong></p><ul><li>å‰é¢å·²ç»æˆåŠŸçš„å°è£…äº†ä¸€ä¸ªè¯»å–æ–‡ä»¶çš„å‡½æ•°</li><li>ä¸‹é¢ç”¨å®ƒæ¥ä½“éªŒä¸€ä¸‹è¯»å–å¤šä¸ªæ–‡ä»¶</li><li>æˆ‘ä»¬åœ¨.then()æ–¹æ³•ä¸­,ç¬¬ä¸€ä¸ªå‚æ•°resolve()æ–¹æ³•ä¸­,è¿”å›ä¸€ä¸ªpromiseå¯¹è±¡B.</li><li>é‚£ä¹ˆåœ¨æ‰§è¡Œ.then()çš„resolve()æ–¹æ³•å®Œæ¯•å,æ­¤æ—¶çš„æ‰§è¡Œç¯å¢ƒæ˜¯è¿™ä¸ªPromiseçš„å®ä¾‹b</li><li>å¯ä»¥é€šè¿‡bçš„.then()æ–¹æ³•ç»§ç»­ä¼ å…¥resolveå–æ¶ˆå›è°ƒåœ°ç‹±,è®©ä»£ç è¶‹äºæ‰å¹³åŒ–</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">asyncGetFileByPath</span>(<span class="params">p</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// Promiseå¯¹è±¡é‡Œé¢çš„å‚æ•°,ä¼šç«‹å³æ‰§è¡Œ(å‰é¢è¯´è¿‡)</span></span><br><span class="line">        fs.<span class="title function_">readFile</span>(path.<span class="title function_">join</span>(__dirname, p), <span class="string">&#x27;utf-8&#x27;</span>, <span class="function">(<span class="params">err, data</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (err) &#123;</span><br><span class="line">                <span class="title function_">reject</span>(err);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="title function_">resolve</span>(data);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">asyncGetFileByPath</span>(<span class="string">&#x27;./files/1.txt&#x27;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(</span><br><span class="line">        <span class="function">(<span class="params">data</span>) =&gt;</span> &#123; <span class="comment">// æˆåŠŸçš„å›è°ƒ    &#x27;1.txt&#x27;</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(data); <span class="comment">// æ‰“å°å‡º 1.txt æ•°æ®</span></span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">asyncGetFileByPath</span>(<span class="string">&#x27;./files/2.txt&#x27;</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function">(<span class="params">err</span>) =&gt;</span> &#123; <span class="comment">// å¤±è´¥çš„å›è°ƒ</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">error</span>(err);</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">    .<span class="title function_">then</span>( <span class="comment">// æˆåŠŸçš„å›è°ƒ  &#x27;2.txt&#x27;</span></span><br><span class="line">        <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(data); <span class="comment">// æ‰“å°å‡º 2.txt ä¸­çš„æ•°æ®</span></span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">asyncGetFileByPath</span>(<span class="string">&#x27;./files/3.txt&#x27;</span>) <span class="comment">// ç»§ç»­è¿”å›Promiseå¯¹è±¡çš„å®ä¾‹</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">error</span>(err);</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br><span class="line">    .<span class="title function_">then</span>(</span><br><span class="line">        <span class="function">(<span class="params">data</span>) =&gt;</span> &#123; <span class="comment">// æˆåŠŸçš„å›è°ƒ &#x27;3.txt&#x27;</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(data); <span class="comment">// æ‰“å°å‡º 3.txt ä¸­çš„æ•°æ®</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">error</span>(err);</span><br><span class="line">        &#125;</span><br><span class="line">    )</span><br></pre></td></tr></table></figure><h4 id="3-10-ç”¨jså®ç°sleepï¼Œç”¨promise"><a href="#3-10-ç”¨jså®ç°sleepï¼Œç”¨promise" class="headerlink" title="3.10 ç”¨jså®ç°sleepï¼Œç”¨promise"></a>3.10 ç”¨jså®ç°sleepï¼Œç”¨promise</h4><p><strong>å‚è€ƒç­”æ¡ˆ:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sleep</span>(<span class="params">time</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> <span class="built_in">setTimeout</span>(resolve, time))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> t1 = +<span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line"><span class="title function_">sleep</span>(<span class="number">3000</span>).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> t2 = +<span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(t2 - t1)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼šè¿™ç§æ–¹å¼å®é™…ä¸Šæ˜¯ç”¨äº† setTimeoutï¼Œæ²¡æœ‰å½¢æˆè¿›ç¨‹é˜»å¡ï¼Œä¸ä¼šé€ æˆæ€§èƒ½å’Œè´Ÿè½½é—®é¢˜ã€‚</p><p>ç¼ºç‚¹ï¼šè™½ç„¶ä¸åƒ callback å¥—é‚£ä¹ˆå¤šå±‚ï¼Œä½†ä»ä¸æ€ä¹ˆç¾è§‚ï¼Œè€Œä¸”å½“æˆ‘ä»¬éœ€è¦åœ¨æŸè¿‡ç¨‹ä¸­éœ€è¦åœæ­¢æ‰§è¡Œï¼ˆæˆ–è€…åœ¨ä¸­é€”è¿”å›äº†é”™è¯¯çš„å€¼ï¼‰ï¼Œè¿˜å¿…é¡»å¾—å±‚å±‚åˆ¤æ–­åè·³å‡ºï¼Œéå¸¸éº»çƒ¦ï¼Œè€Œä¸”è¿™ç§å¼‚æ­¥å¹¶ä¸æ˜¯é‚£ä¹ˆå½»åº•ï¼Œè¿˜æ˜¯çœ‹èµ·æ¥åˆ«æ‰­</p><h4 id="3-11-å®ç°ä¸€ä¸ª-Scheduler-ç±»ï¼Œå®Œæˆå¯¹Promiseçš„å¹¶å‘å¤„ç†ï¼Œæœ€å¤šåŒæ—¶æ‰§è¡Œ2ä¸ªä»»åŠ¡"><a href="#3-11-å®ç°ä¸€ä¸ª-Scheduler-ç±»ï¼Œå®Œæˆå¯¹Promiseçš„å¹¶å‘å¤„ç†ï¼Œæœ€å¤šåŒæ—¶æ‰§è¡Œ2ä¸ªä»»åŠ¡" class="headerlink" title="3.11 å®ç°ä¸€ä¸ª Scheduler ç±»ï¼Œå®Œæˆå¯¹Promiseçš„å¹¶å‘å¤„ç†ï¼Œæœ€å¤šåŒæ—¶æ‰§è¡Œ2ä¸ªä»»åŠ¡"></a>3.11 å®ç°ä¸€ä¸ª Scheduler ç±»ï¼Œå®Œæˆå¯¹Promiseçš„å¹¶å‘å¤„ç†ï¼Œæœ€å¤šåŒæ—¶æ‰§è¡Œ2ä¸ªä»»åŠ¡</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Scheduler</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">tasks</span> = [], <span class="comment">// å¾…è¿è¡Œçš„ä»»åŠ¡</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">usingTask</span> = [] <span class="comment">// æ­£åœ¨è¿è¡Œçš„ä»»åŠ¡</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// promiseCreator æ˜¯ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œreturn Promise</span></span><br><span class="line">    <span class="title function_">add</span>(<span class="params">promiseCreator</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            promiseCreator.<span class="property">resolve</span> = resolve</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">usingTask</span>.<span class="property">length</span> &lt; <span class="number">2</span>) &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">usingRun</span>(promiseCreator)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">tasks</span>.<span class="title function_">push</span>(promiseCreator)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">usingRun</span>(<span class="params">promiseCreator</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">usingTask</span>.<span class="title function_">push</span>(promiseCreator)</span><br><span class="line">        <span class="title function_">promiseCreator</span>().<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            promiseCreator.<span class="title function_">resolve</span>()</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">usingMove</span>(promiseCreator)</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">tasks</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">usingRun</span>(<span class="variable language_">this</span>.<span class="property">tasks</span>.<span class="title function_">shift</span>())</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">usingMove</span>(<span class="params">promiseCreator</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> index = <span class="variable language_">this</span>.<span class="property">usingTask</span>.<span class="title function_">findIndex</span>(promiseCreator)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">usingTask</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">timeout</span> = (<span class="params">time</span>) =&gt; <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(resolve, time)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> scheduler = <span class="keyword">new</span> <span class="title class_">Scheduler</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">addTask</span> = (<span class="params">time, order</span>) =&gt; &#123;</span><br><span class="line">    scheduler.<span class="title function_">add</span>(<span class="function">() =&gt;</span> <span class="title function_">timeout</span>(time)).<span class="title function_">then</span>(<span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(order))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">addTask</span>(<span class="number">400</span>, <span class="number">4</span>) </span><br><span class="line"><span class="title function_">addTask</span>(<span class="number">200</span>, <span class="number">2</span>) </span><br><span class="line"><span class="title function_">addTask</span>(<span class="number">300</span>, <span class="number">3</span>) </span><br></pre></td></tr></table></figure><h4 id="3-12-å¾ªç¯iï¼ŒsetTimeout-ä¸­è¾“å‡ºä»€ä¹ˆï¼Œå¦‚ä½•è§£å†³ï¼ˆå—çº§ä½œç”¨åŸŸï¼Œå‡½æ•°ä½œç”¨åŸŸï¼‰"><a href="#3-12-å¾ªç¯iï¼ŒsetTimeout-ä¸­è¾“å‡ºä»€ä¹ˆï¼Œå¦‚ä½•è§£å†³ï¼ˆå—çº§ä½œç”¨åŸŸï¼Œå‡½æ•°ä½œç”¨åŸŸï¼‰" class="headerlink" title="3.12 å¾ªç¯iï¼ŒsetTimeout ä¸­è¾“å‡ºä»€ä¹ˆï¼Œå¦‚ä½•è§£å†³ï¼ˆå—çº§ä½œç”¨åŸŸï¼Œå‡½æ•°ä½œç”¨åŸŸï¼‰"></a>3.12 å¾ªç¯iï¼ŒsetTimeout ä¸­è¾“å‡ºä»€ä¹ˆï¼Œå¦‚ä½•è§£å†³ï¼ˆå—çº§ä½œç”¨åŸŸï¼Œå‡½æ•°ä½œç”¨åŸŸï¼‰</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p><strong>forå¾ªç¯setTimeoutè¾“å‡º1-10è§£å†³æ–¹å¼é—®é¢˜æ¥æº</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">   <span class="built_in">setTimeout</span>(<span class="function">(<span class="params">i</span>) =&gt;</span> &#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">   &#125;, <span class="number">0</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœŸæœ›ï¼šè¾“å‡º1åˆ°10</p><p>ä¸ºä»€ä¹ˆæ— æ³•è¾“å‡º1åˆ°å</p><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œforå¾ªç¯æ˜¯åŒæ­¥ä»£ç ï¼ŒsetTimeoutæ˜¯å¼‚æ­¥ä»£ç ã€‚é‡åˆ°è¿™ç§æ—¢åŒ…å«åŒæ­¥åˆåŒ…å«å¼‚æ­¥çš„æƒ…å†µï¼ŒJavaScriptä¾æ—§æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºæ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œå¹¶å°†å¼‚æ­¥ä»£ç æ’å…¥ä»»åŠ¡é˜Ÿåˆ—ã€‚setTimeoutçš„ç¬¬äºŒä¸ªå‚æ•°åˆ™æ˜¯æŠŠæ‰§è¡Œä»£ç ï¼ˆconsole.log(i)ï¼‰æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—éœ€ç­‰å¾…çš„æ¯«ç§’æ•°ï¼Œä½†ç­‰å¾…çš„æ—¶é—´æ˜¯ç›¸å¯¹ä¸»ç¨‹åºå®Œæ¯•çš„æ—¶é—´è®¡ç®—çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ‰§è¡Œåˆ°setTimeoutå‡½æ•°æ—¶ä¼šç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œå†å°†å½“å‰ä»»åŠ¡æ’å…¥ä»»åŠ¡é˜Ÿåˆ—ã€‚<br>æœ€åï¼Œå½“æ‰§è¡Œå®ŒåŒæ­¥ä»£ç ï¼Œjså¼•æ“å°±ä¼šå»æ‰§è¡Œä»»åŠ¡é˜Ÿåˆ—ä¸­çš„å¼‚æ­¥ä»£ç ã€‚è¿™æ—¶å€™ä»»åŠ¡é˜Ÿåˆ—ä¸­å°±ä¼šæœ‰åä¸ªconsole.log(i)ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨æ¯æ¬¡å¾ªç¯ä¸­å°†setTimeouté‡Œé¢çš„ä»£ç â€œconsole.log(i)â€æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—æ—¶ï¼Œiçš„å€¼éƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚ä½†JavaScriptå¼•æ“å¼€å§‹æ‰§è¡Œä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»£ç æ—¶ï¼Œä¼šå¼€å§‹åœ¨å½“å‰çš„ä½œç”¨åŸŸä¸­å¼€å§‹æ‰¾å˜é‡iï¼Œä½†æ˜¯å½“å‰ä½œç”¨åŸŸä¸­å¹¶æ²¡æœ‰å¯¹å˜é‡iè¿›è¡Œå®šä¹‰ã€‚è¿™ä¸ªæ—¶å€™å°±ä¼šåœ¨åˆ›é€ è¯¥å‡½æ•°çš„ä½œç”¨åŸŸä¸­å¯»æ‰¾iã€‚åˆ›å»ºè¯¥å‡½æ•°çš„ä½œç”¨åŸŸå°±æ˜¯å…¨å±€ä½œç”¨åŸŸï¼Œè¿™ä¸ªæ—¶å€™å°±æ‰¾åˆ°äº†forå¾ªç¯ä¸­çš„å˜é‡iï¼Œè¿™æ—¶çš„iæ˜¯å…¨å±€å˜é‡ï¼Œå¹¶ä¸”å€¼å·²ç»ç¡®å®šï¼š10ã€‚åä¸ªconsole.logâ€œå…±äº«â€içš„å€¼ã€‚è¿™å°±æ˜¯ä½œç”¨åŸŸé“¾çš„é—®é¢˜ã€‚</p><p><strong>è§£å†³æ–¹æ³•</strong></p><ul><li>æ–¹æ³•ä¸€</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">   <span class="built_in">setTimeout</span>(<span class="function">(<span class="params">i</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(i)</span><br><span class="line">   &#125;, <span class="number">1000</span>,i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æœ€ç²¾ç®€è§£å†³æ–¹æ¡ˆ</p></blockquote><ul><li>æ–¹æ³•äºŒ</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i&lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">   <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(i) </span><br><span class="line">   &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æœ€ä¼˜è§£å†³æ–¹æ¡ˆï¼Œåˆ©ç”¨letå½¢æˆå—çº§ä½œç”¨åŸŸ</p></blockquote><ul><li>æ–¹æ³•ä¸‰</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">  (<span class="function">(<span class="params">i</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(i)</span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br><span class="line">  &#125;)(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>IIFE(ç«‹å³æ‰§è¡Œå‡½æ•°)ï¼Œç±»ä¼¼äºletç”Ÿæˆäº†å—çº§ä½œç”¨åŸŸã€‚</p></blockquote><ul><li>æ–¹æ³•å››</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">   <span class="built_in">setTimeout</span>(<span class="variable language_">console</span>.<span class="title function_">log</span>(i),<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ç›´æ¥è¾“å‡ºï¼Œæ²¡æœ‰å»¶è¿Ÿ</p></blockquote><ul><li>æ–¹æ³•äº”</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">   <span class="built_in">setTimeout</span>((<span class="function">()=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(i))(),<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åŒä¸Š</p></blockquote><ul><li>æ–¹æ³•å…­</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">      <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> i</span><br><span class="line">      &#125;<span class="keyword">catch</span>(i)&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(i)</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">&#x27;start&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br><span class="line">&#125;, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">setImmediate</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>);</span><br><span class="line">  <span class="title function_">resolve</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">5</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">timeEnd</span>(<span class="string">&#x27;start&#x27;</span>)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line">process.<span class="title function_">nextTick</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">7</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">8</span>);</span><br></pre></td></tr></table></figure><h4 id="3-13-jsæ‰§è¡Œé¡ºåºçš„é¢˜ç›®ï¼Œæ¶‰åŠåˆ°settimeoutã€consoleã€process-nextTickã€promise-then"><a href="#3-13-jsæ‰§è¡Œé¡ºåºçš„é¢˜ç›®ï¼Œæ¶‰åŠåˆ°settimeoutã€consoleã€process-nextTickã€promise-then" class="headerlink" title="3.13 jsæ‰§è¡Œé¡ºåºçš„é¢˜ç›®ï¼Œæ¶‰åŠåˆ°settimeoutã€consoleã€process.nextTickã€promise.then"></a>3.13 jsæ‰§è¡Œé¡ºåºçš„é¢˜ç›®ï¼Œæ¶‰åŠåˆ°settimeoutã€consoleã€process.nextTickã€promise.then</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">&#x27;start&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br><span class="line">&#125;, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">setImmediate</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>);</span><br><span class="line">  <span class="title function_">resolve</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">5</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">timeEnd</span>(<span class="string">&#x27;start&#x27;</span>)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line">process.<span class="title function_">nextTick</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">7</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">8</span>);</span><br></pre></td></tr></table></figure><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>ç»¼åˆçš„æ‰§è¡Œé¡ºåºå°±æ˜¯ï¼š3â€”â€”&gt;4â€”â€”&gt;6â€”â€”&gt;8â€”â€”&gt;7â€”â€”&gt;5â€”â€”&gt;start: 7.009msâ€”â€”&gt;1â€”â€”&gt;2</p><p><strong>è§£æï¼š</strong></p><p>æœ¬é¢˜ç›®ï¼Œè€ƒå¯Ÿçš„å°±æ˜¯ node äº‹ä»¶å¾ªç¯ Event Loop æˆ‘ä»¬å¯ä»¥ç®€å•ç†è§£Event Loopå¦‚ä¸‹ï¼š</p><ol><li>æ‰€æœ‰ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆ(Execution Context Stack)</li><li>åœ¨ä¸»çº¿ç¨‹ä¹‹å¤–è¿˜å­˜åœ¨ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—(Task Queen),ç³»ç»ŸæŠŠå¼‚æ­¥ä»»åŠ¡æ”¾åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œç„¶åä¸»çº¿ç¨‹ç»§ç»­æ‰§è¡Œåç»­çš„ä»»åŠ¡</li><li>ä¸€æ—¦æ‰§è¡Œæ ˆä¸­æ‰€æœ‰çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç³»ç»Ÿå°±ä¼šè¯»å–ä»»åŠ¡é˜Ÿåˆ—ã€‚å¦‚æœè¿™æ—¶å¼‚æ­¥ä»»åŠ¡å·²ç»“æŸç­‰å¾…çŠ¶æ€ï¼Œå°±ä¼šä»ä»»åŠ¡é˜Ÿåˆ—è¿›å…¥æ‰§è¡Œæ ˆï¼Œæ¢å¤æ‰§è¡Œ</li><li>ä¸»çº¿ç¨‹ä¸æ–­é‡å¤ä¸Šé¢çš„ç¬¬ä¸‰æ­¥</li></ol><p>åœ¨ä¸Šè¿°çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ˜ç™½é¦–å…ˆæ‰§è¡Œä¸»çº¿ç¨‹ä¸­çš„åŒæ­¥ä»»åŠ¡ï¼Œå› æ­¤ä¾æ¬¡è¾“å‡º3ã€4ã€6ã€8ã€‚å½“ä¸»çº¿ç¨‹ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œå†ä»Event Loopä¸­è¯»å–ä»»åŠ¡ã€‚</p><p>Event Loopè¯»å–ä»»åŠ¡çš„å…ˆåé¡ºåºï¼Œå–å†³äºä»»åŠ¡é˜Ÿåˆ—ï¼ˆJob queueï¼‰ä¸­å¯¹äºä¸åŒä»»åŠ¡è¯»å–è§„åˆ™çš„é™å®šã€‚</p><p>åœ¨Job queueä¸­çš„é˜Ÿåˆ—åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š</p><p>å®ä»»åŠ¡ Macrotaskå®ä»»åŠ¡æ˜¯æŒ‡Event Loopåœ¨<strong>æ¯ä¸ªé˜¶æ®µ</strong>æ‰§è¡Œçš„ä»»åŠ¡</p><p>å¾®ä»»åŠ¡ Microtaskå¾®ä»»åŠ¡æ˜¯æŒ‡Event Loopåœ¨<strong>æ¯ä¸ªé˜¶æ®µä¹‹é—´</strong>æ‰§è¡Œçš„ä»»åŠ¡</p><p>æˆ‘ä»¬ä¸¾ä¾‹æ¥çœ‹æ‰§è¡Œé¡ºåºçš„è§„å®šï¼Œæˆ‘ä»¬å‡è®¾</p><p>å®ä»»åŠ¡é˜Ÿåˆ—åŒ…å«ä»»åŠ¡: A1, A2 , A3</p><p>å¾®ä»»åŠ¡é˜Ÿåˆ—åŒ…å«ä»»åŠ¡: B1, B2 , B3</p><p>æ‰§è¡Œé¡ºåºä¸ºï¼Œé¦–å…ˆæ‰§è¡Œå®ä»»åŠ¡é˜Ÿåˆ—å¼€å¤´çš„ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯ A1 ä»»åŠ¡ï¼Œæ‰§è¡Œå®Œæ¯•åï¼Œåœ¨æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œçš„æ‰€æœ‰ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯ä¾æ¬¡æ‰§è¡ŒB1, B2 , B3ï¼Œæ‰§è¡Œå®Œåæ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿä¸­çš„ä»»åŠ¡ï¼Œæ¥ç€æ‰§è¡Œå®ä»»åŠ¡ä¸­çš„ç¬¬äºŒä¸ªä»»åŠ¡A2ï¼Œä¾æ¬¡å¾ªç¯ã€‚</p><p>äº†è§£å®Œäº†å®ä»»åŠ¡ Macrotaskå’Œå¾®ä»»åŠ¡ Microtaskä¸¤ç§é˜Ÿåˆ—çš„æ‰§è¡Œé¡ºåºä¹‹åï¼Œæˆ‘ä»¬æ¥ç€æ¥çœ‹ï¼ŒçœŸå®åœºæ™¯ä¸‹è¿™ä¸¤ç§ç±»å‹çš„é˜Ÿåˆ—é‡ŒçœŸæ­£åŒ…å«çš„ä»»åŠ¡ï¼ˆæˆ‘ä»¬ä»¥node V8å¼•æ“ä¸ºä¾‹ï¼‰ï¼Œåœ¨node V8ä¸­ï¼Œè¿™ä¸¤ç§ç±»å‹çš„çœŸå®ä»»åŠ¡é¡ºåºå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>å®ä»»åŠ¡ Macrotaské˜Ÿåˆ—çœŸå®åŒ…å«ä»»åŠ¡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">script(ä¸»ç¨‹åºä»£ç ),setTimeout, setInterval, setImmediate, I/O, UI rendering</span><br></pre></td></tr></table></figure><p>å¾®ä»»åŠ¡ Microtaské˜Ÿåˆ—çœŸå®åŒ…å«ä»»åŠ¡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">process.nextTick, Promises, Object.observe, MutationObserver</span><br></pre></td></tr></table></figure><p>ç”±æ­¤æˆ‘ä»¬å¾—åˆ°çš„æ‰§è¡Œé¡ºåºåº”è¯¥ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">script(ä¸»ç¨‹åºä»£ç )â€”&gt;process.nextTickâ€”&gt;Promises...â€”â€”&gt;setTimeoutâ€”â€”&gt;setIntervalâ€”â€”&gt;setImmediateâ€”â€”&gt; I/Oâ€”â€”&gt;UI rendering</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨ES6ä¸­å®ä»»åŠ¡ Macrotaské˜Ÿåˆ—åˆç§°ä¸ºScriptJobsï¼Œè€Œå¾®ä»»åŠ¡ Microtaskåˆç§°PromiseJobs</p></blockquote><p>æˆ‘ä»¬çš„é¢˜ç›®ç›¸å¯¹å¤æ‚ï¼Œä½†æ˜¯è¦æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨å®šä¹‰promiseçš„æ—¶å€™ï¼Œpromiseæ„é€ éƒ¨åˆ†æ˜¯åŒæ­¥æ‰§è¡Œçš„</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬åˆ†ææˆ‘ä»¬çš„é¢˜ç›®ï¼Œé¦–å…ˆåˆ†æJob queueçš„æ‰§è¡Œé¡ºåºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">script(ä¸»ç¨‹åºä»£ç )â€”â€”&gt;process.nextTickâ€”â€”&gt;promiseâ€”â€”&gt;setTimeoutâ€”â€”&gt;setImmediate</span><br></pre></td></tr></table></figure><ul><li>ä¸»ä½“éƒ¨åˆ†ï¼š å®šä¹‰promiseçš„æ„é€ éƒ¨åˆ†æ˜¯åŒæ­¥çš„ï¼Œå› æ­¤å…ˆè¾“å‡º3ã€4 ï¼Œä¸»ä½“éƒ¨åˆ†å†è¾“å‡º6ã€8ï¼ˆåŒæ­¥æƒ…å†µä¸‹ï¼Œå°±æ˜¯ä¸¥æ ¼æŒ‰ç…§å®šä¹‰çš„å…ˆåé¡ºåºï¼‰</li><li>process.nextTick: è¾“å‡º7</li><li>promiseï¼š è¿™é‡Œçš„promiseéƒ¨åˆ†ï¼Œä¸¥æ ¼çš„è¯´å…¶å®æ˜¯promise.thenéƒ¨åˆ†ï¼Œè¾“å‡ºçš„æ˜¯5ã€ä»¥åŠ timeEnd(â€˜startâ€™)</li><li>setImmediateï¼šè¾“å‡º1ï¼Œä¾æ®ä¸Šé¢ä¼˜å…ˆçº§ï¼Œåº”è¯¥å…ˆsetTimeoutï¼Œä½†æ˜¯æ³¨æ„ï¼ŒsetTimeout è®¾ç½® 10ms å»¶æ—¶</li><li>setTimeout ï¼š è¾“å‡º2</li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> å…«è‚¡æ–‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTMLå…«è‚¡æ–‡</title>
      <link href="/2024/04/01/%E5%85%AB%E8%82%A1%E6%96%87/HTMl%E5%85%AB%E8%82%A1%E6%96%87/"/>
      <url>/2024/04/01/%E5%85%AB%E8%82%A1%E6%96%87/HTMl%E5%85%AB%E8%82%A1%E6%96%87/</url>
      
        <content type="html"><![CDATA[<h1 id="html"><a href="#html" class="headerlink" title="html"></a>html</h1><h2 id="1-1-htmlæ ‡ç­¾çš„ç±»å‹ï¼ˆheadï¼Œ-bodyï¼Œï¼Doctypeï¼‰-ä»–ä»¬çš„ä½œç”¨æ˜¯ä»€ä¹ˆ"><a href="#1-1-htmlæ ‡ç­¾çš„ç±»å‹ï¼ˆheadï¼Œ-bodyï¼Œï¼Doctypeï¼‰-ä»–ä»¬çš„ä½œç”¨æ˜¯ä»€ä¹ˆ" class="headerlink" title="1.1 htmlæ ‡ç­¾çš„ç±»å‹ï¼ˆheadï¼Œ bodyï¼Œï¼Doctypeï¼‰ ä»–ä»¬çš„ä½œç”¨æ˜¯ä»€ä¹ˆ"></a>1.1 htmlæ ‡ç­¾çš„ç±»å‹ï¼ˆheadï¼Œ bodyï¼Œï¼Doctypeï¼‰ ä»–ä»¬çš„ä½œç”¨æ˜¯ä»€ä¹ˆ</h2><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>!DOCTYPE æ ‡ç­¾ï¼š</p><ul><li>å®ƒæ˜¯æŒ‡ç¤º web æµè§ˆå™¨å…³äºé¡µé¢ä½¿ç”¨å“ªä¸ª HTML ç‰ˆæœ¬è¿›è¡Œç¼–å†™çš„æŒ‡ä»¤.</li></ul><p>headï¼š</p><ul><li>æ˜¯æ‰€æœ‰å¤´éƒ¨å…ƒç´ çš„å®¹å™¨, ç»å¤§å¤šæ•°å¤´éƒ¨æ ‡ç­¾çš„å†…å®¹ä¸ä¼šæ˜¾ç¤ºç»™è¯»è€…</li><li>è¯¥æ ‡ç­¾ä¸‹æ‰€åŒ…å«çš„éƒ¨åˆ†å¯åŠ å…¥çš„æ ‡ç­¾æœ‰,,,,å’Œ</li></ul><p>body :</p><ul><li>ç”¨äºå®šä¹‰æ–‡æ¡£çš„ä¸»ä½“, åŒ…å«äº†æ–‡æ¡£çš„æ‰€æœ‰å†…å®¹</li><li>è¯¥æ ‡ç­¾æ”¯æŒ html çš„å…¨å±€å±æ€§å’Œäº‹ä»¶å±æ€§.</li></ul><h2 id="1-2-h5æ–°ç‰¹æ€§"><a href="#1-2-h5æ–°ç‰¹æ€§" class="headerlink" title="1.2 h5æ–°ç‰¹æ€§"></a>1.2 h5æ–°ç‰¹æ€§</h2><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><ul><li>æ–°å¢é€‰æ‹©å™¨ document.querySelectorã€document.querySelectorAll</li><li>æ‹–æ‹½é‡Šæ”¾(Drag and drop) API</li><li>åª’ä½“æ’­æ”¾çš„ video å’Œ audio</li><li>æœ¬åœ°å­˜å‚¨ localStorage å’Œ sessionStorage</li><li>ç¦»çº¿åº”ç”¨ manifest</li><li>æ¡Œé¢é€šçŸ¥ Notifications</li><li>è¯­æ„åŒ–æ ‡ç­¾ articleã€footerã€headerã€navã€section</li><li>å¢å¼ºè¡¨å•æ§ä»¶ calendarã€dateã€timeã€emailã€urlã€search</li><li>åœ°ç†ä½ç½® Geolocation</li><li>å¤šä»»åŠ¡ webworker</li><li>å…¨åŒå·¥é€šä¿¡åè®® websocket</li><li>å†å²ç®¡ç† history</li><li>è·¨åŸŸèµ„æºå…±äº«(CORS) Access-Control-Allow-Origin</li><li>é¡µé¢å¯è§æ€§æ”¹å˜äº‹ä»¶ visibilitychange</li><li>è·¨çª—å£é€šä¿¡ PostMessage</li><li>Form Data å¯¹è±¡</li><li>ç»˜ç”» canvas</li></ul><p>H5ç§»é™¤çš„å…ƒç´ ï¼š</p><ul><li>çº¯è¡¨ç°çš„å…ƒç´ ï¼šbasefontã€bigã€centerã€fontã€sã€strikeã€ttã€u</li><li>å¯¹å¯ç”¨æ€§äº§ç”Ÿè´Ÿé¢å½±å“çš„å…ƒç´ ï¼šframeã€framesetã€noframes</li></ul><h2 id="1-3-ä¼ªç±»å’Œä¼ªå…ƒç´ "><a href="#1-3-ä¼ªç±»å’Œä¼ªå…ƒç´ " class="headerlink" title="1.3 ä¼ªç±»å’Œä¼ªå…ƒç´ "></a>1.3 ä¼ªç±»å’Œä¼ªå…ƒç´ </h2><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>ä¼ªç±»ï¼šç”¨äºå·²æœ‰å…ƒç´ å¤„äºæŸç§çŠ¶æ€æ—¶ä¸ºå…¶æ·»åŠ å¯¹åº”çš„æ ·å¼ï¼Œè¿™ä¸ªçŠ¶æ€æ˜¯æ ¹æ®ç”¨æˆ·è¡Œä¸ºè€ŒåŠ¨æ€å˜åŒ–çš„ã€‚</p><p>ä¾‹å¦‚ï¼šå½“ç”¨æˆ·æ‚¬åœåœ¨æŒ‡å®šå…ƒç´ æ—¶ï¼Œå¯ä»¥é€šè¿‡:hoveræ¥æè¿°è¿™ä¸ªå…ƒç´ çš„çŠ¶æ€ï¼Œè™½ç„¶å®ƒå’Œä¸€èˆ¬cssç›¸ä¼¼ï¼Œå¯ä»¥ä¸º å·²æœ‰å…ƒç´ æ·»åŠ æ ·å¼ï¼Œä½†æ˜¯å®ƒåªæœ‰å¤„äºDOMæ ‘æ— æ³•æè¿°çš„çŠ¶æ€ä¸‹æ‰èƒ½ä¸ºå…ƒç´ æ·»åŠ æ ·å¼ï¼Œæ‰€ä»¥ç§°ä¸ºä¼ªç±»ã€‚</p><p>ä¼ªå…ƒç´ ï¼šç”¨äºåˆ›å»ºä¸€äº›ä¸åœ¨DOMæ ‘ä¸­çš„å…ƒç´ ï¼Œå¹¶ä¸ºå…¶æ·»åŠ æ ·å¼ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡:beforeæ¥åœ¨ä¸€ä¸ªå…ƒç´ ä¹‹å‰æ·»åŠ ä¸€äº›æ–‡æœ¬ï¼Œå¹¶ä¸ºè¿™äº›æ–‡æœ¬æ·»åŠ æ ·å¼ï¼Œè™½ç„¶ç”¨æˆ·å¯ä»¥çœ‹è§ è¿™äº›æ–‡æœ¬ï¼Œä½†æ˜¯å®ƒå®é™…ä¸Šå¹¶ä¸åœ¨DOMæ–‡æ¡£ä¸­ã€‚</p><h2 id="1-4-html5è¯­ä¹‰åŒ–"><a href="#1-4-html5è¯­ä¹‰åŒ–" class="headerlink" title="1.4 html5è¯­ä¹‰åŒ–"></a>1.4 html5è¯­ä¹‰åŒ–</h2><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>åœ¨HTML5å‡ºæ¥ä¹‹å‰ï¼Œæˆ‘ä»¬ä¹ æƒ¯äºç”¨divæ¥è¡¨ç¤ºé¡µé¢çš„ç« èŠ‚æˆ–è€…ä¸åŒæ¨¡å—ï¼Œä½†æ˜¯divæœ¬èº«æ˜¯æ²¡æœ‰è¯­ä¹‰çš„ã€‚ä½†æ˜¯ç°åœ¨ï¼ŒHTML5ä¸­åŠ å…¥äº†ä¸€äº›è¯­ä¹‰åŒ–æ ‡ç­¾ï¼Œæ¥æ›´æ¸…æ™°çš„è¡¨è¾¾æ–‡æ¡£ç»“æ„ã€‚</p><p>æ ‡ç­¾ï¼š</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646121492395/44B73F2E744FF268279D16601DB2CBC8" alt="img"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>      <span class="comment">&lt;!--ï¼šé¡µé¢ä¸»ä½“å†…å®¹ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hn</span>&gt;</span>         <span class="comment">&lt;!--ï¼šh1~h6ï¼Œåˆ†çº§æ ‡é¢˜ï¼Œ&lt;h1&gt; ä¸ &lt;title&gt; åè°ƒæœ‰åˆ©äºæœç´¢å¼•æ“ä¼˜åŒ–ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span>         <span class="comment">&lt;!--ï¼šæ— åºåˆ—è¡¨ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>         <span class="comment">&lt;!--ï¼šæœ‰åºåˆ—è¡¨ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span>     <span class="comment">&lt;!--ï¼šé¡µçœ‰é€šå¸¸åŒ…æ‹¬ç½‘ç«™æ ‡å¿—ã€ä¸»å¯¼èˆªã€å…¨ç«™é“¾æ¥ä»¥åŠæœç´¢æ¡†ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">nav</span>&gt;</span>         <span class="comment">&lt;!--ï¼šæ ‡è®°å¯¼èˆªï¼Œä»…å¯¹æ–‡æ¡£ä¸­é‡è¦çš„é“¾æ¥ç¾¤ä½¿ç”¨ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">main</span>&gt;</span>         <span class="comment">&lt;!--ï¼šé¡µé¢ä¸»è¦å†…å®¹ï¼Œä¸€ä¸ªé¡µé¢åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚å¦‚æœæ˜¯webåº”ç”¨ï¼Œåˆ™åŒ…å›´å…¶ä¸»è¦åŠŸèƒ½ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span>    <span class="comment">&lt;!--ï¼šå®šä¹‰å¤–éƒ¨çš„å†…å®¹ï¼Œå…¶ä¸­çš„å†…å®¹ç‹¬ç«‹äºæ–‡æ¡£çš„å…¶ä½™éƒ¨åˆ†ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span>&gt;</span>    <span class="comment">&lt;!--ï¼šå®šä¹‰æ–‡æ¡£ä¸­çš„èŠ‚ï¼ˆsectionã€åŒºæ®µï¼‰ã€‚æ¯”å¦‚ç« èŠ‚ã€é¡µçœ‰ã€é¡µè„šæˆ–æ–‡æ¡£ä¸­çš„å…¶ä»–éƒ¨åˆ†ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aside</span>&gt;</span>         <span class="comment">&lt;!--ï¼šå®šä¹‰å…¶æ‰€å¤„å†…å®¹ä¹‹å¤–çš„å†…å®¹ã€‚å¦‚ä¾§æ ã€æ–‡ç« çš„ä¸€ç»„é“¾æ¥ã€å¹¿å‘Šã€å‹æƒ…é“¾æ¥ã€ç›¸å…³äº§å“åˆ—è¡¨ç­‰ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span>&gt;</span>     <span class="comment">&lt;!--ï¼šé¡µè„šï¼Œåªæœ‰å½“çˆ¶çº§æ˜¯bodyæ—¶ï¼Œæ‰æ˜¯æ•´ä¸ªé¡µé¢çš„é¡µè„šã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">small</span>&gt;</span>      <span class="comment">&lt;!--ï¼šå‘ˆç°å°å·å­—ä½“æ•ˆæœï¼ŒæŒ‡å®šç»†åˆ™ï¼Œè¾“å…¥å…è´£å£°æ˜ã€æ³¨è§£ã€ç½²åã€ç‰ˆæƒã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>     <span class="comment">&lt;!--ï¼šå’Œ em æ ‡ç­¾ä¸€æ ·ï¼Œç”¨äºå¼ºè°ƒæ–‡æœ¬ï¼Œä½†å®ƒå¼ºè°ƒçš„ç¨‹åº¦æ›´å¼ºä¸€äº›ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">em</span>&gt;</span>         <span class="comment">&lt;!--ï¼šå°†å…¶ä¸­çš„æ–‡æœ¬è¡¨ç¤ºä¸ºå¼ºè°ƒçš„å†…å®¹ï¼Œè¡¨ç°ä¸ºæ–œä½“ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mark</span>&gt;</span>       <span class="comment">&lt;!--ï¼šä½¿ç”¨é»„è‰²çªå‡ºæ˜¾ç¤ºéƒ¨åˆ†æ–‡æœ¬ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">figure</span>&gt;</span>     <span class="comment">&lt;!--ï¼šè§„å®šç‹¬ç«‹çš„æµå†…å®¹ï¼ˆå›¾åƒã€å›¾è¡¨ã€ç…§ç‰‡ã€ä»£ç ç­‰ç­‰ï¼‰ï¼ˆé»˜è®¤æœ‰40pxå·¦å³marginï¼‰ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">figcaption</span>&gt;</span><span class="comment">&lt;!--ï¼šå®šä¹‰ figure å…ƒç´ çš„æ ‡é¢˜ï¼Œåº”è¯¥è¢«ç½®äº figure å…ƒç´ çš„ç¬¬ä¸€ä¸ªæˆ–æœ€åä¸€ä¸ªå­å…ƒç´ çš„ä½ç½®ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">cite</span>&gt;</span>       <span class="comment">&lt;!--ï¼šè¡¨ç¤ºæ‰€åŒ…å«çš„æ–‡æœ¬å¯¹æŸä¸ªå‚è€ƒæ–‡çŒ®çš„å¼•ç”¨ï¼Œæ¯”å¦‚ä¹¦ç±æˆ–è€…æ‚å¿—çš„æ ‡é¢˜ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">blockquoto</span>&gt;</span><span class="comment">&lt;!--ï¼šå®šä¹‰å—å¼•ç”¨ï¼Œå—å¼•ç”¨æ‹¥æœ‰å®ƒä»¬è‡ªå·±çš„ç©ºé—´ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">q</span>&gt;</span>          <span class="comment">&lt;!--ï¼šçŸ­çš„å¼•è¿°ï¼ˆè·¨æµè§ˆå™¨é—®é¢˜ï¼Œå°½é‡é¿å…ä½¿ç”¨ï¼‰ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">time</span>&gt;</span>       <span class="comment">&lt;!--ï¼šdatetimeå±æ€§éµå¾ªç‰¹å®šæ ¼å¼ï¼Œå¦‚æœå¿½ç•¥æ­¤å±æ€§ï¼Œæ–‡æœ¬å†…å®¹å¿…é¡»æ˜¯åˆæ³•çš„æ—¥æœŸæˆ–è€…æ—¶é—´æ ¼å¼ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">abbr</span>&gt;</span>       <span class="comment">&lt;!--ï¼šç®€ç§°æˆ–ç¼©å†™ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dfn</span>&gt;</span>       <span class="comment">&lt;!--ï¼šå®šä¹‰æœ¯è¯­å…ƒç´ ï¼Œä¸å®šä¹‰å¿…é¡»ç´§æŒ¨ç€ï¼Œå¯ä»¥åœ¨æè¿°åˆ—è¡¨dlå…ƒç´ ä¸­ä½¿ç”¨ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">address</span>&gt;</span>    <span class="comment">&lt;!--ï¼šä½œè€…ã€ç›¸å…³äººå£«æˆ–ç»„ç»‡çš„è”ç³»ä¿¡æ¯ï¼ˆç”µå­é‚®ä»¶åœ°å€ã€æŒ‡å‘è”ç³»ä¿¡æ¯é¡µçš„é“¾æ¥ï¼‰ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">del</span>&gt;</span>        <span class="comment">&lt;!--ï¼šç§»é™¤çš„å†…å®¹ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ins</span>&gt;</span>        <span class="comment">&lt;!--ï¼šæ·»åŠ çš„å†…å®¹ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">code</span>&gt;</span>       <span class="comment">&lt;!--ï¼šæ ‡è®°ä»£ç ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meter</span>&gt;</span>      <span class="comment">&lt;!--ï¼šå®šä¹‰å·²çŸ¥èŒƒå›´æˆ–åˆ†æ•°å€¼å†…çš„æ ‡é‡æµ‹é‡ã€‚ï¼ˆInternet Explorer ä¸æ”¯æŒ meter æ ‡ç­¾ï¼‰--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">progress</span>&gt;</span>    <span class="comment">&lt;!--ï¼šå®šä¹‰è¿è¡Œä¸­çš„è¿›åº¦ï¼ˆè¿›ç¨‹ï¼‰ã€‚--&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ‰©å±•ï¼š</strong></p><p>è¯­ä¹‰åŒ–ä¼˜ç‚¹ï¼š</p><ul><li>æ˜“äºç”¨æˆ·é˜…è¯»ï¼Œæ ·å¼ä¸¢å¤±çš„æ—¶å€™èƒ½è®©é¡µé¢å‘ˆç°æ¸…æ™°çš„ç»“æ„ã€‚</li><li>æœ‰åˆ©äºSEOï¼Œæœç´¢å¼•æ“æ ¹æ®æ ‡ç­¾æ¥ç¡®å®šä¸Šä¸‹æ–‡å’Œå„ä¸ªå…³é”®å­—çš„æƒé‡ã€‚</li><li>æ–¹ä¾¿å±å¹•é˜…è¯»å™¨è§£æï¼Œå¦‚ç›²äººé˜…è¯»å™¨æ ¹æ®è¯­ä¹‰æ¸²æŸ“ç½‘é¡µ</li><li>æœ‰åˆ©äºå¼€å‘å’Œç»´æŠ¤ï¼Œè¯­ä¹‰åŒ–æ›´å…·å¯è¯»æ€§ï¼Œä»£ç æ›´å¥½ç»´æŠ¤ï¼Œä¸CSS3å…³ç³»æ›´å’Œè°ã€‚</li></ul><h2 id="1-5-audio-æ ‡ç­¾çš„api"><a href="#1-5-audio-æ ‡ç­¾çš„api" class="headerlink" title="1.5 audio æ ‡ç­¾çš„api"></a>1.5 audio æ ‡ç­¾çš„api</h2><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>audioå¸¸ç”¨å±æ€§</p><table><thead><tr><th><strong>å±æ€§</strong></th><th><strong>å±æ€§å€¼</strong></th><th><strong>æ³¨é‡Š</strong></th></tr></thead><tbody><tr><td>src</td><td>url</td><td>æ’­æ”¾çš„éŸ³ä¹çš„urlåœ°å€ï¼ˆç«ç‹åªæ”¯æŒoggçš„éŸ³ä¹ï¼Œè€ŒIE9åªæ”¯æŒMP3æ ¼å¼çš„éŸ³ä¹ã€‚chromeè²Œä¼¼å…¨æ”¯æŒï¼‰</td></tr><tr><td>preload</td><td>preload</td><td>é¢„åŠ è½½ï¼ˆåœ¨é¡µé¢è¢«åŠ è½½æ—¶è¿›è¡ŒåŠ è½½æˆ–è€…è¯´ç¼“å†²éŸ³é¢‘ï¼‰ï¼Œå¦‚æœä½¿ç”¨äº†autoplayçš„è¯é‚£ä¹ˆè¯¥å±æ€§å¤±æ•ˆã€‚</td></tr><tr><td>loop</td><td>loop</td><td>å¾ªç¯æ’­æ”¾</td></tr><tr><td>controls</td><td>controls</td><td>æ˜¯å¦æ˜¾ç¤ºé»˜è®¤æ§åˆ¶æ¡ï¼ˆæ§åˆ¶æŒ‰é’®ï¼‰</td></tr><tr><td>autoplay</td><td>autoplay</td><td>è‡ªåŠ¨æ’­æ”¾</td></tr></tbody></table><p>audioéŸ³ä¹æ ¼å¼çš„æ”¯æŒ</p><table><thead><tr><th><strong>éŸ³é¢‘æ ¼å¼</strong></th><th><strong>Chrome</strong></th><th><strong>Firefox</strong></th><th><strong>IE9</strong></th><th><strong>Opera</strong></th><th><strong>Safari</strong></th></tr></thead><tbody><tr><td>OGG</td><td>âˆš</td><td>âˆš</td><td>âˆš</td><td>Ã—</td><td>Ã—</td></tr><tr><td>MP3</td><td>âˆš</td><td>Ã—</td><td>âˆš</td><td>Ã—</td><td>âˆš</td></tr><tr><td>WAV</td><td>Ã—</td><td>âˆš</td><td>Ã—</td><td>âˆš</td><td>Ã—</td></tr></tbody></table><p>audioå±æ€§</p><table><thead><tr><th>å±æ€§</th><th>æ³¨é‡Š</th></tr></thead><tbody><tr><td>duration</td><td>è·å–åª’ä½“æ–‡ä»¶çš„æ€»æ—¶é•¿ï¼Œä»¥sä¸ºå•ä½ï¼Œå¦‚æœæ— æ³•è·å–ï¼Œè¿”å›NaN</td></tr><tr><td>paused</td><td>å¦‚æœåª’ä½“æ–‡ä»¶è¢«æš‚åœï¼Œé‚£ä¹ˆpausedå±æ€§è¿”å›trueï¼Œåä¹‹åˆ™è¿”å›false</td></tr><tr><td>ended</td><td>å¦‚æœåª’ä½“æ–‡ä»¶æ’­æ”¾å®Œæ¯•è¿”å›true</td></tr><tr><td>muted</td><td>ç”¨æ¥è·å–æˆ–è®¾ç½®é™éŸ³çŠ¶æ€ã€‚å€¼ä¸ºboolean</td></tr><tr><td>volume</td><td>æ§åˆ¶éŸ³é‡çš„å±æ€§å€¼ä¸º0-1;0ä¸ºéŸ³é‡æœ€å°ï¼Œ1ä¸ºéŸ³é‡æœ€å¤§</td></tr><tr><td>startTime</td><td>è¿”å›èµ·å§‹æ’­æ”¾æ—¶é—´</td></tr><tr><td>error</td><td>è¿”å›é”™è¯¯ä»£ç ï¼Œä¸ºuullçš„æ—¶å€™ä¸ºæ­£å¸¸ã€‚å¦åˆ™å¯ä»¥é€šè¿‡Music.error.codeæ¥è·å–å…·ä½“çš„é”™è¯¯ä»£ç ï¼š 1.ç”¨æˆ·ç»ˆæ­¢ 2.ç½‘ç»œé”™è¯¯ 3.è§£ç é”™è¯¯ 4.URLæ— æ•ˆ</td></tr><tr><td>currentTime</td><td>ç”¨æ¥è·å–æˆ–æ§åˆ¶å½“å‰æ’­æ”¾çš„æ—¶é—´ï¼Œå•ä½ä¸ºsã€‚</td></tr><tr><td>currentSrc</td><td>ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›æ­£åœ¨æ’­æ”¾æˆ–å·²åŠ è½½çš„æ–‡ä»¶</td></tr></tbody></table><p>å¸¸ç”¨çš„æ§åˆ¶ç”¨çš„å‡½æ•°ï¼š</p><table><thead><tr><th>å‡½æ•°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>load()</td><td>åŠ è½½éŸ³é¢‘ã€è§†é¢‘è½¯ä»¶</td></tr><tr><td>play()</td><td>åŠ è½½å¹¶æ’­æ”¾éŸ³é¢‘ã€è§†é¢‘æ–‡ä»¶æˆ–é‡æ–°æ’­æ”¾æš‚åœçš„çš„éŸ³é¢‘ã€è§†é¢‘</td></tr><tr><td>pause()</td><td>æš‚åœå‡ºäºæ’­æ”¾çŠ¶æ€çš„éŸ³é¢‘ã€è§†é¢‘æ–‡ä»¶</td></tr><tr><td>canPlayType(obj)</td><td>æµ‹è¯•æ˜¯å¦æ”¯æŒç»™å®šçš„Miniç±»å‹çš„æ–‡ä»¶</td></tr></tbody></table><p>å¸¸ç”¨audioçš„äº‹ä»¶ï¼š</p><table><thead><tr><th>äº‹ä»¶åç§°</th><th>äº‹ä»¶ä½œç”¨</th></tr></thead><tbody><tr><td>loadstart</td><td>å®¢æˆ·ç«¯å¼€å§‹è¯·æ±‚æ•°æ®</td></tr><tr><td>progress</td><td>å®¢æˆ·ç«¯æ­£åœ¨è¯·æ±‚æ•°æ®ï¼ˆæˆ–è€…è¯´æ­£åœ¨ç¼“å†²ï¼‰</td></tr><tr><td>play</td><td>play()å’Œautoplayæ’­æ”¾æ—¶</td></tr><tr><td>pause</td><td>pause()æ–¹æ³•ä¿ƒå‘æ—¶</td></tr><tr><td>ended</td><td>å½“å‰æ’­æ”¾ç»“æŸ</td></tr><tr><td>timeupdate</td><td>å½“å‰æ’­æ”¾æ—¶é—´å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ã€‚æ’­æ”¾ä¸­å¸¸ç”¨çš„æ—¶é—´å¤„ç†å“¦</td></tr><tr><td>canplaythrough</td><td>æ­Œæ›²å·²ç»è½½å…¥å®Œå…¨å®Œæˆ</td></tr><tr><td>canplay</td><td>ç¼“å†²è‡³ç›®å‰å¯æ’­æ”¾çŠ¶æ€ã€‚</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML </tag>
            
            <tag> å…«è‚¡æ–‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>webpack</title>
      <link href="/2024/04/01/%E5%85%AB%E8%82%A1%E6%96%87/%E6%89%93%E5%8C%85/"/>
      <url>/2024/04/01/%E5%85%AB%E8%82%A1%E6%96%87/%E6%89%93%E5%8C%85/</url>
      
        <content type="html"><![CDATA[<h4 id="2-1-æ‰“åŒ…ï¼Œwebpackå’Œgulpçš„åŒºåˆ«"><a href="#2-1-æ‰“åŒ…ï¼Œwebpackå’Œgulpçš„åŒºåˆ«" class="headerlink" title="2.1 æ‰“åŒ…ï¼Œwebpackå’Œgulpçš„åŒºåˆ«"></a>2.1 æ‰“åŒ…ï¼Œwebpackå’Œgulpçš„åŒºåˆ«</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><p><strong>Gulpï¼š</strong></p><p>Gulpæ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æ„å»º<strong>å·¥å…·</strong>ï¼Œå¼ºè°ƒçš„æ˜¯å‰ç«¯å¼€å‘çš„æµç¨‹ï¼Œé€šè¿‡é…ç½®ä¸€ç³»åˆ—çš„taskï¼Œå®šä¹‰taskå¤„ç†çš„äº‹ç‰©ï¼Œç„¶åå®šä¹‰æ‰§è¡Œé¡ºåºï¼Œæ¥è®©Gulpæ‰§è¡Œtaskï¼Œä»è€Œæ„å»ºå‰ç«¯é¡¹ç›®çš„æµç¨‹ï¼Œè¯´ç™½äº†å°±æ˜¯ç”¨æ¥æ‰“åŒ…é¡¹ç›®ã€‚</p><p>ä¸ç®¡åšä»€ä¹ˆåŠŸèƒ½ï¼Œéƒ½æœ‰ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£è¿›è¡Œç®¡ç†ï¼Œå¿…é¡»å»æ³¨å†Œä¸€ä¸ªä»»åŠ¡ï¼Œç„¶åå»æ‰§è¡Œï¼Œè¿™ä¹Ÿæ˜¯å®ƒçš„ç‰¹ç‚¹ä¹‹ä¸€ï¼Œå³â€œä»»åŠ¡åŒ–â€ã€‚</p><p><strong>WebPackï¼š</strong></p><p>WebPackæ˜¯ä¸€ä¸ªå‰ç«¯æ¨¡å—åŒ–<strong>æ–¹æ¡ˆ</strong>ï¼Œä¾§é‡æ¨¡å—æ‰“åŒ…ï¼ŒæŠŠå¼€å‘ä¸­çš„æ‰€æœ‰èµ„æºï¼ˆå›¾ç‰‡ã€jsæ–‡ä»¶ã€cssæ–‡ä»¶ç­‰ï¼‰éƒ½çœ‹æˆæ¨¡å—ï¼Œé€šè¿‡loaderï¼ˆåŠ è½½å™¨ï¼‰å’Œpluginsï¼ˆæ’ä»¶ï¼‰å¯¹èµ„æºè¿›è¡Œå¤„ç†ï¼Œæ‰“åŒ…æˆç¬¦åˆç”Ÿäº§ç¯å¢ƒéƒ¨ç½²çš„å‰ç«¯èµ„æºï¼ŒGulpä¹Ÿå¯ä»¥é…ç½®seajsã€requirejsç”šè‡³webpackçš„æ’ä»¶ã€‚</p><p>å®ƒä¼šåˆ†æä½ çš„é¡¹ç›®ç»“æ„ï¼Œæ‰¾åˆ°JSæ¨¡å—ä»¥åŠé‚£äº›æµè§ˆå™¨ä¸èƒ½å¤Ÿç›´æ¥è¿è¡Œçš„æ‰©å±•è¯­è¨€ï¼ˆå¦‚ï¼šTypeScriptç­‰ï¼‰ï¼Œç„¶åå°†å…¶è½¬æ¢å’Œæ‰“åŒ…ä¸ºåˆé€‚çš„æ ¼å¼ä¾›æµè§ˆå™¨ä½¿ç”¨ã€‚<strong>å®ƒæœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯â€œæ¨¡å—åŒ–â€ï¼ˆä¸‡ç‰©çš†æ¨¡å—ï¼‰ã€‚</strong><br>ç›¸åŒç‚¹ï¼š</p><ul><li>éƒ½å¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œåˆå¹¶ä¸å‹ç¼©ï¼ˆJSã€CSSï¼‰ã€‚</li></ul><p>ä¸åŒç‚¹ï¼š</p><ul><li>Gulpæ˜¯æ„å»ºå·¥å…·ï¼Œå¯ä»¥é…åˆå„ç§æ’ä»¶åšcss.å‹ç¼©ç­‰ï¼Œè§£æ”¾äº†åŒæ‰‹ï¼Œå®ç°äº†è‡ªåŠ¨åŒ–ã€‚</li><li>Gulpä¸¥æ ¼ä¸Šè®²ï¼Œå®ƒæ—¨åœ¨è§„èŒƒå‰ç«¯å¼€å‘æµç¨‹ï¼Œä¸åŒ…æ‹¬æ¨¡å—åŒ–åŠŸèƒ½ã€‚</li><li>WebPackæ˜¯æ–‡ä»¶æ‰“åŒ…å·¥å…·ï¼Œå¯æŠŠå„ä¸ªé¡¹ç›®çš„css.å‹ç¼©æ–‡ä»¶ç­‰æ‰“åŒ…åˆå¹¶æˆä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼Œä¸»è¦å°±æ˜¯åº”ç”¨äºæ¨¡å—åŒ–æ“ä½œã€‚</li><li>WebPackæ›´æ˜¯æ˜æ˜¾å¼ºè°ƒæ¨¡å—åŒ–å¼€å‘ï¼Œè€Œé‚£äº›æ–‡ä»¶å‹ç¼©åˆå¹¶ã€é¢„å¤„ç†ç­‰åŠŸèƒ½ï¼Œåªæ˜¯ä»–é™„å¸¦çš„åŠŸèƒ½ã€‚</li><li>WebPackæ•´åˆäº†Gulpçš„ä¼˜ç‚¹ï¼Œå½“æˆ‘ä»¬æƒ³è¦ä¸€æ­¥ä¸€æ­¥æ¥é…ç½®è‡ªå·±çš„ç¯å¢ƒæ—¶ï¼Œé‚£ä¹ˆgulpå°±å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„éœ€è¦ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³ä¸€ä¸‹å°±é…å¤‡å¤§éƒ¨åˆ†æˆ‘ä»¬æ‰€éœ€è¦çš„ç¯å¢ƒï¼Œé‚£ä¹ˆæ­¤æ—¶å¯ä»¥é€‰ç”¨WebPackï¼Œå‰ææ˜¯å†™å¥½package.jsonã€‚</li><li>gulpä¸webpackä¸Šæ˜¯äº’è¡¥çš„ï¼Œè¿˜æ˜¯å¯æ›¿æ¢çš„ï¼Œå–å†³äºä½ é¡¹ç›®çš„éœ€æ±‚ï¼Œå®ƒä»¬å¯ä¸å­˜åœ¨å†²çªçš„å…³ç³»å“ˆã€‚</li><li>Gulpä¸WebPackå¯ä»¥ç»„åˆèµ·æ¥ä½¿ç”¨ï¼Œä»¥ä¾¿å¿«é€Ÿç¼–è¯‘ï¼ˆä¾é Gulpä¸°å¯Œçš„ç»„ä»¶å¯ä»¥è®©JSä¸HTMLå®ç°è”åŠ¨ï¼Œä»è€Œæ§åˆ¶WebPackåº”ç”¨ç¨‹åºï¼Œè¾¾åˆ°é«˜è‡ªåŠ¨åŒ–ï¼‰</li></ul><h4 id="2-2-webpackçš„æ‰“åŒ…æµç¨‹"><a href="#2-2-webpackçš„æ‰“åŒ…æµç¨‹" class="headerlink" title="2.2 webpackçš„æ‰“åŒ…æµç¨‹"></a>2.2 webpackçš„æ‰“åŒ…æµç¨‹</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><p>Webpackçš„è¿è¡Œæµç¨‹æ˜¯ä¸€ä¸ªä¸²è¡Œçš„è¿‡ç¨‹ï¼Œä»å¯åŠ¨åˆ°ç»“æŸä¾æ¬¡æ‰§è¡Œä»¥ä¸‹æµç¨‹ï¼š</p><ol><li>åˆå§‹åŒ–ï¼šå¯åŠ¨æ„å»ºï¼Œè¯»å–ä¸åˆå¹¶é…ç½®å‚æ•°ï¼ŒåŠ è½½ Pluginï¼Œå®ä¾‹åŒ– Compilerã€‚</li><li>ç¼–è¯‘ï¼šä» Entry å‘å‡ºï¼Œé’ˆå¯¹æ¯ä¸ª Module ä¸²è¡Œè°ƒç”¨å¯¹åº”çš„ Loader å»ç¿»è¯‘æ–‡ä»¶å†…å®¹ï¼Œå†æ‰¾åˆ°è¯¥ Module ä¾èµ–çš„ Moduleï¼Œé€’å½’åœ°è¿›è¡Œç¼–è¯‘å¤„ç†ã€‚</li><li>è¾“å‡ºï¼šå¯¹ç¼–è¯‘åçš„ Module ç»„åˆæˆ Chunkï¼ŒæŠŠ Chunk è½¬æ¢æˆæ–‡ä»¶ï¼Œè¾“å‡ºåˆ°æ–‡ä»¶ç³»ç»Ÿã€‚</li></ol><p>å¦‚æœåªæ‰§è¡Œä¸€æ¬¡æ„å»ºï¼Œä»¥ä¸Šé˜¶æ®µå°†ä¼šæŒ‰ç…§é¡ºåºå„æ‰§è¡Œä¸€æ¬¡ã€‚ä½†åœ¨å¼€å¯ç›‘å¬æ¨¡å¼ä¸‹ï¼Œæµç¨‹å°†å˜ä¸ºå¦‚ä¸‹ï¼š</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646129282955/9B823AC99AF889118D34D0CB72E7A28E" alt="img"></p><p>ä¸‹é¢å…·ä½“ä»‹ç»ä¸€ä¸‹webpackçš„ä¸‰ä¸ªå¤§é˜¶æ®µå…·ä½“çš„å°æ­¥ã€‚</p><p>åˆå§‹åŒ–é˜¶æ®µ</p><p>åˆå§‹åŒ–é˜¶æ®µå¤§è‡´åˆ†ä¸ºï¼š</p><ul><li>åˆå¹¶shellå’Œ<strong>é…ç½®æ–‡ä»¶æ–‡ä»¶</strong>çš„å‚æ•°å¹¶ä¸”<strong>å®ä¾‹åŒ–Complierå¯¹è±¡</strong>ã€‚</li><li><strong>åŠ è½½æ’ä»¶</strong></li><li><strong>å¤„ç†å…¥å£</strong></li></ul><table><thead><tr><th>äº‹ä»¶å</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>åˆå§‹åŒ–å‚æ•°</td><td>ä»é…ç½®æ–‡ä»¶å’Œ Shell è¯­å¥ä¸­è¯»å–ä¸åˆå¹¶å‚æ•°ï¼Œå¾—å‡ºæœ€ç»ˆçš„å‚æ•°ã€‚ è¿™ä¸ªè¿‡ç¨‹ä¸­è¿˜ä¼šæ‰§è¡Œé…ç½®æ–‡ä»¶ä¸­çš„æ’ä»¶å®ä¾‹åŒ–è¯­å¥ new Plugin()ã€‚</td></tr><tr><td>å®ä¾‹åŒ– Compiler</td><td>ç”¨ä¸Šä¸€æ­¥å¾—åˆ°çš„å‚æ•°åˆå§‹åŒ–Compilerå®ä¾‹ï¼ŒCompilerè´Ÿè´£æ–‡ä»¶ç›‘å¬å’Œå¯åŠ¨ç¼–è¯‘ã€‚Compilerå®ä¾‹ä¸­åŒ…å«äº†å®Œæ•´çš„Webpacké…ç½®ï¼Œå…¨å±€åªæœ‰ä¸€ä¸ªCompilerå®ä¾‹ã€‚</td></tr><tr><td>åŠ è½½æ’ä»¶</td><td>ä¾æ¬¡è°ƒç”¨æ’ä»¶çš„applyæ–¹æ³•ï¼Œè®©æ’ä»¶å¯ä»¥ç›‘å¬åç»­çš„æ‰€æœ‰äº‹ä»¶èŠ‚ç‚¹ã€‚åŒæ—¶ç»™æ’ä»¶ä¼ å…¥compilerå®ä¾‹çš„å¼•ç”¨ï¼Œä»¥æ–¹ä¾¿æ’ä»¶é€šè¿‡compilerè°ƒç”¨Webpackæä¾›çš„APIã€‚</td></tr><tr><td>environment</td><td>å¼€å§‹åº”ç”¨Node.jsé£æ ¼çš„æ–‡ä»¶ç³»ç»Ÿåˆ°compilerå¯¹è±¡ï¼Œä»¥æ–¹ä¾¿åç»­çš„æ–‡ä»¶å¯»æ‰¾å’Œè¯»å–ã€‚</td></tr><tr><td>entry-option</td><td>è¯»å–é…ç½®çš„Entrysï¼Œä¸ºæ¯ä¸ªEntryå®ä¾‹åŒ–ä¸€ä¸ªå¯¹åº”çš„EntryPluginï¼Œä¸ºåé¢è¯¥Entryçš„é€’å½’è§£æå·¥ä½œåšå‡†å¤‡ã€‚</td></tr><tr><td>after-plugins</td><td>è°ƒç”¨å®Œæ‰€æœ‰å†…ç½®çš„å’Œé…ç½®çš„æ’ä»¶çš„applyæ–¹æ³•ã€‚</td></tr><tr><td>after-resolvers</td><td>æ ¹æ®é…ç½®åˆå§‹åŒ–å®Œresolverï¼Œresolverè´Ÿè´£åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­å¯»æ‰¾æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶ã€‚</td></tr></tbody></table><p>ç¼–è¯‘é˜¶æ®µ</p><table><thead><tr><th>äº‹ä»¶å</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>before-run</td><td>æ¸…é™¤ç¼“å­˜</td></tr><tr><td>run</td><td>å¯åŠ¨ä¸€æ¬¡æ–°çš„ç¼–è¯‘ã€‚</td></tr><tr><td>watch-run</td><td>å’Œrunç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºå®ƒæ˜¯åœ¨ç›‘å¬æ¨¡å¼ä¸‹å¯åŠ¨çš„ç¼–è¯‘ï¼Œåœ¨è¿™ä¸ªäº‹ä»¶ä¸­å¯ä»¥è·å–åˆ°æ˜¯å“ªäº›æ–‡ä»¶å‘ç”Ÿäº†å˜åŒ–å¯¼è‡´<strong>é‡æ–°å¯åŠ¨</strong>ä¸€æ¬¡æ–°çš„ç¼–è¯‘ã€‚</td></tr><tr><td>compile</td><td>è¯¥äº‹ä»¶æ˜¯ä¸ºäº†å‘Šè¯‰æ’ä»¶ä¸€æ¬¡<strong>æ–°çš„</strong>ç¼–è¯‘å°†è¦å¯åŠ¨ï¼ŒåŒæ—¶ä¼šç»™æ’ä»¶å¸¦ä¸Šcompilerå¯¹è±¡ã€‚</td></tr><tr><td>compilation</td><td>å½“Webpackä»¥å¼€å‘æ¨¡å¼è¿è¡Œæ—¶ï¼Œæ¯å½“æ£€æµ‹åˆ°æ–‡ä»¶å˜åŒ–ï¼Œä¸€æ¬¡æ–°çš„Compilationå°†è¢«åˆ›å»ºã€‚ä¸€ä¸ªCompilationå¯¹è±¡åŒ…å«äº†å½“å‰çš„æ¨¡å—èµ„æºã€ç¼–è¯‘ç”Ÿæˆèµ„æºã€å˜åŒ–çš„æ–‡ä»¶ç­‰ã€‚Compilationå¯¹è±¡ä¹Ÿæä¾›äº†å¾ˆå¤šäº‹ä»¶å›è°ƒä¾›æ’ä»¶åšæ‰©å±•ã€‚</td></tr><tr><td>make</td><td>ä¸€ä¸ªæ–°çš„Compilationåˆ›å»ºå®Œæ¯•ï¼Œå³å°†ä»Entryå¼€å§‹è¯»å–æ–‡ä»¶ï¼Œæ ¹æ®æ–‡ä»¶ç±»å‹å’Œé…ç½®çš„Loaderå¯¹æ–‡ä»¶è¿›è¡Œç¼–è¯‘ï¼Œç¼–è¯‘å®Œåå†æ‰¾å‡ºè¯¥æ–‡ä»¶ä¾èµ–çš„æ–‡ä»¶ï¼Œé€’å½’çš„ç¼–è¯‘å’Œè§£æã€‚</td></tr><tr><td>after-compile</td><td>ä¸€æ¬¡Compilationæ‰§è¡Œå®Œæˆã€‚è¿™é‡Œä¼šæ ¹æ®ç¼–è¯‘ç»“æœ åˆå¹¶å‡ºæˆ‘ä»¬æœ€ç»ˆç”Ÿæˆçš„æ–‡ä»¶åå’Œæ–‡ä»¶å†…å®¹ã€‚</td></tr><tr><td>invalid</td><td>å½“é‡åˆ°æ–‡ä»¶ä¸å­˜åœ¨ã€æ–‡ä»¶ç¼–è¯‘é”™è¯¯ç­‰å¼‚å¸¸æ—¶ä¼šè§¦å‘è¯¥äº‹ä»¶ï¼Œè¯¥äº‹ä»¶ä¸ä¼šå¯¼è‡´Webpacké€€å‡ºã€‚</td></tr></tbody></table><p>è¿™é‡Œä¸»è¦æœ€é‡è¦çš„å°±æ˜¯compilationè¿‡ç¨‹ï¼Œcompilationå®é™…ä¸Šå°±æ˜¯è°ƒç”¨ç›¸åº”çš„loaderå¤„ç†æ–‡ä»¶ç”Ÿæˆchunkså¹¶å¯¹è¿™äº›chunksåšä¼˜åŒ–çš„è¿‡ç¨‹ã€‚å‡ ä¸ªå…³é”®çš„äº‹ä»¶ï¼ˆCompilationå¯¹è±¡this.hooksä¸­ï¼‰ï¼š</p><table><thead><tr><th>äº‹ä»¶å</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>build-module</td><td>ä½¿ç”¨å¯¹åº”çš„Loaderå»è½¬æ¢ä¸€ä¸ªæ¨¡å—ã€‚</td></tr><tr><td>normal-module-loader</td><td>åœ¨ç”¨Loaderå¯¹ä¸€ä¸ªæ¨¡å—è½¬æ¢å®Œåï¼Œä½¿ç”¨acornè§£æè½¬æ¢åçš„å†…å®¹ï¼Œè¾“å‡ºå¯¹åº”çš„æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ï¼Œä»¥æ–¹ä¾¿Webpackåé¢å¯¹ä»£ç çš„åˆ†æã€‚</td></tr><tr><td>program</td><td>ä»é…ç½®çš„å…¥å£æ¨¡å—å¼€å§‹ï¼Œåˆ†æå…¶ASTï¼Œå½“é‡åˆ°requireç­‰å¯¼å…¥å…¶å®ƒæ¨¡å—è¯­å¥æ—¶ï¼Œä¾¿å°†å…¶åŠ å…¥åˆ°<strong>ä¾èµ–çš„æ¨¡å—åˆ—è¡¨</strong>ï¼ŒåŒæ—¶å¯¹æ–°æ‰¾å‡ºçš„<strong>ä¾èµ–æ¨¡å—é€’å½’åˆ†æ</strong>ï¼Œæœ€ç»ˆææ¸…æ‰€æœ‰æ¨¡å—çš„<strong>ä¾èµ–å…³ç³»</strong>ã€‚</td></tr><tr><td>seal</td><td>æ‰€æœ‰æ¨¡å—åŠå…¶<strong>ä¾èµ–</strong>çš„æ¨¡å—éƒ½é€šè¿‡Loaderè½¬æ¢å®Œæˆåï¼Œæ ¹æ®ä¾èµ–å…³ç³»å¼€å§‹ç”ŸæˆChunkã€‚</td></tr></tbody></table><p>è¾“å‡ºé˜¶æ®µ</p><table><thead><tr><th>äº‹ä»¶å</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>should-emit</td><td>æ‰€æœ‰éœ€è¦è¾“å‡ºçš„æ–‡ä»¶å·²ç»ç”Ÿæˆå¥½ï¼Œè¯¢é—®æ’ä»¶å“ªäº›æ–‡ä»¶éœ€è¦è¾“å‡ºï¼Œå“ªäº›ä¸éœ€è¦ã€‚</td></tr><tr><td>emit</td><td>ç¡®å®šå¥½è¦è¾“å‡ºå“ªäº›æ–‡ä»¶åï¼Œæ‰§è¡Œæ–‡ä»¶è¾“å‡ºï¼Œå¯ä»¥åœ¨è¿™é‡Œè·å–å’Œä¿®æ”¹è¾“å‡ºå†…å®¹ã€‚</td></tr><tr><td>after-emit</td><td>æ–‡ä»¶è¾“å‡ºå®Œæ¯•ã€‚</td></tr><tr><td>done</td><td>æˆåŠŸå®Œæˆä¸€æ¬¡å®Œæˆçš„ç¼–è¯‘å’Œè¾“å‡ºæµç¨‹ã€‚</td></tr><tr><td>failed</td><td>å¦‚æœåœ¨ç¼–è¯‘å’Œè¾“å‡ºæµç¨‹ä¸­é‡åˆ°å¼‚å¸¸å¯¼è‡´Webpacké€€å‡ºæ—¶ï¼Œå°±ä¼šç›´æ¥è·³è½¬åˆ°æœ¬æ­¥éª¤ï¼Œæ’ä»¶å¯ä»¥åœ¨æœ¬äº‹ä»¶ä¸­è·å–åˆ°å…·ä½“çš„é”™è¯¯åŸå› ã€‚</td></tr></tbody></table><h4 id="2-3-webpack-æœ‰å“ªäº›é˜¶æ®µ"><a href="#2-3-webpack-æœ‰å“ªäº›é˜¶æ®µ" class="headerlink" title="2.3 webpack æœ‰å“ªäº›é˜¶æ®µ"></a>2.3 webpack æœ‰å“ªäº›é˜¶æ®µ</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><ol><li>webpackçš„å‡†å¤‡é˜¶æ®µ</li><li>moduleså’Œchunksçš„ç”Ÿæˆé˜¶æ®µ</li><li>æ–‡ä»¶ç”Ÿæˆé˜¶æ®µ</li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å…«è‚¡æ–‡ </tag>
            
            <tag> webpack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES5å’ŒES6</title>
      <link href="/2024/04/01/%E5%85%AB%E8%82%A1%E6%96%87/ES5%E5%92%8CES6/"/>
      <url>/2024/04/01/%E5%85%AB%E8%82%A1%E6%96%87/ES5%E5%92%8CES6/</url>
      
        <content type="html"><![CDATA[<h4 id="6-1-es6ä¸­ç®­å¤´å‡½æ•°"><a href="#6-1-es6ä¸­ç®­å¤´å‡½æ•°" class="headerlink" title="6.1 es6ä¸­ç®­å¤´å‡½æ•°"></a>6.1 es6ä¸­ç®­å¤´å‡½æ•°</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><ol><li><p>åŸºæœ¬è¯­æ³•</p><p>ES6ä¸­å…è®¸ä½¿ç”¨ç®­å¤´&#x3D;&gt;æ¥å®šä¹‰ç®­å¤´å‡½æ•°ï¼Œå…·ä½“è¯­æ³•ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">fun</span> = (<span class="params">name</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// å‡½æ•°ä½“</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">`Hello <span class="subst">$&#123;name&#125;</span> !`</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">let</span> fun = <span class="keyword">function</span> (<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="comment">// å‡½æ•°ä½“</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">`Hello <span class="subst">$&#123;name&#125;</span> !`</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œå®šä¹‰ç®­å¤´å‡½åœ¨æ•°è¯­æ³•ä¸Šè¦æ¯”æ™®é€šå‡½æ•°ç®€æ´å¾—å¤šã€‚ç®­å¤´å‡½æ•°çœå»äº†functionå…³é”®å­—ï¼Œé‡‡ç”¨ç®­å¤´&#x3D;&gt;æ¥å®šä¹‰å‡½æ•°ã€‚å‡½æ•°çš„å‚æ•°æ”¾åœ¨&#x3D;&gt;å‰é¢çš„æ‹¬å·ä¸­ï¼Œå‡½æ•°ä½“è·Ÿåœ¨&#x3D;&gt;åçš„èŠ±æ‹¬å·ä¸­ã€‚</p><p>å…³äºç®­å¤´å‡½æ•°çš„å‚æ•°ï¼š</p><p><strong>â‘ </strong> å¦‚æœç®­å¤´å‡½æ•°æ²¡æœ‰å‚æ•°ï¼Œç›´æ¥å†™ä¸€ä¸ªç©ºæ‹¬å·å³å¯ã€‚</p><p><strong>â‘¡</strong> å¦‚æœç®­å¤´å‡½æ•°çš„å‚æ•°åªæœ‰ä¸€ä¸ªï¼Œä¹Ÿå¯ä»¥çœå»åŒ…è£¹å‚æ•°çš„æ‹¬å·ã€‚</p><p><strong>â‘¢</strong> å¦‚æœç®­å¤´å‡½æ•°æœ‰å¤šä¸ªå‚æ•°ï¼Œå°†å‚æ•°ä¾æ¬¡ç”¨é€—å·(,)åˆ†éš”ï¼ŒåŒ…è£¹åœ¨æ‹¬å·ä¸­å³å¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ²¡æœ‰å‚æ•°</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">fun1</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">111</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥çœå»å‚æ•°æ‹¬å·</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">fun2</span> = name =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hello <span class="subst">$&#123;name&#125;</span> !`</span>)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ‰å¤šä¸ªå‚æ•°</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">fun3</span> = (<span class="params">val1, val2, val3</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> [val1, val2, val3];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å…³äºç®­å¤´å‡½æ•°çš„å‡½æ•°ä½“ï¼š</p><p><strong>â‘ </strong> å¦‚æœç®­å¤´å‡½æ•°çš„å‡½æ•°ä½“åªæœ‰ä¸€å¥ä»£ç ï¼Œå°±æ˜¯ç®€å•è¿”å›æŸä¸ªå˜é‡æˆ–è€…è¿”å›ä¸€ä¸ªç®€å•çš„JSè¡¨è¾¾å¼ï¼Œå¯ä»¥çœå»å‡½æ•°ä½“çš„å¤§æ‹¬å·{ }ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">f</span> = val =&gt; val;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">let</span> f = <span class="keyword">function</span> (<span class="params">val</span>) &#123; <span class="keyword">return</span> val &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">sum</span> = (<span class="params">num1, num2</span>) =&gt; num1 + num2;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">let</span> sum = <span class="keyword">function</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>â‘¡</strong> å¦‚æœç®­å¤´å‡½æ•°çš„å‡½æ•°ä½“åªæœ‰ä¸€å¥ä»£ç ï¼Œå°±æ˜¯è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·å†™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨å°æ‹¬å·åŒ…è£¹è¦è¿”å›çš„å¯¹è±¡ï¼Œä¸æŠ¥é”™</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">getTempItem</span> = id =&gt; (&#123; <span class="attr">id</span>: id, <span class="attr">name</span>: <span class="string">&quot;Temp&quot;</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½†ç»ä¸èƒ½è¿™æ ·å†™ï¼Œä¼šæŠ¥é”™ã€‚</span></span><br><span class="line"><span class="comment">// å› ä¸ºå¯¹è±¡çš„å¤§æ‹¬å·ä¼šè¢«è§£é‡Šä¸ºå‡½æ•°ä½“çš„å¤§æ‹¬å·</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">getTempItem</span> = id =&gt; &#123; <span class="attr">id</span>: id, <span class="attr">name</span>: <span class="string">&quot;Temp&quot;</span> &#125;;</span><br></pre></td></tr></table></figure><p><strong>â‘¢</strong> å¦‚æœç®­å¤´å‡½æ•°çš„å‡½æ•°ä½“åªæœ‰ä¸€æ¡è¯­å¥å¹¶ä¸”ä¸éœ€è¦è¿”å›å€¼ï¼ˆæœ€å¸¸è§æ˜¯è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼‰ï¼Œå¯ä»¥ç»™è¿™æ¡è¯­å¥å‰é¢åŠ ä¸€ä¸ªvoidå…³é”®å­—</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">fn</span> = (<span class="params"></span>) =&gt; <span class="keyword">void</span> <span class="title function_">doesNotReturn</span>();</span><br></pre></td></tr></table></figure><p>ç®­å¤´å‡½æ•°æœ€å¸¸è§çš„ç”¨å¤„å°±æ˜¯ç®€åŒ–å›è°ƒå‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¾‹å­ä¸€</span></span><br><span class="line"><span class="comment">// æ­£å¸¸å‡½æ•°å†™æ³•</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">x</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x * x;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°å†™æ³•</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].<span class="title function_">map</span>(<span class="function"><span class="params">x</span> =&gt;</span> x * x);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾‹å­äºŒ</span></span><br><span class="line"><span class="comment">// æ­£å¸¸å‡½æ•°å†™æ³•</span></span><br><span class="line"><span class="keyword">var</span> result = [<span class="number">2</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>].<span class="title function_">sort</span>(<span class="keyword">function</span> (<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a - b;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°å†™æ³•</span></span><br><span class="line"><span class="keyword">var</span> result = [<span class="number">2</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>].<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br></pre></td></tr></table></figure></li><li><p>ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«</p><p>2.1 è¯­æ³•æ›´åŠ ç®€æ´ã€æ¸…æ™°</p><p>ä»ä¸Šé¢çš„åŸºæœ¬è¯­æ³•ç¤ºä¾‹ä¸­å¯ä»¥çœ‹å‡ºï¼Œç®­å¤´å‡½æ•°çš„å®šä¹‰è¦æ¯”æ™®é€šå‡½æ•°å®šä¹‰ç®€æ´ã€æ¸…æ™°å¾—å¤šï¼Œå¾ˆå¿«æ·ã€‚</p><p>2.2 ç®­å¤´å‡½æ•°ä¸ä¼šåˆ›å»ºè‡ªå·±çš„this</p><p>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisï¼Œå®ƒä¼šæ•è·è‡ªå·±åœ¨<strong>å®šä¹‰æ—¶</strong>ï¼ˆæ³¨æ„ï¼Œæ˜¯å®šä¹‰æ—¶ï¼Œä¸æ˜¯è°ƒç”¨æ—¶ï¼‰æ‰€å¤„çš„<strong>å¤–å±‚æ‰§è¡Œç¯å¢ƒçš„this</strong>ï¼Œå¹¶ç»§æ‰¿è¿™ä¸ªthiså€¼ã€‚æ‰€ä»¥ï¼Œç®­å¤´å‡½æ•°ä¸­thisçš„æŒ‡å‘åœ¨å®ƒè¢«å®šä¹‰çš„æ—¶å€™å°±å·²ç»ç¡®å®šäº†ï¼Œä¹‹åæ°¸è¿œä¸ä¼šæ”¹å˜ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> id = <span class="string">&#x27;Global&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fun1</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// setTimeoutä¸­ä½¿ç”¨æ™®é€šå‡½æ•°</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">id</span>);</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fun2</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// setTimeoutä¸­ä½¿ç”¨ç®­å¤´å‡½æ•°</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">id</span>);</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fun1.<span class="title function_">call</span>(&#123;<span class="attr">id</span>: <span class="string">&#x27;Obj&#x27;</span>&#125;);     <span class="comment">// &#x27;Global&#x27;</span></span><br><span class="line"></span><br><span class="line">fun2.<span class="title function_">call</span>(&#123;<span class="attr">id</span>: <span class="string">&#x27;Obj&#x27;</span>&#125;);     <span class="comment">// &#x27;Obj&#x27;</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ä¸ªä¾‹å­ï¼Œå‡½æ•°fun1ä¸­çš„setTimeoutä¸­ä½¿ç”¨æ™®é€šå‡½æ•°ï¼Œ2ç§’åå‡½æ•°æ‰§è¡Œæ—¶ï¼Œè¿™æ—¶å‡½æ•°å…¶å®æ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸæ‰§è¡Œçš„ï¼Œæ‰€ä»¥thisæŒ‡å‘Windowå¯¹è±¡ï¼Œthis.idå°±æŒ‡å‘å…¨å±€å˜é‡idï¼Œæ‰€ä»¥è¾“å‡ºâ€™Globalâ€™ã€‚ ä½†æ˜¯å‡½æ•°fun2ä¸­çš„setTimeoutä¸­ä½¿ç”¨çš„æ˜¯ç®­å¤´å‡½æ•°ï¼Œè¿™ä¸ªç®­å¤´å‡½æ•°çš„thisåœ¨å®šä¹‰æ—¶å°±ç¡®å®šäº†ï¼Œå®ƒç»§æ‰¿äº†å®ƒå¤–å±‚fun2çš„æ‰§è¡Œç¯å¢ƒä¸­çš„thisï¼Œè€Œfun2è°ƒç”¨æ—¶thisè¢«callæ–¹æ³•æ”¹å˜åˆ°äº†å¯¹è±¡{id: â€˜Objâ€™}ä¸­ï¼Œæ‰€ä»¥è¾“å‡ºâ€™Objâ€™</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> id = <span class="string">&#x27;GLOBAL&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="string">&#x27;OBJ&#x27;</span>,</span><br><span class="line">  <span class="attr">a</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">id</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">b</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">id</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">a</span>();    <span class="comment">// &#x27;OBJ&#x27;</span></span><br><span class="line">obj.<span class="title function_">b</span>();    <span class="comment">// &#x27;GLOBAL&#x27;</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ä¸ªä¾‹å­ï¼Œå¯¹è±¡objçš„æ–¹æ³•aä½¿ç”¨æ™®é€šå‡½æ•°å®šä¹‰çš„ï¼Œ<strong>æ™®é€šå‡½æ•°ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨æ—¶ï¼ŒthisæŒ‡å‘å®ƒæ‰€å±çš„å¯¹è±¡</strong>ã€‚æ‰€ä»¥ï¼Œthis.idå°±æ˜¯obj.idï¼Œæ‰€ä»¥è¾“å‡ºâ€™OBJâ€™ã€‚ ä½†æ˜¯æ–¹æ³•bæ˜¯ä½¿ç”¨ç®­å¤´å‡½æ•°å®šä¹‰çš„ï¼Œç®­å¤´å‡½æ•°ä¸­çš„thiså®é™…æ˜¯ç»§æ‰¿çš„å®ƒå®šä¹‰æ—¶æ‰€å¤„çš„å…¨å±€æ‰§è¡Œç¯å¢ƒä¸­çš„thisï¼Œæ‰€ä»¥æŒ‡å‘Windowå¯¹è±¡ï¼Œæ‰€ä»¥è¾“å‡ºâ€™GLOBALâ€™ã€‚ï¼ˆ<strong>è¿™é‡Œè¦æ³¨æ„ï¼Œå®šä¹‰å¯¹è±¡çš„å¤§æ‹¬å·{}æ˜¯æ— æ³•å½¢æˆä¸€ä¸ªå•ç‹¬çš„æ‰§è¡Œç¯å¢ƒçš„ï¼Œå®ƒä¾æ—§æ˜¯å¤„äºå…¨å±€æ‰§è¡Œç¯å¢ƒä¸­ï¼ï¼</strong>ï¼‰</p></li><li><p>ç®­å¤´å‡½æ•°ç»§æ‰¿è€Œæ¥çš„thisæŒ‡å‘æ°¸è¿œä¸å˜ï¼ˆé‡è¦ï¼ï¼æ·±å…¥ç†è§£ï¼ï¼ï¼‰</p><p>ä¸Šé¢çš„ä¾‹å­ï¼Œå°±å®Œå…¨å¯ä»¥è¯´æ˜ç®­å¤´å‡½æ•°ç»§æ‰¿è€Œæ¥çš„thisæŒ‡å‘æ°¸è¿œä¸å˜ã€‚å¯¹è±¡objçš„æ–¹æ³•bæ˜¯ä½¿ç”¨ç®­å¤´å‡½æ•°å®šä¹‰çš„ï¼Œè¿™ä¸ªå‡½æ•°ä¸­çš„thiså°±<strong>æ°¸è¿œæŒ‡å‘</strong>å®ƒå®šä¹‰æ—¶æ‰€å¤„çš„å…¨å±€æ‰§è¡Œç¯å¢ƒä¸­çš„thisï¼Œå³ä¾¿è¿™ä¸ªå‡½æ•°æ˜¯ä½œä¸ºå¯¹è±¡objçš„æ–¹æ³•è°ƒç”¨ï¼Œthisä¾æ—§æŒ‡å‘Windowå¯¹è±¡ã€‚</p></li><li><p>.call()&#x2F;.apply()&#x2F;.bind()æ— æ³•æ”¹å˜ç®­å¤´å‡½æ•°ä¸­thisçš„æŒ‡å‘</p><p>.call()&#x2F;.apply()&#x2F;.bind()æ–¹æ³•å¯ä»¥ç”¨æ¥åŠ¨æ€ä¿®æ”¹å‡½æ•°æ‰§è¡Œæ—¶thisçš„æŒ‡å‘ï¼Œä½†ç”±äºç®­å¤´å‡½æ•°çš„thiså®šä¹‰æ—¶å°±å·²ç»ç¡®å®šä¸”æ°¸è¿œä¸ä¼šæ”¹å˜ã€‚æ‰€ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•æ°¸è¿œä¹Ÿæ”¹å˜ä¸äº†ç®­å¤´å‡½æ•°thisçš„æŒ‡å‘ï¼Œè™½ç„¶è¿™ä¹ˆåšä»£ç ä¸ä¼šæŠ¥é”™ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> id = <span class="string">&#x27;Global&#x27;</span>;</span><br><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°å®šä¹‰åœ¨å…¨å±€ä½œç”¨åŸŸ</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">fun1</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">id</span>)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fun1</span>();     <span class="comment">// &#x27;Global&#x27;</span></span><br><span class="line"><span class="comment">// thisçš„æŒ‡å‘ä¸ä¼šæ”¹å˜ï¼Œæ°¸è¿œæŒ‡å‘Windowå¯¹è±¡</span></span><br><span class="line">fun1.<span class="title function_">call</span>(&#123;<span class="attr">id</span>: <span class="string">&#x27;Obj&#x27;</span>&#125;);     <span class="comment">// &#x27;Global&#x27;</span></span><br><span class="line">fun1.<span class="title function_">apply</span>(&#123;<span class="attr">id</span>: <span class="string">&#x27;Obj&#x27;</span>&#125;);    <span class="comment">// &#x27;Global&#x27;</span></span><br><span class="line">fun1.<span class="title function_">bind</span>(&#123;<span class="attr">id</span>: <span class="string">&#x27;Obj&#x27;</span>&#125;)();   <span class="comment">// &#x27;Global&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>ç®­å¤´å‡½æ•°ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ä½¿ç”¨</p><p>æˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹æ„é€ å‡½æ•°çš„newéƒ½åšäº†äº›ä»€ä¹ˆï¼Ÿç®€å•æ¥è¯´ï¼Œåˆ†ä¸ºå››æ­¥ï¼š â‘  JSå†…éƒ¨é¦–å…ˆä¼šå…ˆç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼› â‘¡ å†æŠŠå‡½æ•°ä¸­çš„thisæŒ‡å‘è¯¥å¯¹è±¡ï¼› â‘¢ ç„¶åæ‰§è¡Œæ„é€ å‡½æ•°ä¸­çš„è¯­å¥ï¼› â‘£ æœ€ç»ˆè¿”å›è¯¥å¯¹è±¡å®ä¾‹ã€‚</p><p>ä½†æ˜¯å› ä¸ºç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisï¼Œå®ƒçš„thiså…¶å®æ˜¯ç»§æ‰¿äº†å¤–å±‚æ‰§è¡Œç¯å¢ƒä¸­çš„thisï¼Œä¸”thisæŒ‡å‘æ°¸è¿œä¸ä¼šéšåœ¨å“ªé‡Œè°ƒç”¨ã€è¢«è°è°ƒç”¨è€Œæ”¹å˜ï¼Œæ‰€ä»¥ç®­å¤´å‡½æ•°ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ä½¿ç”¨ï¼Œæˆ–è€…è¯´æ„é€ å‡½æ•°ä¸èƒ½å®šä¹‰æˆç®­å¤´å‡½æ•°ï¼Œå¦åˆ™ç”¨newè°ƒç”¨æ—¶ä¼šæŠ¥é”™</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">Fun</span> = (<span class="params">name, age</span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Fun</span>(<span class="string">&#x27;cao&#x27;</span>, <span class="number">24</span>);</span><br></pre></td></tr></table></figure></li><li><p>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„arguments</p><p>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„argumentså¯¹è±¡ã€‚åœ¨ç®­å¤´å‡½æ•°ä¸­è®¿é—®argumentså®é™…ä¸Šè·å¾—çš„æ˜¯å¤–å±‚å±€éƒ¨ï¼ˆå‡½æ•°ï¼‰æ‰§è¡Œç¯å¢ƒä¸­çš„å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¾‹å­ä¸€</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">fun</span> = (<span class="params">val</span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(val);   <span class="comment">// 111</span></span><br><span class="line">    <span class="comment">// ä¸‹é¢ä¸€è¡Œä¼šæŠ¥é”™</span></span><br><span class="line">    <span class="comment">// Uncaught ReferenceError: arguments is not defined</span></span><br><span class="line">    <span class="comment">// å› ä¸ºå¤–å±‚å…¨å±€ç¯å¢ƒæ²¡æœ‰argumentså¯¹è±¡</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>); </span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">fun</span>(<span class="number">111</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾‹å­äºŒ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">outer</span>(<span class="params">val1, val2</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> argOut = <span class="variable language_">arguments</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(argOut);    <span class="comment">// â‘ </span></span><br><span class="line">    <span class="keyword">let</span> <span class="title function_">fun</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">let</span> argIn = <span class="variable language_">arguments</span>;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(argIn);     <span class="comment">// â‘¡</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(argOut === argIn);  <span class="comment">// â‘¢</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="title function_">fun</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">outer</span>(<span class="number">111</span>, <span class="number">222</span>);</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä¾‹å­äºŒï¼Œâ‘ â‘¡â‘¢å¤„çš„è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646122153287/E7FCE80FDDB9FFE3A2590AE7A84AC3E1" alt="img"></p><p>å¾ˆæ˜æ˜¾ï¼Œæ™®é€šå‡½æ•°outerå†…éƒ¨çš„ç®­å¤´å‡½æ•°funä¸­çš„argumentså¯¹è±¡ï¼Œå…¶å®æ˜¯æ²¿ä½œç”¨åŸŸé“¾å‘ä¸Šè®¿é—®çš„å¤–å±‚outerå‡½æ•°çš„argumentså¯¹è±¡ã€‚</p><p><strong>å¯ä»¥åœ¨ç®­å¤´å‡½æ•°ä¸­ä½¿ç”¨restå‚æ•°ä»£æ›¿argumentså¯¹è±¡ï¼Œæ¥è®¿é—®ç®­å¤´å‡½æ•°çš„å‚æ•°åˆ—è¡¨ï¼ï¼</strong></p></li><li><p>ç®­å¤´å‡½æ•°æ²¡æœ‰åŸå‹prototype</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">sayHi</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello World !&#x27;</span>)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sayHi.<span class="property"><span class="keyword">prototype</span></span>); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></li><li><p>ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œGeneratorå‡½æ•°ï¼Œä¸èƒ½ä½¿ç”¨yeildå…³é”®å­—</p></li></ol><h4 id="6-2-ES6æ–°ç‰¹æ€§"><a href="#6-2-ES6æ–°ç‰¹æ€§" class="headerlink" title="6.2 ES6æ–°ç‰¹æ€§"></a>6.2 ES6æ–°ç‰¹æ€§</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><ol><li><p>å˜é‡å’Œä½œç”¨åŸŸ</p><p>1.1 let ã€constã€ å—çº§ä½œç”¨åŸŸå’Œå˜é‡å£°æ˜</p><p>letå£°æ˜çš„å˜é‡<strong>åªåœ¨æ‰€åœ¨å—ä¸­ç”Ÿæ•ˆ</strong>ï¼›</p><p>letå£°æ˜çš„å˜é‡å¯ä»¥è§£å†³varä¸forå¾ªç¯ç»“åˆä½¿ç”¨äº§ç”Ÿçš„æ— æ³•å–å¾—æœ€æ–°å˜é‡å€¼çš„é—®é¢˜ï¼ˆä»¥å¾€éƒ½éœ€è¦é€šè¿‡é—­åŒ…æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼‰ï¼›</p><p>letå£°æ˜çš„å˜é‡<strong>ä¸å­˜åœ¨å˜é‡æå‡</strong>ï¼ˆä»undefined-&gt;ReferenceErrorï¼Œå…¶å®ä¹Ÿæ˜¯ä¸€ç§æš‚æ—¶æ€§æ­»åŒºï¼‰ã€ä¼šé€ æˆ<strong>å˜é‡æš‚æ—¶æ€§æ­»åŒº</strong>(åœ¨å£°æ˜letå˜é‡ä¹‹å‰éƒ½ä¸èƒ½ç”¨å®ƒ)ã€ä¹Ÿä¸å…è®¸é‡å¤å£°æ˜ï¼›</p><p>constå£°æ˜çš„å˜é‡è¡Œä¸ºä¸letç±»ä¼¼ï¼Œåªæ˜¯å¤šäº†<strong>ä¸¤ç‚¹æ›´å¼ºçš„çº¦æŸï¼š1.å£°æ˜æ—¶å¿…é¡»èµ‹å€¼ï¼›2.å£°æ˜çš„å˜é‡å†…å­˜åœ°å€ä¸å¯å˜ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯</strong>ï¼šå¯¹äºç”¨constå£°æ˜åŸºæœ¬ç±»å‹ï¼Œå€¼å°±ä¿å­˜åœ¨å†…å­˜åœ°å€ä¹‹ä¸­ï¼Œæ„å‘³ç€å˜é‡ä¸å¯é‡æ–°èµ‹å€¼ï¼›å¯¹äºç”¨constå£°æ˜çš„å¯¹è±¡ï¼Œå¯¹è±¡å†…å®¹è¿˜æ˜¯å¯ä»¥æ›´æ”¹çš„ï¼Œåªæ˜¯ä¸èƒ½æ”¹å˜å…¶æŒ‡å‘ã€‚ï¼ˆå†»ç»“å¯¹è±¡åº”è¯¥ç”¨Object.freeze()ï¼‰</p><p>1.2 è§£æ„èµ‹å€¼ï¼ˆæŒ‰ç…§ä¸€å®šçš„ç»“æ„è§£æå‡ºæ¥è¿›è¡Œèµ‹å€¼ï¼‰</p><p>è§£æ„èµ‹å€¼çš„ä½¿ç”¨åœºæ™¯ï¼šå˜é‡å¿«æ·èµ‹å€¼ã€æå–æ•°æ®ã€å‡½æ•°å‚æ•°å®šä¹‰å’Œé»˜è®¤å€¼ã€éå†æŸç»“æ„</p></li><li><p>åŸç”Ÿå¯¹è±¡çš„æ–¹æ³•æ‰©å±•</p><p>2.1 String</p><p>åŠ å¼ºäº†å¯¹unicodeçš„æ”¯æŒã€æ”¯æŒå­—ç¬¦ä¸²éå†ï¼ˆåé¢æœ‰è®²åˆ°å®é™…ä¸Šæ˜¯éƒ¨ç½²äº†iteratoræ¥å£ï¼‰ã€repeat()ç­‰æ–¹æ³•çš„æ”¯æŒã€<strong>æ¨¡æ¿å­—ç¬¦ä¸²</strong></p><p>2.2 RegExp</p><p>æ„é€ å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼ŒæŒ‡å®šç¬¬äºŒä¸ªå‚æ•°ä¸å†æŠ¥é”™ã€uä¿®é¥°ç¬¦ã€yä¿®é¥°ç¬¦ã€sä¿®é¥°ç¬¦</p><p>2.3 Number</p><p>äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶æ–°å†™æ³•ã€æ–°æ–¹æ³•parseInt()ã€Number.EPSILONæå°å¸¸é‡ã€å®‰å…¨æ•´æ•°ã€Mathæ–°æ–¹æ³•</p><p>2.4 Function</p><p><strong>å‡½æ•°å‚æ•°é»˜è®¤å€¼</strong>ã€restå‚æ•°ã€<strong>å‡½æ•°å†…éƒ¨ä¸¥æ ¼æ¨¡å¼</strong>ã€å‡½æ•°çš„nameå±æ€§ã€<strong>ç®­å¤´å‡½æ•°</strong></p><p>2.5 Array</p><p><strong>æ‰©å±•è¿ç®—ç¬¦â€¦</strong></p><p>2.6 Object å’Œ Symbol</p><p>(1) Objectå¯¹è±¡</p><p>æ”¯æŒ<strong>ç®€å†™</strong>ï¼šåŒåå±æ€§K-Vå¯ä»¥çœç•¥ä¸€ä¸ªã€å‡½æ•°å£°æ˜å¯ä»¥çœç•¥functionï¼›æ”¯æŒ<strong>å±æ€§åè¡¨è¾¾å¼</strong>ã€å‡½æ•°åè¡¨è¾¾ å¼ã€‚ï¼ˆæ³¨æ„ï¼šä»¥ä¸Š2ä¸ªâ€”â€”è¡¨è¾¾å¼å’Œç®€å†™ä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼‰ã€‚</p><p>å¯¹è±¡çš„æ–¹æ³•çš„nameå±æ€§è¿”å›æ–¹æ³•åï¼Œä½†æœ‰å‡ ä¸ªä¾‹å¤–æƒ…å†µè¦å°å¿ƒã€‚æ–°å¢äº†Objectæ–¹æ³•</p><p>Object.is()â€”â€”ç”¨äºè§£å†³&#x3D;&#x3D;å’Œ&#x3D;&#x3D;&#x3D;çš„éƒ¨åˆ†å…¼å®¹é—®é¢˜</p><p>Object.assign()â€”â€”å°†srcçš„æ‰€æœ‰å¯æšä¸¾å¯¹è±¡å±æ€§å¤åˆ¶åˆ°destå¯¹è±¡ä¸Šï¼ˆæµ…å¤åˆ¶ï¼‰</p><p>Object.setPrototypeOf()ã€Object.getPrototypeOf() (Object.__protoå±æ€§)</p><p>Object.entries()ã€Object.keys()ã€Object.values()</p><p>ES6ä¸­5ç§éå†å¯¹è±¡å±æ€§çš„æ–¹æ³•</p><p><strong>for-inâ€”â€”è‡ªèº«å’Œç»§æ‰¿çš„å¯æšä¸¾å±æ€§ï¼ˆé™¤Symbolï¼‰</strong></p><p><strong>Object.keys()â€”â€”è‡ªèº«éç»§æ‰¿çš„å¯æšä¸¾å±æ€§ï¼ˆé™¤Symbolï¼‰</strong></p><p><strong>Object.getOwnPropertyNames()â€”â€”è‡ªèº«æ‰€æœ‰å±æ€§é”®åï¼ˆåŒ…æ‹¬ä¸å¯æšä¸¾ã€é™¤Symbolï¼‰</strong></p><p><strong>Object.getOwnPropertySymbols()â€”â€”è‡ªèº«çš„æ‰€æœ‰ Symbol å±æ€§çš„é”®å</strong></p><p><strong>Reflect.ownKeys()â€”â€”è‡ªèº«çš„æ‰€æœ‰é”®å</strong></p><p>ï¼ˆ2ï¼‰Symbolç±»å‹</p><p>ES5ä»¥å‰ï¼Œå¯¹è±¡å±æ€§éƒ½åªèƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå®¹æ˜“é€ æˆé‡å‘½åå¯¼è‡´çš„å†²çªã€‚Symbolæä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥ä¿å­˜ å±æ€§åæ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚Symbolç±»å‹çš„ä½¿ç”¨æ³¨æ„ï¼š1ï¼‰åˆ›å»ºæ˜¯è°ƒç”¨å‡½æ•°ï¼Œè€Œä¸æ˜¯newå…³é”®å­— 2ï¼‰Symbolç±» å‹çš„å±æ€§ä¸ä¼šè¢«for-*ã€Object.keys()ã€Object.getPropertyNames()è¿”å›ï¼Œå¯ä»¥ç”¨åé¢ä¸¤ç§æ–¹æ³•éå†ã€‚</p></li><li><p>æ•°æ®ç»“æ„Setå’ŒMap</p><p>Setæ˜¯ä¸€ç§ç±»ä¼¼æ•°ç»„çš„æ•°æ®ç»“æ„ï¼ŒåŒºåˆ«åœ¨äºå…¶å­˜å‚¨çš„æˆå‘˜éƒ½æ˜¯ä¸é‡å¤çš„ï¼Œç”±æ­¤å¸¦æ¥äº†å®ƒçš„ä¸€ä¸ªåº”ç”¨å°±æ˜¯ï¼š<strong>å»é‡</strong>ã€‚Seté€šè¿‡newå…³é”®å­—å®ä¾‹åŒ–ï¼Œå…¥å‚å¯ä»¥æ˜¯æ•°ç»„orç±»æ•°ç»„çš„å¯¹è±¡ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šåœ¨Setä¸­ï¼Œåªèƒ½å­˜å‚¨ä¸€ä¸ªNaNï¼Œ<strong>è¿™è¯´æ˜åœ¨Setæ•°æ®ç»“æ„ä¸­ï¼ŒNaNç­‰äºNaN</strong>ã€‚</p><p>Setå®ä¾‹çš„æ–¹æ³•ï¼šæ“ä½œæ–¹æ³•add()ã€delete()ã€has()å’Œclear()ï¼›éå†æ–¹æ³•ï¼škeys()ã€values()ã€entries()å’ŒforEach();æ‰©å±•è¿ç®—ç¬¦â€¦ã€æ•°ç»„æ–¹æ³•map()ã€filter()æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨äºSetç»“æ„ã€‚ç”±æ­¤å®ƒå¯ä»¥å¾ˆæ–¹ä¾¿çš„å®ç°æ•°ç»„çš„äº¤ã€å¹¶ã€å·®é›†ã€‚</p><p>WeakSetç±»ä¼¼äºSetï¼Œ<strong>ä¸»è¦åŒºåˆ«åœ¨äº1.æˆå‘˜åªèƒ½æ˜¯å¯¹è±¡ç±»å‹ï¼›2.å¯¹è±¡éƒ½æ˜¯å¼±å¼•ç”¨</strong>ï¼ˆå¦‚æœå…¶ä»–å¯¹è±¡éƒ½ä¸å†å¼•ç”¨è¯¥å¯¹è±¡ï¼Œåƒåœ¾å›æ”¶æœºåˆ¶ä¼šè‡ªåŠ¨å›æ”¶è¯¥å¯¹è±¡æ‰€å çš„å†…å­˜ï¼Œä¸å¯é¢„æµ‹ä½•æ—¶ä¼šå‘ç”Ÿï¼Œæ•…WeakSetä¸å¯è¢«éå†ï¼‰</p><p>JavaScriptå¯¹è±¡Objectéƒ½æ˜¯é”®å€¼K-Vå¯¹çš„é›†åˆï¼Œä½†Kå–å€¼åªèƒ½æ˜¯å­—ç¬¦ä¸²å’ŒSymbolï¼ŒMapä¹Ÿæ˜¯K-Vçš„é›†åˆï¼Œç„¶è€Œå…¶Kå¯ä»¥å–ä»»æ„ç±»å‹ã€‚å¦‚æœéœ€è¦é”®å€¼å¯¹çš„é›†åˆï¼ŒMapæ¯”Objectæ›´é€‚åˆã€‚Mapé€šè¿‡newå…³é”®å­—å®ä¾‹åŒ–ã€‚</p><p>Mapå®ä¾‹çš„æ–¹æ³•ï¼šset()ã€get()ã€has()ã€delete()å’Œclear();éå†æ–¹æ³•åŒSetã€‚</p><p>Mapä¸å…¶å®ƒæ•°æ®ç»“æ„çš„äº’ç›¸è½¬æ¢ï¼šMap &lt;â€”&gt; æ•°ç»„| Map &lt;â€”&gt; å¯¹è±¡| Map &lt;â€”&gt; JSONã€‚</p><p>WeakMapç±»ä¼¼äºMapï¼Œä¸»è¦åŒºåˆ«åœ¨äºï¼š<strong>1.åªæ¥å—å¯¹è±¡ä½œä¸ºé”®åï¼›2.é”®åæ‰€æŒ‡å‘çš„å¯¹è±¡ä¸è®¡å…¥åƒåœ¾å›æ”¶æœºåˆ¶</strong>ã€‚</p></li><li><p>å…ƒç¼–ç¨‹ç›¸å…³Proxyå’ŒReflect</p><p>4.1 Proxy</p><p>å¯¹ç›®æ ‡å¯¹è±¡åŠ ä¸€å±‚â€œæ‹¦æˆªâ€ï¼ˆâ€œä»£ç†â€ï¼‰ï¼Œå¤–ç•Œå¯¹å¯¹è±¡çš„è®¿é—®ã€ä¿®æ”¹éƒ½å¿…é¡»å…ˆé€šè¿‡è¿™å±‚æ‹¦æˆªå±‚ã€‚å› è€Œå®ƒæä¾›äº† ä¸€ä¸ªæœºåˆ¶å¯ä»¥å¯¹å¤–ç•Œçš„è®¿é—®è¿›è¡Œè¿‡æ»¤å’Œæ”¹å†™ã€‚</p><p>ç”¨æ³•ï¼švar proxy &#x3D; new Proxy(p1,p2); p1æ˜¯è¦è¢«ä»£ç†çš„ç›®æ ‡å¯¹è±¡ï¼Œp2æ˜¯é…ç½®å¯¹è±¡ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š<strong>Proxyä¸æ˜¯å¯¹ç›®æ ‡å¯¹è±¡é€æ˜çš„ä»£ç†</strong>â€”â€”å³ä½¿ä¸åšä»»ä½•æ‹¦æˆªçš„æƒ…å†µä¸‹æ— æ³•ä¿è¯ä»£ç†å¯¹è±¡ä¸ç›® æ ‡å¯¹è±¡è¡Œä¸ºçš„å®Œå…¨ä¸€è‡´ã€‚ï¼ˆä¸»è¦åŸå› åœ¨äºä»£ç†æ—¶ï¼Œç›®æ ‡å¯¹è±¡å†…éƒ¨çš„thisä¼šæŒ‡å‘ä»£ç†å¯¹è±¡ï¼‰</p><p>4.2 Reflect</p><p>ä¸Proxyä¸€æ ·æ˜¯ES6ä¸º<strong>è¯­è¨€å±‚é¢çš„ç”¨äºæ“ä½œå¯¹è±¡æä¾›çš„æ–°API</strong>ï¼Œç›®å‰å®ƒæ‰€æ‹¥æœ‰çš„å¯¹è±¡æ–¹æ³•ä¸Proxyå¯¹è±¡ä¸€ä¸€å¯¹ åº”ï¼Œ<strong>å¼•å…¥ç›®çš„</strong>ï¼š1.å°†Objectå¯¹è±¡ä¸Šä¸€äº›å±äºè¯­è¨€å†…éƒ¨çš„æ–¹æ³•æ”¾åœ¨Reflectä¸Šï¼ˆç›®å‰éƒ½å¯ä»¥æ”¾ï¼‰2.ä¿®æ”¹Objectå¯¹ è±¡ä¸ŠæŸäº›æ–¹æ³•çš„è¿”å›å€¼ï¼Œä½¿å¾—æ›´åŠ åˆç†åŒ–ï¼ˆå¥å£®ï¼‰3.è®©Objectå¯¹è±¡çš„æ“ä½œä»å‘½ä»¤å¼å®Œå…¨è½¬åŒ–ä¸ºå‡½æ•°å¼</p></li><li><p>å¼‚æ­¥ç¼–ç¨‹Promiseã€Generatorå’ŒAsync</p><p>åœ¨JavaScriptçš„ä¸–ç•Œé‡Œï¼Œå¯¹äº<strong>å¼‚æ­¥ç¼–ç¨‹å­˜åœ¨å¦‚ä¸‹å‡ ç§æ–¹æ¡ˆï¼š1.å›è°ƒå‡½æ•°ï¼›2.äº‹ä»¶è§¦å‘ç›‘å¬ï¼›3.å‘å¸ƒè®¢é˜…è€…æ¨¡å¼ï¼›4.Promise</strong>ã€‚é¦–å…ˆä»‹ç»Promiseï¼Œç„¶åä»‹ç»ES6æä¾›çš„ç”Ÿæˆå™¨å‡½æ•°ï¼Œasyncå‡½æ•°ã€‚</p><p>Promiseæ¥æºäºç¤¾åŒºï¼Œä»£è¡¨ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒä»£è¡¨å¼‚æ­¥æ“ä½œæœªæ¥çš„ä¸€ä¸ªç»“æœï¼ˆæ‰¿è¯ºï¼‰ã€‚å®ƒæ€»å…±æœ‰<strong>ä¸‰ä¸ªçŠ¶æ€</strong>ï¼Œpending\fulfilled\rejectedã€‚å¦å¤–ï¼Œå®ƒçš„çŠ¶æ€<strong>ç¿»è½¬è·¯å¾„åªæœ‰ä¸¤ä¸ª</strong>ï¼špending-&gt;fulfilled or pending-&gt;rejectedï¼Œä¸€æ—¦çŠ¶æ€ç¿»è½¬ï¼Œå°±ä¸å¯å˜äº†ã€‚å®ƒæ”¯æŒé“¾å¼è°ƒç”¨ï¼Œæ”¯æŒé”™è¯¯ä¼ é€’ï¼Œæ”¯æŒä»¥åŒæ­¥ä»£ç çš„æ–¹å¼å†™å¼‚æ­¥æ“ä½œã€‚</p><p>Promiseæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ›å»ºæ­¤å¯¹è±¡å®ä¾‹çš„æ–¹æ³•å¦‚ä¸‹ï¼ˆå¯ä»¥ç†è§£resolveå’Œrejectæ˜¯å·²è¿”å›çš„æ‰¿è¯ºå¯¹è±¡æœªæ¥å›è°ƒå‡½æ•°çš„å ä½ï¼‰</p><p>Generatorå‡½æ•°æ˜¯ES6æä¾›çš„å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆã€‚å¯¹äºGeneratorå‡½æ•°ï¼Œå¯ä»¥å°†å®ƒ<strong>ç†è§£ä¸ºä¸€ä¸ªçŠ¶æ€æœºï¼Œå°è£…äº†å¤šä¸ªå†…éƒ¨çŠ¶æ€ï¼›æ­¤å¤–å®ƒè¿˜æ˜¯ä¸€ä¸ªéå†å™¨ç”Ÿæˆå‡½æ•°</strong>ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥éå†å‡ºçŠ¶æ€æœºçš„æ‰€æœ‰çŠ¶æ€ã€‚</p><p>å‡½æ•°ç‰¹å¾ï¼šå…³é”®å­—functionä¸å‡½æ•°åä¹‹é—´æœ‰*ï¼Œå‡½æ•°ä½“å†…éƒ¨yeildå…³é”®å­—ã€‚</p><p><strong>ç”Ÿæˆå™¨å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«</strong>ï¼šå‡½æ•°è°ƒç”¨åä¸æ‰§è¡Œï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ï¼ˆéå†å™¨å¯¹è±¡ï¼‰ã€‚è°ƒç”¨å¯¹è±¡çš„next()æ–¹æ³•ï¼Œæ‰§è¡Œä¸€æ®µyieldé€»è¾‘ã€‚æ•…å‡½æ•°çš„åˆ†æ®µæ‰§è¡Œçš„ï¼Œ<strong>yieldæ˜¯æš‚åœæ‰§è¡Œçš„æ ‡å¿—ï¼Œnext()å¯ä»¥æ¢å¤æ‰§è¡Œ</strong>ã€‚</p><p><strong>yieldä¸returnçš„åŒºåˆ«</strong>ï¼šyieldæœ‰è®°å¿†åŠŸèƒ½ï¼Œreturnæ²¡æœ‰ï¼›ä¸€ä¸ªå‡½æ•°å¯ä»¥å¤šæ¬¡æ‰§è¡Œyeildï¼Œä½†åªä¼šreturnä¸€æ¬¡</p><p><strong>asyncå‡½æ•°</strong>æ˜¯Generatorå‡½æ•°çš„è¯­æ³•ç³–ï¼Œå®ƒè¿›è¡Œäº†<strong>æ”¹è¿›ï¼š1.è‡ªå¸¦æ‰§è¡Œå™¨ï¼›2.è¿”å›å€¼æ˜¯Promise;</strong></p><p>ä¸‰å®¶å¯¹æ¯”ï¼š<strong>ä½¿ç”¨Promiseçš„å¼‚æ­¥ä»£ç å­˜åœ¨å¤§é‡è‡ªæœ‰APIçš„è°ƒç”¨ï¼Œæ“ä½œæœ¬èº«çš„è¯­ä¹‰å¤¹æ‚å…¶ä¸­ï¼Œä¸æ˜¯å¾ˆæ¸…æ™°ï¼›Generatorå‡½æ•°å®ç°çš„å¼‚æ­¥ä»£ç è¯­ä¹‰æ¯”Promiseæ¸…æ™°ï¼Œä½†éœ€è¦ä¸€ä¸ªæ‰§è¡Œå™¨ï¼›asyncå‡½æ•°çš„å†™æ³•æœ€ç®€æ´ã€ç¬¦åˆè¯­ä¹‰ï¼Œä¸éœ€è¦æ‰§è¡Œå™¨</strong>ã€‚</p></li><li><p>è¯­è¨€å±‚é¢ç±»ã€æ¨¡å—çš„æ”¯æŒ</p><p>6.1 class</p><p>ä» ES6 å¼€å§‹ï¼ŒJavaScript æä¾›äº† class å…³é”®å­—æ¥å®šä¹‰ç±»ï¼Œå°½ç®¡ï¼Œè¿™æ ·çš„æ–¹æ¡ˆä»ç„¶æ˜¯åŸºäºåŸå‹è¿è¡Œæ—¶ç³»ç»Ÿçš„æ¨¡æ‹Ÿï¼Œå¤§éƒ¨åˆ†åŠŸèƒ½ES5å¯ä»¥å®ç°ã€‚</p><p>æ„é€ å‡½æ•°çš„prototypeå±æ€§åœ¨ ES6 çš„â€œç±»â€ä¸Šé¢ç»§ç»­å­˜åœ¨ã€‚äº‹å®ä¸Šï¼Œç±»ä¸­æ‰€æœ‰æ–¹æ³•éƒ½å®šä¹‰åœ¨ç±»çš„prototypeå±æ€§ä¸Šé¢ï¼ˆå› è€Œä¹Ÿæ˜¯ä¸å¯æšä¸¾çš„ï¼‰ã€‚</p><p>constructoræ–¹æ³•æ˜¯ç±»çš„é»˜è®¤æ–¹æ³•ï¼Œé€šè¿‡newå‘½ä»¤ç”Ÿæˆå¯¹è±¡å®ä¾‹æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ã€‚ä¸€ä¸ªç±»å¿…é¡»æœ‰constructoræ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼å®šä¹‰ï¼Œä¸€ä¸ªç©ºçš„constructoræ–¹æ³•ä¼šè¢«é»˜è®¤æ·»åŠ ã€‚ï¼ˆé»˜è®¤æ„é€ å‡½æ•°ï¼‰ï¼›constructoræ–¹æ³•é»˜è®¤è¿”å›å®ä¾‹å¯¹è±¡ï¼ˆå³thisï¼‰ï¼Œå®Œå…¨å¯ä»¥æŒ‡å®šè¿”å›å¦å¤–ä¸€ä¸ªå¯¹è±¡ã€‚</p><p>æ³¨æ„åŒºåˆ«ï¼š<strong>ç±»å¿…é¡»ä½¿ç”¨</strong>new<strong>è°ƒç”¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™</strong>ã€‚è¿™æ˜¯å®ƒè·Ÿæ™®é€šæ„é€ å‡½æ•°çš„ä¸€ä¸ªä¸»è¦åŒºåˆ«ï¼Œåè€…ä¸ç”¨newä¹Ÿå¯ä»¥æ‰§è¡Œã€‚</p><p>ç±»ç›¸å½“äºå®ä¾‹çš„åŸå‹ï¼Œæ‰€æœ‰åœ¨ç±»ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œéƒ½ä¼šè¢«å®ä¾‹ç»§æ‰¿ã€‚å¦‚æœåœ¨ä¸€ä¸ªæ–¹æ³•å‰ï¼ŒåŠ ä¸Šstaticå…³é”®å­—ï¼Œå°±è¡¨ç¤ºè¯¥æ–¹æ³•ä¸ä¼šè¢«å®ä¾‹ç»§æ‰¿ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡ç±»æ¥è°ƒç”¨ï¼Œè¿™å°±ç§°ä¸ºâ€œé™æ€æ–¹æ³•â€ã€‚</p><p>å®ä¾‹å±æ€§é™¤äº†å®šä¹‰åœ¨constructor()æ–¹æ³•é‡Œé¢çš„thisä¸Šé¢ï¼Œä¹Ÿå¯ä»¥å®šä¹‰åœ¨ç±»çš„æœ€é¡¶å±‚ã€‚</p><p>ç§æœ‰å±æ€§å’Œæ–¹æ³•å¦‚ä½•å®ç°ï¼Ÿ1.å‘½åä¸ŠåŠ ä»¥åŒºåˆ« 2.å°†ç§æœ‰æ–¹æ³•ç§»å‡ºæ¨¡å—ï¼Œåˆ©ç”¨å…¬æœ‰æ–¹æ³•è°ƒç”¨ï¼›3.Symbolå±æ€§ä¸Šï¼ˆéƒ½ä¸å®Œç¾ï¼‰</p><p>6.2 module</p><p>åœ¨ ES6 ä¹‹å‰ï¼Œç¤¾åŒºåˆ¶å®šäº†ä¸€äº›æ¨¡å—åŠ è½½æ–¹æ¡ˆï¼Œæœ€ä¸»è¦çš„æœ‰ CommonJS å’Œ AMD ä¸¤ç§ã€‚å‰è€…ç”¨äºæœåŠ¡å™¨ï¼Œåè€…ç”¨äºæµè§ˆå™¨ã€‚ES6 æ¨¡å—çš„è®¾è®¡æ€æƒ³æ˜¯å°½é‡çš„é™æ€åŒ–ï¼Œä½¿å¾—<strong>ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®š</strong>æ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œä»¥åŠè¾“å…¥å’Œè¾“å‡ºçš„å˜é‡ã€‚CommonJS å’Œ AMD æ¨¡å—ï¼Œéƒ½åªèƒ½åœ¨<strong>è¿è¡Œæ—¶ç¡®å®šã€‚</strong></p><p><strong>ç¼–è¯‘æ—¶åŠ è½½VSè¿è¡Œæ—¶åŠ è½½â€”â€”å¯¹è±¡VSä»£ç </strong></p><p>æ¨¡å—å‘½ä»¤ï¼šexportå’Œimportï¼›ä¸€ä¸ªæ–‡ä»¶å³ä¸ºä¸€ä¸ªæ¨¡å—ï¼Œé™¤éå¯¼å…¥å¦åˆ™å¤–éƒ¨æ— æ³•è¯»å–æ¨¡å—å±æ€§ï¼›</p><p>exportæ”¯æŒï¼šå˜é‡ã€å‡½æ•°å’Œç±»</p><p>exportå‘½ä»¤å¯ä»¥å‡ºç°åœ¨æ¨¡å—çš„ä»»ä½•ä½ç½®ï¼Œåªè¦å¤„äºæ¨¡å—é¡¶å±‚å°±å¯ä»¥ã€‚å¦‚æœå¤„äºå—çº§ä½œç”¨åŸŸå†…ï¼Œå°±ä¼šæŠ¥é”™ï¼Œä¸‹ä¸€èŠ‚çš„importå‘½ä»¤ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><p>è¾“å…¥çš„å˜é‡éƒ½æ˜¯åªè¯»çš„ï¼Œå› ä¸ºå®ƒçš„æœ¬è´¨æ˜¯è¾“å…¥æ¥å£ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å…è®¸åœ¨åŠ è½½æ¨¡å—çš„è„šæœ¬é‡Œé¢ï¼Œæ”¹å†™æ¥å£ã€‚ç”±äºimportæ˜¯é™æ€æ‰§è¡Œï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨è¡¨è¾¾å¼å’Œå˜é‡ï¼Œè¿™äº›åªæœ‰åœ¨è¿è¡Œæ—¶æ‰èƒ½å¾—åˆ°ç»“æœçš„è¯­æ³•ç»“æ„ã€‚</p><p>ä½¿ç”¨importå‘½ä»¤çš„æ—¶å€™ï¼Œç”¨æˆ·éœ€è¦çŸ¥é“æ‰€è¦åŠ è½½çš„å˜é‡åæˆ–å‡½æ•°åï¼Œå¦åˆ™æ— æ³•åŠ è½½ã€‚ä½†æ˜¯ï¼Œç”¨æˆ·è‚¯å®šå¸Œæœ›å¿«é€Ÿä¸Šæ‰‹ï¼Œæœªå¿…æ„¿æ„é˜…è¯»æ–‡æ¡£ï¼Œå»äº†è§£æ¨¡å—æœ‰å“ªäº›å±æ€§å’Œæ–¹æ³•ã€‚ä¸ºäº†ç»™ç”¨æˆ·æä¾›æ–¹ä¾¿ï¼Œè®©ä»–ä»¬ä¸ç”¨é˜…è¯»æ–‡æ¡£å°±èƒ½åŠ è½½æ¨¡å—ï¼Œå°±è¦ç”¨åˆ°export defaultå‘½ä»¤ï¼Œä¸ºæ¨¡å—æŒ‡å®šé»˜è®¤è¾“å‡ºã€‚</p><p>æ¨¡å—ä¹‹é—´ä¹Ÿå¯ä»¥ç»§æ‰¿ã€‚</p></li><li><p>JSä¸­å¯¹è±¡åˆ†ç±»ã€åŠå…¶å®ƒåŸç”Ÿå¯¹è±¡</p></li><li><p>Iterator</p><p>ES6ä¹‹å‰åœ¨JSä¸­åªæœ‰Arrayå’Œå¯¹è±¡å¯ä»¥è¡¨ç¤ºâ€œé›†åˆâ€è¿™ç§æ•°æ®ç»“æ„ï¼ŒES6ä¸­å¢åŠ äº†ï¼šSetå’ŒMapã€‚ç”±æ­¤ï¼Œå››ç§ä¹‹é—´äº’ç›¸ç»„åˆåˆå¯ä»¥å®šä¹‰æ–°çš„æ•°æ®ç»“æ„ã€‚è¿™äº›<strong>æ–°å®šä¹‰çš„æ•°æ®ç»“æ„å¦‚ä½•è®¿é—®å‘¢ï¼Ÿéå†å™¨ï¼ˆIteratorï¼‰å°±æ˜¯è¿™æ ·ä¸€ç§æœºåˆ¶ã€‚å®ƒæ˜¯ä¸€ç§æ¥å£ï¼Œä¸ºå„ç§ä¸åŒçš„æ•°æ®ç»“æ„æä¾›ç»Ÿä¸€çš„è®¿é—®æœºåˆ¶</strong>ã€‚ä»»ä½•æ•°æ®ç»“æ„åªè¦éƒ¨ç½² Iterator æ¥å£ï¼Œå°±å¯ä»¥å®Œæˆéå†æ“ä½œã€‚éå†å™¨å¯¹è±¡æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ã€‚</p><p>åªè¦ä¸ºæŸä¸ªæ•°æ®ç»“æ„éƒ¨ç½² äº†Iteratoræ¥å£ï¼Œåˆ™å¯ä»¥ç§°æ­¤æ•°æ®ç»“æ„æ˜¯å¯éå†çš„ã€‚iteratorå±æ€§éƒ¨ç½²åœ¨Symbolä¸Šã€‚å¦‚ä¸‹å¯¹è±¡é»˜è®¤éƒ¨ç½²äº†Iteratorç»“å£ï¼šArray Set Map Stringç­‰ã€‚éƒ¨ç½²iteratorç»“æ„çš„<strong>è¦ç‚¹ï¼š1ï¼‰åœ¨Symbol.iteratorä¸Šéƒ¨ç½²ï¼›2ï¼‰å¿…é¡»åŒ…å«next()å‡½æ•°</strong>ã€‚é»˜è®¤è°ƒç”¨iteratoræ¥å£çš„åœºæ™¯ï¼šè§£æ„èµ‹å€¼ã€â€¦æ‰©å±•è¿ç®—ç¬¦ã€yeild* ã€‚for-ofå¾ªç¯å†…éƒ¨è°ƒç”¨çš„å³æ˜¯è°ƒç”¨æ•°æ®æœºæ„å†…éƒ¨çš„Symbol.iteratoræ–¹æ³•ã€‚</p><p><strong>for-inå’Œfor-ofå¾ªç¯</strong></p><p>for-inç”¨äºéå†å¯¹è±¡å±æ€§ï¼Œå¯¹è±¡è‡ªèº«å’Œç»§æ‰¿çš„å¯æšä¸¾å±æ€§ï¼ˆä¸å¯éå†Symbolå±æ€§ï¼‰</p><p>for-ofå¾ªç¯æ˜¯ä¸€ç§éå†æ‰€æœ‰æ•°æ®æœºæ„çš„ç»Ÿä¸€æ–¹æ³•ã€‚å®ç°åŸç†æ˜¯æ•°æ®ç»“æ„ä¸Šéƒ¨ç½²çš„Symbol.iteratorå±æ€§ã€‚</p></li></ol><h4 id="6-3-ES6-ä¸-ES5-ç»§æ‰¿çš„åŒºåˆ«"><a href="#6-3-ES6-ä¸-ES5-ç»§æ‰¿çš„åŒºåˆ«" class="headerlink" title="6.3 ES6 ä¸ ES5 ç»§æ‰¿çš„åŒºåˆ«"></a>6.3 ES6 ä¸ ES5 ç»§æ‰¿çš„åŒºåˆ«</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>ES6 ä¸­æœ‰ç±» class çš„æ¦‚å¿µï¼Œç±» class çš„ç»§æ‰¿æ˜¯é€šè¿‡ extends æ¥å®ç°çš„ï¼ŒES5 ä¸­æ˜¯é€šè¿‡è®¾ç½®æ„é€ å‡½æ•°çš„ prototype å±æ€§ï¼Œæ¥å®ç°ç»§æ‰¿çš„ã€‚</p><p>ES6 ä¸ ES5 ä¸­çš„ç»§æ‰¿æœ‰ 2 ä¸ªåŒºåˆ«ï¼Œç¬¬ä¸€ä¸ªæ˜¯ï¼ŒES6 ä¸­å­ç±»ä¼šç»§æ‰¿çˆ¶ç±»çš„å±æ€§ï¼Œç¬¬äºŒä¸ªåŒºåˆ«æ˜¯ï¼Œsuper() ä¸ A.call(this) æ˜¯ä¸åŒçš„ï¼Œåœ¨ç»§æ‰¿åŸç”Ÿæ„é€ å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œä½“ç°å¾—å¾ˆæ˜æ˜¾ï¼ŒES6 ä¸­çš„å­ç±»å®ä¾‹å¯ä»¥ç»§æ‰¿åŸç”Ÿæ„é€ å‡½æ•°å®ä¾‹çš„å†…éƒ¨å±æ€§ï¼Œè€Œåœ¨ ES5 ä¸­åšä¸åˆ°ã€‚</p><p><strong>è§£æï¼š</strong></p><p>ä¸‹é¢é€šè¿‡ 3 ä¸ª demoï¼Œæ¥åˆ†æå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ã€‚</p><ol><li>ES5 ç»§æ‰¿</li></ol><p>ç›´æ¥ä¸Šä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">A</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">a</span> = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">B</span>(<span class="params"></span>) &#123;</span><br><span class="line">  A.<span class="title function_">call</span>(<span class="variable language_">this</span>);</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">b</span> = <span class="string">&#x27;world&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">B.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(A.<span class="property"><span class="keyword">prototype</span></span>, &#123;</span><br><span class="line">  <span class="attr">constructor</span>: &#123; <span class="attr">value</span>: B, <span class="attr">writable</span>: <span class="literal">true</span>, <span class="attr">configurable</span>: <span class="literal">true</span> &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> <span class="title function_">B</span>();</span><br></pre></td></tr></table></figure><p>ä»£ç ä¸­ï¼Œæ„é€ å‡½æ•° B ç»§æ‰¿æ„é€ å‡½æ•° Aï¼Œé¦–å…ˆè®©æ„é€ å‡½æ•° B çš„ prototype å¯¹è±¡ä¸­çš„ <strong>proto</strong> å±æ€§æŒ‡å‘æ„é€ å‡½æ•° A çš„ prototype å¯¹è±¡ï¼Œå¹¶ä¸”å°†æ„é€ å‡½æ•° B çš„ prototype å¯¹è±¡çš„ constructor å±æ€§èµ‹å€¼ä¸ºæ„é€ å‡½æ•° Bï¼Œè®©æ„é€ å‡½æ•° B çš„å®ä¾‹ç»§æ‰¿æ„é€ å‡½æ•° A çš„åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ï¼Œç„¶ååœ¨æ„é€ å‡½æ•° B å†…éƒ¨çš„é¦–è¡Œå†™ä¸Š A.call(this)ï¼Œè®©æ„é€ å‡½æ•° B çš„å®ä¾‹ç»§æ‰¿æ„é€ å‡½æ•° A çš„å®ä¾‹å±æ€§ã€‚åœ¨ ES5 ä¸­å®ç°ä¸¤ä¸ªæ„é€ å‡½æ•°ä¹‹é—´çš„ç»§æ‰¿ï¼Œåªéœ€è¦åšè¿™ä¸¤æ­¥å³å¯ã€‚ä¸‹é¢å…­å¹…å›¾åˆ†åˆ«æ˜¯ï¼Œå®ä¾‹ b çš„åŸå‹é“¾åŠéªŒè¯å›¾ï¼Œæ„é€ å‡½æ•° B çš„åŸå‹é“¾åŠéªŒè¯å›¾ï¼Œæ„é€ å‡½æ•° A çš„åŸå‹é“¾åŠéªŒè¯å›¾ã€‚</p><p>å®ä¾‹ b çš„åŸå‹é“¾å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646122217808/5EFC2E2CCA7CF0C0ED3AF97C57C347E8" alt="img">å®ä¾‹ b çš„åŸå‹é“¾éªŒè¯å›¾ï¼š</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646122220782/6C8BA735DC6D2FB3DA6EF1492C8C8AC9" alt="img">æ„é€ å‡½æ•° B çš„åŸå‹é“¾å›¾ä¸‹å›¾ï¼š</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646122228075/C639481859D093429EF31DB41F59479D" alt="img">æ„é€ å‡½æ•° B çš„åŸå‹é“¾éªŒè¯å›¾å›¾ï¼š</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646122231723/E8833975C1CE1CF00A9497C875FC5D1C" alt="img">æ„é€ å‡½æ•° A çš„åŸå‹é“¾å›¾ä¸‹å›¾ï¼š</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646122234815/8F1CBB5E756E67FF00FA75B75E1198FD" alt="img">æ„é€ å‡½æ•° B çš„åŸå‹é“¾éªŒè¯å›¾å›¾ï¼š</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646122238414/AC9C448D0E52381CD7FF458F89369FC3" alt="img">ä»ä¸Šé¢ 6 å¹…å›¾å¯çŸ¥ï¼Œæ„é€ å‡½æ•° B çš„å®ä¾‹ b ç»§æ‰¿äº†æ„é€ å‡½æ•° A çš„å®ä¾‹å±æ€§ï¼Œç»§æ‰¿äº†æ„é€ å‡½æ•° A çš„åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ï¼Œç»§æ‰¿äº†æ„é€ å‡½æ•° Object çš„åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ã€‚æ„é€ å‡½æ•° B æ˜¯æ„é€ å‡½æ•° Function çš„å®ä¾‹ï¼Œç»§æ‰¿äº†æ„é€ å‡½æ•° Function çš„åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ï¼Œç»§æ‰¿äº†æ„é€ å‡½æ•° Object çš„åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ã€‚ æ„é€ å‡½æ•° A æ˜¯æ„é€ å‡½æ•° Function çš„å®ä¾‹ï¼Œç»§æ‰¿äº†æ„é€ å‡½æ•° Function çš„åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ï¼Œç»§æ‰¿äº†æ„é€ å‡½æ•° Object çš„åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ã€‚å¯çœ‹å‡ºï¼Œæ„é€ å‡½æ•° A ä¸ æ„é€ å‡½æ•° B å¹¶æ²¡æœ‰ç»§æ‰¿å…³ç³»ï¼Œå³æ„é€ å‡½æ•° B æ²¡æœ‰ç»§æ‰¿æ„é€ å‡½æ•° A ä¸Šé¢çš„å±æ€§ï¼Œåœ¨ ES6 ä¸­ï¼Œç”¨ extends å®ç°ä¸¤ä¸ªç±»çš„ç»§æ‰¿ï¼Œä¸¤ä¸ªç±»ä¹‹é—´æ˜¯æœ‰ç»§æ‰¿å…³ç³»çš„ï¼Œå³å­ç±»ç»§æ‰¿äº†çˆ¶ç±»çš„æ–¹æ³•ï¼Œè¿™æ˜¯ ES6 ä¸ ES5 ç»§æ‰¿çš„ç¬¬ä¸€ç‚¹åŒºåˆ«ï¼Œä¸‹é¢é€šè¿‡ ES6 çš„ç»§æ‰¿æ¥è¯´æ˜è¿™ä¸€ç‚¹ã€‚</p><ol><li>ES6 ç»§æ‰¿</li></ol><p>ç›´æ¥ä¸Šä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">a</span> = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_ inherited__">A</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">b</span> = <span class="string">&#x27;world&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> <span class="title function_">B</span>();</span><br></pre></td></tr></table></figure><p>ä»£ç ä¸­ï¼Œç±» B é€šè¿‡ extends å…³é”®å­—ç»§æ‰¿ç±» A çš„å±æ€§åŠå…¶åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ï¼Œé€šè¿‡åœ¨ç±» B çš„ constructor å‡½æ•°ä¸­æ‰§è¡Œ super() å‡½æ•°ï¼Œè®©ç±» B çš„å®ä¾‹ç»§æ‰¿ç±» A çš„å®ä¾‹å±æ€§ï¼Œsuper() çš„ä½œç”¨ç±»ä¼¼æ„é€ å‡½æ•° B ä¸­çš„ A.call(this)ï¼Œä½†å®ƒä»¬æ˜¯æœ‰åŒºåˆ«çš„ï¼Œè¿™æ˜¯ ES6 ä¸ ES5 ç»§æ‰¿çš„ç¬¬äºŒç‚¹åŒºåˆ«ï¼Œè¿™ä¸ªåŒºåˆ«ä¼šåœ¨æ–‡ç« çš„æœ€åè¯´æ˜ã€‚åœ¨ ES6 ä¸­ï¼Œä¸¤ä¸ªç±»ä¹‹é—´çš„ç»§æ‰¿å°±æ˜¯é€šè¿‡ extends å’Œ super ä¸¤ä¸ªå…³é”®å­—å®ç°çš„ã€‚ä¸‹é¢å››å¹…å›¾åˆ†åˆ«æ˜¯ï¼Œå®ä¾‹ b çš„åŸå‹é“¾åŠéªŒè¯å›¾ï¼Œç±» B çš„åŸå‹é“¾åŠéªŒè¯å›¾ã€‚</p><p>å®ä¾‹ b çš„åŸå‹é“¾å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646122309797/9D874024A07AB6BF3720EBE76D8B1B5F" alt="img">å®ä¾‹ b çš„åŸå‹é“¾éªŒè¯å›¾ï¼š</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646122312826/B0B23709AD1D39BCF215957AC3BE3D76" alt="img">ç±» B çš„åŸå‹é“¾å›¾ä¸‹å›¾ï¼š</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646122317746/A439A948D436C4F8564F01CFC41DA1F6" alt="img">ç±» B çš„åŸå‹é“¾éªŒè¯å›¾å›¾ï¼š</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646122320015/0ABB20677FEF4799600D633AA631D9E1" alt="img">é€šè¿‡ä¸Šé¢ 4 å¹…å›¾å¯çŸ¥ï¼Œåœ¨ ES6 ä¸ ES5 ä¸­ï¼Œç±» B çš„å®ä¾‹ b çš„åŸå‹é“¾ä¸æ„é€ å‡½æ•° B çš„å®ä¾‹ b çš„åŸå‹é“¾æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯åœ¨ ES6 ä¸­ç±» B ç»§æ‰¿äº†ç±» A çš„å±æ€§ï¼Œåœ¨ ES5 ä¸­ï¼Œæ„é€ å‡½æ•° B æ²¡æœ‰ç»§æ‰¿æ„é€ å‡½æ•° A çš„å±æ€§ï¼Œè¿™æ˜¯ ES6 ä¸ ES5 ç»§æ‰¿çš„ç¬¬ä¸€ä¸ªåŒºåˆ«ã€‚</p><ol><li>super() ä¸ A.call(this) çš„åŒºåˆ«</li></ol><p>åœ¨ ES5 ä¸­ï¼Œæ„é€ å‡½æ•° B çš„å®ä¾‹ç»§æ‰¿æ„é€ å‡½æ•° A çš„å®ä¾‹å±æ€§æ˜¯é€šè¿‡ A.call(this) æ¥å®ç°çš„ï¼Œåœ¨ ES6 ä¸­ï¼Œç±» B çš„å®ä¾‹ç»§æ‰¿ç±» A çš„å®ä¾‹å±æ€§ï¼Œæ˜¯é€šè¿‡ super() å®ç°çš„ã€‚åœ¨ä¸æ˜¯ç»§æ‰¿åŸç”Ÿæ„é€ å‡½æ•°çš„æƒ…å†µä¸‹ï¼ŒA.call(this) ä¸ super() åœ¨åŠŸèƒ½ä¸Šæ˜¯æ²¡æœ‰åŒºåˆ«çš„ï¼Œç”¨ <a href="https://babeljs.io/repl/#?babili=false&evaluate=true&lineWrap=false&presets=es2015,react,stage-2&targets=&browsers=&builtIns=false&debug=false&code=">babel åœ¨çº¿è½¬æ¢</a> å°†ç±»çš„ç»§æ‰¿è½¬æ¢æˆ ES5 è¯­æ³•ï¼Œbabel ä¹Ÿæ˜¯é€šè¿‡ A.call(this) æ¥æ¨¡æ‹Ÿå®ç° super() çš„ã€‚ä½†æ˜¯åœ¨ç»§æ‰¿åŸç”Ÿæ„é€ å‡½æ•°çš„æƒ…å†µä¸‹ï¼ŒA.call(this) ä¸ super() åœ¨åŠŸèƒ½ä¸Šæ˜¯æœ‰åŒºåˆ«çš„ï¼ŒES5 ä¸­ A.call(this) ä¸­çš„ this æ˜¯æ„é€ å‡½æ•° B çš„å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯åœ¨å®ç°å®ä¾‹å±æ€§ç»§æ‰¿ä¸Šï¼ŒES5 æ˜¯å…ˆåˆ›é€ æ„é€ å‡½æ•° B çš„å®ä¾‹ï¼Œç„¶ååœ¨è®©è¿™ä¸ªå®ä¾‹é€šè¿‡ A.call(this) å®ç°å®ä¾‹å±æ€§ç»§æ‰¿ï¼Œåœ¨ ES6 ä¸­ï¼Œæ˜¯å…ˆæ–°å»ºçˆ¶ç±»çš„å®ä¾‹å¯¹è±¡thisï¼Œç„¶åå†ç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®é¥° thisï¼Œä½¿å¾—çˆ¶ç±»çš„æ‰€æœ‰è¡Œä¸ºéƒ½å¯ä»¥ç»§æ‰¿ã€‚ä¸‹é¢é€šè¿‡ 2 æ®µä»£ç è¯´æ˜è¿™ä¸ªé—®é¢˜ã€‚</p><p>ä»£ç  1ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">ArrFun</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title class_">Array</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">ArrFun</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>, &#123;</span><br><span class="line">  <span class="attr">constructor</span>: &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="title class_">ArrFun</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> <span class="title class_">ArrFun</span>();</span><br><span class="line">colors[<span class="number">0</span>] = <span class="string">&quot;blue&quot;</span>;</span><br><span class="line">colors.<span class="property">length</span>;</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç çš„æ€è·¯å°±æ˜¯ï¼Œè®©æ„é€ å‡½æ•° MyArray ç»§æ‰¿åŸç”Ÿæ„é€ å‡½æ•° Arrayï¼Œç„¶åéªŒè¯ MyArray çš„å®ä¾‹æ˜¯å¦å…·æœ‰ Array å®ä¾‹çš„ç‰¹æ€§ã€‚</p><p>ä»£ç  1 æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646122344778/E7ADAE3D4C812A6291404B1DD673DFB2" alt="img">ä»ç»“æœå¯ä»¥çœ‹å‡ºï¼ŒMyArray çš„å®ä¾‹å¹¶ä¸å…·æœ‰ Array å®ä¾‹çš„ç‰¹æ€§ï¼Œä¹‹æ‰€ä»¥ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œæ˜¯å› ä¸º MyArray çš„å®ä¾‹æ— æ³•è·å¾—åŸç”Ÿæ„é€ å‡½æ•° Array å®ä¾‹çš„å†…éƒ¨å±æ€§ï¼Œé€šè¿‡ Array.call(this) ä¹Ÿä¸è¡Œã€‚</p><p>ä»£ç  2ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ArrFun</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Array</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="title class_">ArrFun</span>();</span><br><span class="line">arr[<span class="number">0</span>] = <span class="number">12</span>;</span><br><span class="line">arr.<span class="property">length</span>;</span><br></pre></td></tr></table></figure><p>ä»£ç  2 æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646122353819/063DA15897F5D57767350A0B04B81839" alt="img"></p><p>ä»ç»“æœå¯ä»¥çœ‹å‡ºï¼Œé€šè¿‡ super()ï¼ŒMyArray çš„å®ä¾‹å…·æœ‰ Array å®ä¾‹çš„ç‰¹æ€§ã€‚</p><h4 id="6-4-å“ªäº›ç±»å‹èƒ½è¢«æ‰©å±•æ“ä½œç¬¦â€¦æ‰©å±•"><a href="#6-4-å“ªäº›ç±»å‹èƒ½è¢«æ‰©å±•æ“ä½œç¬¦â€¦æ‰©å±•" class="headerlink" title="6.4 å“ªäº›ç±»å‹èƒ½è¢«æ‰©å±•æ“ä½œç¬¦â€¦æ‰©å±•"></a>6.4 å“ªäº›ç±»å‹èƒ½è¢«æ‰©å±•æ“ä½œç¬¦â€¦æ‰©å±•</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p><strong>é€‚ç”¨ç±»å‹</strong>ï¼šæ•°ç»„ã€å¯¹è±¡ã€å­—ç¬¦ä¸²ã€‚</p><p>å¤æ‚æ•°æ®ç±»å‹éƒ½å¯ä»¥ï¼Œå½“è¦è½¬åŒ–ä¸ºå¯è¿­ä»£æ•°æ®ç»“æ„æ—¶å¯è®¾ç½®å¯¹è±¡çš„è¿­ä»£å™¨å¯¹æ‰©å±•è¿ç®—ç¬¦æ‰©å±•å‡ºæ¥çš„å€¼è¿›è¡Œæ“ä½œã€‚</p><p>åŸºç¡€æ•°æ®åªæœ‰stringå¯ä»¥ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œnumber,boolean,null,undefinedæ— æ•ˆ</p><h4 id="6-5-äº‹ä»¶æ‰©å±•ç¬¦ç”¨è¿‡å—-â€¦-ï¼Œä»€ä¹ˆåœºæ™¯ä¸‹"><a href="#6-5-äº‹ä»¶æ‰©å±•ç¬¦ç”¨è¿‡å—-â€¦-ï¼Œä»€ä¹ˆåœºæ™¯ä¸‹" class="headerlink" title="6.5 äº‹ä»¶æ‰©å±•ç¬¦ç”¨è¿‡å—(â€¦)ï¼Œä»€ä¹ˆåœºæ™¯ä¸‹"></a>6.5 äº‹ä»¶æ‰©å±•ç¬¦ç”¨è¿‡å—(â€¦)ï¼Œä»€ä¹ˆåœºæ™¯ä¸‹</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p><strong>æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨åœºæ™¯</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1ã€å‡½æ•°è°ƒç”¨</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">add</span>(...[<span class="number">4</span>, <span class="number">38</span>]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">v, w, x, y, z</span>) &#123;  &#125;</span><br><span class="line"><span class="title function_">f</span>(-<span class="number">1</span>, ...[<span class="number">0</span>, <span class="number">1</span>], <span class="number">2</span>, ...[<span class="number">3</span>]);</span><br><span class="line"><span class="comment">// 123456789</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.å¾€æ•°ç»„é‡Œpushå¤šä¸ªå…ƒç´ </span></span><br><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">arr1.<span class="title function_">push</span>(...arr2);  </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1); <span class="comment">//[0,1,2,3,4,5]</span></span><br><span class="line"><span class="comment">//123456</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.æ›¿ä»£å‡½æ•°çš„applyæ–¹æ³•</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">x, y, z</span>) &#123;  &#125;  </span><br><span class="line"><span class="keyword">var</span> args = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line">f.<span class="title function_">apply</span>(<span class="literal">null</span>, args); <span class="comment">//ES5 çš„å†™æ³•</span></span><br><span class="line"><span class="title function_">f</span>(...args); <span class="comment">//ES6çš„å†™æ³•</span></span><br><span class="line"><span class="comment">// 123456</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//4.æ±‚ä¸€ä¸ªæ•°ç»„çš„æœ€å¤§æ•°ç®€åŒ–</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="property">max</span>.<span class="title function_">apply</span>(<span class="literal">null</span>, [<span class="number">14</span>, <span class="number">3</span>, <span class="number">77</span>])  <span class="comment">//ES5 çš„å†™æ³•</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">max</span>(...[<span class="number">14</span>, <span class="number">3</span>, <span class="number">77</span>])  <span class="comment">//ES6 çš„å†™æ³•ï¼Œç­‰åŒäºMath.max(14, 3, 77)</span></span><br><span class="line"><span class="comment">//1234</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//5.æ‰©å±•è¿ç®—ç¬¦åé¢å¯ä»¥æ”¾è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">const</span> arr = [...(<span class="number">5</span> &gt; <span class="number">0</span> ? [<span class="string">&#x27;a&#x27;</span>] : []),<span class="string">&#x27;b&#x27;</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);  <span class="comment">//[&#x27;a&#x27;,&#x27;b&#x27;] </span></span><br><span class="line"><span class="comment">//1234</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//6.ä¸è§£æ„èµ‹å€¼ç»“åˆï¼Œç”¨äºç”Ÿæˆæ•°ç»„</span></span><br><span class="line"><span class="keyword">const</span> a1 = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">const</span> a2 = [...a1];  <span class="comment">//å†™æ³•1</span></span><br><span class="line"><span class="keyword">const</span> [...a2] = a1;  <span class="comment">//å†™æ³•2</span></span><br><span class="line"><span class="keyword">const</span> [first, ...rest] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">first  <span class="comment">//1</span></span><br><span class="line">rest  <span class="comment">//[2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [first, ...rest] = [];</span><br><span class="line">first  <span class="comment">//undefined</span></span><br><span class="line">rest  <span class="comment">//[]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [first, ...rest] = [<span class="string">&quot;foo&quot;</span>];</span><br><span class="line">first  <span class="comment">//&quot;foo&quot;</span></span><br><span class="line">rest   <span class="comment">//[]</span></span><br><span class="line"><span class="comment">//1234567891011121314151617</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//7.åˆå¹¶æ•°ç»„</span></span><br><span class="line">[...arr1, ...arr2, ...arr3]  <span class="comment">//[ &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27; ]</span></span><br><span class="line"><span class="number">123</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//8.æ•°ç»„çš„å…‹éš†â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”ç‰¹åˆ«æ³¨æ„</span></span><br><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [...arr1];</span><br><span class="line">arr1[<span class="number">0</span>]=<span class="number">100</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2); <span class="comment">//[0, 1, 2]  </span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä¹ä¸€çœ‹ï¼Œarr2ä¸arr1ä¸å…±ç”¨å¼•ç”¨åœ°å€ï¼Œarr2ä¸éšç€arr1å˜åŒ–ï¼Œæ¥ç€å¾€ä¸‹çœ‹ */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">0</span>, [<span class="number">1</span>,<span class="number">11</span>,<span class="number">111</span>], <span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [...arr1];</span><br><span class="line">arr1[<span class="number">1</span>][<span class="number">0</span>]=<span class="number">100</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2); <span class="comment">//[0, [100,11,111], 2]</span></span><br></pre></td></tr></table></figure><h4 id="6-6-è®©ä¸åŒçš„æµè§ˆå™¨å…¼å®¹ES6çš„æ–¹æ³•"><a href="#6-6-è®©ä¸åŒçš„æµè§ˆå™¨å…¼å®¹ES6çš„æ–¹æ³•" class="headerlink" title="6.6 è®©ä¸åŒçš„æµè§ˆå™¨å…¼å®¹ES6çš„æ–¹æ³•"></a>6.6 è®©ä¸åŒçš„æµè§ˆå™¨å…¼å®¹ES6çš„æ–¹æ³•</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>é’ˆå¯¹ ES6 çš„å…¼å®¹æ€§é—®é¢˜ï¼Œå¾ˆå¤šå›¢é˜Ÿä¸ºæ­¤å¼€å‘å‡ºäº†å¤šç§è¯­æ³•è§£æè½¬æ¢å·¥å…·ï¼ŒæŠŠæˆ‘ä»¬å†™çš„ ES6 è¯­æ³•è½¬æ¢æˆ ES5ï¼Œç›¸å½“äºåœ¨ ES6 å’Œæµè§ˆå™¨ä¹‹é—´åšäº†ä¸€ä¸ªç¿»è¯‘å®˜ã€‚æ¯”è¾ƒé€šç”¨çš„å·¥å…·æ–¹æ¡ˆæœ‰ babelï¼Œjsxï¼Œtraceurï¼Œes6-shim ç­‰ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> å…«è‚¡æ–‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°ç»„å»é‡</title>
      <link href="/2024/04/01/js/js%E5%9F%BA%E7%A1%80/"/>
      <url>/2024/04/01/js/js%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<h2 id="æ•°ç»„å»é‡"><a href="#æ•°ç»„å»é‡" class="headerlink" title="æ•°ç»„å»é‡"></a>æ•°ç»„å»é‡</h2><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><h3 id="1-åˆ©ç”¨ES6-Setå»é‡ï¼ˆES6ä¸­æœ€å¸¸ç”¨ï¼‰"><a href="#1-åˆ©ç”¨ES6-Setå»é‡ï¼ˆES6ä¸­æœ€å¸¸ç”¨ï¼‰" class="headerlink" title="1. åˆ©ç”¨ES6 Setå»é‡ï¼ˆES6ä¸­æœ€å¸¸ç”¨ï¼‰"></a><strong>1. åˆ©ç”¨ES6 Setå»é‡ï¼ˆES6ä¸­æœ€å¸¸ç”¨ï¼‰</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span> (arr) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="keyword">new</span> <span class="title class_">Set</span>(arr))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line"> <span class="comment">//[1, &quot;true&quot;, true, 15, false, undefined, null, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;&#125;, &#123;&#125;]</span></span><br></pre></td></tr></table></figure><p>ä¸è€ƒè™‘å…¼å®¹æ€§ï¼Œè¿™ç§å»é‡çš„æ–¹æ³•ä»£ç æœ€å°‘ã€‚è¿™ç§æ–¹æ³•è¿˜æ— æ³•å»æ‰â€œ{}â€ç©ºå¯¹è±¡ï¼Œåé¢çš„é«˜é˜¶æ–¹æ³•ä¼šæ·»åŠ å»æ‰é‡å¤â€œ{}â€çš„æ–¹æ³•ã€‚</p><h3 id="2-åˆ©ç”¨foråµŒå¥—forï¼Œç„¶åspliceå»é‡ï¼ˆES5ä¸­æœ€å¸¸ç”¨ï¼‰"><a href="#2-åˆ©ç”¨foråµŒå¥—forï¼Œç„¶åspliceå»é‡ï¼ˆES5ä¸­æœ€å¸¸ç”¨ï¼‰" class="headerlink" title="2. åˆ©ç”¨foråµŒå¥—forï¼Œç„¶åspliceå»é‡ï¼ˆES5ä¸­æœ€å¸¸ç”¨ï¼‰"></a><strong>2. åˆ©ç”¨foråµŒå¥—forï¼Œç„¶åspliceå»é‡ï¼ˆES5ä¸­æœ€å¸¸ç”¨ï¼‰</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>)&#123;            </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;arr.<span class="property">length</span>; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> j=i+<span class="number">1</span>; j&lt;arr.<span class="property">length</span>; j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(arr[i]==arr[j])&#123;         <span class="comment">//ç¬¬ä¸€ä¸ªç­‰åŒäºç¬¬äºŒä¸ªï¼Œspliceæ–¹æ³•åˆ é™¤ç¬¬äºŒä¸ª</span></span><br><span class="line">                    arr.<span class="title function_">splice</span>(j,<span class="number">1</span>);</span><br><span class="line">                    j--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line">    <span class="comment">//[1, &quot;true&quot;, 15, false, undefined, NaN, NaN, &quot;NaN&quot;, &quot;a&quot;, &#123;â€¦&#125;, &#123;â€¦&#125;]     //NaNå’Œ&#123;&#125;æ²¡æœ‰å»é‡ï¼Œä¸¤ä¸ªnullç›´æ¥æ¶ˆå¤±äº†</span></span><br></pre></td></tr></table></figure><p>åŒå±‚å¾ªç¯ï¼Œå¤–å±‚å¾ªç¯å…ƒç´ ï¼Œå†…å±‚å¾ªç¯æ—¶æ¯”è¾ƒå€¼ã€‚å€¼ç›¸åŒæ—¶ï¼Œåˆ™åˆ å»è¿™ä¸ªå€¼ã€‚</p><h3 id="3-åˆ©ç”¨indexOfå»é‡"><a href="#3-åˆ©ç”¨indexOfå»é‡" class="headerlink" title="3. åˆ©ç”¨indexOfå»é‡"></a><strong>3. åˆ©ç”¨indexOfå»é‡</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr)) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;type error!&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> array = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (array .<span class="title function_">indexOf</span>(arr[i]) === -<span class="number">1</span>) &#123;</span><br><span class="line">            array .<span class="title function_">push</span>(arr[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line">   <span class="comment">// [1, &quot;true&quot;, true, 15, false, undefined, null, NaN, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;, &#123;â€¦&#125;]  //NaNã€&#123;&#125;æ²¡æœ‰å»é‡</span></span><br></pre></td></tr></table></figure><p>æ–°å»ºä¸€ä¸ªç©ºçš„ç»“æœæ•°ç»„ï¼Œfor å¾ªç¯åŸæ•°ç»„ï¼Œåˆ¤æ–­ç»“æœæ•°ç»„æ˜¯å¦å­˜åœ¨å½“å‰å…ƒç´ ï¼Œå¦‚æœæœ‰ç›¸åŒçš„å€¼åˆ™è·³è¿‡ï¼Œä¸ç›¸åŒåˆ™pushè¿›æ•°ç»„ã€‚</p><h3 id="4-åˆ©ç”¨sort"><a href="#4-åˆ©ç”¨sort" class="headerlink" title="4. åˆ©ç”¨sort()"></a><strong>4. åˆ©ç”¨sort()</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr)) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;type error!&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    arr = arr.<span class="title function_">sort</span>()</span><br><span class="line">    <span class="keyword">var</span> arrry= [arr[<span class="number">0</span>]];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[i] !== arr[i-<span class="number">1</span>]) &#123;</span><br><span class="line">            arrry.<span class="title function_">push</span>(arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arrry;</span><br><span class="line">&#125;</span><br><span class="line">     <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line"><span class="comment">// [0, 1, 15, &quot;NaN&quot;, NaN, NaN, &#123;â€¦&#125;, &#123;â€¦&#125;, &quot;a&quot;, false, null, true, &quot;true&quot;, undefined]      //NaNã€&#123;&#125;æ²¡æœ‰å»é‡</span></span><br></pre></td></tr></table></figure><p>åˆ©ç”¨sort()æ’åºæ–¹æ³•ï¼Œç„¶åæ ¹æ®æ’åºåçš„ç»“æœè¿›è¡Œéå†åŠç›¸é‚»å…ƒç´ æ¯”å¯¹ã€‚</p><h3 id="5-åˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡ï¼ˆè¿™ç§æ•°ç»„å»é‡çš„æ–¹æ³•æœ‰é—®é¢˜ï¼Œä¸å»ºè®®ç”¨ï¼Œæœ‰å¾…æ”¹è¿›ï¼‰"><a href="#5-åˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡ï¼ˆè¿™ç§æ•°ç»„å»é‡çš„æ–¹æ³•æœ‰é—®é¢˜ï¼Œä¸å»ºè®®ç”¨ï¼Œæœ‰å¾…æ”¹è¿›ï¼‰" class="headerlink" title="5. åˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡ï¼ˆè¿™ç§æ•°ç»„å»é‡çš„æ–¹æ³•æœ‰é—®é¢˜ï¼Œä¸å»ºè®®ç”¨ï¼Œæœ‰å¾…æ”¹è¿›ï¼‰"></a><strong>5. åˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡ï¼ˆè¿™ç§æ•°ç»„å»é‡çš„æ–¹æ³•æœ‰é—®é¢˜ï¼Œä¸å»ºè®®ç”¨ï¼Œæœ‰å¾…æ”¹è¿›ï¼‰</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr)) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;type error!&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> arrry= [];</span><br><span class="line">     <span class="keyword">var</span>  obj = &#123;&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!obj[arr[i]]) &#123;</span><br><span class="line">            arrry.<span class="title function_">push</span>(arr[i])</span><br><span class="line">            obj[arr[i]] = <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            obj[arr[i]]++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arrry;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line"><span class="comment">//[1, &quot;true&quot;, 15, false, undefined, null, NaN, 0, &quot;a&quot;, &#123;â€¦&#125;]    //ä¸¤ä¸ªtrueç›´æ¥å»æ‰äº†ï¼ŒNaNå’Œ&#123;&#125;å»é‡</span></span><br></pre></td></tr></table></figure><h3 id="6-åˆ©ç”¨includes"><a href="#6-åˆ©ç”¨includes" class="headerlink" title="6. åˆ©ç”¨includes"></a><strong>6. åˆ©ç”¨includes</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr)) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;type error!&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> array =[];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>( !array.<span class="title function_">includes</span>( arr[i]) ) &#123;<span class="comment">//includes æ£€æµ‹æ•°ç»„æ˜¯å¦æœ‰æŸä¸ªå€¼</span></span><br><span class="line">                    array.<span class="title function_">push</span>(arr[i]);</span><br><span class="line">              &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line">    <span class="comment">//[1, &quot;true&quot;, true, 15, false, undefined, null, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;, &#123;â€¦&#125;]     //&#123;&#125;æ²¡æœ‰å»é‡</span></span><br></pre></td></tr></table></figure><h3 id="7-åˆ©ç”¨hasOwnProperty"><a href="#7-åˆ©ç”¨hasOwnProperty" class="headerlink" title="7. åˆ©ç”¨hasOwnProperty"></a><strong>7. åˆ©ç”¨hasOwnProperty</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> arr.<span class="title function_">filter</span>(<span class="keyword">function</span>(<span class="params">item, index, arr</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> obj.<span class="title function_">hasOwnProperty</span>(<span class="keyword">typeof</span> item + item) ? <span class="literal">false</span> : (obj[<span class="keyword">typeof</span> item + item] = <span class="literal">true</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line"><span class="comment">//[1, &quot;true&quot;, true, 15, false, undefined, null, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;]   //æ‰€æœ‰çš„éƒ½å»é‡äº†</span></span><br></pre></td></tr></table></figure><p>åˆ©ç”¨hasOwnProperty åˆ¤æ–­æ˜¯å¦å­˜åœ¨å¯¹è±¡å±æ€§</p><h3 id="8-åˆ©ç”¨filter"><a href="#8-åˆ©ç”¨filter" class="headerlink" title="8. åˆ©ç”¨filter"></a><strong>8. åˆ©ç”¨filter</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> arr.<span class="title function_">filter</span>(<span class="keyword">function</span>(<span class="params">item, index, arr</span>) &#123;</span><br><span class="line">    <span class="comment">//å½“å‰å…ƒç´ ï¼Œåœ¨åŸå§‹æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªç´¢å¼•==å½“å‰ç´¢å¼•å€¼ï¼Œå¦åˆ™è¿”å›å½“å‰å…ƒç´ </span></span><br><span class="line">    <span class="keyword">return</span> arr.<span class="title function_">indexOf</span>(item, <span class="number">0</span>) === index;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line"><span class="comment">//[1, &quot;true&quot;, true, 15, false, undefined, null, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;, &#123;â€¦&#125;]</span></span><br></pre></td></tr></table></figure><h3 id="9-åˆ©ç”¨é€’å½’å»é‡"><a href="#9-åˆ©ç”¨é€’å½’å»é‡" class="headerlink" title="9. åˆ©ç”¨é€’å½’å»é‡"></a><strong>9. åˆ©ç”¨é€’å½’å»é‡</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> array= arr;</span><br><span class="line">        <span class="keyword">var</span> len = array.<span class="property">length</span>;</span><br><span class="line"></span><br><span class="line">    array.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">a,b</span>)&#123;   <span class="comment">//æ’åºåæ›´åŠ æ–¹ä¾¿å»é‡</span></span><br><span class="line">        <span class="keyword">return</span> a - b;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">loop</span>(<span class="params">index</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(index &gt;= <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(array[index] === array[index-<span class="number">1</span>])&#123;</span><br><span class="line">                array.<span class="title function_">splice</span>(index,<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="title function_">loop</span>(index - <span class="number">1</span>);    <span class="comment">//é€’å½’loopï¼Œç„¶åæ•°ç»„å»é‡</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">loop</span>(len-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line"><span class="comment">//[1, &quot;a&quot;, &quot;true&quot;, true, 15, false, 1, &#123;â€¦&#125;, null, NaN, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;, undefined]</span></span><br></pre></td></tr></table></figure><h3 id="10-åˆ©ç”¨Mapæ•°æ®ç»“æ„å»é‡"><a href="#10-åˆ©ç”¨Mapæ•°æ®ç»“æ„å»é‡" class="headerlink" title="10. åˆ©ç”¨Mapæ•°æ®ç»“æ„å»é‡"></a><strong>10. åˆ©ç”¨Mapæ•°æ®ç»“æ„å»é‡</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">arrayNonRepeatfy</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">  <span class="keyword">let</span> array = <span class="keyword">new</span> <span class="title class_">Array</span>();  <span class="comment">// æ•°ç»„ç”¨äºè¿”å›ç»“æœ</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span>(map .<span class="title function_">has</span>(arr[i])) &#123;  <span class="comment">// å¦‚æœæœ‰è¯¥keyå€¼</span></span><br><span class="line">      map .<span class="title function_">set</span>(arr[i], <span class="literal">true</span>); </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">      map .<span class="title function_">set</span>(arr[i], <span class="literal">false</span>);   <span class="comment">// å¦‚æœæ²¡æœ‰è¯¥keyå€¼</span></span><br><span class="line">      array .<span class="title function_">push</span>(arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; </span><br><span class="line">  <span class="keyword">return</span> array ;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line"><span class="comment">//[1, &quot;a&quot;, &quot;true&quot;, true, 15, false, 1, &#123;â€¦&#125;, null, NaN, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;, undefined]</span></span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªç©ºMapæ•°æ®ç»“æ„ï¼Œéå†éœ€è¦å»é‡çš„æ•°ç»„ï¼ŒæŠŠæ•°ç»„çš„æ¯ä¸€ä¸ªå…ƒç´ ä½œä¸ºkeyå­˜åˆ°Mapä¸­ã€‚ç”±äºMapä¸­ä¸ä¼šå‡ºç°ç›¸åŒçš„keyå€¼ï¼Œæ‰€ä»¥æœ€ç»ˆå¾—åˆ°çš„å°±æ˜¯å»é‡åçš„ç»“æœã€‚</p><h3 id="11-åˆ©ç”¨reduce-includes"><a href="#11-åˆ©ç”¨reduce-includes" class="headerlink" title="11. åˆ©ç”¨reduce+includes"></a><strong>11. åˆ©ç”¨reduce+includes</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">prev,cur</span>) =&gt;</span> prev.<span class="title function_">includes</span>(cur) ? prev : [...prev,cur],[]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr));</span><br><span class="line"><span class="comment">// [1, &quot;true&quot;, true, 15, false, undefined, null, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;, &#123;â€¦&#125;]</span></span><br></pre></td></tr></table></figure><h3 id="12-â€¦new-Set-arr"><a href="#12-â€¦new-Set-arr" class="headerlink" title="12. [â€¦new Set(arr)]"></a><strong>12. [â€¦new Set(arr)]</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[...<span class="keyword">new</span> <span class="title class_">Set</span>(arr)] </span><br><span class="line"><span class="comment">//ä»£ç å°±æ˜¯è¿™ä¹ˆå°‘----ï¼ˆå…¶å®ï¼Œä¸¥æ ¼æ¥è¯´å¹¶ä¸ç®—æ˜¯ä¸€ç§ï¼Œç›¸å¯¹äºç¬¬ä¸€ç§æ–¹æ³•æ¥è¯´åªæ˜¯ç®€åŒ–äº†ä»£ç ï¼‰</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSciprt </tag>
            
            <tag> Array </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å›¾åºŠ</title>
      <link href="/2024/03/17/%E5%9B%BE%E5%BA%8A/"/>
      <url>/2024/03/17/%E5%9B%BE%E5%BA%8A/</url>
      
        <content type="html"><![CDATA[<p>1.è·¯è¿‡å›¾åºŠ</p><p>åœ°å€ï¼š<a href="https://imgse.com/">https://imgse.com/</a></p><p>ä»‹ç»ï¼šå›½å†…æ¯”è¾ƒçŸ¥åçš„å›¾åºŠï¼Œç”¨æˆ·ä½¿ç”¨è¾ƒå¤šçš„å›¾åºŠå·¥å…·ä¹‹ä¸€ï¼Œå…è´¹ï¼Œä½†æ˜¯é¡µé¢æœ‰å°‘é‡å¹¿å‘Šã€‚é«˜é€Ÿç¨³å®šçš„å›¾ç‰‡ä¸Šä¼ å’Œå¤–é“¾æœåŠ¡ï¼Œå…¨çƒCDNåŠ é€Ÿï¼Œæœ€å¤§å•å¼ æ”¯æŒ 10 MBï¼Œæ”¯æŒæ‰¹é‡ä¸Šä¼ ã€‚ä¸è¿‡åœ¨ä¸Šä¼ ä¹‹åï¼Œå±•ç°çš„é¢„è§ˆå’Œç¼–è¾‘ï¼Œéœ€è¦äºŒæ¬¡ç¡®è®¤ä¹‹åæ‰èƒ½ä¸Šä¼ è¿›è¡Œä½¿ç”¨ï¼Œæœ‰ç‚¹ç¹çã€‚</p><p><img src="https://pics2.baidu.com/feed/9f510fb30f2442a735ced61f1aa7be47d31302bc.jpeg@f_auto?token=7780c38bd968c07ca4f8c7aa03f0dc36" alt="img"></p><p>2.èšåˆå›¾åºŠ</p><p>åœ°å€ï¼š<a href="https://www.superbed.cn/">https://www.superbed.cn/</a></p><p>ä»‹ç»ï¼šèšåˆå›¾åºŠä¾æ‰˜äºä¸ƒç‰›è…¾è®¯é˜¿é‡Œäº‘ç­‰ï¼Œç”¨æˆ·å¯ä»¥è‡ªå·±é€‰æ‹©ä¸Šä¼ ç­–ç•¥ï¼Œä¸Šä¼ å›¾ç‰‡ï¼šå¯é€‰jpg&#x2F;png&#x2F;bmp&#x2F;webpç­‰æ‰€æœ‰æ”¯æŒçš„å›¾ç‰‡æ ¼å¼ï¼Œå¯æ‰¹é‡ä¸Šä¼ ã€‚æ²¡æœ‰æµé‡é™åˆ¶ã€é€Ÿåº¦ä¹Ÿå¯ä»¥ï¼Œå…³é”®æ˜¯ä¸éœ€è¦å„ç§è®¾ç½®ï¼Œå¾ˆé€‚åˆä¸çˆ±æŠ˜è…¾çš„æœ‹å‹ä½¿ç”¨ï¼Œä¸Šæ‰‹éš¾åº¦å¾ˆä½ï¼Œæ˜¯ç›®å‰å›¾åºŠçš„æ–°åŠ¿åŠ›ã€‚</p><p><img src="https://pics6.baidu.com/feed/4d086e061d950a7b7e38b3a9c03571d5f3d3c9bb.jpeg@f_auto?token=81f7ca2de23cb3240befdbce8cc21c5e" alt="img"></p><p>3.é‡è§å›¾åºŠ</p><p>åœ°å€ï¼š<a href="https://www.hualigs.cn/">https://www.hualigs.cn/</a></p><p>ä»‹ç»ï¼šé‡è§å›¾åºŠæ˜¯ä¸€æ¬¾é›†åˆ31æ¬¾å›¾åºŠå”¯ä¸€ä¸ªçš„å¤šå›¾åºŠå·¥å…·ã€‚æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å›¾ç‰‡æ°´å°ã€è‡ªå®šä¹‰ï¼ŒGithub ç­‰ç¬¬ä¸‰æ–¹ç§äººå‚¨å­˜ï¼Œä¸Šä¼ æ”¯æŒæ–‡å­—æ°´å°ç­‰åŠŸèƒ½ã€‚</p><p><img src="https://pics5.baidu.com/feed/21a4462309f79052ecb79e57c617c4c67acbd524.jpeg@f_auto?token=0fe5a25ab42c26d05cac718dda689309" alt="img"></p><p>4.è€ç‹å›¾åºŠï¼ˆåˆç§°é¸¡éœ¸å›¾åºŠï¼‰</p><p>åœ°å€ï¼š<a href="https://img.gejiba.com/">https://img.gejiba.com/</a></p><p>ä»‹ç»ï¼šæ— éœ€æ³¨å†Œï¼Œå¯ä»¥ä¸Šä¼  JPG PNG BMP GIF WEBP ç­‰æ ¼å¼ï¼Œæ”¯æ˜¯å›½å†…æœåŠ¡å™¨å’Œ CDNï¼Œå›¾ç‰‡åŠ è½½é€Ÿåº¦æ•™å¿«ã€‚</p><p><img src="https://pics3.baidu.com/feed/b151f8198618367ac71b596be49798d8b11ce5e2.jpeg@f_auto?token=204a4bcf94d471233d1870832a7ea69b" alt="img"></p><p>5.å°é¸­å›¾åºŠ</p><p>åœ°å€ï¼š<a href="http://image.kypeople.cn/">http://image.kypeople.cn/</a></p><p>ä»‹ç»ï¼šä¾æ‰˜äºè…¾è®¯äº‘å‚¨å­˜ä¸CDNåŠ é€Ÿï¼Œå›½å†…è®¿é—®é€Ÿåº¦è¿˜å¯ä»¥ï¼Œå•ä¸ªæœ€å¤§ä¸Šä¼ 4Mã€‚</p><p><img src="https://pics0.baidu.com/feed/10dfa9ec8a1363271d01395d5a6bb3e00afac7e5.jpeg@f_auto?token=5a1de9f15638e0f547735c0f451464dd" alt="img"></p><p>6.TGå›¾åºŠ</p><p>åœ°å€ï¼š<a href="https://imgtg.com/">https://imgtg.com/</a></p><p>ä»‹ç»ï¼šå¤šå¹´è€å›¾åºŠï¼Œæœ‰å›½å†…ç™¾åº¦äº‘cdnèŠ‚ç‚¹åŠ é€Ÿï¼Œåœ¨ä¸Šä¼ æµ‹è¯•ä¸­ï¼ŒGIFä¸Šä¼ é€Ÿåº¦çº¦ 2 ç§’ã€‚å›¾ç‰‡ä¸Šä¼ é™åˆ¶ï¼šæ¯ä¸ªå›¾ç‰‡æœ€å¤§5Mã€‚</p><p><img src="https://pics6.baidu.com/feed/4bed2e738bd4b31c965f813c493234739c2ff8c2.jpeg@f_auto?token=5246162d00e6402b2b61bf6008d3b94e" alt="img"></p><p>7.moetoå›¾åºŠ</p><p>åœ°å€ï¼š<a href="https://moetu.org/">https://moetu.org/</a></p><p>ä»‹ç»ï¼šå…è´¹ï¼Œå›¾ç‰‡ä¸Šä¼ é™åˆ¶ï¼šæ¯ä¸ªå›¾ç‰‡æœ€å¤§20Mã€‚moetuå›¾åºŠé™¤äº†è¿æ¥ç¨³å®šä¸Šä¼ å¤–ï¼Œè¿˜æ”¯æŒå›¾ç‰‡åˆ†ç±»ã€æœç´¢ç­‰åŠŸèƒ½ã€‚äº²æµ‹ç½‘ç«™æ‰“å¼€æœ‰ä¸€äº›ç¼“æ…¢ï¼Œã€‚</p><p><img src="https://pics6.baidu.com/feed/6d81800a19d8bc3e79803459496fb512aad3458d.jpeg@f_auto?token=896be0f0ca905f593b181ca64b73a841" alt="img"></p><p>8.ä¸ƒå–œå›¾åºŠ</p><p>åœ°å€ï¼š<a href="https://7up.pics/">https://7up.pics/</a></p><p>ä»‹ç»ï¼šä¸€ä¸ªå°ä¼—å›¾åºŠï¼Œä½¿ç”¨ä½“éªŒè¿˜å¯ä»¥ï¼Œé€Ÿåº¦è¾ƒå¿«ï¼Œå•ä¸ªæœ€å¤§ä¸Šä¼ 5Mã€‚</p><p><img src="https://pics2.baidu.com/feed/7e3e6709c93d70cf37f449bb3238c20cbba12b6e.jpeg@f_auto?token=89c4034fa268a42f8f0ac8ad3292220b" alt="img"></p><p>9.Z4Aå›¾åºŠ</p><p>åœ°å€ï¼š<a href="https://www.z4a.net/">https://www.z4a.net/</a></p><p>ä»‹ç»ï¼šéœ€è¦æ³¨å†Œæ‰èƒ½ä½¿ç”¨ï¼Œé€Ÿåº¦è¾ƒå¿«ï¼Œæ”¯æŒ JPG PNG BMP GIF WEBP ç­‰æ ¼å¼ï¼Œç…§ç‰‡æœ€å¤§å¯ä¸Šä¼ 64Mã€‚</p><p><img src="https://pics4.baidu.com/feed/b7fd5266d016092487d746ad1ae326f6e4cd3482.jpeg@f_auto?token=081aff668d129505619dbefe2af2de2e" alt="img"></p><p>10.å›¾ä»“</p><p>åœ°å€ï¼š<a href="https://www.imagehub.cc/">https://www.imagehub.cc/</a></p><p>ä»‹ç»ï¼šå…è´¹å›¾ç‰‡æ‰˜ç®¡,ä¸“ä¸šå›¾ç‰‡å¤–é“¾,å…è´¹å›¾åºŠ,å…¬ç›Šå›¾åºŠ,å…è´¹ç›¸å†Œ,æ”¯æŒç›¸å†ŒåŠ å¯†,æ”¯æŒå›¾ç‰‡æ‰¹é‡ä¸Šä¼ ,åŸå›¾ä¿å­˜,ä¸é™ç©ºé—´,ä¸é™æµé‡ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™æ¨è </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç«™æ¨è </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueé‡åˆ°çš„é—®é¢˜</title>
      <link href="/2024/03/10/Vue/vue%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>/2024/03/10/Vue/vue%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="vue-router-é…ç½®-component-æŠ¥é”™-TypeError-Cannot-use-â€˜inâ€™-operator-to-search-for-â€˜catchâ€™-in-undefined"><a href="#vue-router-é…ç½®-component-æŠ¥é”™-TypeError-Cannot-use-â€˜inâ€™-operator-to-search-for-â€˜catchâ€™-in-undefined" class="headerlink" title="vue router é…ç½® component æŠ¥é”™ TypeError: Cannot use â€˜inâ€™ operator to search for â€˜catchâ€™ in undefined"></a>vue router é…ç½® component æŠ¥é”™ TypeError: Cannot use â€˜inâ€™ operator to search for â€˜catchâ€™ in undefined</h1><h3 id="é—®é¢˜æè¿°ï¼š"><a href="#é—®é¢˜æè¿°ï¼š" class="headerlink" title="é—®é¢˜æè¿°ï¼š"></a>é—®é¢˜æè¿°ï¼š</h3><p>åœ¨é…ç½®è·¯ç”±æ–‡ä»¶æ—¶ï¼Œå¼€å§‹æ—¶componentä¸å°å¿ƒå†™æˆä¸‹é¢çš„æ ¼å¼</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20240316160919.png"></p><p>æ‰“å¼€é¡µé¢æ§åˆ¶å°æŠ¥é”™å¦‚ä¸‹<br><img src="https://img2024.cnblogs.com/blog/1857566/202401/1857566-20240125155259068-1305464985.png" alt="image"></p><h3 id="è§£å†³æ–¹æ¡ˆï¼š"><a href="#è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼š"></a>è§£å†³æ–¹æ¡ˆï¼š</h3><p>å¼•å…¥ç»„ä»¶çš„ç®­å¤´å‡½æ•°å¿˜è®°å†™è¿”å›<br><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/1857566-20240125155440938-641076154.png"><br>æˆ–è€…å†™æˆä¸€è¡Œ<br><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/1857566-20240125155334913-156267822.png"></p><blockquote><p>ç›¸å½“ä½çº§çš„é”™è¯¯ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ Vue3 å°è£…ä¸€äº›æœ‰ç”¨çš„ç»„åˆ API</title>
      <link href="/2024/03/09/Vue/%E4%BD%BF%E7%94%A8%20Vue3%20%E5%B0%81%E8%A3%85%E4%B8%80%E4%BA%9B%E6%9C%89%E7%94%A8%E7%9A%84%E7%BB%84%E5%90%88%20API/"/>
      <url>/2024/03/09/Vue/%E4%BD%BF%E7%94%A8%20Vue3%20%E5%B0%81%E8%A3%85%E4%B8%80%E4%BA%9B%E6%9C%89%E7%94%A8%E7%9A%84%E7%BB%84%E5%90%88%20API/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨Vue3æ¥å°è£…ä¸€äº›æ¯”è¾ƒæœ‰ç”¨çš„ç»„åˆAPIï¼Œä¸»è¦åŒ…æ‹¬èƒŒæ™¯ã€å®ç°æ€è·¯ä»¥åŠä¸€äº›æ€è€ƒã€‚</p><p>å°±æˆ‘è‡ªå·±çš„æ„Ÿè§‰è€Œè¨€ï¼Œ<code>Hook</code>ä¸<code>Composition API</code>æ¦‚å¿µæ˜¯å¾ˆç±»ä¼¼çš„ï¼Œäº‹å®ä¸Šåœ¨Reactå¤§éƒ¨åˆ†å¯ç”¨çš„Hookéƒ½å¯ä»¥ä½¿ç”¨Vue3å†å®ç°ä¸€éã€‚</p><p>ä¸ºäº†æ‹¼å†™æ–¹ä¾¿ï¼Œä¸‹æ–‡å†…å®¹å‡ä½¿ç”¨Hookä»£æ›¿<code>Composition API</code>ã€‚</p><h2 id="useRequest"><a href="#useRequest" class="headerlink" title="useRequest"></a>useRequest</h2><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>ä½¿ç”¨hookæ¥å°è£…ä¸€ç»„æ•°æ®çš„æ“ä½œæ˜¯å¾ˆå®¹æ˜“çš„ï¼Œä¾‹å¦‚ä¸‹é¢çš„<code>useBook</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;ref, onMounted&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fetchBookList</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useBook</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> list = <span class="title function_">ref</span>([])</span><br><span class="line">    <span class="keyword">const</span> loading = <span class="title function_">ref</span>(<span class="literal">false</span>)</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">getList</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        loading.<span class="property">value</span> = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">const</span> data = <span class="keyword">await</span> <span class="title function_">fetchBookList</span>(&#123;<span class="attr">page</span>: <span class="number">1</span>&#125;)</span><br><span class="line">        loading.<span class="property">value</span> = <span class="literal">false</span></span><br><span class="line">        list.<span class="property">value</span> = data</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">getList</span>()</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        list,</span><br><span class="line">        loading,</span><br><span class="line">        getList</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­å°è£…äº†è·å–èµ„æºã€å¤„ç†åŠ è½½çŠ¶æ€ç­‰é€»è¾‘ï¼Œçœ‹èµ·æ¥è²Œä¼¼èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚äº†</p><p>ç¼ºç‚¹åœ¨äºå¯¹åº”å¦å¤–ä¸€ä¸ªèµ„æºè€Œè¨€ï¼Œæˆ‘ä»¬è²Œä¼¼è¿˜éœ€è¦å†™ç±»ä¼¼çš„æ¨¡æ¿ä»£ç ï¼Œå› æ­¤å¯ä»¥å°†è¿™ä¸€å †ä»£ç è¿›è¡ŒæŠ½è±¡ï¼Œå°è£…æˆ<code>useApi</code>æ–¹æ³•</p><h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">useApi</span>(<span class="params">api</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> loading = <span class="title function_">ref</span>(<span class="literal">false</span>)</span><br><span class="line">    <span class="keyword">const</span> result = <span class="title function_">ref</span>(<span class="literal">null</span>)</span><br><span class="line">    <span class="keyword">const</span> error = <span class="title function_">ref</span>(<span class="literal">null</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">fetchResource</span> = (<span class="params">params</span>) =&gt; &#123;</span><br><span class="line">        loading.<span class="property">value</span> = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">api</span>(params).<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// æŒ‰ç…§çº¦å®šï¼Œapiè¿”å›çš„ç»“æœç›´æ¥å¤åˆ¶ç»™result</span></span><br><span class="line">            result.<span class="property">value</span> = data</span><br><span class="line">        &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">            error.<span class="property">value</span> = e</span><br><span class="line">        &#125;).<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            loading.<span class="property">value</span> = <span class="literal">false</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        loading,</span><br><span class="line">        error,</span><br><span class="line">        result,</span><br><span class="line">        fetchResource</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åä¿®æ”¹ä¸Šé¢çš„<code>useBook</code>æ–¹æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">useBook2</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;loading, error, result, fetchResource,&#125; = <span class="title function_">useApi</span>(fetchBookList)</span><br><span class="line"></span><br><span class="line">    <span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">fetchResource</span>(&#123;<span class="attr">page</span>: <span class="number">1</span>&#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        loading,</span><br><span class="line">        error,</span><br><span class="line">        <span class="attr">list</span>: result</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„è¿™æ˜¯ä¸€ä¸ªéå¸¸é€šç”¨çš„æ–¹æ³•ï¼Œå‡è®¾ç°åœ¨éœ€æ±‚å°è£…å…¶ä»–çš„è¯·æ±‚ï¼Œå¤„ç†èµ·æ¥ä¹Ÿæ˜¯éå¸¸æ–¹ä¾¿çš„ï¼Œä¸éœ€è¦å†ä¸€ééåœ°å¤„ç†loadingå’Œerrorç­‰æ ‡å¿—é‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fetchUserList</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> payload = &#123;</span><br><span class="line">                <span class="attr">code</span>: <span class="number">200</span>,</span><br><span class="line">                <span class="attr">data</span>: [<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>],</span><br><span class="line">                <span class="attr">msg</span>: <span class="string">&#x27;success&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="title function_">resolve</span>(payload)</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">useUser</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;loading, error, result, fetchResource,&#125; = <span class="title function_">useApi</span>(<span class="function">(<span class="params">params</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// å°è£…è¯·æ±‚è¿”å›å€¼</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">fetchUserList</span>(params).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">            <span class="keyword">if</span> (res.<span class="property">code</span> === <span class="number">200</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> res.<span class="property">data</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h3><p>å¤„ç†ç½‘ç»œè¯·æ±‚æ˜¯å‰ç«¯å·¥ä½œä¸­ååˆ†å¸¸è§çš„é—®é¢˜ï¼Œå¤„ç†ä¸Šé¢åˆ—ä¸¾åˆ°çš„åŠ è½½ã€é”™è¯¯å¤„ç†ç­‰ï¼Œè¿˜å¯ä»¥åŒ…å«å»æŠ–ã€èŠ‚æµã€è½®è¯¢ç­‰å„ç§æƒ…å†µï¼Œè¿˜æœ‰ç¦»å¼€é¡µé¢æ—¶å–æ¶ˆæœªå®Œæˆçš„è¯·æ±‚ç­‰ï¼Œéƒ½æ˜¯å¯ä»¥åœ¨<code>useRequest</code>ä¸­è¿›ä¸€æ­¥å°è£…çš„</p><h2 id="useEventBus"><a href="#useEventBus" class="headerlink" title="useEventBus"></a>useEventBus</h2><p>EventBusåœ¨å¤šä¸ªç»„ä»¶ä¹‹é—´è¿›è¡Œäº‹ä»¶é€šçŸ¥çš„åœºæ™¯ä¸‹è¿˜æ˜¯æ¯”è¾ƒæœ‰ç”¨çš„ï¼Œé€šè¿‡ç›‘å¬äº‹ä»¶å’Œè§¦å‘äº‹ä»¶ï¼Œå¯ä»¥åœ¨è®¢é˜…è€…å’Œå‘å¸ƒè€…ä¹‹é—´è§£è€¦ï¼Œå®ç°ä¸€ä¸ªå¸¸è§„çš„eventBusä¹Ÿæ¯”è¾ƒç®€å•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">EventBus</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">eventMap</span> = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">on</span>(<span class="params">key, cb</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> handlers = <span class="variable language_">this</span>.<span class="property">eventMap</span>.<span class="title function_">get</span>(key)</span><br><span class="line">        <span class="keyword">if</span> (!handlers) &#123;</span><br><span class="line">            handlers = []</span><br><span class="line">        &#125;</span><br><span class="line">        handlers.<span class="title function_">push</span>(cb)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">eventMap</span>.<span class="title function_">set</span>(key, handlers)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">off</span>(<span class="params">key, cb</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> handlers = <span class="variable language_">this</span>.<span class="property">eventMap</span>.<span class="title function_">get</span>(key)</span><br><span class="line">        <span class="keyword">if</span> (!handlers) <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">if</span> (cb) &#123;</span><br><span class="line">            <span class="keyword">const</span> idx = handlers.<span class="title function_">indexOf</span>(cb)</span><br><span class="line">            idx &gt; -<span class="number">1</span> &amp;&amp; handlers.<span class="title function_">splice</span>(idx, <span class="number">1</span>)</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">eventMap</span>.<span class="title function_">set</span>(key, handlers)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">eventMap</span>.<span class="title function_">delete</span>(key)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">once</span>(<span class="params">key, cb</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> handlers = [<span class="function">(<span class="params">payload</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">cb</span>(payload)</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">off</span>(key)</span><br><span class="line">        &#125;]</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">eventMap</span>.<span class="title function_">set</span>(key, handlers)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">emit</span>(<span class="params">key, payload</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> handlers = <span class="variable language_">this</span>.<span class="property">eventMap</span>.<span class="title function_">get</span>(key)</span><br><span class="line">        <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(handlers)) <span class="keyword">return</span></span><br><span class="line">        handlers.<span class="title function_">forEach</span>(<span class="function"><span class="params">handler</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">handler</span>(payload)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åœ¨ç»„ä»¶åˆå§‹åŒ–æ—¶ç›‘å¬äº‹ä»¶ï¼Œåœ¨äº¤äº’æ—¶è§¦å‘äº‹ä»¶ï¼Œè¿™äº›æ˜¯å¾ˆå®¹æ˜“ç†è§£çš„ï¼›ä½†å¾ˆå®¹æ˜“è¢«é—å¿˜çš„æ˜¯ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨ç»„ä»¶å¸è½½æ—¶å–æ¶ˆäº‹ä»¶æ³¨å†Œï¼Œé‡Šæ”¾ç›¸å…³çš„èµ„æºã€‚</p><p>å› æ­¤å¯ä»¥å°è£…ä¸€ä¸ª<code>useEventBus</code>æ¥å£ï¼Œç»Ÿä¸€å¤„ç†è¿™äº›é€»è¾‘</p><h3 id="å®ç°-1"><a href="#å®ç°-1" class="headerlink" title="å®ç°"></a>å®ç°</h3><p>æ—¢ç„¶è¦åœ¨ç»„ä»¶å¸è½½æ—¶å–æ¶ˆæ³¨å†Œçš„ç›¸å…³äº‹ä»¶ï¼Œç®€å•çš„å®ç°æ€è·¯æ˜¯ï¼šåªè¦åœ¨æ³¨å†Œæ—¶(<code>on</code>å’Œ<code>once</code>)æ”¶é›†ç›¸å…³çš„äº‹ä»¶å’Œå¤„ç†å‡½æ•°ï¼Œç„¶ååœ¨<code>onUnmounted</code>çš„æ—¶å€™å–æ¶ˆ(<code>off</code>)æ”¶é›†åˆ°çš„è¿™äº›äº‹ä»¶å³å¯</p><p>å› æ­¤æˆ‘ä»¬å¯ä»¥åŠ«æŒäº‹ä»¶æ³¨å†Œçš„æ–¹æ³•ï¼ŒåŒæ—¶é¢å¤–åˆ›å»ºä¸€ä¸ª<code>eventMap</code>ç”¨äºæ”¶é›†ä½¿ç”¨å½“å‰æ¥å£æ³¨å†Œçš„äº‹ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// äº‹ä»¶æ€»çº¿ï¼Œå…¨å±€å•ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> bus = <span class="keyword">new</span> <span class="title class_">EventBus</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">useEventBus</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> instance = &#123;</span><br><span class="line">        <span class="attr">eventMap</span>: <span class="keyword">new</span> <span class="title class_">Map</span>(),</span><br><span class="line">        <span class="comment">// å¤ç”¨eventBusäº‹ä»¶æ”¶é›†ç›¸å…³é€»è¾‘</span></span><br><span class="line">        <span class="attr">on</span>: bus.<span class="property">on</span>,</span><br><span class="line">        <span class="attr">once</span>: bus.<span class="property">once</span>,</span><br><span class="line">        <span class="comment">// æ¸…ç©ºeventMap</span></span><br><span class="line">        <span class="title function_">clear</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">eventMap</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">list, key</span>) =&gt;</span> &#123;</span><br><span class="line">                list.<span class="title function_">forEach</span>(<span class="function"><span class="params">cb</span> =&gt;</span> &#123;</span><br><span class="line">                    bus.<span class="title function_">off</span>(key, cb)</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;)</span><br><span class="line">            eventMap.<span class="title function_">clear</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> eventMap = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line">    <span class="comment">// åŠ«æŒä¸¤ä¸ªç›‘å¬æ–¹æ³•ï¼Œæ”¶é›†å½“å‰ç»„ä»¶å¯¹åº”çš„äº‹ä»¶</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">on</span> = (<span class="params">key, cb</span>) =&gt; &#123;</span><br><span class="line">        instance.<span class="title function_">on</span>(key, cb)</span><br><span class="line">        bus.<span class="title function_">on</span>(key, cb)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">once</span> = (<span class="params">key, cb</span>) =&gt; &#123;</span><br><span class="line">        instance.<span class="title function_">once</span>(key, cb)</span><br><span class="line">        bus.<span class="title function_">once</span>(key, cb)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»„ä»¶å¸è½½æ—¶å–æ¶ˆç›¸å…³çš„äº‹ä»¶</span></span><br><span class="line">    <span class="title function_">onUnmounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        instance.<span class="title function_">clear</span>()</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        on,</span><br><span class="line">        once,</span><br><span class="line">        <span class="attr">off</span>: bus.<span class="property">off</span>.<span class="title function_">bind</span>(bus),</span><br><span class="line">        <span class="attr">emit</span>: bus.<span class="property">emit</span>.<span class="title function_">bind</span>(bus)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œå½“ç»„ä»·å¸è½½æ—¶ä¹Ÿä¼šé€šè¿‡<code>instance.clear</code>ç§»é™¤è¯¥ç»„ä»¶æ³¨å†Œçš„ç›¸å…³äº‹ä»¶ï¼Œæ¯”èµ·æ‰‹åŠ¨åœ¨æ¯ä¸ªç»„ä»¶<code>onUnmounted</code>æ—¶æ‰‹åŠ¨å–æ¶ˆè¦æ–¹ä¾¿å¾ˆå¤šã€‚</p><h3 id="æ€è€ƒ-1"><a href="#æ€è€ƒ-1" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h3><p>è¿™ä¸ªæ€è·¯å¯ä»¥è¿ç”¨åœ¨å¾ˆå¤šéœ€è¦åœ¨ç»„ä»¶å¸è½½æ—¶æ‰§è¡Œæ¸…ç†æ“ä½œçš„é€»è¾‘ï¼Œæ¯”å¦‚ï¼š</p><ul><li>DOMäº‹ä»¶æ³¨å†Œ<code>addEventListener</code>å’Œ<code>removeEventListener</code></li><li>è®¡æ—¶å™¨<code>setTimeout</code>å’Œ<code>clearTimeout</code></li><li>ç½‘ç»œè¯·æ±‚<code>request</code>å’Œ<code>abort</code></li></ul><p>ä»è¿™ä¸ªå°è£…ä¹Ÿå¯ä»¥çœ‹è§ç»„åˆAPIä¸€ä¸ªéå¸¸æ˜æ˜¾çš„ä¼˜åŠ¿ï¼šå°½å¯èƒ½åœ°æŠ½è±¡å…¬å…±é€»è¾‘ï¼Œè€Œæ— éœ€å…³æ³¨æ¯ä¸ªç»„ä»¶å…·ä½“çš„ç»†èŠ‚</p><h2 id="useModel"><a href="#useModel" class="headerlink" title="useModel"></a>useModel</h2><h3 id="èƒŒæ™¯-1"><a href="#èƒŒæ™¯-1" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>å½“æŒæ¡äº†Hookï¼ˆæˆ–è€…Composition APIï¼‰ä¹‹åï¼Œæ„Ÿè§‰ä¸‡ç‰©çš†å¯hookï¼Œæ€»æ˜¯æƒ³æŠŠæ•°æ®å’Œæ“ä½œè¿™å †æ•°æ®çš„æ–¹æ³•å°è£…åœ¨ä¸€èµ·ï¼Œæ¯”å¦‚ä¸‹é¢çš„è®¡æ•°å™¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">useCounter</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> count = <span class="title function_">ref</span>(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">decrement</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        count.<span class="property">value</span>--</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">increment</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        count.<span class="property">value</span>++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        count,</span><br><span class="line">        decrement,</span><br><span class="line">        increment</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ª<code>useCounter</code>æš´éœ²äº†è·å–å½“å‰æ•°å€¼countã€å¢åŠ æ•°å€¼decrementå’Œå‡å°‘æ•°å€¼incrementç­‰æ•°æ®å’Œæ–¹æ³•ï¼Œç„¶åå°±å¯ä»¥åœ¨å„ä¸ªç»„ä»¶ä¸­æ„‰å¿«åœ°å®ç°è®¡æ•°å™¨äº†</p><p>åœ¨æŸäº›åœºæ™¯ä¸‹æˆ‘ä»¬å¸Œæœ›å¤šä¸ªç»„ä»¶å¯ä»¥å…±äº«åŒä¸€ä¸ªè®¡æ•°å™¨ï¼Œè€Œä¸æ˜¯æ¯ä¸ªç»„ä»¶è‡ªå·±ç‹¬ç«‹çš„è®¡æ•°å™¨ã€‚</p><p>ä¸€ç§æƒ…å†µæ˜¯ä½¿ç”¨è¯¸å¦‚vuexç­‰å…¨å±€çŠ¶æ€ç®¡ç†å·¥å…·ï¼Œç„¶åä¿®æ”¹<code>useCounter</code>çš„å®ç°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;createStore&#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(&#123;</span><br><span class="line">    <span class="attr">state</span>: &#123;</span><br><span class="line">        <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mutations</span>: &#123;</span><br><span class="line">        <span class="title function_">setCount</span>(<span class="params">state, payload</span>) &#123;</span><br><span class="line">            state.<span class="property">count</span> = payload</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ç„¶åé‡æ–°å®ç°<code>useCounter</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useCounter2</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> count = <span class="title function_">computed</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> store.<span class="property">state</span>.<span class="property">count</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">decrement</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        store.<span class="title function_">commit</span>(<span class="string">&#x27;setCount&#x27;</span>, count.<span class="property">value</span> + <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">increment</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        store.<span class="title function_">commit</span>(<span class="string">&#x27;setCount&#x27;</span>, count.<span class="property">value</span> + <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        count,</span><br><span class="line">        decrement,</span><br><span class="line">        increment</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¾ˆæ˜¾ç„¶ï¼Œç°åœ¨çš„<code>useCounter2</code>ä»…ä»…åªæ˜¯storeçš„<code>state</code>ä¸<code>mutations</code>çš„å°è£…ï¼Œç›´æ¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨storeä¹Ÿå¯ä»¥è¾¾åˆ°ç›¸åŒçš„æ•ˆæœï¼Œå°è£…å°±å˜å¾—æ„ä¹‰ä¸å¤§ï¼›æ­¤å¤–ï¼Œå¦‚æœå•å•åªæ˜¯ä¸ºäº†è¿™ä¸ªåŠŸèƒ½å°±ä¸ºé¡¹ç›®å¢åŠ äº†vuexä¾èµ–ï¼Œæ˜¾å¾—ååˆ†ç¬¨é‡ã€‚</p><p>åŸºäºè¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ª<code>useModel</code>æ¥å®ç°å¤ç”¨æŸä¸ªé’©å­çŠ¶æ€çš„éœ€æ±‚</p><h3 id="å®ç°-2"><a href="#å®ç°-2" class="headerlink" title="å®ç°"></a>å®ç°</h3><p>æ•´ä¸ªæ€è·¯ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œä½¿ç”¨ä¸€ä¸ªMapæ¥ä¿å­˜æŸä¸ªhookçš„çŠ¶æ€</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">WeakMap</span>()</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">useModel</span>(<span class="params">hook</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!map.<span class="title function_">get</span>(hook)) &#123;</span><br><span class="line">        <span class="keyword">let</span> ans = <span class="title function_">hook</span>()</span><br><span class="line">        map.<span class="title function_">set</span>(hook, ans)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> map.<span class="title function_">get</span>(hook)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶ååŒ…è£…ä¸€ä¸‹<code>useCounter</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useCounter3</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">useModel</span>(useCounter)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨å¤šä¸ªç»„ä»¶è°ƒç”¨</span></span><br><span class="line"><span class="keyword">const</span> &#123;count, decrement, increment&#125; = <span class="title function_">useCounter3</span>()</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">const</span> &#123;count, decrement, increment&#125; = <span class="title function_">useCounter3</span>()</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œåœ¨æ¯æ¬¡è°ƒç”¨<code>useCounter3</code>æ—¶ï¼Œéƒ½è¿”å›çš„æ˜¯åŒä¸€ä¸ªçŠ¶æ€ï¼Œä¹Ÿå°±å®ç°äº†å¤šä¸ªç»„ä»¶ä¹‹é—´çš„hookçŠ¶æ€å…±äº«ã€‚</p><h3 id="æ€è€ƒ-2"><a href="#æ€è€ƒ-2" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h3><p><code>userModel</code>æä¾›äº†ä¸€ç§é™¤<code>vuex</code>å’Œ<code>provide()/inject()</code>ä¹‹å¤–å…±äº«æ•°æ®çŠ¶æ€çš„æ€è·¯ï¼Œå¹¶ä¸”å¯ä»¥å¾ˆçµæ´»çš„ç®¡ç†æ•°æ®ä¸æ“ä½œæ•°æ®çš„æ–¹æ¡ˆï¼Œè€Œæ— éœ€å°†æ‰€æœ‰stateæ”¾åœ¨ä¸€èµ·æˆ–è€…æ¨¡å—ä¸‹é¢ã€‚</p><p>ç¼ºç‚¹åœ¨äºï¼Œå½“ä¸ä½¿ç”¨<code>useModel</code>åŒ…è£…æ—¶ï¼Œ<code>useCounter</code>å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„hookï¼ŒåæœŸç»´æŠ¤è€Œè¨€ï¼Œæˆ‘ä»¬å¾ˆéš¾åˆ¤æ–­æŸä¸ªçŠ¶æ€åˆ°åº•æ˜¯å…¨å±€å…±äº«çš„æ•°æ®è¿˜æ˜¯å±€éƒ¨çš„æ•°æ®ã€‚</p><p>å› æ­¤åœ¨ä½¿ç”¨<code>useModel</code>å¤„ç†hookçš„å…±äº«çŠ¶æ€æ—¶ï¼Œè¿˜è¦è¦æ…é‡è€ƒè™‘ä¸€ä¸‹åˆ°åº•åˆä¸åˆé€‚ã€‚</p><h2 id="useReducer"><a href="#useReducer" class="headerlink" title="useReducer"></a>useReducer</h2><p>reduxçš„æ€æƒ³å¯ä»¥ç®€å•æ¦‚æ‹¬ä¸º</p><ul><li>storeç»´æŠ¤å…¨å±€çš„stateæ•°æ®çŠ¶æ€ï¼Œ</li><li>å„ä¸ªç»„ä»¶å¯ä»¥æŒ‰éœ€ä½¿ç”¨stateä¸­çš„æ•°æ®ï¼Œå¹¶ç›‘å¬stateçš„å˜åŒ–</li><li><code>reducer</code>æ¥æ”¶actionå¹¶è¿”å›æ–°çš„stateï¼Œç»„ä»¶å¯ä»¥é€šè¿‡<code>dispatch</code>ä¼ é€’actionè§¦å‘reducer</li><li>stateæ›´æ–°åï¼Œé€šçŸ¥ç›¸å…³ä¾èµ–æ›´æ–°æ•°æ®</li></ul><p>æˆ‘ä»¬ç”šè‡³å¯ä»¥å°†reduxçš„ä½¿ç”¨hookåŒ–ï¼Œç±»ä¼¼äº</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">reducer</span>(<span class="params">state, action</span>)&#123;</span><br><span class="line">    <span class="comment">// æ ¹æ®actionè¿›è¡Œå¤„ç†</span></span><br><span class="line">    <span class="comment">// è¿”å›æ–°çš„state</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> initialState = &#123;&#125;</span><br><span class="line"><span class="keyword">const</span> &#123;state, dispatch&#125; = <span class="title function_">useReducer</span>(reducer, initialState);</span><br></pre></td></tr></table></figure><h3 id="å®ç°-3"><a href="#å®ç°-3" class="headerlink" title="å®ç°"></a>å®ç°</h3><p>å€ŸåŠ©äºVueçš„æ•°æ®å“åº”ç³»ç»Ÿï¼Œæˆ‘ä»¬ç”šè‡³ä¸éœ€è¦å®ç°ä»»ä½•å‘å¸ƒå’Œè®¢é˜…é€»è¾‘</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;ref&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">useReducer</span>(<span class="params">reducer, initialState = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> state = <span class="title function_">ref</span>(initialState)</span><br><span class="line">     <span class="comment">// çº¦å®šactionæ ¼å¼ä¸º &#123;type:string, payload: any&#125;</span></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">dispatch</span> = (<span class="params">action</span>) =&gt; &#123;</span><br><span class="line">        state.<span class="property">value</span> = <span class="title function_">reducer</span>(state.<span class="property">value</span>, action)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        state,</span><br><span class="line">        dispatch</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åå®ç°ä¸€ä¸ª<code>useRedux</code>è´Ÿè´£ä¼ é€’<code>reducer</code>å’Œ<code>action</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> useReducer <span class="keyword">from</span> <span class="string">&#x27;./index&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">reducer</span>(<span class="params">state, action</span>) &#123;</span><br><span class="line">    <span class="keyword">switch</span> (action.<span class="property">type</span>) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;reset&quot;</span>:</span><br><span class="line">            <span class="keyword">return</span> initialState;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;increment&quot;</span>:</span><br><span class="line">            <span class="keyword">return</span> &#123;<span class="attr">count</span>: state.<span class="property">count</span> + <span class="number">1</span>&#125;;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;decrement&quot;</span>:</span><br><span class="line">            <span class="keyword">return</span> &#123;<span class="attr">count</span>: state.<span class="property">count</span> - <span class="number">1</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">useStore</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">useReducer</span>(reducer, initialState);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¸Œæœ›æ˜¯ç»´æŠ¤ä¸€ä¸ªå…¨å±€çš„storeï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„<code>useModel</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useRedux</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">useModel</span>(useStore);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åå°±å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨äº†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;dispatch(&#123;type:&#x27;decrement&#x27;&#125;)&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; state.count &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;dispatch(&#123;type:&#x27;increment&#x27;&#125;)&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;useReducer&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> &#123;state, dispatch&#125; = <span class="title function_">useStore</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      state,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      dispatch</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>çœ‹èµ·æ¥è·Ÿæˆ‘ä»¬ä¸Šé¢<code>useModel</code>çš„ä¾‹å­å¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä¸»è¦æ˜¯æš´éœ²äº†é€šç”¨çš„<code>dispatch</code>æ–¹æ³•ï¼Œåœ¨reducerå¤„ç»´æŠ¤çŠ¶æ€å˜åŒ–çš„é€»è¾‘ï¼Œè€Œä¸æ˜¯åœ¨æ¯ä¸ªuseCounterä¸­è‡ªå·±ç»´æŠ¤ä¿®æ”¹æ•°æ®çš„é€»è¾‘</p><h3 id="æ€è€ƒ-3"><a href="#æ€è€ƒ-3" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h3><p>å½“ç„¶è¿™ä¸ªreduxæ˜¯éå¸¸ç®€é™‹çš„ï¼ŒåŒ…æ‹¬ä¸­é—´ä»¶ã€<code>combineReducers</code>ã€<code>connect</code>ç­‰æ–¹æ³•å‡ä¸ºå®ç°ï¼Œä½†ä¹Ÿä¸ºæˆ‘ä»¬å±•ç¤ºäº†ä¸€ä¸ªæœ€åŸºæœ¬çš„reduxæ•°æ®æµè½¬è¿‡ç¨‹ã€‚</p><h2 id="useDebounceä¸useThrottle"><a href="#useDebounceä¸useThrottle" class="headerlink" title="useDebounceä¸useThrottle"></a>useDebounceä¸useThrottle</h2><h3 id="èƒŒæ™¯-2"><a href="#èƒŒæ™¯-2" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>å‰ç«¯å¾ˆå¤šä¸šåŠ¡åœºæ™¯ä¸‹éƒ½éœ€è¦å¤„ç†èŠ‚æµæˆ–å»æŠ–çš„åœºæ™¯ï¼ŒèŠ‚æµå‡½æ•°å’Œå»æŠ–å‡½æ•°æœ¬èº«æ²¡æœ‰å‡å°‘äº‹ä»¶çš„è§¦å‘æ¬¡æ•°ï¼Œè€Œæ˜¯æ§åˆ¶äº‹ä»¶å¤„ç†å‡½æ•°çš„æ‰§è¡Œæ¥å‡å°‘å®é™…é€»è¾‘å¤„ç†è¿‡ç¨‹ï¼Œä»è€Œæé«˜æµè§ˆå™¨æ€§èƒ½ã€‚</p><p>ä¸€ä¸ªå»æŠ–çš„åœºæ™¯æ˜¯ï¼šåœ¨æœç´¢æ¡†ä¸­æ ¹æ®ç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬æœç´¢å…³è”çš„å†…å®¹å¹¶ä¸‹æ‹‰å±•ç¤ºï¼Œç”±äºinputæ˜¯ä¸€ä¸ªè§¦å‘é¢‘ç‡å¾ˆé«˜çš„äº‹ä»¶ï¼Œä¸€èˆ¬éœ€è¦ç­‰åˆ°ç”¨æˆ·åœæ­¢è¾“å‡ºæ–‡æœ¬ä¸€æ®µæ—¶é—´åæ‰å¼€å§‹è¯·æ±‚æ¥å£æŸ¥è¯¢æ•°æ®ã€‚</p><p>å…ˆæ¥å®ç°æœ€åŸå§‹çš„ä¸šåŠ¡é€»è¾‘</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;ref, watch&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">cb, delay = <span class="number">100</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        <span class="keyword">let</span> args = <span class="variable language_">arguments</span>,</span><br><span class="line">            context = <span class="variable language_">this</span></span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            cb.<span class="title function_">apply</span>(context, args)</span><br><span class="line">        &#125;, delay)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useAssociateSearch</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> keyword = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">search</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;search...&#x27;</span>, keyword.<span class="property">value</span>)</span><br><span class="line">        <span class="comment">// mock è¯·æ±‚æ¥å£è·å–æ•°æ®</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// watch(keyword, search) // åŸå§‹é€»è¾‘ï¼Œæ¯æ¬¡å˜åŒ–éƒ½è¯·æ±‚</span></span><br><span class="line">    <span class="title function_">watch</span>(keyword, <span class="title function_">debounce</span>(search, <span class="number">1000</span>)) <span class="comment">// å»æŠ–ï¼Œåœæ­¢æ“ä½œ1ç§’åå†è¯·æ±‚</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        keyword</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨è§†å›¾ä¸­å¼•å…¥</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;keyword&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123;useAssociateSearch&#125; <span class="keyword">from</span> <span class="string">&quot;../useDebounce&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&quot;useDebounce&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> &#123;keyword&#125; = <span class="title function_">useAssociateSearch</span>()</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      keyword</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸<code>useApi</code>åŒç†ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªdebounceçš„é€»è¾‘æŠ½è±¡å‡ºæ¥ï¼Œï¼Œå°è£…æˆä¸€ä¸ªé€šç”¨çš„<code>useDebounce</code></p><h3 id="å®ç°useDebounce"><a href="#å®ç°useDebounce" class="headerlink" title="å®ç°useDebounce"></a>å®ç°useDebounce</h3><p>è²Œä¼¼ä¸éœ€è¦æˆ‘ä»¬å†é¢å¤–ç¼–å†™ä»»ä½•ä»£ç ï¼Œç›´æ¥å°†<code>debounce</code>æ–¹æ³•é‡å‘½åä¸º<code>useDebounce</code>å³å¯ï¼Œä¸ºäº†å‡‘å­—æ•°ï¼Œæˆ‘ä»¬è¿˜æ˜¯æ”¹è£…ä¸€ä¸‹ï¼ŒåŒæ—¶å¢åŠ cancelæ–¹æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useDebounce</span>(<span class="params">cb, delay = <span class="number">100</span></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> timer = <span class="title function_">ref</span>(<span class="literal">null</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> handler = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer.<span class="property">value</span>)</span><br><span class="line">        <span class="keyword">let</span> args = <span class="variable language_">arguments</span>,</span><br><span class="line">            context = <span class="variable language_">this</span></span><br><span class="line">        timer.<span class="property">value</span> = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            cb.<span class="title function_">apply</span>(context, args)</span><br><span class="line">        &#125;, delay)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">cancel</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        timer.<span class="property">value</span> = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        handler,</span><br><span class="line">        cancel</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å®ç°useThrottle"><a href="#å®ç°useThrottle" class="headerlink" title="å®ç°useThrottle"></a>å®ç°useThrottle</h3><p>èŠ‚æµä¸å»æŠ–çš„å°è£…æ–¹å¼åŸºæœ¬ç›¸åŒï¼Œåªè¦çŸ¥é“<code>throttle</code>çš„å®ç°å°±å¯ä»¥äº†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useThrottle</span>(<span class="params">cb, duration = <span class="number">100</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> start = +<span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> args = <span class="variable language_">arguments</span></span><br><span class="line">        <span class="keyword">let</span> context = <span class="variable language_">this</span></span><br><span class="line">        <span class="keyword">let</span> now = +<span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line">        <span class="keyword">if</span> (now - start &gt;= duration) &#123;</span><br><span class="line">            cb.<span class="title function_">apply</span>(context, args)</span><br><span class="line">            start = now</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ€è€ƒ-4"><a href="#æ€è€ƒ-4" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h3><p>ä»å»æŠ–&#x2F;èŠ‚æµçš„å½¢å¼å¯ä»¥çœ‹å‡ºï¼ŒæŸäº›hookä¸æˆ‘ä»¬ä¹‹å‰çš„å·¥å…·å‡½æ•°å¹¶æ²¡æœ‰ååˆ†æ˜æ˜¾çš„è¾¹ç•Œã€‚æ˜¯å°†æ‰€æœ‰ä»£ç ç»Ÿä¸€hookåŒ–ï¼Œè¿˜æ˜¯ä¿ç•™åŸæ¥å¼•å…¥å·¥å…·å‡½æ•°çš„é£æ ¼ï¼Œè¿™æ˜¯ä¸€ä¸ªéœ€è¦æ€è€ƒå’Œå®è·µçš„é—®é¢˜</p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æœ¬æ–‡ä¸»è¦å±•ç¤ºäº†å‡ ç§Hookçš„å°è£…æ€è·¯å’Œç®€å•å®ç°</p><ul><li><code>useRequest</code>ç”¨äºç»Ÿä¸€ç®¡ç†ç½‘ç»œè¯·æ±‚ç›¸å…³çŠ¶æ€ï¼Œè€Œæ— éœ€åœ¨æ¯æ¬¡ç½‘ç»œè¯·æ±‚ä¸­é‡å¤å¤„ç†loadingã€errorç­‰é€»è¾‘</li><li><code>useEventBus</code>å®ç°äº†åœ¨ç»„ä»¶å¸è½½æ—¶è‡ªåŠ¨å–æ¶ˆå½“å‰ç»„ä»¶ç›‘å¬çš„äº‹ä»¶ï¼Œæ— éœ€é‡å¤ç¼–å†™<code>onUnmounted</code>ä»£ç ï¼Œè¿™ä¸ªæ€è·¯ä¹Ÿå¯ä»¥ç”¨äºDOMäº‹ä»¶ã€å®šæ—¶å™¨ã€ç½‘ç»œè¯·æ±‚ç­‰æ³¨å†Œå’Œå–æ¶ˆ</li><li><code>useModel</code>å®ç°äº†åœ¨å¤šä¸ªç»„ä»¶å…±äº«åŒä¸€ä¸ªhookçŠ¶æ€ï¼Œå±•ç¤ºäº†ä¸€ç§é™¤vuexã€<code>provide/inject</code>å‡½æ•°ä¹‹å¤–è·¨ç»„ä»¶å…±äº«æ•°æ®çš„æ–¹æ¡ˆ</li><li><code>useReducer</code>åˆ©ç”¨hookå®ç°äº†ä¸€ä¸ªç®€æ˜“ç‰ˆçš„<code>redux</code>ï¼Œå¹¶ä¸”åˆ©ç”¨<code>useModel</code>å®ç°äº†å…¨å±€çš„store</li><li><code>useDebounce</code>ä¸<code>useThrottle</code>ï¼Œå®ç°äº†å»æŠ–å’ŒèŠ‚æµï¼Œå¹¶æ€è€ƒäº†hookåŒ–çš„ä»£ç é£æ ¼ä¸å¸¸è§„çš„utilä»£ç é£æ ¼ï¼Œä»¥åŠæ˜¯å¦æœ‰å¿…è¦å°†æ‰€æœ‰çš„ä¸œè¥¿éƒ½hookåŒ–</li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueå…«è‚¡æ–‡</title>
      <link href="/2024/03/07/%E5%85%AB%E8%82%A1%E6%96%87/Vue%E5%85%AB%E8%82%A1%E6%96%87/"/>
      <url>/2024/03/07/%E5%85%AB%E8%82%A1%E6%96%87/Vue%E5%85%AB%E8%82%A1%E6%96%87/</url>
      
        <content type="html"><![CDATA[<h2 id="Vue-çš„è®¾è®¡æ¨¡å¼"><a href="#Vue-çš„è®¾è®¡æ¨¡å¼" class="headerlink" title="Vue çš„è®¾è®¡æ¨¡å¼"></a>Vue çš„è®¾è®¡æ¨¡å¼</h2><h3 id="ä»‹ç»ä¸€ä¸‹-MVVM-æ¨¡å¼ï¼Œå’Œ-MVC-æ¨¡å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#ä»‹ç»ä¸€ä¸‹-MVVM-æ¨¡å¼ï¼Œå’Œ-MVC-æ¨¡å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="ä»‹ç»ä¸€ä¸‹ MVVM æ¨¡å¼ï¼Œå’Œ MVC æ¨¡å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>ä»‹ç»ä¸€ä¸‹ MVVM æ¨¡å¼ï¼Œå’Œ MVC æ¨¡å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>MVVM å³ Model-View-ViewModel çš„ç®€å†™ï¼Œå³æ¨¡å‹-è§†å›¾-è§†å›¾æ¨¡å‹ã€‚æ¨¡å‹ï¼ˆModelï¼‰æŒ‡çš„æ˜¯åç«¯ä¼ é€’çš„æ•°æ®ã€‚è§†å›¾ï¼ˆViewï¼‰æŒ‡çš„æ˜¯æ‰€çœ‹åˆ°çš„é¡µé¢ã€‚è§†å›¾æ¨¡å‹ï¼ˆViewModelï¼‰æ˜¯ MVVM æ¨¡å¼çš„æ ¸å¿ƒï¼Œå®ƒæ˜¯è¿æ¥ View å’Œ Model çš„æ¡¥æ¢ã€‚<br>è§†å›¾æ¨¡å‹æœ‰ä¸¤ä¸ªæ–¹å‘çš„ä½œç”¨ï¼š<br>1.å°†æ¨¡å‹ï¼ˆModelï¼‰è½¬åŒ–æˆè§†å›¾ï¼ˆViewï¼‰ï¼Œå³å°†åç«¯ä¼ é€’çš„æ•°æ®è½¬åŒ–æˆæ‰€çœ‹åˆ°çš„é¡µé¢ï¼Œå®ç°çš„æ–¹å¼æ˜¯ï¼šæ•°æ®ç»‘å®šã€‚<br>2.å°†è§†å›¾ï¼ˆViewï¼‰è½¬åŒ–æˆæ¨¡å‹ï¼ˆModelï¼‰ï¼Œå³å°†æ‰€çœ‹åˆ°çš„é¡µé¢è½¬åŒ–æˆåç«¯çš„æ•°æ®ï¼Œå®ç°çš„æ–¹å¼æ˜¯ï¼šDOM äº‹ä»¶ç›‘å¬ã€‚å½“è¿™ä¸¤ä¸ªæ–¹å‘çš„æ•°æ®è½¬æ¢éƒ½å®ç°æ—¶ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ•°æ®çš„åŒå‘ç»‘å®šã€‚</p><p><strong>MVVMæ¨¡å‹å›¾è§£ï¼š</strong></p><p><img src="https://pic.leetcode.cn/1677830973-gNoWGQ-image.png"></p><p>MVC æ˜¯ Model-View-Controller çš„ç®€å†™ï¼Œå³æ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨ã€‚M å’Œ V æŒ‡çš„æ„æ€å’Œ MVVM ä¸­çš„ M å’Œ V æ„æ€ä¸€æ ·ã€‚C å³ Controller æŒ‡çš„æ˜¯é¡µé¢ä¸šåŠ¡é€»è¾‘ã€‚ä½¿ç”¨ MVC çš„ç›®çš„å°±æ˜¯å°† M å’Œ V çš„ä»£ç åˆ†ç¦»ã€‚MVC æ˜¯å•å‘é€šä¿¡ï¼Œä¹Ÿå°±æ˜¯ View è·Ÿ Model ï¼Œå¿…é¡»é€šè¿‡ Controller æ¥æ‰¿ä¸Šå¯ä¸‹ã€‚</p><p><strong>MVCæ¨¡å‹å›¾è§£ï¼š</strong></p><p><img src="https://pic.leetcode.cn/1677830876-FXzrYJ-image.png"></p><p>MVVM ä¸ MVC æœ€å¤§çš„åŒºåˆ«å°±æ˜¯ï¼šMVVM å®ç°äº† View å’Œ Model çš„è‡ªåŠ¨åŒæ­¥ï¼Œä¹Ÿå°±æ˜¯å½“ Model çš„å±æ€§æ”¹å˜æ—¶ï¼Œæˆ‘ä»¬ä¸ç”¨å†è‡ªå·±æ‰‹åŠ¨æ“ä½œ Dom å…ƒç´ æ¥æ”¹å˜ View çš„æ˜¾ç¤ºï¼Œè€Œæ˜¯æ”¹å˜å±æ€§åè¯¥å±æ€§å¯¹åº” View å±‚æ˜¾ç¤ºä¼šè‡ªåŠ¨æ”¹å˜ï¼ˆåŒå‘ç»‘å®šï¼‰ã€‚</p><hr><h2 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h2><h3 id="Vue2-çš„ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›"><a href="#Vue2-çš„ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›" class="headerlink" title="Vue2 çš„ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›"></a>Vue2 çš„ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›</h3><p>ç”Ÿå‘½å‘¨æœŸå¯ä»¥ç†è§£ä¸ºä¸‰éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†ä¸ºåˆå§‹åŒ– Vue å®ä¾‹çš„è¿‡ç¨‹ï¼Œç¬¬äºŒéƒ¨åˆ†ä¸ºæ•°æ®æ¸²æŸ“ï¼Œæ›´æ–° Dom çš„è¿‡ç¨‹ï¼Œç¬¬ä¸‰éƒ¨åˆ†ä¸ºé”€æ¯å®ä¾‹çš„è¿‡ç¨‹ï¼Œæ¯ä¸€ä¸ªéƒ¨åˆ†éƒ½æœ‰å¯¹åº”çš„é’©å­å‡½æ•°æ¥å®Œæˆå¯¹åº”çš„éƒ¨åˆ†è¿‡ç¨‹ã€‚</p><p>åˆå§‹åŒ–é˜¶æ®µçš„é’©å­å‡½æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">beforeCreate</span>()<span class="comment">//å®ä¾‹åˆ›å»ºå‰ï¼šæ¨¡æ¿å’Œæ•°æ®å‡æœªè·å–åˆ°</span></span><br><span class="line"><span class="title function_">created</span>()<span class="comment">//å®ä¾‹åˆ›å»ºåï¼šæœ€æ—©å¯ä»¥è·å¾—dataæ•°æ®ï¼Œä½†æ¨¡æ¿è¿˜æœªè·å–åˆ°</span></span><br><span class="line"><span class="title function_">beforfeMount</span>()<span class="comment">//æ•°æ®æŒ‚è½½å‰ï¼šæ¨¡æ¿å·²ç»è·å–åˆ°ï¼Œä½†æ˜¯æ•°æ®æœªæŒ‚è½½åˆ°æ¨¡æ¿ä¸Š</span></span><br><span class="line"><span class="title function_">mounted</span>()<span class="comment">//æ•°æ®æŒ‚è½½åï¼šæ•°æ®å·²æŒ‚è½½åˆ°æ¨¡æ¿ä¸­</span></span><br></pre></td></tr></table></figure><p>æ›´æ–°é˜¶æ®µçš„é’©å­å‡½æ•°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">beforeUpdate()//æ¨¡æ¿æ›´æ–°å‰ï¼šdataæ”¹å˜åï¼Œæ›´æ–°æ•°æ®æ¨¡æ¿å‰è°ƒç”¨ </span><br><span class="line">updated()//æ¨¡æ¿æ›´æ–°åï¼šå°†dataæ¸²æŸ“åˆ°æ•°æ®æ¨¡æ¿ä¸­</span><br></pre></td></tr></table></figure><p>é”€æ¯é˜¶æ®µçš„é’©å­å‡½æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">beforeDestroy</span>() <span class="comment">//å®ä¾‹é”€æ¯å‰ </span></span><br><span class="line"><span class="title function_">destroyed</span>() <span class="comment">//å®ä¾‹é”€æ¯å</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20240307234024.png"></p><h3 id="keep-alive-ä¸­çš„ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›"><a href="#keep-alive-ä¸­çš„ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›" class="headerlink" title="keep-alive ä¸­çš„ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›"></a>keep-alive ä¸­çš„ç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›</h3><p>keep-alive æ˜¯ Vue æä¾›çš„ä¸€ä¸ªå†…ç½®ç»„ä»¶ï¼Œç”¨æ¥å¯¹ç»„ä»¶è¿›è¡Œç¼“å­˜ï¼Œåœ¨ç»„ä»¶åˆ‡æ¢è¿‡ç¨‹ä¸­å°†çŠ¶æ€ä¿ç•™åœ¨å†…å­˜ä¸­ï¼Œé˜²æ­¢é‡å¤æ¸²æŸ“ DOMã€‚ å¦‚æœä¸ºä¸€ä¸ªç»„ä»¶åŒ…è£¹äº† keep-aliveï¼Œé‚£ä¹ˆå®ƒä¼šå¤šå‡ºä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸï¼šdeactivatedã€activatedã€‚åŒæ—¶ï¼ŒbeforeDestroy å’Œ destroyed å°±ä¸ä¼šå†è¢«è§¦å‘äº†ï¼Œå› ä¸ºç»„ä»¶ä¸ä¼šè¢«çœŸæ­£é”€æ¯ã€‚ å½“ç»„ä»¶è¢«æ¢æ‰æ—¶ï¼Œä¼šè¢«ç¼“å­˜åˆ°å†…å­˜ä¸­ã€è§¦å‘ deactivated ç”Ÿå‘½å‘¨æœŸï¼› å½“ç»„ä»¶è¢«åˆ‡å›æ¥æ—¶ï¼Œå†å»ç¼“å­˜é‡Œæ‰¾è¿™ä¸ªç»„ä»¶ã€è§¦å‘ activated é’©å­å‡½æ•°ã€‚</p><h3 id="çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº"><a href="#çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº" class="headerlink" title="çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº"></a>çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº</h3><h4 id="1-æŒ‚è½½é˜¶æ®µ"><a href="#1-æŒ‚è½½é˜¶æ®µ" class="headerlink" title="1.æŒ‚è½½é˜¶æ®µ"></a>1.æŒ‚è½½é˜¶æ®µ</h4><p>è¯¥è¿‡ç¨‹ä¸»è¦æ¶‰åŠ beforeCreateã€createdã€beforeMountã€mounted 4 ä¸ªé’©å­å‡½æ•°ã€‚æ‰§è¡Œé¡ºåºä¸ºï¼š<br>çˆ¶ beforeCreate -&gt; çˆ¶ created -&gt; çˆ¶ beforeMount -&gt; å­ beforeCreate -&gt; å­ created -&gt; å­ beforeMount -&gt; å­ mounted -&gt; çˆ¶ mounted</p><p>ä¸€å®šå¾—ç­‰å­ç»„ä»¶æŒ‚è½½å®Œæ¯•åï¼Œçˆ¶ç»„ä»¶æ‰èƒ½æŒ‚åœ¨å®Œæ¯•ï¼Œæ‰€ä»¥çˆ¶ç»„ä»¶çš„ mounted åœ¨æœ€åã€‚</p><h4 id="2-æ›´æ–°é˜¶æ®µ"><a href="#2-æ›´æ–°é˜¶æ®µ" class="headerlink" title="2.æ›´æ–°é˜¶æ®µ"></a>2.æ›´æ–°é˜¶æ®µ</h4><p>è¯¥è¿‡ç¨‹ä¸»è¦æ¶‰åŠ beforeUpdateã€updated 2 ä¸ªé’©å­å‡½æ•°ã€‚æ³¨æ„ï¼Œå½“çˆ¶å­ç»„ä»¶æœ‰æ•°æ®ä¼ é€’æ—¶ï¼Œæ‰æœ‰è¿™ä¸ªæ›´æ–°é˜¶æ®µæ‰§è¡Œé¡ºåºçš„æ¯”è¾ƒã€‚æ‰§è¡Œé¡ºåºä¸ºï¼š</p><p>çˆ¶ beforeUpdate -&gt; å­ beforeUpdate -&gt; å­ updated -&gt; çˆ¶ updated</p><h4 id="3-é”€æ¯é˜¶æ®µ"><a href="#3-é”€æ¯é˜¶æ®µ" class="headerlink" title="3.é”€æ¯é˜¶æ®µ"></a>3.é”€æ¯é˜¶æ®µ</h4><p>è¯¥è¿‡ç¨‹ä¸»è¦æ¶‰åŠbeforeDestroyã€destroyed 2 ä¸ªé’©å­å‡½æ•°ã€‚æ‰§è¡Œé¡ºåºä¸ºï¼š<br>çˆ¶ beforeDestroy -&gt; å­ beforeDestroy -&gt; å­ destroyed -&gt; çˆ¶ destroyed</p><h4 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h4><p>1.å½“çˆ¶ç»„ä»¶æ‰§è¡Œå®Œ beforeMount æŒ‚è½½å¼€å§‹åï¼Œä¼šä¾æ¬¡æ‰§è¡Œå­ç»„ä»¶ä¸­çš„é’©å­ï¼Œç›´åˆ°å…¨éƒ¨å­ç»„ä»¶ mounted æŒ‚è½½åˆ°å®ä¾‹ä¸Šï¼Œçˆ¶ç»„ä»¶æ‰ä¼šè¿›å…¥ mounted é’©å­</p><p>2.å­çº§è§¦å‘äº‹ä»¶ï¼Œä¼šå…ˆè§¦å‘çˆ¶çº§ beforeUpdate é’©å­ï¼Œå†å»è§¦å‘å­çº§ beforeUpdate é’©å­ï¼Œä¸‹é¢åˆæ˜¯å…ˆæ‰§è¡Œå­çº§ updated é’©å­ï¼Œåæ‰§è¡Œçˆ¶çº§ updated é’©å­</p><h3 id="å¹³æ—¶å‘é€å¼‚æ­¥è¯·æ±‚åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸï¼Œå¹¶è§£é‡ŠåŸå› "><a href="#å¹³æ—¶å‘é€å¼‚æ­¥è¯·æ±‚åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸï¼Œå¹¶è§£é‡ŠåŸå› " class="headerlink" title="å¹³æ—¶å‘é€å¼‚æ­¥è¯·æ±‚åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸï¼Œå¹¶è§£é‡ŠåŸå› "></a>å¹³æ—¶å‘é€å¼‚æ­¥è¯·æ±‚åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸï¼Œå¹¶è§£é‡ŠåŸå› </h3><p>æˆ‘ä»¬å¯ä»¥åœ¨é’©å­å‡½æ•° createdã€beforeMountã€mounted ä¸­è¿›è¡Œè°ƒç”¨ï¼Œå› ä¸ºåœ¨è¿™ä¸‰ä¸ªé’©å­å‡½æ•°ä¸­ï¼Œdata å·²ç»åˆ›å»ºï¼Œå¯ä»¥å°†æœåŠ¡ç«¯ç«¯è¿”å›çš„æ•°æ®è¿›è¡Œèµ‹å€¼ã€‚æ¨èåœ¨ created é’©å­å‡½æ•°ä¸­è°ƒç”¨å¼‚æ­¥è¯·æ±‚ï¼Œå› ä¸ºåœ¨ created é’©å­å‡½æ•°ä¸­è°ƒç”¨å¼‚æ­¥è¯·æ±‚æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼šèƒ½æ›´å¿«è·å–åˆ°æœåŠ¡ç«¯æ•°æ®ï¼Œå‡å°‘é¡µé¢åŠ è½½æ—¶é—´ï¼Œç”¨æˆ·ä½“éªŒæ›´å¥½ï¼›SSR ä¸æ”¯æŒ beforeMount ã€mounted é’©å­å‡½æ•°ï¼Œæ”¾åœ¨ created ä¸­æœ‰åŠ©äºä¸€è‡´æ€§ã€‚</p><h4 id="ã€å»¶ä¼¸é—®ç­”ã€‘created-å’Œ-mouted-åŒºåˆ«"><a href="#ã€å»¶ä¼¸é—®ç­”ã€‘created-å’Œ-mouted-åŒºåˆ«" class="headerlink" title="ã€å»¶ä¼¸é—®ç­”ã€‘created å’Œ mouted åŒºåˆ«"></a>ã€å»¶ä¼¸é—®ç­”ã€‘created å’Œ mouted åŒºåˆ«</h4><p>created ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ä¼šåœ¨ç»„ä»¶å®ä¾‹è¢«åˆ›å»ºä¹‹åç«‹å³è°ƒç”¨ï¼Œä½†æ˜¯æ­¤æ—¶ç»„ä»¶çš„æ¨¡æ¿è¿˜æ²¡æœ‰è¢«æ¸²æŸ“æˆ HTMLï¼Œå› æ­¤åœ¨è¿™ä¸ªæ—¶å€™ä¸èƒ½è®¿é—®ç»„ä»¶ä¸­çš„ DOM å…ƒç´ ã€‚</p><p>mounted ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°åˆ™ä¼šåœ¨ç»„ä»¶çš„æ¨¡æ¿è¢«æ¸²æŸ“æˆ HTML ä¹‹åè°ƒç”¨ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥è®¿é—®ç»„ä»¶ä¸­çš„ DOM å…ƒç´ ã€‚é€šå¸¸åœ¨è¿™ä¸ªé’©å­å‡½æ•°ä¸­è¿›è¡Œå¼‚æ­¥è¯·æ±‚æ•°æ®ã€åˆå§‹åŒ–æ’ä»¶ã€è®¢é˜…äº‹ä»¶ç­‰æ“ä½œã€‚</p><p>æ€»ä¹‹ï¼Œcreated é’©å­å‡½æ•°é€‚ç”¨äºç»„ä»¶åˆå§‹åŒ–æ—¶éœ€è¦è¿›è¡Œä¸€äº›æ“ä½œï¼Œè€Œ mounted é’©å­å‡½æ•°é€‚ç”¨äºéœ€è¦æ“ä½œç»„ä»¶çš„ DOM å…ƒç´ æ—¶ã€‚</p><h2 id="1-Vueé¢è¯•é¢˜"><a href="#1-Vueé¢è¯•é¢˜" class="headerlink" title="1. Vueé¢è¯•é¢˜"></a>1. Vueé¢è¯•é¢˜</h2><h4 id="1-1-v-model-ä½œç”¨ï¼Ÿ"><a href="#1-1-v-model-ä½œç”¨ï¼Ÿ" class="headerlink" title="1.1 v-model ä½œç”¨ï¼Ÿ"></a>1.1 v-model ä½œç”¨ï¼Ÿ</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>v-modelæœ¬è´¨ä¸Šä¸è¿‡æ˜¯è¯­æ³•ç³–ï¼Œå¯ä»¥ç”¨ v-model æŒ‡ä»¤åœ¨<strong>è¡¨å•</strong>åŠ<strong>å…ƒç´ </strong>ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®šã€‚</p><ol><li>å®ƒä¼šæ ¹æ®æ§ä»¶ç±»å‹è‡ªåŠ¨é€‰å–æ­£ç¡®çš„æ–¹æ³•æ¥æ›´æ–°å…ƒç´ </li><li>å®ƒè´Ÿè´£ç›‘å¬ç”¨æˆ·çš„è¾“å…¥äº‹ä»¶ä»¥æ›´æ–°æ•°æ®ï¼Œå¹¶å¯¹ä¸€äº›æç«¯åœºæ™¯è¿›è¡Œä¸€äº›ç‰¹æ®Šå¤„ç†</li><li>v-modelä¼šå¿½ç•¥æ‰€æœ‰è¡¨å•å…ƒç´ çš„valueã€checkedã€selectedç‰¹æ€§çš„åˆå§‹å€¼,è€Œæ€»æ˜¯å°† Vue å®ä¾‹çš„æ•°æ®ä½œä¸ºæ•°æ®æ¥æºï¼Œå› æ­¤æˆ‘ä»¬åº”è¯¥é€šè¿‡ JavaScript åœ¨ç»„ä»¶çš„dataé€‰é¡¹ä¸­å£°æ˜åˆå§‹å€¼</li></ol><p><strong>æ‰©å±•ï¼š</strong></p><p>v-modelåœ¨å†…éƒ¨ä¸ºä¸åŒçš„è¾“å…¥å…ƒç´ ä½¿ç”¨ä¸åŒçš„å±æ€§å¹¶æŠ›å‡ºä¸åŒçš„äº‹ä»¶ï¼š</p><ol><li>text å’Œ textarea å…ƒç´ ä½¿ç”¨valueå±æ€§å’Œinputäº‹ä»¶ï¼›</li><li>checkbox å’Œ radio ä½¿ç”¨checkedå±æ€§å’Œchangeäº‹ä»¶ï¼›</li><li>select å­—æ®µå°†valueä½œä¸º prop å¹¶å°†changeä½œä¸ºäº‹ä»¶ã€‚</li></ol><h4 id="1-2-v-model-å®ç°åŸç†ï¼Ÿ"><a href="#1-2-v-model-å®ç°åŸç†ï¼Ÿ" class="headerlink" title="1.2 v-model å®ç°åŸç†ï¼Ÿ"></a>1.2 v-model å®ç°åŸç†ï¼Ÿ</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>v-modelåªä¸è¿‡æ˜¯ä¸€ä¸ªè¯­æ³•ç³–è€Œå·²,çœŸæ­£çš„å®ç°é çš„è¿˜æ˜¯</p><ol><li>v-bind:ç»‘å®šå“åº”å¼æ•°æ®</li><li>è§¦å‘oninput äº‹ä»¶å¹¶ä¼ é€’æ•°æ®</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;sth&quot;</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ç­‰åŒäº--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">:value</span>=<span class="string">&quot;sth&quot;</span> @<span class="attr">input</span>=<span class="string">&quot;sth = $event.target.value&quot;</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è‡ªhtml5å¼€å§‹,inputæ¯æ¬¡è¾“å…¥éƒ½ä¼šè§¦å‘oninputäº‹ä»¶ï¼Œæ‰€ä»¥è¾“å…¥æ—¶inputçš„å†…å®¹ä¼šç»‘å®šåˆ°sthä¸­ï¼Œäºæ˜¯sthçš„å€¼å°±è¢«æ”¹å˜--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--$event æŒ‡ä»£å½“å‰è§¦å‘çš„äº‹ä»¶å¯¹è±¡;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--$event.target æŒ‡ä»£å½“å‰è§¦å‘çš„äº‹ä»¶å¯¹è±¡çš„dom;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--$event.target.value å°±æ˜¯å½“å‰domçš„valueå€¼;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--åœ¨@inputæ–¹æ³•ä¸­ï¼Œvalue =&gt; sth;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--åœ¨:valueä¸­,sth =&gt; value;--&gt;</span></span><br></pre></td></tr></table></figure><h4 id="1-3-Vue2-0-åŒå‘ç»‘å®šçš„ç¼ºé™·ï¼Ÿ"><a href="#1-3-Vue2-0-åŒå‘ç»‘å®šçš„ç¼ºé™·ï¼Ÿ" class="headerlink" title="1.3 Vue2.0 åŒå‘ç»‘å®šçš„ç¼ºé™·ï¼Ÿ"></a>1.3 Vue2.0 åŒå‘ç»‘å®šçš„ç¼ºé™·ï¼Ÿ</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>Vue2.0çš„æ•°æ®å“åº”æ˜¯é‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼ï¼Œé€šè¿‡Object.defineProperty () æ¥åŠ«æŒå„ä¸ªå±æ€§çš„setterã€getterï¼Œä½†æ˜¯å®ƒå¹¶ä¸ç®—æ˜¯å®ç°æ•°æ®çš„å“åº”å¼çš„å®Œç¾æ–¹æ¡ˆï¼ŒæŸäº›æƒ…å†µä¸‹éœ€è¦å¯¹å…¶è¿›è¡Œä¿®è¡¥æˆ–è€…hackè¿™ä¹Ÿæ˜¯å®ƒçš„ç¼ºé™·ï¼Œä¸»è¦è¡¨ç°åœ¨ä¸¤ä¸ªæ–¹é¢ï¼š</p><ol><li>vue å®ä¾‹åˆ›å»ºåï¼Œæ— æ³•æ£€æµ‹åˆ°å¯¹è±¡å±æ€§çš„æ–°å¢æˆ–åˆ é™¤ï¼Œåªèƒ½è¿½è¸ªåˆ°æ•°æ®æ˜¯å¦è¢«ä¿®æ”¹<ol><li>ä¸èƒ½ç›‘å¬æ•°ç»„çš„å˜åŒ–</li></ol></li></ol><p><strong>è§£æï¼š</strong></p><ol><li><p>vue å®ä¾‹åˆ›å»ºåï¼Œæ— æ³•æ£€æµ‹åˆ°å¯¹è±¡å±æ€§çš„æ–°å¢æˆ–åˆ é™¤ï¼Œåªèƒ½è¿½è¸ªåˆ°æ•°æ®æ˜¯å¦è¢«ä¿®æ”¹(Object.definePropertyåªèƒ½åŠ«æŒå¯¹è±¡çš„å±æ€§)ã€‚</p><p>å½“åˆ›å»ºä¸€ä¸ªVueå®ä¾‹æ—¶ï¼Œå°†éå†æ‰€æœ‰DOMå¯¹è±¡ï¼Œå¹¶ä¸ºæ¯ä¸ªæ•°æ®å±æ€§æ·»åŠ äº†getå’Œsetã€‚getå’Œset å…è®¸Vueè§‚å¯Ÿæ•°æ®çš„æ›´æ”¹å¹¶è§¦å‘æ›´æ–°ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ åœ¨Vueå®ä¾‹åŒ–åæ·»åŠ ï¼ˆæˆ–åˆ é™¤ï¼‰ä¸€ä¸ªå±æ€§ï¼Œè¿™ä¸ªå±æ€§ä¸ä¼šè¢«vueå¤„ç†ï¼Œæ”¹å˜getå’Œsetã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">set</span>(obj, propertName/index, value)</span><br><span class="line"><span class="comment">// å“åº”å¼å¯¹è±¡çš„å­å¯¹è±¡æ–°å¢å±æ€§ï¼Œå¯ä»¥ç»™å­å“åº”å¼å¯¹è±¡é‡æ–°èµ‹å€¼</span></span><br><span class="line">data.<span class="property">location</span> = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">y</span>: <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line">data.<span class="property">location</span> = &#123;...data, <span class="attr">z</span>: <span class="number">100</span>&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä¸èƒ½ç›‘å¬æ•°ç»„çš„å˜åŒ–</p><p>vueåœ¨å®ç°æ•°ç»„çš„å“åº”å¼æ—¶ï¼Œå®ƒä½¿ç”¨äº†ä¸€äº›hackï¼ŒæŠŠæ— æ³•ç›‘å¬æ•°ç»„çš„æƒ…å†µé€šè¿‡é‡å†™æ•°ç»„çš„éƒ¨åˆ†æ–¹æ³•æ¥å®ç°å“åº”å¼ï¼Œè¿™ä¹Ÿåªé™åˆ¶åœ¨æ•°ç»„çš„push&#x2F;pop&#x2F;shift&#x2F;unshift&#x2F;splice&#x2F;sort&#x2F;reverseä¸ƒä¸ªæ–¹æ³•ï¼Œå…¶ä»–æ•°ç»„æ–¹æ³•åŠæ•°ç»„çš„ä½¿ç”¨åˆ™æ— æ³•æ£€æµ‹åˆ°ï¼Œä¾‹å¦‚å¦‚ä¸‹ä¸¤ç§ä½¿ç”¨æ–¹å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vm.<span class="property">items</span>[index] = newValue;</span><br><span class="line">vm.<span class="property">items</span>.<span class="property">length</span></span><br></pre></td></tr></table></figure><p>vueå®ç°æ•°ç»„å“åº”å¼çš„æ–¹æ³•</p><p>é€šè¿‡é‡å†™æ•°ç»„çš„Array.prototypeå¯¹åº”çš„æ–¹æ³•ï¼Œå…·ä½“æ¥è¯´å°±æ˜¯é‡æ–°æŒ‡å®šè¦æ“ä½œæ•°ç»„çš„prototypeï¼Œå¹¶é‡æ–°è¯¥prototypeä¸­å¯¹åº”ä¸Šé¢çš„7ä¸ªæ•°ç»„æ–¹æ³•ï¼Œé€šè¿‡ä¸‹é¢ä»£ç ç®€å•äº†è§£ä¸‹å®ç°åŸç†ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> methods = [<span class="string">&#x27;pop&#x27;</span>,<span class="string">&#x27;shift&#x27;</span>,<span class="string">&#x27;unshift&#x27;</span>,<span class="string">&#x27;sort&#x27;</span>,<span class="string">&#x27;reverse&#x27;</span>,<span class="string">&#x27;splice&#x27;</span>, <span class="string">&#x27;push&#x27;</span>];</span><br><span class="line"><span class="comment">// å¤åˆ¶Array.prototypeï¼Œå¹¶å°†å…¶prototypeæŒ‡å‘Array.prototype</span></span><br><span class="line"><span class="keyword">let</span> proto = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line">methods.<span class="title function_">forEach</span>(<span class="function"><span class="params">method</span> =&gt;</span> &#123;</span><br><span class="line">    proto[method] = <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="comment">// é‡å†™protoä¸­çš„æ•°ç»„æ–¹æ³•</span></span><br><span class="line">        <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>[method].<span class="title function_">call</span>(<span class="variable language_">this</span>, ...<span class="variable language_">arguments</span>);</span><br><span class="line">        <span class="title function_">viewRender</span>() <span class="comment">// è§†å›¾æ›´æ–°</span></span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">observe</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(obj)) &#123; <span class="comment">// æ•°ç»„å®ç°å“åº”å¼</span></span><br><span class="line">                obj.<span class="property">__proto__</span> = proto; <span class="comment">// æ”¹å˜ä¼ å…¥æ•°ç»„çš„prototype</span></span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> obj === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">                ... <span class="comment">// å¯¹è±¡çš„å“åº”å¼å®ç°</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><h4 id="1-4-Vue3-0-å®ç°æ•°æ®åŒå‘ç»‘å®šçš„æ–¹æ³•"><a href="#1-4-Vue3-0-å®ç°æ•°æ®åŒå‘ç»‘å®šçš„æ–¹æ³•" class="headerlink" title="1.4 Vue3.0 å®ç°æ•°æ®åŒå‘ç»‘å®šçš„æ–¹æ³•"></a>1.4 Vue3.0 å®ç°æ•°æ®åŒå‘ç»‘å®šçš„æ–¹æ³•</h4><p><strong>å‚è€ƒç­”æ¡ˆ:</strong></p><p>vue3.0 å®ç°æ•°æ®åŒå‘ç»‘å®šæ˜¯é€šè¿‡<strong>Proxy</strong></p><p><strong>Proxy</strong>æ˜¯ ES6 ä¸­æ–°å¢çš„ä¸€ä¸ªç‰¹æ€§ï¼Œç¿»è¯‘è¿‡æ¥æ„æ€æ˜¯â€ä»£ç†â€ï¼Œç”¨åœ¨è¿™é‡Œè¡¨ç¤ºç”±å®ƒæ¥â€œä»£ç†â€æŸäº›æ“ä½œã€‚ Proxy è®©æˆ‘ä»¬èƒ½å¤Ÿä»¥ç®€æ´æ˜“æ‡‚çš„æ–¹å¼æ§åˆ¶å¤–éƒ¨å¯¹å¯¹è±¡çš„è®¿é—®ã€‚å…¶åŠŸèƒ½éå¸¸ç±»ä¼¼äºè®¾è®¡æ¨¡å¼ä¸­çš„ä»£ç†æ¨¡å¼ã€‚</p><p>Proxy å¯ä»¥ç†è§£æˆï¼Œåœ¨ç›®æ ‡å¯¹è±¡ä¹‹å‰æ¶è®¾ä¸€å±‚â€œæ‹¦æˆªâ€ï¼Œå¤–ç•Œå¯¹è¯¥å¯¹è±¡çš„è®¿é—®ï¼Œéƒ½å¿…é¡»å…ˆé€šè¿‡è¿™å±‚æ‹¦æˆªï¼Œå› æ­¤æä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥å¯¹å¤–ç•Œçš„è®¿é—®è¿›è¡Œè¿‡æ»¤å’Œæ”¹å†™ã€‚</p><p>ä½¿ç”¨ Proxy çš„æ ¸å¿ƒä¼˜ç‚¹æ˜¯å¯ä»¥äº¤ç”±å®ƒæ¥å¤„ç†ä¸€äº›éæ ¸å¿ƒé€»è¾‘ï¼ˆå¦‚ï¼šè¯»å–æˆ–è®¾ç½®å¯¹è±¡çš„æŸäº›å±æ€§å‰è®°å½•æ—¥å¿—ï¼›è®¾ç½®å¯¹è±¡çš„æŸäº›å±æ€§å€¼å‰ï¼Œéœ€è¦éªŒè¯ï¼›æŸäº›å±æ€§çš„è®¿é—®æ§åˆ¶ç­‰ï¼‰ã€‚ ä»è€Œå¯ä»¥è®©å¯¹è±¡åªéœ€å…³æ³¨äºæ ¸å¿ƒé€»è¾‘ï¼Œè¾¾åˆ°å…³æ³¨ç‚¹åˆ†ç¦»ï¼Œé™ä½å¯¹è±¡å¤æ‚åº¦ç­‰ç›®çš„ã€‚</p><p><strong>æ‰©å±•ï¼š</strong></p><p>ä½¿ç”¨proxyå®ç°ï¼ŒåŒå‘æ•°æ®ç»‘å®šï¼Œç›¸æ¯”2.0çš„Object.defineProperty ()ä¼˜åŠ¿ï¼š</p><ol><li>å¯ä»¥åŠ«æŒæ•´ä¸ªå¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡</li><li>æœ‰13ç§åŠ«æŒæ“ä½œ</li></ol><h4 id="1-5-Vuexæ˜¯ä»€ä¹ˆï¼Œæ¯ä¸ªå±æ€§æ˜¯å¹²å˜›çš„ï¼Œå¦‚ä½•ä½¿ç”¨"><a href="#1-5-Vuexæ˜¯ä»€ä¹ˆï¼Œæ¯ä¸ªå±æ€§æ˜¯å¹²å˜›çš„ï¼Œå¦‚ä½•ä½¿ç”¨" class="headerlink" title="1.5 Vuexæ˜¯ä»€ä¹ˆï¼Œæ¯ä¸ªå±æ€§æ˜¯å¹²å˜›çš„ï¼Œå¦‚ä½•ä½¿ç”¨"></a>1.5 Vuexæ˜¯ä»€ä¹ˆï¼Œæ¯ä¸ªå±æ€§æ˜¯å¹²å˜›çš„ï¼Œå¦‚ä½•ä½¿ç”¨</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>Vuexæ˜¯ä»€ä¹ˆï¼Ÿ</p><p>Vuexæ˜¯ä¸“é—¨ä¸ºVuejsåº”ç”¨ç¨‹åºè®¾è®¡çš„<strong>çŠ¶æ€ç®¡ç†å·¥å…·</strong>ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–</p><p>å…·ä½“å·¥ä½œï¼švuexæ˜¯ä¸€ç§çŠ¶æ€ç®¡ç†æœºåˆ¶ï¼Œå°†å…¨å±€ç»„ä»¶çš„å…±äº«çŠ¶æ€æŠ½å–å‡ºæ¥ä¸ºä¸€ä¸ªstoreï¼Œä»¥ä¸€ä¸ªå•ä¾‹æ¨¡å¼å­˜åœ¨ï¼Œåº”ç”¨ä»»ä½•ä¸€ä¸ªç»„ä»¶ä¸­éƒ½å¯ä»¥ä½¿ç”¨ï¼Œvuexæ›´æ”¹stateçš„å”¯ä¸€é€”å¾„æ˜¯é€šè¿‡mutationï¼Œmutationéœ€è¦commitè§¦å‘, actionå®é™…è§¦å‘æ˜¯mutationï¼Œå…¶ä¸­mutationå¤„ç†åŒæ­¥ä»»åŠ¡ï¼Œactionå¤„ç†å¼‚æ­¥ä»»åŠ¡ã€‚</p><p>Vuexæ¯ä¸ªå±æ€§æ˜¯å¹²å˜›çš„ï¼Ÿ</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646128565972/EB5115B586566907B3B642BA58A4482A" alt="img"></p><p>Vuexçš„å±æ€§åŒ…å«ä»¥ä¸‹6ä¸ªï¼š</p><p>1ï¼‰state</p><p>stateæ˜¯å­˜å‚¨çš„å•ä¸€çŠ¶æ€ï¼Œæ˜¯å­˜å‚¨çš„åŸºæœ¬æ•°æ®ã€‚</p><p>2ï¼‰Getters</p><p>gettersæ˜¯storeçš„è®¡ç®—å±æ€§ï¼Œå¯¹stateçš„åŠ å·¥ï¼Œæ˜¯æ´¾ç”Ÿå‡ºæ¥çš„æ•°æ®ã€‚å°±åƒcomputedè®¡ç®—å±æ€§ä¸€æ ·ï¼Œgetterè¿”å›çš„å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–è¢«ç¼“å­˜èµ·æ¥ï¼Œä¸”åªæœ‰å½“å®ƒçš„ä¾èµ–å€¼å‘ç”Ÿæ”¹å˜æ‰ä¼šè¢«é‡æ–°è®¡ç®—ã€‚</p><p>3ï¼‰Mutations</p><p>mutationsæäº¤æ›´æ”¹æ•°æ®ï¼Œä½¿ç”¨store.commitæ–¹æ³•æ›´æ”¹stateå­˜å‚¨çš„çŠ¶æ€ã€‚ï¼ˆmutationsåŒæ­¥å‡½æ•°ï¼‰</p><p>4ï¼‰Actions</p><p>actionsåƒä¸€ä¸ªè£…é¥°å™¨ï¼Œæäº¤mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚ï¼ˆactionså¯ä»¥åŒ…å«ä»»ä½•å¼‚æ­¥æ“ä½œï¼‰</p><p>5ï¼‰Module</p><p>Moduleæ˜¯storeåˆ†å‰²çš„æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„stateã€gettersã€mutationsã€actionsã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> moduleA = &#123;</span><br><span class="line">  <span class="attr">state</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> moduleB = &#123;</span><br><span class="line">  <span class="attr">state</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">modules</span>: &#123;</span><br><span class="line">    <span class="attr">a</span>: moduleA,</span><br><span class="line">    <span class="attr">b</span>: moduleB</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">store.<span class="property">state</span>.<span class="property">a</span> <span class="comment">// -&gt; moduleA çš„çŠ¶æ€</span></span><br><span class="line">store.<span class="property">state</span>.<span class="property">b</span> <span class="comment">// -&gt; moduleB çš„çŠ¶æ€</span></span><br></pre></td></tr></table></figure><p>6ï¼‰è¾…åŠ©å‡½æ•°</p><p>Vuexæä¾›äº†mapStateã€MapGettersã€MapActionsã€mapMutationsç­‰è¾…åŠ©å‡½æ•°ç»™å¼€å‘åœ¨vmä¸­å¤„ç†storeã€‚</p><p>Vuexçš„ä½¿ç”¨æ–¹æ³•ï¼Ÿ</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646128588464/5ACC9FABB642EADBED3478A9397CEF15" alt="img"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span>;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>); <span class="comment">// 1. vueçš„æ’ä»¶æœºåˆ¶ï¼Œå®‰è£…vuex</span></span><br><span class="line"><span class="keyword">let</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123; <span class="comment">// 2.å®ä¾‹åŒ–storeï¼Œè°ƒç”¨installæ–¹æ³•</span></span><br><span class="line">    state,</span><br><span class="line">    getters,</span><br><span class="line">    modules,</span><br><span class="line">    mutations,</span><br><span class="line">    actions,</span><br><span class="line">    plugins</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123; <span class="comment">// 3.æ³¨å…¥store, æŒ‚è½½vueå®ä¾‹</span></span><br><span class="line">    store,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span>=&gt;</span><span class="title function_">h</span>(app)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>);</span><br></pre></td></tr></table></figure><h4 id="1-6-Vuexå®ç°åŸç†"><a href="#1-6-Vuexå®ç°åŸç†" class="headerlink" title="1.6 Vuexå®ç°åŸç†"></a>1.6 Vuexå®ç°åŸç†</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>é€šè¿‡ä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢æ¥é˜è¿°vuexçš„å®ç°åŸç†ï¼š</p><ul><li>storeæ˜¯æ€ä¹ˆæ³¨å†Œçš„?</li><li>mutationï¼Œcommit æ˜¯æ€ä¹ˆå®ç°çš„?</li><li>è¾…åŠ©å‡½æ•°æ˜¯æ€ä¹ˆå®ç°çš„?</li></ul><ol><li><p>storeæ˜¯æ€ä¹ˆæ³¨å†Œçš„?</p><p>æˆ‘ä»¬çœ‹åˆ°Vuexåœ¨vue çš„ç”Ÿå‘½å‘¨æœŸä¸­çš„åˆå§‹åŒ–é’©å­å‰æ’å…¥ä¸€æ®µ Vuex åˆå§‹åŒ–ä»£ç ã€‚ç»™ Vue çš„å®ä¾‹æ³¨å…¥ä¸€ä¸ª</p><p>$storeçš„å±æ€§ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨ Vue çš„ç»„ä»¶ä¸­å¯ä»¥é€šè¿‡this.$store.xxx, è®¿é—®åˆ° Vuex çš„å„ç§æ•°æ®å’ŒçŠ¶æ€</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> (<span class="params">Vue</span>) &#123;</span><br><span class="line">  <span class="comment">// è·å–å½“å‰ Vue çš„ç‰ˆæœ¬</span></span><br><span class="line">  <span class="keyword">const</span> version = <span class="title class_">Number</span>(<span class="title class_">Vue</span>.<span class="property">version</span>.<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (version &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="comment">// 2.x é€šè¿‡ hook çš„æ–¹å¼æ³¨å…¥</span></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="title function_">mixin</span>(&#123; <span class="attr">beforeCreate</span>: vuexInit &#125;)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// å…¼å®¹ 1.x</span></span><br><span class="line">    <span class="comment">// ä½¿ç”¨è‡ªå®šä¹‰çš„ _init æ–¹æ³•å¹¶æ›¿æ¢ Vue å¯¹è±¡åŸå‹çš„_initæ–¹æ³•ï¼Œå®ç°æ³¨å…¥</span></span><br><span class="line">    <span class="keyword">const</span> _init = <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_init</span></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">_init</span> = <span class="keyword">function</span> (<span class="params">options = &#123;&#125;</span>) &#123;</span><br><span class="line">      options.<span class="property">init</span> = options.<span class="property">init</span></span><br><span class="line">        ? [vuexInit].<span class="title function_">concat</span>(options.<span class="property">init</span>)</span><br><span class="line">        : vuexInit</span><br><span class="line">      _init.<span class="title function_">call</span>(<span class="variable language_">this</span>, options)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Vuex init hook, injected into each instances init hooks list.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">vuexInit</span> () &#123;</span><br><span class="line">    <span class="keyword">const</span> options = <span class="variable language_">this</span>.<span class="property">$options</span></span><br><span class="line">    <span class="comment">// store æ³¨å…¥</span></span><br><span class="line">    <span class="keyword">if</span> (options.<span class="property">store</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$store</span> = <span class="keyword">typeof</span> options.<span class="property">store</span> === <span class="string">&#x27;function&#x27;</span></span><br><span class="line">        ? options.<span class="title function_">store</span>()</span><br><span class="line">        : options.<span class="property">store</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (options.<span class="property">parent</span> &amp;&amp; options.<span class="property">parent</span>.<span class="property">$store</span>) &#123;</span><br><span class="line">      <span class="comment">// å­ç»„ä»¶ä»å…¶çˆ¶ç»„ä»¶å¼•ç”¨ $store å±æ€§</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$store</span> = options.<span class="property">parent</span>.<span class="property">$store</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>mutationsï¼Œcommit æ˜¯æ€ä¹ˆå®ç°çš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">registerMutation</span> (store, type, handler, local) &#123;</span><br><span class="line">  <span class="comment">// è·å– type(module.mutations çš„ key) å¯¹åº”çš„ mutations, æ²¡æœ‰å°±åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„</span></span><br><span class="line">  <span class="keyword">const</span> entry = store.<span class="property">_mutations</span>[type] || (store.<span class="property">_mutations</span>[type] = [])</span><br><span class="line">  <span class="comment">// push å¤„ç†è¿‡çš„ mutation handler</span></span><br><span class="line">  entry.<span class="title function_">push</span>(<span class="keyword">function</span> <span class="title function_">wrappedMutationHandler</span> (payload) &#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨ç”¨æˆ·å®šä¹‰çš„ hanler, å¹¶ä¼ å…¥ state å’Œ payload å‚æ•°</span></span><br><span class="line">    handler.<span class="title function_">call</span>(store, local.<span class="property">state</span>, payload)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>registerMutation æ˜¯å¯¹ store çš„ mutation çš„åˆå§‹åŒ–ï¼Œå®ƒæ¥å— 4 ä¸ªå‚æ•°ï¼Œstoreä¸ºå½“å‰ Store å®ä¾‹ï¼Œtypeä¸º mutation çš„ keyï¼Œhandler ä¸º mutation æ‰§è¡Œçš„å›è°ƒå‡½æ•°ï¼Œpath ä¸ºå½“å‰æ¨¡å—çš„è·¯å¾„ã€‚</p><p>mutation çš„ä½œç”¨å°±æ˜¯åŒæ­¥ä¿®æ”¹å½“å‰æ¨¡å—çš„ state ï¼Œå‡½æ•°é¦–å…ˆé€šè¿‡ type æ‹¿åˆ°å¯¹åº”çš„ mutation å¯¹è±¡æ•°ç»„ï¼Œ ç„¶åæŠŠä¸€ä¸ª mutation çš„åŒ…è£…å‡½æ•° push åˆ°è¿™ä¸ªæ•°ç»„ä¸­ï¼Œè¿™ä¸ªå‡½æ•°æ¥æ”¶ä¸€ä¸ªå‚æ•° payloadï¼Œè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬åœ¨å®šä¹‰ mutation çš„æ—¶å€™æ¥æ”¶çš„é¢å¤–å‚æ•°ã€‚è¿™ä¸ªå‡½æ•°æ‰§è¡Œçš„æ—¶å€™ä¼šè°ƒç”¨ mutation çš„å›è°ƒå‡½æ•°ï¼Œå¹¶é€šè¿‡ getNestedState(store.state, path) æ–¹æ³•å¾—åˆ°å½“å‰æ¨¡å—çš„ stateï¼Œå’Œ playload ä¸€èµ·ä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°ã€‚</p><p>æˆ‘ä»¬çŸ¥é“mutationæ˜¯é€šè¿‡commitæ¥è§¦å‘çš„ï¼Œè¿™é‡Œæˆ‘ä»¬ä¹Ÿæ¥çœ‹ä¸€ä¸‹commitçš„å®šä¹‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">commit (_type, _payload, _options) &#123;</span><br><span class="line">    <span class="comment">// è§£æå‚æ•°</span></span><br><span class="line">    <span class="keyword">const</span> &#123;</span><br><span class="line">      type,</span><br><span class="line">      payload,</span><br><span class="line">      options</span><br><span class="line">    &#125; = <span class="title function_">unifyObjectStyle</span>(_type, _payload, _options)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ ¹æ® type è·å–æ‰€æœ‰å¯¹åº”çš„å¤„ç†è¿‡çš„ mutation å‡½æ•°é›†åˆ</span></span><br><span class="line">    <span class="keyword">const</span> mutation = &#123; type, payload &#125;</span><br><span class="line">    <span class="keyword">const</span> entry = <span class="variable language_">this</span>.<span class="property">_mutations</span>[type]</span><br><span class="line">    <span class="keyword">if</span> (!entry) &#123;</span><br><span class="line">      <span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> !== <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`[vuex] unknown mutation type: <span class="subst">$&#123;type&#125;</span>`</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ‰§è¡Œ mutation å‡½æ•°</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">_withCommit</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      entry.<span class="title function_">forEach</span>(<span class="keyword">function</span> <span class="title function_">commitIterator</span> (handler) &#123;</span><br><span class="line">        <span class="title function_">handler</span>(payload)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰§è¡Œæ‰€æœ‰çš„è®¢é˜…è€…å‡½æ•°</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_subscribers</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">sub</span> =&gt;</span> <span class="title function_">sub</span>(mutation, <span class="variable language_">this</span>.<span class="property">state</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      process.<span class="property">env</span>.<span class="property">NODE_ENV</span> !== <span class="string">&#x27;production&#x27;</span> &amp;&amp;</span><br><span class="line">      options &amp;&amp; options.<span class="property">silent</span></span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">warn</span>(</span><br><span class="line">    <span class="string">`[vuex] mutation type: <span class="subst">$&#123;type&#125;</span>. Silent option has been removed. `</span> +</span><br><span class="line">        <span class="string">&#x27;Use the filter functionality in the vue-devtools&#x27;</span></span><br><span class="line">  )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>commit æ”¯æŒ 3 ä¸ªå‚æ•°ï¼Œtype è¡¨ç¤º mutation çš„ç±»å‹ï¼Œpayload è¡¨ç¤ºé¢å¤–çš„å‚æ•°,æ ¹æ® type å»æŸ¥æ‰¾å¯¹åº”çš„ mutationï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™è¾“å‡ºä¸€æ¡é”™è¯¯ä¿¡æ¯ï¼Œå¦åˆ™éå†è¿™ä¸ª type å¯¹åº”çš„ mutation å¯¹è±¡æ•°ç»„ï¼Œæ‰§è¡Œ handler(payload) æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯ä¹‹å‰å®šä¹‰çš„ wrappedMutationHandler(handler)ï¼Œæ‰§è¡Œå®ƒå°±ç›¸å½“äºæ‰§è¡Œäº† registerMutation æ³¨å†Œçš„å›è°ƒå‡½æ•°ã€‚</p></li><li><p>è¾…åŠ©å‡½æ•°</p><p>è¾…åŠ©å‡½æ•°çš„å®ç°éƒ½å·®ä¸å¤ªå¤šï¼Œåœ¨è¿™é‡Œäº†è§£ä¸€ä¸‹mapState</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mapGetters = <span class="title function_">normalizeNamespace</span>(<span class="function">(<span class="params">namespace, getters</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// è¿”å›ç»“æœ</span></span><br><span class="line">  <span class="keyword">const</span> res = &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// éå†è§„èŒƒåŒ–å‚æ•°åçš„å¯¹è±¡</span></span><br><span class="line">  <span class="comment">// getters å°±æ˜¯ä¼ é€’ç»™ mapGetters çš„ map å¯¹è±¡æˆ–è€…æ•°ç»„</span></span><br><span class="line">  <span class="title function_">normalizeMap</span>(getters).<span class="title function_">forEach</span>(<span class="function">(<span class="params">&#123; key, val &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">    val = namespace + val</span><br><span class="line">    res[key] = <span class="keyword">function</span> <span class="title function_">mappedGetter</span> () &#123;</span><br><span class="line">      <span class="comment">// ä¸€èˆ¬ä¸ä¼šä¼ å…¥ namespace å‚æ•°</span></span><br><span class="line">      <span class="keyword">if</span> (namespace &amp;&amp; !<span class="title function_">getModuleByNamespace</span>(<span class="variable language_">this</span>.<span class="property">$store</span>, <span class="string">&#x27;mapGetters&#x27;</span>, namespace)) &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// å¦‚æœ getter ä¸å­˜åœ¨åˆ™æŠ¥é”™</span></span><br><span class="line">      <span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> !== <span class="string">&#x27;production&#x27;</span> &amp;&amp; !(val <span class="keyword">in</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>)) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`[vuex] unknown getter: <span class="subst">$&#123;val&#125;</span>`</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// è¿”å› getter å€¼, store.getters å¯è§ä¸Šæ–‡ resetStoreVM çš„åˆ†æ</span></span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>[val]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// mark vuex getter for devtools</span></span><br><span class="line">    res[key].<span class="property">vuex</span> = <span class="literal">true</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>mapStateåœ¨è°ƒç”¨äº† normalizeMap å‡½æ•°åï¼ŒæŠŠä¼ å…¥çš„ states è½¬æ¢æˆç”± {key, val} å¯¹è±¡æ„æˆçš„æ•°ç»„ï¼Œæ¥ç€è°ƒç”¨ forEach æ–¹æ³•éå†è¿™ä¸ªæ•°ç»„ï¼Œæ„é€ ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè¿™ä¸ªæ–°å¯¹è±¡æ¯ä¸ªå…ƒç´ éƒ½è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•° mappedStateï¼Œå‡½æ•°å¯¹ val çš„ç±»å‹åˆ¤æ–­ï¼Œå¦‚æœ val æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåˆ™ç›´æ¥è°ƒç”¨è¿™ä¸ª val å‡½æ•°ï¼ŒæŠŠå½“å‰ store ä¸Šçš„ state å’Œ getters ä½œä¸ºå‚æ•°ï¼Œè¿”å›å€¼ä½œä¸º mappedState çš„è¿”å›å€¼ï¼›å¦åˆ™ç›´æ¥æŠŠ this.$store.state[val]ä½œä¸º mappedState çš„è¿”å›å€¼ã€‚ä¸ºäº†æ›´ç›´è§‚çš„ç†è§£ï¼Œæˆ‘ä»¬çœ‹ä¸‹æœ€ç»ˆmapStateçš„æ•ˆæœ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: <span class="title function_">mapState</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">name</span>,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">name</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h4 id="1-7-mutationå’Œactionæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#1-7-mutationå’Œactionæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="1.7 mutationå’Œactionæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>1.7 mutationå’Œactionæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p><strong>mutation</strong>ï¼šæ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutationã€‚Vuex ä¸­çš„ mutation éå¸¸ç±»ä¼¼äºä»¶ï¼š æ¯ä¸ª mutation éƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²çš„ äº‹ä»¶ç±»å‹ (type) å’Œ ä¸€ä¸ª å›è°ƒå‡½æ•° (handler)ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°å°±æ˜¯æˆ‘ä»¬å®é™…è¿› è¡ŒçŠ¶æ€æ›´æ”¹çš„åœ°æ–¹ï¼Œå¹¶ä¸”å®ƒä¼šæ¥å— state ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    increment (state) &#123;</span><br><span class="line">      <span class="comment">// å˜æ›´çŠ¶æ€</span></span><br><span class="line">      state.<span class="property">count</span>++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä¸èƒ½ç›´æ¥è°ƒç”¨ä¸€ä¸ª mutation handlerã€‚è¿™ä¸ªé€‰é¡¹æ›´åƒæ˜¯äº‹ä»¶æ³¨å†Œï¼šâ€œå½“è§¦å‘ä¸€ä¸ªç±»å‹ä¸º increment çš„ mutation æ—¶ï¼Œè°ƒç”¨æ­¤å‡½æ•°ã€‚â€è¦å”¤é†’ä¸€ä¸ª mutation handlerï¼Œä½ éœ€è¦ä»¥ç›¸åº”çš„ type è°ƒç”¨ store.commit æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">store.<span class="title function_">commit</span>(<span class="string">&#x27;increment&#x27;</span>)</span><br></pre></td></tr></table></figure><p><strong>Action:</strong> Action ç±»ä¼¼äº mutationï¼Œä¸åŒåœ¨äºï¼š</p><ol><li><p>Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚</p></li><li><p>Action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚</p><p>è®©æˆ‘ä»¬æ¥æ³¨å†Œä¸€ä¸ªç®€å•çš„ actionï¼š</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    increment (state) &#123;</span><br><span class="line">      state.<span class="property">count</span>++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    increment (context) &#123;</span><br><span class="line">      context.<span class="title function_">commit</span>(<span class="string">&#x27;increment&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>æ‰©å±•ï¼š</strong>äº‹å®ä¸Šåœ¨ vuex é‡Œé¢ actions åªæ˜¯ä¸€ä¸ªæ¶æ„æ€§çš„æ¦‚å¿µï¼Œå¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œè¯´åˆ°åº•åªæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½ åœ¨é‡Œé¢æƒ³å¹²å˜›éƒ½å¯ä»¥ï¼Œåªè¦æœ€åè§¦å‘ mutation å°±è¡Œã€‚å¼‚æ­¥ç«æ€æ€ä¹ˆå¤„ç†é‚£æ˜¯ç”¨æˆ·è‡ªå·±çš„äº‹æƒ…ã€‚</p><p>vuex çœŸæ­£é™åˆ¶ä½ çš„åªæœ‰ mutation å¿…é¡»æ˜¯åŒæ­¥çš„è¿™ä¸€ç‚¹ï¼ˆåœ¨ redux é‡Œé¢å°±å¥½åƒ reducer å¿…é¡»åŒæ­¥è¿”å›ä¸‹ä¸€ä¸ªçŠ¶æ€ä¸€æ ·ï¼‰ã€‚åŒæ­¥çš„æ„ä¹‰åœ¨äºè¿™æ ·æ¯ä¸€ä¸ª mutation æ‰§è¡Œå®Œæˆåéƒ½å¯ä»¥å¯¹åº”åˆ°ä¸€ä¸ªæ–°çš„çŠ¶æ€ï¼ˆå’Œ reducer ä¸€æ ·ï¼‰ï¼Œè¿™æ · devtools å°±å¯ä»¥æ‰“ä¸ª snapshot å­˜ä¸‹æ¥ï¼Œç„¶åå°±å¯ä»¥éšä¾¿ time-travel äº†ã€‚å¦‚æœä½ å¼€ç€ devtool è°ƒç”¨ä¸€ä¸ªå¼‚æ­¥çš„ actionï¼Œä½ å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°å®ƒæ‰€è°ƒç”¨çš„ mutation æ˜¯ä½•æ—¶è¢«è®°å½•ä¸‹æ¥çš„ï¼Œå¹¶ä¸”å¯ä»¥ç«‹åˆ»æŸ¥çœ‹å®ƒä»¬å¯¹åº”çš„çŠ¶æ€ã€‚</p><h4 id="1-8-ä¿®æ”¹ElementUI-æ ·å¼çš„å‡ ç§æ–¹å¼"><a href="#1-8-ä¿®æ”¹ElementUI-æ ·å¼çš„å‡ ç§æ–¹å¼" class="headerlink" title="1.8 ä¿®æ”¹ElementUI æ ·å¼çš„å‡ ç§æ–¹å¼?"></a>1.8 ä¿®æ”¹ElementUI æ ·å¼çš„å‡ ç§æ–¹å¼?</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>ä¿®æ”¹ElementUI æ ·å¼çš„æ–¹å¼æœ‰å››ç§ï¼š</p><ol><li><p>æ–°å»ºå…¨å±€æ ·å¼è¡¨</p><p>æ–°å»º global.css æ–‡ä»¶ï¼Œå¹¶åœ¨ main.js ä¸­å¼•å…¥ã€‚ global.css æ–‡ä»¶ä¸€èˆ¬éƒ½æ”¾åœ¨ src-&gt;assets é™æ€èµ„æºæ–‡ä»¶å¤¹ä¸‹çš„ style æ–‡ä»¶å¤¹ä¸‹ï¼Œåœ¨ main.js çš„å¼•ç”¨å†™æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;./assets/style/global.css&quot;</span></span><br></pre></td></tr></table></figure><p>åœ¨ global.css æ–‡ä»¶ä¸­å†™çš„æ ·å¼ï¼Œæ— è®ºåœ¨å“ªä¸€ä¸ª vue å•é¡µé¢éƒ½ä¼šè¦†ç›– ElementUI é»˜è®¤çš„æ ·å¼ã€‚</p></li><li><p>åœ¨å½“å‰-vue-å•é¡µé¢ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„styleæ ‡ç­¾</p><p>åœ¨å½“å‰çš„vueå•é¡µé¢çš„styleæ ‡ç­¾åï¼Œæ·»åŠ ä¸€å¯¹æ–°çš„styleæ ‡ç­¾ï¼Œæ–°çš„styleæ ‡ç­¾ä¸­ä¸è¦æ·»åŠ scopedå±æ€§ã€‚åœ¨æœ‰å†™scopedçš„styleæ ‡ç­¾ä¸­ä¹¦å†™çš„æ ·å¼ä¸ä¼šè¦†ç›– ElementUI é»˜è®¤çš„æ ·å¼ã€‚</p></li><li><p>ä½¿ç”¨&#x2F;deep&#x2F;æ·±åº¦ä¿®æ”¹æ ‡ç­¾æ ·å¼</p><p>æ‰¾åˆ°éœ€è¦ä¿®æ”¹çš„ ElementUI æ ‡ç­¾çš„ç±»åï¼Œç„¶ååœ¨ç±»åå‰åŠ ä¸Š&#x2F;deep&#x2F;ï¼Œå¯ä»¥å¼ºåˆ¶ä¿®æ”¹é»˜è®¤æ ·å¼ã€‚è¿™ç§æ–¹å¼å¯ä»¥ç›´æ¥ç”¨åˆ°æœ‰scopedå±æ€§çš„ style æ ‡ç­¾ä¸­ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// ä¿®æ”¹çº§è”é€‰æ‹©æ¡†çš„é»˜è®¤å®½åº¦</span><br><span class="line">/deep/ <span class="selector-class">.el-cascader</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>é€šè¿‡å†…è”æ ·å¼ æˆ–è€… ç»‘å®šç±»æ ·å¼è¦†ç›–é»˜è®¤æ ·å¼</p><p>é€šè¿‡å†…è”æ ·å¼ style ï¼Œç»‘å®šç±»æ ·å¼çš„æ–¹å¼ï¼Œå¯ä»¥åœ¨<strong>æŸäº›æ ‡ç­¾</strong>ä¸­å¯ä»¥ç›´æ¥è¦†ç›–é»˜è®¤æ ·å¼ï¼Œä¸æ˜¯å¾ˆé€šç”¨ã€‚å…·ä½“å®ä¾‹å¦‚ä¸‹ï¼š</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:style</span>=<span class="string">&quot;selfstyle&quot;</span>&gt;</span>é»˜è®¤æŒ‰é’®<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">selfstyle</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">color</span>: <span class="string">&quot;white&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">marginTop</span>: <span class="string">&quot;10px&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">width</span>: <span class="string">&quot;100px&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">backgroundColor</span>: <span class="string">&quot;cadetblue&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡ç»‘å®šä¿®æ”¹æ ·å¼æ–¹å¼ä¿®æ”¹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:class</span>=<span class="string">&quot;[selfbutton]&quot;</span>&gt;</span>é»˜è®¤æŒ‰é’®<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">selfbutton</span>: <span class="string">&quot;self-button&quot;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;;</span></span><br><span class="line"><span class="language-javascript">    &#125; </span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;stylus&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet/stylus&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.self-button</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">background-Color</span>: cadetblue;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ‰©å±•ï¼š</strong></p><p>ç¬¬ä¸€ç§å…¨å±€å¼•å…¥cssæ–‡ä»¶çš„æ–¹å¼ï¼Œé€‚åˆäºå¯¹elementUIæ•´ä½“çš„ä¿®æ”¹ï¼Œæ¯”å¦‚æ•´ä½“é…è‰²çš„ä¿®æ”¹ï¼›<br>ç¬¬äºŒç§æ·»åŠ ä¸€ä¸ªstyleæ ‡ç­¾çš„å½¢å¼ï¼Œä¹Ÿèƒ½å¤Ÿå®ç°ä¿®æ”¹é»˜è®¤æ ·å¼çš„æ•ˆæœï¼Œä½†å®é™…ä¸Šå› ä¸ºæ˜¯ä¿®æ”¹äº†å…¨å±€çš„æ ·å¼ï¼Œå› æ­¤ åœ¨ä¸åŒçš„vueç»„ä»¶ä¸­ä¿®æ”¹åŒä¸€ä¸ªæ ·å¼æœ‰å¯èƒ½ä¼šæœ‰å†²çªã€‚<br>ç¬¬ä¸‰ç§æ–¹å¼é€šè¿‡ &#x2F;deep&#x2F; çš„æ–¹å¼å¯ä»¥å¾ˆæ–¹ä¾¿çš„åœ¨vueç»„ä»¶ä¸­ä¿®æ”¹é»˜è®¤æ ·å¼ï¼Œä¹Ÿä¸ä¼šäºå…¶ä»–é¡µé¢æœ‰å†²çªã€‚<br>ç¬¬å››ç§æ–¹å¼å±€é™æ€§æ¯”è¾ƒå¤§ï¼Œå¯ä»¥ä½¿ç”¨ï¼Œä½†ä¸æ¨èä½¿ç”¨ã€‚</p><h4 id="1-9-elementui-æœ‰ä»€ä¹ˆç”¨"><a href="#1-9-elementui-æœ‰ä»€ä¹ˆç”¨" class="headerlink" title="1.9 elementui æœ‰ä»€ä¹ˆç”¨?"></a>1.9 elementui æœ‰ä»€ä¹ˆç”¨?</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p><strong>Element-UI</strong>ï¼šæ˜¯ä¸€å¥—é‡‡ç”¨ Vue 2.0 ä½œä¸ºåŸºç¡€æ¡†æ¶å®ç°çš„ç»„ä»¶åº“ï¼Œä¸€å¥—ä¸ºå¼€å‘è€…ã€è®¾è®¡å¸ˆå’Œäº§å“ç»ç†å‡†å¤‡çš„åŸºäº Vue 2.0 çš„ç»„ä»¶åº“ï¼Œæä¾›äº†é…å¥—è®¾è®¡èµ„æºï¼Œå¸®åŠ©ç½‘ç«™å¿«é€Ÿæˆå‹</p><p><strong>æ‰©å±•ï¼š</strong></p><p>Element-UIç‰¹ç‚¹ï¼š</p><p>ä¸€è‡´æ€§ Consistency</p><ul><li>ä¸ç°å®ç”Ÿæ´»ä¸€è‡´ï¼šä¸ç°å®ç”Ÿæ´»çš„æµç¨‹ã€é€»è¾‘ä¿æŒä¸€è‡´ï¼Œéµå¾ªç”¨æˆ·ä¹ æƒ¯çš„è¯­è¨€å’Œæ¦‚å¿µï¼›</li><li>åœ¨ç•Œé¢ä¸­ä¸€è‡´ï¼šæ‰€æœ‰çš„å…ƒç´ å’Œç»“æ„éœ€ä¿æŒä¸€è‡´ï¼Œæ¯”å¦‚ï¼šè®¾è®¡æ ·å¼ã€å›¾æ ‡å’Œæ–‡æœ¬ã€å…ƒç´ çš„ä½ç½®ç­‰ã€‚</li></ul><p>åé¦ˆ Feedback</p><ul><li>æ§åˆ¶åé¦ˆï¼šé€šè¿‡ç•Œé¢æ ·å¼å’Œäº¤äº’åŠ¨æ•ˆè®©ç”¨æˆ·å¯ä»¥æ¸…æ™°çš„æ„ŸçŸ¥è‡ªå·±çš„æ“ä½œï¼›</li><li>é¡µé¢åé¦ˆï¼šæ“ä½œåï¼Œé€šè¿‡é¡µé¢å…ƒç´ çš„å˜åŒ–æ¸…æ™°åœ°å±•ç°å½“å‰çŠ¶æ€ã€‚</li></ul><p>æ•ˆç‡ Efficiency</p><ul><li>ç®€åŒ–æµç¨‹ï¼šè®¾è®¡ç®€æ´ç›´è§‚çš„æ“ä½œæµç¨‹ï¼›</li><li>æ¸…æ™°æ˜ç¡®ï¼šè¯­è¨€è¡¨è¾¾æ¸…æ™°ä¸”è¡¨æ„æ˜ç¡®ï¼Œè®©ç”¨æˆ·å¿«é€Ÿç†è§£è¿›è€Œä½œå‡ºå†³ç­–ï¼›</li><li>å¸®åŠ©ç”¨æˆ·è¯†åˆ«ï¼šç•Œé¢ç®€å•ç›´ç™½ï¼Œè®©ç”¨æˆ·å¿«é€Ÿè¯†åˆ«è€Œéå›å¿†ï¼Œå‡å°‘ç”¨æˆ·è®°å¿†è´Ÿæ‹…ã€‚</li></ul><p>å¯æ§ Controllability</p><ul><li>ç”¨æˆ·å†³ç­–ï¼šæ ¹æ®åœºæ™¯å¯ç»™äºˆç”¨æˆ·æ“ä½œå»ºè®®æˆ–å®‰å…¨æç¤ºï¼Œä½†ä¸èƒ½ä»£æ›¿ç”¨æˆ·è¿›è¡Œå†³ç­–ï¼›</li><li>ç»“æœå¯æ§ï¼šç”¨æˆ·å¯ä»¥è‡ªç”±çš„è¿›è¡Œæ“ä½œï¼ŒåŒ…æ‹¬æ’¤é”€ã€å›é€€å’Œç»ˆæ­¢å½“å‰æ“ä½œç­‰ã€‚</li></ul><h4 id="1-10-å¯¼èˆªå®ˆå«"><a href="#1-10-å¯¼èˆªå®ˆå«" class="headerlink" title="1.10 å¯¼èˆªå®ˆå«"></a>1.10 å¯¼èˆªå®ˆå«</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>å¯¼èˆªå®ˆå«ä¸»è¦ç”¨æ¥<strong>é€šè¿‡è·³è½¬æˆ–å–æ¶ˆçš„æ–¹å¼å®ˆå«å¯¼èˆª</strong>ã€‚</p><p>ç®€å•çš„è¯´ï¼Œå¯¼èˆªå®ˆå«å°±æ˜¯è·¯ç”±è·³è½¬è¿‡ç¨‹ä¸­çš„ä¸€äº›é’©å­å‡½æ•°ã€‚è·¯ç”±è·³è½¬æ˜¯ä¸€ä¸ªå¤§çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªå¤§çš„è¿‡ç¨‹åˆ†ä¸ºè·³è½¬å‰ä¸­åç­‰ç­‰ç»†å°çš„è¿‡ç¨‹ï¼Œåœ¨æ¯ä¸€ä¸ªè¿‡ç¨‹ä¸­éƒ½æœ‰ä¸€å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°èƒ½è®©ä½ æ“ä½œä¸€äº›å…¶ä»–çš„äº‹å„¿çš„æ—¶æœºï¼Œè¿™å°±æ˜¯å¯¼èˆªå®ˆå«ã€‚</p><p><strong>è§£æï¼š</strong></p><p>è·¯ç”±å®ˆå«çš„å…·ä½“æ–¹æ³•ï¼š</p><ol><li><p>å…¨å±€å‰ç½®å®ˆå«</p><p>ä½ å¯ä»¥ä½¿ç”¨ router.beforeEach æ³¨å†Œä¸€ä¸ªå…¨å±€å‰ç½®å®ˆå«ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123; ... &#125;)</span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å½“ä¸€ä¸ªå¯¼èˆªå¼€å§‹æ—¶ï¼Œå…¨å±€å‰ç½®å®ˆå«æŒ‰ç…§æ³¨å†Œé¡ºåºè°ƒç”¨ã€‚å®ˆå«æ˜¯å¼‚æ­¥é“¾å¼è°ƒç”¨çš„ï¼Œå¯¼èˆªåœ¨æœ€åçš„ä¸€å±‚å½“ä¸­ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="string">&#x27;ç¬¬ä¸€ä¸ªå…¨å±€å‰ç½®å®ˆå«&#x27;</span>)</span><br><span class="line">&#125;.<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;ç¬¬äºŒä¸ªå…¨å±€å‰ç½®å®ˆå«&#x27;</span></span><br><span class="line">&#125;.<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;.<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å¯¼èˆªç»ˆäºå¼€å§‹äº†&#x27;</span>) <span class="comment">// å¯¼èˆªåœ¨æœ€åä¸€å±‚ä¸­</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><p>æ¯ä¸ªå®ˆå«æ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼ˆå¾€åçš„å®ˆå«éƒ½å¤§åŒå°å¼‚ï¼‰ï¼š</p><p>\1. to: Route: å³å°†è¦è¿›å…¥çš„ç›®æ ‡ è·¯ç”±å¯¹è±¡</p><p>\2. from: Route: å½“å‰å¯¼èˆªæ­£è¦ç¦»å¼€çš„è·¯ç”±</p><p>\3. next: Function: ä¸€å®šè¦è°ƒç”¨è¯¥æ–¹æ³•å°†æ§åˆ¶æƒäº¤ç»™ä¸‹ä¸€ä¸ªå®ˆå«ï¼Œæ‰§è¡Œæ•ˆæœä¾èµ– next æ–¹æ³•çš„å‚æ•°ã€‚</p><p>next(): è¿›å…¥ä¸‹ä¸€ä¸ªå®ˆå«ã€‚å¦‚æœå…¨éƒ¨å®ˆå«æ‰§è¡Œå®Œäº†ã€‚åˆ™å¯¼èˆªçš„çŠ¶æ€å°±æ˜¯ confirmed (ç¡®è®¤çš„)ã€‚</p><p>next(false): ä¸­æ–­å½“å‰çš„å¯¼èˆªï¼ˆæŠŠå°æ˜è…¿æ‰“æ–­äº†ï¼‰ã€‚å¦‚æœæµè§ˆå™¨çš„ URL æ”¹å˜äº† (å¯èƒ½æ˜¯ç”¨æˆ·æ‰‹åŠ¨æˆ–è€…æµè§ˆå™¨ åé€€æŒ‰é’®)ï¼Œé‚£ä¹ˆ URL åœ°å€ä¼šé‡ç½®åˆ° from è·¯ç”±å¯¹åº”çš„åœ°å€ã€‚</p><p>next(â€˜&#x2F;â€˜) æˆ–è€… next({ path: â€˜&#x2F;â€˜ }): è·³è½¬åˆ°ä¸€ä¸ªä¸åŒçš„åœ°å€ã€‚å½“å‰çš„å¯¼èˆªè¢«ä¸­æ–­ï¼Œç„¶åè¿›è¡Œä¸€ä¸ªæ–°çš„å¯¼èˆªï¼ˆå° æ˜è¢«æ‰“æ–­è…¿å¹¶ä¸”é€å›å®¶äº†ï¼‰ã€‚ä½ å¯ä»¥å‘ next ä¼ é€’ä»»æ„ä½ç½®å¯¹è±¡ï¼Œä¸”å…è®¸è®¾ç½®è¯¸å¦‚ replace: trueã€name: â€˜homeâ€™ ä¹‹ç±»çš„é€‰é¡¹ä»¥åŠä»»ä½•ç”¨åœ¨ router-link çš„ to prop æˆ– router.push ä¸­çš„é€‰é¡¹ã€‚</p><p>next(error): (2.4.0+) å¦‚æœä¼ å…¥ next çš„å‚æ•°æ˜¯ä¸€ä¸ª Error å®ä¾‹ï¼Œåˆ™å¯¼èˆªä¼šè¢«ç»ˆæ­¢ä¸”è¯¥é”™è¯¯ä¼šè¢«ä¼ é€’router.</p><p>onError() æ³¨å†Œè¿‡çš„å›è°ƒã€‚</p><p>æ³¨æ„ï¼šæ°¸è¿œä¸è¦ä½¿ç”¨ä¸¤æ¬¡nextï¼Œè¿™ä¼šäº§ç”Ÿä¸€äº›è¯¯ä¼šã€‚</p><ol><li><p>å…¨å±€è§£æå®ˆå«</p><p>è¿™å’Œ router.beforeEach ç±»ä¼¼ï¼Œä½†ä»–æ€»æ˜¯è¢«æ”¾åœ¨æœ€åä¸€ä¸ªæ‰§è¡Œã€‚</p></li><li><p>å…¨å±€åç½®é’©å­</p><p>å¯¼èˆªå·²ç»ç¡®è®¤äº†çš„ï¼Œå°æ˜å·²ç»åˆ°äº†å¤–å©†å®¶äº†ï¼Œä½ æ‰“æ–­ä»–çš„è…¿ä»–ä¹Ÿæ˜¯åœ¨å¤–å©†å®¶äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ä½ å¹¶ä¸èƒ½è°ƒç”¨next</span></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>è·¯ç”±ç‹¬äº«çš„å®ˆå«</p><p>åœ¨è·¯ç”±å†…å†™çš„å®ˆå«</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/foo&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">Foo</span>,</span><br><span class="line">      <span class="attr">beforeEnter</span>: <span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶å†…çš„å®ˆå«</p><p>5.1 beforeRouteEnter</p><p>5.2 beforeRouteUpdate (2.2 æ–°å¢)</p><p>5.3 beforeRouteLeave</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">Foo</span> = &#123;</span><br><span class="line">  <span class="attr">template</span>: <span class="string">`...`</span>,</span><br><span class="line">  beforeRouteEnter (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    <span class="comment">// è·¯ç”±è¢« confirm å‰è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// ç»„ä»¶è¿˜æœªæ¸²æŸ“å‡ºæ¥ï¼Œä¸èƒ½è·å–ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">  &#125;,</span><br><span class="line">  beforeRouteUpdate (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    <span class="comment">// åœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªå¸¦æœ‰åŠ¨æ€å‚æ•°çš„è·¯å¾„ /foo/:idï¼Œåœ¨ /foo/1 å’Œ /foo/2 ä¹‹é—´è·³è½¬çš„æ—¶å€™ï¼Œ</span></span><br><span class="line">    <span class="comment">// ç”±äºä¼šæ¸²æŸ“åŒæ ·çš„ Foo ç»„ä»¶ï¼Œå› æ­¤ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ã€‚è€Œè¿™ä¸ªé’©å­å°±ä¼šåœ¨è¿™ä¸ªæƒ…å†µä¸‹è¢«è°ƒç”¨ã€‚</span></span><br><span class="line">    <span class="comment">// å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`ï¼Œä¸€èˆ¬ç”¨æ¥æ•°æ®è·å–ã€‚</span></span><br><span class="line">  &#125;,</span><br><span class="line">  beforeRouteLeave (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    <span class="comment">// å¯¼èˆªç¦»å¼€è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p><strong>æ‰©å±•ï¼š</strong></p><p>å¯¼èˆªå…¨è¿‡ç¨‹</p><ul><li>å¯¼èˆªè¢«è§¦å‘ã€‚</li><li>åœ¨å‡†å¤‡ç¦»å¼€çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteLeave å®ˆå«ã€‚</li><li>è°ƒç”¨å…¨å±€çš„ beforeEach å®ˆå«ã€‚</li><li>åœ¨é‡ç”¨çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteUpdate å®ˆå« (2.2+)ã€‚ï¼ˆå¦‚æœä½ çš„ç»„ä»¶æ˜¯é‡ç”¨çš„ï¼‰</li><li>åœ¨è·¯ç”±é…ç½®é‡Œè°ƒç”¨ beforeEnterã€‚</li><li>è§£æå³å°†æŠµè¾¾çš„ç»„ä»¶ã€‚</li><li>åœ¨å³å°†æŠµè¾¾çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteEnterã€‚</li><li>è°ƒç”¨å…¨å±€çš„ beforeResolve å®ˆå« (2.5+)ã€‚</li><li>å¯¼èˆªè¢«ç¡®è®¤ã€‚</li><li>è°ƒç”¨å…¨å±€çš„ afterEach é’©å­ã€‚</li><li>è§¦å‘ DOM æ›´æ–°ã€‚</li><li>ç”¨åˆ›å»ºå¥½çš„å®ä¾‹è°ƒç”¨ beforeRouteEnter å®ˆå«ä¸­ä¼ ç»™ next çš„å›è°ƒå‡½æ•°ã€‚</li></ul><h4 id="1-11-è·¯ç”±å®ˆå«è¿›è¡Œåˆ¤æ–­ç™»å½•"><a href="#1-11-è·¯ç”±å®ˆå«è¿›è¡Œåˆ¤æ–­ç™»å½•" class="headerlink" title="1.11 è·¯ç”±å®ˆå«è¿›è¡Œåˆ¤æ–­ç™»å½•"></a>1.11 è·¯ç”±å®ˆå«è¿›è¡Œåˆ¤æ–­ç™»å½•</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>åœ¨vueé¡¹ç›®ä¸­ï¼Œåˆ‡æ¢è·¯ç”±æ—¶è‚¯å®šä¼šç¢°åˆ°éœ€è¦ç™»å½•çš„è·¯ç”±ï¼Œå…¶åŸç†å°±æ˜¯åœ¨åˆ‡æ¢è·¯å¾„ä¹‹å‰è¿›è¡Œåˆ¤æ–­ï¼Œä½ ä¸å¯èƒ½è¿›å…¥é¡µé¢å†å»åˆ¤æ–­æœ‰æ— ç™»å½•é‡æ–°å®šå‘åˆ°loginï¼Œé‚£æ ·çš„è¯ä¼šå¯¼è‡´é¡µé¢å·²ç»æ¸²æŸ“ä»¥åŠå®ƒçš„å„ç§è¯·æ±‚å·²ç»å‘å‡ºã€‚</p><ol><li><p>å¦‚éœ€è¦ç™»å½•çš„è·¯ç”±å¯åœ¨main.jsä¸­ç»Ÿä¸€å¤„ç†ï¼ˆå…¨å±€å‰ç½®å®ˆå«ï¼‰</p><p>æˆ‘ä»¬å¯ä»¥åœ¨å…¥å£æ–‡ä»¶man.jsé‡Œé¢è¿›è¡Œé…ç½®ï¼Œä½¿ç”¨router.beforeEachæ–¹æ³•ï¼Œä¸æ‡‚å¾—å¯ä»¥æ‰“å°toï¼Œfromçš„å‚æ•°å°±okï¼ŒrequireAuthå¯ä»¥éšæ„æ¢åçš„ï¼Œåªè¦man.jsé‡Œé¢è·Ÿé…ç½®è·¯ç”±çš„routesé‡Œé¢çš„å­—æ®µä¿æŒä¸€è‡´ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (to.<span class="property">matched</span>.<span class="title function_">some</span>(<span class="function"><span class="params">record</span> =&gt;</span> record.<span class="property">meta</span>.<span class="property">requireAuth</span>))&#123;  <span class="comment">// åˆ¤æ–­è¯¥è·¯ç”±æ˜¯å¦éœ€è¦ç™»å½•æƒé™</span></span><br><span class="line">    <span class="keyword">if</span>(!<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>) &amp;&amp; !<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>))&#123;</span><br><span class="line">      <span class="title function_">next</span>(&#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">        <span class="attr">query</span>: &#123;<span class="attr">redirect</span>: to.<span class="property">fullPath</span>&#125;  <span class="comment">// å°†è·³è½¬çš„è·¯ç”±pathä½œä¸ºå‚æ•°ï¼Œç™»å½•æˆåŠŸåè·³è½¬åˆ°è¯¥è·¯ç”±</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">         <span class="title function_">next</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_">next</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  router,</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Router</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;home&#x27;</span>,</span><br><span class="line">            <span class="attr">redirect</span>: <span class="string">&#x27;/home&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">Home</span>,</span><br><span class="line">            <span class="attr">meta</span>: &#123;</span><br><span class="line">              <span class="attr">title</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">              <span class="attr">requireAuth</span>: <span class="literal">true</span>,  <span class="comment">// æ·»åŠ è¯¥å­—æ®µï¼Œè¡¨ç¤ºè¿›å…¥è¿™ä¸ªè·¯ç”±æ˜¯éœ€è¦ç™»å½•çš„</span></span><br><span class="line">           &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>:<span class="string">&#x27;login&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">Login</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&#x27;/register&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>:<span class="string">&#x27;register&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">Register</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>å…¨å±€åç½®å®ˆå«</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>å•ç‹¬è·¯ç”±ç‹¬äº«å®ˆå«ï¼ˆä¸å…¨å±€ä¸€è‡´ï¼Œå¯å•ç‹¬å¯¹æŸä¸ªè·¯ç”±è¿›è¡Œé…ç½®ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/foo&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">Foo</span>,</span><br><span class="line">      <span class="attr">beforeEnter</span>: <span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶å†…éƒ¨è·¯ç”±å®ˆå«ï¼ˆå¯å†™åœ¨ä¸ç”Ÿå‘½å‘¨æœŸåŒçº§ä½ç½®ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">beforeRouteEnter (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    <span class="comment">// åœ¨æ¸²æŸ“è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±è¢« confirm å‰è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// ä¸ï¼èƒ½ï¼è·å–ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">    <span class="comment">// å› ä¸ºå½“å®ˆå«æ‰§è¡Œå‰ï¼Œç»„ä»¶å®ä¾‹è¿˜æ²¡è¢«åˆ›å»º</span></span><br><span class="line">&#125;,</span><br><span class="line">beforeRouteUpdate (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    <span class="comment">// åœ¨å½“å‰è·¯ç”±æ”¹å˜ï¼Œä½†æ˜¯è¯¥ç»„ä»¶è¢«å¤ç”¨æ—¶è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// ä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªå¸¦æœ‰åŠ¨æ€å‚æ•°çš„è·¯å¾„ /foo/:idï¼Œåœ¨ /foo/1 å’Œ /foo/2 ä¹‹é—´è·³è½¬çš„æ—¶å€™ï¼Œ</span></span><br><span class="line">    <span class="comment">// ç”±äºä¼šæ¸²æŸ“åŒæ ·çš„ Foo ç»„ä»¶ï¼Œå› æ­¤ç»„ä»¶å®ä¾‹ä¼šè¢«å¤ç”¨ã€‚è€Œè¿™ä¸ªé’©å­å°±ä¼šåœ¨è¿™ä¸ªæƒ…å†µä¸‹è¢«è°ƒç”¨ã€‚</span></span><br><span class="line">    <span class="comment">// å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">&#125;,</span><br><span class="line">beforeRouteLeave (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    <span class="comment">// å¯¼èˆªç¦»å¼€è¯¥ç»„ä»¶çš„å¯¹åº”è·¯ç”±æ—¶è°ƒç”¨</span></span><br><span class="line">    <span class="comment">// å¯ä»¥è®¿é—®ç»„ä»¶å®ä¾‹ `this`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h4 id="1-12-vue-router-å®ç°æ‡’åŠ è½½"><a href="#1-12-vue-router-å®ç°æ‡’åŠ è½½" class="headerlink" title="1.12 vue-router å®ç°æ‡’åŠ è½½"></a>1.12 vue-router å®ç°æ‡’åŠ è½½</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>æ‡’åŠ è½½ï¼šå½“æ‰“åŒ…æ„å»ºåº”ç”¨æ—¶ï¼ŒJavaScript åŒ…ä¼šå˜å¾—éå¸¸å¤§ï¼Œå½±å“é¡µé¢åŠ è½½ã€‚å¦‚æœæˆ‘ä»¬èƒ½æŠŠä¸åŒè·¯ç”±å¯¹åº”çš„ç»„ä»¶åˆ†å‰²æˆä¸åŒçš„ä»£ç å—ï¼Œç„¶åå½“è·¯ç”±è¢«è®¿é—®çš„æ—¶å€™æ‰åŠ è½½å¯¹åº”ç»„ä»¶ï¼Œè¿™æ ·å°±æ›´åŠ é«˜æ•ˆäº†ã€‚</p><p>å®ç°ï¼šç»“åˆ Vue çš„<a href="https://cn.vuejs.org/v2/guide/components-dynamic-async.html#%E5%BC%82%E6%AD%A5%E7%BB%84%E4%BB%B6">å¼‚æ­¥ç»„ä»¶</a>å’Œ Webpack çš„<a href="https://doc.webpack-china.org/guides/code-splitting-async/#require-ensure-/">ä»£ç åˆ†å‰²åŠŸèƒ½</a>ï¼Œå¯ä»¥å®ç°è·¯ç”±ç»„ä»¶çš„æ‡’åŠ è½½</p><ol><li><p>é¦–å…ˆï¼Œå¯ä»¥å°†å¼‚æ­¥ç»„ä»¶å®šä¹‰ä¸ºè¿”å›ä¸€ä¸ª Promise çš„å·¥å‚å‡½æ•° (è¯¥å‡½æ•°è¿”å›çš„ Promise åº”è¯¥ resolve ç»„ä»¶æœ¬èº«)ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">Foo</span> = (<span class="params"></span>) =&gt; <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(&#123; <span class="comment">/* ç»„ä»¶å®šä¹‰å¯¹è±¡ */</span> &#125;)</span><br></pre></td></tr></table></figure></li><li><p>åœ¨ Webpack 2 ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<a href="https://github.com/tc39/proposal-dynamic-import">åŠ¨æ€ import</a>è¯­æ³•æ¥å®šä¹‰ä»£ç åˆ†å—ç‚¹ (split point)ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(<span class="string">&#x27;./Foo.vue&#x27;</span>) <span class="comment">// è¿”å› Promise</span></span><br></pre></td></tr></table></figure><p>ç»“åˆè¿™ä¸¤è€…ï¼Œè¿™å°±æ˜¯å¦‚ä½•å®šä¹‰ä¸€ä¸ªèƒ½å¤Ÿè¢« Webpack è‡ªåŠ¨ä»£ç åˆ†å‰²çš„å¼‚æ­¥ç»„ä»¶ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">Foo</span> = (<span class="params"></span>) =&gt; <span class="keyword">import</span>(<span class="string">&#x27;./Foo.vue&#x27;</span>)</span><br></pre></td></tr></table></figure><p>åœ¨è·¯ç”±é…ç½®ä¸­ä»€ä¹ˆéƒ½ä¸éœ€è¦æ”¹å˜ï¼Œåªéœ€è¦åƒå¾€å¸¸ä¸€æ ·ä½¿ç”¨Fooï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/foo&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Foo</span> &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><h4 id="1-13-jsæ˜¯å¦‚ä½•ç›‘å¬HistoryRouterçš„å˜åŒ–çš„"><a href="#1-13-jsæ˜¯å¦‚ä½•ç›‘å¬HistoryRouterçš„å˜åŒ–çš„" class="headerlink" title="1.13 jsæ˜¯å¦‚ä½•ç›‘å¬HistoryRouterçš„å˜åŒ–çš„"></a>1.13 jsæ˜¯å¦‚ä½•ç›‘å¬HistoryRouterçš„å˜åŒ–çš„</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>é€šè¿‡æµè§ˆå™¨çš„åœ°å€æ æ¥æ”¹å˜åˆ‡æ¢é¡µé¢ï¼Œå‰ç«¯å®ç°ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ol><li><p>é€šè¿‡hashæ”¹å˜ï¼Œåˆ©ç”¨window.onhashchange ç›‘å¬ã€‚</p></li><li><p><strong>HistoryRouterï¼š</strong>é€šè¿‡historyçš„æ”¹å˜ï¼Œè¿›è¡Œjsæ“ä½œåŠ è½½é¡µé¢ï¼Œç„¶è€Œhistoryå¹¶ä¸åƒhashé‚£æ ·ç®€å•ï¼Œå› ä¸ºhistoryçš„æ”¹å˜ï¼Œé™¤äº†æµè§ˆå™¨çš„å‡ ä¸ªå‰è¿›åé€€ï¼ˆä½¿ç”¨ history.back(), history.forward()å’Œ history.go() æ–¹æ³•æ¥å®Œæˆåœ¨ç”¨æˆ·å†å²è®°å½•ä¸­å‘åå’Œå‘å‰çš„è·³è½¬ã€‚ï¼‰ç­‰æ“ä½œä¼šä¸»åŠ¨è§¦å‘popstate äº‹ä»¶ï¼ŒpushStateï¼ŒreplaceState å¹¶ä¸ä¼šè§¦å‘popstateäº‹ä»¶ï¼Œè¦è§£å†³historyç›‘å¬çš„é—®é¢˜ï¼Œæ–¹æ³•æ˜¯ï¼š</p><p>é¦–å…ˆå®Œæˆä¸€ä¸ªè®¢é˜…-å‘å¸ƒæ¨¡å¼ï¼Œç„¶åé‡å†™history.pushState, history.replaceState,å¹¶æ·»åŠ æ¶ˆæ¯é€šçŸ¥ï¼Œè¿™æ ·ä¸€æ¥åªè¦historyçš„æ— æ³•å®ç°ç›‘å¬å‡½æ•°å°±è¢«æˆ‘ä»¬åŠ ä¸Šäº†äº‹ä»¶é€šçŸ¥ï¼Œåªä¸è¿‡è¿™é‡Œç”¨çš„ä¸æ˜¯æµè§ˆå™¨åŸç”Ÿäº‹ä»¶ï¼Œè€Œæ˜¯é€šè¿‡æˆ‘ä»¬åˆ›å»ºçš„event-bus æ¥å®ç°é€šçŸ¥ï¼Œç„¶åè§¦å‘äº‹ä»¶è®¢é˜…å‡½æ•°çš„æ‰§è¡Œã€‚</p></li></ol><p>å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p><ol><li>è®¢é˜…-å‘å¸ƒæ¨¡å¼ç¤ºä¾‹</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Dep</span> &#123;                  <span class="comment">// è®¢é˜…æ± </span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">id</span> = <span class="keyword">new</span> <span class="title class_">Date</span>() <span class="comment">//è¿™é‡Œç®€å•çš„è¿ç”¨æ—¶é—´æˆ³åšè®¢é˜…æ± çš„ID</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">subs</span> = []       <span class="comment">//è¯¥äº‹ä»¶ä¸‹è¢«è®¢é˜…å¯¹è±¡çš„é›†åˆ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">defined</span>(<span class="params"></span>)&#123;              <span class="comment">// æ·»åŠ è®¢é˜…è€…</span></span><br><span class="line">        <span class="title class_">Dep</span>.<span class="property">watch</span>.<span class="title function_">add</span>(<span class="variable language_">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">notify</span>(<span class="params"></span>) &#123;              <span class="comment">//é€šçŸ¥è®¢é˜…è€…æœ‰å˜åŒ–</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">subs</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">e, i</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">typeof</span> e.<span class="property">update</span> === <span class="string">&#x27;function&#x27;</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                   e.<span class="property">update</span>.<span class="title function_">apply</span>(e)  <span class="comment">//è§¦å‘è®¢é˜…è€…æ›´æ–°å‡½æ•°</span></span><br><span class="line">                &#125; <span class="keyword">catch</span>(err)&#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">warr</span>(err)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Dep</span>.<span class="property">watch</span> = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Watch</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, fn</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;       <span class="comment">//è®¢é˜…æ¶ˆæ¯çš„åç§°</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">id</span> = <span class="keyword">new</span> <span class="title class_">Date</span>();   <span class="comment">//è¿™é‡Œç®€å•çš„è¿ç”¨æ—¶é—´æˆ³åšè®¢é˜…è€…çš„ID</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">callBack</span> = fn;     <span class="comment">//è®¢é˜…æ¶ˆæ¯å‘é€æ”¹å˜æ—¶-&gt;è®¢é˜…è€…æ‰§è¡Œçš„å›è°ƒå‡½æ•°     </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">add</span>(<span class="params">dep</span>) &#123;                  <span class="comment">//å°†è®¢é˜…è€…æ”¾å…¥depè®¢é˜…æ± </span></span><br><span class="line">       dep.<span class="property">subs</span>.<span class="title function_">push</span>(<span class="variable language_">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">update</span>(<span class="params"></span>) &#123;                  <span class="comment">//å°†è®¢é˜…è€…æ›´æ–°æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">var</span> cb = <span class="variable language_">this</span>.<span class="property">callBack</span>; <span class="comment">//èµ‹å€¼ä¸ºäº†ä¸æ”¹å˜å‡½æ•°å†…è°ƒç”¨çš„this</span></span><br><span class="line">        <span class="title function_">cb</span>(<span class="variable language_">this</span>.<span class="property">name</span>);         </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>é‡å†™historyæ–¹æ³•ï¼Œå¹¶æ·»åŠ window.addHistoryListeneräº‹ä»¶æœºåˆ¶ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> addHistoryMethod = (<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> historyDep = <span class="keyword">new</span> <span class="title class_">Dep</span>();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">name</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(name === <span class="string">&#x27;historychange&#x27;</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">name, fn</span>)&#123;</span><br><span class="line">                    <span class="keyword">var</span> event = <span class="keyword">new</span> <span class="title class_">Watch</span>(name, fn)</span><br><span class="line">                    <span class="title class_">Dep</span>.<span class="property">watch</span> = event;</span><br><span class="line">                    historyDep.<span class="title function_">defined</span>();</span><br><span class="line">                    <span class="title class_">Dep</span>.<span class="property">watch</span> = <span class="literal">null</span>;       <span class="comment">//ç½®ç©ºä¾›ä¸‹ä¸€ä¸ªè®¢é˜…è€…ä½¿ç”¨</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(name === <span class="string">&#x27;pushState&#x27;</span> || name === <span class="string">&#x27;replaceState&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> method = history[name];</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">                    method.<span class="title function_">apply</span>(history, <span class="variable language_">arguments</span>);</span><br><span class="line">                    historyDep.<span class="title function_">notify</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;())</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">addHistoryListener</span> = <span class="title function_">addHistoryMethod</span>(<span class="string">&#x27;historychange&#x27;</span>);</span><br><span class="line">history.<span class="property">pushState</span> =  <span class="title function_">addHistoryMethod</span>(<span class="string">&#x27;pushState&#x27;</span>);</span><br><span class="line">history.<span class="property">replaceState</span> =  <span class="title function_">addHistoryMethod</span>(<span class="string">&#x27;replaceState&#x27;</span>);</span><br></pre></td></tr></table></figure><h4 id="1-14-HashRouter-å’Œ-HistoryRouterçš„åŒºåˆ«å’ŒåŸç†"><a href="#1-14-HashRouter-å’Œ-HistoryRouterçš„åŒºåˆ«å’ŒåŸç†" class="headerlink" title="1.14 HashRouter å’Œ HistoryRouterçš„åŒºåˆ«å’ŒåŸç†"></a>1.14 HashRouter å’Œ HistoryRouterçš„åŒºåˆ«å’ŒåŸç†</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p><strong>vue-router</strong>æ˜¯Vueå®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ã€‚å®ƒå’Œ Vue.js çš„æ ¸å¿ƒæ·±åº¦é›†æˆï¼Œè®©æ„å»ºå•é¡µé¢åº”ç”¨å˜å¾—æ˜“å¦‚åæŒã€‚vue-routeré»˜è®¤ hash æ¨¡å¼ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯historyæ¨¡å¼ã€‚</p><p>åŸç†ï¼š</p><ol><li><p>hashè·¯ç”±ï¼šhashæ¨¡å¼çš„å·¥ä½œåŸç†æ˜¯hashchangeäº‹ä»¶ï¼Œå¯ä»¥åœ¨windowç›‘å¬hashçš„å˜åŒ–ã€‚æˆ‘ä»¬åœ¨urlåé¢éšä¾¿æ·»åŠ ä¸€ä¸ª#xxè§¦å‘è¿™ä¸ªäº‹ä»¶ã€‚vue-routeré»˜è®¤çš„æ˜¯hashæ¨¡å¼â€”ä½¿ç”¨URLçš„hashæ¥æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„URL,äºæ˜¯å½“URLæ”¹å˜çš„æ—¶å€™,é¡µé¢ä¸ä¼šé‡æ–°åŠ è½½,ä¹Ÿå°±æ˜¯å•é¡µåº”ç”¨äº†,å½“#åé¢çš„hashå‘ç”Ÿå˜åŒ–,ä¸ä¼šå¯¼è‡´æµè§ˆå™¨å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚,æµè§ˆå™¨ä¸å‘å‡ºè¯·æ±‚å°±ä¸ä¼šåˆ·æ–°é¡µé¢,å¹¶ä¸”ä¼šè§¦å‘hasChangeè¿™ä¸ªäº‹ä»¶,é€šè¿‡ç›‘å¬hashå€¼çš„å˜åŒ–æ¥å®ç°æ›´æ–°é¡µé¢éƒ¨åˆ†å†…å®¹çš„æ“ä½œ</p><p>å¯¹äºhashæ¨¡å¼ä¼šåˆ›å»ºhashHistoryå¯¹è±¡,åœ¨è®¿é—®ä¸åŒçš„è·¯ç”±çš„æ—¶å€™,ä¼šå‘ç”Ÿä¸¤ä»¶äº‹:<br>HashHistory.push()å°†æ–°çš„è·¯ç”±æ·»åŠ åˆ°æµè§ˆå™¨è®¿é—®çš„å†å²çš„æ ˆé¡¶,å’ŒHasHistory.replace()æ›¿æ¢åˆ°å½“å‰æ ˆé¡¶çš„è·¯ç”±</p></li><li><p>historyè·¯ç”±ï¼š</p><p>ä¸»è¦ä½¿ç”¨HTML5çš„pushState()å’ŒreplaceState()è¿™ä¸¤ä¸ªapiç»“åˆwindow.popstateäº‹ä»¶ï¼ˆç›‘å¬æµè§ˆå™¨å‰è¿›åé€€ï¼‰æ¥å®ç°çš„,pushState()å¯ä»¥æ”¹å˜urlåœ°å€ä¸”ä¸ä¼šå‘é€è¯·æ±‚,replaceState()å¯ä»¥è¯»å–å†å²è®°å½•æ ˆ,è¿˜å¯ä»¥å¯¹æµè§ˆå™¨è®°å½•è¿›è¡Œä¿®æ”¹</p></li></ol><p>åŒºåˆ«ï¼š</p><ol><li>hashæ¨¡å¼è¾ƒä¸‘ï¼Œhistoryæ¨¡å¼è¾ƒä¼˜é›…</li><li>pushStateè®¾ç½®çš„æ–°URLå¯ä»¥æ˜¯ä¸å½“å‰URLåŒæºçš„ä»»æ„URLï¼›è€Œhashåªå¯ä¿®æ”¹#åé¢çš„éƒ¨åˆ†ï¼Œæ•…åªå¯è®¾ç½®ä¸å½“å‰åŒæ–‡æ¡£çš„URL</li><li>pushStateè®¾ç½®çš„æ–°URLå¯ä»¥ä¸å½“å‰URLä¸€æ¨¡ä¸€æ ·ï¼Œè¿™æ ·ä¹Ÿä¼šæŠŠè®°å½•æ·»åŠ åˆ°æ ˆä¸­ï¼›è€Œhashè®¾ç½®çš„æ–°å€¼å¿…é¡»ä¸åŸæ¥ä¸ä¸€æ ·æ‰ä¼šè§¦å‘è®°å½•æ·»åŠ åˆ°æ ˆä¸­</li><li>pushStateé€šè¿‡stateObjectå¯ä»¥æ·»åŠ ä»»æ„ç±»å‹çš„æ•°æ®åˆ°è®°å½•ä¸­ï¼›è€Œhashåªå¯æ·»åŠ çŸ­å­—ç¬¦ä¸²</li><li>pushStateå¯é¢å¤–è®¾ç½®titleå±æ€§ä¾›åç»­ä½¿ç”¨</li><li>hashå…¼å®¹IE8ä»¥ä¸Šï¼Œhistoryå…¼å®¹IE10ä»¥ä¸Š</li><li>historyæ¨¡å¼éœ€è¦åç«¯é…åˆå°†æ‰€æœ‰è®¿é—®éƒ½æŒ‡å‘index.htmlï¼Œå¦åˆ™ç”¨æˆ·åˆ·æ–°é¡µé¢ï¼Œä¼šå¯¼è‡´404é”™è¯¯</li></ol><p>ä½¿ç”¨æ–¹æ³•:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// hashè·¯ç”±åŸç†***************************</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// ç›‘å¬hashchangeæ–¹æ³•</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;hashchange&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">            div.<span class="property">innerHTML</span> = location.<span class="property">hash</span>.<span class="title function_">slice</span>(<span class="number">1</span>)</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// historyè·¯ç”±åŸç†************************</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// åˆ©ç”¨html5çš„historyçš„pushStateæ–¹æ³•ç»“åˆwindow.popstateäº‹ä»¶ï¼ˆç›‘å¬æµè§ˆå™¨å‰è¿›åé€€ï¼‰</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">routerChange</span> (pathname)&#123;</span></span><br><span class="line"><span class="language-javascript">            history.<span class="title function_">pushState</span>(<span class="literal">null</span>,<span class="literal">null</span>,pathname)</span></span><br><span class="line"><span class="language-javascript">            div.<span class="property">innerHTML</span> = location.<span class="property">pathname</span></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;popstate&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="language-javascript">            div.<span class="property">innerHTML</span> = location.<span class="property">pathname</span></span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="1-15-Vue-router-åŸç†-å“ªä¸ªæ¨¡å¼ä¸ä¼šè¯·æ±‚æœåŠ¡å™¨"><a href="#1-15-Vue-router-åŸç†-å“ªä¸ªæ¨¡å¼ä¸ä¼šè¯·æ±‚æœåŠ¡å™¨" class="headerlink" title="1.15 Vue router åŸç†, å“ªä¸ªæ¨¡å¼ä¸ä¼šè¯·æ±‚æœåŠ¡å™¨"></a>1.15 Vue router åŸç†, å“ªä¸ªæ¨¡å¼ä¸ä¼šè¯·æ±‚æœåŠ¡å™¨</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>Vue router çš„ä¸¤ç§æ–¹æ³•ï¼Œhashæ¨¡å¼ä¸ä¼šè¯·æ±‚æœåŠ¡å™¨</p><p><strong>è§£æï¼š</strong></p><ol><li>urlçš„hashï¼Œå°±æ˜¯é€šå¸¸æ‰€è¯´çš„é”šç‚¹#ï¼Œjavascripté€šè¿‡hashChangeäº‹ä»¶æ¥ç›‘å¬urlçš„å˜åŒ–ï¼ŒIE7ä»¥ä¸‹éœ€è¦è½®è¯¢ã€‚æ¯”å¦‚è¿™ä¸ª URLï¼š<a href="http://www.abc.com/#/hello%EF%BC%8Chash">http://www.abc.com/#/helloï¼Œhash</a> çš„å€¼ä¸º#&#x2F;helloã€‚å®ƒçš„ç‰¹ç‚¹åœ¨äºï¼šhash è™½ç„¶å‡ºç°åœ¨ URL ä¸­ï¼Œä½†ä¸ä¼šè¢«åŒ…æ‹¬åœ¨ HTTP è¯·æ±‚ä¸­ï¼Œå¯¹åç«¯å®Œå…¨æ²¡æœ‰å½±å“ï¼Œå› æ­¤<strong>æ”¹å˜ hash ä¸ä¼šé‡æ–°åŠ è½½é¡µé¢</strong>ã€‚</li><li>HTML5çš„Historyæ¨¡å¼ï¼Œå®ƒä½¿urlçœ‹èµ·æ¥åƒæ™®é€šç½‘ç«™é‚£æ ·ï¼Œä»¥â€œ&#x2F;â€åˆ†å‰²ï¼Œæ²¡æœ‰#ï¼Œå•é¡µé¢å¹¶æ²¡æœ‰è·³è½¬ã€‚ä¸è¿‡ä½¿ç”¨è¿™ç§æ¨¡å¼éœ€è¦æœåŠ¡ç«¯æ”¯æŒï¼ŒæœåŠ¡ç«¯åœ¨æ¥æ”¶åˆ°æ‰€æœ‰è¯·æ±‚åï¼Œéƒ½åªæƒ³åŒä¸€ä¸ªhtmlæ–‡ä»¶ï¼Œä¸ç„¶ä¼šå‡ºç°404ã€‚å› æ­¤å•é¡µé¢åº”ç”¨åªæœ‰ä¸€ä¸ªhtmlï¼Œæ•´ä¸ªç½‘ç«™çš„å†…å®¹éƒ½åœ¨è¿™ä¸€ä¸ªhtmlé‡Œï¼Œé€šè¿‡jsæ¥å¤„ç†ã€‚</li></ol><h4 id="1-16-ç»„ä»¶é€šä¿¡çš„æ–¹å¼"><a href="#1-16-ç»„ä»¶é€šä¿¡çš„æ–¹å¼" class="headerlink" title="1.16 ç»„ä»¶é€šä¿¡çš„æ–¹å¼"></a>1.16 ç»„ä»¶é€šä¿¡çš„æ–¹å¼</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>ç»„ä»¶é€šä¿¡çš„æ–¹å¼çš„æ–¹å¼æœ‰ä»¥ä¸‹8ç§æ–¹æ³•ï¼š</p><ol><li><p>propså’Œ$emit</p><p>è¿™æ˜¯æœ€æœ€å¸¸ç”¨çš„çˆ¶å­ç»„ä»¶é€šä¿¡æ–¹å¼ï¼Œçˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®æ˜¯é€šè¿‡propä¼ é€’çš„ï¼Œå­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶æ˜¯é€šè¿‡$emitè§¦å‘äº‹ä»¶æ¥åšåˆ°çš„</p></li><li><p><img src="https://www.nowcoder.com/equation?tex=attrs%E5%92%8C&preview=true" alt="img">listeners</p><p>ç¬¬ä¸€ç§æ–¹å¼å¤„ç†çˆ¶å­ç»„ä»¶ä¹‹é—´çš„æ•°æ®ä¼ è¾“æœ‰ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœå¤šå±‚åµŒå¥—ï¼Œçˆ¶ç»„ä»¶Aä¸‹é¢æœ‰å­ç»„ä»¶Bï¼Œç»„ä»¶Bä¸‹é¢æœ‰ç»„ä»¶C,è¿™æ—¶å¦‚æœç»„ä»¶Aæƒ³ä¼ é€’æ•°æ®ç»™ç»„ä»¶Cæ€ä¹ˆåŠå‘¢?</p><p>å¦‚æœé‡‡ç”¨ç¬¬ä¸€ç§æ–¹æ³•ï¼Œæˆ‘ä»¬å¿…é¡»è®©ç»„ä»¶Aé€šè¿‡propä¼ é€’æ¶ˆæ¯ç»™ç»„ä»¶Bï¼Œç»„ä»¶Båœ¨é€šè¿‡propä¼ é€’æ¶ˆæ¯ç»™ç»„ä»¶C;è¦æ˜¯ç»„ä»¶Aå’Œç»„ä»¶Cä¹‹é—´æœ‰æ›´å¤šçš„ç»„ä»¶ï¼Œé‚£é‡‡ç”¨è¿™ç§æ–¹å¼å°±å¾ˆå¤æ‚äº†ã€‚ä»Vue 2.4å¼€å§‹ï¼Œæä¾›äº†<img src="https://www.nowcoder.com/equation?tex=attrs%E5%92%8C&preview=true" alt="img">listenersæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œèƒ½å¤Ÿè®©ç»„ä»¶Aä¹‹é—´ä¼ é€’æ¶ˆæ¯ç»™ç»„ä»¶Cã€‚</p></li><li><p>v-model</p><p>çˆ¶ç»„ä»¶é€šè¿‡v-modelä¼ é€’å€¼ç»™å­ç»„ä»¶æ—¶ï¼Œä¼šè‡ªåŠ¨ä¼ é€’ä¸€ä¸ªvalueçš„propå±æ€§ï¼Œåœ¨å­ç»„ä»¶ä¸­é€šè¿‡this.$emit(â€˜inputâ€™,val)è‡ªåŠ¨ä¿®æ”¹v-modelç»‘å®šçš„å€¼</p></li><li><p>provideå’Œinject</p><p>çˆ¶ç»„ä»¶ä¸­é€šè¿‡provideræ¥æä¾›å˜é‡ï¼Œç„¶ååœ¨å­ç»„ä»¶ä¸­é€šè¿‡injectæ¥æ³¨å…¥å˜é‡ã€‚ä¸è®ºå­ç»„ä»¶æœ‰å¤šæ·±ï¼Œåªè¦è°ƒç”¨äº†injecté‚£ä¹ˆå°±å¯ä»¥æ³¨å…¥providerä¸­çš„æ•°æ®ã€‚è€Œä¸æ˜¯å±€é™äºåªèƒ½ä»å½“å‰çˆ¶ç»„ä»¶çš„propå±æ€§æ¥è·å–æ•°æ®ï¼Œåªè¦åœ¨çˆ¶ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œå­ç»„ä»¶éƒ½å¯ä»¥è°ƒç”¨ã€‚</p></li><li><p>ä¸­å¤®äº‹ä»¶æ€»çº¿</p><p>ä¸Šé¢æ–¹å¼éƒ½æ˜¯å¤„ç†çš„çˆ¶å­ç»„ä»¶ä¹‹é—´çš„æ•°æ®ä¼ é€’ï¼Œé‚£å¦‚æœä¸¤ä¸ªç»„ä»¶ä¸æ˜¯çˆ¶å­å…³ç³»å‘¢?ä¹Ÿå°±æ˜¯å…„å¼Ÿç»„ä»¶å¦‚ä½•é€šä¿¡?</p><p>è¿™ç§æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨ä¸­å¤®äº‹ä»¶æ€»çº¿çš„æ–¹å¼ã€‚æ–°å»ºä¸€ä¸ªVueäº‹ä»¶buså¯¹è±¡ï¼Œç„¶åé€šè¿‡bus.<img src="https://www.nowcoder.com/equation?tex=emit%E8%A7%A6%E5%8F%91%E4%BA%8B%E4%BB%B6%EF%BC%8Cbus.&preview=true" alt="img">onç›‘å¬è§¦å‘çš„äº‹ä»¶ã€‚</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646128629803/500809B9BD071EA8067678D9EC046261" alt="img"></p></li><li><p>parentå’Œchildren</p></li><li><p>boradcastå’Œdispatch</p><p>vue1.0ä¸­æä¾›äº†è¿™ç§æ–¹å¼ï¼Œä½†vue2.0ä¸­æ²¡æœ‰ï¼Œä½†å¾ˆå¤šå¼€æºè½¯ä»¶éƒ½è‡ªå·±å°è£…äº†è¿™ç§æ–¹å¼ï¼Œæ¯”å¦‚min uiã€element uiå’Œiviewç­‰ã€‚ æ¯”å¦‚å¦‚ä¸‹ä»£ç ï¼Œä¸€èˆ¬éƒ½ä½œä¸ºä¸€ä¸ªmixinså»ä½¿ç”¨, broadcastæ˜¯å‘ç‰¹å®šçš„çˆ¶ç»„ä»¶ï¼Œè§¦å‘äº‹ä»¶ï¼Œdispatchæ˜¯å‘ç‰¹å®šçš„å­ç»„ä»¶è§¦å‘äº‹ä»¶ï¼Œæœ¬è´¨ä¸Šè¿™ç§æ–¹å¼è¿˜æ˜¯onå’Œonå’Œemitçš„å°è£…ï¼Œä½†åœ¨ä¸€äº›åŸºç¡€ç»„ä»¶ä¸­å´å¾ˆå®ç”¨</p></li><li><p>vuexå¤„ç†ç»„ä»¶ä¹‹é—´çš„æ•°æ®äº¤äº’</p><p>å¦‚æœä¸šåŠ¡é€»è¾‘å¤æ‚ï¼Œå¾ˆå¤šç»„ä»¶ä¹‹é—´éœ€è¦åŒæ—¶å¤„ç†ä¸€äº›å…¬å…±çš„æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™æ‰æœ‰ä¸Šé¢è¿™ä¸€äº›æ–¹æ³•å¯èƒ½ä¸åˆ©äºé¡¹ç›®çš„ç»´æŠ¤ï¼Œvuexçš„åšæ³•å°±æ˜¯å°†è¿™ä¸€äº›å…¬å…±çš„æ•°æ®æŠ½ç¦»å‡ºæ¥ï¼Œç„¶åå…¶ä»–ç»„ä»¶å°±å¯ä»¥å¯¹è¿™ä¸ªå…¬å…±æ•°æ®è¿›è¡Œè¯»å†™æ“ä½œï¼Œè¿™æ ·è¾¾åˆ°äº†è§£è€¦çš„ç›®çš„</p></li></ol><h4 id="1-17-vueç»„ä»¶é—´ä¼ å€¼ï¼Œ-attrså’Œlisteners-äº†è§£è¿‡å—ï¼Ÿ"><a href="#1-17-vueç»„ä»¶é—´ä¼ å€¼ï¼Œ-attrså’Œlisteners-äº†è§£è¿‡å—ï¼Ÿ" class="headerlink" title="1.17 vueç»„ä»¶é—´ä¼ å€¼ï¼Œ attrså’Œlisteners äº†è§£è¿‡å—ï¼Ÿ"></a>1.17 vueç»„ä»¶é—´ä¼ å€¼ï¼Œ attrså’Œlisteners äº†è§£è¿‡å—ï¼Ÿ</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p><img src="https://www.nowcoder.com/equation?tex=attrs%E5%92%8C&preview=true" alt="img">listenersçš„ä½œç”¨ï¼šè§£å†³å¤šå±‚åµŒå¥—æƒ…å†µä¸‹ï¼Œçˆ¶ç»„ä»¶Aä¸‹é¢æœ‰å­ç»„ä»¶Bï¼Œç»„ä»¶Bä¸‹é¢æœ‰ç»„ä»¶Cï¼Œç»„ä»¶Aä¼ é€’æ•°æ®ç»™ç»„ä»¶Bçš„é—®é¢˜ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯åœ¨Vue 2.4æå‡ºçš„ã€‚</p><p><img src="https://www.nowcoder.com/equation?tex=attrs%E5%92%8C&preview=true" alt="img">listenersè§£å†³é—®é¢˜çš„è¿‡ç¨‹ï¼š</p><p>Cç»„ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;C&#x27;</span>,&#123; </span><br><span class="line">     <span class="attr">template</span>:<span class="string">` </span></span><br><span class="line"><span class="string">     &lt;div&gt; </span></span><br><span class="line"><span class="string">     &lt;input type=&quot;text&quot; v-model=&quot;$attrs.messageC&quot; @input=&quot;passCData($attrs.messageC)&quot;&gt; </span></span><br><span class="line"><span class="string">     &lt;/div&gt; </span></span><br><span class="line"><span class="string">     `</span>, </span><br><span class="line">     <span class="attr">methods</span>:&#123; </span><br><span class="line">         <span class="title function_">passCData</span>(<span class="params">val</span>)&#123; </span><br><span class="line">             <span class="comment">//è§¦å‘çˆ¶ç»„ä»¶Aä¸­çš„äº‹ä»¶ </span></span><br><span class="line">             <span class="variable language_">this</span>.$emit(<span class="string">&#x27;getCData&#x27;</span>,val) </span><br><span class="line">         &#125; </span><br><span class="line">     &#125; </span><br><span class="line">&#125;) </span><br></pre></td></tr></table></figure><p>Bç»„ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;B&#x27;</span>,&#123; </span><br><span class="line"> <span class="title function_">data</span>(<span class="params"></span>)&#123; </span><br><span class="line">     <span class="keyword">return</span> &#123; </span><br><span class="line">         <span class="attr">myMessage</span>:<span class="variable language_">this</span>.<span class="property">message</span> </span><br><span class="line">     &#125; </span><br><span class="line"> &#125;, </span><br><span class="line"> <span class="attr">template</span>:<span class="string">` </span></span><br><span class="line"><span class="string"> &lt;div&gt; </span></span><br><span class="line"><span class="string"> &lt;input type=&quot;text&quot; v-model=&quot;myMessage&quot; @input=&quot;passData(myMessage)&quot;&gt; </span></span><br><span class="line"><span class="string"> &lt;C v-bind=&quot;$attrs&quot; v-on=&quot;$listeners&quot;&gt;&lt;/C&gt; </span></span><br><span class="line"><span class="string"> &lt;/div&gt; </span></span><br><span class="line"><span class="string"> `</span>, </span><br><span class="line"> <span class="comment">//å¾—åˆ°çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ•°æ® </span></span><br><span class="line"> <span class="attr">props</span>:[<span class="string">&#x27;message&#x27;</span>], </span><br><span class="line"> <span class="attr">methods</span>:&#123; </span><br><span class="line">     <span class="title function_">passData</span>(<span class="params">val</span>)&#123; </span><br><span class="line">         <span class="comment">//è§¦å‘çˆ¶ç»„ä»¶ä¸­çš„äº‹ä»¶ </span></span><br><span class="line">         <span class="variable language_">this</span>.$emit(<span class="string">&#x27;getChildData&#x27;</span>,val) </span><br><span class="line">     &#125; </span><br><span class="line"> &#125; </span><br><span class="line">&#125;) </span><br></pre></td></tr></table></figure><p>Aç»„ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;A&#x27;</span>,&#123; </span><br><span class="line"> <span class="attr">template</span>:<span class="string">` </span></span><br><span class="line"><span class="string"> &lt;div&gt; </span></span><br><span class="line"><span class="string"> &lt;p&gt;this is parent compoent!&lt;/p&gt; </span></span><br><span class="line"><span class="string"> &lt;B  </span></span><br><span class="line"><span class="string"> :messageC=&quot;messageC&quot;  </span></span><br><span class="line"><span class="string"> :message=&quot;message&quot;  </span></span><br><span class="line"><span class="string"> v-on:getCData=&quot;getCData&quot;  </span></span><br><span class="line"><span class="string"> v-on:getChildData=&quot;getChildData(message)&quot;&gt; </span></span><br><span class="line"><span class="string"> &lt;/B&gt; </span></span><br><span class="line"><span class="string"> &lt;/div&gt; </span></span><br><span class="line"><span class="string"> `</span>, </span><br><span class="line"> <span class="title function_">data</span>(<span class="params"></span>)&#123; </span><br><span class="line">     <span class="keyword">return</span> &#123; </span><br><span class="line">         <span class="attr">message</span>:<span class="string">&#x27;Hello&#x27;</span>, </span><br><span class="line">         <span class="attr">messageC</span>:<span class="string">&#x27;Hello c&#x27;</span> </span><br><span class="line">     &#125; </span><br><span class="line"> &#125;, </span><br><span class="line"> <span class="attr">methods</span>:&#123; </span><br><span class="line">     <span class="title function_">getChildData</span>(<span class="params">val</span>)&#123; </span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è¿™æ˜¯æ¥è‡ªBç»„ä»¶çš„æ•°æ®&#x27;</span>) </span><br><span class="line">     &#125;, </span><br><span class="line">     <span class="comment">//æ‰§è¡ŒCå­ç»„ä»¶è§¦å‘çš„äº‹ä»¶ </span></span><br><span class="line">     <span class="title function_">getCData</span>(<span class="params">val</span>)&#123; </span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;è¿™æ˜¯æ¥è‡ªCç»„ä»¶çš„æ•°æ®ï¼š&quot;</span>+val) </span><br><span class="line">     &#125; </span><br><span class="line"> &#125; </span><br><span class="line">&#125;) </span><br><span class="line"><span class="keyword">var</span> app=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123; </span><br><span class="line"> <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>, </span><br><span class="line"> <span class="attr">template</span>:<span class="string">` </span></span><br><span class="line"><span class="string"> &lt;div&gt; </span></span><br><span class="line"><span class="string"> &lt;A&gt;&lt;/A&gt; </span></span><br><span class="line"><span class="string"> &lt;/div&gt; </span></span><br><span class="line"><span class="string"> `</span> </span><br><span class="line">&#125;) </span><br></pre></td></tr></table></figure><p><strong>è§£æï¼š</strong></p><ul><li>Cç»„ä»¶ä¸­èƒ½ç›´æ¥è§¦å‘getCDataçš„åŸå› åœ¨äº Bç»„ä»¶è°ƒç”¨Cç»„ä»¶æ—¶ ä½¿ç”¨ v-on ç»‘å®šäº†$listeners å±æ€§</li><li>é€šè¿‡v-bind ç»‘å®š$attrså±æ€§ï¼ŒCç»„ä»¶å¯ä»¥ç›´æ¥è·å–åˆ°Aç»„ä»¶ä¸­ä¼ é€’ä¸‹æ¥çš„props(é™¤äº†Bç»„ä»¶ä¸­propså£°æ˜çš„)</li></ul><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646128655053/F98E288D764804F2354ED35EC26D637C" alt="img"></p><h4 id="1-18-ç»„å»ºä¼ å€¼ï¼Œäº‹ä»¶æ€»çº¿æ˜¯æ€ä¹ˆç”¨çš„"><a href="#1-18-ç»„å»ºä¼ å€¼ï¼Œäº‹ä»¶æ€»çº¿æ˜¯æ€ä¹ˆç”¨çš„" class="headerlink" title="1.18 ç»„å»ºä¼ å€¼ï¼Œäº‹ä»¶æ€»çº¿æ˜¯æ€ä¹ˆç”¨çš„"></a>1.18 ç»„å»ºä¼ å€¼ï¼Œäº‹ä»¶æ€»çº¿æ˜¯æ€ä¹ˆç”¨çš„</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p><strong>ä¸­å¤®äº‹ä»¶æ€»çº¿</strong>ä¸»è¦ç”¨æ¥è§£å†³å…„å¼Ÿç»„ä»¶é€šä¿¡çš„é—®é¢˜ã€‚</p><p>å®ç°æ–¹å¼ï¼šæ–°å»ºä¸€ä¸ªVueäº‹ä»¶buså¯¹è±¡ï¼Œç„¶åé€šè¿‡bus.<img src="https://www.nowcoder.com/equation?tex=emit%E8%A7%A6%E5%8F%91%E4%BA%8B%E4%BB%B6%EF%BC%8Cbus.&preview=true" alt="img">onç›‘å¬è§¦å‘çš„äº‹ä»¶ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(&#x27;brother1&#x27;,&#123; </span><br><span class="line"> data()&#123; </span><br><span class="line">     return &#123; </span><br><span class="line">        myMessage:&#x27;Hello brother1&#x27; </span><br><span class="line">     &#125; </span><br><span class="line"> &#125;, </span><br><span class="line"> template:` </span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span>&gt;</span> </span><br><span class="line"> <span class="tag">&lt;<span class="name">p</span>&gt;</span>this is brother1 compoent!<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line"> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;myMessage&quot;</span> @<span class="attr">input</span>=<span class="string">&quot;passData(myMessage)&quot;</span>&gt;</span> </span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"> `, </span><br><span class="line"> methods:&#123; </span><br><span class="line">     passData(val)&#123; </span><br><span class="line">         //è§¦å‘å…¨å±€äº‹ä»¶globalEvent </span><br><span class="line">         bus.$emit(&#x27;globalEvent&#x27;,val) </span><br><span class="line">     &#125; </span><br><span class="line"> &#125; </span><br><span class="line">&#125;) </span><br><span class="line">Vue.component(&#x27;brother2&#x27;,&#123; </span><br><span class="line"> template:` </span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span>&gt;</span> </span><br><span class="line"> <span class="tag">&lt;<span class="name">p</span>&gt;</span>this is brother2 compoent!<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line"> <span class="tag">&lt;<span class="name">p</span>&gt;</span>brother1ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼š&#123;&#123;brothermessage&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"> `, </span><br><span class="line"> data()&#123; </span><br><span class="line">     return &#123; </span><br><span class="line">         myMessage:&#x27;Hello brother2&#x27;, </span><br><span class="line">         brothermessage:&#x27;&#x27; </span><br><span class="line">     &#125; </span><br><span class="line"> &#125;, </span><br><span class="line"> mounted()&#123; </span><br><span class="line">      //ç»‘å®šå…¨å±€äº‹ä»¶globalEvent </span><br><span class="line">     bus.$on(&#x27;globalEvent&#x27;,(val)=&gt;&#123; </span><br><span class="line">        this.brothermessage=val; </span><br><span class="line">     &#125;) </span><br><span class="line"> &#125; </span><br><span class="line">&#125;) </span><br><span class="line">//ä¸­å¤®äº‹ä»¶æ€»çº¿ </span><br><span class="line">var bus=new Vue(); </span><br><span class="line">var app=new Vue(&#123; </span><br><span class="line"> el:&#x27;#app&#x27;, </span><br><span class="line"> template:` </span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span>&gt;</span> </span><br><span class="line"> <span class="tag">&lt;<span class="name">brother1</span>&gt;</span><span class="tag">&lt;/<span class="name">brother1</span>&gt;</span> </span><br><span class="line"> <span class="tag">&lt;<span class="name">brother2</span>&gt;</span><span class="tag">&lt;/<span class="name">brother2</span>&gt;</span> </span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"> ` </span><br><span class="line">&#125;) </span><br></pre></td></tr></table></figure><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646128668820/B30491C32F761B02007519727B8B2DF9" alt="img"></p><h4 id="1-19-vueç”Ÿå‘½å‘¨æœŸä¸­å¼‚æ­¥åŠ è½½åœ¨moutedè¿˜æ˜¯createé‡Œå®ç°"><a href="#1-19-vueç”Ÿå‘½å‘¨æœŸä¸­å¼‚æ­¥åŠ è½½åœ¨moutedè¿˜æ˜¯createé‡Œå®ç°" class="headerlink" title="1.19 vueç”Ÿå‘½å‘¨æœŸä¸­å¼‚æ­¥åŠ è½½åœ¨moutedè¿˜æ˜¯createé‡Œå®ç°"></a>1.19 vueç”Ÿå‘½å‘¨æœŸä¸­å¼‚æ­¥åŠ è½½åœ¨moutedè¿˜æ˜¯createé‡Œå®ç°</h4><p><strong>å‚è€ƒç­”æ¡ˆ:</strong></p><p>æœ€å¸¸ç”¨çš„æ˜¯åœ¨ created é’©å­å‡½æ•°ä¸­è°ƒç”¨å¼‚æ­¥è¯·æ±‚</p><p><strong>è§£æï¼š</strong></p><p>ä¸€èˆ¬æ¥è¯´ï¼Œå¯ä»¥åœ¨ï¼Œcreatedï¼Œmountedä¸­éƒ½å¯ä»¥å‘é€æ•°æ®è¯·æ±‚ï¼Œä½†æ˜¯ï¼Œå¤§éƒ¨åˆ†æ—¶å€™ï¼Œä¼šåœ¨createdå‘é€è¯·æ±‚ã€‚<br>Createdçš„ä½¿ç”¨åœºæ™¯ï¼šå¦‚æœé¡µé¢é¦–æ¬¡æ¸²æŸ“çš„å°±æ¥è‡ªåç«¯æ•°æ®ã€‚å› ä¸ºï¼Œæ­¤æ—¶dataå·²ç»æŒ‚è½½åˆ°vueå®ä¾‹äº†ã€‚<br>åœ¨ createdï¼ˆå¦‚æœå¸Œæœ›é¦–æ¬¡é€‰çš„æ•°æ®æ¥è‡ªäºåç«¯ï¼Œå°±åœ¨æ­¤å¤„å‘è¯·æ±‚ï¼‰ï¼ˆåªå‘äº†å¼‚æ­¥è¯·æ±‚ï¼Œæ¸²æŸ“æ˜¯åœ¨åç«¯å“åº”ä¹‹åæ‰è¿›è¡Œçš„ï¼‰ã€beforeMountã€mountedï¼ˆåœ¨mountedä¸­å‘è¯·æ±‚ä¼šè¿›è¡ŒäºŒæ¬¡æ¸²æŸ“ï¼‰ è¿™ä¸‰ä¸ªé’©å­å‡½æ•°ä¸­è¿›è¡Œè°ƒç”¨ã€‚<br>å› ä¸ºåœ¨è¿™ä¸‰ä¸ªé’©å­å‡½æ•°ä¸­ï¼Œdata å·²ç»åˆ›å»ºï¼Œå¯ä»¥å°†æœåŠ¡ç«¯ç«¯è¿”å›çš„æ•°æ®è¿›è¡Œèµ‹å€¼ã€‚ä½†æ˜¯<strong>æœ€å¸¸ç”¨çš„æ˜¯åœ¨ created é’©å­å‡½æ•°ä¸­è°ƒç”¨å¼‚æ­¥è¯·æ±‚</strong>ï¼Œå› ä¸ºåœ¨ created é’©å­å‡½æ•°ä¸­è°ƒç”¨å¼‚æ­¥è¯·æ±‚æœ‰ä¸¤ä¸ªä¼˜ç‚¹ï¼š<br>ç¬¬ä¸€ç‚¹ï¼šèƒ½æ›´å¿«è·å–åˆ°æœåŠ¡ç«¯æ•°æ®ï¼Œå‡å°‘é¡µé¢ loading æ—¶é—´ï¼›<br>ç¬¬äºŒç‚¹ï¼šæ”¾åœ¨ created ä¸­æœ‰åŠ©äºä¸€è‡´æ€§ï¼Œå› ä¸ºssr ä¸æ”¯æŒ beforeMount ã€mounted é’©å­å‡½æ•°ã€‚</p><h4 id="1-20-vueé’©å­å‡½æ•°-é‡ç‚¹é—®äº†keep-alive"><a href="#1-20-vueé’©å­å‡½æ•°-é‡ç‚¹é—®äº†keep-alive" class="headerlink" title="1.20 vueé’©å­å‡½æ•°(é‡ç‚¹é—®äº†keep-alive)"></a>1.20 vueé’©å­å‡½æ•°(é‡ç‚¹é—®äº†keep-alive)</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646128702563/F5DFA24F5FDFC338D5D73739BF09C491" alt="img">Vueç”Ÿå‘½å‘¨æœŸç»å†å“ªäº›é˜¶æ®µï¼š</p><ol><li>æ€»ä½“æ¥è¯´ï¼šåˆå§‹åŒ–ã€è¿è¡Œä¸­ã€é”€æ¯</li><li>è¯¦ç»†æ¥è¯´ï¼šå¼€å§‹åˆ›å»ºã€åˆå§‹åŒ–æ•°æ®ã€ç¼–è¯‘æ¨¡æ¿ã€æŒ‚è½½Domã€æ¸²æŸ“â†’æ›´æ–°â†’æ¸²æŸ“ã€é”€æ¯ç­‰ä¸€ç³»åˆ—è¿‡ç¨‹</li></ol><p>ç”Ÿå‘½å‘¨æœŸç»å†çš„é˜¶æ®µå’Œé’©å­å‡½æ•°:</p><ol><li><p>å®ä¾‹åŒ–vue(ç»„ä»¶)å¯¹è±¡ï¼šnew Vue()</p></li><li><p>åˆå§‹åŒ–äº‹ä»¶å’Œç”Ÿå‘½å‘¨æœŸ init events å’Œ init cycle</p></li><li><p>beforeCreateå‡½æ•°ï¼š</p><p>åœ¨å®ä¾‹åˆå§‹åŒ–ä¹‹åï¼Œæ•°æ®è§‚æµ‹ (data observer) å’Œ event&#x2F;watcher äº‹ä»¶é…ç½®ä¹‹å‰è¢«è°ƒç”¨ã€‚</p><p>å³æ­¤æ—¶vueï¼ˆç»„ä»¶ï¼‰å¯¹è±¡è¢«åˆ›å»ºäº†ï¼Œä½†æ˜¯vueå¯¹è±¡çš„å±æ€§è¿˜æ²¡æœ‰ç»‘å®šï¼Œå¦‚dataå±æ€§ï¼Œcomputedå±æ€§è¿˜æ²¡æœ‰ç»‘å®šï¼Œå³æ²¡æœ‰å€¼ã€‚</p><p>æ­¤æ—¶è¿˜æ²¡æœ‰æ•°æ®å’ŒçœŸå®DOMã€‚</p><p>å³ï¼šå±æ€§è¿˜æ²¡æœ‰èµ‹å€¼ï¼Œä¹Ÿæ²¡æœ‰åŠ¨æ€åˆ›å»ºtemplateå±æ€§å¯¹åº”çš„HTMLå…ƒç´ ï¼ˆäºŒé˜¶æ®µçš„createUIå‡½æ•°è¿˜æ²¡æœ‰æ‰§è¡Œï¼‰</p></li><li><p>æŒ‚è½½æ•°æ®ï¼ˆå±æ€§èµ‹å€¼ï¼‰</p><p>åŒ…æ‹¬ å±æ€§å’Œcomputedçš„è¿ç®—</p></li><li><p>Createdå‡½æ•°ï¼š</p><p>vueå¯¹è±¡çš„å±æ€§æœ‰å€¼äº†ï¼Œä½†æ˜¯DOMè¿˜æ²¡æœ‰ç”Ÿæˆï¼Œ$elå±æ€§è¿˜ä¸å­˜åœ¨ã€‚</p><p>æ­¤æ—¶æœ‰æ•°æ®äº†ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰çœŸå®çš„DOM</p><p>å³ï¼šdataï¼Œcomputedéƒ½æ‰§è¡Œäº†ã€‚å±æ€§å·²ç»èµ‹å€¼ï¼Œä½†æ²¡æœ‰åŠ¨æ€åˆ›å»ºtemplateå±æ€§å¯¹åº”çš„HTMLå…ƒç´ ï¼Œæ‰€ä»¥ï¼Œæ­¤æ—¶å¦‚æœæ›´æ”¹æ•°æ®ä¸ä¼šè§¦å‘updatedå‡½æ•°</p><p>å¦‚æœï¼šæ•°æ®çš„åˆå§‹å€¼å°±æ¥è‡ªäºåç«¯ï¼Œå¯ä»¥å‘é€ajaxï¼Œæˆ–è€…fetchè¯·æ±‚è·å–æ•°æ®ï¼Œä½†æ˜¯ï¼Œæ­¤æ—¶ä¸ä¼šè§¦å‘updatedå‡½æ•°</p><ol><li>æ£€æŸ¥</li></ol></li></ol><p>6.1 æ£€æŸ¥æ˜¯å¦æœ‰elå±æ€§<br>æ£€æŸ¥vueé…ç½®ï¼Œå³new Vue{}é‡Œé¢çš„elé¡¹æ˜¯å¦å­˜åœ¨ï¼Œæœ‰å°±ç»§ç»­æ£€æŸ¥templateé¡¹ã€‚æ²¡æœ‰åˆ™ç­‰åˆ°æ‰‹åŠ¨ç»‘å®šè°ƒç”¨ vm.<img src="https://www.nowcoder.com/equation?tex=mount()%E5%AE%8C%E6%88%90%E4%BA%86%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F&preview=true" alt="img">elçš„ç»‘å®šã€‚</p><p>6.2 æ£€æŸ¥æ˜¯å¦æœ‰templateå±æ€§</p><p>æ£€æŸ¥é…ç½®ä¸­çš„templateé¡¹ï¼Œå¦‚æœæ²¡æœ‰templateè¿›è¡Œå¡«å……è¢«ç»‘å®šåŒºåŸŸï¼Œåˆ™è¢«ç»‘å®šåŒºåŸŸçš„elå¯¹outerHTMLï¼ˆå³ æ•´ä¸ª#app DOMå¯¹è±¡ï¼ŒåŒ…æ‹¬</p><p>å’Œ</p><p>æ ‡ç­¾ï¼‰éƒ½ä½œä¸ºè¢«å¡«å……å¯¹è±¡æ›¿æ¢æ‰å¡«å……åŒºåŸŸã€‚å³ï¼š å¦‚æœvueå¯¹è±¡ä¸­æœ‰ templateå±æ€§ï¼Œé‚£ä¹ˆï¼Œtemplateåé¢çš„HTMLä¼šæ›¿æ¢$elå¯¹åº”çš„å†…å®¹ã€‚å¦‚æœæœ‰renderå± æ€§ï¼Œé‚£ä¹ˆrenderå°±ä¼šæ›¿æ¢templateã€‚ å³ï¼šä¼˜å…ˆå…³ç³»æ—¶ï¼š render &gt; template &gt; el</p><p><keep-alive></keep-alive>åŒ…è£¹åŠ¨æ€ç»„ä»¶æ—¶ï¼Œä¼šç¼“å­˜ä¸æ´»åŠ¨çš„ç»„ä»¶å®ä¾‹,ä¸»è¦ç”¨äºä¿ç•™ç»„ä»¶çŠ¶æ€æˆ–é¿å…é‡æ–°æ¸²æŸ“ã€‚</p><p><strong>è§£æï¼š</strong> æ¯”å¦‚æœ‰ä¸€ä¸ªåˆ—è¡¨å’Œä¸€ä¸ªè¯¦æƒ…ï¼Œé‚£ä¹ˆç”¨æˆ·å°±ä¼šç»å¸¸æ‰§è¡Œæ‰“å¼€è¯¦æƒ…&#x3D;&gt;è¿”å›åˆ—è¡¨&#x3D;&gt;æ‰“å¼€è¯¦æƒ…â€¦è¿™æ ·çš„è¯åˆ—è¡¨å’Œè¯¦æƒ…éƒ½æ˜¯ä¸€ä¸ªé¢‘ç‡å¾ˆé«˜çš„é¡µé¢ï¼Œé‚£ä¹ˆå°±å¯ä»¥å¯¹åˆ—è¡¨ç»„ä»¶ä½¿ç”¨<keep-alive></keep-alive>è¿›è¡Œç¼“å­˜ï¼Œè¿™æ ·ç”¨æˆ·æ¯æ¬¡è¿”å›åˆ—è¡¨çš„æ—¶å€™ï¼Œéƒ½èƒ½ä»ç¼“å­˜ä¸­å¿«é€Ÿæ¸²æŸ“ï¼Œè€Œä¸æ˜¯é‡æ–°æ¸²æŸ“</p><h4 id="1-21-vue-keep-alive"><a href="#1-21-vue-keep-alive" class="headerlink" title="1.21 vue keep-alive"></a>1.21 vue keep-alive</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p><strong>keep-alive</strong>ï¼škeep-aliveå¯ä»¥å®ç°ç»„ä»¶ç¼“å­˜ï¼Œæ˜¯Vue.jsçš„ä¸€ä¸ªå†…ç½®ç»„ä»¶ã€‚</p><p>ä½œç”¨ï¼š</p><ol><li>å®ƒèƒ½å¤ŸæŠŠä¸æ´»åŠ¨çš„ç»„ä»¶å®ä¾‹ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œè€Œä¸æ˜¯ç›´æ¥å°†å…¶é”€æ¯</li><li>å®ƒæ˜¯ä¸€ä¸ªæŠ½è±¡ç»„ä»¶ï¼Œä¸ä¼šè¢«æ¸²æŸ“åˆ°çœŸå®DOMä¸­ï¼Œä¹Ÿä¸ä¼šå‡ºç°åœ¨çˆ¶ç»„ä»¶é“¾ä¸­</li></ol><p>ä½¿ç”¨æ–¹å¼ï¼š</p><ol><li>å¸¸ç”¨çš„ä¸¤ä¸ªå±æ€§include&#x2F;excludeï¼Œå…è®¸ç»„ä»¶æœ‰æ¡ä»¶çš„è¿›è¡Œç¼“å­˜ã€‚</li><li>ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸactivated&#x2F;deactivatedï¼Œç”¨æ¥å¾—çŸ¥å½“å‰ç»„ä»¶æ˜¯å¦å¤„äºæ´»è·ƒçŠ¶æ€ã€‚</li><li>keep-aliveçš„ä¸­è¿˜è¿ç”¨äº†LRU(Least Recently Used)ç®—æ³•ã€‚</li></ol><p>åŸç†ï¼šVue çš„ç¼“å­˜æœºåˆ¶å¹¶ä¸æ˜¯ç›´æ¥å­˜å‚¨ DOM ç»“æ„ï¼Œè€Œæ˜¯å°† DOM èŠ‚ç‚¹æŠ½è±¡æˆäº†ä¸€ä¸ªä¸ª VNodeèŠ‚ç‚¹ï¼Œæ‰€ä»¥ï¼Œkeep- aliveçš„ç¼“å­˜ä¹Ÿæ˜¯åŸºäºVNodeèŠ‚ç‚¹çš„è€Œä¸æ˜¯ç›´æ¥å­˜å‚¨DOMç»“æ„ã€‚</p><p>å…¶å®å°±æ˜¯å°†éœ€è¦ç¼“å­˜çš„VNodeèŠ‚ç‚¹ä¿å­˜åœ¨this.cacheä¸­ï¼åœ¨renderæ—¶,å¦‚æœVNodeçš„nameç¬¦åˆåœ¨ç¼“å­˜æ¡ä»¶ï¼ˆå¯ä»¥ç”¨includeä»¥åŠexcludeæ§åˆ¶ï¼‰ï¼Œåˆ™ä¼šä»this.cacheä¸­å–å‡ºä¹‹å‰ç¼“å­˜çš„VNodeå®ä¾‹è¿›è¡Œæ¸²æŸ“ã€‚</p><h4 id="1-22-æ—¢ç„¶å‡½æ•°æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¸ºä»€ä¹ˆ-vue-çš„-data-è¿˜æ˜¯å¯ä»¥ç”¨å‡½æ•°"><a href="#1-22-æ—¢ç„¶å‡½æ•°æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¸ºä»€ä¹ˆ-vue-çš„-data-è¿˜æ˜¯å¯ä»¥ç”¨å‡½æ•°" class="headerlink" title="1.22 æ—¢ç„¶å‡½æ•°æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¸ºä»€ä¹ˆ vue çš„ data è¿˜æ˜¯å¯ä»¥ç”¨å‡½æ•°"></a>1.22 æ—¢ç„¶å‡½æ•°æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¸ºä»€ä¹ˆ vue çš„ data è¿˜æ˜¯å¯ä»¥ç”¨å‡½æ•°</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>JavaScriptåªæœ‰å‡½æ•°æ„æˆä½œç”¨åŸŸ(æ³¨æ„ç†è§£ä½œç”¨åŸŸï¼Œ<strong>åªæœ‰å‡½æ•°{}æ„æˆä½œç”¨åŸŸ</strong>,å¯¹è±¡çš„{}ä»¥åŠif(){}éƒ½ä¸æ„æˆä½œç”¨åŸŸ),dataæ˜¯ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œæ¯ä¸ªç»„ä»¶å®ä¾‹éƒ½æœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼Œæ¯ä¸ªå®ä¾‹ç›¸äº’ç‹¬ç«‹ï¼Œä¸ä¼šç›¸äº’å½±å“ã€‚</p><h4 id="1-23-vue-ä¸­-nextTick-ä½œç”¨ä¸åŸç†"><a href="#1-23-vue-ä¸­-nextTick-ä½œç”¨ä¸åŸç†" class="headerlink" title="1.23 vue ä¸­ $nextTick ä½œç”¨ä¸åŸç†"></a>1.23 vue ä¸­ $nextTick ä½œç”¨ä¸åŸç†</h4><p><strong>å‚è€ƒç­”æ¡ˆ:</strong></p><p>ä½œç”¨ï¼šæ˜¯ä¸ºäº†å¯ä»¥è·å–æ›´æ–°åçš„DOM ã€‚</p><p>ç”±äºVue DOMæ›´æ–°æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œå³ä¿®æ”¹æ•°æ®æ—¶ï¼Œè§†å›¾ä¸ä¼šç«‹å³æ›´æ–°ï¼Œè€Œæ˜¯ä¼šç›‘å¬æ•°æ®å˜åŒ–ï¼Œå¹¶ç¼“å­˜åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­ï¼Œç­‰åŒä¸€æ•°æ®å¾ªç¯ä¸­çš„æ‰€æœ‰æ•°æ®å˜åŒ–å®Œæˆä¹‹åï¼Œå†ç»Ÿä¸€è¿›è¡Œè§†å›¾æ›´æ–°ã€‚ä¸ºäº†ç¡®ä¿å¾—åˆ°æ›´æ–°åçš„DOMï¼Œæ‰€ä»¥è®¾ç½®äº† Vue.nextTick()ï¼Œå°±æ˜¯åœ¨ä¸‹æ¬¡DOMæ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒã€‚åœ¨ä¿®æ”¹æ•°æ®ä¹‹åç«‹å³ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè·å–æ›´æ–°åçš„DOMã€‚</p><p>åŸç†ï¼š</p><p>åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒã€‚nextTickä¸»è¦ä½¿ç”¨äº†å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ã€‚æ ¹æ®æ‰§è¡Œç¯å¢ƒåˆ†åˆ«å°è¯•é‡‡ç”¨</p><ul><li>Promise</li><li>MutationObserver</li><li>setImmediate</li><li>å¦‚æœä»¥ä¸Šéƒ½ä¸è¡Œåˆ™é‡‡ç”¨setTimeout</li></ul><p>å®šä¹‰äº†ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ï¼Œå¤šæ¬¡è°ƒç”¨nextTickä¼šå°†æ–¹æ³•å­˜å…¥é˜Ÿåˆ—ä¸­ï¼Œé€šè¿‡è¿™ä¸ªå¼‚æ­¥æ–¹æ³•æ¸…ç©ºå½“å‰é˜Ÿåˆ—ã€‚</p><h4 id="1-24-vueçš„ç‰¹æ€§"><a href="#1-24-vueçš„ç‰¹æ€§" class="headerlink" title="1.24 vueçš„ç‰¹æ€§"></a>1.24 vueçš„ç‰¹æ€§</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><ul><li>è¡¨å•æ“ä½œ</li><li>è‡ªå®šä¹‰æŒ‡ä»¤</li><li>è®¡ç®—å±æ€§</li><li>è¿‡æ»¤å™¨</li><li>ä¾¦å¬å™¨</li><li>ç”Ÿå‘½å‘¨æœŸ</li></ul><h4 id="1-25-v-if-v-showåŒºåˆ«"><a href="#1-25-v-if-v-showåŒºåˆ«" class="headerlink" title="1.25 v-if v-showåŒºåˆ«"></a>1.25 v-if v-showåŒºåˆ«</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>v-showå’Œv-iféƒ½æ˜¯ç”¨æ¥æ˜¾ç¤ºéšè—å…ƒç´ ï¼Œv-ifè¿˜æœ‰ä¸€ä¸ªv-elseé…åˆä½¿ç”¨ï¼Œä¸¤è€…è¾¾åˆ°çš„æ•ˆæœéƒ½ä¸€æ ·ï¼Œä½†æ˜¯v-ifæ›´æ¶ˆè€—æ€§èƒ½çš„ï¼Œå› ä¸ºv-ifåœ¨æ˜¾ç¤ºéšè—è¿‡ç¨‹ä¸­æœ‰DOMçš„æ·»åŠ å’Œåˆ é™¤ï¼Œv-showå°±ç®€å•å¤šäº†ï¼Œåªæ˜¯æ“ä½œcssã€‚</p><p><strong>è§£æï¼š</strong></p><p>v-show</p><p>v-showä¸ç®¡æ¡ä»¶æ˜¯çœŸè¿˜æ˜¯å‡ï¼Œç¬¬ä¸€æ¬¡æ¸²æŸ“çš„æ—¶å€™éƒ½ä¼šç¼–è¯‘å‡ºæ¥ï¼Œä¹Ÿå°±æ˜¯æ ‡ç­¾éƒ½ä¼šæ·»åŠ åˆ°DOMä¸­ã€‚ä¹‹ååˆ‡æ¢çš„æ—¶å€™ï¼Œé€šè¿‡display: none;æ ·å¼æ¥æ˜¾ç¤ºéšè—å…ƒç´ ã€‚å¯ä»¥è¯´åªæ˜¯æ”¹å˜cssçš„æ ·å¼ï¼Œå‡ ä¹ä¸ä¼šå½±å“ä»€ä¹ˆæ€§èƒ½ã€‚</p><p>v-if</p><p>åœ¨é¦–æ¬¡æ¸²æŸ“çš„æ—¶å€™ï¼Œå¦‚æœæ¡ä»¶ä¸ºå‡ï¼Œä»€ä¹ˆä¹Ÿä¸æ“ä½œï¼Œé¡µé¢å½“ä½œæ²¡æœ‰è¿™äº›å…ƒç´ ã€‚å½“æ¡ä»¶ä¸ºçœŸçš„æ—¶å€™ï¼Œå¼€å§‹å±€éƒ¨ç¼–è¯‘ï¼ŒåŠ¨æ€çš„å‘DOMå…ƒç´ é‡Œé¢æ·»åŠ å…ƒç´ ã€‚å½“æ¡ä»¶ä»çœŸå˜ä¸ºå‡çš„æ—¶å€™ï¼Œå¼€å§‹å±€éƒ¨ç¼–è¯‘ï¼Œå¸è½½è¿™äº›å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯åˆ é™¤ã€‚</p><h4 id="1-26-Vue-åˆ—è¡¨ä¸ºä»€ä¹ˆåŠ -key"><a href="#1-26-Vue-åˆ—è¡¨ä¸ºä»€ä¹ˆåŠ -key" class="headerlink" title="1.26 Vue åˆ—è¡¨ä¸ºä»€ä¹ˆåŠ  key"></a>1.26 Vue åˆ—è¡¨ä¸ºä»€ä¹ˆåŠ  key</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>vueä¸­åˆ—è¡¨å¾ªç¯éœ€åŠ :key&#x3D;â€å”¯ä¸€æ ‡è¯†â€ å”¯ä¸€æ ‡è¯†ä¸”æœ€å¥½æ˜¯é™æ€çš„ï¼Œå› ä¸ºvueç»„ä»¶é«˜åº¦å¤ç”¨å¢åŠ Keyå¯ä»¥æ ‡è¯†ç»„ä»¶çš„å”¯ä¸€æ€§ï¼Œä¸ºäº†æ›´å¥½åœ°åŒºåˆ«å„ä¸ªç»„ä»¶ keyçš„ä½œç”¨ä¸»è¦æ˜¯ä¸ºäº†é«˜æ•ˆçš„æ›´æ–°è™šæ‹ŸDOM</p><p><strong>è§£æï¼š</strong></p><p>vueå’Œreactçš„è™šæ‹ŸDOMçš„Diffç®—æ³•å¤§è‡´ç›¸åŒï¼Œå…¶æ ¸å¿ƒæ˜¯åŸºäºä¸¤ä¸ªç®€å•çš„å‡è®¾<br>é¦–å…ˆè®²ä¸€ä¸‹diffç®—æ³•çš„å¤„ç†æ–¹æ³•ï¼Œå¯¹æ“ä½œå‰åçš„domæ ‘åŒä¸€å±‚çš„èŠ‚ç‚¹è¿›è¡Œå¯¹æ¯”ï¼Œä¸€å±‚ä¸€å±‚å¯¹æ¯”ï¼Œ</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646128744220/448BD33DD57542E1E6A5B03957CC7034" alt="img"></p><p>å½“æŸä¸€å±‚æœ‰å¾ˆå¤šç›¸åŒçš„èŠ‚ç‚¹æ—¶ï¼Œä¹Ÿå°±æ˜¯åˆ—è¡¨èŠ‚ç‚¹æ—¶ï¼ŒDiffç®—æ³•çš„æ›´æ–°è¿‡ç¨‹é»˜è®¤æƒ…å†µä¸‹ä¹Ÿæ˜¯éµå¾ªä»¥ä¸ŠåŸåˆ™ã€‚</p><p>æ¯”å¦‚ä¸€ä¸‹è¿™ä¸ªæƒ…å†µï¼š</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646128758816/EAA1B46F9F910D663C45A96D03B305C4" alt="img"></p><p>å¯ä»¥åœ¨Bå’ŒCä¹‹é—´åŠ ä¸€ä¸ªFï¼ŒDiffç®—æ³•é»˜è®¤æ‰§è¡Œèµ·æ¥æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646128776932/CE0C377B5746FC3BE8D5C8466A40AA87" alt="img"></p><p>å³æŠŠCæ›´æ–°æˆFï¼ŒDæ›´æ–°æˆCï¼ŒEæ›´æ–°æˆDï¼Œæœ€åå†æ’å…¥Eï¼Œæ˜¯ä¸æ˜¯å¾ˆæ²¡æœ‰æ•ˆç‡ï¼Ÿ</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨keyæ¥ç»™æ¯ä¸ªèŠ‚ç‚¹åšä¸€ä¸ªå”¯ä¸€æ ‡è¯†ï¼ŒDiffç®—æ³•å°±å¯ä»¥æ­£ç¡®çš„è¯†åˆ«æ­¤èŠ‚ç‚¹ï¼Œæ‰¾åˆ°æ­£ç¡®çš„ä½ç½®åŒºæ’å…¥æ–°çš„èŠ‚ç‚¹ã€‚</p><h4 id=""><a href="#" class="headerlink" title=""></a><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646128789653/536CB47A8208A5561AEC33A70324C88B" alt="img"></h4><h4 id="1-27-jquery-å’Œ-vueç›¸æ¯”"><a href="#1-27-jquery-å’Œ-vueç›¸æ¯”" class="headerlink" title="1.27 jquery å’Œ vueç›¸æ¯”"></a>1.27 jquery å’Œ vueç›¸æ¯”</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><ol><li>jqueryï¼šè½»é‡çº§çš„jsåº“</li><li>vueï¼šå‰ç«¯jsåº“ï¼Œæ˜¯ä¸€ä¸ªç²¾ç®€çš„MVVMï¼Œå®ƒä¸“æ³¨äºMVVMæ¨¡å‹çš„viewModelå±‚ï¼Œé€šè¿‡åŒå‘æ•°æ®ç»‘å®šæŠŠviewå’Œmodelå±‚è¿æ¥èµ·æ¥ï¼Œé€šè¿‡å¯¹æ•°æ®çš„æ“ä½œå°±å¯ä»¥å®Œæˆå¯¹é¡µé¢è§†å›¾çš„æ¸²æŸ“ã€‚</li></ol><table><thead><tr><th><strong>Vue</strong></th><th><strong>jQuery</strong></th></tr></thead><tbody><tr><td>æ•°æ®é©±åŠ¨è§†å›¾(MVVMæ€æƒ³:æ•°æ®è§†å›¾å®Œå…¨åˆ†ç¦»ï¼›æ•°æ®é©±åŠ¨ã€åŒå‘ç»‘å®šï¼›)</td><td>ç›´æ¥æ“ä½œDOM(è·å–ã€ä¿®æ”¹ã€èµ‹å€¼ã€äº‹ä»¶ç»‘å®š)</td></tr><tr><td>æ“ä½œç®€å•</td><td>æ“ä½œéº»çƒ¦</td></tr><tr><td>æ¨¡å—åŒ–</td><td>x</td></tr><tr><td>å®ç°å•é¡µé¢</td><td>x</td></tr><tr><td>ç»„ä»¶å¤ç”¨</td><td>x</td></tr><tr><td>æ€§èƒ½é«˜ï¼šä½¿ç”¨çš„è™šæ‹ŸDOMï¼Œå‡å°‘ domçš„æ“ä½œ</td><td>x</td></tr></tbody></table><p><strong>æ‰©å±•ï¼š</strong></p><ol><li>vueé€‚ç”¨çš„åœºæ™¯ï¼šå¤æ‚æ•°æ®æ“ä½œçš„åå°é¡µé¢ï¼Œè¡¨å•å¡«å†™é¡µé¢<ol><li>jqueryé€‚ç”¨çš„åœºæ™¯ï¼šæ¯”å¦‚è¯´ä¸€äº›html5çš„åŠ¨ç”»é¡µé¢ï¼Œä¸€äº›éœ€è¦jsæ¥æ“ä½œé¡µé¢æ ·å¼çš„é¡µé¢</li><li>äºŒè€…ä¹Ÿæ˜¯å¯ä»¥ç»“åˆèµ·æ¥ä¸€èµ·ä½¿ç”¨çš„ï¼Œvueä¾§é‡æ•°æ®ç»‘å®šï¼Œjqueryä¾§é‡æ ·å¼æ“ä½œï¼ŒåŠ¨ç”»æ•ˆæœç­‰ï¼Œåˆ™ä¼šæ›´åŠ é«˜æ•ˆç‡çš„å®Œæˆä¸šåŠ¡éœ€æ±‚</li></ol></li></ol><h4 id="1-28-ä¸ºä»€ä¹ˆé€‰æ‹©ç”¨vueåšé¡µé¢å±•ç¤º"><a href="#1-28-ä¸ºä»€ä¹ˆé€‰æ‹©ç”¨vueåšé¡µé¢å±•ç¤º" class="headerlink" title="1.28 ä¸ºä»€ä¹ˆé€‰æ‹©ç”¨vueåšé¡µé¢å±•ç¤º"></a>1.28 ä¸ºä»€ä¹ˆé€‰æ‹©ç”¨vueåšé¡µé¢å±•ç¤º</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><ul><li><p>MVVM æ¡†æ¶ï¼š</p><p>Vue æ­£æ˜¯ä½¿ç”¨äº†è¿™ç§ MVVM çš„æ¡†æ¶å½¢å¼ï¼Œå¹¶ä¸”é€šè¿‡å£°æ˜å¼æ¸²æŸ“å’Œå“åº”å¼æ•°æ®ç»‘å®šçš„æ–¹å¼æ¥å¸®åŠ©æˆ‘ä»¬å®Œå…¨é¿å…äº†å¯¹ DOM çš„æ“ä½œã€‚</p></li><li><p>å•é¡µé¢åº”ç”¨ç¨‹åº</p><p>Vue é…åˆç”Ÿæ€åœˆä¸­çš„ Vue-Router å°±å¯ä»¥éå¸¸æ–¹ä¾¿çš„å¼€å‘å¤æ‚çš„å•é¡µåº”ç”¨</p></li><li><p>è½»é‡åŒ–ä¸æ˜“å­¦ä¹ </p><p>Vue çš„ç”Ÿäº§ç‰ˆæœ¬åªæœ‰ 30.90KB çš„å¤§å°ï¼Œå‡ ä¹ä¸ä¼šå¯¹æˆ‘ä»¬çš„ç½‘é¡µåŠ è½½é€Ÿåº¦äº§ç”Ÿå½±å“ã€‚åŒæ—¶å› ä¸º Vue åªä¸“æ³¨äºè§†å›¾å±‚ï¼Œå•ç‹¬çš„ Vue å°±åƒä¸€ä¸ªåº“ä¸€æ ·ï¼Œæ‰€ä»¥ä½¿æˆ‘ä»¬çš„å­¦ä¹ æˆæœ¬å˜å¾—éå¸¸ä½</p></li><li><p>æ¸è¿›å¼ä¸å…¼å®¹æ€§</p><p>Vue çš„æ ¸å¿ƒåº“åªå…³æ³¨è§†å›¾å±‚ï¼Œä¸ä»…æ˜“äºä¸Šæ‰‹ï¼Œè¿˜ä¾¿äºä¸ç¬¬ä¸‰æ–¹åº“æˆ–æ—¢æœ‰é¡¹ç›®æ•´åˆã€‚Vue åªåšç•Œé¢ï¼Œè€ŒæŠŠå…¶ä»–çš„ä¸€åˆ‡éƒ½äº¤ç»™äº†å®ƒçš„å‘¨è¾¹ç”Ÿæ€ï¼ˆaxiosï¼ˆVue å®˜æ–¹æ¨èï¼‰ã€Loadsh.jsã€Velocity.js ç­‰ï¼‰æ¥åšå¤„ç†ï¼Œè¿™å°±è¦æ±‚ Vue å¿…é¡»è¦å¯¹å…¶ä»–çš„æ¡†æ¶æ‹¥æœ‰æœ€å¤§ç¨‹åº¦çš„å…¼å®¹æ€§</p></li><li><p>è§†å›¾ç»„ä»¶åŒ–</p><p>Vue å…è®¸é€šè¿‡ç»„ä»¶æ¥å»æ‹¼è£…ä¸€ä¸ªé¡µé¢ï¼Œæ¯ä¸ªç»„ä»¶éƒ½æ˜¯ä¸€ä¸ªå¯å¤ç”¨çš„ Vue å®ä¾‹ï¼Œç»„ä»¶é‡Œé¢å¯ä»¥åŒ…å«è‡ªå·±çš„æ•°æ®ï¼Œè§†å›¾å’Œä»£ç é€»è¾‘ã€‚æ–¹ä¾¿å¤ç”¨</p></li><li><p>è™šæ‹Ÿ DOMï¼ˆVirtual DOMï¼‰</p><p>Vue ä¹‹æ‰€ä»¥å¯ä»¥å®Œå…¨é¿å…å¯¹ DOM çš„æ“ä½œï¼Œå°±æ˜¯å› ä¸º Vue é‡‡ç”¨äº†è™šæ‹Ÿ DOM çš„æ–¹å¼ï¼Œä¸ä½†é¿å…äº†æˆ‘ä»¬å¯¹ DOM çš„å¤æ‚æ“ä½œï¼Œå¹¶ä¸”å¤§å¤§çš„åŠ å¿«äº†æˆ‘ä»¬åº”ç”¨çš„è¿è¡Œé€Ÿåº¦ã€‚</p></li><li><p>ç¤¾åŒºæ”¯æŒ</p><p>å¾—ç›Šäº Vue çš„æœ¬åœŸåŒ–èº«ä»½ï¼ˆVue çš„ä½œè€…ä¸ºå›½äººå°¤é›¨æºªï¼‰ï¼Œå†åŠ ä¸Š Vue æœ¬èº«çš„å¼ºå¤§ï¼Œæ‰€ä»¥æ¶Œç°å‡ºäº†ç‰¹åˆ«å¤šçš„å›½å†…ç¤¾åŒºï¼Œè¿™ç§æƒ…å†µåœ¨å…¶ä»–çš„æ¡†æ¶èº«ä¸Šæ˜¯æ²¡æœ‰å‡ºç°è¿‡çš„ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬åœ¨å­¦ä¹ æˆ–è€…ä½¿ç”¨ Vue çš„æ—¶å€™ï¼Œå¯ä»¥è·å¾—æ›´å¤šçš„å¸®åŠ©</p></li><li><p>æœªæ¥çš„ Vue èµ°å‘</p><p>Vue æ˜¯ç”±å›½äººå°¤é›¨æºªåœ¨ Google å·¥ä½œçš„æ—¶å€™ï¼Œä¸ºäº†æ–¹ä¾¿è‡ªå·±çš„å·¥ä½œè€Œå¼€å‘å‡ºæ¥çš„ä¸€ä¸ªåº“ï¼Œè€Œåœ¨ Vue è¢«ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œçªç„¶å‘ç°è¶Šæ¥è¶Šå¤šçš„äººå–œæ¬¢ä¸Šäº†å®ƒã€‚æ‰€ä»¥å°¤é›¨æºªå°±è¿›å…¥äº†ä¸€ä¸ªè¾¹å·¥ä½œã€è¾¹ç»´æŠ¤çš„çŠ¶æ€ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ Vue ä¾ç„¶è¿…é€Ÿçš„å‘å±•ã€‚</p><p>è€Œç°åœ¨å°¤é›¨æºªå·²ç»æ­£å¼è¾å»äº† Google çš„å·¥ä½œï¼Œå¼€å§‹ä¸“èŒç»´æŠ¤ Vueï¼ŒåŒæ—¶åŠ å…¥è¿›æ¥çš„è¿˜æœ‰å‡ åä½ä¼˜ç§€çš„å¼€å‘è€…ï¼Œä»–ä»¬è‡´åŠ›äºæŠŠ Vue æ‰“é€ ä¸ºæœ€å—æ¬¢è¿çš„å‰ç«¯æ¡†æ¶ã€‚äº‹å®è¯æ˜ Vue ç¡®å®åœ¨å¾€è¶Šæ¥è¶Šå¥½çš„æ–¹å‘å‘å±•äº†ï¼ˆä» Angularã€Reactã€Vue çš„å¯¹æ¯”å›¾ä¸­å¯ä»¥çœ‹å‡º Vue çš„åŠ¿å¤´ï¼‰ã€‚æ‰€ä»¥æˆ‘è§‰å¾—å®Œå…¨ä¸éœ€è¦æ‹…å¿ƒæœªæ¥ Vue çš„å‘å±•ï¼Œè‡³å°‘åœ¨æ²¡æœ‰æ–°çš„é¢ è¦†æ€§åˆ›æ–°å‡ºæ¥ä¹‹å‰ï¼ŒVue éƒ½ä¼šè¶Šåšè¶Šå¥½ã€‚</p></li></ul><h4 id="1-29-vue-angularåŒºåˆ«"><a href="#1-29-vue-angularåŒºåˆ«" class="headerlink" title="1.29 vue&#x2F;angularåŒºåˆ«"></a>1.29 vue&#x2F;angularåŒºåˆ«</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><ol><li><p>ä½“ç§¯å’Œæ€§èƒ½</p><p>ç›¸è¾ƒäºvueï¼Œangularæ˜¾å¾—æ¯”è¾ƒè‡ƒè‚¿ï¼Œæ¯”å¦‚ä¸€ä¸ªåŒ…å«äº† Vuex + Vue Router çš„ Vue é¡¹ç›® (gzip ä¹‹å 30kB) ï¼Œè€Œ angular-cli ç”Ÿæˆçš„é»˜è®¤é¡¹ç›®å°ºå¯¸ (~65KB) è¿˜æ˜¯è¦å°å¾—å¤šã€‚</p><p>åœ¨æ€§èƒ½ä¸Šï¼ŒAngularJSä¾èµ–å¯¹æ•°æ®åšè„æ£€æŸ¥ï¼Œæ‰€ä»¥Watcherè¶Šå¤šè¶Šæ…¢ã€‚Vue.jsä½¿ç”¨åŸºäºä¾èµ–è¿½è¸ªçš„è§‚å¯Ÿå¹¶ä¸”ä½¿ç”¨å¼‚æ­¥é˜Ÿåˆ—æ›´æ–°ã€‚æ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯ç‹¬ç«‹è§¦å‘çš„ã€‚ å¯¹äºåºå¤§çš„åº”ç”¨æ¥è¯´ï¼Œè¿™ä¸ªä¼˜åŒ–å·®å¼‚è¿˜æ˜¯æ¯”è¾ƒæ˜æ˜¾çš„</p></li><li><p>Virtual DOM vs Incremental DOM</p><p>åœ¨åº•å±‚æ¸²æŸ“æ–¹é¢ï¼Œvue ä½¿ç”¨çš„è™šæ‹Ÿdomï¼Œè€Œangular ä½¿ç”¨çš„æ˜¯Incremental DOMï¼ŒIncremental DOMçš„ä¼˜åŠ¿åœ¨äºä½å†…å¼€é”€</p></li><li><p>Vue ç›¸æ¯”äº Angular æ›´åŠ çµæ´»ï¼Œå¯ä»¥æŒ‰ç…§ä¸åŒçš„éœ€è¦å»ç»„ç»‡é¡¹ç›®çš„åº”ç”¨ä»£ç ã€‚æ¯”å¦‚ï¼Œç”šè‡³å¯ä»¥ç›´æ¥åƒå¼•ç”¨jqueryé‚£æ ·åœ¨HTMLä¸­å¼•ç”¨vueï¼Œç„¶åä»…ä»…å½“æˆä¸€ä¸ªå‰ç«¯çš„æ¨¡æ¿å¼•æ“æ¥ç”¨ã€‚</p></li><li><p>es6æ”¯æŒ</p><p>es6æ˜¯æ–°ä¸€ä»£çš„javascriptæ ‡å‡†ï¼Œå¯¹JavaScriptè¿›è¡Œäº†å¤§é‡çš„æ”¹è¿›ï¼Œä½¿ç”¨es6å¼€å‘å·²æ˜¯åŸºæœ¬éœ€æ±‚ã€‚è™½ç„¶æœ‰éƒ¨åˆ†ååˆ†è€æ—§çš„æµè§ˆå™¨ä¸æ”¯æŒes6ï¼Œä½†æ˜¯å¯ä»¥åˆ©ç”¨ç°ä»£å¼€å‘å·¥å…·å°†es6ç¼–è¯‘æˆes5ã€‚åœ¨å¯¹es6çš„æ”¯æŒä¸Šä¸¤è€…éƒ½åšå¾—å¾ˆå¥½ï¼Œï¼ˆTSæœ¬èº«å°±æ˜¯es6çš„è¶…é›†ï¼‰</p></li><li><p>å­¦ä¹ æ›²çº¿</p><p>é’ˆå¯¹å‰ç«¯è€Œè¨€ï¼Œangularçš„å­¦ä¹ æ›²çº¿ç›¸å¯¹è¾ƒå¤§ï¼Œvueå­¦ä¹ èµ·æ¥æ›´å®¹æ˜“ä¸€äº›ã€‚ä¸è¿‡å¯¹javaå’Œcçš„ä½¿ç”¨è€…è€Œè¨€ï¼Œangularçš„é™æ€æ£€æŸ¥ã€ä¾èµ–æ³¨å…¥çš„ç‰¹æ€§ï¼Œä»¥åŠé¢å‘å¯¹è±¡çš„ç¼–ç¨‹é£æ ¼ï¼Œä½¿å¾—angularéƒ½è¦æ›´äº²åˆ‡ä¸€äº›ã€‚</p></li><li><p>ä½¿ç”¨çƒ­åº¦</p><p>åœ¨ä½¿ç”¨çƒ­åº¦ä¸Šï¼Œvueå…·æœ‰æ›´å¤§ä¼˜åŠ¿ï¼Œä¸»è¦åŸå› æ˜¯æ›´å—æ•°é‡åºå¤§çš„ä¸­å›½å¼€å‘è€…æ¬¢è¿ã€‚è¾ƒä½çš„ä¸Šæ‰‹éš¾åº¦ï¼Œæ˜“æ‡‚çš„å¼€å‘æ–‡æ¡£ï¼Œä»¥åŠå›½äººä¸»å¯¼å¼€å‘çš„å…‰ç¯ï¼Œéƒ½ä½¿å¾—vueæ›´ä¸ºæµè¡Œ</p></li></ol><h4 id="1-30-åŒå‘æ•°æ®ç»‘å®šåŸç†"><a href="#1-30-åŒå‘æ•°æ®ç»‘å®šåŸç†" class="headerlink" title="1.30 åŒå‘æ•°æ®ç»‘å®šåŸç†"></a>1.30 åŒå‘æ•°æ®ç»‘å®šåŸç†</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>ç›®å‰å‡ ç§ä¸»æµçš„mvc(vm)æ¡†æ¶éƒ½å®ç°äº†å•å‘æ•°æ®ç»‘å®šï¼Œè€Œæˆ‘æ‰€ç†è§£çš„åŒå‘æ•°æ®ç»‘å®šæ— éå°±æ˜¯åœ¨å•å‘ç»‘å®šçš„åŸºç¡€ä¸Šç»™å¯è¾“å…¥å…ƒç´ ï¼ˆinputã€textareç­‰ï¼‰æ·»åŠ äº†change(input)äº‹ä»¶ï¼Œæ¥åŠ¨æ€ä¿®æ”¹modelå’Œ viewï¼Œå¹¶æ²¡æœ‰å¤šé«˜æ·±ã€‚æ‰€ä»¥æ— éœ€å¤ªè¿‡ä»‹æ€€æ˜¯å®ç°çš„å•å‘æˆ–åŒå‘ç»‘å®šã€‚</p><p>å®ç°æ•°æ®ç»‘å®šçš„åšæ³•æœ‰å¤§è‡´å¦‚ä¸‹å‡ ç§ï¼š</p><p><strong>å‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼:</strong> ä¸€èˆ¬é€šè¿‡sub, pubçš„æ–¹å¼å®ç°æ•°æ®å’Œè§†å›¾çš„ç»‘å®šç›‘å¬ï¼Œæ›´æ–°æ•°æ®æ–¹å¼é€šå¸¸åšæ³•æ˜¯vm.set(â€˜propertyâ€™, value)</p><p>è¿™ç§æ–¹å¼ç°åœ¨æ¯•ç«Ÿå¤ªlowäº†ï¼Œæˆ‘ä»¬æ›´å¸Œæœ›é€šè¿‡vm.property &#x3D; valueè¿™ç§æ–¹å¼æ›´æ–°æ•°æ®ï¼ŒåŒæ—¶è‡ªåŠ¨æ›´æ–°è§†å›¾ï¼Œäºæ˜¯æœ‰äº†ä¸‹é¢ä¸¤ç§æ–¹å¼</p><p><strong>è„å€¼æ£€æŸ¥:</strong> angular.js æ˜¯é€šè¿‡è„å€¼æ£€æµ‹çš„æ–¹å¼æ¯”å¯¹æ•°æ®æ˜¯å¦æœ‰å˜æ›´ï¼Œæ¥å†³å®šæ˜¯å¦æ›´æ–°è§†å›¾ï¼Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯é€šè¿‡setInterval()å®šæ—¶è½®è¯¢æ£€æµ‹æ•°æ®å˜åŠ¨ï¼Œå½“ç„¶Googleä¸ä¼šè¿™ä¹ˆlowï¼Œangularåªæœ‰åœ¨æŒ‡å®šçš„äº‹ä»¶è§¦å‘æ—¶è¿›å…¥è„å€¼æ£€æµ‹ï¼Œå¤§è‡´å¦‚ä¸‹ï¼š</p><ul><li>DOMäº‹ä»¶ï¼Œè­¬å¦‚ç”¨æˆ·è¾“å…¥æ–‡æœ¬ï¼Œç‚¹å‡»æŒ‰é’®ç­‰ã€‚( ng-click )</li><li>XHRå“åº”äº‹ä»¶ ( $http )</li><li>æµè§ˆå™¨Locationå˜æ›´äº‹ä»¶ ( $location )</li><li>Timeräº‹ä»¶( <img src="https://www.nowcoder.com/equation?tex=timeout,&preview=true" alt="img">interval )</li><li>æ‰§è¡Œ digest()æˆ–apply()</li></ul><p><strong>æ•°æ®åŠ«æŒ:</strong> vue.js åˆ™æ˜¯é‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼ï¼Œé€šè¿‡Object.defineProperty()æ¥åŠ«æŒå„ä¸ªå±æ€§çš„setterï¼Œgetterï¼Œåœ¨æ•°æ®å˜åŠ¨æ—¶å‘å¸ƒæ¶ˆæ¯ç»™è®¢é˜…è€…ï¼Œè§¦å‘ç›¸åº”çš„ç›‘å¬å›è°ƒã€‚</p><h4 id="1-31-æ—¢ç„¶-Vue-é€šè¿‡æ•°æ®åŠ«æŒå¯ä»¥ç²¾å‡†æ¢æµ‹æ•°æ®åœ¨å…·ä½“domä¸Šçš„å˜åŒ–-ä¸ºä»€ä¹ˆè¿˜éœ€è¦è™šæ‹Ÿ-DOM-diff-å‘¢"><a href="#1-31-æ—¢ç„¶-Vue-é€šè¿‡æ•°æ®åŠ«æŒå¯ä»¥ç²¾å‡†æ¢æµ‹æ•°æ®åœ¨å…·ä½“domä¸Šçš„å˜åŒ–-ä¸ºä»€ä¹ˆè¿˜éœ€è¦è™šæ‹Ÿ-DOM-diff-å‘¢" class="headerlink" title="1.31 æ—¢ç„¶ Vue é€šè¿‡æ•°æ®åŠ«æŒå¯ä»¥ç²¾å‡†æ¢æµ‹æ•°æ®åœ¨å…·ä½“domä¸Šçš„å˜åŒ–,ä¸ºä»€ä¹ˆè¿˜éœ€è¦è™šæ‹Ÿ DOM diff å‘¢?"></a>1.31 æ—¢ç„¶ Vue é€šè¿‡æ•°æ®åŠ«æŒå¯ä»¥ç²¾å‡†æ¢æµ‹æ•°æ®åœ¨å…·ä½“domä¸Šçš„å˜åŒ–,ä¸ºä»€ä¹ˆè¿˜éœ€è¦è™šæ‹Ÿ DOM diff å‘¢?</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><p><strong>å‰ç½®çŸ¥è¯†:</strong> ä¾èµ–æ”¶é›†ã€è™šæ‹Ÿ DOMã€å“åº”å¼ç³»ç»Ÿ</p><p>ç°ä»£å‰ç«¯æ¡†æ¶æœ‰ä¸¤ç§æ–¹å¼ä¾¦æµ‹å˜åŒ–ï¼Œä¸€ç§æ˜¯ <strong>pull</strong> ï¼Œä¸€ç§æ˜¯ <strong>push</strong></p><p><strong>pull:</strong> å…¶ä»£è¡¨ä¸ºReactï¼Œæˆ‘ä»¬å¯ä»¥å›å¿†ä¸€ä¸‹Reactæ˜¯å¦‚ä½•ä¾¦æµ‹åˆ°å˜åŒ–çš„,æˆ‘ä»¬é€šå¸¸ä¼šç”¨setStateAPIæ˜¾å¼æ›´æ–°ï¼Œç„¶åReactä¼šè¿›è¡Œä¸€å±‚å±‚çš„Virtual Dom Diffæ“ä½œæ‰¾å‡ºå·®å¼‚ï¼Œç„¶åPatchåˆ°DOMä¸Šï¼ŒReactä»ä¸€å¼€å§‹å°±ä¸çŸ¥é“åˆ°åº•æ˜¯å“ªå‘ç”Ÿäº†å˜åŒ–ï¼Œåªæ˜¯çŸ¥é“ã€Œæœ‰å˜åŒ–äº†ã€ï¼Œç„¶åå†è¿›è¡Œæ¯”è¾ƒæš´åŠ›çš„Diffæ“ä½œæŸ¥æ‰¾ã€Œå“ªå‘ç”Ÿå˜åŒ–äº†ã€ï¼Œå¦å¤–ä¸€ä¸ªä»£è¡¨å°±æ˜¯Angularçš„è„æ£€æŸ¥æ“ä½œã€‚</p><p><strong>push:</strong> Vueçš„å“åº”å¼ç³»ç»Ÿåˆ™æ˜¯pushçš„ä»£è¡¨ï¼Œå½“Vueç¨‹åºåˆå§‹åŒ–çš„æ—¶å€™å°±ä¼šå¯¹æ•°æ®dataè¿›è¡Œä¾èµ–çš„æ”¶é›†ï¼Œä¸€ä½†æ•°æ®å‘ç”Ÿå˜åŒ–,å“åº”å¼ç³»ç»Ÿå°±ä¼šç«‹åˆ»å¾—çŸ¥ã€‚å› æ­¤Vueæ˜¯ä¸€å¼€å§‹å°±çŸ¥é“æ˜¯ã€Œåœ¨å“ªå‘ç”Ÿå˜åŒ–äº†ã€ï¼Œä½†æ˜¯è¿™åˆä¼šäº§ç”Ÿä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœä½ ç†Ÿæ‚‰Vueçš„å“åº”å¼ç³»ç»Ÿå°±çŸ¥é“ï¼Œé€šå¸¸ä¸€ä¸ªç»‘å®šä¸€ä¸ªæ•°æ®å°±éœ€è¦ä¸€ä¸ªWatcher</p><p>ä¸€ä½†æˆ‘ä»¬çš„ç»‘å®šç»†ç²’åº¦è¿‡é«˜å°±ä¼šäº§ç”Ÿå¤§é‡çš„Watcherï¼Œè¿™ä¼šå¸¦æ¥å†…å­˜ä»¥åŠä¾èµ–è¿½è¸ªçš„å¼€é”€ï¼Œè€Œç»†ç²’åº¦è¿‡ä½ä¼šæ— æ³•ç²¾å‡†ä¾¦æµ‹å˜åŒ–,å› æ­¤Vueçš„è®¾è®¡æ˜¯é€‰æ‹©ä¸­ç­‰ç»†ç²’åº¦çš„æ–¹æ¡ˆ,åœ¨ç»„ä»¶çº§åˆ«è¿›è¡Œpushä¾¦æµ‹çš„æ–¹å¼,ä¹Ÿå°±æ˜¯é‚£å¥—å“åº”å¼ç³»ç»Ÿ,é€šå¸¸æˆ‘ä»¬ä¼šç¬¬ä¸€æ—¶é—´ä¾¦æµ‹åˆ°å‘ç”Ÿå˜åŒ–çš„ç»„ä»¶,ç„¶ååœ¨ç»„ä»¶å†…éƒ¨è¿›è¡ŒVirtual Dom Diffè·å–æ›´åŠ å…·ä½“çš„å·®å¼‚ï¼Œè€ŒVirtual Dom Diffåˆ™æ˜¯pullæ“ä½œï¼ŒVueæ˜¯push+pullç»“åˆçš„æ–¹å¼è¿›è¡Œå˜åŒ–ä¾¦æµ‹çš„ã€‚</p><h4 id="1-32-ç®€å•èŠèŠ-new-Vue-ä»¥åå‘ç”Ÿçš„äº‹æƒ…"><a href="#1-32-ç®€å•èŠèŠ-new-Vue-ä»¥åå‘ç”Ÿçš„äº‹æƒ…" class="headerlink" title="1.32 ç®€å•èŠèŠ new Vue ä»¥åå‘ç”Ÿçš„äº‹æƒ…"></a>1.32 ç®€å•èŠèŠ new Vue ä»¥åå‘ç”Ÿçš„äº‹æƒ…</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><ol><li>new Vueä¼šè°ƒç”¨ Vue åŸå‹é“¾ä¸Šçš„_initæ–¹æ³•å¯¹ Vue å®ä¾‹è¿›è¡Œåˆå§‹åŒ–ï¼›</li><li>é¦–å…ˆæ˜¯initLifecycleåˆå§‹åŒ–ç”Ÿå‘½å‘¨æœŸï¼Œå¯¹ Vue å®ä¾‹å†…éƒ¨çš„ä¸€äº›å±æ€§ï¼ˆå¦‚ childrenã€parentã€isMountedï¼‰è¿›è¡Œåˆå§‹åŒ–ï¼›</li><li>initEventsï¼Œåˆå§‹åŒ–å½“å‰å®ä¾‹ä¸Šçš„ä¸€äº›è‡ªå®šä¹‰äº‹ä»¶ï¼ˆVue.$onï¼‰ï¼›</li><li>initRenderï¼Œè§£æslotsç»‘å®šåœ¨ Vue å®ä¾‹ä¸Šï¼Œç»‘å®šcreateElementæ–¹æ³•åœ¨å®ä¾‹ä¸Šï¼›</li><li>å®Œæˆå¯¹ç”Ÿå‘½å‘¨æœŸã€è‡ªå®šä¹‰äº‹ä»¶ç­‰ä¸€ç³»åˆ—å±æ€§çš„åˆå§‹åŒ–åï¼Œè§¦å‘ç”Ÿå‘½å‘¨æœŸé’©å­beforeCreateï¼›</li><li>initInjectionsï¼Œåœ¨åˆå§‹åŒ–dataå’Œpropsä¹‹å‰å®Œæˆä¾èµ–æ³¨å…¥ï¼ˆç±»ä¼¼äº React.Contextï¼‰ï¼›</li><li>initStateï¼Œå®Œæˆå¯¹dataå’Œpropsçš„åˆå§‹åŒ–ï¼ŒåŒæ—¶å¯¹å±æ€§å®Œæˆæ•°æ®åŠ«æŒå†…éƒ¨ï¼Œå¯ç”¨ç›‘å¬è€…å¯¹æ•°æ®è¿›è¡Œç›‘å¬ï¼ˆæ›´æ”¹ï¼‰ï¼›</li><li>initProvideï¼Œå¯¹ä¾èµ–æ³¨å…¥è¿›è¡Œè§£æï¼›</li><li>å®Œæˆå¯¹æ•°æ®ï¼ˆstate çŠ¶æ€ï¼‰çš„åˆå§‹åŒ–åï¼Œè§¦å‘ç”Ÿå‘½å‘¨æœŸé’©å­createdï¼›</li><li>è¿›å…¥æŒ‚è½½é˜¶æ®µï¼Œå°† vue æ¨¡æ¿è¯­æ³•é€šè¿‡vue-loaderè§£ææˆè™šæ‹Ÿ DOM æ ‘ï¼Œè™šæ‹Ÿ DOM æ ‘ä¸æ•°æ®å®ŒæˆåŒå‘ç»‘å®šï¼Œè§¦å‘ç”Ÿå‘½å‘¨æœŸé’©å­beforeMountï¼›</li><li>å°†è§£æå¥½çš„è™šæ‹Ÿ DOM æ ‘é€šè¿‡ vue æ¸²æŸ“æˆçœŸå® DOMï¼Œè§¦å‘ç”Ÿå‘½å‘¨æœŸé’©å­mountedï¼›</li></ol><h4 id="1-33-v-forä¸­çš„keyçš„ç†è§£ï¼Ÿ"><a href="#1-33-v-forä¸­çš„keyçš„ç†è§£ï¼Ÿ" class="headerlink" title="1.33 v-forä¸­çš„keyçš„ç†è§£ï¼Ÿ"></a>1.33 v-forä¸­çš„keyçš„ç†è§£ï¼Ÿ</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><p>éœ€è¦ä½¿ç”¨keyæ¥ç»™æ¯ä¸ªèŠ‚ç‚¹åšä¸€ä¸ªå”¯ä¸€æ ‡è¯†ï¼ŒDiffç®—æ³•å°±å¯ä»¥æ­£ç¡®çš„è¯†åˆ«æ­¤èŠ‚ç‚¹ã€‚ä¸»è¦æ˜¯ä¸ºäº†é«˜æ•ˆçš„æ›´æ–°è™šæ‹ŸDOMã€‚</p><h4 id="1-34-vueé¦–å±ç™½å±å¦‚ä½•è§£å†³ï¼Ÿ"><a href="#1-34-vueé¦–å±ç™½å±å¦‚ä½•è§£å†³ï¼Ÿ" class="headerlink" title="1.34 vueé¦–å±ç™½å±å¦‚ä½•è§£å†³ï¼Ÿ"></a>1.34 vueé¦–å±ç™½å±å¦‚ä½•è§£å†³ï¼Ÿ</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><ol><li>è·¯ç”±æ‡’åŠ è½½</li><li>vue-cliå¼€å¯æ‰“åŒ…å‹ç¼© å’Œåå°é…åˆ gzipè®¿é—®</li><li>è¿›è¡ŒcdnåŠ é€Ÿ</li><li>å¼€å¯vueæœåŠ¡æ¸²æŸ“æ¨¡å¼</li><li>ç”¨webpackçš„externalså±æ€§æŠŠä¸éœ€è¦æ‰“åŒ…çš„åº“æ–‡ä»¶åˆ†ç¦»å‡ºå»ï¼Œå‡å°‘æ‰“åŒ…åæ–‡ä»¶çš„å¤§å°</li><li>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­åˆ é™¤æ‰ä¸å¿…è¦çš„console.log</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">plugins</span>: [</span><br><span class="line">  <span class="keyword">new</span> webpack.<span class="property">optimize</span>.<span class="title class_">UglifyJsPlugin</span>(&#123; <span class="comment">//æ·»åŠ -åˆ é™¤console.log</span></span><br><span class="line">    <span class="attr">compress</span>: &#123;</span><br><span class="line">      <span class="attr">warnings</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">drop_debugger</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">drop_console</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">sourceMap</span>: <span class="literal">true</span></span><br><span class="line">  &#125;),</span><br></pre></td></tr></table></figure><ol><li>å¼€å¯nginxçš„gzip ,åœ¨nginx.confé…ç½®æ–‡ä»¶ä¸­é…ç½®</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">http &#123;  <span class="comment">//åœ¨ httpä¸­é…ç½®å¦‚ä¸‹ä»£ç ï¼Œ</span></span><br><span class="line">   gzip on;</span><br><span class="line">   gzip_disable <span class="string">&quot;msie6&quot;</span>; </span><br><span class="line">   gzip_vary on; </span><br><span class="line">   gzip_proxied any;</span><br><span class="line">   gzip_comp_level <span class="number">8</span>; #å‹ç¼©çº§åˆ«</span><br><span class="line">   gzip_buffers <span class="number">16</span> 8k;</span><br><span class="line">   #gzip_http_version <span class="number">1.1</span>;</span><br><span class="line">   gzip_min_length <span class="number">100</span>; #ä¸å‹ç¼©ä¸´ç•Œå€¼</span><br><span class="line">   gzip_types text/plain application/javascript application/x-javascript text/css</span><br><span class="line">    application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><ol><li>æ·»åŠ loadingæ•ˆæœï¼Œç»™ç”¨æˆ·ä¸€ç§è¿›åº¦æ„Ÿå—</li></ol><h4 id="1-35-vueå•é¡µé¢å’Œä¼ ç»Ÿçš„å¤šé¡µé¢åŒºåˆ«ï¼Ÿ"><a href="#1-35-vueå•é¡µé¢å’Œä¼ ç»Ÿçš„å¤šé¡µé¢åŒºåˆ«ï¼Ÿ" class="headerlink" title="1.35 vueå•é¡µé¢å’Œä¼ ç»Ÿçš„å¤šé¡µé¢åŒºåˆ«ï¼Ÿ"></a>1.35 vueå•é¡µé¢å’Œä¼ ç»Ÿçš„å¤šé¡µé¢åŒºåˆ«ï¼Ÿ</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>:</p><p>å•é¡µé¢åº”ç”¨ï¼ˆSPAï¼‰</p><p>é€šä¿—ä¸€ç‚¹è¯´å°±æ˜¯æŒ‡åªæœ‰ä¸€ä¸ªä¸»é¡µé¢çš„åº”ç”¨ï¼Œæµè§ˆå™¨ä¸€å¼€å§‹è¦åŠ è½½æ‰€æœ‰å¿…é¡»çš„ html, js, cssã€‚æ‰€æœ‰çš„é¡µé¢å†…å®¹éƒ½åŒ…å«åœ¨è¿™ä¸ªæ‰€è°“çš„ä¸»é¡µé¢ä¸­ã€‚ä½†åœ¨å†™çš„æ—¶å€™ï¼Œè¿˜æ˜¯ä¼šåˆ†å¼€å†™ï¼ˆé¡µé¢ç‰‡æ®µï¼‰ï¼Œç„¶ååœ¨äº¤äº’çš„æ—¶å€™ç”±è·¯ç”±ç¨‹åºåŠ¨æ€è½½å…¥ï¼Œå•é¡µé¢çš„é¡µé¢è·³è½¬ï¼Œä»…åˆ·æ–°å±€éƒ¨èµ„æºã€‚å¤šåº”ç”¨äºpcç«¯ã€‚</p><p>å¤šé¡µé¢ï¼ˆMPAï¼‰</p><p>æŒ‡ä¸€ä¸ªåº”ç”¨ä¸­æœ‰å¤šä¸ªé¡µé¢ï¼Œé¡µé¢è·³è½¬æ—¶æ˜¯æ•´é¡µåˆ·æ–°</p><p><strong>å•é¡µé¢çš„ä¼˜ç‚¹ï¼š</strong></p><p>ç”¨æˆ·ä½“éªŒå¥½ï¼Œå¿«ï¼Œå†…å®¹çš„æ”¹å˜ä¸éœ€è¦é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ï¼ŒåŸºäºè¿™ä¸€ç‚¹spaå¯¹æœåŠ¡å™¨å‹åŠ›è¾ƒå°ï¼›å‰åç«¯åˆ†ç¦»ï¼›é¡µé¢æ•ˆæœä¼šæ¯”è¾ƒç‚«é…·ï¼ˆæ¯”å¦‚åˆ‡æ¢é¡µé¢å†…å®¹æ—¶çš„ä¸“åœºåŠ¨ç”»ï¼‰ã€‚</p><p><strong>å•é¡µé¢ç¼ºç‚¹ï¼š</strong></p><p>ä¸åˆ©äºseoï¼›å¯¼èˆªä¸å¯ç”¨ï¼Œå¦‚æœä¸€å®šè¦å¯¼èˆªéœ€è¦è‡ªè¡Œå®ç°å‰è¿›ã€åé€€ã€‚ï¼ˆç”±äºæ˜¯å•é¡µé¢ä¸èƒ½ç”¨æµè§ˆå™¨çš„å‰è¿›åé€€åŠŸèƒ½ï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±å»ºç«‹å †æ ˆç®¡ç†ï¼‰ï¼›åˆæ¬¡åŠ è½½æ—¶è€—æ—¶å¤šï¼›é¡µé¢å¤æ‚åº¦æé«˜å¾ˆå¤šã€‚</p><h4 id="1-36-refsã€-parentçš„ä½¿ç”¨ï¼Ÿ"><a href="#1-36-refsã€-parentçš„ä½¿ç”¨ï¼Ÿ" class="headerlink" title="1.36 refsã€$parentçš„ä½¿ç”¨ï¼Ÿ"></a>1.36 <img src="https://www.nowcoder.com/equation?tex=root%E3%80%81&preview=true" alt="img">refsã€$parentçš„ä½¿ç”¨ï¼Ÿ</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><p>$root</p><p>å¯ä»¥ç”¨æ¥è·å–vueçš„æ ¹å®ä¾‹ï¼Œæ¯”å¦‚åœ¨ç®€å•çš„é¡¹ç›®ä¸­å°†å…¬å…±æ•°æ®æ”¾å†vueæ ¹å®ä¾‹ä¸Š(å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå…¨å±€ store ),å› æ­¤å¯ä»¥ä»£æ›¿vuexå®ç°çŠ¶æ€ç®¡ç†ï¼›</p><p>$refs</p><p>åœ¨å­ç»„ä»¶ä¸Šä½¿ç”¨refç‰¹æ€§åï¼Œthis.å±æ€§å¯ä»¥ç›´æ¥è®¿é—®è¯¥å­ç»„ä»¶ã€‚å¯ä»¥ä»£æ›¿äº‹ä»¶emit å’Œ<img src="https://www.nowcoder.com/equation?tex=on%20%E7%9A%84%E4%BD%9C%E7%94%A8%E3%80%82%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F%E6%98%AF%E9%80%9A%E8%BF%87ref%E7%89%B9%E6%80%A7%E4%B8%BA%E8%BF%99%E4%B8%AA%E5%AD%90%E7%BB%84%E4%BB%B6%E8%B5%8B%E4%BA%88%E4%B8%80%E4%B8%AAID%E5%BC%95%E7%94%A8%EF%BC%8C%E5%86%8D%E9%80%9A%E8%BF%87this.&preview=true" alt="img">refs.testIdè·å–æŒ‡å®šå…ƒç´ ã€‚æ³¨æ„ï¼š<img src="https://www.nowcoder.com/equation?tex=refs%E5%8F%AA%E4%BC%9A%E5%9C%A8%E7%BB%84%E4%BB%B6%E6%B8%B2%E6%9F%93%E5%AE%8C%E6%88%90%E4%B9%8B%E5%90%8E%E7%94%9F%E6%95%88%EF%BC%8C%E5%B9%B6%E4%B8%94%E5%AE%83%E4%BB%AC%E4%B8%8D%E6%98%AF%E5%93%8D%E5%BA%94%E5%BC%8F%E7%9A%84%E3%80%82%E8%BF%99%E4%BB%85%E4%BD%9C%E4%B8%BA%E4%B8%80%E4%B8%AA%E7%94%A8%E4%BA%8E%E7%9B%B4%E6%8E%A5%E6%93%8D%E4%BD%9C%E5%AD%90%E7%BB%84%E4%BB%B6%E7%9A%84%E2%80%9C%E9%80%83%E7%94%9F%E8%88%B1%E2%80%9D%E2%80%94%E2%80%94%E4%BD%A0%E5%BA%94%E8%AF%A5%E9%81%BF%E5%85%8D%E5%9C%A8%E6%A8%A1%E6%9D%BF%E6%88%96%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E4%B8%AD%E8%AE%BF%E9%97%AE&preview=true" alt="img">refsã€‚</p><p>$parent</p><p>$parentå±æ€§å¯ä»¥ç”¨æ¥ä»ä¸€ä¸ªå­ç»„ä»¶è®¿é—®çˆ¶ç»„ä»¶çš„å®ä¾‹ï¼Œå¯ä»¥æ›¿ä»£å°†æ•°æ®ä»¥ prop çš„æ–¹å¼ä¼ å…¥å­ç»„ä»¶çš„æ–¹å¼ï¼›å½“å˜æ›´çˆ¶çº§ç»„ä»¶çš„æ•°æ®çš„æ—¶å€™ï¼Œå®¹æ˜“é€ æˆè°ƒè¯•å’Œç†è§£éš¾åº¦å¢åŠ ï¼›</p><h4 id="1-36-è·¯ç”±è·³è½¬å’Œlocation-hrefçš„åŒºåˆ«ï¼Ÿ"><a href="#1-36-è·¯ç”±è·³è½¬å’Œlocation-hrefçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="1.36 è·¯ç”±è·³è½¬å’Œlocation.hrefçš„åŒºåˆ«ï¼Ÿ"></a>1.36 è·¯ç”±è·³è½¬å’Œlocation.hrefçš„åŒºåˆ«ï¼Ÿ</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><p>ä½¿ç”¨location.href&#x3D;â€™&#x2F;urlâ€™æ¥è·³è½¬ï¼Œç®€å•æ–¹ä¾¿ï¼Œä½†æ˜¯åˆ·æ–°äº†é¡µé¢ï¼›<br>ä½¿ç”¨è·¯ç”±æ–¹å¼è·³è½¬ï¼Œæ— åˆ·æ–°é¡µé¢ï¼Œé™æ€è·³è½¬ï¼›</p><h4 id="1-37-scssæ˜¯ä»€ä¹ˆï¼Ÿåœ¨vue-cliä¸­çš„å®‰è£…ä½¿ç”¨æ­¥éª¤æ˜¯ï¼Ÿæœ‰å“ªå‡ å¤§ç‰¹æ€§ï¼Ÿ"><a href="#1-37-scssæ˜¯ä»€ä¹ˆï¼Ÿåœ¨vue-cliä¸­çš„å®‰è£…ä½¿ç”¨æ­¥éª¤æ˜¯ï¼Ÿæœ‰å“ªå‡ å¤§ç‰¹æ€§ï¼Ÿ" class="headerlink" title="1.37 scssæ˜¯ä»€ä¹ˆï¼Ÿåœ¨vue.cliä¸­çš„å®‰è£…ä½¿ç”¨æ­¥éª¤æ˜¯ï¼Ÿæœ‰å“ªå‡ å¤§ç‰¹æ€§ï¼Ÿ"></a>1.37 scssæ˜¯ä»€ä¹ˆï¼Ÿåœ¨vue.cliä¸­çš„å®‰è£…ä½¿ç”¨æ­¥éª¤æ˜¯ï¼Ÿæœ‰å“ªå‡ å¤§ç‰¹æ€§ï¼Ÿ</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><p>cssçš„é¢„ç¼–è¯‘ã€‚</p><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><ol><li>å…ˆè£…css-loaderã€node-loaderã€sass-loaderç­‰åŠ è½½å™¨æ¨¡å—</li><li>åœ¨buildç›®å½•æ‰¾åˆ°webpack.base.config.jsï¼Œåœ¨é‚£ä¸ªextendså±æ€§ä¸­åŠ ä¸€ä¸ªæ‹“å±•.scss</li><li>åœ¨åŒä¸€ä¸ªæ–‡ä»¶ï¼Œé…ç½®ä¸€ä¸ªmoduleå±æ€§</li><li>ç„¶ååœ¨ç»„ä»¶çš„styleæ ‡ç­¾åŠ ä¸Šlangå±æ€§ ï¼Œä¾‹å¦‚ï¼šlang&#x3D;â€scssâ€</li></ol><p>ç‰¹æ€§:</p><p>å¯ä»¥ç”¨å˜é‡ï¼Œä¾‹å¦‚ï¼ˆ$å˜é‡åç§°&#x3D;å€¼ï¼‰ï¼›<br>å¯ä»¥ç”¨æ··åˆå™¨ï¼Œä¾‹å¦‚ï¼ˆï¼‰<br>å¯ä»¥åµŒå¥—</p><h4 id="1-38-deleteä¸vue-deleteåŒºåˆ«"><a href="#1-38-deleteä¸vue-deleteåŒºåˆ«" class="headerlink" title="1.38 deleteä¸vue.deleteåŒºåˆ«?"></a>1.38 deleteä¸vue.deleteåŒºåˆ«?</h4><p>delteä¼šåˆ é™¤æ•°ç»„çš„å€¼ï¼Œä½†æ˜¯å®ƒä¾ç„¶ä¼šåœ¨å†…å­˜ä¸­å ä½ç½®<br>è€Œvue.deleteä¼šåˆ é™¤æ•°ç»„åœ¨å†…å­˜ä¸­çš„å ä½</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">delete</span> arr1[<span class="number">1</span>]</span><br><span class="line"><span class="variable language_">this</span>.$delete(arr2,<span class="number">2</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1)    <span class="comment">//ã€1, empty, 3ã€‘</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2)    <span class="comment">//ã€1,2ã€‘</span></span><br></pre></td></tr></table></figure><h4 id="1-39-computedå’Œwatchçš„åŒºåˆ«"><a href="#1-39-computedå’Œwatchçš„åŒºåˆ«" class="headerlink" title="1.39 computedå’Œwatchçš„åŒºåˆ«"></a>1.39 computedå’Œwatchçš„åŒºåˆ«</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><p>computed</p><p>è®¡ç®—ç»“æœå¹¶è¿”å›ï¼Œåªæœ‰å½“è¢«è®¡ç®—çš„å±æ€§å‘ç”Ÿæ”¹å˜æ—¶æ‰ä¼šè§¦å‘ï¼ˆå³ï¼šè®¡ç®—å±æ€§çš„ç»“æœä¼šè¢«ç¼“å­˜ï¼Œé™¤éä¾èµ–çš„å“åº”å±æ€§å˜åŒ–æ‰ä¼šé‡æ–°åŠå­™ï¼‰</p><p>watch</p><p>ç›‘å¬æŸä¸€ä¸ªå€¼ï¼Œå½“è¢«ç›‘å¬çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰§è¡Œç›¸å…³æ“ä½œã€‚</p><p>ä¸computedçš„åŒºåˆ«æ˜¯ï¼Œwatchæ›´åŠ é€‚ç”¨äºç›‘å¬æŸä¸€ä¸ªå€¼å¾—å˜åŒ–ï¼Œå¹¶åšå¯¹åº”æ“ä½œï¼Œæ¯”å¦‚è¯·æ±‚åå¤ªæ¥å£ç­‰ã€‚è€Œcomputedé€‚ç”¨äºè®¡ç®—å·²æœ‰çš„å€¼å¹¶è¿”å›ç»“æœã€‚ ç›‘å¬ç®€å•æ•°æ®ç±»å‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>)&#123;      </span><br><span class="line">    <span class="keyword">return</span>&#123;        </span><br><span class="line">        <span class="string">&#x27;first&#x27;</span>:<span class="number">2</span>     </span><br><span class="line">    &#125;   </span><br><span class="line">&#125;,   </span><br><span class="line"> <span class="attr">watch</span>:&#123;      </span><br><span class="line">     <span class="title function_">first</span>(<span class="params"></span>)&#123;        </span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">first</span>)    </span><br><span class="line">    &#125;   </span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure><h4 id="1-40-Vue-ä¸ºä»€ä¹ˆè¦ç”¨-vm-set-è§£å†³å¯¹è±¡æ–°å¢å±æ€§ä¸èƒ½å“åº”çš„é—®é¢˜-ï¼Ÿä½ èƒ½è¯´è¯´å¦‚ä¸‹ä»£ç çš„å®ç°åŸç†ä¹ˆï¼Ÿ"><a href="#1-40-Vue-ä¸ºä»€ä¹ˆè¦ç”¨-vm-set-è§£å†³å¯¹è±¡æ–°å¢å±æ€§ä¸èƒ½å“åº”çš„é—®é¢˜-ï¼Ÿä½ èƒ½è¯´è¯´å¦‚ä¸‹ä»£ç çš„å®ç°åŸç†ä¹ˆï¼Ÿ" class="headerlink" title="1.40 Vue ä¸ºä»€ä¹ˆè¦ç”¨ vm.$set() è§£å†³å¯¹è±¡æ–°å¢å±æ€§ä¸èƒ½å“åº”çš„é—®é¢˜ ï¼Ÿä½ èƒ½è¯´è¯´å¦‚ä¸‹ä»£ç çš„å®ç°åŸç†ä¹ˆï¼Ÿ"></a>1.40 Vue ä¸ºä»€ä¹ˆè¦ç”¨ vm.$set() è§£å†³å¯¹è±¡æ–°å¢å±æ€§ä¸èƒ½å“åº”çš„é—®é¢˜ ï¼Ÿä½ èƒ½è¯´è¯´å¦‚ä¸‹ä»£ç çš„å®ç°åŸç†ä¹ˆï¼Ÿ</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><p><strong>1ï¼‰Vueä¸ºä»€ä¹ˆè¦ç”¨vm.$set() è§£å†³å¯¹è±¡æ–°å¢å±æ€§ä¸èƒ½å“åº”çš„é—®é¢˜</strong></p><ol><li>Vueä½¿ç”¨äº†Object.definePropertyå®ç°åŒå‘æ•°æ®ç»‘å®š</li><li>åœ¨åˆå§‹åŒ–å®ä¾‹æ—¶å¯¹å±æ€§æ‰§è¡Œ getter&#x2F;setter è½¬åŒ–</li><li>å±æ€§å¿…é¡»åœ¨dataå¯¹è±¡ä¸Šå­˜åœ¨æ‰èƒ½è®©Vueå°†å®ƒè½¬æ¢ä¸ºå“åº”å¼çš„ï¼ˆè¿™ä¹Ÿå°±é€ æˆäº†Vueæ— æ³•æ£€æµ‹åˆ°å¯¹è±¡å±æ€§çš„æ·»åŠ æˆ–åˆ é™¤ï¼‰</li></ol><p>æ‰€ä»¥Vueæä¾›äº†Vue.set (object, propertyName, value) &#x2F; vm.$set (object, propertyName, value)</p><p><strong>2ï¼‰æ¡†æ¶æœ¬èº«æ˜¯å¦‚ä½•å®ç°çš„å‘¢?</strong></p><blockquote><p>Vue æºç ä½ç½®ï¼švue&#x2F;src&#x2F;core&#x2F;instance&#x2F;index.js</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">set</span> (<span class="attr">target</span>: <span class="title class_">Array</span>&lt;any&gt; | <span class="title class_">Object</span>, <span class="attr">key</span>: any, <span class="attr">val</span>: any): any &#123;</span><br><span class="line">  <span class="comment">// target ä¸ºæ•°ç»„  </span></span><br><span class="line">  <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(target) &amp;&amp; <span class="title function_">isValidArrayIndex</span>(key)) &#123;</span><br><span class="line">    <span class="comment">// ä¿®æ”¹æ•°ç»„çš„é•¿åº¦, é¿å…ç´¢å¼•&gt;æ•°ç»„é•¿åº¦å¯¼è‡´splcie()æ‰§è¡Œæœ‰è¯¯</span></span><br><span class="line">    target.<span class="property">length</span> = <span class="title class_">Math</span>.<span class="title function_">max</span>(target.<span class="property">length</span>, key)</span><br><span class="line">    <span class="comment">// åˆ©ç”¨æ•°ç»„çš„spliceå˜å¼‚æ–¹æ³•è§¦å‘å“åº”å¼  </span></span><br><span class="line">    target.<span class="title function_">splice</span>(key, <span class="number">1</span>, val)</span><br><span class="line">    <span class="keyword">return</span> val</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// key å·²ç»å­˜åœ¨ï¼Œç›´æ¥ä¿®æ”¹å±æ€§å€¼  </span></span><br><span class="line">  <span class="keyword">if</span> (key <span class="keyword">in</span> target &amp;&amp; !(key <span class="keyword">in</span> <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>)) &#123;</span><br><span class="line">    target[key] = val</span><br><span class="line">    <span class="keyword">return</span> val</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> ob = (<span class="attr">target</span>: any).<span class="property">__ob__</span></span><br><span class="line">  <span class="comment">// target æœ¬èº«å°±ä¸æ˜¯å“åº”å¼æ•°æ®, ç›´æ¥èµ‹å€¼</span></span><br><span class="line">  <span class="keyword">if</span> (!ob) &#123;</span><br><span class="line">    target[key] = val</span><br><span class="line">    <span class="keyword">return</span> val</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å¯¹å±æ€§è¿›è¡Œå“åº”å¼å¤„ç†</span></span><br><span class="line">  <span class="title function_">defineReactive</span>(ob.<span class="property">value</span>, key, val)</span><br><span class="line">  ob.<span class="property">dep</span>.<span class="title function_">notify</span>()</span><br><span class="line">  <span class="keyword">return</span> val</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬é˜…è¯»ä»¥ä¸Šæºç å¯çŸ¥ï¼Œvm.$set çš„å®ç°åŸç†æ˜¯ï¼š</p><ol><li>å¦‚æœç›®æ ‡æ˜¯æ•°ç»„ï¼Œç›´æ¥ä½¿ç”¨æ•°ç»„çš„ splice æ–¹æ³•è§¦å‘ç›¸åº”å¼ï¼›</li><li>å¦‚æœç›®æ ‡æ˜¯å¯¹è±¡ï¼Œä¼šå…ˆåˆ¤è¯»å±æ€§æ˜¯å¦å­˜åœ¨ã€å¯¹è±¡æ˜¯å¦æ˜¯å“åº”å¼ï¼Œ</li><li>æœ€ç»ˆå¦‚æœè¦å¯¹å±æ€§è¿›è¡Œå“åº”å¼å¤„ç†ï¼Œåˆ™æ˜¯é€šè¿‡è°ƒç”¨ defineReactive æ–¹æ³•è¿›è¡Œå“åº”å¼å¤„ç†</li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> å…«è‚¡æ–‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptå…«è‚¡æ–‡</title>
      <link href="/2024/03/07/%E5%85%AB%E8%82%A1%E6%96%87/JavaScript%E5%85%AB%E8%82%A1%E6%96%87/"/>
      <url>/2024/03/07/%E5%85%AB%E8%82%A1%E6%96%87/JavaScript%E5%85%AB%E8%82%A1%E6%96%87/</url>
      
        <content type="html"><![CDATA[<h1 id="JavaScript-å˜é‡"><a href="#JavaScript-å˜é‡" class="headerlink" title="JavaScript å˜é‡"></a>JavaScript å˜é‡</h1><h2 id="varã€letã€const-çš„å·®å¼‚ï¼Ÿ"><a href="#varã€letã€const-çš„å·®å¼‚ï¼Ÿ" class="headerlink" title="varã€letã€const çš„å·®å¼‚ï¼Ÿ"></a>varã€letã€const çš„å·®å¼‚ï¼Ÿ</h2><h3 id="ç›¸åŒç‚¹"><a href="#ç›¸åŒç‚¹" class="headerlink" title="ç›¸åŒç‚¹"></a>ç›¸åŒç‚¹</h3><p><code>var</code>ã€<code>let</code>ã€<code>const</code> ä¸‰è€…éƒ½å¯ä»¥å£°æ˜å˜é‡ã€‚å˜é‡å¯ä»¥çœ‹ä½œç›’å­ï¼Œå˜é‡åå°±æ˜¯ç›’å­åç§°ï¼Œå€¼æ˜¯æ”¾åœ¨ç›’å­é‡Œçš„ä¸œè¥¿ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// var å£°æ˜å˜é‡ï¼Œåˆå§‹å€¼å¯é€‰</span></span><br><span class="line"><span class="keyword">var</span> name;</span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;Lucy&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// let å£°æ˜å˜é‡ï¼Œåˆå§‹å€¼å¯é€‰</span></span><br><span class="line"><span class="keyword">let</span> age;</span><br><span class="line"><span class="keyword">let</span> age = <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// const å£°æ˜å¸¸é‡ï¼Œå¿…é¡»è¦èµ‹åˆå§‹å€¼</span></span><br><span class="line"><span class="keyword">const</span> city = <span class="string">&quot;Beijing&quot;</span>;</span><br><span class="line"><span class="comment">// å¦‚æœç»™å¸¸é‡é‡æ–°èµ‹å€¼ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="keyword">const</span> city = <span class="string">&quot;Shanghai&quot;</span>; <span class="comment">// Uncaught SyntaxError: Identifier &#x27;city&#x27; has alre ady been declared</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœå¸¸é‡çš„å€¼æ˜¯å¯¹è±¡ï¼ˆæ•°ç»„ï¼‰ï¼Œä¸å¯ä»¥ä¿®æ”¹å¸¸é‡æŒ‡å‘çš„å¼•ç”¨ï¼Œä½†æ˜¯å¯ä»¥ä¿®æ”¹å¼•ç”¨çš„å€¼</span></span><br><span class="line"><span class="keyword">const</span> cities = [<span class="string">&quot;Beijing&quot;</span>];</span><br><span class="line">cities[<span class="number">0</span>] = [<span class="string">&quot;Shanghai&quot;</span>]; <span class="comment">// &quot;Shanghai&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å·®å¼‚"><a href="#å·®å¼‚" class="headerlink" title="å·®å¼‚"></a>å·®å¼‚</h3><p><code>var</code>ã€<code>let</code>ã€<code>const</code> ä¸‰è€…çš„å·®å¼‚ï¼š</p><table><thead><tr><th></th><th>å®šä¹‰</th><th>ä½œç”¨åŸŸ</th><th>æš‚æ—¶æ€§æ­»åŒº</th><th>é‡å¤å£°æ˜å˜é‡</th><th>å…¨å±€å±æ€§</th></tr></thead><tbody><tr><td>const</td><td>å£°æ˜å¸¸é‡</td><td>å—çº§ä½œç”¨åŸŸ</td><td>âœ…</td><td>â</td><td>â</td></tr><tr><td>let</td><td>å£°æ˜å˜é‡ï¼ˆES6 æ–°å¢ï¼‰</td><td>å—çº§ä½œç”¨åŸŸ</td><td>âœ…</td><td>â</td><td>â</td></tr><tr><td>var</td><td>å£°æ˜å˜é‡</td><td>å‡½æ•°ä½œç”¨åŸŸï¼ˆå‡½æ•°å†…ï¼‰</td><td>â</td><td>âœ…</td><td>âœ…</td></tr></tbody></table><p>æ³¨ï¼š</p><p>æš‚æ—¶æ€§æ­»åŒºï¼šTemporal dead zoneï¼ˆTDZï¼‰</p><p>å…¨å±€å±æ€§ï¼šæ˜¯å¦ä¼šè¢«æ·»åŠ åˆ° <code>window</code> æˆ– <code>globalThis</code> ç­‰å¯¹è±¡ä¸­</p><h3 id="æš‚æ—¶æ€§æ­»åŒº"><a href="#æš‚æ—¶æ€§æ­»åŒº" class="headerlink" title="æš‚æ—¶æ€§æ­»åŒº"></a>æš‚æ—¶æ€§æ­»åŒº</h3><p>ä»ä¸€ä¸ªä»£ç å—çš„å¼€å§‹ç›´åˆ°ä»£ç æ‰§è¡Œåˆ°å£°æ˜å˜é‡çš„è¡Œä¹‹å‰ï¼Œ<code>let</code> æˆ– <code>const</code> å£°æ˜çš„å˜é‡éƒ½å¤„äºâ€œæš‚æ—¶æ€§æ­»åŒºä¸­ã€‚ç®€å•ç†è§£ï¼š<code>let</code> æˆ– <code>const</code> åªèƒ½å…ˆå£°æ˜å†è®¿é—®ã€‚å¦‚ä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®¿é—® person å˜é‡</span></span><br><span class="line"><span class="comment">// å˜é‡ person ä½¿ç”¨ let å£°æ˜ï¼Œå£°æ˜ä¸ä¼šæå‡ï¼Œå› æ­¤æ­¤å¤„è®¿é—®ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person);  <span class="comment">// ReferenceError: person is not defined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å£°æ˜ person </span></span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;Lucy&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åŒç†ï¼Œä½¿ç”¨ <code>const</code> å£°æ˜å˜é‡ï¼Œå¦‚æœåœ¨å£°æ˜å‰ä½¿ç”¨ï¼Œè¡¨ç°ä¸ <code>let</code> ä¸€è‡´ã€‚<code>var</code> å£°æ˜çš„å…¨å±€å˜é‡ä¼šè¿›è¡Œå˜é‡æå‡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person); <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;Lucy&quot;</span></span><br><span class="line">&#125;; </span><br></pre></td></tr></table></figure><h3 id="å…¨å±€å±æ€§"><a href="#å…¨å±€å±æ€§" class="headerlink" title="å…¨å±€å±æ€§"></a>å…¨å±€å±æ€§</h3><p><code>var</code> å£°æ˜çš„å˜é‡ä¼šè¢«æ·»åŠ åˆ°å…¨å±€å¯¹è±¡ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>window </code>å’Œ <code>globalThis</code> è®¿é—®ï¼Œ<code>let</code> å’Œ <code>const</code> å£°æ˜çš„å…¨å±€å˜é‡åˆ™ä¸ä¼šæ·»åŠ åˆ°å…¨å±€å¯¹è±¡ä¸­ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;Lucy&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">name</span>); <span class="comment">// &quot;Lucy&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(globalThis.<span class="property">name</span>); <span class="comment">// &quot;Lucy&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> age = <span class="number">12</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">age</span>); <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(globalThis.<span class="property">age</span>); <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> gender = <span class="string">&quot;female&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">gender</span>); <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(globalThis.<span class="property">gender</span>); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><h3 id="å°ç»ƒä¹ "><a href="#å°ç»ƒä¹ " class="headerlink" title="å°ç»ƒä¹ "></a>å°ç»ƒä¹ </h3><p>ä»¥ä¸‹ä»£ç è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">prop</span>: <span class="number">0</span> &#125;;</span><br><span class="line">obj.<span class="property">prop</span> = obj.<span class="property">prop</span> + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">prop</span>); <span class="comment">// 1. æ‰“å°ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</span></span><br><span class="line">obj = &#123;&#125;; <span class="comment">// 2. æ‰§è¡Œç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</span></span><br></pre></td></tr></table></figure><p>ç­”æ¡ˆï¼š1 å¤„è¾“å‡º 1ï¼Œ 2 å¤„æŠ¥é”™ï¼š â€œUncaught TypeError: Assignment to constant variableâ€ã€‚è¿™ä¸ <code>const</code> çš„ç‰¹æ€§æœ‰å…³ï¼Œ<code>const</code> ä»…ä»…æ„å‘³ç€<strong>å˜é‡åå’Œå€¼çš„ç»‘å®šæ˜¯ä¸å¯å˜çš„</strong>ï¼Œä½†æ˜¯å®ƒçš„å€¼å¯ä»¥æ˜¯å¯å˜çš„ï¼Œå¦‚ 1 å¤„ çš„å€¼ <code>&#123; prop: 0 &#125;</code> å°±å¯ä»¥æ›´æ”¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼š1 å¤„ <code>obj</code> çš„å€¼æ˜¯å¯¹è±¡ï¼Œå¯ä»¥æ”¹å˜ <code>obj</code> çš„å±æ€§ï¼Œç„¶è€Œä¸èƒ½é‡æ–°ç»™ <code>obj</code> èµ‹æ–°çš„å€¼ï¼ˆ2 å¤„ï¼‰ã€‚</p><hr><h2 id="è°ˆè°ˆä½œç”¨åŸŸ"><a href="#è°ˆè°ˆä½œç”¨åŸŸ" class="headerlink" title="è°ˆè°ˆä½œç”¨åŸŸ?"></a>è°ˆè°ˆä½œç”¨åŸŸ?</h2><h3 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h3><blockquote><p>ä½œç”¨åŸŸæ˜¯å½“å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå€¼å’Œè¡¨è¾¾å¼åœ¨å…¶ä¸­â€œå¯è§â€æˆ–å¯è¢«è®¿é—®ã€‚</p></blockquote><h3 id="é™æ€ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸ"><a href="#é™æ€ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸ" class="headerlink" title="é™æ€ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸ"></a>é™æ€ä½œç”¨åŸŸå’ŒåŠ¨æ€ä½œç”¨åŸŸ</h3><p>ä½œç”¨åŸŸåˆ†ä¸ºé™æ€ä½œç”¨åŸŸï¼ˆåˆç§°ä¸ºè¯æ³•ä½œç”¨åŸŸï¼‰å’ŒåŠ¨æ€ä½œç”¨åŸŸï¼š</p><ul><li>é™æ€æ„å‘³ç€å®ƒä¸ä»£ç çš„ä½ç½®æœ‰å…³ï¼Œä¸æ‰§è¡Œä»£ç æ—¶çš„ç¯å¢ƒæ— å…³ã€‚JavaScript é‡‡ç”¨çš„æ˜¯é™æ€ä½œç”¨åŸŸã€‚</li><li>åŠ¨æ€å³è¿è¡Œæ—¶ï¼Œä»£ç æ‰§è¡Œæ—¶ç¡®å®šçš„ã€‚</li></ul><h3 id="JavaScript-ä½œç”¨åŸŸ"><a href="#JavaScript-ä½œç”¨åŸŸ" class="headerlink" title="JavaScript ä½œç”¨åŸŸ"></a>JavaScript ä½œç”¨åŸŸ</h3><p>JavaScript çš„ä½œç”¨åŸŸå¯ä»¥åˆ†ä¸ºä»¥ä¸‹å››ç§ï¼š</p><ul><li><p>å…¨å±€ä½œç”¨åŸŸï¼šè„šæœ¬æ¨¡å¼è¿è¡Œæ‰€æœ‰ä»£ç çš„é»˜è®¤ä½œç”¨åŸŸ</p></li><li><p>å‡½æ•°ä½œç”¨åŸŸï¼šç”±å‡½æ•°åˆ›å»ºçš„ä½œç”¨åŸŸ</p></li><li><p>å—çº§ä½œç”¨åŸŸï¼šç”¨ä¸€å¯¹èŠ±æ‹¬å·ï¼ˆä¸€ä¸ªä»£ç å—ï¼‰åˆ›å»ºå‡ºæ¥çš„ä½œç”¨åŸŸ</p></li><li><p>æ¨¡å—ä½œç”¨åŸŸï¼šæ¨¡å—æ¨¡å¼ä¸­è¿è¡Œä»£ç çš„ä½œç”¨åŸŸ</p></li></ul><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ†æä¸€ä¸‹å„ç§ä½œç”¨åŸŸçš„ç‰¹ç‚¹ã€‚</p><h3 id="å…¨å±€ä½œç”¨åŸŸ"><a href="#å…¨å±€ä½œç”¨åŸŸ" class="headerlink" title="å…¨å±€ä½œç”¨åŸŸ"></a>å…¨å±€ä½œç”¨åŸŸ</h3><p>JavaScript å˜é‡ä½œç”¨åŸŸæ˜¯åµŒå¥—çš„ï¼Œå®ƒä»¬å½¢æˆæ ‘ï¼š</p><ul><li><p>æœ€å¤–é¢çš„ä½œç”¨åŸŸæ˜¯æ ‘çš„æ ¹éƒ¨ï¼Œä¹Ÿå«å…¨å±€ä½œç”¨åŸŸã€‚</p></li><li><p>è¢«æœ€å¤–å±‚ä½œç”¨åŸŸåŒ…å«çš„ä½œç”¨åŸŸæ˜¯æ ¹çš„å­å­™ï¼Œå¦‚å„ç§åµŒå¥—çš„ä»£ç å—å½¢æˆçš„ä½œç”¨åŸŸã€‚</p></li></ul><p>å…¨å±€ä½œç”¨åŸŸä¸­çš„å˜é‡ç§°ä¸º<strong>å…¨å±€å˜é‡</strong>ï¼Œå¯ä»¥åœ¨ä»»ä½•ä½œç”¨åŸŸå†…è®¿é—®ã€‚æœ‰ä¸¤ç§å…¨å±€å˜é‡ï¼š</p><ul><li><p><strong>å…¨å±€å£°æ˜å˜é‡</strong>ï¼ˆdeclarative variablesï¼‰æ˜¯æ™®é€šå˜é‡ï¼Œåœ¨æœ€é¡¶çº§ç”± <code>const</code>ã€<code>let</code> å’Œ <code>class</code> å£°æ˜çš„å˜é‡ã€‚</p></li><li><p><strong>å…¨å±€å¯¹è±¡</strong>ï¼ˆobject variablesï¼‰æ˜¯å­˜å‚¨åœ¨å…¨å±€å¯¹è±¡ä¸­çš„å±æ€§ï¼š</p><ul><li>åœ¨æœ€é¡¶çº§ç”± <code>var</code> å’Œ <code>function</code> å£°æ˜ååˆ›å»ºçš„å˜é‡</li><li>å…¨å±€å¯¹è±¡å¯ä»¥é€šè¿‡ <code>globalThis</code> å’Œ <code>window</code> è®¿é—®ï¼Œå®ƒå¯ä»¥å¯¹å…¨å±€å¯¹è±¡å˜é‡è¿›è¡Œå¢åˆ æ”¹æŸ¥</li></ul></li></ul><p>å…¨å±€å±æ€§ <code>globalThis</code> åŒ…å«å…¨å±€çš„ <code>this</code> å€¼ï¼Œç±»ä¼¼äºå…¨å±€å¯¹è±¡ã€‚<code>globalThis</code> æä¾›äº†ä¸€ä¸ªæ ‡å‡†çš„æ–¹å¼æ¥è·å–ä¸åŒç¯å¢ƒä¸‹çš„å…¨å±€ <code>this</code> å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯å…¨å±€å¯¹è±¡è‡ªèº«ï¼‰ï¼Œå®ƒå¯ä»¥åœ¨ä»»ä½•ç¯å¢ƒä¸‹ä½¿ç”¨ã€‚</p><p>ä¸‹é¢çš„ä»£ç å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½ç†è§£ <code>globalThis</code> å’Œä¸¤ç§å…¨å±€å˜é‡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">const</span> declarativeVariable = <span class="string">&#x27;d&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> objectVariable = <span class="string">&#x27;o&#x27;</span>;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// æ‰€æœ‰è„šæœ¬å…±äº«åŒæ ·çš„é¡¶çº§ä½œç”¨åŸŸ</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="variable language_">console</span>.<span class="title function_">log</span>(declarativeVariable); <span class="comment">// &#x27;d&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="variable language_">console</span>.<span class="title function_">log</span>(objectVariable); <span class="comment">// &#x27;o&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// ä¸æ˜¯æ‰€æœ‰å˜é‡éƒ½ä¼šåˆ›å»ºä¸ºå…¨å±€å¯¹è±¡çš„å±æ€§</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// æ­¤å¤„æœ€é¡¶å±‚ const åˆ›å»ºçš„æ˜¯å…¨å±€å£°æ˜å˜é‡ï¼Œä¸æ˜¯å…¨å±€å¯¹è±¡ï¼Œå› æ­¤ window å¯¹è±¡ä¸‹è®¿é—®ä¸º undefined</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">declarativeVariable</span>); <span class="comment">// undefined</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">objectVariable</span>); <span class="comment">// &#x27;o&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// globalThis åŒ window è¡¨ç°ä¸€è‡´</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="variable language_">console</span>.<span class="title function_">log</span>(globalThis.<span class="property">declarativeVariable</span>); <span class="comment">// undefined  </span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="variable language_">console</span>.<span class="title function_">log</span>(globalThis.<span class="property">objectVariable</span>); <span class="comment">// &#x27;o&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>è§‚å¯Ÿä»¥ä¸Šçš„ä»£ç ï¼Œå°±èƒ½æ˜ç™½ä¸ºä»€ä¹ˆæœ€é¡¶å±‚ <code>const</code> åˆ›å»ºçš„å˜é‡ï¼Œä½¿ç”¨ <code>window</code> è®¿é—®ä¾ç„¶æ˜¯ <code>undefined</code>ã€‚</p><h3 id="å‡½æ•°ä½œç”¨åŸŸ"><a href="#å‡½æ•°ä½œç”¨åŸŸ" class="headerlink" title="å‡½æ•°ä½œç”¨åŸŸ"></a>å‡½æ•°ä½œç”¨åŸŸ</h3><p>å‡½æ•°å†…å£°æ˜çš„å˜é‡ï¼Œåªèƒ½åœ¨å‡½æ•°ä½œç”¨åŸŸèŒƒå›´å†…è®¿é—®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">scope</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">var</span> address = <span class="string">&quot;Beijing&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(address); <span class="comment">// Uncaught ReferenceError: address is not defined </span></span><br></pre></td></tr></table></figure><h3 id="å—çº§ä½œç”¨åŸŸ"><a href="#å—çº§ä½œç”¨åŸŸ" class="headerlink" title="å—çº§ä½œç”¨åŸŸ"></a>å—çº§ä½œç”¨åŸŸ</h3><p>ä½œç”¨åŸŸå¯¹å˜é‡æ¥è¯´ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºç¨‹åºèƒ½å¤Ÿè®¿é—®åˆ°å˜é‡çš„èŒƒå›´ï¼Œè¶…è¿‡ä½œç”¨åŸŸçš„å°±æ— æ³•è®¿é—®ã€‚</p><h4 id="let-å’Œ-const"><a href="#let-å’Œ-const" class="headerlink" title="let å’Œ const"></a><code>let</code> å’Œ <code>const</code></h4><p><code>let</code>ã€<code>const</code> æ”¯æŒå—çº§ä½œç”¨åŸŸã€‚å¦‚æœåœ¨ä»£ç å— <code>&#123;...&#125;</code> ä¸­ä½¿ç”¨ <code>let</code> æˆ– <code>const</code> å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡åªåœ¨è¯¥ä»£ç å—ä¸­å¯è§ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123; </span><br><span class="line">    <span class="comment">// ä½œç”¨åŸŸ Aï¼Œå¯ä»¥è®¿é—®å˜é‡ x</span></span><br><span class="line">    <span class="keyword">const</span> x = <span class="number">0</span>; </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x); <span class="comment">// 0</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// ä½œç”¨åŸŸ Bï¼Œå¯ä»¥è®¿é—® xã€y</span></span><br><span class="line">        <span class="keyword">const</span> y  = <span class="number">1</span>;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(x); <span class="comment">// 0</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(y); <span class="comment">// 1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä½œç”¨åŸŸ A å¤–ï¼Œä¸èƒ½è®¿é—® xã€y</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x); <span class="comment">// æŠ¥é”™ï¼šUncaught ReferenceError: x is not defined</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åˆ†æä¸€ä¸‹ä¸Šé¢çš„ä»£ç ï¼š</p><ul><li>ä½œç”¨åŸŸ A æ˜¯å˜é‡ <code>x</code> çš„ä½œç”¨åŸŸ</li><li>ä½œç”¨åŸŸ B æ˜¯ä½œç”¨åŸŸ A çš„å†…éƒ¨ä½œç”¨åŸŸ</li><li>ä½œç”¨åŸŸ A æ˜¯ä½œç”¨åŸŸ B å¤–éƒ¨ä½œç”¨åŸŸ</li></ul><p>æ¯ä¸ªå˜é‡å¯è®¿é—®çš„èŒƒå›´æ˜¯å®ƒæ‰€åœ¨çš„ä½œç”¨åŸŸä»¥åŠè¯¥ä½œç”¨åŸŸæ‰€åµŒå¥—çš„å¤–éƒ¨ä½œç”¨åŸŸã€‚<code>let</code> å’Œ <code>const</code> å£°æ˜çš„å˜é‡æ˜¯å—çº§çš„ï¼Œå› æ­¤å®ƒä»¬ä½œç”¨åŸŸå§‹ç»ˆåœ¨å—ä¸­ã€‚åŒä¸€ä½œç”¨åŸŸå†…ï¼Œä¸å…è®¸å£°æ˜åŒåå˜é‡ã€‚å¦‚ä¸‹ç¤ºä¾‹ä»£ç ç”¨ <code>const</code> å£°æ˜åŒåå˜é‡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"> <span class="keyword">const</span> x = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">const</span> x = <span class="number">2</span>; <span class="comment">// æŠ¥é”™ï¼šUncaught SyntaxError: Identifier &#x27;x&#x27; has already been declared</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸åŒä½œç”¨åŸŸä¸‹å¯ä»¥ä½¿ç”¨åŒåå˜é‡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">const</span> x = <span class="number">1</span>;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">const</span> x = <span class="number">2</span>; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="class"><a href="#class" class="headerlink" title="class"></a><code>class</code></h4><p><code>class</code> å£°æ˜çš„ç±»ä¹Ÿæ”¯æŒå—çº§ä½œç”¨åŸŸã€‚å¦‚ä¸‹é¢ä»£ç ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸä¸­å£°æ˜äº† <code>Animal</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Animal</span>); <span class="comment">// class Animal &#123;&#125;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœåœ¨ä»£ç å— <code>&#123;...&#125;</code> ä¸­åˆ›å»º <code>Animal</code>ï¼Œæ­¤æ—¶åœ¨ä»£ç å—å¤–éƒ¨å°±æ— æ³•è®¿é—® <code>Animal</code>äº†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">class Animal &#123;&#125;</span><br><span class="line">console.log(Animal) // class Animal &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(Animal); // Uncaught ReferenceError: Animal is not defined </span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ¨¡å—ä½œç”¨åŸŸ"><a href="#æ¨¡å—ä½œç”¨åŸŸ" class="headerlink" title="æ¨¡å—ä½œç”¨åŸŸ"></a>æ¨¡å—ä½œç”¨åŸŸ</h3><p>æ¯ä¸ª ECMAScript æ¨¡å—ï¼ˆES6 Modulesï¼‰éƒ½æœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼Œå› æ­¤ï¼Œåœ¨é¡¶çº§æ¨¡å—ä¸­å£°æ˜çš„å˜é‡ä¸æ˜¯å…¨å±€çš„ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://pic.leetcode.cn/1675243681-ITEQCA-image.png#id=Usa3j&originHeight=485&originWidth=815&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title="></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ä½œç”¨åŸŸæ˜¯å€¼æˆ–è€…è¡¨è¾¾å¼çš„å¯è®¿é—®èŒƒå›´ã€‚åˆ†ä¸ºé™æ€ä½œç”¨åŸŸï¼ˆè¯æ³•ä½œç”¨åŸŸï¼‰å’ŒåŠ¨æ€ä½œç”¨åŸŸï¼ŒJavaScript é‡‡ç”¨çš„æ˜¯é™æ€ä½œç”¨åŸŸã€‚å…¶ä¸­ï¼Œåˆ†ä¸ºå››ç§ä¸åŒçš„ä½œç”¨åŸŸï¼šå…¨å±€ä½œç”¨åŸŸã€å‡½æ•°ä½œç”¨åŸŸã€å—çº§ä½œç”¨åŸŸä»¥åŠæ¨¡å—ä½œç”¨åŸŸã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œæ–‡ä¸­è¿˜æåˆ°äº†å„ç§å£°æ˜ä¸ä½œç”¨åŸŸçš„å…³ç³»ï¼Œä¸‹é¢æ€»ç»“ä¸€ä¸‹å„ç§å£°æ˜çš„å¼‚åŒã€‚æˆ‘ä»¬ä»ä»¥ä¸‹å››ä¸ªæ–¹é¢æ¥çœ‹å„ç§å£°æ˜çš„å¼‚åŒï¼š</p><ul><li>ä½œç”¨åŸŸ</li><li>æš‚æ—¶æ€§æ­»åŒºï¼šå˜é‡ä½•æ—¶å¯ä»¥è®¿é—®ï¼Ÿä¸€äº›å˜é‡åœ¨è¿›å…¥ä½œç”¨åŸŸåå¯å°½å¿«è¢«è®¿é—®ï¼Œä½†æœ‰çš„å¿…é¡»ç­‰åˆ°ä»£ç æ‰§è¡Œåˆ°å®ƒä»¬å£°æ˜æ—¶æ‰å¯ä»¥è®¿é—®ã€‚é€šä¿—è¯´æ³•æ˜¯ï¼Œè¿™ä¸ªå˜é‡æ˜¯å¦å¯ä»¥å…ˆè®¿é—®å†å£°æ˜ã€‚æš‚æ—¶æ€§æ­»åŒºï¼ˆTDZï¼Œ Temporal Dead Zoneï¼‰ å°±æ˜¯å˜é‡åœ¨è¿›å…¥ä½œç”¨åŸŸå’Œæ‰§è¡Œå£°æ˜å‰çš„ä¸€æ®µæ—¶é—´ã€‚åœ¨è¿™æ®µæ—¶é—´å†…ï¼Œè®¿é—®å˜é‡ä¼šæŠ¥é”™ã€‚</li><li>é‡å¤ï¼šå˜é‡æ˜¯å¦å¯ä»¥é‡å¤å£°æ˜ï¼ˆåŒçº§ä½œç”¨åŸŸä¸‹ï¼‰</li><li>å…¨å±€å±æ€§ï¼šå£°æ˜çš„å˜é‡æ˜¯å¦ä¼šè¢«æ·»åŠ åˆ°å…¨å±€å¯¹è±¡ä¸­</li></ul><table><thead><tr><th></th><th>å®šä¹‰</th><th>ä½œç”¨åŸŸ</th><th>æš‚æ—¶æ€§æ­»åŒº</th><th>é‡å¤å£°æ˜å˜é‡</th><th>å…¨å±€å±æ€§</th></tr></thead><tbody><tr><td>const</td><td>å£°æ˜å¸¸é‡</td><td>å—çº§ä½œç”¨åŸŸ</td><td>âœ…</td><td>â</td><td>â</td></tr><tr><td>let</td><td>å£°æ˜å˜é‡ï¼ˆES6 æ–°å¢ï¼‰</td><td>å—çº§ä½œç”¨åŸŸ</td><td>âœ…</td><td>â</td><td>â</td></tr><tr><td>function</td><td>å£°æ˜å¸¸é‡</td><td>å—çº§ä½œç”¨åŸŸ</td><td>â</td><td>âœ…</td><td>âœ…</td></tr><tr><td>class</td><td></td><td>å—çº§ä½œç”¨åŸŸ</td><td>âœ…</td><td>â</td><td>â</td></tr><tr><td>var</td><td>å£°æ˜å˜é‡</td><td>å‡½æ•°ä½œç”¨åŸŸï¼ˆå‡½æ•°å†…ï¼‰</td><td>â</td><td>âœ…</td><td>âœ…</td></tr></tbody></table><hr><h2 id="ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼Ÿ</h2><p>å˜é‡æå‡å’Œä¸Šæ–‡æåˆ°è§¦å‘æ—¶é—´æœ‰å…³ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œ<code>var</code> å’Œ <code>function</code> å£°æ˜çš„å˜é‡å¯ä»¥åœ¨å£°æ˜å‰è®¿é—®ï¼Œè¿™å°±æ˜¯å› ä¸ºå˜é‡æå‡çš„ç¼˜æ•…ã€‚</p><p>å½“ JavaScript å¼•æ“æ‰§è¡Œä»£ç æ—¶ï¼Œåˆ›å»ºäº†å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå®ƒæœ‰ä¸¤ä¸ªé˜¶æ®µï¼š</p><ul><li>åˆ›å»ºï¼ˆå‡†å¤‡å·¥ä½œï¼‰</li><li>æ‰§è¡Œ</li></ul><p>åœ¨åˆ›å»ºé˜¶æ®µï¼ŒJavaScript å¼•æ“å°† <code>var</code> å’Œ <code>function</code> å£°æ˜ç§»åˆ°äº†é¡¶å±‚ï¼Œè¿™å°±æ˜¯ JavaScript çš„å˜é‡æå‡ã€‚</p><h3 id="var-å…³é”®å­—"><a href="#var-å…³é”®å­—" class="headerlink" title="var å…³é”®å­—"></a><code>var</code> å…³é”®å­—</h3><p>æˆ‘ä»¬å…ˆçœ‹ä¸€æ®µä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(counter); <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">var</span> counter = <span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬åœ¨å£°æ˜å‰è®¿é—® <code>counter</code> å˜é‡ï¼Œå¹¶æœªæŠ¥é”™ã€‚è¿™æ˜¯å˜é‡æå‡çš„ç¼˜æ•…ã€‚</p><h3 id="function-æå‡"><a href="#function-æå‡" class="headerlink" title="function æå‡"></a><code>function</code> æå‡</h3><p>å’Œ <code>var</code> ä¸€æ ·ï¼Œå‡½æ•°å£°æ˜ä¹Ÿä¼šæå‡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">20</span>,</span><br><span class="line">y = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = <span class="title function_">add</span>(x, y);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result); <span class="comment">// 30</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é™¤æ­¤ä¹‹å¤–ï¼Œ<code>let</code> å…³é”®å­—ã€å‡½æ•°è¡¨è¾¾å¼ã€ç®­å¤´å‡½æ•°ç­‰å‡ä¸ä¼šå˜é‡æå‡ã€‚</p><h3 id="å¤„ç†ç›¸åŒçš„å˜é‡åæˆ–è€…å‡½æ•°å"><a href="#å¤„ç†ç›¸åŒçš„å˜é‡åæˆ–è€…å‡½æ•°å" class="headerlink" title="å¤„ç†ç›¸åŒçš„å˜é‡åæˆ–è€…å‡½æ•°å"></a>å¤„ç†ç›¸åŒçš„å˜é‡åæˆ–è€…å‡½æ•°å</h3><p>ä»£ç ä¸­å‡ºç°ç›¸åŒçš„å˜é‡æˆ–è€…å‡½æ•°æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬çŸ¥é“ <code>var</code> å£°æ˜çš„åŒåå˜é‡ï¼Œåè€…ä¼šè¦†ç›–å‰è€…ï¼Œå¦‚æœæ˜¯å‡½æ•°å‘¢ï¼Ÿå…ˆçœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">20</span>,</span><br><span class="line">y = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = <span class="title function_">add</span>(x, y);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;result &quot;</span> + result); <span class="comment">// &quot;result 60&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> a + <span class="number">40</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result1 = <span class="title function_">add</span>(x);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;result1 &quot;</span> + result); <span class="comment">// &quot;result1 60&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä»ä¸Šé¢çš„ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œä¸¤ä¸ªåŒåå‡½æ•° <code>add</code>ï¼Œå®šä¹‰åœ¨åé¢çš„å‡½æ•°è¦†ç›–äº†å‰é¢çš„å‡½æ•°ï¼Œå› æ­¤ <code>result</code> å’Œ <code>result1</code> çš„ç»“æœéƒ½æ˜¯æ‰§è¡Œåé¢çš„å‡½æ•°åè¿”å›çš„ç»“æœã€‚</p><p>å› æ­¤ï¼Œä»£ç ä¸­å‡ºç°åŒåçš„å˜é‡åæˆ–è€…å‡½æ•°åï¼Œéƒ½æ˜¯åè€…è¦†ç›–å‰è€…ã€‚</p><h3 id="å°ç»ƒä¹ -1"><a href="#å°ç»ƒä¹ -1" class="headerlink" title="å°ç»ƒä¹ "></a>å°ç»ƒä¹ </h3><p>ä¸‹é¢çš„ä»£ç è¾“å‡ºçš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">20</span>,</span><br><span class="line">y = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = <span class="title function_">add</span>(x);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;result1 &quot;</span> + result); <span class="comment">// &quot;result1 60&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> add = <span class="keyword">function</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> a + <span class="number">40</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè€ƒå¯Ÿçš„æ˜¯åŒåå˜é‡å’Œå‡½æ•°çš„æå‡ï¼Œåé¢çš„ä¼šè¦†ç›–å‰é¢çš„ï¼Œå› æ­¤æ‰§è¡Œçš„æ˜¯æœ€åä¸€ä¸ªå‡½æ•° <code>add</code>ã€‚</p><hr><h1 id="JavaScript-æ•°æ®ç±»å‹"><a href="#JavaScript-æ•°æ®ç±»å‹" class="headerlink" title="JavaScript æ•°æ®ç±»å‹"></a>JavaScript æ•°æ®ç±»å‹</h1><h2 id="JavaScript-æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ"><a href="#JavaScript-æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="JavaScript æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ"></a>JavaScript æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿ</h2><p>é¢è¯•é«˜é¢‘æŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜…â˜…</p><p>JavaScript ä¸­æœ‰å…«ç§åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼ˆå‰ä¸ƒç§ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¹Ÿç§°ä¸ºåŸå§‹æ•°æ®ç±»å‹ï¼Œåä¸€ç§ <code>Object</code> ä¸ºå¤æ‚æ•°æ®ç±»å‹ï¼Œä¹Ÿç§°ä¸ºéåŸå§‹æ•°æ®ç±»å‹æˆ–å¼•ç”¨ç±»å‹ï¼‰ã€‚</p><ul><li>å…¶ä¸­åŸå§‹æ•°æ®ç±»å‹ï¼š<ul><li><code>number</code> ç”¨äºä»»ä½•ç±»å‹çš„æ•°å­—ï¼šæ•´æ•°æˆ–æµ®ç‚¹æ•°ï¼Œåœ¨ <code>Â±(2(^53)-1)</code> èŒƒå›´å†…çš„æ•´æ•°ã€‚</li><li><code>bigint</code> ç”¨äºä»»æ„é•¿åº¦çš„æ•´æ•°ã€‚</li><li><code>string</code> ç”¨äºå­—ç¬¦ä¸²ï¼šä¸€ä¸ªå­—ç¬¦ä¸²å¯ä»¥åŒ…å« 0 ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥æ²¡æœ‰å•ç‹¬çš„å­—ç¬¦ç±»å‹ã€‚</li><li><code>boolean</code> ç”¨äº <code>true</code> å’Œ <code>false</code>ã€‚</li><li><code>null</code> ç”¨äºæœªçŸ¥çš„å€¼ â€”â€” åªæœ‰ä¸€ä¸ª <code>null</code> å€¼çš„ç‹¬ç«‹ç±»å‹ã€‚</li><li><code>undefined</code> ç”¨äºæœªå®šä¹‰çš„å€¼ â€”â€” åªæœ‰ä¸€ä¸ª <code>undefined</code> å€¼çš„ç‹¬ç«‹ç±»å‹ã€‚</li><li><code>symbol</code> ç”¨äºå”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚</li></ul></li><li>ä»¥åŠä¸€ç§éåŸå§‹æ•°æ®ç±»å‹ï¼š<ul><li><code>Object</code> ç”¨äºæ›´å¤æ‚çš„æ•°æ®ç»“æ„ã€‚ä»¥ä¸‹ç±»å‹éƒ½æ˜¯å¯¹è±¡ï¼š<ul><li><code>Function</code>ï¼ˆå‡½æ•°ï¼‰</li><li><code>Array</code>ï¼ˆæ•°ç»„ï¼‰</li><li><code>Date</code>ï¼ˆæ—¥æœŸï¼‰</li><li><code>RegExp</code>ï¼ˆæ­£åˆ™è¡¨è¾¾å¼ï¼‰</li></ul></li></ul></li></ul><h2 id="åŸå§‹æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹çš„åŒºåˆ«ï¼Ÿ"><a href="#åŸå§‹æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="åŸå§‹æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹çš„åŒºåˆ«ï¼Ÿ"></a>åŸå§‹æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹çš„åŒºåˆ«ï¼Ÿ</h2><p>é¢è¯•é«˜é¢‘æŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜…â˜†</p><p>JavaScript åŒ…å«ä¸¤ç§ä¸åŒç±»å‹çš„å€¼ï¼š</p><ul><li><p>åŸå§‹æ•°æ®ç±»å‹ï¼ˆPrimitive valuesï¼‰</p></li><li><p>å¼•ç”¨æ•°æ®ç±»å‹ï¼ˆReference valuesï¼‰</p></li></ul><h3 id="æ ˆå†…å­˜å’Œå †å†…å­˜"><a href="#æ ˆå†…å­˜å’Œå †å†…å­˜" class="headerlink" title="æ ˆå†…å­˜å’Œå †å†…å­˜"></a>æ ˆå†…å­˜å’Œå †å†…å­˜</h3><p>å½“å®šä¹‰ä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼ŒJavaScript å¼•æ“ä¼šä¸ºå˜é‡åˆ†é…ä¸¤ç§å†…å­˜ï¼šæ ˆå†…å­˜å’Œå †å†…å­˜ã€‚</p><p>é™æ€å€¼åœ¨ç¼–è¯‘é˜¶æ®µæœ‰å›ºå®šçš„å¤§å°ï¼Œé™æ€å€¼æœ‰ï¼š</p><ul><li>åŸå§‹å€¼ï¼š<code>Null</code>ã€<code>Undefined</code>ã€<code>Boolean</code>ã€<code>Number</code>ã€<code>String</code>ã€<code>Symbol</code>ã€<code>BigInt</code></li><li>å¼•ç”¨å€¼ï¼šæ˜¯å¯¹è±¡çš„å¼•ç”¨ã€‚</li></ul><p>é™æ€å€¼æœ‰å›ºå®šçš„å¤§å°ï¼Œä¸èƒ½æ”¹å˜ã€‚JavaScript å¼•æ“ä¸ºå®ƒä»¬åˆ†é…ä¸€ç‰‡å›ºå®šçš„å†…å­˜ï¼Œå¹¶å­˜å‚¨åœ¨æ ˆä¸Šã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&quot;John&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> age = <span class="number">25</span>;</span><br></pre></td></tr></table></figure><p>å› ä¸º <code>name</code> å’Œ <code>age</code> éƒ½æ˜¯åŸå§‹å€¼ç±»å‹ï¼ŒJavaScript å¼•æ“å°†å®ƒä»¬å­˜å‚¨åœ¨æ ˆä¸Šï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://pic.leetcode.cn/1675246723-ulSguk-image.png"></p><p>JavaScript å°†å¯¹è±¡ï¼ˆ<code>Object</code>) å­˜å‚¨åœ¨å †ï¼ˆheapï¼‰ä¸Šã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">25</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å†…å­˜å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://pic.leetcode.cn/1675246788-HjXqny-image.png"></p><p>JavaScript å¼•æ“åœ¨å †å†…å­˜ä¸Šåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼ŒåŒæ—¶å®ƒå’Œæ ˆå†…å­˜ä¸Šçš„ <code>person</code> å˜é‡è¿æ¥ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¯´ <code>person</code> å˜é‡æ˜¯å¯¹è±¡çš„å¼•ç”¨ã€‚</p><h3 id="åŠ¨æ€å±æ€§"><a href="#åŠ¨æ€å±æ€§" class="headerlink" title="åŠ¨æ€å±æ€§"></a>åŠ¨æ€å±æ€§</h3><p>ä¸€ä¸ªå¼•ç”¨å€¼å…è®¸æˆ‘ä»¬æ·»åŠ ã€ä¿®æ”¹å’Œåˆ é™¤å±æ€§ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">25</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ å±æ€§ ssn </span></span><br><span class="line">person.<span class="property">ssn</span> = <span class="string">&quot;123-45&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿®æ”¹ name</span></span><br><span class="line">person.<span class="property">name</span> = <span class="string">&quot;John Doe&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤å±æ€§ age </span></span><br><span class="line"><span class="keyword">delete</span> person.<span class="property">age</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person); <span class="comment">// &#123;name: &#x27;John Doe&#x27;, ssn: &#x27;123-45&#x27;&#125;</span></span><br></pre></td></tr></table></figure><p>JavaScript ä¹Ÿå…è®¸åœ¨åŸå§‹å€¼ä¸Šæ·»åŠ å±æ€§ï¼Œä½†è¿™ä¸ªå±æ€§ä¸ä¼šèµ·ä½œç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&quot;John&quot;</span>;</span><br><span class="line">name.<span class="property">alias</span> = <span class="string">&quot;Knight&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name.<span class="property">alias</span>); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><h3 id="å¤åˆ¶å€¼"><a href="#å¤åˆ¶å€¼" class="headerlink" title="å¤åˆ¶å€¼"></a>å¤åˆ¶å€¼</h3><h4 id="åŸå§‹å€¼"><a href="#åŸå§‹å€¼" class="headerlink" title="åŸå§‹å€¼"></a>åŸå§‹å€¼</h4><p><strong>å¯¹äºåŸå§‹å€¼æ¥è¯´ï¼ŒJavaScript å¼•æ“åˆ›å»ºä¸€ä¸ªå€¼çš„å‰¯æœ¬ï¼Œå¹¶å°†å€¼èµ‹ç»™æ–°çš„å˜é‡ã€‚</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = <span class="number">25</span>;</span><br><span class="line"><span class="keyword">let</span> newAge = age; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(age, newAge); <span class="comment">// 25 25</span></span><br></pre></td></tr></table></figure><p>è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ul><li><p>é¦–å…ˆï¼Œå£°æ˜ä¸€ä¸ªå˜é‡ <code>age</code>ï¼Œå¹¶å°† 25 èµ‹å€¼ç»™å®ƒã€‚</p></li><li><p>å…¶æ¬¡ï¼Œå£°æ˜å¦ä¸€ä¸ªæ–°çš„å˜é‡ <code>newAge</code>ï¼Œå°† <code>age</code> èµ‹å€¼ç»™ <code>newAge</code>ï¼ŒJavaScript å¼•æ“å°† 25 å¤åˆ¶äº†ä¸€ä»½ï¼Œç»™äº†æ–°å˜é‡ã€‚</p></li></ul><p>å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://pic.leetcode.cn/1675247356-DMFMSb-image.png"></p><p>å› æ­¤ï¼Œå¯¹ä¸¤ä¸ªå˜é‡çš„æ“ä½œä¸ä¼šäº’ç›¸å½±å“ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age = <span class="number">25</span>;</span><br><span class="line"><span class="keyword">let</span> newAge = age;</span><br><span class="line"></span><br><span class="line">newAge = newAge + <span class="number">1</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(age, newAge); <span class="comment">// 25 26</span></span><br></pre></td></tr></table></figure><p>å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://pic.leetcode.cn/1675247413-GScWMN-image.png"></p><h3 id="å¼•ç”¨å€¼"><a href="#å¼•ç”¨å€¼" class="headerlink" title="å¼•ç”¨å€¼"></a>å¼•ç”¨å€¼</h3><p><strong>å¯¹äºå¼•ç”¨å€¼æ¥è¯´ï¼Œå¤åˆ¶çš„å€¼æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤æ“ä½œçš„æ˜¯ä¹Ÿæ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚</strong></p><p>å½“æˆ‘ä»¬å°†ä¸€ä¸ªå¼•ç”¨å€¼ä»ä¸€ä¸ªå˜é‡èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡ï¼ŒJavaScript å¼•æ“åˆ›å»ºä¸€ä¸ªå¼•ç”¨ï¼Œå› æ­¤ä¸¤ä¸ªå˜é‡éƒ½æ˜¯æŒ‡å‘å †å†…å­˜ä¸­çš„åŒä¸€ä¸ªå¯¹è±¡ã€‚æ„å‘³ç€ï¼Œä½ ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªï¼Œå¦ä¸€ä¸ªä¹Ÿä¼šè¢«ä¿®æ”¹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">25</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> member = person;</span><br><span class="line">member.<span class="property">age</span> = <span class="number">26</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person); <span class="comment">// &#123;name: &#x27;John&#x27;, age: 26&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(member); <span class="comment">// &#123;name: &#x27;John&#x27;, age: 26&#125;</span></span><br></pre></td></tr></table></figure><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p>ä¿®æ”¹å‰ï¼š</p><p><img src="https://pic.leetcode.cn/1675247510-JurGlA-image.png"></p><p>ä¿®æ”¹åï¼š</p><p><img src="https://pic.leetcode.cn/1675247526-qFUHsM-image.png" alt="image.png"></p><h3 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li><p>JavaScript æœ‰ä¸¤ç§ç±»å‹çš„å€¼ï¼šåŸå§‹å€¼å’Œå¼•ç”¨å€¼</p></li><li><p>å¼•ç”¨ç±»å‹çš„å€¼å¯ä»¥å¯¹å®ƒçš„å±æ€§åšå¢åˆ æ”¹æŸ¥ï¼ŒåŸå§‹å€¼ä¸è¡Œ</p></li><li><p>ä»ä¸€ä¸ªå˜é‡å¤åˆ¶åŸå§‹å€¼åˆ°å¦ä¸€ä¸ªå˜é‡ï¼Œä¼šåˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„å€¼çš„å¤‡ä»½ï¼Œæ„å‘³ç€ä¿®æ”¹ä¸€ä¸ªå˜é‡ä¸ä¼šå½±å“åˆ°å¦ä¸€ä¸ªå˜é‡</p></li><li><p>ä»ä¸€ä¸ªå˜é‡å¤åˆ¶å¼•ç”¨å€¼åˆ°å¦ä¸€ä¸ªå˜é‡ï¼Œä¸¤ä¸ªå˜é‡ä¼šæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œæ„å‘³ç€é€šè¿‡ä¸€ä¸ªå˜é‡ä¿®æ”¹å¯¹è±¡å°†ä¼šå½±å“åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚</p></li></ul><h3 id="å°ç»ƒä¹ -2"><a href="#å°ç»ƒä¹ -2" class="headerlink" title="å°ç»ƒä¹ "></a>å°ç»ƒä¹ </h3><p>ä¸‹é¢ä»£ç çš„è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">25</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">increaseAge</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">    obj.<span class="property">age</span> += <span class="number">1</span>;</span><br><span class="line">    obj = &#123;<span class="attr">name</span>: <span class="string">&quot;Jame&quot;</span>, <span class="attr">age</span>: <span class="number">22</span>&#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj); <span class="comment">// 1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">increaseAge</span>(person);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><p>ç­”æ¡ˆï¼š1 å¤„æ˜¯ï¼š<code>&#123; name: &quot;Jame&quot;, age: 22 &#125;</code>ï¼Œ 2 å¤„æ˜¯ <code>&#123; name: &#39;John&#39;, age: 26 &#125;</code>ã€‚ä¸¤ä¸ªå˜é‡çš„å†…å­˜ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://pic.leetcode.cn/1675247879-Inlzhw-image.png" alt="image.png"></p><p>å®é™…ä¸Šï¼Œ<code>obj = &#123;name: &quot;Jame&quot;, age: 22&#125;</code> ä½¿å¾— <code>obj</code> é‡æ–°æŒ‡å‘äº†ä¸€ä¸ªæ–°çš„å¼•ç”¨çš„ï¼Œå¯¹è±¡åœ¨å †å†…å­˜ä¸­é‡æ–°åˆ†é…ä¸€å—å†…å­˜ï¼Œå¹¶è®© <code>obj</code> æŒ‡å‘å®ƒã€‚ å› æ­¤ <code>console.log(person)</code> çš„ç»“æœæ˜¯ <code>&#123; name: &quot;Jame&quot;, age: 22 &#125;</code>ã€‚</p><p>åŸå§‹ç±»å‹å’Œå¼•ç”¨ç±»å‹åœ¨å†…å­˜ä¸­çš„åˆ†é…ä¸å‡½æ•°å‚æ•°ä¼ é€’æœ‰è”ç³»ã€‚å‡½æ•°ä¼ å‚éƒ½æ˜¯å€¼ä¼ é€’ï¼Œåªä¸è¿‡æ ¹æ®å€¼çš„ç±»å‹ä¸åŒæœ‰æ‰€åŒºåˆ«ã€‚</p><p>ç”±ä¸Šå¯çŸ¥ï¼š</p><ul><li>JavaScript å®å‚éƒ½æ˜¯ä¼ å€¼</li><li>å‡½æ•°å®å‚ä¼šåœ¨å‡½æ•°ä¸­åˆ›å»ºæ–°çš„å±€éƒ¨å˜é‡ã€‚</li></ul><hr><h2 id="ä¸ºä»€ä¹ˆ-0-1-0-2-0-3"><a href="#ä¸ºä»€ä¹ˆ-0-1-0-2-0-3" class="headerlink" title="ä¸ºä»€ä¹ˆ 0.1 + 0.2 !&#x3D;&#x3D; 0.3 ?"></a>ä¸ºä»€ä¹ˆ 0.1 + 0.2 !&#x3D;&#x3D; 0.3 ?</h2><p>é¢è¯•é«˜é¢‘æŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜…â˜†</p><p>è¿™æ˜¯ä¸€é“ç»å…¸çš„é¢è¯•é¢˜ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.1</span> + <span class="number">0.2</span> === <span class="number">0.3</span>; <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ¶‰åŠåˆ° JavaScript ä¸­çš„æ•°å­—ç±»å‹ã€‚ä¸‹é¢æ˜¯ <code>Number</code> çš„å®šä¹‰ï¼š</p><p>MDN ä¸­å¯¹ <code>Number</code> çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><blockquote><p>æ ¹æ®è¯­è¨€è§„èŒƒï¼ŒJavaScript é‡‡ç”¨â€œéµå¾ª IEEE 754 æ ‡å‡†çš„åŒç²¾åº¦ 64 ä½æ ¼å¼â€ï¼ˆâ€double-precision 64-bit format IEEE 754 valuesâ€ï¼‰è¡¨ç¤ºæ•°å­—ã€‚</p></blockquote><h3 id="ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ"></a>ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ</h3><p>ç®€å•åœ°è¯´ï¼Œ0.1 å’Œ 0.2 çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼æ˜¯ä¸å‡†ç¡®çš„ï¼Œæ‰€ä»¥å®ƒä»¬ç›¸åŠ æ—¶ï¼Œç»“æœä¸æ˜¯ç²¾ç¡®çš„ 0.3ï¼Œ è€Œæ˜¯éå¸¸æ¥è¿‘çš„å€¼ï¼š0.30000000000000004ã€‚</p><p>è¿™æ˜¯å’Œ JavaScript é‡‡ç”¨â€œéµå¾ª IEEE 754 æ ‡å‡†çš„åŒç²¾åº¦ 64 ä½æ ¼å¼â€æœ‰å…³ã€‚</p><ul><li>sign bitï¼ˆç¬¦å·ï¼‰ï¼š ç”¨æ¥è¡¨ç¤ºæ­£è´Ÿå·</li><li>exponentï¼ˆæŒ‡æ•°ï¼‰ï¼š ç”¨æ¥è¡¨ç¤ºæ¬¡æ–¹æ•°</li><li>mantissaï¼ˆå°¾æ•°ï¼‰ï¼šç”¨æ¥è¡¨ç¤ºç²¾ç¡®åº¦</li></ul><p><img src="https://pic.leetcode.cn/1675248285-kMFmze-image.png" alt="image.png"></p><p>åœ¨è¿™ä¸ªæ ‡å‡†ä¸‹ï¼š</p><ul><li><p>1 ä½å­˜å‚¨ç¬¦å·ï¼ˆSignï¼‰ï¼Œ0 è¡¨ç¤ºæ­£æ•°ï¼Œ 1 è¡¨ç¤ºè´Ÿæ•°ã€‚</p></li><li><p>ç”¨ 11 ä½å­˜å‚¨æŒ‡æ•°ï¼ŒæŒ‡æ•°å¿…é¡»æ˜¯â€œæœ‰ç¬¦å·â€çš„å€¼ï¼Œè¿™é‡Œä½¿ç”¨äº†åå·®æŒ‡æ•°ï¼Œå³å­˜å‚¨ E + bias çš„å€¼ã€‚å¯¹äº 11 ä½æ¥è¯´ï¼Œbias çš„å€¼æ˜¯ 2^(11-1) - 1ï¼Œä¹Ÿå°±æ˜¯ 1023ã€‚11 ä½æ— ç¬¦å·æ•´æ•°çš„å€¼çš„èŒƒå›´æ˜¯ 0 åˆ° 2^11ï¼ˆ2047ï¼‰ï¼Œç”±äºå…¨ 0 å’Œ å…¨ 1 çš„æŒ‡æ•°å€¼æ˜¯ä¸ºç‰¹æ®Šæ•°å­—ä¿ç•™çš„ï¼Œæ‰€ä»¥å¯ç”¨çš„æŒ‡æ•°æ˜¯ä» 1 åˆ° 2046ã€‚å‡å»æŒ‡æ•°åå·®å€¼ 1023ï¼Œ å°±èƒ½å¾—åˆ°æŒ‡æ•°çš„å®é™…èŒƒå›´ï¼Œå³ä» -1022 åˆ° +1023ã€‚</p></li><li><pre><code class="js">1 - 1023 = -10222046 - 1023 = +1023<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ç”¨ 52 ä½å­˜å‚¨ Fractionã€‚</span><br><span class="line"></span><br><span class="line">æ­¤æ—¶ï¼Œæˆ‘ä»¬å†æ¥çœ‹ 0.1 + 0.2 çš„è½¬æ¢è¿‡ç¨‹ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œæ‹¿ 0.1 æ¥çœ‹ï¼š</span><br><span class="line">0.1 å¯¹åº”çš„äºŒè¿›åˆ¶æ˜¯ 1 * 2^-4 * 1.1001100110011â€¦â€¦</span><br><span class="line">ç¬¦å·ä½ï¼š0</span><br><span class="line">E + baisï¼š -4 + 1023 = 1019</span><br><span class="line">Fractionï¼š 1001100110011â€¦â€¦</span><br><span class="line">å¯¹åº”çš„ 64 ä½å®Œæ•´è¡¨ç¤ºå¦‚ä¸‹å›¾ï¼š</span><br><span class="line"></span><br><span class="line">![image.png](https://pic.leetcode.cn/1675248450-nFKGop-image.png)</span><br><span class="line"></span><br><span class="line">åŒç†ï¼Œ0.2 çš„å®Œæ•´è¡¨ç¤ºæ˜¯ï¼š</span><br><span class="line"></span><br><span class="line">![image.png](https://pic.leetcode.cn/1675248480-DpROri-image.png)</span><br><span class="line"></span><br><span class="line">æ‰€ä»¥ï¼Œ**å½“ 0.1 å­˜ä¸‹æ¥çš„æ—¶å€™ï¼Œå°±å‘ç”Ÿäº†ç²¾åº¦ä¸¢å¤±ï¼Œå½“æˆ‘ä»¬ç”¨æµ®ç‚¹æ•°è¿›è¡Œè¿ç®—çš„æ—¶å€™ï¼Œä½¿ç”¨çš„å…¶å®æ˜¯ç²¾åº¦ä¸¢å¤±åçš„æ•°ã€‚**</span><br><span class="line"></span><br><span class="line">å½“æˆ‘ä»¬å¯¹ä¸¤ä¸ªæ•°å­—æ±‚å’Œæ—¶ï¼Œå®ƒä»¬çš„â€œç²¾åº¦æŸå¤±â€ä¼šå åŠ èµ·æ¥ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ 0.1 + 0.2 ä¸ç­‰äº 0.3ã€‚</span><br><span class="line"></span><br><span class="line">### å¦‚ä½•è§£å†³ï¼Ÿ</span><br><span class="line"></span><br><span class="line">**æ–¹æ³•ä¸€ï¼š`toFixed(n)`**</span><br><span class="line"></span><br><span class="line">æˆ‘ä»¬å¯ä»¥å€ŸåŠ©æ–¹æ³• `toFixed(n)` å¯¹ç»“æœè¿›è¡Œèˆå…¥ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>let sum = 0.1 + 0.2;alert(sum.toFixed(2)); // 0.30<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">æ³¨æ„ï¼š`toFixed `æ€»æ˜¯è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€å…ƒåŠ å·å°†å…¶å¼ºåˆ¶è½¬æ¢ä¸ºä¸€ä¸ªæ•°å­—ï¼š</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">let sum = 0.1 + 0.2;</span><br><span class="line">alert( +sum.toFixed(2) ); // &quot;0.30&quot;</span><br></pre></td></tr></table></figure></code></pre></li></ul><p><strong>æ–¹æ³•äºŒï¼šå°†æ•°å­—ä¸´æ—¶ä¹˜ä»¥ 100ï¼ˆæˆ–æ›´å¤§çš„æ•°å­—ï¼‰ï¼Œå°†å…¶è½¬æ¢ä¸ºæ•´æ•°ï¼Œè¿›è¡Œæ•°å­¦è¿ç®—ï¼Œç„¶åå†é™¤å›ã€‚</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert( (0.1 * 100 + 0.2 * 100) / 100 ); // 0.3</span><br></pre></td></tr></table></figure><p><strong>æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ Number.EPSILONã€‚å¦‚æœä¸¤ä¸ªæ•°çš„ç²¾åº¦æŸå¤±åœ¨å…è®¸èŒƒå›´å†…ï¼Œåˆ™å¯ä»¥è®¤ä¸ºä¸¤ä¸ªæ•°æ˜¯ç›¸ç­‰çš„ã€‚</strong></p><p><code>Number.EPSILON</code> å±æ€§è¡¨ç¤º 1 ä¸ <code>Number</code> å¯è¡¨ç¤ºçš„å¤§äº 1 çš„æœ€å°çš„æµ®ç‚¹æ•°ä¹‹é—´çš„å·®å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">numbersCloseEnoughToEqual</span>(<span class="params">n1, n2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">abs</span>(n1 - n2) &lt; <span class="title class_">Number</span>.<span class="property">EPSILON</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">0.1</span> + <span class="number">0.2</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">0.3</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">numbersCloseEnoughToEqual</span>(a, b); <span class="comment">// true</span></span><br><span class="line"><span class="title function_">numbersCloseEnoughToEqual</span>(<span class="number">0.0000001</span>, <span class="number">0.0000002</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="å°ç»ƒä¹ -3"><a href="#å°ç»ƒä¹ -3" class="headerlink" title="å°ç»ƒä¹ "></a>å°ç»ƒä¹ </h3><p>ä¸‹é¢ä»£ç çš„æ‰“å°ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">9999999999999999</span>); <span class="comment">// 16ä½</span></span><br></pre></td></tr></table></figure><p>ç­”æ¡ˆï¼šè¾“å‡ºç»“æœ 10000000000000000ï¼ˆ17ä½ï¼‰ã€‚</p><p>è¿™ä¹Ÿæ˜¯å› ä¸ºç²¾åº¦æŸå¤±ã€‚æœ‰ 64 ä½æ¥è¡¨ç¤ºè¯¥æ•°å­—ï¼Œå…¶ä¸­ 52 ä½å¯ç”¨äºå­˜å‚¨æ•°å­—ï¼Œä½†è¿™è¿˜ä¸å¤Ÿã€‚æ‰€ä»¥æœ€ä¸é‡è¦çš„æ•°å­—å°±æ¶ˆå¤±äº†ã€‚</p><p>JavaScript ä¸ä¼šåœ¨æ­¤ç±»äº‹ä»¶ä¸­è§¦å‘ errorã€‚å®ƒä¼šå°½æœ€å¤§åŠªåŠ›ä½¿æ•°å­—ç¬¦åˆæ‰€éœ€çš„æ ¼å¼ï¼Œä½†ä¸å¹¸çš„æ˜¯ï¼Œè¿™ç§æ ¼å¼ä¸å¤Ÿå¤§åˆ°æ»¡è¶³éœ€æ±‚ã€‚</p><blockquote><p>ã€å‚è€ƒèµ„æ–™ã€‘<br><a href="https://leetcode.cn/link/?target=https://zh.m.wikipedia.org/zh-cn/%E9%9B%99%E7%B2%BE%E5%BA%A6%E6%B5%AE%E9%BB%9E%E6%95%B8">åŒç²¾åº¦æµ®ç‚¹æ•°</a><br><a href="https://leetcode.cn/link/?target=https://www.binaryconvert.com/result_double.html?decimal=048046049">Double (IEEE754 Double precision 64-bit)</a><br><a href="https://leetcode.cn/link/?target=https://zh.javascript.info/number">æ•°å­—ç±»å‹</a></p></blockquote><hr><h2 id="è°ˆè°ˆ-undefined-å’Œ-null-ï¼Ÿ"><a href="#è°ˆè°ˆ-undefined-å’Œ-null-ï¼Ÿ" class="headerlink" title="è°ˆè°ˆ undefined å’Œ null ï¼Ÿ"></a>è°ˆè°ˆ undefined å’Œ null ï¼Ÿ</h2><p>é¢è¯•é«˜é¢‘æŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜…â˜†</p><p><code>undefined</code> å’Œ <code>null</code> éƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ã€‚å®ƒä»¬çš„å®šä¹‰æ˜¯ï¼š</p><ul><li><p><code>undefined</code> æ„å‘³ç€å˜é‡å·²ç»å£°æ˜äº†ä½†æ˜¯æ²¡æœ‰èµ‹å€¼ã€‚</p></li><li><p><code>null</code> æ˜¯ç©ºå€¼ï¼Œå¯ä»¥ä½œä¸ºå¯¹è±¡çš„åˆå§‹å€¼ã€‚</p></li></ul><h3 id="undefined-ä¸æ˜¯-undeclared"><a href="#undefined-ä¸æ˜¯-undeclared" class="headerlink" title="undefined ä¸æ˜¯ undeclared"></a>undefined ä¸æ˜¯ undeclared</h3><ul><li><p><code>undeclared</code> æ˜¯æŒ‡å˜é‡ä»æœªåœ¨ä»£ç ä¸­å‡ºç°.ä½¿ç”¨æœªå£°æ˜çš„å˜é‡å°±ä¼šæŠ¥é”™ï¼šâ€ReferenceError: cat is not definedâ€œã€‚</p></li><li><p><code>undefined</code> åˆ™æ˜¯å£°æ˜äº†ä½†æ˜¯å€¼æ˜¯ <code>undefined</code> æˆ–è€…å€¼å¹¶ä¸å­˜åœ¨ã€‚</p></li></ul><h3 id="å¦‚ä½•è·å–å®‰å…¨çš„-undefined-å€¼ï¼Ÿ"><a href="#å¦‚ä½•è·å–å®‰å…¨çš„-undefined-å€¼ï¼Ÿ" class="headerlink" title="å¦‚ä½•è·å–å®‰å…¨çš„ undefined å€¼ï¼Ÿ"></a>å¦‚ä½•è·å–å®‰å…¨çš„ undefined å€¼ï¼Ÿ</h3><p>å› ä¸º <code>undefined</code> æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œæ‰€ä»¥å¯ä»¥è¢«å½“ä½œå˜é‡æ¥ä½¿ç”¨å’Œèµ‹å€¼ï¼Œä½†æ˜¯è¿™æ ·ä¼šå½±å“ <code>undefined</code> çš„æ­£å¸¸åˆ¤æ–­ã€‚</p><p>å¯ä»¥ä½¿ç”¨ <code>void 0</code> è·å¾—å®‰å…¨çš„å€¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(void 0); // undefined</span><br></pre></td></tr></table></figure><h3 id="å’Œ"><a href="#å’Œ" class="headerlink" title="?? å’Œ ??="></a><code>??</code> å’Œ <code>??=</code></h3><h3 id="ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼ˆ-ï¼‰"><a href="#ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼ˆ-ï¼‰" class="headerlink" title="ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼ˆ??ï¼‰"></a>ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼ˆ<code>??</code>ï¼‰</h3><p>ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼ˆ<code>??</code>ï¼‰æ˜¯ä¸€ä¸ªé€»è¾‘è¿ç®—ç¬¦ï¼Œåˆ¤æ–­å·¦è¾¹çš„å€¼æ˜¯å¦æ˜¯ <code>null</code> æˆ– <code>undefined</code>ã€‚å¦‚ä»£ç  <code>a ?? b</code>ï¼Œå¦‚æœ <code>a</code> æ˜¯ <code>null</code> æˆ– <code>undefined</code>ï¼Œè¿”å› <code>b</code>ï¼Œ åä¹‹ï¼Œè¿”å› <code>a</code>ã€‚</p><p><code>a ?? b</code> å¯ä»¥ç†è§£ä¸º: <code>a !== undefined &amp;&amp; a !== null ? a : b</code></p><p>æˆ‘ä»¬å¯ä»¥ç»™å€¼ä¸º <code>null</code> æˆ– <code>undefined</code> çš„å˜é‡ä¸€ä¸ªé»˜è®¤å€¼ã€‚å¦‚ä¸‹é¢çš„ä»£ç æ‰€ç¤ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> firstName = <span class="literal">null</span>, lastName = <span class="string">&#x27;Sun&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> fullName = firstName ?? lastName</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fullName); <span class="comment">// Sun</span></span><br></pre></td></tr></table></figure><h3 id="vs"><a href="#vs" class="headerlink" title="?? vs ||"></a><code>??</code> vs <code>||</code></h3><p><code>??</code> å’Œ <code>||</code> çš„ç›¸åŒç‚¹ï¼šéƒ½å¯ä»¥ä¸ºå€¼ä¸º <code>null</code> æˆ– <code>undefined</code> çš„å˜é‡èµ‹é»˜è®¤å€¼ã€‚å¦‚ä¸‹é¢ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> firstName = <span class="literal">null</span>, lastName = <span class="string">&#x27;Sun&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> fullName = firstName ?? lastName</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fullName); <span class="comment">// Sun</span></span><br><span class="line"></span><br><span class="line">fullName = firstName || lastName;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fullName); <span class="comment">// Sun</span></span><br></pre></td></tr></table></figure><p>ä¸åŒç‚¹åœ¨äºï¼š</p><ul><li><p><code>??</code> åªåˆ¤æ–­å€¼ <code>null</code> å’Œ <code>undefined</code></p></li><li><p><code>||</code> æ˜¯ä»»ä½•å‡å€¼ï¼ˆ<code>0</code>ï¼Œ <code>&#39;&#39;</code>ï¼Œ <code>NaN</code>ï¼Œ <code>null</code>ï¼Œ <code>undefined</code>ï¼‰éƒ½ä¸ä¼šè¢«è¿”å›ã€‚è¿™å¯¼è‡´å¦‚æœä½ ä½¿ç”¨ <code>0</code>ï¼Œ<code>&#39;&#39;</code> æˆ– <code>NaN</code> ä½œä¸ºæœ‰æ•ˆå€¼ï¼Œå°±ä¼šå‡ºç°ä¸å¯é¢„æ–™çš„åæœã€‚</p></li></ul><p>å¦‚ä¸‹é¢ä»£ç ï¼Œåˆ¤æ–­å€¼æ˜¯ <code>&#39;&#39;</code> æ—¶ä¸¤è€…çš„ä¸åŒè¡¨ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> firstName = <span class="string">&#x27;&#x27;</span>, lastName = <span class="string">&#x27;Sun&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> fullName = firstName ?? lastName</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fullName); <span class="comment">// &#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">fullName = firstName || lastName;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fullName); <span class="comment">// Sun</span></span><br></pre></td></tr></table></figure><h3 id="é€»è¾‘ç©ºèµ‹å€¼è¿ç®—ç¬¦"><a href="#é€»è¾‘ç©ºèµ‹å€¼è¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘ç©ºèµ‹å€¼è¿ç®—ç¬¦ ??="></a>é€»è¾‘ç©ºèµ‹å€¼è¿ç®—ç¬¦ <code>??=</code></h3><p>é€»è¾‘ç©ºèµ‹å€¼è¿ç®—ç¬¦ï¼ˆ<code>x ??= y</code>ï¼‰ä»…åœ¨ <code>x</code> æ˜¯ç©ºå€¼ï¼ˆ<code>null</code> æˆ– <code>undefined</code>ï¼‰æ—¶å¯¹å…¶èµ‹å€¼ã€‚</p><p><code>a ??= b</code> å¯ä»¥ç†è§£ä¸º: <code>a ?? (a = b) </code>ã€‚</p><p>å¦‚ä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> firstName = <span class="literal">null</span>;</span><br><span class="line">firstName ??= <span class="string">&#x27;yangyang&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(firstName); <span class="comment">// &#x27;yangyang&#x27;</span></span><br></pre></td></tr></table></figure><blockquote><p>ã€å‚è€ƒèµ„æ–™ã€‘<br><a href="https://leetcode.cn/link/?target=https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing">ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼ˆ??ï¼‰ - JavaScript | MDN</a><br><a href="https://leetcode.cn/link/?target=https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_assignment">é€»è¾‘ç©ºèµ‹å€¼ï¼ˆ??&#x3D;ï¼‰ - JavaScript | MDN</a></p></blockquote><h2 id="typeof-null-çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#typeof-null-çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="typeof null çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ"></a>typeof null çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>é¢è¯•é«˜é¢‘æŒ‡æ•°ï¼šâ˜…â˜…â˜…â˜…â˜†</p><p>JavaScript ä¸­ï¼Œ<code>typeof null</code> æ˜¯ <code>object</code>ï¼Œè¿™æ˜¯ä¸å¯¹çš„ï¼Œå› ä¸º <code>null</code> æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¸æ˜¯å¯¹è±¡ã€‚è¿™æ˜¯ä¸ª bugï¼Œä½†æ˜¯å› ä¸ºä¿®å¤è¿™ä¸ª bug ä¼šå½±å“ç°å­˜çš„ä»£ç ï¼Œæ‰€ä»¥å°±ä¸€ç›´æ²¡æ”¹ã€‚</p><p>è¿™ä¸ª bug æ˜¯ JavaScript ç¬¬ä¸€ç‰ˆçš„é—ç•™ç‰©ï¼Œè¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œå€¼éƒ½æ˜¯ 32 ä½å­˜å‚¨å•å…ƒï¼Œç”±ç±»å‹æ ‡ç­¾ï¼ˆ1-3ä½ï¼‰å’Œå®é™…çš„å€¼ç»„æˆã€‚ç±»å‹æ ‡ç­¾å­˜åœ¨å•å…ƒçš„ä½ä½é‡Œï¼Œæœ‰ä¸‹é¢äº”ç§ï¼š</p><ul><li>000ï¼š å¯¹è±¡ï¼Œæ•°æ®æ˜¯å¯¹è±¡ç±»å‹</li><li>1ï¼šæ•´æ•°ï¼Œå­˜å‚¨çš„æ•°æ®æ˜¯ä¸€ä¸ª 31 ä½çš„æœ‰ç¬¦å·æ•´æ•°ã€‚</li><li>010ï¼šæµ®ç‚¹æ•°ï¼Œå­˜çš„æ•°æ®æ˜¯åŒç²¾åº¦æµ®ç‚¹æ•°</li><li>100ï¼š å­—ç¬¦ä¸²ï¼Œå­˜çš„æ•°æ®æ˜¯å­—ç¬¦ä¸²</li><li>110ï¼šå¸ƒå°”ï¼Œå­˜çš„æ•°æ®æ˜¯å¸ƒå°”</li></ul><p>ä½ä½å¦‚æœæ˜¯ 1 ä½ï¼Œç±»å‹æ ‡ç­¾å°±æ˜¯ 1 ä½é•¿åº¦ï¼ˆå¦‚æ•´æ•°ç±»å‹ï¼‰ï¼Œå¦‚æœæ˜¯ 0ï¼Œç±»å‹æ ‡ç­¾æ˜¯ 3 ä½é•¿åº¦ï¼Œæä¾›ä¸¤ä¸ªé¢å¤–çš„ä½ï¼Œå¦‚å…¶ä½™çš„å››ä¸ªç±»å‹ã€‚</p><h3 id="å°ç»ƒä¹ -4"><a href="#å°ç»ƒä¹ -4" class="headerlink" title="å°ç»ƒä¹ "></a>å°ç»ƒä¹ </h3><p><code>typeof NaN</code> è¿”å›ä»€ä¹ˆï¼Ÿ</p><p>ç­”æ¡ˆï¼š<code>typeof NaN</code> è¿”å› <code>&#39;number&#39;</code>ã€‚<code>NaN</code> è¡¨ç¤ºä¸æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œå®ƒæ˜¯ <code>Number</code> çš„ç‰¹æ®Šå€¼ã€‚</p><blockquote><p>ã€å‚è€ƒèµ„æ–™ã€‘<br><a href="https://leetcode.cn/link/?target=https://2ality.com/2013/10/typeof-null.html">The history of â€œtypeof nullâ€</a></p></blockquote><h2 id="2-jsåŸºç¡€"><a href="#2-jsåŸºç¡€" class="headerlink" title="2. jsåŸºç¡€"></a>2. jsåŸºç¡€</h2><h4 id="2-1-let-const-var-ç›¸å…³"><a href="#2-1-let-const-var-ç›¸å…³" class="headerlink" title="2.1 let const var ç›¸å…³"></a>2.1 let const var ç›¸å…³</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>var â€”â€”ES5 å˜é‡å£°æ˜æ–¹å¼</p><ol><li>åœ¨å˜é‡æœªèµ‹å€¼æ—¶ï¼Œå˜é‡undefinedï¼ˆä¸ºä½¿ç”¨å£°æ˜å˜é‡æ—¶ä¹Ÿä¸ºundefinedï¼‰</li><li>ä½œç”¨åŸŸâ€”â€”varçš„ä½œç”¨åŸŸä¸ºæ–¹æ³•ä½œç”¨åŸŸï¼›åªè¦åœ¨æ–¹æ³•å†…å®šä¹‰äº†ï¼Œæ•´ä¸ªæ–¹æ³•å†…çš„å®šä¹‰å˜é‡åçš„ä»£ç éƒ½å¯ä»¥ä½¿ç”¨</li></ol><p>letâ€”â€”ES6å˜é‡å£°æ˜æ–¹å¼</p><ol><li>åœ¨å˜é‡ä¸ºå£°æ˜å‰ç›´æ¥ä½¿ç”¨ä¼šæŠ¥é”™</li><li>ä½œç”¨åŸŸâ€”â€”letä¸ºå—ä½œç”¨åŸŸâ€”â€”é€šå¸¸letæ¯”var èŒƒå›´è¦å°</li><li>letç¦æ­¢é‡å¤å£°æ˜å˜é‡ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼›varå¯ä»¥é‡å¤å£°æ˜</li></ol><p>constâ€”â€”ES6å˜é‡å£°æ˜æ–¹å¼</p><p>\1. constä¸ºå¸¸é‡å£°æ˜æ–¹å¼ï¼›å£°æ˜å˜é‡æ—¶å¿…é¡»åˆå§‹åŒ–ï¼Œåœ¨åé¢å‡ºç°çš„ä»£ç ä¸­ä¸èƒ½å†ä¿®æ”¹è¯¥å¸¸é‡çš„å€¼</p><p>\2. constå®é™…ä¸Šä¿è¯çš„ï¼Œå¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ä¸å¾—æ”¹åŠ¨</p><h4 id="2-2-jsæ•°æ®ç±»å‹ï¼ŒåŒºåˆ«"><a href="#2-2-jsæ•°æ®ç±»å‹ï¼ŒåŒºåˆ«" class="headerlink" title="2.2 jsæ•°æ®ç±»å‹ï¼ŒåŒºåˆ«"></a>2.2 jsæ•°æ®ç±»å‹ï¼ŒåŒºåˆ«</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>åŸºæœ¬æ•°æ®ç±»å‹ï¼š</p><p>Numberï¼ŒStringï¼ŒBooleanï¼Œnullï¼Œundefinedï¼Œsymbolï¼Œbigintï¼ˆåä¸¤ä¸ªä¸ºES6æ–°å¢ï¼‰</p><p>å¼•ç”¨æ•°æ®ç±»å‹ï¼š</p><p>objectï¼Œfunctionï¼ˆ<strong>proto</strong> Function.prototypeï¼‰</p><p>objectï¼šæ™®é€šå¯¹è±¡ï¼Œæ•°ç»„å¯¹è±¡ï¼Œæ­£åˆ™å¯¹è±¡ï¼Œæ—¥æœŸå¯¹è±¡ï¼ŒMathæ•°å­¦å‡½æ•°å¯¹è±¡ã€‚</p><p>ä¸¤ç§æ•°æ®å­˜å‚¨æ–¹å¼ï¼š</p><p>åŸºæœ¬æ•°æ®ç±»å‹æ˜¯ç›´æ¥å­˜å‚¨åœ¨æ ˆä¸­çš„ç®€å•æ•°æ®æ®µï¼Œå æ®ç©ºé—´å°ã€å¤§å°å›ºå®šï¼Œå±äºè¢«é¢‘ç¹ä½¿ç”¨çš„æ•°æ®ã€‚æ ˆæ˜¯å­˜å‚¨åŸº æœ¬ç±»å‹å€¼å’Œæ‰§è¡Œä»£ç çš„ç©ºé—´ã€‚</p><p>å¼•ç”¨æ•°æ®ç±»å‹æ˜¯å­˜å‚¨åœ¨å †å†…å­˜ä¸­ï¼Œå æ®ç©ºé—´å¤§ã€å¤§å°ä¸å›ºå®šã€‚å¼•ç”¨æ•°æ®ç±»å‹åœ¨æ ˆä¸­å­˜å‚¨äº†æŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘å † ä¸­è¯¥å®ä½“çš„èµ·å§‹åœ°å€ï¼Œå½“è§£é‡Šå™¨å¯»æ‰¾å¼•ç”¨å€¼æ—¶ï¼Œä¼šæ£€ç´¢å…¶åœ¨æ ˆä¸­çš„åœ°å€ï¼Œå–å¾—åœ°å€åä»å †ä¸­è·å¾—å®ä½“ã€‚</p><p>ä¸¤ç§æ•°æ®ç±»å‹çš„åŒºåˆ«ï¼š</p><ol><li>å †æ¯”æ ˆç©ºé—´å¤§ï¼Œæ ˆæ¯”å †è¿è¡Œé€Ÿåº¦å¿«ã€‚</li><li>å †å†…å­˜æ˜¯æ— åºå­˜å‚¨ï¼Œå¯ä»¥æ ¹æ®å¼•ç”¨ç›´æ¥è·å–ã€‚</li><li>åŸºç¡€æ•°æ®ç±»å‹æ¯”è¾ƒç¨³å®šï¼Œè€Œä¸”ç›¸å¯¹æ¥è¯´å ç”¨çš„å†…å­˜å°ã€‚</li><li>å¼•ç”¨æ•°æ®ç±»å‹å¤§å°æ˜¯åŠ¨æ€çš„ï¼Œè€Œä¸”æ˜¯æ— é™çš„ã€‚</li></ol><h4 id="2-3-Object-assignçš„ç†è§£"><a href="#2-3-Object-assignçš„ç†è§£" class="headerlink" title="2.3 Object.assignçš„ç†è§£"></a>2.3 Object.assignçš„ç†è§£</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>ä½œç”¨ï¼šObject.assignå¯ä»¥å®ç°å¯¹è±¡çš„åˆå¹¶ã€‚</p><p>è¯­æ³•ï¼šObject.assign(target, â€¦sources)</p><p><strong>è§£æ</strong>ï¼š</p><ol><li>Object.assignä¼šå°†sourceé‡Œé¢çš„å¯æšä¸¾å±æ€§å¤åˆ¶åˆ°targetï¼Œå¦‚æœå’Œtargetçš„å·²æœ‰å±æ€§é‡åï¼Œåˆ™ä¼šè¦†ç›–ã€‚</li><li>åç»­çš„sourceä¼šè¦†ç›–å‰é¢çš„sourceçš„åŒåå±æ€§ã€‚</li><li>Object.assignå¤åˆ¶çš„æ˜¯å±æ€§å€¼ï¼Œå¦‚æœå±æ€§å€¼æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œé‚£ä¹ˆå¤åˆ¶çš„å…¶å®æ˜¯å¼•ç”¨åœ°å€ï¼Œå°±ä¼šå­˜åœ¨å¼•ç”¨å…±äº«çš„é—®é¢˜ã€‚</li></ol><h4 id="2-4-constructorçš„ç†è§£"><a href="#2-4-constructorçš„ç†è§£" class="headerlink" title="2.4 constructorçš„ç†è§£"></a>2.4 constructorçš„ç†è§£</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>åˆ›å»ºçš„æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªprototypeï¼ˆåŸå‹ï¼‰å¯¹è±¡ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰åŸå‹å¯¹è±¡éƒ½ä¼šè‡ªåŠ¨è·å¾—ä¸€ä¸ªconstructorï¼ˆæ„é€ å‡½æ•°ï¼‰å±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªæŒ‡å‘prototypeå±æ€§æ‰€åœ¨å‡½æ•°çš„æŒ‡é’ˆã€‚å½“è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹åï¼Œè¯¥å®ä¾‹çš„å†…éƒ¨å°†åŒ…å«ä¸€ä¸ªæŒ‡é’ˆï¼ˆç»§æ‰¿è‡ªæ„é€ å‡½æ•°çš„prototypeï¼‰ï¼ŒæŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚æ³¨æ„å½“å°†æ„é€ å‡½æ•°çš„prototypeè®¾ç½®ä¸ºç­‰äºä¸€ä¸ªä»¥å¯¹è±¡å­—é¢é‡å½¢å¼åˆ›å»ºçš„æ–°å¯¹è±¡æ—¶ï¼Œconstructorå±æ€§ä¸å†æŒ‡å‘è¯¥æ„é€ å‡½æ•°ã€‚</p><h4 id="2-5-map-å’Œ-forEach-çš„åŒºåˆ«"><a href="#2-5-map-å’Œ-forEach-çš„åŒºåˆ«" class="headerlink" title="2.5 map å’Œ forEach çš„åŒºåˆ«"></a>2.5 map å’Œ forEach çš„åŒºåˆ«</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>ç›¸åŒç‚¹ï¼š</p><ol><li>éƒ½æ˜¯å¾ªç¯éå†æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹</li><li>æ¯æ¬¡æ‰§è¡ŒåŒ¿åå‡½æ•°éƒ½æ”¯æŒä¸‰ä¸ªå‚æ•°ï¼Œå‚æ•°åˆ†åˆ«ä¸ºitemï¼ˆå½“å‰æ¯ä¸€é¡¹ï¼‰ï¼Œindexï¼ˆç´¢å¼•å€¼ï¼‰ï¼Œarrï¼ˆåŸæ•°ç»„ï¼‰</li><li>åŒ¿åå‡½æ•°ä¸­çš„thiséƒ½æ˜¯æŒ‡å‘window</li><li>åªèƒ½éå†æ•°ç»„</li></ol><p>ä¸åŒç‚¹ï¼š</p><ol><li>map()ä¼šåˆ†é…å†…å­˜ç©ºé—´å­˜å‚¨æ–°æ•°ç»„å¹¶è¿”å›ï¼ŒforEach()ä¸ä¼šè¿”å›æ•°æ®ã€‚</li><li>forEach()å…è®¸callbackæ›´æ”¹åŸå§‹æ•°ç»„çš„å…ƒç´ ã€‚map()è¿”å›æ–°çš„æ•°ç»„ã€‚</li></ol><h4 id="2-6-for-of-å¯ä»¥éå†å“ªäº›å¯¹è±¡"><a href="#2-6-for-of-å¯ä»¥éå†å“ªäº›å¯¹è±¡" class="headerlink" title="2.6 for of å¯ä»¥éå†å“ªäº›å¯¹è±¡"></a>2.6 for of å¯ä»¥éå†å“ªäº›å¯¹è±¡</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>for..of..: å®ƒæ˜¯es6æ–°å¢çš„ä¸€ä¸ªéå†æ–¹æ³•ï¼Œä½†<strong>åªé™äºè¿­ä»£å™¨(iterator)</strong>, æ‰€ä»¥æ™®é€šçš„å¯¹è±¡ç”¨for..oféå†<br>æ˜¯ä¼šæŠ¥é”™çš„ã€‚</p><p>å¯è¿­ä»£çš„å¯¹è±¡ï¼šåŒ…æ‹¬Array, Map, Set, String, TypedArray, argumentså¯¹è±¡ç­‰ç­‰</p><h4 id="2-7-jsé™æ€ç±»å‹æ£€æŸ¥"><a href="#2-7-jsé™æ€ç±»å‹æ£€æŸ¥" class="headerlink" title="2.7 jsé™æ€ç±»å‹æ£€æŸ¥"></a>2.7 jsé™æ€ç±»å‹æ£€æŸ¥</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p><strong>jsæ˜¯åŠ¨æ€ç±»å‹è¯­è¨€</strong></p><p>é™æ€ç±»å‹è¯­è¨€ &amp; åŠ¨æ€ç±»å‹è¯­è¨€</p><p>é™æ€ç±»å‹è¯­è¨€ï¼šç±»å‹æ£€æŸ¥å‘ç”Ÿåœ¨ç¼–è¯‘é˜¶æ®µï¼Œå› æ­¤é™¤éä¿®å¤é”™è¯¯ï¼Œå¦åˆ™ä¼šä¸€ç›´ç¼–è¯‘å¤±è´¥</p><p>åŠ¨æ€ç±»å‹è¯­è¨€ï¼šåªæœ‰åœ¨ç¨‹åºè¿è¡Œäº†ä¸€æ¬¡çš„æ—¶å€™é”™è¯¯æ‰ä¼šè¢«å‘ç°ï¼Œä¹Ÿå°±æ˜¯åœ¨è¿è¡Œæ—¶ï¼Œå› æ­¤å³ä½¿ä»£ç ä¸­åŒ…å«äº†ä¼š åœ¨è¿è¡Œæ—¶é˜»æ­¢è„šæœ¬æ­£å¸¸è¿è¡Œçš„é”™è¯¯ç±»å‹ï¼Œè¿™æ®µä»£ç ä¹Ÿå¯ä»¥é€šè¿‡ç¼–è¯‘</p><p><strong>jsé™æ€ç±»å‹æ£€æŸ¥çš„æ–¹æ³•</strong></p><p><strong>Flow</strong>æ˜¯Facebookå¼€å‘å’Œå‘å¸ƒçš„ä¸€ä¸ªå¼€æºçš„é™æ€ç±»å‹æ£€æŸ¥åº“ï¼Œå®ƒå…è®¸ä½ é€æ¸åœ°å‘JavaScriptä»£ç ä¸­æ·»åŠ ç±»å‹ã€‚</p><p><strong>TypeScript</strong>æ˜¯ä¸€ä¸ªä¼šç¼–è¯‘ä¸ºJavaScriptçš„è¶…é›†ï¼ˆå°½ç®¡å®ƒçœ‹èµ·æ¥å‡ ä¹åƒä¸€ç§æ–°çš„é™æ€ç±»å‹è¯­è¨€ï¼‰</p><p><strong>ä½¿ç”¨é™æ€ç±»å‹çš„ä¼˜åŠ¿</strong></p><ul><li>å¯ä»¥å°½æ—©å‘ç°bugå’Œé”™è¯¯</li><li>å‡å°‘äº†å¤æ‚çš„é”™è¯¯å¤„ç†</li><li>å°†æ•°æ®å’Œè¡Œä¸ºåˆ†ç¦»</li><li>å‡å°‘å•å…ƒæµ‹è¯•çš„æ•°é‡</li><li>æä¾›äº†é¢†åŸŸå»ºæ¨¡ï¼ˆdomain modelingï¼‰å·¥å…·</li><li>å¸®åŠ©æˆ‘ä»¬æ¶ˆé™¤äº†ä¸€æ•´ç±»bug</li><li>é‡æ„æ—¶æ›´æœ‰ä¿¡å¿ƒ</li></ul><p><strong>ä½¿ç”¨é™æ€ç±»å‹çš„åŠ£åŠ¿</strong></p><ul><li>ä»£ç å†—é•¿</li><li>éœ€è¦èŠ±æ—¶é—´å»æŒæ¡ç±»å‹</li></ul><h4 id="2-8-indexof"><a href="#2-8-indexof" class="headerlink" title="2.8 indexof"></a>2.8 indexof</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>è¯­æ³•ï¼šstr.indexOf(searchValue [, fromIndex])</p><p>å‚æ•°ï¼šsearchValueï¼šè¦è¢«æŸ¥æ‰¾çš„å­—ç¬¦ä¸²å€¼ã€‚</p><p>å¦‚æœæ²¡æœ‰æä¾›ç¡®åˆ‡åœ°æä¾›å­—ç¬¦ä¸²ï¼Œ[searchValue ä¼šè¢«å¼ºåˆ¶è®¾ç½®ä¸ºâ€undefinedâ€]ï¼Œ ç„¶ååœ¨å½“å‰å­—ç¬¦ä¸²ä¸­æŸ¥ æ‰¾è¿™ä¸ªå€¼ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼šâ€™undefinedâ€™.indexOf()å°†ä¼šè¿”å›0ï¼Œå› ä¸ºundefinedåœ¨ä½ç½®0å¤„è¢«æ‰¾åˆ°ï¼Œä½†æ˜¯â€™undefineâ€™.indexOf()å°†ä¼šè¿”å› -1 ï¼Œå› ä¸ºå­—ç¬¦ä¸²â€™undefinedâ€™æœªè¢«æ‰¾åˆ°</p><p>fromIndexï¼šå¯é€‰</p><p>æ•°å­—è¡¨ç¤ºå¼€å§‹æŸ¥æ‰¾çš„ä½ç½®ã€‚å¯ä»¥æ˜¯ä»»æ„æ•´æ•°ï¼Œé»˜è®¤å€¼ä¸º0ã€‚</p><p>å¦‚æœfromIndexçš„å€¼å°äº0ï¼Œæˆ–è€…å¤§äºstr.lengthï¼Œé‚£ä¹ˆæŸ¥æ‰¾åˆ†åˆ«ä»0å’Œstr.lengthå¼€å§‹ã€‚ï¼ˆè¯‘è€… æ³¨ï¼šfromIndexçš„å€¼å°äº0ï¼Œç­‰åŒäºä¸ºç©ºæƒ…å†µï¼›fromIndexçš„å€¼å¤§äºæˆ–ç­‰äºstr.lengthï¼Œé‚£ä¹ˆç»“æœ ä¼šç›´æ¥è¿”å›-1ã€‚ï¼‰</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œâ€™hello worldâ€™.indexOf(â€˜oâ€™, -5)è¿”å›4ï¼Œå› ä¸ºå®ƒæ˜¯ä»ä½ç½®0å¤„å¼€å§‹æŸ¥æ‰¾ï¼Œç„¶åoåœ¨ä½ç½®4å¤„è¢«æ‰¾åˆ°ã€‚å¦ä¸€æ–¹é¢ï¼Œâ€™hello worldâ€™.indexOf(â€˜oâ€™, 11)ï¼ˆæˆ–fromIndexå¡«å…¥ä»»ä½•å¤§äº11çš„å€¼ï¼‰ å°†ä¼šè¿”å›-1ï¼Œå› ä¸ºå¼€å§‹æŸ¥æ‰¾çš„ä½ç½®11å¤„ï¼Œå·²ç»æ˜¯è¿™ä¸ªå­—ç¬¦ä¸²çš„ç»“å°¾äº†ã€‚</p><p>è¿”å›å€¼ï¼š</p><p>æŸ¥æ‰¾çš„å­—ç¬¦ä¸²searchValueçš„<strong>ç¬¬ä¸€æ¬¡</strong>å‡ºç°çš„ç´¢å¼•ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è¿”å›-1ã€‚</p><p>è‹¥è¢«æŸ¥æ‰¾çš„å­—ç¬¦ä¸²searchValueæ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›fromIndexã€‚å¦‚æœfromIndexå€¼ä¸ºç©ºï¼Œæˆ–è€…fromIndexå€¼å°äºè¢«æŸ¥æ‰¾çš„å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œè¿”å›å€¼å’Œä»¥ä¸‹çš„fromIndexå€¼ä¸€æ ·ã€‚</p><p>å¦‚æœfromIndexå€¼å¤§äºç­‰äºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå°†ä¼šç›´æ¥è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆstr.lengthï¼‰</p><p>ç‰¹ç‚¹ï¼š</p><p>\1. ä¸¥æ ¼åŒºåˆ†å¤§å°å†™</p><p>\2. åœ¨ä½¿ç”¨indexOfæ£€ç´¢æ•°ç»„æ—¶ï¼Œç”¨â€˜&#x3D;&#x3D;&#x3D;â€™å»åŒ¹é…ï¼Œæ„å‘³ç€ä¼šæ£€æŸ¥æ•°æ®ç±»å‹</p><h4 id="2-9-iframeæœ‰ä»€ä¹ˆä¼˜ç‚¹ã€ç¼ºç‚¹"><a href="#2-9-iframeæœ‰ä»€ä¹ˆä¼˜ç‚¹ã€ç¼ºç‚¹" class="headerlink" title="2.9 iframeæœ‰ä»€ä¹ˆä¼˜ç‚¹ã€ç¼ºç‚¹"></a>2.9 iframeæœ‰ä»€ä¹ˆä¼˜ç‚¹ã€ç¼ºç‚¹</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>ä¼˜ç‚¹ï¼š</p><ol><li>iframeèƒ½å¤ŸåŸå°ä¸åŠ¨çš„æŠŠåµŒå…¥çš„ç½‘é¡µå±•ç°å‡ºæ¥ã€‚</li><li>å¦‚æœæœ‰å¤šä¸ªç½‘é¡µå¼•ç”¨iframeï¼Œé‚£ä¹ˆä½ åªéœ€è¦ä¿®æ”¹iframeçš„å†…å®¹ï¼Œå°±å¯ä»¥å®ç°è°ƒç”¨çš„æ¯ä¸€ä¸ªé¡µé¢å†…å®¹çš„æ›´æ”¹ï¼Œæ–¹ä¾¿å¿«æ·ã€‚</li><li>ç½‘é¡µå¦‚æœä¸ºäº†ç»Ÿä¸€é£æ ¼ï¼Œå¤´éƒ¨å’Œç‰ˆæœ¬éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå°±å¯ä»¥å†™æˆä¸€ä¸ªé¡µé¢ï¼Œç”¨iframeæ¥åµŒå¥—ï¼Œå¯ä»¥å¢åŠ ä»£ç çš„å¯é‡ç”¨ã€‚</li><li>å¦‚æœé‡åˆ°åŠ è½½ç¼“æ…¢çš„ç¬¬ä¸‰æ–¹å†…å®¹å¦‚å›¾æ ‡å’Œå¹¿å‘Šï¼Œè¿™äº›é—®é¢˜å¯ä»¥ç”±iframeæ¥è§£å†³ã€‚</li></ol><p>ç¼ºç‚¹ï¼š</p><ol><li>iframeä¼šé˜»å¡ä¸»é¡µé¢çš„onloadäº‹ä»¶ï¼›</li><li>iframeå’Œä¸»é¡µé¢å…±äº«è¿æ¥æ± ï¼Œè€Œæµè§ˆå™¨å¯¹ç›¸åŒåŸŸçš„è¿æ¥æœ‰é™åˆ¶ï¼Œæ‰€ä»¥ä¼šå½±å“é¡µé¢çš„å¹¶è¡ŒåŠ è½½ã€‚ä¼šäº§ç”Ÿå¾ˆå¤šé¡µé¢ï¼Œä¸å®¹æ˜“ç®¡ç†ã€‚</li><li>iframeæ¡†æ¶ç»“æ„æœ‰æ—¶ä¼šè®©äººæ„Ÿåˆ°è¿·æƒ‘ï¼Œå¦‚æœæ¡†æ¶ä¸ªæ•°å¤šçš„è¯ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸Šä¸‹ã€å·¦å³æ»šåŠ¨æ¡ï¼Œä¼šåˆ†æ•£è®¿é—®è€…çš„æ³¨æ„åŠ›ï¼Œç”¨æˆ·ä½“éªŒåº¦å·®ã€‚</li><li>ä»£ç å¤æ‚ï¼Œæ— æ³•è¢«ä¸€äº›æœç´¢å¼•æ“ç´¢å¼•åˆ°ï¼Œè¿™ä¸€ç‚¹å¾ˆå…³é”®ï¼Œç°åœ¨çš„æœç´¢å¼•æ“çˆ¬è™«è¿˜ä¸èƒ½å¾ˆå¥½çš„å¤„ç†iframeä¸­çš„å†…å®¹ï¼Œæ‰€ä»¥ä½¿ç”¨iframeä¼šä¸åˆ©äºæœç´¢å¼•æ“ä¼˜åŒ–ï¼ˆSEOï¼‰ã€‚</li><li>å¾ˆå¤šçš„ç§»åŠ¨è®¾å¤‡æ— æ³•å®Œå…¨æ˜¾ç¤ºæ¡†æ¶ï¼Œè®¾å¤‡å…¼å®¹æ€§å·®ã€‚</li><li>iframeæ¡†æ¶é¡µé¢ä¼šå¢åŠ æœåŠ¡å™¨çš„httpè¯·æ±‚ï¼Œå¯¹äºå¤§å‹ç½‘ç«™æ˜¯ä¸å¯å–çš„ã€‚</li></ol><h4 id="2-10-webComponents"><a href="#2-10-webComponents" class="headerlink" title="2.10 webComponents"></a>2.10 webComponents</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p><strong>Web Components</strong> æ€»çš„æ¥è¯´æ˜¯æä¾›ä¸€æ•´å¥—å®Œå–„çš„å°è£…æœºåˆ¶æ¥æŠŠ Web ç»„ä»¶åŒ–è¿™ä¸ªä¸œè¥¿æ ‡å‡†åŒ–ï¼Œæ¯ä¸ªæ¡†æ¶å®ç° çš„ç»„ä»¶éƒ½ç»Ÿä¸€æ ‡å‡†åœ°è¿›è¡Œè¾“å…¥è¾“å‡ºï¼Œè¿™æ ·å¯ä»¥æ›´å¥½æ¨åŠ¨ç»„ä»¶çš„å¤ç”¨</p><p>åŒ…å«å››ä¸ªéƒ¨åˆ†</p><p>\1. Custom Elements</p><p>\2. HTML Imports</p><p>\3. HTML Templates</p><p>\4. Shadow DOM</p><p><strong>Custom Elements</strong></p><p>æä¾›ä¸€ç§æ–¹å¼è®©å¼€å‘è€…å¯ä»¥è‡ªå®šä¹‰ HTML å…ƒç´ ï¼ŒåŒ…æ‹¬ç‰¹å®šçš„ç»„æˆï¼Œæ ·å¼å’Œè¡Œä¸ºã€‚æ”¯æŒ Web Components æ ‡å‡†çš„æµè§ˆå™¨ä¼šæä¾›ä¸€ç³»åˆ— API ç»™å¼€å‘è€…ç”¨äºåˆ›å»ºè‡ªå®šä¹‰çš„å…ƒç´ ï¼Œæˆ–è€…æ‰©å±•ç°æœ‰å…ƒç´ ã€‚</p><p><strong>HTML Imports</strong></p><p>ä¸€ç§åœ¨ HTMLs ä¸­å¼•ç”¨ä»¥åŠå¤ç”¨å…¶ä»–çš„ HTML æ–‡æ¡£çš„æ–¹å¼ã€‚è¿™ä¸ª Import å¾ˆæ¼‚äº®ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºæˆ‘ä»¬å¸¸è§ çš„æ¨¡æ¿ä¸­çš„includeä¹‹ç±»çš„ä½œç”¨</p><p><strong>HTML Templates</strong></p><p>æ¨¡æ¿</p><p><strong>Shadow DOM</strong></p><p>æä¾›ä¸€ç§æ›´å¥½åœ°ç»„ç»‡é¡µé¢å…ƒç´ çš„æ–¹å¼ï¼Œæ¥ä¸ºæ—¥è¶‹å¤æ‚çš„é¡µé¢åº”ç”¨æä¾›å¼ºå¤§æ”¯æŒï¼Œé¿å…ä»£ç é—´çš„ç›¸äº’å½±å“</p><h4 id="2-11-dvaçš„æ•°æ®æµæµå‘æ˜¯æ€ä¹ˆæ ·çš„"><a href="#2-11-dvaçš„æ•°æ®æµæµå‘æ˜¯æ€ä¹ˆæ ·çš„" class="headerlink" title="2.11 dvaçš„æ•°æ®æµæµå‘æ˜¯æ€ä¹ˆæ ·çš„"></a>2.11 dvaçš„æ•°æ®æµæµå‘æ˜¯æ€ä¹ˆæ ·çš„</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>æ•°æ®çš„æ”¹å˜å‘ç”Ÿé€šå¸¸æ˜¯é€šè¿‡ç”¨æˆ·äº¤äº’è¡Œä¸ºæˆ–è€…æµè§ˆå™¨è¡Œä¸ºï¼ˆå¦‚è·¯ç”±è·³è½¬ç­‰ï¼‰è§¦å‘çš„ï¼Œå½“æ­¤ç±»è¡Œä¸ºä¼šæ”¹å˜æ•°æ® çš„æ—¶å€™å¯ä»¥é€šè¿‡dispatchå‘èµ·ä¸€ä¸ª actionï¼Œå¦‚æœæ˜¯åŒæ­¥è¡Œä¸ºä¼šç›´æ¥é€šè¿‡Reducersæ”¹å˜Stateï¼Œå¦‚æœæ˜¯ å¼‚æ­¥è¡Œä¸ºï¼ˆå‰¯ä½œç”¨ï¼‰ä¼šå…ˆè§¦å‘Effectsç„¶åæµå‘Reducersæœ€ç»ˆæ”¹å˜Stateï¼Œæ‰€ä»¥åœ¨ dva ä¸­ï¼Œæ•°æ®æµå‘é å¸¸æ¸…æ™°ç®€æ˜ï¼Œå¹¶ä¸”æ€è·¯åŸºæœ¬è·Ÿå¼€æºç¤¾åŒºä¿æŒä¸€è‡´ã€‚</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646121613938/80A2D6E5BA845BDC932EF25370C0DB0D" alt="img"></p><h4 id="2-12-å˜é‡æå‡"><a href="#2-12-å˜é‡æå‡" class="headerlink" title="2.12 å˜é‡æå‡"></a>2.12 å˜é‡æå‡</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>JavaScriptæ˜¯å•çº¿ç¨‹è¯­è¨€ï¼Œæ‰€ä»¥æ‰§è¡Œè‚¯å®šæ˜¯æŒ‰é¡ºåºæ‰§è¡Œã€‚ä½†æ˜¯å¹¶ä¸æ˜¯é€è¡Œçš„åˆ†æå’Œæ‰§è¡Œï¼Œè€Œæ˜¯ä¸€æ®µä¸€æ®µåœ°åˆ†ææ‰§è¡Œï¼Œä¼šå…ˆè¿›è¡Œç¼–è¯‘é˜¶æ®µç„¶åæ‰æ˜¯æ‰§è¡Œé˜¶æ®µã€‚åœ¨ç¼–è¯‘é˜¶æ®µé˜¶æ®µï¼Œä»£ç çœŸæ­£æ‰§è¡Œå‰çš„å‡ æ¯«ç§’ï¼Œä¼šæ£€æµ‹åˆ°æ‰€æœ‰çš„å˜é‡å’Œå‡½æ•°å£°æ˜ï¼Œæ‰€æœ‰è¿™äº›å‡½æ•°å’Œå˜é‡å£°æ˜éƒ½è¢«æ·»åŠ åˆ°åä¸ºLexical Environmentçš„JavaScriptæ•°æ®ç»“æ„å†…çš„å†…å­˜ä¸­ã€‚æ‰€ä»¥è¿™äº›å˜é‡å’Œå‡½æ•°èƒ½åœ¨å®ƒä»¬çœŸæ­£è¢«å£°æ˜ä¹‹å‰ä½¿ç”¨ã€‚</p><h4 id="2-13-ä½œç”¨åŸŸ"><a href="#2-13-ä½œç”¨åŸŸ" class="headerlink" title="2.13 ä½œç”¨åŸŸ"></a>2.13 ä½œç”¨åŸŸ</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p><strong>æ¦‚å¿µï¼š</strong>ä½œç”¨åŸŸå°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„åœ°ç›˜ï¼Œè®©å˜é‡ä¸ä¼šå¤–æ³„ã€æš´éœ²å‡ºå»ã€‚ä¹Ÿå°±æ˜¯è¯´ä½œç”¨åŸŸæœ€å¤§çš„ç”¨å¤„å°±æ˜¯éš”ç¦»å˜é‡ï¼Œä¸åŒä½œç”¨åŸŸä¸‹åŒåå˜é‡ä¸ä¼šæœ‰å†²çªã€‚</p><p><strong>ES6 ä¹‹å‰ JavaScript æ²¡æœ‰å—çº§ä½œç”¨åŸŸ,åªæœ‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸ</strong>ã€‚ES6 çš„åˆ°æ¥ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†â€˜å—çº§ä½œç”¨åŸŸâ€™,å¯é€šè¿‡æ–°å¢å‘½ä»¤ let å’Œ const æ¥ä½“ç°ã€‚</p><p><strong>æ‰©å±•ï¼š</strong></p><p>var â€”â€”ES5 å˜é‡å£°æ˜æ–¹å¼</p><ol><li>åœ¨å˜é‡æœªèµ‹å€¼æ—¶ï¼Œå˜é‡undefinedï¼ˆä¸ºä½¿ç”¨å£°æ˜å˜é‡æ—¶ä¹Ÿä¸ºundefinedï¼‰</li><li>ä½œç”¨åŸŸâ€”â€”varçš„ä½œç”¨åŸŸä¸ºæ–¹æ³•ä½œç”¨åŸŸï¼›åªè¦åœ¨æ–¹æ³•å†…å®šä¹‰äº†ï¼Œæ•´ä¸ªæ–¹æ³•å†…çš„å®šä¹‰å˜é‡åçš„ä»£ç éƒ½å¯ä»¥ä½¿ç”¨</li></ol><p>letâ€”â€”ES6å˜é‡å£°æ˜æ–¹å¼</p><ol><li>åœ¨å˜é‡ä¸ºå£°æ˜å‰ç›´æ¥ä½¿ç”¨ä¼šæŠ¥é”™</li><li>ä½œç”¨åŸŸâ€”â€”letä¸ºå—ä½œç”¨åŸŸâ€”â€”é€šå¸¸letæ¯”var èŒƒå›´è¦å°</li><li>letç¦æ­¢é‡å¤å£°æ˜å˜é‡ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼›varå¯ä»¥é‡å¤å£°æ˜</li></ol><p>constâ€”â€”ES6å˜é‡å£°æ˜æ–¹å¼</p><p>constä¸ºå¸¸é‡å£°æ˜æ–¹å¼ï¼›å£°æ˜å˜é‡æ—¶å¿…é¡»åˆå§‹åŒ–ï¼Œåœ¨åé¢å‡ºç°çš„ä»£ç ä¸­ä¸èƒ½å†ä¿®æ”¹è¯¥å¸¸é‡çš„å€¼</p><p>constå®é™…ä¸Šä¿è¯çš„ï¼Œå¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ä¸å¾—æ”¹åŠ¨</p><h4 id="2-14-HashMap-å’Œ-Array-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#2-14-HashMap-å’Œ-Array-æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="2.14 HashMap å’Œ Array æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>2.14 HashMap å’Œ Array æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><ol><li>æŸ¥æ‰¾æ•ˆç‡<br>HashMapå› ä¸ºå…¶æ ¹æ®hashcodeçš„å€¼ç›´æ¥ç®—å‡ºindex,æ‰€ä»¥å…¶æŸ¥æ‰¾æ•ˆç‡æ˜¯éšç€æ•°ç»„é•¿åº¦å¢å¤§è€Œå¢åŠ çš„ã€‚<br>ArrayMapä½¿ç”¨çš„æ˜¯äºŒåˆ†æ³•æŸ¥æ‰¾ï¼Œæ‰€ä»¥å½“æ•°ç»„é•¿åº¦æ¯å¢åŠ ä¸€å€æ—¶ï¼Œå°±éœ€è¦å¤šè¿›è¡Œä¸€æ¬¡åˆ¤æ–­ï¼Œæ•ˆç‡ä¸‹é™</li><li>æ‰©å®¹æ•°é‡<br>HashMapåˆå§‹å€¼16ä¸ªé•¿åº¦ï¼Œæ¯æ¬¡æ‰©å®¹çš„æ—¶å€™ï¼Œç›´æ¥ç”³è¯·åŒå€çš„æ•°ç»„ç©ºé—´ã€‚<br>ArrayMapæ¯æ¬¡æ‰©å®¹çš„æ—¶å€™ï¼Œå¦‚æœsizeé•¿åº¦å¤§äº8æ—¶ç”³è¯·size*1.5ä¸ªé•¿åº¦ï¼Œå¤§äº4å°äº8æ—¶ç”³è¯·8ä¸ªï¼Œå°äº4æ—¶ç”³ è¯·4ä¸ªã€‚è¿™æ ·æ¯”è¾ƒArrayMapå…¶å®æ˜¯ç”³è¯·äº†æ›´å°‘çš„å†…å­˜ç©ºé—´ï¼Œä½†æ˜¯æ‰©å®¹çš„é¢‘ç‡ä¼šæ›´é«˜ã€‚å› æ­¤ï¼Œå¦‚æœæ•°æ®é‡æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œè¿˜æ˜¯ä½¿ç”¨HashMapæ›´åˆé€‚ï¼Œå› ä¸ºå…¶æ‰©å®¹çš„æ¬¡æ•°è¦æ¯”ArrayMapå°‘å¾ˆå¤šã€‚</li><li>æ‰©å®¹æ•ˆç‡<br>HashMapæ¯æ¬¡æ‰©å®¹çš„æ—¶å€™é‡æ–°è®¡ç®—æ¯ä¸ªæ•°ç»„æˆå‘˜çš„ä½ç½®ï¼Œç„¶åæ”¾åˆ°æ–°çš„ä½ç½®ã€‚<br>ArrayMapåˆ™æ˜¯ç›´æ¥ä½¿ç”¨System.arraycopyï¼Œæ‰€ä»¥æ•ˆç‡ä¸Šè‚¯å®šæ˜¯ArrayMapæ›´å ä¼˜åŠ¿ã€‚</li><li>å†…å­˜æ¶ˆè€—<br>ä»¥ArrayMapé‡‡ç”¨äº†ä¸€ç§ç‹¬ç‰¹çš„æ–¹å¼ï¼Œèƒ½å¤Ÿé‡å¤çš„åˆ©ç”¨å› ä¸ºæ•°æ®æ‰©å®¹è€Œé—ç•™ä¸‹æ¥çš„æ•°ç»„ç©ºé—´ï¼Œæ–¹ä¾¿ä¸‹ä¸€ä¸ªArrayMapçš„ä½¿ç”¨ã€‚è€ŒHashMapæ²¡æœ‰è¿™ç§è®¾è®¡ã€‚ ç”±äºArrayMapä¹‹ç¼“å­˜äº†é•¿åº¦æ˜¯4å’Œ8çš„æ—¶å€™ï¼Œæ‰€ä»¥å¦‚æœé¢‘ç¹çš„ä½¿ç”¨åˆ°Mapï¼Œè€Œä¸”æ•°æ®é‡éƒ½æ¯”è¾ƒå°çš„æ—¶å€™ï¼ŒArrayMapæ— ç–‘æ˜¯ç›¸å½“çš„æ˜¯èŠ‚çœå†…å­˜çš„ã€‚</li></ol><p>æ€»ç»“<br>ç»¼ä¸Šæ‰€è¿°ï¼Œæ•°æ®é‡æ¯”è¾ƒå°ï¼Œå¹¶ä¸”éœ€è¦é¢‘ç¹çš„ä½¿ç”¨Mapå­˜å‚¨æ•°æ®çš„æ—¶å€™ï¼Œæ¨èä½¿ç”¨ArrayMapã€‚ è€Œæ•°æ®é‡æ¯”è¾ƒå¤§çš„ æ—¶å€™ï¼Œåˆ™æ¨èä½¿ç”¨HashMapã€‚</p><h4 id="2-15-HashMapå’ŒObject"><a href="#2-15-HashMapå’ŒObject" class="headerlink" title="2.15 HashMapå’ŒObject"></a>2.15 HashMapå’ŒObject</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>Objectså’ŒMapsç±»ä¼¼çš„æ˜¯ï¼Œå®ƒä»¬éƒ½å…è®¸ä½ æŒ‰é”®å­˜å–ä¸€ä¸ªå€¼ã€åˆ é™¤é”®ã€æ£€æµ‹ä¸€ä¸ªé”®æ˜¯å¦ç»‘å®šäº†å€¼ã€‚å› æ­¤ï¼ˆå¹¶ä¸”ä¹Ÿæ²¡æœ‰å…¶ä»–å†…å»ºçš„æ›¿ä»£æ–¹å¼äº†ï¼‰è¿‡å»æˆ‘ä»¬ä¸€ç›´éƒ½æŠŠå¯¹è±¡å½“æˆMapsä½¿ç”¨ã€‚ä¸è¿‡Mapså’ŒObjectsæœ‰ä¸€äº›é‡è¦çš„åŒºåˆ«ï¼Œåœ¨ä¸‹åˆ—æƒ…å†µé‡Œä½¿ç”¨Mapä¼šæ˜¯æ›´å¥½çš„é€‰æ‹©ï¼š</p><table><thead><tr><th></th><th>Map</th><th>Object</th></tr></thead><tbody><tr><td>æ„å¤–çš„é”®</td><td>Mapé»˜è®¤æƒ…å†µä¸åŒ…å«ä»»ä½•é”®ã€‚åªåŒ…å«æ˜¾å¼æ’å…¥çš„é”®ã€‚</td><td>ä¸€ä¸ªObjectæœ‰ä¸€ä¸ªåŸå‹, åŸå‹é“¾ä¸Šçš„é”®åæœ‰å¯èƒ½å’Œä½ è‡ªå·±åœ¨å¯¹è±¡ä¸Šçš„è®¾ç½®çš„é”®åäº§ç”Ÿå†²çªã€‚<strong>æ³¨æ„:</strong> è™½ç„¶ ES5 å¼€å§‹å¯ä»¥ç”¨Object.create(null)æ¥åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„å¯¹è±¡ï¼Œä½†æ˜¯è¿™ç§ç”¨æ³•ä¸å¤ªå¸¸è§ã€‚</td></tr><tr><td>é”®çš„ç±»å‹</td><td>ä¸€ä¸ªMapçš„é”®å¯ä»¥æ˜¯<strong>ä»»æ„å€¼</strong>ï¼ŒåŒ…æ‹¬å‡½æ•°ã€å¯¹è±¡æˆ–ä»»æ„åŸºæœ¬ç±»å‹ã€‚</td><td>ä¸€ä¸ªObjectçš„é”®å¿…é¡»æ˜¯ä¸€ä¸ª <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/String">String</a> æˆ–æ˜¯<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol">Symbol</a>ã€‚</td></tr><tr><td>é”®çš„é¡ºåº</td><td>Mapä¸­çš„ key æ˜¯æœ‰åºçš„ã€‚å› æ­¤ï¼Œå½“è¿­ä»£çš„æ—¶å€™ï¼Œä¸€ä¸ªMapå¯¹è±¡ä»¥æ’å…¥çš„é¡ºåºè¿”å›é”®å€¼ã€‚</td><td>ä¸€ä¸ªObjectçš„é”®æ˜¯æ— åºçš„æ³¨æ„ï¼šè‡ªECMAScript 2015è§„èŒƒä»¥æ¥ï¼Œå¯¹è±¡<em>ç¡®å®</em>ä¿ç•™äº†å­—ç¬¦ä¸²å’ŒSymbolé”®çš„åˆ›å»ºé¡ºåºï¼› å› æ­¤ï¼Œåœ¨åªæœ‰å­—ç¬¦ä¸²é”®çš„å¯¹è±¡ä¸Šè¿›è¡Œè¿­ä»£å°†æŒ‰æ’å…¥é¡ºåºäº§ç”Ÿé”®ã€‚</td></tr><tr><td>Size</td><td>Mapçš„é”®å€¼å¯¹ä¸ªæ•°å¯ä»¥è½»æ˜“åœ°é€šè¿‡<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map/size">size</a> å±æ€§è·å–</td><td>Objectçš„é”®å€¼å¯¹ä¸ªæ•°åªèƒ½æ‰‹åŠ¨è®¡ç®—</td></tr><tr><td>è¿­ä»£</td><td>Mapæ˜¯ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/iterable">iterable</a> çš„ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥è¢«è¿­ä»£ã€‚</td><td>è¿­ä»£ä¸€ä¸ªObjectéœ€è¦ä»¥æŸç§æ–¹å¼è·å–å®ƒçš„é”®ç„¶åæ‰èƒ½è¿­ä»£ã€‚</td></tr><tr><td>æ€§èƒ½</td><td>åœ¨é¢‘ç¹å¢åˆ é”®å€¼å¯¹çš„åœºæ™¯ä¸‹è¡¨ç°æ›´å¥½ã€‚</td><td>åœ¨é¢‘ç¹æ·»åŠ å’Œåˆ é™¤é”®å€¼å¯¹çš„åœºæ™¯ä¸‹æœªä½œå‡ºä¼˜åŒ–ã€‚</td></tr></tbody></table><h4 id="2-16-javascriptä¸­argumentsç›¸å…³çš„é—®é¢˜"><a href="#2-16-javascriptä¸­argumentsç›¸å…³çš„é—®é¢˜" class="headerlink" title="2.16 javascriptä¸­argumentsç›¸å…³çš„é—®é¢˜"></a>2.16 javascriptä¸­argumentsç›¸å…³çš„é—®é¢˜</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p><strong>arguments</strong></p><p>åœ¨jsä¸­ï¼Œæˆ‘ä»¬åœ¨è°ƒç”¨æœ‰å‚æ•°çš„å‡½æ•°æ—¶ï¼Œå½“å¾€è¿™ä¸ªè°ƒç”¨çš„æœ‰å‚å‡½æ•°ä¼ å‚æ—¶ï¼Œjsä¼šæŠŠæ‰€ä¼ çš„å‚æ•°å…¨éƒ¨å­˜åˆ°ä¸€ä¸ªå«argumentsçš„å¯¹è±¡é‡Œé¢ã€‚å®ƒæ˜¯ä¸€ä¸ª<strong>ç±»æ•°ç»„æ•°æ®</strong></p><p><strong>ç”±æ¥</strong></p><p>Javascripä¸­æ¯ä¸ªå‡½æ•°éƒ½ä¼šæœ‰ä¸€ä¸ªArgumentså¯¹è±¡å®ä¾‹argumentsï¼Œå¼•ç”¨ç€å‡½æ•°çš„å®å‚ã€‚å®ƒæ˜¯å¯„ç”Ÿåœ¨jså‡½æ•°å½“ä¸­çš„ï¼Œä¸èƒ½æ˜¾å¼åˆ›å»ºï¼Œargumentså¯¹è±¡åªæœ‰å‡½æ•°å¼€å§‹æ—¶æ‰å¯ç”¨</p><p><strong>ä½œç”¨</strong></p><p>æœ‰äº†argumentsè¿™ä¸ªå¯¹è±¡ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä¸ç”¨ç»™å‡½æ•°é¢„å…ˆè®¾å®šå½¢å‚äº†ï¼Œå¯ä»¥åŠ¨æ€åœ°é€šè¿‡argumentsä¸ºå‡½æ•°åŠ å…¥å‚æ•°</p><h4 id="2-17-instanceOf-åŸç†ï¼Œæ‰‹åŠ¨å®ç°-function-isInstanceOf-child-Parent"><a href="#2-17-instanceOf-åŸç†ï¼Œæ‰‹åŠ¨å®ç°-function-isInstanceOf-child-Parent" class="headerlink" title="2.17 instanceOf åŸç†ï¼Œæ‰‹åŠ¨å®ç° function isInstanceOf (child, Parent)"></a>2.17 instanceOf åŸç†ï¼Œæ‰‹åŠ¨å®ç° function isInstanceOf (child, Parent)</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><p>instanceofä¸»è¦ä½œç”¨å°±æ˜¯åˆ¤æ–­ä¸€ä¸ªå®ä¾‹æ˜¯å¦å±äºæŸç§ç±»å‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> no = <span class="keyword">new</span> <span class="title function_">person</span>()</span><br><span class="line">no <span class="keyword">instanceof</span> person<span class="comment">//true</span></span><br></pre></td></tr></table></figure><p>instanceOf åŸç†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">new_instance_of</span>(<span class="params">leftVaule, rightVaule</span>) &#123; </span><br><span class="line">    <span class="keyword">let</span> rightProto = rightVaule.<span class="property"><span class="keyword">prototype</span></span>; <span class="comment">// å–å³è¡¨è¾¾å¼çš„ prototype å€¼</span></span><br><span class="line">    leftVaule = leftVaule.<span class="property">__proto__</span>; <span class="comment">// å–å·¦è¡¨è¾¾å¼çš„__proto__å€¼</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (leftVaule === <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;    </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (leftVaule === rightProto) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;    </span><br><span class="line">        &#125; </span><br><span class="line">        leftVaule = leftVaule.<span class="property">__proto__</span> </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶å® instanceof ä¸»è¦çš„å®ç°åŸç†å°±æ˜¯åªè¦å³è¾¹å˜é‡çš„ prototype åœ¨å·¦è¾¹å˜é‡çš„åŸå‹é“¾ä¸Šå³å¯ã€‚å› æ­¤ï¼Œinstanceof åœ¨æŸ¥æ‰¾çš„è¿‡ç¨‹ä¸­ä¼šéå†å·¦è¾¹å˜é‡çš„åŸå‹é“¾ï¼Œç›´åˆ°æ‰¾åˆ°å³è¾¹å˜é‡çš„ prototypeï¼Œå¦‚æœæŸ¥æ‰¾å¤±è´¥ï¼Œåˆ™ä¼šè¿”å› falseï¼Œå‘Šè¯‰æˆ‘ä»¬å·¦è¾¹å˜é‡å¹¶éæ˜¯å³è¾¹å˜é‡çš„å®ä¾‹ã€‚</p><p>åŒæ—¶è¿˜è¦äº†è§£jsçš„åŸå‹ç»§æ‰¿åŸç†</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646121650388/2B869BED138922220E1DC0C5C1B898EE" alt="img"></p><p>æˆ‘ä»¬çŸ¥é“æ¯ä¸ª JavaScript å¯¹è±¡å‡æœ‰ä¸€ä¸ªéšå¼çš„ proto åŸå‹å±æ€§ï¼Œè€Œæ˜¾å¼çš„åŸå‹å±æ€§æ˜¯ prototypeï¼Œåªæœ‰ Object.prototype.proto å±æ€§åœ¨æœªä¿®æ”¹çš„æƒ…å†µä¸‹ä¸º null å€¼</p><p>æ‰‹åŠ¨å®ç°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">instance_of</span>(<span class="params">L, R</span>) &#123;<span class="comment">//L è¡¨ç¤ºå·¦è¡¨è¾¾å¼ï¼ŒR è¡¨ç¤ºå³è¡¨è¾¾å¼</span></span><br><span class="line">    <span class="keyword">var</span> O = R.<span class="property"><span class="keyword">prototype</span></span>;</span><br><span class="line">    L = L.<span class="property">__proto__</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123; </span><br><span class="line">        <span class="keyword">if</span> (L === <span class="literal">null</span>) </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>; </span><br><span class="line">        <span class="keyword">if</span> (O === L) <span class="comment">// è¿™é‡Œé‡ç‚¹ï¼šå½“ O ä¸¥æ ¼ç­‰äº L æ—¶ï¼Œè¿”å›true </span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>; </span><br><span class="line">        L = L.<span class="property">__proto__</span>; </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¼€å§‹æµ‹è¯•</span></span><br><span class="line"><span class="keyword">var</span> a = []</span><br><span class="line"><span class="keyword">var</span> b = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Foo</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> c = <span class="keyword">new</span> <span class="title class_">Foo</span>()</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">child</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">father</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">child.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title function_">father</span>() </span><br><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="title function_">child</span>()</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">instance_of</span>(a, <span class="title class_">Array</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">instance_of</span>(b, <span class="title class_">Object</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">instance_of</span>(b, <span class="title class_">Array</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">instance_of</span>(a, <span class="title class_">Object</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">instance_of</span>(c, <span class="title class_">Foo</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">instance_of</span>(d, child)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">instance_of</span>(d, father)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h4 id="2-18-æ•°ç»„å»é‡"><a href="#2-18-æ•°ç»„å»é‡" class="headerlink" title="2.18 æ•°ç»„å»é‡"></a>2.18 æ•°ç»„å»é‡</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p><strong>1. åˆ©ç”¨ES6 Setå»é‡ï¼ˆES6ä¸­æœ€å¸¸ç”¨ï¼‰</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span> (arr) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="keyword">new</span> <span class="title class_">Set</span>(arr))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line"> <span class="comment">//[1, &quot;true&quot;, true, 15, false, undefined, null, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;&#125;, &#123;&#125;]</span></span><br></pre></td></tr></table></figure><p>ä¸è€ƒè™‘å…¼å®¹æ€§ï¼Œè¿™ç§å»é‡çš„æ–¹æ³•ä»£ç æœ€å°‘ã€‚è¿™ç§æ–¹æ³•è¿˜æ— æ³•å»æ‰â€œ{}â€ç©ºå¯¹è±¡ï¼Œåé¢çš„é«˜é˜¶æ–¹æ³•ä¼šæ·»åŠ å»æ‰é‡å¤â€œ{}â€çš„æ–¹æ³•ã€‚</p><p><strong>2. åˆ©ç”¨foråµŒå¥—forï¼Œç„¶åspliceå»é‡ï¼ˆES5ä¸­æœ€å¸¸ç”¨ï¼‰</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>)&#123;            </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;arr.<span class="property">length</span>; i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> j=i+<span class="number">1</span>; j&lt;arr.<span class="property">length</span>; j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(arr[i]==arr[j])&#123;         <span class="comment">//ç¬¬ä¸€ä¸ªç­‰åŒäºç¬¬äºŒä¸ªï¼Œspliceæ–¹æ³•åˆ é™¤ç¬¬äºŒä¸ª</span></span><br><span class="line">                    arr.<span class="title function_">splice</span>(j,<span class="number">1</span>);</span><br><span class="line">                    j--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line">    <span class="comment">//[1, &quot;true&quot;, 15, false, undefined, NaN, NaN, &quot;NaN&quot;, &quot;a&quot;, &#123;â€¦&#125;, &#123;â€¦&#125;]     //NaNå’Œ&#123;&#125;æ²¡æœ‰å»é‡ï¼Œä¸¤ä¸ªnullç›´æ¥æ¶ˆå¤±äº†</span></span><br></pre></td></tr></table></figure><p>åŒå±‚å¾ªç¯ï¼Œå¤–å±‚å¾ªç¯å…ƒç´ ï¼Œå†…å±‚å¾ªç¯æ—¶æ¯”è¾ƒå€¼ã€‚å€¼ç›¸åŒæ—¶ï¼Œåˆ™åˆ å»è¿™ä¸ªå€¼ã€‚</p><p><strong>3. åˆ©ç”¨indexOfå»é‡</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr)) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;type error!&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> array = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (array .<span class="title function_">indexOf</span>(arr[i]) === -<span class="number">1</span>) &#123;</span><br><span class="line">            array .<span class="title function_">push</span>(arr[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line">   <span class="comment">// [1, &quot;true&quot;, true, 15, false, undefined, null, NaN, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;, &#123;â€¦&#125;]  //NaNã€&#123;&#125;æ²¡æœ‰å»é‡</span></span><br></pre></td></tr></table></figure><p>æ–°å»ºä¸€ä¸ªç©ºçš„ç»“æœæ•°ç»„ï¼Œfor å¾ªç¯åŸæ•°ç»„ï¼Œåˆ¤æ–­ç»“æœæ•°ç»„æ˜¯å¦å­˜åœ¨å½“å‰å…ƒç´ ï¼Œå¦‚æœæœ‰ç›¸åŒçš„å€¼åˆ™è·³è¿‡ï¼Œä¸ç›¸åŒåˆ™pushè¿›æ•°ç»„ã€‚</p><p><strong>4. åˆ©ç”¨sort()</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr)) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;type error!&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    arr = arr.<span class="title function_">sort</span>()</span><br><span class="line">    <span class="keyword">var</span> arrry= [arr[<span class="number">0</span>]];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[i] !== arr[i-<span class="number">1</span>]) &#123;</span><br><span class="line">            arrry.<span class="title function_">push</span>(arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arrry;</span><br><span class="line">&#125;</span><br><span class="line">     <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line"><span class="comment">// [0, 1, 15, &quot;NaN&quot;, NaN, NaN, &#123;â€¦&#125;, &#123;â€¦&#125;, &quot;a&quot;, false, null, true, &quot;true&quot;, undefined]      //NaNã€&#123;&#125;æ²¡æœ‰å»é‡</span></span><br></pre></td></tr></table></figure><p>åˆ©ç”¨sort()æ’åºæ–¹æ³•ï¼Œç„¶åæ ¹æ®æ’åºåçš„ç»“æœè¿›è¡Œéå†åŠç›¸é‚»å…ƒç´ æ¯”å¯¹ã€‚</p><p><strong>5. åˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡ï¼ˆè¿™ç§æ•°ç»„å»é‡çš„æ–¹æ³•æœ‰é—®é¢˜ï¼Œä¸å»ºè®®ç”¨ï¼Œæœ‰å¾…æ”¹è¿›ï¼‰</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr)) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;type error!&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> arrry= [];</span><br><span class="line">     <span class="keyword">var</span>  obj = &#123;&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!obj[arr[i]]) &#123;</span><br><span class="line">            arrry.<span class="title function_">push</span>(arr[i])</span><br><span class="line">            obj[arr[i]] = <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            obj[arr[i]]++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arrry;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line"><span class="comment">//[1, &quot;true&quot;, 15, false, undefined, null, NaN, 0, &quot;a&quot;, &#123;â€¦&#125;]    //ä¸¤ä¸ªtrueç›´æ¥å»æ‰äº†ï¼ŒNaNå’Œ&#123;&#125;å»é‡</span></span><br></pre></td></tr></table></figure><p><strong>6. åˆ©ç”¨includes</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr)) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;type error!&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> array =[];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>( !array.<span class="title function_">includes</span>( arr[i]) ) &#123;<span class="comment">//includes æ£€æµ‹æ•°ç»„æ˜¯å¦æœ‰æŸä¸ªå€¼</span></span><br><span class="line">                    array.<span class="title function_">push</span>(arr[i]);</span><br><span class="line">              &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> array</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line">    <span class="comment">//[1, &quot;true&quot;, true, 15, false, undefined, null, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;, &#123;â€¦&#125;]     //&#123;&#125;æ²¡æœ‰å»é‡</span></span><br></pre></td></tr></table></figure><p><strong>7. åˆ©ç”¨hasOwnProperty</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">    <span class="keyword">return</span> arr.<span class="title function_">filter</span>(<span class="keyword">function</span>(<span class="params">item, index, arr</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> obj.<span class="title function_">hasOwnProperty</span>(<span class="keyword">typeof</span> item + item) ? <span class="literal">false</span> : (obj[<span class="keyword">typeof</span> item + item] = <span class="literal">true</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line"><span class="comment">//[1, &quot;true&quot;, true, 15, false, undefined, null, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;]   //æ‰€æœ‰çš„éƒ½å»é‡äº†</span></span><br></pre></td></tr></table></figure><p>åˆ©ç”¨hasOwnProperty åˆ¤æ–­æ˜¯å¦å­˜åœ¨å¯¹è±¡å±æ€§</p><p><strong>8. åˆ©ç”¨filter</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> arr.<span class="title function_">filter</span>(<span class="keyword">function</span>(<span class="params">item, index, arr</span>) &#123;</span><br><span class="line">    <span class="comment">//å½“å‰å…ƒç´ ï¼Œåœ¨åŸå§‹æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªç´¢å¼•==å½“å‰ç´¢å¼•å€¼ï¼Œå¦åˆ™è¿”å›å½“å‰å…ƒç´ </span></span><br><span class="line">    <span class="keyword">return</span> arr.<span class="title function_">indexOf</span>(item, <span class="number">0</span>) === index;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line"><span class="comment">//[1, &quot;true&quot;, true, 15, false, undefined, null, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;, &#123;â€¦&#125;]</span></span><br></pre></td></tr></table></figure><p><strong>9. åˆ©ç”¨é€’å½’å»é‡</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> array= arr;</span><br><span class="line">        <span class="keyword">var</span> len = array.<span class="property">length</span>;</span><br><span class="line"></span><br><span class="line">    array.<span class="title function_">sort</span>(<span class="keyword">function</span>(<span class="params">a,b</span>)&#123;   <span class="comment">//æ’åºåæ›´åŠ æ–¹ä¾¿å»é‡</span></span><br><span class="line">        <span class="keyword">return</span> a - b;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">loop</span>(<span class="params">index</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(index &gt;= <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(array[index] === array[index-<span class="number">1</span>])&#123;</span><br><span class="line">                array.<span class="title function_">splice</span>(index,<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="title function_">loop</span>(index - <span class="number">1</span>);    <span class="comment">//é€’å½’loopï¼Œç„¶åæ•°ç»„å»é‡</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">loop</span>(len-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line"><span class="comment">//[1, &quot;a&quot;, &quot;true&quot;, true, 15, false, 1, &#123;â€¦&#125;, null, NaN, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;, undefined]</span></span><br></pre></td></tr></table></figure><p><strong>10. åˆ©ç”¨Mapæ•°æ®ç»“æ„å»é‡</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">arrayNonRepeatfy</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">  <span class="keyword">let</span> array = <span class="keyword">new</span> <span class="title class_">Array</span>();  <span class="comment">// æ•°ç»„ç”¨äºè¿”å›ç»“æœ</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span>(map .<span class="title function_">has</span>(arr[i])) &#123;  <span class="comment">// å¦‚æœæœ‰è¯¥keyå€¼</span></span><br><span class="line">      map .<span class="title function_">set</span>(arr[i], <span class="literal">true</span>); </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">      map .<span class="title function_">set</span>(arr[i], <span class="literal">false</span>);   <span class="comment">// å¦‚æœæ²¡æœ‰è¯¥keyå€¼</span></span><br><span class="line">      array .<span class="title function_">push</span>(arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; </span><br><span class="line">  <span class="keyword">return</span> array ;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr))</span><br><span class="line"><span class="comment">//[1, &quot;a&quot;, &quot;true&quot;, true, 15, false, 1, &#123;â€¦&#125;, null, NaN, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;, undefined]</span></span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªç©ºMapæ•°æ®ç»“æ„ï¼Œéå†éœ€è¦å»é‡çš„æ•°ç»„ï¼ŒæŠŠæ•°ç»„çš„æ¯ä¸€ä¸ªå…ƒç´ ä½œä¸ºkeyå­˜åˆ°Mapä¸­ã€‚ç”±äºMapä¸­ä¸ä¼šå‡ºç°ç›¸åŒçš„keyå€¼ï¼Œæ‰€ä»¥æœ€ç»ˆå¾—åˆ°çš„å°±æ˜¯å»é‡åçš„ç»“æœã€‚</p><p><strong>11. åˆ©ç”¨reduce+includes</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">unique</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">prev,cur</span>) =&gt;</span> prev.<span class="title function_">includes</span>(cur) ? prev : [...prev,cur],[]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;true&#x27;</span>,<span class="string">&#x27;true&#x27;</span>,<span class="literal">true</span>,<span class="literal">true</span>,<span class="number">15</span>,<span class="number">15</span>,<span class="literal">false</span>,<span class="literal">false</span>, <span class="literal">undefined</span>,<span class="literal">undefined</span>, <span class="literal">null</span>,<span class="literal">null</span>, <span class="title class_">NaN</span>, <span class="title class_">NaN</span>,<span class="string">&#x27;NaN&#x27;</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">unique</span>(arr));</span><br><span class="line"><span class="comment">// [1, &quot;true&quot;, true, 15, false, undefined, null, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;, &#123;â€¦&#125;]</span></span><br></pre></td></tr></table></figure><p><strong>12. [â€¦new Set(arr)]</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[...<span class="keyword">new</span> <span class="title class_">Set</span>(arr)] </span><br><span class="line"><span class="comment">//ä»£ç å°±æ˜¯è¿™ä¹ˆå°‘----ï¼ˆå…¶å®ï¼Œä¸¥æ ¼æ¥è¯´å¹¶ä¸ç®—æ˜¯ä¸€ç§ï¼Œç›¸å¯¹äºç¬¬ä¸€ç§æ–¹æ³•æ¥è¯´åªæ˜¯ç®€åŒ–äº†ä»£ç ï¼‰</span></span><br></pre></td></tr></table></figure><h4 id="2-19-ç¼–ç å’Œå­—ç¬¦é›†çš„åŒºåˆ«"><a href="#2-19-ç¼–ç å’Œå­—ç¬¦é›†çš„åŒºåˆ«" class="headerlink" title="2.19 ç¼–ç å’Œå­—ç¬¦é›†çš„åŒºåˆ«"></a>2.19 ç¼–ç å’Œå­—ç¬¦é›†çš„åŒºåˆ«</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>å­—ç¬¦é›†æ˜¯ä¹¦å†™ç³»ç»Ÿå­—æ¯ä¸ç¬¦å·çš„é›†åˆï¼Œè€Œå­—ç¬¦ç¼–ç åˆ™æ˜¯å°†å­—ç¬¦æ˜ å°„ä¸ºä¸€ç‰¹å®šçš„å­—èŠ‚æˆ–å­—èŠ‚åºåˆ—ï¼Œæ˜¯ä¸€ç§è§„åˆ™ã€‚é€šå¸¸ç‰¹å®šçš„å­—ç¬¦é›†é‡‡ç”¨ç‰¹å®šçš„ç¼–ç æ–¹å¼ï¼ˆå³ä¸€ç§å­—ç¬¦é›†å¯¹åº”ä¸€ç§å­—ç¬¦ç¼–ç ï¼ˆä¾‹å¦‚ï¼šASCIIã€IOS-8859-1ã€GB2312ã€GBKï¼Œéƒ½æ˜¯å³è¡¨ç¤ºäº†å­—ç¬¦é›†åˆè¡¨ç¤ºäº†å¯¹åº”çš„å­—ç¬¦ç¼–ç ï¼Œä½†Unicodeä¸æ˜¯ï¼Œå®ƒé‡‡ç”¨ç°ä»£çš„æ¨¡å‹ï¼‰ï¼‰</p><p><strong>æ‰©å±•ï¼š</strong></p><p>å­—ç¬¦ï¼šåœ¨è®¡ç®—æœºå’Œç”µä¿¡æŠ€æœ¯ä¸­ï¼Œä¸€ä¸ªå­—ç¬¦æ˜¯ä¸€ä¸ªå•ä½çš„å­—å½¢ã€ç±»å­—å½¢å•ä½æˆ–ç¬¦å·çš„åŸºæœ¬ä¿¡æ¯ã€‚å³ä¸€ä¸ªå­—ç¬¦å¯ä»¥æ˜¯ä¸€ä¸ªä¸­æ–‡æ±‰å­—ã€ä¸€ä¸ªè‹±æ–‡å­—æ¯ã€ä¸€ä¸ªé˜¿æ‹‰ä¼¯æ•°å­—ã€ä¸€ä¸ªæ ‡ç‚¹ç¬¦å·ç­‰ã€‚</p><p>å­—ç¬¦é›†ï¼šå¤šä¸ªå­—ç¬¦çš„é›†åˆã€‚ä¾‹å¦‚GB2312æ˜¯ä¸­å›½å›½å®¶æ ‡å‡†çš„ç®€ä½“ä¸­æ–‡å­—ç¬¦é›†ï¼ŒGB2312æ”¶å½•ç®€åŒ–æ±‰å­—ï¼ˆ6763ä¸ªï¼‰åŠä¸€èˆ¬ç¬¦å·ã€åºå·ã€æ•°å­—ã€æ‹‰ä¸å­—æ¯ã€æ—¥æ–‡å‡åã€å¸Œè…Šå­—æ¯ã€ä¿„æ–‡å­—æ¯ã€æ±‰è¯­æ‹¼éŸ³ç¬¦å·ã€æ±‰è¯­æ³¨éŸ³å­—æ¯ï¼Œå…± 7445 ä¸ªå›¾å½¢å­—ç¬¦ã€‚</p><p>å­—ç¬¦ç¼–ç ï¼šæŠŠå­—ç¬¦é›†ä¸­çš„å­—ç¬¦ç¼–ç ä¸ºï¼ˆæ˜ å°„ï¼‰æŒ‡å®šé›†åˆä¸­çš„æŸä¸€å¯¹è±¡ï¼ˆä¾‹å¦‚ï¼šæ¯”ç‰¹æ¨¡å¼ã€è‡ªç„¶æ•°åºåˆ—ã€ç”µè„‰å†²ï¼‰ï¼Œä»¥ä¾¿æ–‡æœ¬åœ¨è®¡ç®—æœºä¸­å­˜å‚¨å’Œé€šè¿‡é€šä¿¡ç½‘ç»œçš„ä¼ é€’ã€‚</p><h4 id="2-20-null-å’Œ-undefined-çš„åŒºåˆ«ï¼Œå¦‚ä½•è®©ä¸€ä¸ªå±æ€§å˜ä¸ºnull"><a href="#2-20-null-å’Œ-undefined-çš„åŒºåˆ«ï¼Œå¦‚ä½•è®©ä¸€ä¸ªå±æ€§å˜ä¸ºnull" class="headerlink" title="2.20 null å’Œ undefined çš„åŒºåˆ«ï¼Œå¦‚ä½•è®©ä¸€ä¸ªå±æ€§å˜ä¸ºnull"></a>2.20 null å’Œ undefined çš„åŒºåˆ«ï¼Œå¦‚ä½•è®©ä¸€ä¸ªå±æ€§å˜ä¸ºnull</h4><p><strong>å‚è€ƒç­”æ¡ˆï¼š</strong></p><p>undefined è¡¨ç¤ºä¸€ä¸ªå˜é‡è‡ªç„¶çš„ã€æœ€åŸå§‹çš„çŠ¶æ€å€¼ï¼Œè€Œ null åˆ™è¡¨ç¤ºä¸€ä¸ªå˜é‡è¢«äººä¸ºçš„è®¾ç½®ä¸ºç©ºå¯¹è±¡ï¼Œè€Œä¸æ˜¯åŸå§‹çŠ¶æ€ã€‚æ‰€ä»¥ï¼Œåœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†ä¿è¯å˜é‡æ‰€ä»£è¡¨çš„è¯­ä¹‰ï¼Œä¸è¦å¯¹ä¸€ä¸ªå˜é‡æ˜¾å¼çš„èµ‹å€¼ undefinedï¼Œå½“éœ€è¦é‡Šæ”¾ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œç›´æ¥èµ‹å€¼ä¸º null å³å¯ã€‚</p><p><strong>è§£æï¼š</strong></p><p><strong>undefined</strong> çš„å­—é¢æ„æ€å°±æ˜¯ï¼šæœªå®šä¹‰çš„å€¼ ã€‚è¿™ä¸ªå€¼çš„è¯­ä¹‰æ˜¯ï¼Œå¸Œæœ›<strong>è¡¨ç¤ºä¸€ä¸ªå˜é‡æœ€åŸå§‹çš„çŠ¶æ€ï¼Œè€Œéäººä¸ºæ“ä½œçš„ç»“æœ ã€‚</strong> è¿™ç§åŸå§‹çŠ¶æ€ä¼šåœ¨ä»¥ä¸‹ 4 ç§åœºæ™¯ä¸­å‡ºç°ï¼š</p><ol><li>å£°æ˜äº†ä¸€ä¸ªå˜é‡ï¼Œä½†æ²¡æœ‰èµ‹å€¼</li><li>è®¿é—®å¯¹è±¡ä¸Šä¸å­˜åœ¨çš„å±æ€§</li><li>å‡½æ•°å®šä¹‰äº†å½¢å‚ï¼Œä½†æ²¡æœ‰ä¼ é€’å®å‚</li><li>ä½¿ç”¨ void å¯¹è¡¨è¾¾å¼æ±‚å€¼</li></ol><p>å› æ­¤ï¼Œundefined ä¸€èˆ¬éƒ½æ¥è‡ªäºæŸä¸ªè¡¨è¾¾å¼æœ€åŸå§‹çš„çŠ¶æ€å€¼ï¼Œä¸æ˜¯äººä¸ºæ“ä½œçš„ç»“æœã€‚å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨ç»™ä¸€ä¸ªå˜é‡èµ‹å€¼ undefinedï¼Œä½†è¿™æ ·åšæ²¡æœ‰æ„ä¹‰ï¼Œå› ä¸ºä¸€ä¸ªå˜é‡ä¸èµ‹å€¼å°±æ˜¯ undefined ã€‚</p><p><strong>null</strong> çš„å­—é¢æ„æ€æ˜¯ï¼šç©ºå€¼ ã€‚è¿™ä¸ªå€¼çš„è¯­ä¹‰æ˜¯ï¼Œå¸Œæœ›<strong>è¡¨ç¤º ä¸€ä¸ªå¯¹è±¡è¢«äººä¸ºçš„é‡ç½®ä¸ºç©ºå¯¹è±¡ï¼Œè€Œéä¸€ä¸ªå˜é‡æœ€åŸå§‹çš„çŠ¶æ€ ã€‚</strong> åœ¨å†…å­˜é‡Œçš„è¡¨ç¤ºå°±æ˜¯ï¼Œæ ˆä¸­çš„å˜é‡æ²¡æœ‰æŒ‡å‘å †ä¸­çš„å†…å­˜å¯¹è±¡</p><p><img src="https://uploadfiles.nowcoder.com/images/20220301/4107856_1646121680358/0B3EF648CF963F2F1CFB70DE3D6350F4" alt="img"></p><p>null æœ‰å±äºè‡ªå·±çš„ç±»å‹ Nullï¼Œè€Œä¸å±äºObjectç±»å‹ï¼Œtypeof ä¹‹æ‰€ä»¥ä¼šåˆ¤å®šä¸º Object ç±»å‹ï¼Œæ˜¯å› ä¸ºJavaScript æ•°æ®ç±»å‹åœ¨åº•å±‚éƒ½æ˜¯ä»¥äºŒè¿›åˆ¶çš„å½¢å¼è¡¨ç¤ºçš„ï¼Œ<strong>äºŒè¿›åˆ¶çš„å‰ä¸‰ä½ä¸º 0 ä¼šè¢« typeof åˆ¤æ–­ä¸ºå¯¹è±¡ç±»å‹</strong>ï¼Œè€Œ null çš„äºŒè¿›åˆ¶ä½æ°å¥½éƒ½æ˜¯ 0 ï¼Œå› æ­¤ï¼Œnull è¢«è¯¯åˆ¤æ–­ä¸º Object ç±»å‹ã€‚</p><h4 id="2-21-æ•°ç»„å’Œä¼ªæ•°ç»„çš„åŒºåˆ«"><a href="#2-21-æ•°ç»„å’Œä¼ªæ•°ç»„çš„åŒºåˆ«" class="headerlink" title="2.21 æ•°ç»„å’Œä¼ªæ•°ç»„çš„åŒºåˆ«"></a>2.21 æ•°ç»„å’Œä¼ªæ•°ç»„çš„åŒºåˆ«</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><ol><li>å®šä¹‰</li></ol><ul><li>æ•°ç»„æ˜¯ä¸€ä¸ªç‰¹æ®Šå¯¹è±¡,ä¸å¸¸è§„å¯¹è±¡çš„åŒºåˆ«ï¼š<ul><li>å½“ç”±æ–°å…ƒç´ æ·»åŠ åˆ°åˆ—è¡¨ä¸­æ—¶ï¼Œè‡ªåŠ¨æ›´æ–°lengthå±æ€§</li><li>è®¾ç½®lengthå±æ€§ï¼Œå¯ä»¥æˆªæ–­æ•°ç»„</li><li>ä»Array.protoypeä¸­ç»§æ‰¿äº†æ–¹æ³•</li><li>å±æ€§ä¸ºâ€™Arrayâ€™</li></ul></li><li>ç±»æ•°ç»„æ˜¯ä¸€ä¸ªæ‹¥æœ‰lengthå±æ€§ï¼Œå¹¶ä¸”ä»–å±æ€§ä¸ºéè´Ÿæ•´æ•°çš„æ™®é€šå¯¹è±¡ï¼Œç±»æ•°ç»„ä¸èƒ½ç›´æ¥è°ƒç”¨æ•°ç»„æ–¹æ³•ã€‚</li></ul><ol><li>åŒºåˆ«<br>æœ¬è´¨ï¼šç±»æ•°ç»„æ˜¯ç®€å•å¯¹è±¡ï¼Œå®ƒçš„åŸå‹å…³ç³»ä¸æ•°ç»„ä¸åŒã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸå‹å…³ç³»å’ŒåŸå§‹å€¼è½¬æ¢</span></span><br><span class="line"><span class="keyword">let</span> arrayLike = &#123;</span><br><span class="line">    <span class="attr">length</span>: <span class="number">10</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arrayLike <span class="keyword">instanceof</span> <span class="title class_">Array</span>); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arrayLike.<span class="property">__proto__</span>.<span class="property">constructor</span> === <span class="title class_">Array</span>); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arrayLike.<span class="title function_">toString</span>()); <span class="comment">// [object Object]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arrayLike.<span class="title function_">valueOf</span>()); <span class="comment">// &#123;length: 10&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> array = [];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(array <span class="keyword">instanceof</span> <span class="title class_">Array</span>); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(array.<span class="property">__proto__</span>.<span class="property">constructor</span> === <span class="title class_">Array</span>); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(array.<span class="title function_">toString</span>()); <span class="comment">// &#x27;&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(array.<span class="title function_">valueOf</span>()); <span class="comment">// []</span></span><br></pre></td></tr></table></figure><ol><li>ç±»æ•°ç»„è½¬æ¢ä¸ºæ•°ç»„</li></ol><ul><li>è½¬æ¢æ–¹æ³•<ul><li>ä½¿ç”¨Array.from()</li><li>ä½¿ç”¨Array.prototype.slice.call()</li><li>ä½¿ç”¨Array.prototype.forEach()è¿›è¡Œå±æ€§éå†å¹¶ç»„æˆæ–°çš„æ•°ç»„</li></ul></li><li>è½¬æ¢é¡»çŸ¥<ul><li>è½¬æ¢åçš„æ•°ç»„é•¿åº¦ç”±lengthå±æ€§å†³å®šã€‚ç´¢å¼•ä¸è¿ç»­æ—¶è½¬æ¢ç»“æœæ˜¯è¿ç»­çš„ï¼Œä¼šè‡ªåŠ¨è¡¥ä½ã€‚</li><li>ä»£ç ç¤ºä¾‹</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> al1 = &#123;</span><br><span class="line">    <span class="attr">length</span>: <span class="number">4</span>,</span><br><span class="line">    <span class="number">0</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="number">1</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="number">3</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="number">4</span>: <span class="number">4</span>,</span><br><span class="line">    <span class="number">5</span>: <span class="number">5</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">from</span>(al1)) <span class="comment">// [0, 1, undefined, 3]</span></span><br></pre></td></tr></table></figure><ul><li>â‘¡ä»…è€ƒè™‘ 0æˆ–æ­£æ•´æ•° çš„ç´¢å¼•</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»£ç ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">let</span> al2 = &#123;</span><br><span class="line">    <span class="attr">length</span>: <span class="number">4</span>,</span><br><span class="line">    <span class="string">&#x27;-1&#x27;</span>: -<span class="number">1</span>,</span><br><span class="line">    <span class="string">&#x27;0&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">a</span>: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">    <span class="number">1</span>: <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">from</span>(al2)); <span class="comment">// [0, 1, undefined, undefined]</span></span><br></pre></td></tr></table></figure><ul><li>â‘¢ä½¿ç”¨sliceè½¬æ¢äº§ç”Ÿç¨€ç–æ•°ç»„</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»£ç ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">let</span> al2 = &#123;</span><br><span class="line">    <span class="attr">length</span>: <span class="number">4</span>,</span><br><span class="line">    <span class="string">&#x27;-1&#x27;</span>: -<span class="number">1</span>,</span><br><span class="line">    <span class="string">&#x27;0&#x27;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">a</span>: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">    <span class="number">1</span>: <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(al2)); <span class="comment">//[0, 1, empty Ã— 2]</span></span><br></pre></td></tr></table></figure><ol><li>ä½¿ç”¨æ•°ç»„æ–¹æ³•æ“ä½œç±»æ•°ç»„æ³¨æ„åœ°æ–¹</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayLike2 = &#123;</span><br><span class="line">  <span class="number">2</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="number">3</span>: <span class="number">4</span>,</span><br><span class="line">  <span class="attr">length</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="attr">push</span>: <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">push</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// push æ“ä½œçš„æ˜¯ç´¢å¼•å€¼ä¸º length çš„ä½ç½®</span></span><br><span class="line">arrayLike2.<span class="title function_">push</span>(<span class="number">1</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arrayLike2); <span class="comment">// &#123;2: 1, 3: 4, length: 3, push: Æ’&#125;</span></span><br><span class="line">arrayLike2.<span class="title function_">push</span>(<span class="number">2</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arrayLike2); <span class="comment">// &#123;2: 1, 3: 2, length: 4, push: Æ’&#125;</span></span><br></pre></td></tr></table></figure><h4 id="2-22-æ‰‹å†™ä¸€ä¸ªå‘å¸ƒè®¢é˜…"><a href="#2-22-æ‰‹å†™ä¸€ä¸ªå‘å¸ƒè®¢é˜…" class="headerlink" title="2.22 æ‰‹å†™ä¸€ä¸ªå‘å¸ƒè®¢é˜…"></a>2.22 æ‰‹å†™ä¸€ä¸ªå‘å¸ƒè®¢é˜…</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‘å¸ƒè®¢é˜…ä¸­å¿ƒ, on-è®¢é˜…, offå–æ¶ˆè®¢é˜…, emitå‘å¸ƒ, å†…éƒ¨éœ€è¦ä¸€ä¸ªå•ç‹¬äº‹ä»¶ä¸­å¿ƒcachesè¿›è¡Œå­˜å‚¨;</span></span><br><span class="line">interface <span class="title class_">CacheProps</span> &#123;</span><br><span class="line">  [<span class="attr">key</span>: string]: <span class="title class_">Array</span>&lt;(<span class="function">(<span class="params">data?: unknown</span>) =&gt;</span> <span class="keyword">void</span>)&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Observer</span> &#123;</span><br><span class="line">  private <span class="attr">caches</span>: <span class="title class_">CacheProps</span> = &#123;&#125;; <span class="comment">// äº‹ä»¶ä¸­å¿ƒ</span></span><br><span class="line">  on (<span class="attr">eventName</span>: string, <span class="attr">fn</span>: <span class="function">(<span class="params">data?: unknown</span>) =&gt;</span> <span class="keyword">void</span>)&#123; <span class="comment">// eventNameäº‹ä»¶å-ç‹¬ä¸€æ— äºŒ, fnè®¢é˜…åæ‰§è¡Œçš„è‡ªå®šä¹‰è¡Œä¸º</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">caches</span>[eventName] = <span class="variable language_">this</span>.<span class="property">caches</span>[eventName] || [];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">caches</span>[eventName].<span class="title function_">push</span>(fn);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  emit (<span class="attr">eventName</span>: string, data?: unknown) &#123; <span class="comment">// å‘å¸ƒ =&gt; å°†è®¢é˜…çš„äº‹ä»¶è¿›è¡Œç»Ÿä¸€æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">caches</span>[eventName]) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">caches</span>[eventName].<span class="title function_">forEach</span>(<span class="function">(<span class="params">fn: (data?: unknown) =&gt; <span class="keyword">void</span></span>) =&gt;</span> <span class="title function_">fn</span>(data));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  off (<span class="attr">eventName</span>: string, fn?: <span class="function">(<span class="params">data?: unknown</span>) =&gt;</span> <span class="keyword">void</span>) &#123; <span class="comment">// å–æ¶ˆè®¢é˜… =&gt; è‹¥fnä¸ä¼ , ç›´æ¥å–æ¶ˆè¯¥äº‹ä»¶æ‰€æœ‰è®¢é˜…ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">caches</span>[eventName]) &#123;</span><br><span class="line">      <span class="keyword">const</span> newCaches = fn ? <span class="variable language_">this</span>.<span class="property">caches</span>[eventName].<span class="title function_">filter</span>(<span class="function"><span class="params">e</span> =&gt;</span> e !== fn) : [];</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">caches</span>[eventName] = newCaches;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-23-æ‰‹å†™æ•°ç»„è½¬æ ‘"><a href="#2-23-æ‰‹å†™æ•°ç»„è½¬æ ‘" class="headerlink" title="2.23 æ‰‹å†™æ•°ç»„è½¬æ ‘"></a>2.23 æ‰‹å†™æ•°ç»„è½¬æ ‘</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><p><strong>é—®é¢˜ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¾‹å¦‚å°† input è½¬æˆoutputçš„å½¢å¼</span></span><br><span class="line"><span class="keyword">let</span> input = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">val</span>: <span class="string">&#x27;å­¦æ ¡&#x27;</span>, <span class="attr">parentId</span>: <span class="literal">null</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">val</span>: <span class="string">&#x27;ç­çº§1&#x27;</span>, <span class="attr">parentId</span>: <span class="number">1</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">val</span>: <span class="string">&#x27;ç­çº§2&#x27;</span>, <span class="attr">parentId</span>: <span class="number">1</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="number">4</span>, <span class="attr">val</span>: <span class="string">&#x27;å­¦ç”Ÿ1&#x27;</span>, <span class="attr">parentId</span>: <span class="number">2</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="number">5</span>, <span class="attr">val</span>: <span class="string">&#x27;å­¦ç”Ÿ2&#x27;</span>, <span class="attr">parentId</span>: <span class="number">2</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="number">6</span>, <span class="attr">val</span>: <span class="string">&#x27;å­¦ç”Ÿ3&#x27;</span>, <span class="attr">parentId</span>: <span class="number">3</span></span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> output = &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">val</span>: <span class="string">&#x27;å­¦æ ¡&#x27;</span>,</span><br><span class="line">    <span class="attr">children</span>: [&#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="attr">val</span>: <span class="string">&#x27;ç­çº§1&#x27;</span>,</span><br><span class="line">        <span class="attr">children</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>: <span class="number">4</span>,</span><br><span class="line">                <span class="attr">val</span>: <span class="string">&#x27;å­¦ç”Ÿ1&#x27;</span>,</span><br><span class="line">                <span class="attr">children</span>: []</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">id</span>: <span class="number">5</span>,</span><br><span class="line">                <span class="attr">val</span>: <span class="string">&#x27;å­¦ç”Ÿ2&#x27;</span>,</span><br><span class="line">                <span class="attr">children</span>: []</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="number">3</span>,</span><br><span class="line">        <span class="attr">val</span>: <span class="string">&#x27;ç­çº§2&#x27;</span>,</span><br><span class="line">        <span class="attr">children</span>: [&#123;</span><br><span class="line">            <span class="attr">id</span>: <span class="number">6</span>,</span><br><span class="line">            <span class="attr">val</span>: <span class="string">&#x27;å­¦ç”Ÿ3&#x27;</span>,</span><br><span class="line">            <span class="attr">children</span>: []</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç­”æ¡ˆ</strong>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»£ç å®ç°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">arrayToTree</span>(<span class="params">array</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> root = array[<span class="number">0</span>]</span><br><span class="line">    array.<span class="title function_">shift</span>()</span><br><span class="line">    <span class="keyword">let</span> tree = &#123;</span><br><span class="line">        <span class="attr">id</span>: root.<span class="property">id</span>,</span><br><span class="line">        <span class="attr">val</span>: root.<span class="property">val</span>,</span><br><span class="line">        <span class="attr">children</span>: array.<span class="property">length</span> &gt; <span class="number">0</span> ? <span class="title function_">toTree</span>(root.<span class="property">id</span>, array) : []</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tree;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">toTree</span>(<span class="params">parenId, array</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> children = []</span><br><span class="line">    <span class="keyword">let</span> len = array.<span class="property">length</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> node = array[i]</span><br><span class="line">        <span class="keyword">if</span> (node.<span class="property">parentId</span> === parenId) &#123;</span><br><span class="line">            children.<span class="title function_">push</span>(&#123;</span><br><span class="line">                <span class="attr">id</span>: node.<span class="property">id</span>,</span><br><span class="line">                <span class="attr">val</span>: node.<span class="property">val</span>,</span><br><span class="line">                <span class="attr">children</span>: <span class="title function_">toTree</span>(node.<span class="property">id</span>, array)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> children</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">arrayToTree</span>(input))</span><br></pre></td></tr></table></figure><h4 id="2-24-ä»‹ç»ä¸‹-Setã€Mapã€WeakSet-å’Œ-WeakMap-çš„åŒºåˆ«ï¼Ÿ"><a href="#2-24-ä»‹ç»ä¸‹-Setã€Mapã€WeakSet-å’Œ-WeakMap-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="2.24 ä»‹ç»ä¸‹ Setã€Mapã€WeakSet å’Œ WeakMap çš„åŒºåˆ«ï¼Ÿ"></a>2.24 ä»‹ç»ä¸‹ Setã€Mapã€WeakSet å’Œ WeakMap çš„åŒºåˆ«ï¼Ÿ</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><p><strong>Set</strong></p><ol><li>æˆå‘˜ä¸èƒ½é‡å¤ï¼›</li><li>åªæœ‰é”®å€¼ï¼Œæ²¡æœ‰é”®åï¼Œæœ‰ç‚¹ç±»ä¼¼æ•°ç»„ï¼›</li><li>å¯ä»¥éå†ï¼Œæ–¹æ³•æœ‰addã€deleteã€has</li></ol><p><strong>WeakSet</strong></p><ol><li>æˆå‘˜éƒ½æ˜¯å¯¹è±¡ï¼ˆå¼•ç”¨ï¼‰ï¼›</li><li>æˆå‘˜éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œéšæ—¶å¯ä»¥æ¶ˆå¤±ï¼ˆä¸è®¡å…¥åƒåœ¾å›æ”¶æœºåˆ¶ï¼‰ã€‚å¯ä»¥ç”¨æ¥ä¿å­˜ DOM èŠ‚ç‚¹ï¼Œä¸å®¹æ˜“é€ æˆå†…å­˜æ³„éœ²ï¼›</li><li>ä¸èƒ½éå†ï¼Œæ–¹æ³•æœ‰addã€deleteã€hasï¼›</li></ol><p><strong>Map</strong></p><ol><li>æœ¬è´¨ä¸Šæ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œç±»ä¼¼é›†åˆï¼›</li><li>å¯ä»¥éå†ï¼Œæ–¹æ³•å¾ˆå¤šï¼Œå¯ä»¥è·Ÿå„ç§æ•°æ®æ ¼å¼è½¬æ¢ï¼›</li></ol><p><strong>WeakMap</strong></p><ol><li>åªæ¥æ”¶å¯¹è±¡ä¸ºé”®åï¼ˆnull é™¤å¤–ï¼‰ï¼Œä¸æ¥å—å…¶ä»–ç±»å‹çš„å€¼ä½œä¸ºé”®åï¼›</li><li>é”®åæŒ‡å‘çš„å¯¹è±¡ï¼Œä¸è®¡å…¥åƒåœ¾å›æ”¶æœºåˆ¶ï¼›</li><li>ä¸èƒ½éå†ï¼Œæ–¹æ³•åŒgetã€setã€hasã€deleteï¼›</li></ol><h4 id="2-25-ç®€å•è¯´è¯´-js-ä¸­æœ‰å“ªå‡ ç§å†…å­˜æ³„éœ²çš„æƒ…å†µ"><a href="#2-25-ç®€å•è¯´è¯´-js-ä¸­æœ‰å“ªå‡ ç§å†…å­˜æ³„éœ²çš„æƒ…å†µ" class="headerlink" title="2.25 ç®€å•è¯´è¯´ js ä¸­æœ‰å“ªå‡ ç§å†…å­˜æ³„éœ²çš„æƒ…å†µ"></a>2.25 ç®€å•è¯´è¯´ js ä¸­æœ‰å“ªå‡ ç§å†…å­˜æ³„éœ²çš„æƒ…å†µ</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><ol><li>æ„å¤–çš„å…¨å±€å˜é‡ï¼›</li><li>é—­åŒ…ï¼›</li><li>æœªè¢«æ¸…ç©ºçš„å®šæ—¶å™¨ï¼›</li><li>æœªè¢«é”€æ¯çš„äº‹ä»¶ç›‘å¬ï¼›</li><li>DOM å¼•ç”¨ï¼›</li></ol><h4 id="2-26-å¼‚æ­¥ç¬”è¯•é¢˜"><a href="#2-26-å¼‚æ­¥ç¬”è¯•é¢˜" class="headerlink" title="2.26 å¼‚æ­¥ç¬”è¯•é¢˜"></a>2.26 å¼‚æ­¥ç¬”è¯•é¢˜</h4><p>è¯·å†™å‡ºä¸‹é¢ä»£ç çš„è¿è¡Œç»“æœï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»Šæ—¥å¤´æ¡é¢è¯•é¢˜</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async1</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async1 start&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">await</span> <span class="title function_">async2</span>()</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async1 end&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async2</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async2&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script start&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;settimeout&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">async1</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve</span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise1&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">resolve</span>()</span><br><span class="line"></span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise2&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script end&#x27;</span>)</span><br></pre></td></tr></table></figure><p>é¢˜ç›®çš„æœ¬è´¨ï¼Œå°±æ˜¯è€ƒå¯ŸsetTimeoutã€promiseã€async awaitçš„å®ç°åŠæ‰§è¡Œé¡ºåºï¼Œä»¥åŠ JS çš„äº‹ä»¶å¾ªç¯çš„ç›¸å…³é—®é¢˜ã€‚</p><p>ç­”æ¡ˆï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">script start</span><br><span class="line">async1 start</span><br><span class="line">async2</span><br><span class="line">promise1</span><br><span class="line">script end</span><br><span class="line">async1 end</span><br><span class="line">promise2</span><br><span class="line">settimeout</span><br></pre></td></tr></table></figure><h4 id="2-27-jsonå’Œxmlæ•°æ®çš„åŒºåˆ«"><a href="#2-27-jsonå’Œxmlæ•°æ®çš„åŒºåˆ«" class="headerlink" title="2.27 jsonå’Œxmlæ•°æ®çš„åŒºåˆ«"></a>2.27 jsonå’Œxmlæ•°æ®çš„åŒºåˆ«</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><ol><li>æ•°æ®ä½“ç§¯æ–¹é¢ï¼šxmlæ˜¯é‡é‡çº§çš„ï¼Œjsonæ˜¯è½»é‡çº§çš„ï¼Œä¼ é€’çš„é€Ÿåº¦æ›´å¿«äº›ã€‚</li><li>æ•°æ®ä¼ è¾“æ–¹é¢ï¼šxmlåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ¯”è¾ƒå å¸¦å®½ï¼Œjsonå å¸¦å®½å°‘ï¼Œæ˜“äºå‹ç¼©ã€‚</li><li>æ•°æ®äº¤äº’æ–¹é¢ï¼šjsonä¸javascriptçš„äº¤äº’æ›´åŠ æ–¹ä¾¿ï¼Œæ›´å®¹æ˜“è§£æå¤„ç†ï¼Œæ›´å¥½çš„è¿›è¡Œæ•°æ®äº¤äº’</li><li>æ•°æ®æè¿°æ–¹é¢ï¼šjsonå¯¹æ•°æ®çš„æè¿°æ€§æ¯”xmlè¾ƒå·®</li><li>xmlå’Œjsonéƒ½ç”¨åœ¨é¡¹ç›®äº¤äº’ä¸‹ï¼Œxmlå¤šç”¨äºåšé…ç½®æ–‡ä»¶ï¼Œjsonç”¨äºæ•°æ®äº¤äº’ã€‚</li></ol><h4 id="2-28-JavaScriptæœ‰å‡ ç§æ–¹æ³•åˆ¤æ–­å˜é‡çš„ç±»å‹"><a href="#2-28-JavaScriptæœ‰å‡ ç§æ–¹æ³•åˆ¤æ–­å˜é‡çš„ç±»å‹" class="headerlink" title="2.28 JavaScriptæœ‰å‡ ç§æ–¹æ³•åˆ¤æ–­å˜é‡çš„ç±»å‹?"></a>2.28 JavaScriptæœ‰å‡ ç§æ–¹æ³•åˆ¤æ–­å˜é‡çš„ç±»å‹?</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><ol><li>ä½¿ç”¨typeofæ£€æµ‹å½“éœ€è¦åˆ¤æ–­å˜é‡æ˜¯å¦æ˜¯number, string, boolean, function, undefinedç­‰ç±»å‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨typeofè¿›è¡Œåˆ¤æ–­ã€‚</li><li>ä½¿ç”¨instanceofæ£€æµ‹instanceofè¿ç®—ç¬¦ä¸typeofè¿ç®—ç¬¦ç›¸ä¼¼ï¼Œç”¨äºè¯†åˆ«æ­£åœ¨å¤„ç†çš„å¯¹è±¡çš„ç±»å‹ã€‚ä¸typeofæ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œinstanceof æ–¹æ³•è¦æ±‚å¼€å‘è€…æ˜ç¡®åœ°ç¡®è®¤å¯¹è±¡ä¸ºæŸç‰¹å®šç±»å‹ã€‚</li><li>ä½¿ç”¨constructoræ£€æµ‹constructoræœ¬æ¥æ˜¯åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ï¼ŒæŒ‡å‘æ„é€ å‡½æ•°ã€‚ä½†æ˜¯æ ¹æ®å®ä¾‹å¯¹è±¡å¯»æ‰¾å±æ€§çš„é¡ºåºï¼Œè‹¥å®ä¾‹å¯¹è±¡ä¸Šæ²¡æœ‰å®ä¾‹å±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå°±å»åŸå‹é“¾ä¸Šå¯»æ‰¾ï¼Œå› æ­¤ï¼Œå®ä¾‹å¯¹è±¡ä¹Ÿæ˜¯èƒ½ä½¿ç”¨constructorå±æ€§çš„ã€‚</li></ol><h4 id="2-29-ä»£ç è§£é‡Šé¢˜"><a href="#2-29-ä»£ç è§£é‡Šé¢˜" class="headerlink" title="2.29 ä»£ç è§£é‡Šé¢˜"></a>2.29 ä»£ç è§£é‡Šé¢˜</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><p>é¢˜ç›®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> min = <span class="title class_">Math</span>.<span class="title function_">min</span>();</span><br><span class="line">max = <span class="title class_">Math</span>.<span class="title function_">max</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(min &lt; max);</span><br><span class="line"><span class="comment">// å†™å‡ºæ‰§è¡Œç»“æœï¼Œå¹¶è§£é‡ŠåŸå› </span></span><br></pre></td></tr></table></figure><p><strong>ç­”æ¡ˆ</strong><br>false</p><p><strong>è§£æ</strong></p><ul><li>æŒ‰å¸¸è§„çš„æ€è·¯ï¼Œè¿™æ®µä»£ç åº”è¯¥è¾“å‡º trueï¼Œæ¯•ç«Ÿæœ€å°å€¼å°äºæœ€å¤§å€¼ã€‚ä½†æ˜¯å´è¾“å‡º false</li><li>MDN ç›¸å…³æ–‡æ¡£æ˜¯è¿™æ ·è§£é‡Šçš„<ul><li>Math.min çš„å‚æ•°æ˜¯ 0 ä¸ªæˆ–è€…å¤šä¸ªï¼Œå¦‚æœå¤šä¸ªå‚æ•°å¾ˆå®¹æ˜“ç†è§£ï¼Œè¿”å›å‚æ•°ä¸­æœ€å°çš„ã€‚å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œåˆ™è¿”å› Infinityï¼Œæ— ç©·å¤§ã€‚</li><li>è€Œ Math.max æ²¡æœ‰ä¼ é€’å‚æ•°æ—¶è¿”å›çš„æ˜¯-Infinity.æ‰€ä»¥è¾“å‡º false</li></ul></li></ul><h4 id="2-30-ä»£ç è§£æé¢˜"><a href="#2-30-ä»£ç è§£æé¢˜" class="headerlink" title="2.30 ä»£ç è§£æé¢˜"></a>2.30 ä»£ç è§£æé¢˜</h4><p><strong>å‚è€ƒç­”æ¡ˆ</strong>ï¼š</p><p><strong>é¢˜ç›®</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> company = &#123;</span><br><span class="line">    <span class="attr">address</span>: <span class="string">&#x27;beijing&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> yideng = <span class="title class_">Object</span>.<span class="title function_">create</span>(company);</span><br><span class="line"><span class="keyword">delete</span> yideng.<span class="property">address</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(yideng.<span class="property">address</span>);</span><br><span class="line"><span class="comment">// å†™å‡ºæ‰§è¡Œç»“æœï¼Œå¹¶è§£é‡ŠåŸå› </span></span><br></pre></td></tr></table></figure><p><strong>ç­”æ¡ˆ</strong><br>beijing</p><p><strong>è§£æ</strong><br>è¿™é‡Œçš„ yideng é€šè¿‡ prototype ç»§æ‰¿äº† companyçš„ addressã€‚yidengè‡ªå·±å¹¶æ²¡æœ‰addresså±æ€§ã€‚æ‰€ä»¥deleteæ“ä½œç¬¦çš„ä½œç”¨æ˜¯æ— æ•ˆçš„ã€‚</p><p><strong>æ‰©å±•</strong><br>1.deleteä½¿ç”¨åŸåˆ™ï¼šdelete æ“ä½œç¬¦ç”¨æ¥åˆ é™¤ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ã€‚<br>2.deleteåœ¨åˆ é™¤ä¸€ä¸ªä¸å¯é…ç½®çš„å±æ€§æ—¶åœ¨ä¸¥æ ¼æ¨¡å¼å’Œéä¸¥æ ¼æ¨¡å¼ä¸‹çš„åŒºåˆ«:<br>ï¼ˆ1ï¼‰åœ¨ä¸¥æ ¼æ¨¡å¼ä¸­ï¼Œå¦‚æœå±æ€§æ˜¯ä¸€ä¸ªä¸å¯é…ç½®ï¼ˆnon-configurableï¼‰å±æ€§ï¼Œåˆ é™¤æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸;<br>ï¼ˆ2ï¼‰éä¸¥æ ¼æ¨¡å¼ä¸‹è¿”å› falseã€‚<br>3.deleteèƒ½åˆ é™¤éšå¼å£°æ˜çš„å…¨å±€å˜é‡ï¼šè¿™ä¸ªå…¨å±€å˜é‡å…¶å®æ˜¯globalå¯¹è±¡(window)çš„å±æ€§<br>4.deleteèƒ½åˆ é™¤çš„ï¼š<br>ï¼ˆ1ï¼‰å¯é…ç½®å¯¹è±¡çš„å±æ€§ï¼ˆ2ï¼‰éšå¼å£°æ˜çš„å…¨å±€å˜é‡ ï¼ˆ3ï¼‰ç”¨æˆ·å®šä¹‰çš„å±æ€§ ï¼ˆ4ï¼‰åœ¨ECMAScript 6ä¸­ï¼Œé€šè¿‡ const æˆ– let å£°æ˜æŒ‡å®šçš„ â€œtemporal dead zoneâ€ (TDZ) å¯¹ delete æ“ä½œç¬¦ä¹Ÿä¼šèµ·ä½œç”¨<br>deleteä¸èƒ½åˆ é™¤çš„ï¼š<br>ï¼ˆ2ï¼‰æ˜¾å¼å£°æ˜çš„å…¨å±€å˜é‡ ï¼ˆ2ï¼‰å†…ç½®å¯¹è±¡çš„å†…ç½®å±æ€§ ï¼ˆ3ï¼‰ä¸€ä¸ªå¯¹è±¡ä»åŸå‹ç»§æ‰¿è€Œæ¥çš„å±æ€§<br>5.deleteåˆ é™¤æ•°ç»„å…ƒç´ ï¼š<br>ï¼ˆ1ï¼‰å½“ä½ åˆ é™¤ä¸€ä¸ªæ•°ç»„å…ƒç´ æ—¶ï¼Œæ•°ç»„çš„ length å±æ€§å¹¶ä¸ä¼šå˜å°ï¼Œæ•°ç»„å…ƒç´ å˜æˆundefined<br>ï¼ˆ2ï¼‰å½“ç”¨ delete æ“ä½œç¬¦åˆ é™¤ä¸€ä¸ªæ•°ç»„å…ƒç´ æ—¶ï¼Œè¢«åˆ é™¤çš„å…ƒç´ å·²ç»å®Œå…¨ä¸å±äºè¯¥æ•°ç»„ã€‚<br>ï¼ˆ3ï¼‰å¦‚æœä½ æƒ³è®©ä¸€ä¸ªæ•°ç»„å…ƒç´ çš„å€¼å˜ä¸º undefined è€Œä¸æ˜¯åˆ é™¤å®ƒï¼Œå¯ä»¥ä½¿ç”¨ undefined ç»™å…¶èµ‹å€¼è€Œä¸æ˜¯ä½¿ç”¨ delete æ“ä½œç¬¦ã€‚æ­¤æ—¶æ•°ç»„å…ƒç´ æ˜¯åœ¨æ•°ç»„ä¸­çš„<br>6.delete æ“ä½œç¬¦ä¸ç›´æ¥é‡Šæ”¾å†…å­˜ï¼ˆåªèƒ½é€šè¿‡è§£é™¤å¼•ç”¨æ¥é—´æ¥é‡Šæ”¾ï¼‰æ²¡æœ‰å…³ç³»ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> å…«è‚¡æ–‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML</title>
      <link href="/2024/03/06/HTML/html5/"/>
      <url>/2024/03/06/HTML/html5/</url>
      
        <content type="html"><![CDATA[<h1 id="âœHTML5"><a href="#âœHTML5" class="headerlink" title="âœHTML5"></a>âœHTML5</h1><p>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</p><h1 id="âœç›®å½•æ€»è§ˆ"><a href="#âœç›®å½•æ€»è§ˆ" class="headerlink" title="âœç›®å½•æ€»è§ˆ"></a>âœç›®å½•æ€»è§ˆ</h1><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20240306152415.png"></p><h1 id="1-HTML5æé«˜"><a href="#1-HTML5æé«˜" class="headerlink" title="1.HTML5æé«˜"></a>1.HTML5æé«˜</h1><ul><li>HTML5çš„æ–°å¢ç‰¹æ€§ä¸»è¦æ˜¯é’ˆå¯¹äºä»¥å‰çš„ä¸è¶³ï¼Œå¢åŠ äº†ä¸€äº›æ–°çš„æ ‡ç­¾ï¼Œæ–°çš„è¡¨å•å’Œæ–°çš„è¡¨å•å±æ€§ç­‰ã€‚</li><li>è¿™äº›æ–°ç‰¹æ€§éƒ½æœ‰å…¼å®¹æ€§é—®é¢˜ï¼ŒåŸºæœ¬éƒ½æ˜¯IE9+ä»¥ä¸Šç‰ˆæœ¬çš„æµè§ˆå™¨æ‰æ”¯æŒï¼Œå¦‚æœä¸è€ƒè™‘å…¼å®¹æ€§é—®é¢˜ï¼Œå¯ä»¥å¤§é‡ä½¿ç”¨è¿™äº›æ–°ç‰¹æ€§</li><li></li></ul><p>HTML5æœ‰æ›´å¤§çš„æŠ€æœ¯é›†ï¼Œå…è®¸æ›´å¤šæ ·åŒ–å’Œå¼ºå¤§çš„ç½‘ç«™å’Œåº”ç”¨ç¨‹åºã€‚å¢åŠ äº†æ–°ç‰¹æ€§ï¼šè¯­ä¹‰ç‰¹æ€§ï¼Œæœ¬åœ°å­˜å‚¨ç‰¹æ€§ï¼Œè®¾å¤‡å…¼å®¹ç‰¹æ€§ï¼Œè¿æ¥ç‰¹æ€§ï¼Œç½‘é¡µå¤šåª’ä½“ç‰¹æ€§ï¼Œä¸‰ç»´ã€å›¾å½¢åŠç‰¹æ•ˆç‰¹æ€§ï¼Œæ€§èƒ½ä¸é›†æˆç‰¹æ€§ï¼ŒCSS3ç‰¹æ€§ã€‚è¿™ä¸ªé›†åˆæœ‰æ—¶ç§°ä¸ºHTML5å’Œæœ‹å‹ï¼Œé€šå¸¸ç¼©å†™ä¸ºHTML5</p><h2 id="1-æ–°å¢è¯­ä¹‰åŒ–æ ‡ç­¾ğŸ”¥"><a href="#1-æ–°å¢è¯­ä¹‰åŒ–æ ‡ç­¾ğŸ”¥" class="headerlink" title="1.æ–°å¢è¯­ä¹‰åŒ–æ ‡ç­¾ğŸ”¥"></a>1.æ–°å¢è¯­ä¹‰åŒ–æ ‡ç­¾ğŸ”¥</h2><p>ä»¥å‰å¸ƒå±€ï¼Œæˆ‘ä»¬åŸºæœ¬ç”¨div æ¥åšã€‚ div å¯¹äºæœç´¢å¼•æ“æ¥è¯´ï¼Œæ˜¯æ²¡æœ‰è¯­ä¹‰çš„ã€‚</p><p>æ–°å¢è¯­ä¹‰åŒ–æ ‡ç­¾å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20240306152419.png"></p><ul><li>&lt; header &gt; :å¤´éƒ¨æ ‡ç­¾</li><li>&lt; nav &gt;: å¯¼èˆªæ ‡ç­¾</li><li>&lt; article &gt;ï¼š å†…å®¹æ ‡ç­¾</li><li>&lt; section &gt;:å®šä¹‰æ–‡æ¡£æŸä¸ªåŒºåŸŸ</li><li>&lt; aside &gt;:ä¾§è¾¹æ æ ‡ç­¾</li><li>&lt; footer &gt;: å°¾éƒ¨æ ‡ç­¾</li></ul><p><strong>â€“æ³¨æ„ï¼š</strong></p><ul><li>è¿™ç§è¯­ä¹‰åŒ–æ ‡å‡†ä¸»è¦æ˜¯é’ˆå¯¹<strong>æœç´¢å¼•æ“</strong>çš„</li><li>è¿™äº›æ–°æ ‡ç­¾é¡µé¢ä¸­å¯ä»¥ä½¿ç”¨<strong>å¤šæ¬¡</strong></li><li>åœ¨IE9ä¸­ï¼Œéœ€è¦æŠŠè¿™äº›å…ƒç´ è½¬æ¢ä¸º<strong>å—çº§å…ƒç´ </strong></li><li>å…¶å®ï¼Œç§»åŠ¨ç«¯æ›´å–œæ¬¢ä½¿ç”¨è¿™äº›æ ‡ç­¾</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> &lt;style&gt;</span><br><span class="line">        header, nav &#123;</span><br><span class="line">            height: 120px;</span><br><span class="line">            background-color: pink;</span><br><span class="line">            border-radius: 15px;</span><br><span class="line">            width: 800px;</span><br><span class="line">            margin: 15px auto;</span><br><span class="line">        &#125;</span><br><span class="line">        section &#123;</span><br><span class="line">            width: 500px;</span><br><span class="line">            height: 300px;</span><br><span class="line">            background-color: skyblue;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;header&gt;å¤´éƒ¨æ ‡ç­¾&lt;/header&gt;</span><br><span class="line">    &lt;nav&gt;å¯¼èˆªæ æ ‡ç­¾&lt;/nav&gt;</span><br><span class="line">    &lt;section&gt;æŸä¸ªåŒºåŸŸ&lt;/section&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="2-æ–°å¢è§†é¢‘æ ‡ç­¾ğŸ”¥"><a href="#2-æ–°å¢è§†é¢‘æ ‡ç­¾ğŸ”¥" class="headerlink" title="2.æ–°å¢è§†é¢‘æ ‡ç­¾ğŸ”¥"></a>2.æ–°å¢è§†é¢‘æ ‡ç­¾ğŸ”¥</h2><h3 id="2-1-videoè§†é¢‘ğŸ”¥"><a href="#2-1-videoè§†é¢‘ğŸ”¥" class="headerlink" title="2.1 videoè§†é¢‘ğŸ”¥"></a>2.1 videoè§†é¢‘ğŸ”¥</h3><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20240306152422.png"></p><p>è¯­æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;video src=&quot;æ–‡ä»¶åœ°å€&quot;   controls=&quot;controls&quot;&gt;&lt;/video&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">        video &#123;</span><br><span class="line">            width: 100%;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;video src=&quot;media/mi.mp4&quot; autoplay=&quot;autoplay&quot; muted=&quot;muted&quot;  loop=&quot;loop&quot; poster=&quot;media/mi9.jpg&quot;&gt;&lt;/video&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><table><thead><tr><th>å±æ€§</th><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>autoplay</td><td>autoplay</td><td>è§†é¢‘å°±ç»ªè‡ªåŠ¨æ’­æ”¾(<strong>è°·æ­Œæµè§ˆå™¨éœ€è¦æ·»åŠ mutedæ¥è§£å†³è‡ªåŠ¨æ’­æ”¾é—®é¢˜</strong>)</td></tr><tr><td>controls</td><td>controls</td><td>å‘ç”¨æˆ·æ˜¾ç¤ºæ’­æ”¾æ§ä»¶</td></tr><tr><td>width</td><td>pixels(åƒç´ )</td><td>è®¾ç½®æ’­æ”¾å™¨å®½åº¦</td></tr><tr><td>height</td><td>pixels(åƒç´ )</td><td>è®¾ç½®æ’­æ”¾å™¨é«˜åº¦</td></tr><tr><td>loop</td><td>loop</td><td>æ’­æ”¾å®Œæ˜¯å¦ç»§ç»­æ’­æ”¾è¯¥è§†é¢‘,å¾ªç¯æ’­æ”¾</td></tr><tr><td>preload</td><td>auto(é¢„å…ˆåŠ è½½è§†é¢‘)none(ä¸åº”åŠ è½½è§†é¢‘)</td><td>è§„å®šæ˜¯å¦é¢„åŠ è½½è§†é¢‘(å¦‚æœæœ‰äº†autoplay å°±å¿½ç•¥è¯¥å±æ€§)</td></tr><tr><td>src</td><td>url</td><td>è§†é¢‘urlçš„åœ°å€</td></tr><tr><td>poster</td><td>lmgurl</td><td>åŠ è½½ç­‰å¾…çš„ç”»é¢å›¾ç‰‡</td></tr><tr><td>muted</td><td>muted</td><td>é™éŸ³æ’­æ”¾</td></tr></tbody></table><ul><li>ä¸€èˆ¬ä¸æ˜¾ç¤ºcontrolsï¼Œè®©è§†é¢‘å¾ªç¯æ’­æ”¾</li></ul><h3 id="2-2-audioéŸ³é¢‘"><a href="#2-2-audioéŸ³é¢‘" class="headerlink" title="2.2 audioéŸ³é¢‘"></a>2.2 audioéŸ³é¢‘</h3><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20240306152426.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;audio src=&quot;æ–‡ä»¶åœ°å€&quot; controls=&quot;controls&quot;&gt;&lt;/audio&gt;</span><br><span class="line"></span><br><span class="line">&lt;audio src=&quot;media/music.mp3&quot; autoplay=&quot;autoplay&quot; controls=&quot;controls&quot;&gt;&lt;/audio&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><table><thead><tr><th>å±æ€§</th><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>autoplay</td><td>autoplay</td><td>å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™éŸ³é¢‘åœ¨å°±ç»ªåé©¬ä¸Šæ’­æ”¾</td></tr><tr><td>controls</td><td>controls</td><td>å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™å‘ç”¨æˆ·æ˜¾ç¤ºæ§ä»¶ï¼Œæ¯”å¦‚æ’­æ”¾æŒ‰é’®</td></tr><tr><td>loop</td><td>loop</td><td>å¦‚æœå‡ºç°è¯¥å±æ€§ï¼Œåˆ™æ¯å½“éŸ³é¢‘ç»“æŸæ—¶é‡æ–°å¼€å§‹æ’­æ”¾</td></tr><tr><td>src</td><td>url</td><td>è¦æ’­æ”¾çš„éŸ³é¢‘çš„url</td></tr></tbody></table><h3 id="2-3æ€»ç»“"><a href="#2-3æ€»ç»“" class="headerlink" title="2.3æ€»ç»“"></a>2.3æ€»ç»“</h3><ol><li>éŸ³é¢‘æ ‡ç­¾å’Œè§†é¢‘æ ‡ç­¾ä½¿ç”¨æ–¹å¼åŸºæœ¬ä¸€è‡´</li><li>æµè§ˆå™¨æ”¯æŒæƒ…å†µä¸åŒ</li><li><strong>è°·æ­Œæµè§ˆå™¨æŠŠéŸ³é¢‘å’Œè§†é¢‘è‡ªåŠ¨æ’­æ”¾ç¦æ­¢äº†</strong></li><li>æˆ‘ä»¬å¯ä»¥ç»™è§†é¢‘æ ‡ç­¾æ·»åŠ mutedå±æ€§æ¥é™éŸ³æ’­æ”¾è§†é¢‘ï¼ŒéŸ³é¢‘ä¸å¯ä»¥(å¯ä»¥é€šè¿‡JavaScriptè§£å†³)</li><li>è§†é¢‘æ ‡ç­¾æ˜¯é‡ç‚¹ï¼Œæˆ‘ä»¬ç»å¸¸è®¾ç½®è‡ªåŠ¨æ’­æ”¾ï¼Œä¸é€‚ç”¨controlsæ§ä»¶ï¼Œå¾ªç¯å’Œè®¾ç½®å¤§å°å±æ€§</li></ol><h2 id="3-æ–°å¢inputç±»å‹ğŸ”¥"><a href="#3-æ–°å¢inputç±»å‹ğŸ”¥" class="headerlink" title="3.æ–°å¢inputç±»å‹ğŸ”¥"></a>3.æ–°å¢inputç±»å‹ğŸ”¥</h2><table><thead><tr><th>å±æ€§å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>type&#x3D;â€œemailâ€</td><td>é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºEmailç±»å‹</td></tr><tr><td>type&#x3D;â€œurlâ€</td><td>é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºURLç±»å‹</td></tr><tr><td>type&#x3D;â€œdataâ€</td><td>é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºæ—¥æœŸç±»å‹</td></tr><tr><td>type&#x3D;â€œtimeâ€</td><td>é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºæ—¶é—´ç±»å‹</td></tr><tr><td>type&#x3D;â€œmonthâ€</td><td>é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºæœˆç±»å‹</td></tr><tr><td>type&#x3D;â€œweekâ€</td><td>é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºå‘¨ç±»å‹</td></tr><tr><td><strong>type&#x3D;â€numberâ€</strong></td><td><strong>é™åˆ¶ç”¨æˆ·è¾“å…¥å¿…é¡»ä¸ºæ•°å­—ç±»å‹</strong></td></tr><tr><td><strong>type&#x3D;â€telâ€</strong></td><td><strong>æ‰‹æœºå·ç </strong></td></tr><tr><td><strong>type&#x3D;â€searchâ€</strong></td><td><strong>æœç´¢æ¡†</strong></td></tr><tr><td>type&#x3D;â€œcolorâ€</td><td>ç”Ÿæˆä¸€ä¸ªé¢œè‰²é€‰æ‹©è¡¨å•</td></tr></tbody></table><ul><li>é‡ç‚¹è®°ä½ï¼š <strong>number tel search</strong> è¿™ä¸‰ä¸ª</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- æˆ‘ä»¬éªŒè¯çš„æ—¶å€™å¿…é¡»æ·»åŠ formè¡¨å•åŸŸ --&gt;</span><br><span class="line">    &lt;form action=&quot;&quot;&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li&gt;é‚®ç®±: &lt;input type=&quot;email&quot; /&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;ç½‘å€: &lt;input type=&quot;url&quot; /&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;æ—¥æœŸ: &lt;input type=&quot;date&quot; /&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;æ—¶é—´: &lt;input type=&quot;time&quot; /&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;æ•°é‡: &lt;input type=&quot;number&quot; /&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;æ‰‹æœºå·ç : &lt;input type=&quot;tel&quot; /&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;æœç´¢: &lt;input type=&quot;search&quot; /&gt;&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;é¢œè‰²: &lt;input type=&quot;color&quot; /&gt;&lt;/li&gt;</span><br><span class="line">            &lt;!-- å½“æˆ‘ä»¬ç‚¹å‡»æäº¤æŒ‰é’®å°±å¯ä»¥éªŒè¯è¡¨å•äº† --&gt;</span><br><span class="line">            &lt;li&gt; &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;&gt;&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="4-æ–°å¢è¡¨å•å±æ€§ğŸ”¥"><a href="#4-æ–°å¢è¡¨å•å±æ€§ğŸ”¥" class="headerlink" title="4.æ–°å¢è¡¨å•å±æ€§ğŸ”¥"></a>4.æ–°å¢è¡¨å•å±æ€§ğŸ”¥</h2><table><thead><tr><th>å±æ€§</th><th>å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>required</td><td>required</td><td>è¡¨å•æ‹¥æœ‰è¯¥å±æ€§è¡¨ç¤ºå…¶å†…å®¹ä¸èƒ½ä¸ºç©ºï¼Œå¿…å¡«</td></tr><tr><td><strong>placeholder</strong></td><td><strong>æç¤ºæ–‡æœ¬</strong></td><td><strong>è¡¨å•çš„æç¤ºä¿¡æ¯ï¼Œå­˜åœ¨é»˜è®¤å€¼å°†ä¸æ˜¾ç¤º</strong></td></tr><tr><td>autofocus</td><td>autofocus</td><td>è‡ªåŠ¨èšç„¦å±æ€§ï¼Œé¡µé¢åŠ è½½å®Œæˆè‡ªåŠ¨èšç„¦åˆ°æŒ‡å®šè¡¨å•</td></tr><tr><td>autocomplete</td><td>off&#x2F;on</td><td>å½“ç”¨æˆ·åœ¨å­—æ®µå¼€å§‹é”®å…¥æ—¶ï¼Œæµè§ˆå™¨åŸºäºä¹‹å‰é”®å…¥è¿‡çš„å€¼ï¼Œåº”è¯¥æ˜¾ç¤ºå‡ºåœ¨å­—æ®µä¸­å¡«å†™çš„é€‰é¡¹ï¼Œé»˜è®¤å·²ç»æ‰“å¼€ã€‚å¦‚autocomplete&#x3D;â€œonâ€ ,å…³é—­autocomplete&#x3D;â€œoffâ€ï¼Œéœ€è¦æ”¾åœ¨è¡¨å•å†…ï¼ŒåŒæ—¶åŠ ä¸Šnameå±æ€§ï¼ŒåŒæ—¶æˆåŠŸæäº¤</td></tr><tr><td><strong>multiple</strong></td><td><strong>multiple</strong></td><td><strong>å¯ä»¥å¤šé€‰æ–‡ä»¶æç¤º</strong></td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action=&quot;&quot;&gt;</span><br><span class="line">       &lt;input type=&quot;search&quot; name=&quot;sear&quot; id=&quot;&quot; required=&quot;required&quot; placeholder=&quot;pinkè€å¸ˆ&quot; autofocus=&quot;autofocus&quot; autocommplete=&quot;off&quot;&gt;</span><br><span class="line">       &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot;&gt;</span><br><span class="line">   &lt;/form&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>å¯ä»¥é€šè¿‡ä»¥ä¸‹è®¾ç½®æ–¹å¼ä¿®æ”¹placeholderé‡Œé¢çš„å­—ä½“é¢œè‰²</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">input::placeholder &#123;</span><br><span class="line">color: pink;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æœ¬æ–‡è½¬è‡ª <a href="https://blog.csdn.net/Augenstern_QXL/article/details/115599059">https://blog.csdn.net/Augenstern_QXL&#x2F;article&#x2F;details&#x2F;115599059</a><br>ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML5 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3é¡¹ç›®é…ç½®</title>
      <link href="/2024/03/05/Vue/Vue3%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE/"/>
      <url>/2024/03/05/Vue/Vue3%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init vite@latest name -- --template vue-ts</span><br></pre></td></tr></table></figure><h2 id="ç¼–ç è§„èŒƒé…ç½®"><a href="#ç¼–ç è§„èŒƒé…ç½®" class="headerlink" title="ç¼–ç è§„èŒƒé…ç½®"></a>ç¼–ç è§„èŒƒé…ç½®</h2><blockquote><p>ESLintï¼šç¼–ç è§„èŒƒæ£€æŸ¥<br>Prettierï¼šä»£ç æ ¼å¼åŒ–å·¥å…·</p></blockquote><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">eslint =&gt; ESLintçš„æ ¸å¿ƒä»£ç </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">@typescript-eslint/parser =&gt; ESLintçš„è§£æå™¨ï¼Œç”¨äºè§£ætsï¼Œä»è€Œæ£€æŸ¥å’Œè§„èŒƒtsä»£ç </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">@typescript-eslint/eslint-plugin =&gt; ä¸€ä¸ªESLintæ’ä»¶ï¼ŒåŒ…å«äº†å„ç±»å®šä¹‰å¥½çš„æ£€æµ‹tsä»£ç çš„è§„èŒƒ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">eslint-plugin-vue =&gt; vue3çš„ä»£ç æ ¡éªŒ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">prettier =&gt; prettieræ’ä»¶çš„æ ¸å¿ƒä»£ç </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">eslint-config-prettier =&gt; è§£å†³ESLintä¸­çš„æ ·å¼è§„èŒƒå’Œprettierä¸­æ ·å¼è§„èŒƒçš„å†²çªï¼Œä»¥prettierçš„æ ·å¼è§„èŒƒä¸ºå‡†ï¼Œä½¿ESLintä¸­çš„æ ·å¼è§„èŒƒè‡ªåŠ¨å¤±æ•ˆ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">eslint-plugin-prettier =&gt; å°†prettierä½œä¸ºESLintè§„èŒƒæ¥ä½¿ç”¨</span></span><br><span class="line">cnpm install --save-dev eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint-plugin-vue prettier eslint-config-prettier eslint-plugin-prettier</span><br></pre></td></tr></table></figure><h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><h4 id="eslintrc-jsé…ç½®æ–‡ä»¶"><a href="#eslintrc-jsé…ç½®æ–‡ä»¶" class="headerlink" title=".eslintrc.jsé…ç½®æ–‡ä»¶"></a><code>.eslintrc.js</code>é…ç½®æ–‡ä»¶</h4><blockquote><p><a href="https://eslint.org/docs/latest/user-guide/configuring/configuration-files#configuration-file-formats">https://eslint.org/docs/latest/user-guide/configuring/configuration-files#configuration-file-formats</a><br><a href="https://eslint.vuejs.org/rules">https://eslint.vuejs.org/rules</a></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">parser</span>: <span class="string">&#x27;@typescript-eslint/parser&#x27;</span>, <span class="comment">//å®šä¹‰ESLintçš„è§£æå™¨</span></span><br><span class="line">    <span class="attr">extends</span>: [</span><br><span class="line">        <span class="string">&#x27;prettier/@typescript-eslint&#x27;</span>,  <span class="comment">// ä½¿@typescript-eslintä¸­çš„æ ·å¼è§„èŒƒå¤±æ•ˆï¼Œéµå¾ªprettierä¸­çš„æ ·å¼è§„èŒƒ</span></span><br><span class="line">        <span class="string">&#x27;plugin:prettier/recommended&#x27;</span> <span class="comment">// ä½¿ç”¨prettierä¸­çš„æ ·å¼è§„èŒƒï¼Œä¸”å¦‚æœä½¿ESLintä¼šæ£€æµ‹prettierçš„æ ¼å¼é—®é¢˜ï¼ŒåŒæ ·å°†æ ¼å¼é—®é¢˜ä»¥errorçš„å½¢å¼æŠ›å‡º</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">settings</span>: &#123;</span><br><span class="line">        <span class="string">&quot;react&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;pragma&quot;</span>: <span class="string">&quot;React&quot;</span>,</span><br><span class="line">            <span class="string">&quot;version&quot;</span>: <span class="string">&quot;detect&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">parserOptions</span>: &#123;</span><br><span class="line">        <span class="string">&quot;ecmaVersion&quot;</span>: <span class="number">2019</span>,</span><br><span class="line">        <span class="string">&quot;sourceType&quot;</span>: <span class="string">&#x27;module&#x27;</span>,</span><br><span class="line">        <span class="string">&quot;ecmaFeatures&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">jsx</span>: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">env</span>: &#123;</span><br><span class="line">        <span class="comment">//æŒ‡å®šä»£ç çš„è¿è¡Œç¯å¢ƒ</span></span><br><span class="line">        <span class="attr">browser</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">node</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="prettierrc-jsé…ç½®æ–‡ä»¶"><a href="#prettierrc-jsé…ç½®æ–‡ä»¶" class="headerlink" title=".prettierrc.jsé…ç½®æ–‡ä»¶"></a><code>.prettierrc.js</code>é…ç½®æ–‡ä»¶</h4><blockquote><p><a href="https://prettier.io/docs/en/configuration.html">https://prettier.io/docs/en/configuration.html</a></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">printWidth</span>: <span class="number">120</span>,</span><br><span class="line">    <span class="attr">semi</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">singleQuote</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">trailingComma</span>: <span class="string">&quot;all&quot;</span>,</span><br><span class="line">    <span class="attr">bracketSpacing</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">jsxBracketSameLine</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">arrowParens</span>: <span class="string">&quot;avoid&quot;</span>,</span><br><span class="line">    <span class="attr">insertPragma</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">tabWidth</span>: <span class="number">4</span>,</span><br><span class="line">    <span class="attr">useTabs</span>: <span class="literal">false</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="eslintignoreESLintå¿½ç•¥æ£€æŸ¥æ–‡ä»¶"><a href="#eslintignoreESLintå¿½ç•¥æ£€æŸ¥æ–‡ä»¶" class="headerlink" title=".eslintignoreESLintå¿½ç•¥æ£€æŸ¥æ–‡ä»¶"></a><code>.eslintignore</code>ESLintå¿½ç•¥æ£€æŸ¥æ–‡ä»¶</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">node_modules</span><br><span class="line">*.md</span><br><span class="line">.vscode</span><br><span class="line">.idea</span><br><span class="line">dist</span><br><span class="line">/public</span><br><span class="line">.eslintrc.js</span><br><span class="line">src/assets</span><br></pre></td></tr></table></figure><h4 id="prettierignorePrettierå¿½ç•¥æ ¼å¼åŒ–æ–‡ä»¶"><a href="#prettierignorePrettierå¿½ç•¥æ ¼å¼åŒ–æ–‡ä»¶" class="headerlink" title=".prettierignorePrettierå¿½ç•¥æ ¼å¼åŒ–æ–‡ä»¶"></a><code>.prettierignore</code>Prettierå¿½ç•¥æ ¼å¼åŒ–æ–‡ä»¶</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/dist/*</span><br><span class="line">/node_modules/**</span><br><span class="line">**/*.svg</span><br><span class="line">/public/*</span><br></pre></td></tr></table></figure><h3 id="ä»£ç æ£€æŸ¥-è‡ªåŠ¨ä¿®å¤-è‡ªåŠ¨æ ¼å¼åŒ–"><a href="#ä»£ç æ£€æŸ¥-è‡ªåŠ¨ä¿®å¤-è‡ªåŠ¨æ ¼å¼åŒ–" class="headerlink" title="ä»£ç æ£€æŸ¥ &amp; è‡ªåŠ¨ä¿®å¤ &amp; è‡ªåŠ¨æ ¼å¼åŒ–"></a>ä»£ç æ£€æŸ¥ &amp; è‡ªåŠ¨ä¿®å¤ &amp; è‡ªåŠ¨æ ¼å¼åŒ–</h3><p><code>package.json</code>çš„<code>scripts</code>ä¸­æ·»åŠ </p><blockquote><p><code>--ext</code>: é…ç½®è¦æ£€æŸ¥æ–‡ä»¶çš„åç¼€<br><code>eslint --ext .js --ext .ts --ext .vue src</code>: åªæ£€æŸ¥srcæ–‡ä»¶å¤¹ä¸‹çš„js&#x2F;ts&#x2F;vueæ–‡ä»¶</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;lint&quot;: &quot;eslint --ext .js --ext .ts --ext .vue src&quot;,</span><br><span class="line">    &quot;lint-fix&quot;: &quot;eslint --ext .js --ext .ts --ext .vue src --fix&quot;,</span><br><span class="line">    &quot;prettier&quot;: &quot;prettier --write .&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä»£ç æ£€æŸ¥</span></span><br><span class="line">cnpm run lint</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è‡ªåŠ¨ä¿®å¤  tips: éƒ¨åˆ†ä»£ç ä¿®å¤å¯èƒ½ä¼šå½±å“åŠŸèƒ½ï¼Œæ‰€ä»¥ä¸ä¼šè‡ªåŠ¨ä¿®å¤ï¼Œä¼šç»™å‡ºæç¤º</span></span><br><span class="line">cnpm run lint-fix</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">prettier è‡ªåŠ¨æ ¼å¼åŒ–</span></span><br><span class="line">cnpm run prettier</span><br></pre></td></tr></table></figure><h3 id="ç»Ÿä¸€ä»£ç é£æ ¼"><a href="#ç»Ÿä¸€ä»£ç é£æ ¼" class="headerlink" title="ç»Ÿä¸€ä»£ç é£æ ¼"></a>ç»Ÿä¸€ä»£ç é£æ ¼</h3><blockquote><p>éœ€å®‰è£…æ’ä»¶<code>EditorConfig for VS Code</code></p></blockquote><p><code>.editorconfig</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># https://editorconfig.org</span><br><span class="line">root = true</span><br><span class="line"></span><br><span class="line">[*]</span><br><span class="line">charset = utf-8</span><br><span class="line">indent_style = space</span><br><span class="line">indent_size = 2</span><br><span class="line">end_of_line = lf</span><br><span class="line">insert_final_newline = true</span><br><span class="line">trim_trailing_whitespace = true</span><br><span class="line"></span><br><span class="line">[*.md]</span><br><span class="line">insert_final_newline = false</span><br><span class="line">trim_trailing_whitespace = false</span><br></pre></td></tr></table></figure><h2 id="Viteé…ç½®"><a href="#Viteé…ç½®" class="headerlink" title="Viteé…ç½®"></a>Viteé…ç½®</h2><h3 id="é…ç½®è·¯å¾„åˆ«å"><a href="#é…ç½®è·¯å¾„åˆ«å" class="headerlink" title="é…ç½®è·¯å¾„åˆ«å"></a>é…ç½®è·¯å¾„åˆ«å</h3><p><code>vite.config.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> path <span class="keyword">from</span> <span class="string">&#x27;path&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="title function_">vue</span>()],</span><br><span class="line">  <span class="comment">//srcé…ç½®è·¯å¾„</span></span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">        <span class="comment">//@æ›¿ä»£src</span></span><br><span class="line">      <span class="string">&quot;@&quot;</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;src&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"> </span><br></pre></td></tr></table></figure><p>è§£å†³ï¼šæ‰¾ä¸åˆ°æ¨¡å—â€œpathâ€æˆ–å…¶ç›¸åº”çš„ç±»å‹å£°æ˜</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å®‰è£…nodeå£°æ˜æ–‡ä»¶</span></span><br><span class="line">cnpm i @types/node --save-dev</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°<code>tsconfig.json</code>é…ç½®æ–‡ä»¶,æ‰¾åˆ°é…ç½®é¡¹<code>compilerOptions </code>æ·»åŠ é…ç½®,è¿™ä¸€æ­¥çš„ä½œç”¨æ˜¯è®© IDE å¯ä»¥å¯¹è·¯å¾„è¿›è¡Œæ™ºèƒ½æç¤º</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;baseUrl&quot;: &quot;.&quot;,</span><br><span class="line">&quot;paths&quot;: &#123;</span><br><span class="line">  &quot;@/*&quot;: [</span><br><span class="line">    &quot;src/*&quot;</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure><h3 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h3><p><code>.env.dev</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># å¼€å‘ç¯å¢ƒ</span><br><span class="line">NODE_ENV=&#x27;dev&#x27;</span><br><span class="line"></span><br><span class="line"># ä¸ºäº†é˜²æ­¢æ„å¤–åœ°å°†ä¸€äº›ç¯å¢ƒå˜é‡æ³„æ¼åˆ°å®¢æˆ·ç«¯ï¼Œåªæœ‰ä»¥ VITE_ ä¸ºå‰ç¼€çš„å˜é‡æ‰ä¼šæš´éœ²ç»™ç»è¿‡ vite å¤„ç†çš„ä»£ç ã€‚</span><br><span class="line"># tsä¸­é€šè¿‡`import.meta.env.VITE_APP_BASE_API`å–å€¼</span><br><span class="line">VITE_APP_PORT = 5173</span><br><span class="line">VITE_APP_BASE_API = &#x27;/dev-api&#x27;</span><br></pre></td></tr></table></figure><h3 id="åå‘ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜-é…ç½®é¡¹ç›®è¿è¡Œç«¯å£"><a href="#åå‘ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜-é…ç½®é¡¹ç›®è¿è¡Œç«¯å£" class="headerlink" title="åå‘ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜ &amp; é…ç½®é¡¹ç›®è¿è¡Œç«¯å£"></a>åå‘ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜ &amp; é…ç½®é¡¹ç›®è¿è¡Œç«¯å£</h3><p><code>vite.config.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineConfig, loadEnv &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(<span class="function">(<span class="params">&#123; mode &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// è·å–`.env`ç¯å¢ƒé…ç½®æ–‡ä»¶</span></span><br><span class="line">  <span class="keyword">const</span> env = <span class="title function_">loadEnv</span>(mode, process.<span class="title function_">cwd</span>());</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123; </span><br><span class="line">    <span class="attr">server</span>: &#123;</span><br><span class="line">      <span class="comment">// host:&#x27;localhost&#x27;ï¼Œ//åªèƒ½æœ¬åœ°è®¿é—®</span></span><br><span class="line">      <span class="attr">host</span>:<span class="string">&#x27;0.0.0.0&#x27;</span>,<span class="comment">//å±€åŸŸç½‘åˆ«äººä¹Ÿå¯è®¿é—®</span></span><br><span class="line">      <span class="attr">port</span>: <span class="title class_">Number</span>(env.<span class="property">VITE_APP_PORT</span>),</span><br><span class="line">      <span class="comment">// è¿è¡Œæ—¶è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">      <span class="comment">// open: true,</span></span><br><span class="line">      <span class="attr">proxy</span>: &#123;</span><br><span class="line">        [env.<span class="property">VITE_APP_BASE_API</span>]: &#123;</span><br><span class="line">          <span class="attr">target</span>: <span class="string">&#x27;http://localhost:1218&#x27;</span>,</span><br><span class="line">          <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">          <span class="attr">rewrite</span>: <span class="function"><span class="params">path</span> =&gt;</span></span><br><span class="line">            path.<span class="title function_">replace</span>(<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;^&#x27;</span> + env.<span class="property">VITE_APP_BASE_API</span>), <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="å¼•å…¥scsså…¨å±€å˜é‡"><a href="#å¼•å…¥scsså…¨å±€å˜é‡" class="headerlink" title="å¼•å…¥scsså…¨å±€å˜é‡"></a>å¼•å…¥scsså…¨å±€å˜é‡</h3><p><code>vite.config.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(<span class="function">(<span class="params">&#123; mode &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="comment">// å¼•å…¥scsså…¨å±€å˜é‡</span></span><br><span class="line">    <span class="attr">css</span>: &#123;</span><br><span class="line">      <span class="attr">preprocessorOptions</span>: &#123;</span><br><span class="line">        <span class="attr">scss</span>: &#123;</span><br><span class="line">          <span class="attr">additionalData</span>: <span class="string">`@import &quot;@/styles/app-theme.scss&quot;;`</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><code>src/styles/app-theme.scss</code></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$dark_main_color</span>: <span class="number">#021b32</span>;</span><br></pre></td></tr></table></figure><h2 id="TypeScripté…ç½®"><a href="#TypeScripté…ç½®" class="headerlink" title="TypeScripté…ç½®"></a>TypeScripté…ç½®</h2><p><code>tsconfig.json</code></p><blockquote><p>é€šè¿‡viteåˆ›å»ºé¡¹ç›®åçš„é»˜è®¤é…ç½®</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ESNext&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;useDefineForClassFields&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;module&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ESNext&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;moduleResolution&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Node&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;strict&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;jsx&quot;</span><span class="punctuation">:</span> <span class="string">&quot;preserve&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sourceMap&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;resolveJsonModule&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;isolatedModules&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;esModuleInterop&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;lib&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;ESNext&quot;</span><span class="punctuation">,</span> <span class="string">&quot;DOM&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;skipLibCheck&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;include&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;src/**/*.ts&quot;</span><span class="punctuation">,</span> <span class="string">&quot;src/**/*.d.ts&quot;</span><span class="punctuation">,</span> <span class="string">&quot;src/**/*.tsx&quot;</span><span class="punctuation">,</span> <span class="string">&quot;src/**/*.vue&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;references&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">&#123;</span> <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./tsconfig.node.json&quot;</span> <span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h3 id="è§£å†³ï¼šæ‰¾ä¸åˆ°æ¨¡å—â€œ-routerâ€æˆ–å…¶ç›¸åº”çš„ç±»å‹å£°æ˜ã€‚"><a href="#è§£å†³ï¼šæ‰¾ä¸åˆ°æ¨¡å—â€œ-routerâ€æˆ–å…¶ç›¸åº”çš„ç±»å‹å£°æ˜ã€‚" class="headerlink" title="è§£å†³ï¼šæ‰¾ä¸åˆ°æ¨¡å—â€œ@&#x2F;routerâ€æˆ–å…¶ç›¸åº”çš„ç±»å‹å£°æ˜ã€‚"></a>è§£å†³ï¼šæ‰¾ä¸åˆ°æ¨¡å—â€œ@&#x2F;routerâ€æˆ–å…¶ç›¸åº”çš„ç±»å‹å£°æ˜ã€‚</h3><p><code>tsconfig.json</code>æ–°å¢å¦‚ä¸‹é…ç½®</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;baseUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;paths&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;@/*&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span> <span class="string">&quot;src/*&quot;</span> <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="è§£å†³ï¼štemplateä¸­ä½¿ç”¨-storeæŠ¥é”™"><a href="#è§£å†³ï¼štemplateä¸­ä½¿ç”¨-storeæŠ¥é”™" class="headerlink" title="è§£å†³ï¼štemplateä¸­ä½¿ç”¨$storeæŠ¥é”™"></a>è§£å†³ï¼štemplateä¸­ä½¿ç”¨$storeæŠ¥é”™</h3><p><code>vite-env.d.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Store</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@/store&#x27;</span></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&#x27;@vue/runtime-core&#x27;</span> &#123;</span><br><span class="line">  <span class="keyword">interface</span> <span class="title class_">ComponentCustomProperties</span> &#123;</span><br><span class="line">    <span class="attr">$store</span>: <span class="title class_">Store</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h2><p><code>package.json</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;small-tools-web&quot;,</span><br><span class="line">  &quot;private&quot;: true,</span><br><span class="line">  &quot;version&quot;: &quot;1.0.1&quot;,</span><br><span class="line">  &quot;type&quot;: &quot;module&quot;,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    // è¿è¡Œ</span><br><span class="line">    &quot;dev&quot;: &quot;vite --mode dev&quot;,</span><br><span class="line">    // æ„å»ºç”Ÿæˆ dist æ–‡ä»¶å¤¹</span><br><span class="line">    &quot;build:prod&quot;: &quot;vue-tsc --noEmit &amp;&amp; vite build --mode prod&quot;,</span><br><span class="line">    // åœ¨æœ¬åœ°å¯åŠ¨ä¸€ä¸ªé™æ€ Web æœåŠ¡å™¨ï¼Œå°† dist æ–‡ä»¶å¤¹è¿è¡Œåœ¨ http://localhost:8080</span><br><span class="line">    &quot;preview&quot;: &quot;vite preview --port 8080 --mode prod&quot;,</span><br><span class="line">    // eslintæ£€æŸ¥</span><br><span class="line">    &quot;lint&quot;: &quot;eslint --ext .js --ext .ts --ext .vue src&quot;,</span><br><span class="line">    // eslintè‡ªåŠ¨ä¿®å¤</span><br><span class="line">    &quot;lint-fix&quot;: &quot;eslint --ext .js --ext .ts --ext .vue src --fix&quot;,</span><br><span class="line">    // prettierè‡ªåŠ¨æ ¼å¼åŒ–ä»£ç </span><br><span class="line">    &quot;prettier&quot;: &quot;prettier --write .&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;vue&quot;: &quot;^3.2.37&quot;,</span><br><span class="line">    &quot;vue-router&quot;: &quot;^4.1.2&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;devDependencies&quot;: &#123;</span><br><span class="line">    &quot;@types/node&quot;: &quot;^18.0.5&quot;,</span><br><span class="line">    &quot;@typescript-eslint/eslint-plugin&quot;: &quot;^5.30.6&quot;,</span><br><span class="line">    &quot;@typescript-eslint/parser&quot;: &quot;^5.30.6&quot;,</span><br><span class="line">    &quot;@vitejs/plugin-vue&quot;: &quot;^3.0.0&quot;,</span><br><span class="line">    &quot;eslint&quot;: &quot;^8.20.0&quot;,</span><br><span class="line">    &quot;eslint-config-prettier&quot;: &quot;^8.5.0&quot;,</span><br><span class="line">    &quot;eslint-plugin-prettier&quot;: &quot;^4.2.1&quot;,</span><br><span class="line">    &quot;eslint-plugin-vue&quot;: &quot;^9.2.0&quot;,</span><br><span class="line">    &quot;prettier&quot;: &quot;^2.7.1&quot;,</span><br><span class="line">    &quot;typescript&quot;: &quot;^4.6.4&quot;,</span><br><span class="line">    &quot;vite&quot;: &quot;^3.0.0&quot;,</span><br><span class="line">    &quot;vue-tsc&quot;: &quot;^0.38.4&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># devDependencies: é‡Œé¢çš„æ’ä»¶åªç”¨äºå¼€å‘ç¯å¢ƒï¼Œä¸ç”¨äºç”Ÿäº§ç¯å¢ƒ </span><br><span class="line"># dependencies: éœ€è¦å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒçš„</span><br><span class="line"></span><br><span class="line"># å†™å…¥åˆ° dependencies å¯¹è±¡</span><br><span class="line">npm i module_name -S    =&gt;    npm install module_name --save</span><br><span class="line"></span><br><span class="line"># å†™å…¥åˆ° devDependencies å¯¹è±¡</span><br><span class="line">npm i module_name -D    =&gt;    npm install module_name --save-dev</span><br></pre></td></tr></table></figure><h2 id="Sass"><a href="#Sass" class="headerlink" title="Sass"></a>Sass</h2><h3 id="å®‰è£…-1"><a href="#å®‰è£…-1" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install sass --save-dev</span><br></pre></td></tr></table></figure><h2 id="Vue-Router"><a href="#Vue-Router" class="headerlink" title="Vue-Router"></a>Vue-Router</h2><blockquote><p><a href="https://router.vuejs.org/zh">https://router.vuejs.org/zh</a></p></blockquote><h3 id="å®‰è£…-2"><a href="#å®‰è£…-2" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router@4</span><br></pre></td></tr></table></figure><h3 id="å…¥é—¨é…ç½®"><a href="#å…¥é—¨é…ç½®" class="headerlink" title="å…¥é—¨é…ç½®"></a>å…¥é—¨é…ç½®</h3><p><code>src/router/index.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;createRouter, createWebHashHistory&#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é™æ€è·¯ç”±</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> routes = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/login/index.vue&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/404&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/error-page/404.vue&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºè·¯ç”±</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">    <span class="attr">history</span>: <span class="title function_">createWebHashHistory</span>(),</span><br><span class="line">    routes</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure><p><code>src/main.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ****** â†“â†“â†“ è·¯ç”± â†“â†“â†“ ******</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>);</span><br><span class="line">app.<span class="title function_">use</span>(router);</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p><code>src/views/error-page/404.vue</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h1&gt;404&lt;/h1&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p><code>src/App.vue</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- è·¯ç”±å‡ºå£ --&gt;</span><br><span class="line">  &lt;!-- è·¯ç”±åŒ¹é…åˆ°çš„ç»„ä»¶å°†æ¸²æŸ“åœ¨è¿™é‡Œ --&gt;</span><br><span class="line">  &lt;router-view/&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>è®¿é—®<code>http://ip:ç«¯å£/#/404</code></p><h2 id="Element-Plus"><a href="#Element-Plus" class="headerlink" title="Element-Plus"></a>Element-Plus</h2><blockquote><p><a href="https://element-plus.gitee.io/zh-CN">https://element-plus.gitee.io/zh-CN</a></p></blockquote><h3 id="å®‰è£…-3"><a href="#å®‰è£…-3" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install element-plus --save</span><br><span class="line">npm install @element-plus/icons-vue</span><br></pre></td></tr></table></figure><h3 id="é…ç½®-1"><a href="#é…ç½®-1" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p><code>main.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ****** â†“â†“â†“ element-plus â†“â†“â†“ ******</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ElementPlus</span> <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-plus/dist/index.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> <span class="title class_">ElementPlusIconsVue</span> <span class="keyword">from</span> <span class="string">&#x27;@element-plus/icons-vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œæ‰€æœ‰å›¾æ ‡</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> [key, component] <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">entries</span>(<span class="title class_">ElementPlusIconsVue</span>)) &#123;</span><br><span class="line">    app.<span class="title function_">component</span>(key, component)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">ElementPlus</span>)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="Volar-æ”¯æŒ"><a href="#Volar-æ”¯æŒ" class="headerlink" title="Volar æ”¯æŒ"></a>Volar æ”¯æŒ</h3><p><code>tsconfig.json</code>ä¸­é€šè¿‡<code>compilerOptions.types</code>æŒ‡å®šå…¨å±€ç»„ä»¶ç±»å‹</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;types&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;element-plus/global&quot;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">link</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-icon</span> <span class="attr">class</span>=<span class="string">&quot;is-loading&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Loading</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">:icon</span>=<span class="string">&quot;Search&quot;</span> <span class="attr">circle</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Edit&quot;</span> <span class="attr">circle</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Check&quot;</span> <span class="attr">circle</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Message&quot;</span> <span class="attr">circle</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Star&quot;</span> <span class="attr">circle</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">:icon</span>=<span class="string">&quot;Delete&quot;</span> <span class="attr">circle</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; <span class="title class_">Check</span>, <span class="title class_">Delete</span>, <span class="title class_">Edit</span>, <span class="title class_">Message</span>, <span class="title class_">Search</span>, <span class="title class_">Star</span>, &#125; <span class="keyword">from</span> <span class="string">&#x27;@element-plus/icons-vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="è‡ªå®šä¹‰æ ·å¼"><a href="#è‡ªå®šä¹‰æ ·å¼" class="headerlink" title="è‡ªå®šä¹‰æ ·å¼"></a>è‡ªå®šä¹‰æ ·å¼</h2><h3 id="è‡ªå®šä¹‰æ ·å¼-1"><a href="#è‡ªå®šä¹‰æ ·å¼-1" class="headerlink" title="è‡ªå®šä¹‰æ ·å¼"></a>è‡ªå®šä¹‰æ ·å¼</h3><p><code>main.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@/styles/index.scss&#x27;</span>;</span><br></pre></td></tr></table></figure><p><code>src/styles/index.scss</code></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&#x27;./element-plus-theme&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#021b32</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>src/styles/element-plus-theme.scss</code></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ****** â†“â†“â†“ è¦†ç›– element-plus çš„æ ·å¼ â†“â†“â†“ ******</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‰é’®</span></span><br><span class="line"><span class="selector-class">.el-button--text</span> &#123;</span><br><span class="line">  <span class="comment">// background-color: #8f6732 !important; </span></span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">3px</span>;</span><br><span class="line">  <span class="attribute">border</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Pinia"><a href="#Pinia" class="headerlink" title="Pinia"></a>Pinia</h2><blockquote><p><a href="https://pinia.vuejs.org/">https://pinia.vuejs.org</a></p></blockquote><h3 id="å®‰è£…-4"><a href="#å®‰è£…-4" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install pinia --save</span><br></pre></td></tr></table></figure><h3 id="é…ç½®-2"><a href="#é…ç½®-2" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p><code>main.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// pinia</span></span><br><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line">app.<span class="title function_">use</span>(pinia)</span><br><span class="line"></span><br><span class="line"><span class="comment">// store</span></span><br><span class="line"><span class="keyword">import</span> useStore <span class="keyword">from</span> <span class="string">&quot;@/store&quot;</span>;</span><br><span class="line">app.<span class="property">config</span>.<span class="property">globalProperties</span>.<span class="property">$store</span> = <span class="title function_">useStore</span>();</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p><code>src/store/index.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> useAppStore <span class="keyword">from</span> <span class="string">&#x27;./modules/app&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">useStore</span> = (<span class="params"></span>) =&gt; (&#123;</span><br><span class="line">    <span class="attr">app</span>: <span class="title function_">useAppStore</span>()</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> useStore;</span><br></pre></td></tr></table></figure><p><code>src/store/modules/app.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AppState</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@/types/store/app&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="variable language_">localStorage</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils/storage&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> useAppStore = <span class="title function_">defineStore</span>(&#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="string">&#x27;app&#x27;</span>,</span><br><span class="line">    <span class="attr">state</span>: (): <span class="function"><span class="params">AppState</span> =&gt;</span> (&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="variable language_">localStorage</span>.<span class="title function_">get</span>(<span class="string">&#x27;name&#x27;</span>) || <span class="string">&#x27;Small Tools&#x27;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="attr">actions</span>: &#123;</span><br><span class="line">        <span class="title function_">setName</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">            <span class="variable language_">localStorage</span>.<span class="title function_">set</span>(<span class="string">&#x27;name&#x27;</span>, name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> useAppStore;</span><br></pre></td></tr></table></figure><p><code>src/utils/storage.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * window.localStorage =&gt; æµè§ˆå™¨æ°¸ä¹…å­˜å‚¨ï¼Œç”¨äºé•¿ä¹…ä¿å­˜æ•´ä¸ªç½‘ç«™çš„æ•°æ®ï¼Œä¿å­˜çš„æ•°æ®æ²¡æœ‰è¿‡æœŸæ—¶é—´ï¼Œç›´åˆ°æ‰‹åŠ¨å»åˆ é™¤ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="variable language_">localStorage</span> = &#123;</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">key: <span class="built_in">string</span>, val: <span class="built_in">any</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">setItem</span>(key, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(val));</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">get</span>(<span class="params">key: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> <span class="attr">json</span>: <span class="built_in">any</span> = <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(key);</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(json);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">remove</span>(<span class="params">key: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">removeItem</span>(key);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">clear</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">clear</span>();</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * window.sessionStorage =&gt; æµè§ˆå™¨æœ¬åœ°å­˜å‚¨ï¼Œæ•°æ®ä¿å­˜åœ¨å½“å‰ä¼šè¯ä¸­ï¼Œåœ¨å…³é—­çª—å£æˆ–æ ‡ç­¾é¡µä¹‹åå°†ä¼šåˆ é™¤è¿™äº›æ•°æ®ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="variable language_">sessionStorage</span> = &#123;</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">key: <span class="built_in">string</span>, val: <span class="built_in">any</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">setItem</span>(key, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(val));</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">get</span>(<span class="params">key: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> <span class="attr">json</span>: <span class="built_in">any</span> = <span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">getItem</span>(key);</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(json);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">remove</span>(<span class="params">key: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">removeItem</span>(key);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">clear</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">clear</span>();</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>é¡µé¢å¼•ç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;p&gt;store: &#123;&#123; name &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;store: &#123;&#123; app.name &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;store: &#123;&#123; $store.app.name &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;el-button @click=&quot;changeStore(&#x27;666&#x27;)&quot;&gt;change store&lt;/el-button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line">&lt;script lang=&quot;ts&quot; setup&gt;</span><br><span class="line">import &#123; storeToRefs &#125; from &#x27;pinia&#x27;</span><br><span class="line">import useStore from &quot;@/store&quot;;</span><br><span class="line"></span><br><span class="line">const &#123; app &#125; = useStore()</span><br><span class="line">// const name = ref(app.name)</span><br><span class="line">// å“åº”å¼</span><br><span class="line">const &#123; name: name &#125; = storeToRefs(app)</span><br><span class="line"></span><br><span class="line">function changeStore(value: string) &#123;</span><br><span class="line">    app.setName(value)</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="Axioså’ŒAPIå°è£…"><a href="#Axioså’ŒAPIå°è£…" class="headerlink" title="Axioså’ŒAPIå°è£…"></a>Axioså’ŒAPIå°è£…</h2><blockquote><p><a href="http://www.axios-js.com/zh-cn/docs">http://www.axios-js.com/zh-cn/docs</a></p></blockquote><h3 id="å®‰è£…-5"><a href="#å®‰è£…-5" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install axios --save</span><br></pre></td></tr></table></figure><h3 id="axioså·¥å…·å°è£…"><a href="#axioså·¥å…·å°è£…" class="headerlink" title="axioså·¥å…·å°è£…"></a>axioså·¥å…·å°è£…</h3><p><code>src/utils/request.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios, &#123; <span class="title class_">AxiosRequestConfig</span>, <span class="title class_">AxiosResponse</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span>, <span class="title class_">ElMessageBox</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="variable language_">localStorage</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils/storage&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> useStore <span class="keyword">from</span> <span class="string">&#x27;@/store&#x27;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºaxioså®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> service = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="attr">baseURL</span>: <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">env</span>.<span class="property">VITE_APP_BASE_API</span>,</span><br><span class="line">  <span class="comment">// è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼š50s</span></span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">50000</span>,</span><br><span class="line">  <span class="attr">headers</span>: &#123; <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json;charset=utf-8&#x27;</span> &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯·æ±‚æ‹¦æˆªå™¨</span></span><br><span class="line">service.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">config: AxiosRequestConfig</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!config.<span class="property">headers</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(</span><br><span class="line">        <span class="string">`Expected &#x27;config&#x27; and &#x27;config.headers&#x27; not to be undefined`</span></span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> &#123; user &#125; = <span class="title function_">useStore</span>();</span><br><span class="line">    <span class="keyword">if</span> (user.<span class="property">token</span>) &#123;</span><br><span class="line">      <span class="comment">// æˆæƒè®¤è¯</span></span><br><span class="line">      config.<span class="property">headers</span>.<span class="property">Authorization</span> = user.<span class="property">token</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç§Ÿæˆ·ID</span></span><br><span class="line">    config.<span class="property">headers</span>[<span class="string">&#x27;TENANT_ID&#x27;</span>] = <span class="string">&#x27;1&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å“åº”æ‹¦æˆªå™¨</span></span><br><span class="line">service.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">response: AxiosResponse</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> res = response.<span class="property">data</span>;</span><br><span class="line">    <span class="keyword">const</span> &#123; code, msg &#125; = res;</span><br><span class="line">    <span class="keyword">if</span> (code === <span class="number">200</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> res;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// tokenè¿‡æœŸ</span></span><br><span class="line">      <span class="keyword">if</span> (code === -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="title class_">ElMessageBox</span>.<span class="title function_">confirm</span>(<span class="string">&quot;æ‚¨çš„ç™»å½•è´¦å·å·²å¤±æ•ˆï¼Œè¯·é‡æ–°ç™»å½•&quot;</span>, &#123;</span><br><span class="line">          <span class="attr">confirmButtonText</span>: <span class="string">&quot;å†æ¬¡ç™»å½•&quot;</span>,</span><br><span class="line">          <span class="attr">cancelButtonText</span>: <span class="string">&quot;å–æ¶ˆ&quot;</span>,</span><br><span class="line">          <span class="attr">type</span>: <span class="string">&quot;warning&quot;</span></span><br><span class="line">        &#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// æ¸…é™¤æµè§ˆå™¨å…¨éƒ¨ç¼“å­˜</span></span><br><span class="line">          <span class="variable language_">localStorage</span>.<span class="title function_">clear</span>();</span><br><span class="line">          <span class="comment">// è·³è½¬ç™»å½•é¡µ</span></span><br><span class="line">          <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> = <span class="string">&#x27;/&#x27;</span>;</span><br><span class="line">          location.<span class="title function_">reload</span>();</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title class_">ElMessage</span>(&#123;</span><br><span class="line">          <span class="attr">message</span>: msg || <span class="string">&#x27;ç³»ç»Ÿå‡ºé”™&#x27;</span>,</span><br><span class="line">          <span class="attr">type</span>: <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">          <span class="attr">duration</span>: <span class="number">5</span> * <span class="number">1000</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(msg || <span class="string">&#x27;Error&#x27;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; msg &#125; = error.<span class="property">response</span>.<span class="property">data</span>;</span><br><span class="line">    <span class="comment">// æœªè®¤è¯</span></span><br><span class="line">    <span class="keyword">if</span> (error.<span class="property">response</span>.<span class="property">status</span> === <span class="number">401</span>) &#123;</span><br><span class="line">      <span class="title class_">ElMessageBox</span>.<span class="title function_">confirm</span>(<span class="string">&quot;æ‚¨çš„ç™»å½•è´¦å·å·²å¤±æ•ˆï¼Œè¯·é‡æ–°ç™»å½•&quot;</span>, &#123;</span><br><span class="line">        <span class="attr">confirmButtonText</span>: <span class="string">&quot;å†æ¬¡ç™»å½•&quot;</span>,</span><br><span class="line">        <span class="attr">cancelButtonText</span>: <span class="string">&quot;å–æ¶ˆ&quot;</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;warning&quot;</span></span><br><span class="line">      &#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// æ¸…é™¤æµè§ˆå™¨å…¨éƒ¨ç¼“å­˜</span></span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">clear</span>();</span><br><span class="line">        <span class="comment">// è·³è½¬ç™»å½•é¡µ</span></span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> = <span class="string">&#x27;/&#x27;</span>;</span><br><span class="line">        location.<span class="title function_">reload</span>();</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title class_">ElMessage</span>(&#123;</span><br><span class="line">        <span class="attr">message</span>: <span class="string">&quot;ç½‘ç»œå¼‚å¸¸ï¼Œè¯·ç¨åå†è¯•!&quot;</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">        <span class="attr">duration</span>: <span class="number">5</span> * <span class="number">1000</span></span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(msg || <span class="string">&#x27;Error&#x27;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºå®ä¾‹</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> service;</span><br></pre></td></tr></table></figure><h3 id="apiå°è£…"><a href="#apiå°è£…" class="headerlink" title="apiå°è£…"></a>apiå°è£…</h3><p>&#96;src&#x2F;api&#x2F;</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‹¿åˆ°æ‰€æœ‰api</span></span><br><span class="line"><span class="keyword">const</span> modulesFiles = <span class="keyword">import</span>.<span class="property">meta</span>.<span class="title function_">globEager</span>(<span class="string">&#x27;./*/*.*&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="attr">modules</span>: <span class="built_in">any</span> = &#123;&#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> modulesFiles) &#123;</span><br><span class="line">  <span class="keyword">const</span> moduleName = key.<span class="title function_">replace</span>(<span class="regexp">/(.*\/)*([^.]+).*/gi</span>, <span class="string">&#x27;$2&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">value</span>: <span class="built_in">any</span> = modulesFiles[key];</span><br><span class="line">  <span class="keyword">if</span> (value.<span class="property">default</span>) &#123;</span><br><span class="line">    <span class="comment">// å…¼å®¹js</span></span><br><span class="line">    modules[moduleName] = value.<span class="property">default</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// å…¼å®¹ts</span></span><br><span class="line">    modules[moduleName] = value;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// console.log(666, modules);</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> modules;</span><br></pre></td></tr></table></figure><p><code>main.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é…ç½®å…¨å±€api</span></span><br><span class="line"><span class="keyword">import</span> api <span class="keyword">from</span> <span class="string">&#x27;@/api&#x27;</span></span><br><span class="line">app.<span class="property">config</span>.<span class="property">globalProperties</span>.<span class="property">$api</span> = api;</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="apiè°ƒç”¨demo"><a href="#apiè°ƒç”¨demo" class="headerlink" title="apiè°ƒç”¨demo"></a>apiè°ƒç”¨demo</h3><p><code>src/api/system/sys_login.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Captcha</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@/types/api/system/login&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&#x27;@/utils/request&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AxiosPromise</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–éªŒè¯ç </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getCaptcha</span>(<span class="params"></span>): <span class="title class_">AxiosPromise</span>&lt;<span class="title class_">Captcha</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/captcha?t=&#x27;</span> + <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>().<span class="title function_">toString</span>(),</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>src/types/api/system/login.d.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éªŒè¯ç ç±»å‹å£°æ˜</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">Captcha</span> &#123;</span><br><span class="line">    <span class="attr">img</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">uuid</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>src/views/login/index.vue</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Hello...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"> </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; getCurrentInstance &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// ç»„ä»¶å®ä¾‹</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> &#123; proxy &#125;: any = <span class="title function_">getCurrentInstance</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// è·å–éªŒè¯ç </span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">handleCaptcha</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> res = <span class="keyword">await</span> proxy.<span class="property">$api</span>.<span class="property">sys_login</span>.<span class="title function_">getCaptcha</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;res:&#x27;</span>, res);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="title function_">handleCaptcha</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="æƒé™"><a href="#æƒé™" class="headerlink" title="æƒé™"></a>æƒé™</h2><h3 id="ç”¨æˆ·ç™»å½•æˆåŠŸåå°†ç”¨æˆ·ä¿¡æ¯å­˜å‚¨åˆ°storeä¸­"><a href="#ç”¨æˆ·ç™»å½•æˆåŠŸåå°†ç”¨æˆ·ä¿¡æ¯å­˜å‚¨åˆ°storeä¸­" class="headerlink" title="ç”¨æˆ·ç™»å½•æˆåŠŸåå°†ç”¨æˆ·ä¿¡æ¯å­˜å‚¨åˆ°storeä¸­"></a>ç”¨æˆ·ç™»å½•æˆåŠŸåå°†ç”¨æˆ·ä¿¡æ¯å­˜å‚¨åˆ°storeä¸­</h3><p><code>src/views/login/index.vue</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">handleLogin</span>(<span class="params"></span>) &#123;</span><br><span class="line">  loginFormRef.<span class="property">value</span>.<span class="title function_">validate</span>(<span class="function">(<span class="params">valid: <span class="built_in">boolean</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (valid) &#123;</span><br><span class="line">      state.<span class="property">loading</span> = <span class="literal">true</span>;</span><br><span class="line">      user.<span class="title function_">login</span>(state.<span class="property">loginForm</span>).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        router.<span class="title function_">push</span>(&#123; <span class="attr">path</span>: state.<span class="property">redirect</span> || <span class="string">&#x27;/&#x27;</span>, <span class="attr">query</span>: state.<span class="property">otherQuery</span> &#125;);</span><br><span class="line">        state.<span class="property">loading</span> = <span class="literal">false</span>;</span><br><span class="line">      &#125;).<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        state.<span class="property">loading</span> = <span class="literal">false</span>;</span><br><span class="line">        <span class="title function_">handleCaptchaGenerate</span>();</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="store"><a href="#store" class="headerlink" title="store"></a>store</h3><p><code>src/store/modules/user.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">LoginFormData</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@/types/api/system/login&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">UserState</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@/types/store/user&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="variable language_">localStorage</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils/storage&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; login, logout &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/system/sys_login&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; getUserPerm &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/system/user&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; resetRouter &#125; <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> useUserStore = <span class="title function_">defineStore</span>(&#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="string">&#x27;user&#x27;</span>,</span><br><span class="line">  <span class="attr">state</span>: (): <span class="function"><span class="params">UserState</span> =&gt;</span> (&#123;</span><br><span class="line">    <span class="attr">userId</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">openId</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">token</span>: <span class="variable language_">localStorage</span>.<span class="title function_">get</span>(<span class="string">&#x27;token&#x27;</span>) || <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">nickname</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">avatarUrl</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">roleNames</span>: [],</span><br><span class="line">    <span class="attr">permissionTreeList</span>: [],</span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">RESET_STATE</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.$reset();</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç™»å½•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="title function_">login</span>(<span class="params">loginData: LoginFormData</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; username, password, code, uuid &#125; = loginData;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">login</span>(&#123;</span><br><span class="line">          <span class="attr">username</span>: username.<span class="title function_">trim</span>(),</span><br><span class="line">          <span class="attr">password</span>: password,</span><br><span class="line">          <span class="attr">grant_type</span>: <span class="string">&#x27;captcha&#x27;</span>,</span><br><span class="line">          <span class="attr">code</span>: code,</span><br><span class="line">          <span class="attr">uuid</span>: uuid,</span><br><span class="line">        &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> &#123; tokenType, value &#125; = response.<span class="property">data</span>;</span><br><span class="line">          <span class="keyword">const</span> token = tokenType + <span class="string">&#x27; &#x27;</span> + value;</span><br><span class="line">          <span class="variable language_">localStorage</span>.<span class="title function_">set</span>(<span class="string">&#x27;token&#x27;</span>, token);</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">token</span> = token;</span><br><span class="line">          <span class="title function_">resolve</span>(token);</span><br><span class="line">        &#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="title function_">reject</span>(error);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *  è·å–ç”¨æˆ·ä¿¡æ¯ï¼ˆæ˜µç§°ã€å¤´åƒã€è§’è‰²é›†åˆã€æƒé™é›†åˆï¼‰</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="title function_">getUserInfo</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">getUserPerm</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">&#123; data &#125;: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (!data) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">reject</span>(<span class="string">&#x27;Verification failed, please Login again.&#x27;</span>);</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">const</span> &#123; userId, openId, nickname, avatarUrl, roleNames, permissionTreeList &#125; = data;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">userId</span> = userId;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">openId</span> = openId;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">nickname</span> = nickname;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">avatarUrl</span> = avatarUrl;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">roleNames</span> = roleNames;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">permissionTreeList</span> = permissionTreeList;</span><br><span class="line">          <span class="title function_">resolve</span>(data);</span><br><span class="line">        &#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">error: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="title function_">reject</span>(error);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *  æ³¨é”€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="title function_">logout</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">logout</span>().<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">localStorage</span>.<span class="title function_">remove</span>(<span class="string">&#x27;token&#x27;</span>);</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">RESET_STATE</span>();</span><br><span class="line">          <span class="title function_">resetRouter</span>();</span><br><span class="line">          <span class="title function_">resolve</span>(<span class="literal">null</span>);</span><br><span class="line">        &#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="title function_">reject</span>(error);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¸…é™¤ Token</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="title function_">resetToken</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">remove</span>(<span class="string">&#x27;token&#x27;</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">RESET_STATE</span>();</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="literal">null</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> useUserStore;</span><br></pre></td></tr></table></figure><p><code>src/store/modules/permission.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">PermissionState</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@/types/store/permission&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">RouteRecordRaw</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; constantRoutes &#125; <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> useStore <span class="keyword">from</span> <span class="string">&#x27;@/store&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> modules = <span class="keyword">import</span>.<span class="property">meta</span>.<span class="title function_">glob</span>(<span class="string">&#x27;../../views/**/**.vue&#x27;</span>);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">Layout</span> = (<span class="params"></span>) =&gt; <span class="keyword">import</span>(<span class="string">&#x27;@/layout/index.vue&#x27;</span>);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">parentView</span> = (<span class="params"></span>) =&gt; <span class="keyword">import</span>(<span class="string">&#x27;@/layout/parentView.vue&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">filterAsyncRoutes</span> = (<span class="params"></span></span><br><span class="line"><span class="params">  routes: RouteRecordRaw[],</span></span><br><span class="line"><span class="params">  roleNames: <span class="built_in">string</span>[]</span></span><br><span class="line"><span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">res</span>: <span class="title class_">RouteRecordRaw</span>[] = [];</span><br><span class="line">  routes.<span class="title function_">forEach</span>(<span class="function">(<span class="params">route</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> tmp = &#123; ...route &#125; <span class="keyword">as</span> <span class="built_in">any</span>;</span><br><span class="line">    <span class="keyword">if</span> (tmp.<span class="property">component</span> === <span class="string">&#x27;Layout&#x27;</span>) &#123;</span><br><span class="line">      tmp.<span class="property">component</span> = <span class="title class_">Layout</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (tmp.<span class="property">component</span> === <span class="string">&#x27;parentView&#x27;</span>) &#123;</span><br><span class="line">      tmp.<span class="property">component</span> = parentView</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> component = modules[<span class="string">`../../views/<span class="subst">$&#123;tmp.component&#125;</span>.vue`</span>] <span class="keyword">as</span> <span class="built_in">any</span>;</span><br><span class="line">      <span class="keyword">if</span> (component) &#123;</span><br><span class="line">        tmp.<span class="property">component</span> = modules[<span class="string">`../../views/<span class="subst">$&#123;tmp.component&#125;</span>.vue`</span>];</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        tmp.<span class="property">component</span> = modules[<span class="string">`../../views/error-page/404.vue`</span>];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    res.<span class="title function_">push</span>(tmp);</span><br><span class="line">    <span class="keyword">if</span> (tmp.<span class="property">children</span>) &#123;</span><br><span class="line">      tmp.<span class="property">children</span> = <span class="title function_">filterAsyncRoutes</span>(tmp.<span class="property">children</span>, roleNames);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¾§è¾¹æ æƒé™è·¯ç”±</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> usePermissionStore = <span class="title function_">defineStore</span>(&#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="string">&#x27;permission&#x27;</span>,</span><br><span class="line">  <span class="attr">state</span>: (): <span class="function"><span class="params">PermissionState</span> =&gt;</span> (&#123;</span><br><span class="line">    <span class="attr">routes</span>: [],</span><br><span class="line">    <span class="attr">addRoutes</span>: [],</span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="title function_">setRoutes</span>(<span class="params">routes: RouteRecordRaw[]</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">addRoutes</span> = routes;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">routes</span> = constantRoutes.<span class="title function_">concat</span>(routes);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">generateRoutes</span>(<span class="params">roleNames: <span class="built_in">string</span>[]</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; user &#125; = <span class="title function_">useStore</span>();</span><br><span class="line">      <span class="keyword">const</span> accessedRoutes = <span class="title function_">filterAsyncRoutes</span>(user.<span class="property">permissionTreeList</span>, roleNames);</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setRoutes</span>(accessedRoutes);</span><br><span class="line">        <span class="title function_">resolve</span>(accessedRoutes);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> usePermissionStore;</span><br></pre></td></tr></table></figure><h3 id="router"><a href="#router" class="headerlink" title="router"></a>router</h3><p><code>src/router/index.ts</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">import &#123; createRouter, createWebHashHistory, RouteRecordRaw &#125; from &#x27;vue-router&#x27;;</span><br><span class="line">import useStore from &#x27;@/store&#x27;;</span><br><span class="line"></span><br><span class="line">// é™æ€è·¯ç”±</span><br><span class="line">export const constantRoutes: Array&lt;RouteRecordRaw&gt; = [</span><br><span class="line">    &#123;</span><br><span class="line">        path: &#x27;/login&#x27;,</span><br><span class="line">        component: () =&gt; import(&#x27;@/views/login/index.vue&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        path: &#x27;/test&#x27;,</span><br><span class="line">        component: () =&gt; import(&#x27;@/views/test/index.vue&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        path: &#x27;/404&#x27;,</span><br><span class="line">        component: () =&gt; import(&#x27;@/views/error-page/404.vue&#x27;)</span><br><span class="line">    &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">// åˆ›å»ºè·¯ç”±</span><br><span class="line">const router = createRouter(&#123;</span><br><span class="line">    history: createWebHashHistory(),</span><br><span class="line">    routes: constantRoutes as RouteRecordRaw[],</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// é‡ç½®è·¯ç”±</span><br><span class="line">export function resetRouter() &#123;</span><br><span class="line">    const &#123; permission &#125; = useStore();</span><br><span class="line">    permission.routes.forEach((route) =&gt; &#123;</span><br><span class="line">        const name = route.name;</span><br><span class="line">        if (name &amp;&amp; router.hasRoute(name)) &#123;</span><br><span class="line">            router.removeRoute(name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default router;</span><br></pre></td></tr></table></figure><h3 id="åˆ·æ–°è·¯ç”±æ—¶æƒé™"><a href="#åˆ·æ–°è·¯ç”±æ—¶æƒé™" class="headerlink" title="åˆ·æ–°è·¯ç”±æ—¶æƒé™"></a>åˆ·æ–°è·¯ç”±æ—¶æƒé™</h3><p><code>permission.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> useStore <span class="keyword">from</span> <span class="string">&#x27;@/store&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">NProgress</span> <span class="keyword">from</span> <span class="string">&#x27;nprogress&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;nprogress/nprogress.css&#x27;</span>;</span><br><span class="line"><span class="title class_">NProgress</span>.<span class="title function_">configure</span>(&#123; <span class="attr">showSpinner</span>: <span class="literal">false</span> &#125;); <span class="comment">// è¿›åº¦ç¯æ˜¾ç¤º/éšè—</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç™½åå•è·¯ç”±</span></span><br><span class="line"><span class="keyword">const</span> whiteList = [<span class="string">&#x27;/login&#x27;</span>, <span class="string">&#x27;/auth-redirect&#x27;</span>];</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="keyword">async</span> (to, <span class="keyword">from</span>, next) =&gt; &#123;</span><br><span class="line">  <span class="title class_">NProgress</span>.<span class="title function_">start</span>();</span><br><span class="line">  <span class="keyword">const</span> &#123; user, permission &#125; = <span class="title function_">useStore</span>();</span><br><span class="line">  <span class="keyword">const</span> hasToken = user.<span class="property">token</span>;</span><br><span class="line">  <span class="keyword">if</span> (hasToken) &#123;</span><br><span class="line">    <span class="comment">// ç™»å½•æˆåŠŸï¼Œè·³è½¬åˆ°é¦–é¡µ</span></span><br><span class="line">    <span class="keyword">if</span> (to.<span class="property">path</span> === <span class="string">&#x27;/login&#x27;</span>) &#123;</span><br><span class="line">      <span class="title function_">next</span>(&#123; <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span> &#125;);</span><br><span class="line">      <span class="title class_">NProgress</span>.<span class="title function_">done</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> hasGetUserInfo = user.<span class="property">roleNames</span>.<span class="property">length</span> &gt; <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">if</span> (hasGetUserInfo) &#123;</span><br><span class="line">        <span class="keyword">if</span> (to.<span class="property">matched</span>.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">from</span>.<span class="property">name</span> ? <span class="title function_">next</span>(&#123; <span class="attr">name</span>: <span class="keyword">from</span>.<span class="property">name</span> <span class="keyword">as</span> <span class="built_in">any</span> &#125;) : <span class="title function_">next</span>(<span class="string">&#x27;/401&#x27;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="title function_">next</span>();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          <span class="keyword">await</span> user.<span class="title function_">getUserInfo</span>();</span><br><span class="line">          <span class="keyword">const</span> roleNames = user.<span class="property">roleNames</span>;</span><br><span class="line">          <span class="keyword">const</span> <span class="attr">accessRoutes</span>: <span class="built_in">any</span> = <span class="keyword">await</span> permission.<span class="title function_">generateRoutes</span>(roleNames);</span><br><span class="line">          accessRoutes.<span class="title function_">forEach</span>(<span class="function">(<span class="params">route: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">            router.<span class="title function_">addRoute</span>(route);</span><br><span class="line">          &#125;);</span><br><span class="line">          <span class="title function_">next</span>(&#123; ...to, <span class="attr">replace</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">          <span class="comment">// ç§»é™¤ token å¹¶è·³è½¬ç™»å½•é¡µ</span></span><br><span class="line">          <span class="keyword">await</span> user.<span class="title function_">resetToken</span>();</span><br><span class="line">          <span class="title class_">ElMessage</span>.<span class="title function_">error</span>((error <span class="keyword">as</span> <span class="built_in">any</span>) || <span class="string">&#x27;Has Error&#x27;</span>);</span><br><span class="line">          <span class="title function_">next</span>(<span class="string">`/login?redirect=<span class="subst">$&#123;to.path&#125;</span>`</span>);</span><br><span class="line">          <span class="title class_">NProgress</span>.<span class="title function_">done</span>();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// æœªç™»å½•å¯ä»¥è®¿é—®ç™½åå•é¡µé¢(ç™»å½•é¡µé¢)</span></span><br><span class="line">    <span class="keyword">if</span> (whiteList.<span class="title function_">indexOf</span>(to.<span class="property">path</span>) !== -<span class="number">1</span>) &#123;</span><br><span class="line">      <span class="title function_">next</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">next</span>(<span class="string">`/login?redirect=<span class="subst">$&#123;to.path&#125;</span>`</span>);</span><br><span class="line">      <span class="title class_">NProgress</span>.<span class="title function_">done</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title class_">NProgress</span>.<span class="title function_">done</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><code>main.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·¯ç”±æƒé™</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@/permission&#x27;</span>;</span><br></pre></td></tr></table></figure><h2 id="åŠ¨æ€è·¯ç”±å¸ƒå±€"><a href="#åŠ¨æ€è·¯ç”±å¸ƒå±€" class="headerlink" title="åŠ¨æ€è·¯ç”±å¸ƒå±€"></a>åŠ¨æ€è·¯ç”±å¸ƒå±€</h2><h3 id="åŠ¨æ€è·¯ç”±å¸ƒå±€ç›¸å…³é¡µé¢"><a href="#åŠ¨æ€è·¯ç”±å¸ƒå±€ç›¸å…³é¡µé¢" class="headerlink" title="åŠ¨æ€è·¯ç”±å¸ƒå±€ç›¸å…³é¡µé¢"></a>åŠ¨æ€è·¯ç”±å¸ƒå±€ç›¸å…³é¡µé¢</h3><p>å…·ä½“è§æºç <code>src/layout</code>éƒ¨åˆ†</p><p><code>src/layout/index.vue</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div :class=&quot;classObj&quot; class=&quot;app-wrapper&quot;&gt;</span><br><span class="line">    &lt;div v-if=&quot;device === &#x27;mobile&#x27; &amp;&amp; sidebar.opened&quot; class=&quot;drawer-bg&quot; @click=&quot;handleClickOutside&quot; /&gt;</span><br><span class="line">    &lt;Sidebar class=&quot;sidebar-container&quot; /&gt;</span><br><span class="line">    &lt;div :class=&quot;&#123; hasTagsView: needTagsView &#125;&quot; class=&quot;main-container&quot;&gt;</span><br><span class="line">      &lt;div :class=&quot;&#123; &#x27;fixed-header&#x27;: true &#125;&quot;&gt;</span><br><span class="line">        &lt;navbar /&gt;</span><br><span class="line">        &lt;tags-view v-if=&quot;needTagsView&quot; /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;app-main /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; computed, watchEffect &#125; from &#x27;vue&#x27;;</span><br><span class="line">import &#123; useWindowSize &#125; from &#x27;@vueuse/core&#x27;;</span><br><span class="line">import &#123; AppMain, Navbar, TagsView &#125; from &#x27;./components/index&#x27;;</span><br><span class="line">import Sidebar from &#x27;./components/Sidebar/index.vue&#x27;;</span><br><span class="line"></span><br><span class="line">import useStore from &#x27;@/store&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">const &#123; width &#125; = useWindowSize();</span><br><span class="line">const WIDTH = 992;</span><br><span class="line"></span><br><span class="line">const &#123; app, setting &#125; = useStore();</span><br><span class="line"></span><br><span class="line">const sidebar = computed(() =&gt; app.sidebar);</span><br><span class="line">const device = computed(() =&gt; app.device);</span><br><span class="line">const needTagsView = computed(() =&gt; setting.tagsView);</span><br><span class="line"></span><br><span class="line">const classObj = computed(() =&gt; (&#123;</span><br><span class="line">  hideSidebar: !sidebar.value.opened,</span><br><span class="line">  openSidebar: sidebar.value.opened,</span><br><span class="line">  withoutAnimation: sidebar.value.withoutAnimation,</span><br><span class="line">  mobile: device.value === &#x27;mobile&#x27;,</span><br><span class="line">&#125;));</span><br><span class="line"></span><br><span class="line">watchEffect(() =&gt; &#123;</span><br><span class="line">  if (width.value &lt; WIDTH) &#123;</span><br><span class="line">    app.toggleDevice(&#x27;mobile&#x27;);</span><br><span class="line">    app.closeSideBar(true);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    app.toggleDevice(&#x27;desktop&#x27;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">function handleClickOutside() &#123;</span><br><span class="line">  app.closeSideBar(false);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">@import &#x27;@/styles/mixin.scss&#x27;;</span><br><span class="line">@import &#x27;@/styles/variables.module.scss&#x27;;</span><br><span class="line"></span><br><span class="line">.app-wrapper &#123;</span><br><span class="line">  @include clearfix;</span><br><span class="line">  position: relative;</span><br><span class="line">  height: 100%;</span><br><span class="line">  width: 100%;</span><br><span class="line"></span><br><span class="line">  &amp;.mobile.openSidebar &#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    top: 0;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.drawer-bg &#123;</span><br><span class="line">  background: #000;</span><br><span class="line">  opacity: 0.3;</span><br><span class="line">  width: 100%;</span><br><span class="line">  top: 0;</span><br><span class="line">  height: 100%;</span><br><span class="line">  position: absolute;</span><br><span class="line">  z-index: 999;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.fixed-header &#123;</span><br><span class="line">  position: fixed;</span><br><span class="line">  top: 0;</span><br><span class="line">  right: 0;</span><br><span class="line">  z-index: 9;</span><br><span class="line">  width: calc(100% - #&#123;$sideBarWidth&#125;);</span><br><span class="line">  transition: width 0.28s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.hideSidebar .fixed-header &#123;</span><br><span class="line">  width: calc(100% - 54px);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.mobile .fixed-header &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p><code>src/layout/parentView.vue</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;router-view /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;ParentView&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;&#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>src/layout/components/AppMain.vue</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;section class=&quot;app-main&quot;&gt;</span><br><span class="line">    &lt;router-view v-slot=&quot;&#123; Component, route &#125;&quot;&gt;</span><br><span class="line">      &lt;transition name=&quot;router-fade&quot; mode=&quot;out-in&quot;&gt;</span><br><span class="line">        &lt;keep-alive :include=&quot;cachedViews&quot;&gt;</span><br><span class="line">          &lt;component :is=&quot;Component&quot; :key=&quot;route.fullPath&quot; /&gt;</span><br><span class="line">        &lt;/keep-alive&gt;</span><br><span class="line">      &lt;/transition&gt;</span><br><span class="line">    &lt;/router-view&gt;</span><br><span class="line">  &lt;/section&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; computed &#125; from &#x27;vue&#x27;;</span><br><span class="line">import useStore from &#x27;@/store&#x27;;</span><br><span class="line"></span><br><span class="line">const &#123; tagsView &#125; = useStore();</span><br><span class="line"></span><br><span class="line">const cachedViews = computed(() =&gt; tagsView.cachedViews);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.app-main &#123;</span><br><span class="line">  min-height: calc(100vh - 50px);</span><br><span class="line">  width: 100%;</span><br><span class="line">  position: relative;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.fixed-header+.app-main &#123;</span><br><span class="line">  padding-top: 50px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.hasTagsView &#123;</span><br><span class="line">  .app-main &#123;</span><br><span class="line">    min-height: calc(100vh - 84px);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .fixed-header+.app-main &#123;</span><br><span class="line">    padding-top: 84px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot;&gt;</span><br><span class="line">.el-popup-parent--hidden &#123;</span><br><span class="line">  .fixed-header &#123;</span><br><span class="line">    padding-right: 15px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p><code>src/layout/components/index.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123; <span class="keyword">default</span> <span class="keyword">as</span> <span class="title class_">Navbar</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./Navbar.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> &#123; <span class="keyword">default</span> <span class="keyword">as</span> <span class="title class_">AppMain</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./AppMain.vue&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> &#123; <span class="keyword">default</span> <span class="keyword">as</span> <span class="title class_">TagsView</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./TagsView/index.vue&#x27;</span>;</span><br></pre></td></tr></table></figure><p><code>src/layout/components/Navbar.vue</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;navbar&quot;&gt;</span><br><span class="line">    &lt;hamburger id=&quot;hamburger-container&quot; :is-active=&quot;sidebar.opened&quot; class=&quot;hamburger-container&quot;</span><br><span class="line">      @toggleClick=&quot;toggleSideBar&quot; /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;breadcrumb id=&quot;breadcrumb-container&quot; class=&quot;breadcrumb-container&quot; /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;right-menu&quot;&gt;</span><br><span class="line">      &lt;el-dropdown class=&quot;avatar-container right-menu-item hover-effect&quot; trigger=&quot;click&quot;&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;el-avatar :src=&quot;avatarUrl&quot; /&gt;</span><br><span class="line">          &lt;div class=&quot;user-info&quot;&gt;</span><br><span class="line">            &lt;span&gt;&#123;&#123; nickname &#125;&#125;&lt;/span&gt;</span><br><span class="line">            &lt;CaretBottom style=&quot;width: 0.6em; height: 0.6em; margin-left: 5px&quot; /&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;template #dropdown&gt;</span><br><span class="line">          &lt;el-dropdown-menu&gt;</span><br><span class="line">            &lt;router-link to=&quot;/&quot;&gt;</span><br><span class="line">              &lt;el-dropdown-item&gt;é¦–é¡µ&lt;/el-dropdown-item&gt;</span><br><span class="line">            &lt;/router-link&gt;</span><br><span class="line">            &lt;router-link to=&quot;/system/personal-center&quot;&gt;</span><br><span class="line">              &lt;el-dropdown-item&gt;ä¸ªäººä¸­å¿ƒ&lt;/el-dropdown-item&gt;</span><br><span class="line">            &lt;/router-link&gt;</span><br><span class="line">            &lt;a target=&quot;_blank&quot; href=&quot;https://gitee.com/zhengqingya&quot;&gt;</span><br><span class="line">              &lt;el-dropdown-item&gt;Gitee&lt;/el-dropdown-item&gt;</span><br><span class="line">            &lt;/a&gt;</span><br><span class="line">            &lt;router-link to=&quot;/other/anonymity&quot;&gt;</span><br><span class="line">              &lt;el-dropdown-item&gt;æå»ºè®®&lt;/el-dropdown-item&gt;</span><br><span class="line">            &lt;/router-link&gt;</span><br><span class="line">            &lt;el-dropdown-item divided @click=&quot;logout&quot;&gt; é€€å‡º &lt;/el-dropdown-item&gt;</span><br><span class="line">          &lt;/el-dropdown-menu&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">      &lt;/el-dropdown&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; computed &#125; from &#x27;vue&#x27;;</span><br><span class="line">import &#123; useRoute, useRouter &#125; from &#x27;vue-router&#x27;;</span><br><span class="line">import &#123; ElMessageBox &#125; from &#x27;element-plus&#x27;;</span><br><span class="line"></span><br><span class="line">import useStore from &#x27;@/store&#x27;;</span><br><span class="line"></span><br><span class="line">// ç»„ä»¶ä¾èµ–</span><br><span class="line">import Breadcrumb from &#x27;@/components/Breadcrumb/index.vue&#x27;;</span><br><span class="line">import Hamburger from &#x27;@/components/Hamburger/index.vue&#x27;;</span><br><span class="line"></span><br><span class="line">const &#123; app, user, tagsView &#125; = useStore();</span><br><span class="line"></span><br><span class="line">const route = useRoute();</span><br><span class="line">const router = useRouter();</span><br><span class="line"></span><br><span class="line">const sidebar = computed(() =&gt; app.sidebar);</span><br><span class="line">const device = computed(() =&gt; app.device);</span><br><span class="line">const avatarUrl = computed(() =&gt; user.avatarUrl);</span><br><span class="line">const nickname = computed(() =&gt; user.nickname);</span><br><span class="line"></span><br><span class="line">function toggleSideBar() &#123;</span><br><span class="line">  app.toggleSidebar();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function logout() &#123;</span><br><span class="line">  ElMessageBox.confirm(&#x27;ç¡®å®šæ³¨é”€å¹¶é€€å‡ºç³»ç»Ÿå—ï¼Ÿ&#x27;, &#x27;æç¤º&#x27;, &#123;</span><br><span class="line">    confirmButtonText: &#x27;ç¡®å®š&#x27;,</span><br><span class="line">    cancelButtonText: &#x27;å–æ¶ˆ&#x27;,</span><br><span class="line">    type: &#x27;warning&#x27;,</span><br><span class="line">  &#125;).then(() =&gt; &#123;</span><br><span class="line">    user</span><br><span class="line">      .logout()</span><br><span class="line">      .then(() =&gt; &#123;</span><br><span class="line">        tagsView.delAllViews();</span><br><span class="line">      &#125;)</span><br><span class="line">      .then(() =&gt; &#123;</span><br><span class="line">        router.push(`/login?redirect=$&#123;route.fullPath&#125;`);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">ul &#123;</span><br><span class="line">  list-style: none;</span><br><span class="line">  margin: 0;</span><br><span class="line">  padding: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.navbar &#123;</span><br><span class="line">  height: 50px;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  position: relative;</span><br><span class="line">  background: $dark_main_color;</span><br><span class="line">  box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);</span><br><span class="line"></span><br><span class="line">  .hamburger-container &#123;</span><br><span class="line">    line-height: 46px;</span><br><span class="line">    height: 100%;</span><br><span class="line">    float: left;</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    transition: background 0.3s;</span><br><span class="line">    -webkit-tap-highlight-color: transparent;</span><br><span class="line"></span><br><span class="line">    &amp;:hover &#123;</span><br><span class="line">      background: rgba(0, 0, 0, 0.025);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .breadcrumb-container &#123;</span><br><span class="line">    float: left;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .right-menu &#123;</span><br><span class="line">    float: right;</span><br><span class="line">    height: 100%;</span><br><span class="line">    line-height: 50px;</span><br><span class="line"></span><br><span class="line">    &amp;:focus &#123;</span><br><span class="line">      outline: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .right-menu-item &#123;</span><br><span class="line">      display: inline-block;</span><br><span class="line">      padding: 0 8px;</span><br><span class="line">      height: 100%;</span><br><span class="line">      font-size: 18px;</span><br><span class="line">      color: #5a5e66;</span><br><span class="line">      vertical-align: text-bottom;</span><br><span class="line"></span><br><span class="line">      &amp;.hover-effect &#123;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">        transition: background 0.3s;</span><br><span class="line"></span><br><span class="line">        &amp;:hover &#123;</span><br><span class="line">          background: rgba(0, 0, 0, 0.025);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .avatar-container &#123;</span><br><span class="line">      margin-right: 60px;</span><br><span class="line"></span><br><span class="line">      .user-info &#123;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">        position: absolute;</span><br><span class="line">        right: -50px;</span><br><span class="line">        top: 15px;</span><br><span class="line">        font-size: 18px;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p><code>src/layout/components/Sidebar/index.vue</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div :class=&quot;&#123; &#x27;has-logo&#x27;: true &#125;&quot;&gt;</span><br><span class="line">    &lt;logo :collapse=&quot;isCollapse&quot; /&gt;</span><br><span class="line">    &lt;el-scrollbar wrap-class=&quot;scrollbar-wrapper&quot;&gt;</span><br><span class="line">      &lt;el-menu :default-active=&quot;activeMenu&quot; :collapse=&quot;isCollapse&quot; :background-color=&quot;variables.menuBg&quot;</span><br><span class="line">        :text-color=&quot;variables.menuText&quot; :active-text-color=&quot;variables.menuActiveText&quot; :unique-opened=&quot;true&quot;</span><br><span class="line">        :collapse-transition=&quot;false&quot; mode=&quot;vertical&quot;&gt;</span><br><span class="line">        &lt;sidebar-item v-for=&quot;route in routes&quot; :item=&quot;route&quot; :key=&quot;route.path&quot; :base-path=&quot;route.path&quot; /&gt;</span><br><span class="line">      &lt;/el-menu&gt;</span><br><span class="line">    &lt;/el-scrollbar&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; computed &#125; from &#x27;vue&#x27;;</span><br><span class="line">import &#123; useRoute &#125; from &#x27;vue-router&#x27;;</span><br><span class="line"></span><br><span class="line">import SidebarItem from &#x27;./SidebarItem.vue&#x27;;</span><br><span class="line">import Logo from &#x27;./Logo.vue&#x27;;</span><br><span class="line">import variables from &#x27;@/styles/variables.module.scss&#x27;;</span><br><span class="line">import useStore from &#x27;@/store&#x27;;</span><br><span class="line"></span><br><span class="line">const &#123; permission, app &#125; = useStore();</span><br><span class="line"></span><br><span class="line">const route = useRoute();</span><br><span class="line">const routes = computed(() =&gt; permission.routes);</span><br><span class="line">const isCollapse = computed(() =&gt; !app.sidebar.opened);</span><br><span class="line"></span><br><span class="line">const activeMenu = computed(() =&gt; &#123;</span><br><span class="line">  const &#123; meta, path &#125; = route;</span><br><span class="line">  // if set path, the sidebar will highlight the path you set</span><br><span class="line">  if (meta.activeMenu) &#123;</span><br><span class="line">    return meta.activeMenu as string;</span><br><span class="line">  &#125;</span><br><span class="line">  return path;</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><code>src/layout/components/Sidebar/Link.vue</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;a v-if=&quot;isExternal(to)&quot; :href=&quot;to&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;</span><br><span class="line">    &lt;slot /&gt;</span><br><span class="line">  &lt;/a&gt;</span><br><span class="line">  &lt;div v-else @click=&quot;push&quot;&gt;</span><br><span class="line">    &lt;slot /&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; computed, defineComponent &#125; from &#x27;vue&#x27;;</span><br><span class="line">import &#123; isExternal &#125; from &#x27;@/utils/validate&#x27;;</span><br><span class="line">import &#123; useRouter &#125; from &#x27;vue-router&#x27;;</span><br><span class="line"></span><br><span class="line">import useStore from &#x27;@/store&#x27;;</span><br><span class="line"></span><br><span class="line">const &#123; app &#125; = useStore();</span><br><span class="line"></span><br><span class="line">const sidebar = computed(() =&gt; app.sidebar);</span><br><span class="line">const device = computed(() =&gt; app.device);</span><br><span class="line"></span><br><span class="line">export default defineComponent(&#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    to: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      required: true,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  setup(props) &#123;</span><br><span class="line">    const router = useRouter();</span><br><span class="line">    const push = () =&gt; &#123;</span><br><span class="line">      if (device.value === &#x27;mobile&#x27; &amp;&amp; sidebar.value.opened == true) &#123;</span><br><span class="line">        app.closeSideBar(false);</span><br><span class="line">      &#125;</span><br><span class="line">      router.push(props.to).catch((err) =&gt; &#123;</span><br><span class="line">        console.log(err);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">    return &#123;</span><br><span class="line">      push,</span><br><span class="line">      isExternal,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><code>src/layout/components/Sidebar/Logo.vue</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;sidebar-logo-container&quot; :class=&quot;&#123; collapse: isCollapse &#125;&quot;&gt;</span><br><span class="line">    &lt;transition name=&quot;sidebarLogoFade&quot;&gt;</span><br><span class="line">      &lt;router-link</span><br><span class="line">        v-if=&quot;collapse&quot;</span><br><span class="line">        key=&quot;collapse&quot;</span><br><span class="line">        class=&quot;sidebar-logo-link&quot;</span><br><span class="line">        to=&quot;/&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;img v-if=&quot;logo&quot; :src=&quot;logo&quot; class=&quot;sidebar-logo&quot; /&gt;</span><br><span class="line">        &lt;h1 v-else class=&quot;sidebar-title&quot;&gt;&#123;&#123; title &#125;&#125;&lt;/h1&gt;</span><br><span class="line">      &lt;/router-link&gt;</span><br><span class="line">      &lt;router-link v-else key=&quot;expand&quot; class=&quot;sidebar-logo-link&quot; to=&quot;/&quot;&gt;</span><br><span class="line">        &lt;img v-if=&quot;logo&quot; :src=&quot;logo&quot; class=&quot;sidebar-logo&quot; /&gt;</span><br><span class="line">        &lt;h1 class=&quot;sidebar-title&quot;&gt;&#123;&#123; title &#125;&#125;&lt;/h1&gt;</span><br><span class="line">      &lt;/router-link&gt;</span><br><span class="line">    &lt;/transition&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; ref, reactive, toRefs &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">const props = defineProps(&#123;</span><br><span class="line">  collapse: &#123;</span><br><span class="line">    type: Boolean,</span><br><span class="line">    required: true,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const state = reactive(&#123;</span><br><span class="line">  isCollapse: props.collapse,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const &#123; isCollapse &#125; = toRefs(state);</span><br><span class="line"></span><br><span class="line">const title = ref(&#x27;Small Tools&#x27;);</span><br><span class="line">const logo = ref(</span><br><span class="line">  &#x27;https://wpimg.wallstcn.com/69a1c46c-eb1c-4b46-8bd4-e9e686ef5251.png&#x27;</span><br><span class="line">);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.sidebarLogoFade-enter-active &#123;</span><br><span class="line">  transition: opacity 1.5s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebarLogoFade-enter,</span><br><span class="line">.sidebarLogoFade-leave-to &#123;</span><br><span class="line">  opacity: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.sidebar-logo-container &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 50px;</span><br><span class="line">  line-height: 50px;</span><br><span class="line">  background: #00284c;</span><br><span class="line">  text-align: center;</span><br><span class="line">  overflow: hidden;</span><br><span class="line"></span><br><span class="line">  &amp; .sidebar-logo-link &#123;</span><br><span class="line">    height: 100%;</span><br><span class="line">    width: 100%;</span><br><span class="line"></span><br><span class="line">    &amp; .sidebar-logo &#123;</span><br><span class="line">      width: 32px;</span><br><span class="line">      height: 32px;</span><br><span class="line">      vertical-align: middle;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &amp; .sidebar-title &#123;</span><br><span class="line">      display: inline-block;</span><br><span class="line">      margin: 0;</span><br><span class="line">      color: #fff;</span><br><span class="line">      font-weight: 600;</span><br><span class="line">      line-height: 50px;</span><br><span class="line">      font-size: 14px;</span><br><span class="line">      font-family: Avenir, Helvetica Neue, Arial, Helvetica, sans-serif;</span><br><span class="line">      vertical-align: middle;</span><br><span class="line">      margin-left: 12px;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;.collapse &#123;</span><br><span class="line">    .sidebar-logo &#123;</span><br><span class="line">      margin-right: 0px;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p><code>src/layout/components/Sidebar/SidebarItem.vue</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div v-if=&quot;!item.hidden&quot;&gt;</span><br><span class="line">    &lt;template v-if=&quot;</span><br><span class="line">      hasOneShowingChild(item.children, item) &amp;&amp;</span><br><span class="line">      (!onlyOneChild.children || onlyOneChild.noShowingChildren) &amp;&amp;</span><br><span class="line">      (!item.meta || !item.meta.alwaysShow)</span><br><span class="line">    &quot;&gt;</span><br><span class="line">      &lt;app-link v-if=&quot;onlyOneChild.meta&quot; :to=&quot;resolvePath(onlyOneChild.path)&quot;&gt;</span><br><span class="line">        &lt;el-menu-item :index=&quot;resolvePath(onlyOneChild.path)&quot; :class=&quot;&#123; &#x27;submenu-title-noDropdown&#x27;: !isNest &#125;&quot;&gt;</span><br><span class="line">          &lt;el-icon v-if=&quot;onlyOneChild.meta &amp;&amp; onlyOneChild.meta.icon&quot;&gt;</span><br><span class="line">            &lt;component :is=&quot;onlyOneChild.meta.icon&quot; /&gt;</span><br><span class="line">          &lt;/el-icon&gt;</span><br><span class="line">          &lt;template #title&gt;</span><br><span class="line">            &#123;&#123; onlyOneChild.meta.title &#125;&#125;</span><br><span class="line">          &lt;/template&gt;</span><br><span class="line">        &lt;/el-menu-item&gt;</span><br><span class="line">      &lt;/app-link&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">    &lt;el-sub-menu v-else :index=&quot;resolvePath(item.path)&quot;&gt;</span><br><span class="line">      &lt;template #title&gt;</span><br><span class="line">        &lt;el-icon v-if=&quot;item.meta &amp;&amp; item.meta.icon&quot;&gt;</span><br><span class="line">          &lt;component :is=&quot;item.meta.icon&quot; /&gt;</span><br><span class="line">        &lt;/el-icon&gt;</span><br><span class="line">        &lt;span v-if=&quot;item.meta &amp;&amp; item.meta.title&quot;&gt;&#123;&#123;</span><br><span class="line">            item.meta.title</span><br><span class="line">        &#125;&#125;&lt;/span&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;sidebar-item v-for=&quot;child in item.children&quot; :key=&quot;child.path&quot; :item=&quot;child&quot; :is-nest=&quot;true&quot;</span><br><span class="line">        :base-path=&quot;resolvePath(child.path)&quot; class=&quot;nest-menu&quot; /&gt;</span><br><span class="line">    &lt;/el-sub-menu&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;;</span><br><span class="line">import path from &#x27;path-browserify&#x27;;</span><br><span class="line">import &#123; isExternal &#125; from &#x27;@/utils/validate&#x27;;</span><br><span class="line">import AppLink from &#x27;./Link.vue&#x27;;</span><br><span class="line"></span><br><span class="line">const props = defineProps(&#123;</span><br><span class="line">  item: &#123;</span><br><span class="line">    type: Object,</span><br><span class="line">    required: true,</span><br><span class="line">  &#125;,</span><br><span class="line">  isNest: &#123;</span><br><span class="line">    type: Boolean,</span><br><span class="line">    required: false,</span><br><span class="line">  &#125;,</span><br><span class="line">  basePath: &#123;</span><br><span class="line">    type: String,</span><br><span class="line">    required: true,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">const onlyOneChild = ref();</span><br><span class="line"></span><br><span class="line">function hasOneShowingChild(children = [] as any, parent: any) &#123;</span><br><span class="line">  if (!children) &#123;</span><br><span class="line">    children = [];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  const showingChildren = children.filter((item: any) =&gt; &#123;</span><br><span class="line">    if (item.meta &amp;&amp; item.meta.hidden) &#123;</span><br><span class="line">      return false;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      // Temp set(will be used if only has one showing child)</span><br><span class="line">      onlyOneChild.value = item;</span><br><span class="line">      return true;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  // When there is only one child router, the child router is displayed by default</span><br><span class="line">  if (showingChildren.length === 1) &#123;</span><br><span class="line">    return true;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // Show parent if there are no child router to display</span><br><span class="line">  if (showingChildren.length === 0) &#123;</span><br><span class="line">    onlyOneChild.value = &#123; ...parent, path: &#x27;&#x27;, noShowingChildren: true &#125;;</span><br><span class="line">    return true;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return false;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function resolvePath(routePath: string) &#123;</span><br><span class="line">  if (isExternal(routePath)) &#123;</span><br><span class="line">    return routePath;</span><br><span class="line">  &#125;</span><br><span class="line">  if (isExternal(props.basePath)) &#123;</span><br><span class="line">    return props.basePath;</span><br><span class="line">  &#125;</span><br><span class="line">  return path.resolve(props.basePath, routePath);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p><code>src/layout/components/TagsView/index.vue</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;tags-view__container&quot;&gt;</span><br><span class="line">    &lt;scroll-pane ref=&quot;scrollPaneRef&quot; class=&quot;tags-view__wrapper&quot; @scroll=&quot;handleScroll&quot;&gt;</span><br><span class="line">      &lt;router-link v-for=&quot;tag in visitedViews&quot; :key=&quot;tag.path&quot; :data-path=&quot;tag.path&quot;</span><br><span class="line">        :class=&quot;isActive(tag) ? &#x27;active&#x27; : &#x27;&#x27;&quot; :to=&quot;&#123; path: tag.path, query: tag.query &#125;&quot; class=&quot;tags-view__item&quot;</span><br><span class="line">        @click.middle=&quot;!isAffix(tag) ? closeSelectedTag(tag) : &#x27;&#x27;&quot; @contextmenu.prevent=&quot;openMenu(tag, $event)&quot;&gt;</span><br><span class="line">        &#123;&#123; tag.meta.title &#125;&#125;</span><br><span class="line">        &lt;span v-if=&quot;!isAffix(tag)&quot; class=&quot;icon-close&quot; @click.prevent.stop=&quot;closeSelectedTag(tag)&quot;&gt;</span><br><span class="line">          &lt;svg-icon icon-class=&quot;close&quot; /&gt;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">      &lt;/router-link&gt;</span><br><span class="line">    &lt;/scroll-pane&gt;</span><br><span class="line">    &lt;ul v-show=&quot;visible&quot; :style=&quot;&#123; left: left + &#x27;px&#x27;, top: top + &#x27;px&#x27; &#125;&quot; class=&quot;tags-view__menu&quot;&gt;</span><br><span class="line">      &lt;li @click=&quot;refreshSelectedTag(selectedTag)&quot;&gt;</span><br><span class="line">        åˆ·æ–°</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">      &lt;li v-if=&quot;!isAffix(selectedTag)&quot; @click=&quot;closeSelectedTag(selectedTag)&quot;&gt;</span><br><span class="line">        å…³é—­</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">      &lt;li @click=&quot;closeOtherTags&quot;&gt;</span><br><span class="line">        å…³é—­å…¶å®ƒ</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">      &lt;li v-if=&quot;!isFirstView()&quot; @click=&quot;closeLeftTags&quot;&gt;</span><br><span class="line">        å…³é—­å·¦ä¾§</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">      &lt;li v-if=&quot;!isLastView()&quot; @click=&quot;closeRightTags&quot;&gt;</span><br><span class="line">        å…³é—­å³ä¾§</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">      &lt;li @click=&quot;closeAllTags(selectedTag)&quot;&gt;</span><br><span class="line">        å…³é—­æ‰€æœ‰</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123;</span><br><span class="line">  computed,</span><br><span class="line">  getCurrentInstance,</span><br><span class="line">  nextTick,</span><br><span class="line">  ref,</span><br><span class="line">  watch,</span><br><span class="line">  onMounted,</span><br><span class="line">  ComponentInternalInstance,</span><br><span class="line">&#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">import path from &#x27;path-browserify&#x27;;</span><br><span class="line"></span><br><span class="line">import &#123; useRoute, useRouter &#125; from &#x27;vue-router&#x27;;</span><br><span class="line">import &#123; TagView &#125; from &#x27;@/types/store/tagsview&#x27;;</span><br><span class="line"></span><br><span class="line">import ScrollPane from &#x27;./ScrollPane.vue&#x27;;</span><br><span class="line">import useStore from &#x27;@/store&#x27;;</span><br><span class="line"></span><br><span class="line">const &#123; tagsView, permission &#125; = useStore();</span><br><span class="line"></span><br><span class="line">const &#123; proxy &#125; = getCurrentInstance() as ComponentInternalInstance;</span><br><span class="line">const router = useRouter();</span><br><span class="line">const route = useRoute();</span><br><span class="line"></span><br><span class="line">const visitedViews = computed&lt;any&gt;(() =&gt; tagsView.visitedViews);</span><br><span class="line">const routes = computed&lt;any&gt;(() =&gt; permission.routes);</span><br><span class="line"></span><br><span class="line">const affixTags = ref([]);</span><br><span class="line">const visible = ref(false);</span><br><span class="line">const selectedTag = ref(&#123;&#125;);</span><br><span class="line">const scrollPaneRef = ref();</span><br><span class="line">const left = ref(0);</span><br><span class="line">const top = ref(0);</span><br><span class="line"></span><br><span class="line">watch(</span><br><span class="line">  route,</span><br><span class="line">  () =&gt; &#123;</span><br><span class="line">    addTags();</span><br><span class="line">    moveToCurrentTag();</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    //åˆå§‹åŒ–ç«‹å³æ‰§è¡Œ</span><br><span class="line">    immediate: true,</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">watch(visible, (value) =&gt; &#123;</span><br><span class="line">  if (value) &#123;</span><br><span class="line">    document.body.addEventListener(&#x27;click&#x27;, closeMenu);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    document.body.removeEventListener(&#x27;click&#x27;, closeMenu);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">function filterAffixTags(routes: any[], basePath = &#x27;/&#x27;) &#123;</span><br><span class="line">  let tags: TagView[] = [];</span><br><span class="line"></span><br><span class="line">  routes.forEach((route) =&gt; &#123;</span><br><span class="line">    if (route.meta &amp;&amp; route.meta.affix) &#123;</span><br><span class="line">      const tagPath = path.resolve(basePath, route.path);</span><br><span class="line">      tags.push(&#123;</span><br><span class="line">        fullPath: tagPath,</span><br><span class="line">        path: tagPath,</span><br><span class="line">        name: route.name,</span><br><span class="line">        meta: &#123; ...route.meta &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (route.children) &#123;</span><br><span class="line">      const childTags = filterAffixTags(route.children, route.path);</span><br><span class="line">      if (childTags.length &gt;= 1) &#123;</span><br><span class="line">        tags = tags.concat(childTags);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  return tags;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function initTags() &#123;</span><br><span class="line">  const res = filterAffixTags(routes.value) as [];</span><br><span class="line">  affixTags.value = res;</span><br><span class="line">  for (const tag of res) &#123;</span><br><span class="line">    // Must have tag name</span><br><span class="line">    if ((tag as TagView).name) &#123;</span><br><span class="line">      tagsView.addVisitedView(tag);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function addTags() &#123;</span><br><span class="line">  if (route.name) &#123;</span><br><span class="line">    tagsView.addView(route);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function moveToCurrentTag() &#123;</span><br><span class="line">  nextTick(() =&gt; &#123;</span><br><span class="line">    for (const r of visitedViews.value) &#123;</span><br><span class="line">      if (r.path === route.path) &#123;</span><br><span class="line">        scrollPaneRef.value.moveToTarget(r);</span><br><span class="line">        // when query is different then update</span><br><span class="line">        if (r.fullPath !== route.fullPath) &#123;</span><br><span class="line">          tagsView.updateVisitedView(route);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function isActive(tag: TagView) &#123;</span><br><span class="line">  return tag.path === route.path;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function isAffix(tag: TagView) &#123;</span><br><span class="line">  return tag.meta &amp;&amp; tag.meta.affix;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function isFirstView() &#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    return (</span><br><span class="line">      (selectedTag.value as TagView).fullPath ===</span><br><span class="line">      visitedViews.value[1].fullPath ||</span><br><span class="line">      (selectedTag.value as TagView).fullPath === &#x27;/index&#x27;</span><br><span class="line">    );</span><br><span class="line">  &#125; catch (err) &#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function isLastView() &#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    return (</span><br><span class="line">      (selectedTag.value as TagView).fullPath ===</span><br><span class="line">      visitedViews.value[visitedViews.value.length - 1].fullPath</span><br><span class="line">    );</span><br><span class="line">  &#125; catch (err) &#123;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function refreshSelectedTag(view: TagView) &#123;</span><br><span class="line">  tagsView.delCachedView(view);</span><br><span class="line">  const &#123; fullPath &#125; = view;</span><br><span class="line">  nextTick(() =&gt; &#123;</span><br><span class="line">    router.replace(&#123; path: &#x27;/redirect&#x27; + fullPath &#125;).catch((err) =&gt; &#123;</span><br><span class="line">      console.warn(err);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function toLastView(visitedViews: TagView[], view?: any) &#123;</span><br><span class="line">  const latestView = visitedViews.slice(-1)[0];</span><br><span class="line">  if (latestView &amp;&amp; latestView.fullPath) &#123;</span><br><span class="line">    router.push(latestView.fullPath);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    // now the default is to redirect to the home page if there is no tags-view,</span><br><span class="line">    // you can adjust it according to your needs.</span><br><span class="line">    if (view.name === &#x27;Dashboard&#x27;) &#123;</span><br><span class="line">      // to reload home page</span><br><span class="line">      router.replace(&#123; path: &#x27;/redirect&#x27; + view.fullPath &#125;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      router.push(&#x27;/&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function closeSelectedTag(view: TagView) &#123;</span><br><span class="line">  tagsView.delView(view).then((res: any) =&gt; &#123;</span><br><span class="line">    if (isActive(view)) &#123;</span><br><span class="line">      toLastView(res.visitedViews, view);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function closeLeftTags() &#123;</span><br><span class="line">  tagsView.delLeftViews(selectedTag.value).then((res: any) =&gt; &#123;</span><br><span class="line">    if (</span><br><span class="line">      !res.visitedViews.find((item: any) =&gt; item.fullPath === route.fullPath)</span><br><span class="line">    ) &#123;</span><br><span class="line">      toLastView(res.visitedViews);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">function closeRightTags() &#123;</span><br><span class="line">  tagsView.delRightViews(selectedTag.value).then((res: any) =&gt; &#123;</span><br><span class="line">    if (</span><br><span class="line">      !res.visitedViews.find((item: any) =&gt; item.fullPath === route.fullPath)</span><br><span class="line">    ) &#123;</span><br><span class="line">      toLastView(res.visitedViews);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function closeOtherTags() &#123;</span><br><span class="line">  router.push(selectedTag.value);</span><br><span class="line">  tagsView.delOtherViews(selectedTag.value).then(() =&gt; &#123;</span><br><span class="line">    moveToCurrentTag();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function closeAllTags(view: TagView) &#123;</span><br><span class="line">  tagsView.delAllViews().then((res: any) =&gt; &#123;</span><br><span class="line">    toLastView(res.visitedViews, view);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function openMenu(tag: TagView, e: MouseEvent) &#123;</span><br><span class="line">  const menuMinWidth = 105;</span><br><span class="line">  const offsetLeft = proxy?.$el.getBoundingClientRect().left; // container margin left</span><br><span class="line">  const offsetWidth = proxy?.$el.offsetWidth; // container width</span><br><span class="line">  const maxLeft = offsetWidth - menuMinWidth; // left boundary</span><br><span class="line">  const l = e.clientX - offsetLeft + 15; // 15: margin right</span><br><span class="line"></span><br><span class="line">  if (l &gt; maxLeft) &#123;</span><br><span class="line">    left.value = maxLeft;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    left.value = l;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  top.value = e.clientY;</span><br><span class="line">  visible.value = true;</span><br><span class="line">  selectedTag.value = tag;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function closeMenu() &#123;</span><br><span class="line">  visible.value = false;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function handleScroll() &#123;</span><br><span class="line">  closeMenu();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">  initTags();</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.tags-view__container &#123;</span><br><span class="line">  height: 34px;</span><br><span class="line">  width: 100%;</span><br><span class="line">  background: $dark_main_color;</span><br><span class="line">  border-bottom: 1px solid #d8dce5;</span><br><span class="line">  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12), 0 0 3px 0 rgba(0, 0, 0, 0.04);</span><br><span class="line"></span><br><span class="line">  .tags-view__wrapper &#123;</span><br><span class="line">    .tags-view__item &#123;</span><br><span class="line">      display: inline-block;</span><br><span class="line">      position: relative;</span><br><span class="line">      cursor: pointer;</span><br><span class="line">      height: 26px;</span><br><span class="line">      line-height: 26px;</span><br><span class="line">      border: 1px solid #d8dce5;</span><br><span class="line">      color: #495060;</span><br><span class="line">      background: $dark_main_color;</span><br><span class="line">      padding: 0 8px;</span><br><span class="line">      font-size: 12px;</span><br><span class="line">      margin-left: 5px;</span><br><span class="line">      margin-top: 4px;</span><br><span class="line"></span><br><span class="line">      &amp;:first-of-type &#123;</span><br><span class="line">        margin-left: 15px;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      &amp;:last-of-type &#123;</span><br><span class="line">        margin-right: 15px;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      &amp;:hover &#123;</span><br><span class="line">        color: var(--el-color-primary);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      &amp;.active &#123;</span><br><span class="line">        background-color: var(--el-color-primary);</span><br><span class="line">        color: var(--el-color-primary-light-9);</span><br><span class="line">        border-color: var(--el-color-primary);</span><br><span class="line"></span><br><span class="line">        &amp;::before &#123;</span><br><span class="line">          content: &#x27;&#x27;;</span><br><span class="line">          background: #fff;</span><br><span class="line">          display: inline-block;</span><br><span class="line">          width: 8px;</span><br><span class="line">          height: 8px;</span><br><span class="line">          border-radius: 50%;</span><br><span class="line">          position: relative;</span><br><span class="line">          margin-right: 5px;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      .icon-close &#123;</span><br><span class="line">        border-radius: 50%;</span><br><span class="line">        text-align: center;</span><br><span class="line"></span><br><span class="line">        &amp;:hover &#123;</span><br><span class="line">          background-color: #ccc;</span><br><span class="line">          color: #fff;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .tags-view__menu &#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">    background: $dark_main_color;</span><br><span class="line">    z-index: 3000;</span><br><span class="line">    position: absolute;</span><br><span class="line">    list-style-type: none;</span><br><span class="line">    padding: 5px 0;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    font-weight: 400;</span><br><span class="line">    // color: #333;</span><br><span class="line">    box-shadow: 2px 2px 3px 0 rgba(0, 0, 0, 0.3);</span><br><span class="line"></span><br><span class="line">    li &#123;</span><br><span class="line">      margin: 0;</span><br><span class="line">      padding: 7px 16px;</span><br><span class="line">      cursor: pointer;</span><br><span class="line"></span><br><span class="line">      &amp;:hover &#123;</span><br><span class="line">        background: rgb(77, 156, 130);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p><code>src/layout/components/TagsView/ScrollPane.vue</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-scrollbar</span><br><span class="line">    ref=&quot;scrollContainer&quot;</span><br><span class="line">    :vertical=&quot;false&quot;</span><br><span class="line">    class=&quot;scroll-container&quot;</span><br><span class="line">    @wheel.prevent=&quot;handleScroll&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &lt;slot /&gt;</span><br><span class="line">  &lt;/el-scrollbar&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">import &#123;</span><br><span class="line">  ref,</span><br><span class="line">  computed,</span><br><span class="line">  onMounted,</span><br><span class="line">  onBeforeUnmount,</span><br><span class="line">  getCurrentInstance,</span><br><span class="line">&#125; from &#x27;vue&#x27;;</span><br><span class="line">import &#123; TagView &#125; from &#x27;@/types/store/tagsview&#x27;;</span><br><span class="line">import useStore from &#x27;@/store&#x27;;</span><br><span class="line"></span><br><span class="line">const tagAndTagSpacing = ref(4);</span><br><span class="line">const &#123; proxy &#125; = getCurrentInstance() as any;</span><br><span class="line"></span><br><span class="line">const emits = defineEmits([&#x27;scroll&#x27;]);</span><br><span class="line">const emitScroll = () =&gt; &#123;</span><br><span class="line">  emits(&#x27;scroll&#x27;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const &#123; tagsView &#125; = useStore();</span><br><span class="line"></span><br><span class="line">const visitedViews = computed(() =&gt; tagsView.visitedViews);</span><br><span class="line"></span><br><span class="line">const scrollWrapper = computed(() =&gt; proxy?.$refs.scrollContainer.$refs.wrap$);</span><br><span class="line"></span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">  scrollWrapper.value.addEventListener(&#x27;scroll&#x27;, emitScroll, true);</span><br><span class="line">&#125;);</span><br><span class="line">onBeforeUnmount(() =&gt; &#123;</span><br><span class="line">  scrollWrapper.value.removeEventListener(&#x27;scroll&#x27;, emitScroll);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">function handleScroll(e: WheelEvent) &#123;</span><br><span class="line">  const eventDelta = (e as any).wheelDelta || -e.deltaY * 40;</span><br><span class="line">  scrollWrapper.value.scrollLeft =</span><br><span class="line">    scrollWrapper.value.scrollLeft + eventDelta / 4;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function moveToTarget(currentTag: TagView) &#123;</span><br><span class="line">  const $container = proxy.$refs.scrollContainer.$el;</span><br><span class="line">  const $containerWidth = $container.offsetWidth;</span><br><span class="line">  const $scrollWrapper = scrollWrapper.value;</span><br><span class="line"></span><br><span class="line">  let firstTag = null;</span><br><span class="line">  let lastTag = null;</span><br><span class="line"></span><br><span class="line">  // find first tag and last tag</span><br><span class="line">  if (visitedViews.value.length &gt; 0) &#123;</span><br><span class="line">    firstTag = visitedViews.value[0];</span><br><span class="line">    lastTag = visitedViews.value[visitedViews.value.length - 1];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  if (firstTag === currentTag) &#123;</span><br><span class="line">    $scrollWrapper.scrollLeft = 0;</span><br><span class="line">  &#125; else if (lastTag === currentTag) &#123;</span><br><span class="line">    $scrollWrapper.scrollLeft = $scrollWrapper.scrollWidth - $containerWidth;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    const tagListDom = document.getElementsByClassName(&#x27;tags-view__item&#x27;);</span><br><span class="line">    const currentIndex = visitedViews.value.findIndex(</span><br><span class="line">      (item) =&gt; item === currentTag</span><br><span class="line">    );</span><br><span class="line">    let prevTag = null;</span><br><span class="line">    let nextTag = null;</span><br><span class="line">    for (const k in tagListDom) &#123;</span><br><span class="line">      if (k !== &#x27;length&#x27; &amp;&amp; Object.hasOwnProperty.call(tagListDom, k)) &#123;</span><br><span class="line">        if (</span><br><span class="line">          (tagListDom[k] as any).dataset.path ===</span><br><span class="line">          visitedViews.value[currentIndex - 1].path</span><br><span class="line">        ) &#123;</span><br><span class="line">          prevTag = tagListDom[k];</span><br><span class="line">        &#125;</span><br><span class="line">        if (</span><br><span class="line">          (tagListDom[k] as any).dataset.path ===</span><br><span class="line">          visitedViews.value[currentIndex + 1].path</span><br><span class="line">        ) &#123;</span><br><span class="line">          nextTag = tagListDom[k];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // the tag&#x27;s offsetLeft after of nextTag</span><br><span class="line">    const afterNextTagOffsetLeft =</span><br><span class="line">      (nextTag as any).offsetLeft +</span><br><span class="line">      (nextTag as any).offsetWidth +</span><br><span class="line">      tagAndTagSpacing.value;</span><br><span class="line"></span><br><span class="line">    // the tag&#x27;s offsetLeft before of prevTag</span><br><span class="line">    const beforePrevTagOffsetLeft =</span><br><span class="line">      (prevTag as any).offsetLeft - tagAndTagSpacing.value;</span><br><span class="line">    if (afterNextTagOffsetLeft &gt; $scrollWrapper.scrollLeft + $containerWidth) &#123;</span><br><span class="line">      $scrollWrapper.scrollLeft = afterNextTagOffsetLeft - $containerWidth;</span><br><span class="line">    &#125; else if (beforePrevTagOffsetLeft &lt; $scrollWrapper.scrollLeft) &#123;</span><br><span class="line">      $scrollWrapper.scrollLeft = beforePrevTagOffsetLeft;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">defineExpose(&#123;</span><br><span class="line">  moveToTarget,</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.scroll-container &#123;</span><br><span class="line">  .el-scrollbar__bar &#123;</span><br><span class="line">    bottom: 0px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .el-scrollbar__wrap &#123;</span><br><span class="line">    height: 49px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.scroll-container &#123;</span><br><span class="line">  white-space: nowrap;</span><br><span class="line">  position: relative;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><hr><h2 id="æŒ‰é’®æƒé™"><a href="#æŒ‰é’®æƒé™" class="headerlink" title="æŒ‰é’®æƒé™"></a>æŒ‰é’®æƒé™</h2><h3 id="è‡ªå®šä¹‰æŒ‡ä»¤-æŒ‰é’®æƒé™"><a href="#è‡ªå®šä¹‰æŒ‡ä»¤-æŒ‰é’®æƒé™" class="headerlink" title="è‡ªå®šä¹‰æŒ‡ä»¤ - æŒ‰é’®æƒé™"></a>è‡ªå®šä¹‰æŒ‡ä»¤ - æŒ‰é’®æƒé™</h3><p><code>src/directive/permission/index.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> useStore <span class="keyword">from</span> <span class="string">&#x27;@/store&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Directive</span>, <span class="title class_">DirectiveBinding</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è‡ªå®šä¹‰æƒé™æŒ‡ä»¤`v-hasPerm` `v-hasRole`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŒ‰é’®æƒé™æ ¡éªŒ</span></span><br><span class="line"><span class="comment"> * array :  v-hasPerm=&quot;[&#x27;sys:user:add&#x27;,&#x27;sys:user:edit&#x27;]&quot;</span></span><br><span class="line"><span class="comment"> * single : v-hasPerm=&quot;&#x27;sys:user:add&#x27;&quot;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">hasPerm</span>: <span class="title class_">Directive</span> = &#123;</span><br><span class="line">  <span class="title function_">mounted</span>(<span class="params">el: HTMLElement, binding: DirectiveBinding</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; user &#125; = <span class="title function_">useStore</span>();</span><br><span class="line">    <span class="keyword">const</span> &#123; value &#125; = binding;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å½“å‰è·¯ç”±</span></span><br><span class="line">    <span class="keyword">const</span> currentRouteUrl = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">hash</span>.<span class="title function_">replace</span>(<span class="string">&#x27;#/&#x27;</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å½“å‰è·¯ç”±ï¼š&#x27;</span>, currentRouteUrl)</span><br><span class="line">    <span class="keyword">const</span> btnPermList = <span class="title function_">getBtnPermList</span>(currentRouteUrl, user.<span class="property">permissionTreeList</span>, [])</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ‹¥æœ‰çš„æŒ‰é’®æƒé™ï¼š&#x27;</span>, btnPermList);</span><br><span class="line">    <span class="keyword">if</span> (value) &#123;</span><br><span class="line">      <span class="comment">// DOMç»‘å®šéœ€è¦çš„æŒ‰é’®æƒé™æ ‡è¯†</span></span><br><span class="line">      <span class="keyword">const</span> requiredPerms = value <span class="keyword">instanceof</span> <span class="title class_">Array</span> ? value : [value];</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;éœ€è¦çš„æŒ‰é’®æƒé™ï¼š&#x27;</span>, requiredPerms);</span><br><span class="line">      <span class="keyword">const</span> hasPerm = btnPermList.<span class="title function_">some</span>(<span class="function"><span class="params">btnPerm</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> requiredPerms.<span class="title function_">includes</span>(btnPerm);</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">if</span> (!hasPerm) &#123;</span><br><span class="line">        el.<span class="property">parentNode</span> &amp;&amp; el.<span class="property">parentNode</span>.<span class="title function_">removeChild</span>(el);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(</span><br><span class="line">        <span class="string">&quot;need perms! Like v-has-perm=\&quot;[&#x27;sys:user:add&#x27;,&#x27;sys:user:edit&#x27;]\&quot;&quot;</span></span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–å½“å‰è·¯ç”±ä¸‹çš„æŒ‰é’®æƒé™</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> currentRouteUrl å½“å‰è·¯ç”±url ex: system/user/index</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> permissionTreeList æƒé™èœå•æ ‘</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> btnPermList æŒ‰é’®æƒé™</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> æŒ‰é’®æƒé™</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getBtnPermList</span>(<span class="params">currentRouteUrl: <span class="built_in">string</span>, permissionTreeList: <span class="built_in">any</span>, btnPermList: <span class="built_in">Array</span>&lt;<span class="built_in">string</span>&gt;</span>): <span class="title class_">Array</span>&lt;<span class="built_in">string</span>&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (permissionTreeList) &#123;</span><br><span class="line">    permissionTreeList.<span class="title function_">forEach</span>(<span class="function">(<span class="params">e: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">      meta: <span class="built_in">any</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">      component: <span class="built_in">string</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">      children: <span class="built_in">any</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (e.<span class="property">component</span> === currentRouteUrl || e.<span class="property">component</span> === currentRouteUrl + <span class="string">&#x27;/index&#x27;</span>) &#123;</span><br><span class="line">        e.<span class="property">meta</span>.<span class="property">btnPermList</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">btnPerm: <span class="built_in">string</span></span>) =&gt;</span> &#123;</span><br><span class="line">          btnPermList.<span class="title function_">push</span>(btnPerm)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">const</span> childList = e.<span class="property">children</span></span><br><span class="line">      <span class="keyword">if</span> (childList) &#123;</span><br><span class="line">        <span class="title function_">getBtnPermList</span>(currentRouteUrl, childList, btnPermList)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> btnPermList</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> btnPermList</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è§’è‰²æƒé™æ ¡éªŒ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">hasRole</span>: <span class="title class_">Directive</span> = &#123;</span><br><span class="line">  <span class="title function_">mounted</span>(<span class="params">el: HTMLElement, binding: DirectiveBinding</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; value &#125; = binding;</span><br><span class="line">    <span class="keyword">if</span> (value) &#123;</span><br><span class="line">      <span class="comment">// DOMç»‘å®šéœ€è¦çš„è§’è‰²ç¼–ç </span></span><br><span class="line">      <span class="keyword">const</span> requiredRoles = value;</span><br><span class="line">      <span class="keyword">const</span> &#123; user &#125; = <span class="title function_">useStore</span>();</span><br><span class="line">      <span class="keyword">const</span> hasRole = user.<span class="property">roleNames</span>.<span class="title function_">some</span>(<span class="function">(<span class="params">perm</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> requiredRoles.<span class="title function_">includes</span>(perm);</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">if</span> (!hasRole) &#123;</span><br><span class="line">        el.<span class="property">parentNode</span> &amp;&amp; el.<span class="property">parentNode</span>.<span class="title function_">removeChild</span>(el);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;need roles! Like v-has-role=\&quot;[&#x27;admin&#x27;,&#x27;test&#x27;]\&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><code>src/directive/index.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123; hasPerm, hasRole &#125; <span class="keyword">from</span> <span class="string">&#x27;./permission&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="æ³¨å†Œè‡ªå®šä¹‰æŒ‡ä»¤"><a href="#æ³¨å†Œè‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="æ³¨å†Œè‡ªå®šä¹‰æŒ‡ä»¤"></a>æ³¨å†Œè‡ªå®šä¹‰æŒ‡ä»¤</h3><p><code>main.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è‡ªå®šä¹‰æŒ‡ä»¤(æŒ‰é’®æƒé™)</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> directive <span class="keyword">from</span> <span class="string">&#x27;@/directive&#x27;</span>;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">keys</span>(directive).<span class="title function_">forEach</span>(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">  app.<span class="title function_">directive</span>(key, (directive <span class="keyword">as</span> &#123; [<span class="attr">key</span>: <span class="built_in">string</span>]: <span class="title class_">Directive</span> &#125;)[key]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="é¡µé¢ä½¿ç”¨demo"><a href="#é¡µé¢ä½¿ç”¨demo" class="headerlink" title="é¡µé¢ä½¿ç”¨demo"></a>é¡µé¢ä½¿ç”¨demo</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-button v-hasPerm=&quot;&#x27;add&#x27;&quot; type=&quot;primary&quot; @click=&quot;handleCreate&quot;&gt;æ·»åŠ &lt;/el-button&gt;</span><br></pre></td></tr></table></figure><hr><h2 id="debugè°ƒè¯•"><a href="#debugè°ƒè¯•" class="headerlink" title="debugè°ƒè¯•"></a>debugè°ƒè¯•</h2><h3 id="æ–¹å¼ä¸€ï¼šdebugger"><a href="#æ–¹å¼ä¸€ï¼šdebugger" class="headerlink" title="æ–¹å¼ä¸€ï¼šdebugger"></a>æ–¹å¼ä¸€ï¼š<code>debugger</code></h3><ol><li>ä»£ç ä¸­æ·»åŠ <code>debugger</code></li><li>æµè§ˆå™¨<code>F12</code> å³å¯è¿›å…¥è°ƒè¯•</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">refreshTableData</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">debugger</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">baseTable</span>.<span class="title function_">refresh</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ–¹å¼äºŒï¼švscode"><a href="#æ–¹å¼äºŒï¼švscode" class="headerlink" title="æ–¹å¼äºŒï¼švscode"></a>æ–¹å¼äºŒï¼švscode</h3><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20240305180250.png"></p><p><code>launch.json</code></p><blockquote><p>æœ‰ä¸ªè¿™ä¸ªæ–‡ä»¶åï¼Œå¯ç›´æ¥åœ¨vscodeä¸­F5æ‰“å¼€å½“å‰æœåŠ¡</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pwa-chrome&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Launch Chrome against localhost&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://127.0.0.1:5173&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;webRoot&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="æ–¹å¼ä¸‰ï¼šè°·æ­Œæ’ä»¶Vue-js-devtools"><a href="#æ–¹å¼ä¸‰ï¼šè°·æ­Œæ’ä»¶Vue-js-devtools" class="headerlink" title="æ–¹å¼ä¸‰ï¼šè°·æ­Œæ’ä»¶Vue.js devtools"></a>æ–¹å¼ä¸‰ï¼šè°·æ­Œæ’ä»¶<code>Vue.js devtools</code></h3><blockquote><p><a href="https://chrome.google.com/webstore/detail/vuejs-devtools/ljjemllljcmogpfapbkkighbhhppjdbg">https://chrome.google.com/webstore/detail/vuejs-devtools/ljjemllljcmogpfapbkkighbhhppjdbg</a></p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20240305180319.png"></p><h3 id="æ–¹å¼å››ï¼šæµè§ˆå™¨F12-æºä»£ç ä¸­ç›´æ¥debug"><a href="#æ–¹å¼å››ï¼šæµè§ˆå™¨F12-æºä»£ç ä¸­ç›´æ¥debug" class="headerlink" title="æ–¹å¼å››ï¼šæµè§ˆå™¨F12 -&gt; æºä»£ç ä¸­ç›´æ¥debug"></a>æ–¹å¼å››ï¼šæµè§ˆå™¨F12 -&gt; æºä»£ç ä¸­ç›´æ¥debug</h3><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20240305180413.png"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3å­¦ä¹ </title>
      <link href="/2024/01/28/Vue/Vue3%E5%AD%A6%E4%B9%A0(%E6%96%B0)/"/>
      <url>/2024/01/28/Vue/Vue3%E5%AD%A6%E4%B9%A0(%E6%96%B0)/</url>
      
        <content type="html"><![CDATA[<h1 id="1-Vue3ç®€ä»‹"><a href="#1-Vue3ç®€ä»‹" class="headerlink" title="1. Vue3ç®€ä»‹"></a>1. Vue3ç®€ä»‹</h1><ul><li><p>2020å¹´9æœˆ18æ—¥ï¼Œ<code>Vue.js</code>å‘å¸ƒç‰ˆ<code>3.0</code>ç‰ˆæœ¬ï¼Œä»£å·ï¼š<code>One Piece</code>ï¼ˆn</p></li><li><p>ç»å†äº†ï¼š<a href="https://github.com/vuejs/core/commits/main">4800+æ¬¡æäº¤</a>ã€<a href="https://github.com/vuejs/rfcs/tree/master/active-rfcs">40+ä¸ªRFC</a>ã€<a href="https://github.com/vuejs/vue-next/pulls?q=is:pr+is:merged+-author:app/dependabot-preview+">600+æ¬¡PR</a>ã€<a href="https://github.com/vuejs/core/graphs/contributors">300+è´¡çŒ®è€…</a></p></li><li><p>å®˜æ–¹å‘ç‰ˆåœ°å€ï¼š<a href="https://github.com/vuejs/core/releases/tag/v3.0.0">Release v3.0.0 One Piece Â· vuejs&#x2F;core</a></p></li><li><p>æˆªæ­¢2023å¹´10æœˆï¼Œæœ€æ–°çš„å…¬å¼€ç‰ˆæœ¬ä¸ºï¼š<code>3.3.4</code></p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/1695089947298-161c1b47-eb86-42fb-b1f8-d6a4fcab8ee2.png" alt="image.png" style="zoom:30%;" /></li></ul><h2 id="1-1-ã€æ€§èƒ½çš„æå‡ã€‘"><a href="#1-1-ã€æ€§èƒ½çš„æå‡ã€‘" class="headerlink" title="1.1. ã€æ€§èƒ½çš„æå‡ã€‘"></a>1.1. ã€æ€§èƒ½çš„æå‡ã€‘</h2><ul><li><p>æ‰“åŒ…å¤§å°å‡å°‘<code>41%</code>ã€‚</p></li><li><p>åˆæ¬¡æ¸²æŸ“å¿«<code>55%</code>, æ›´æ–°æ¸²æŸ“å¿«<code>133%</code>ã€‚</p></li><li><p>å†…å­˜å‡å°‘<code>54%</code>ã€‚</p></li></ul><h2 id="1-2-ã€-æºç çš„å‡çº§ã€‘"><a href="#1-2-ã€-æºç çš„å‡çº§ã€‘" class="headerlink" title="1.2.ã€ æºç çš„å‡çº§ã€‘"></a>1.2.ã€ æºç çš„å‡çº§ã€‘</h2><ul><li><p>ä½¿ç”¨<code>Proxy</code>ä»£æ›¿<code>defineProperty</code>å®ç°å“åº”å¼ã€‚</p></li><li><p>é‡å†™è™šæ‹Ÿ<code>DOM</code>çš„å®ç°å’Œ<code>Tree-Shaking</code>ã€‚</p></li></ul><h2 id="1-3-ã€æ‹¥æŠ±TypeScriptã€‘"><a href="#1-3-ã€æ‹¥æŠ±TypeScriptã€‘" class="headerlink" title="1.3. ã€æ‹¥æŠ±TypeScriptã€‘"></a>1.3. ã€æ‹¥æŠ±TypeScriptã€‘</h2><ul><li><code>Vue3</code>å¯ä»¥æ›´å¥½çš„æ”¯æŒ<code>TypeScript</code>ã€‚</li></ul><h2 id="1-4-ã€æ–°çš„ç‰¹æ€§ã€‘"><a href="#1-4-ã€æ–°çš„ç‰¹æ€§ã€‘" class="headerlink" title="1.4. ã€æ–°çš„ç‰¹æ€§ã€‘"></a>1.4. ã€æ–°çš„ç‰¹æ€§ã€‘</h2><ol><li><p><code>Composition API</code>ï¼ˆç»„åˆ<code>API</code>ï¼‰ï¼š</p><ul><li><p><code>setup</code></p></li><li><p><code>ref</code>ä¸<code>reactive</code></p></li><li><p><code>computed</code>ä¸<code>watch</code></p><p>â€¦â€¦</p></li></ul></li><li><p>æ–°çš„å†…ç½®ç»„ä»¶ï¼š</p><ul><li><p><code>Fragment</code></p></li><li><p><code>Teleport</code></p></li><li><p><code>Suspense</code></p><p>â€¦â€¦</p></li></ul></li><li><p>å…¶ä»–æ”¹å˜ï¼š</p><ul><li><p>æ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­</p></li><li><p><code>data</code> é€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•°</p></li><li><p>ç§»é™¤<code>keyCode</code>æ”¯æŒä½œä¸º<code> v-on</code> çš„ä¿®é¥°ç¬¦</p><p>â€¦â€¦</p></li></ul></li></ol><h1 id="2-åˆ›å»ºVue3å·¥ç¨‹"><a href="#2-åˆ›å»ºVue3å·¥ç¨‹" class="headerlink" title="2. åˆ›å»ºVue3å·¥ç¨‹"></a>2. åˆ›å»ºVue3å·¥ç¨‹</h1><h2 id="2-1-ã€åŸºäº-vue-cli-åˆ›å»ºã€‘"><a href="#2-1-ã€åŸºäº-vue-cli-åˆ›å»ºã€‘" class="headerlink" title="2.1. ã€åŸºäº vue-cli åˆ›å»ºã€‘"></a>2.1. ã€åŸºäº vue-cli åˆ›å»ºã€‘</h2><p>ç‚¹å‡»æŸ¥çœ‹<a href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create">å®˜æ–¹æ–‡æ¡£</a></p><blockquote><p>å¤‡æ³¨ï¼šç›®å‰<code>vue-cli</code>å·²å¤„äºç»´æŠ¤æ¨¡å¼ï¼Œå®˜æ–¹æ¨èåŸºäº <code>Vite</code> åˆ›å»ºé¡¹ç›®ã€‚</p></blockquote><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## æŸ¥çœ‹@vue/cliç‰ˆæœ¬ï¼Œç¡®ä¿@vue/cliç‰ˆæœ¬åœ¨4.5.0ä»¥ä¸Š</span></span><br><span class="line">vue <span class="literal">--version</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## å®‰è£…æˆ–è€…å‡çº§ä½ çš„@vue/cli </span></span><br><span class="line">npm install <span class="literal">-g</span> @vue/<span class="built_in">cli</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## æ‰§è¡Œåˆ›å»ºå‘½ä»¤</span></span><br><span class="line">vue create vue_test</span><br><span class="line"></span><br><span class="line"><span class="comment">##  éšåé€‰æ‹©3.x</span></span><br><span class="line"><span class="comment">##  Choose a version of Vue.js that you want to start the project with (Use arrow keys)</span></span><br><span class="line"><span class="comment">##  &gt; 3.x</span></span><br><span class="line"><span class="comment">##    2.x</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## å¯åŠ¨</span></span><br><span class="line"><span class="built_in">cd</span> vue_test</span><br><span class="line">npm run serve</span><br></pre></td></tr></table></figure><hr><h2 id="2-2-ã€åŸºäº-vite-åˆ›å»ºã€‘-æ¨è"><a href="#2-2-ã€åŸºäº-vite-åˆ›å»ºã€‘-æ¨è" class="headerlink" title="2.2. ã€åŸºäº vite åˆ›å»ºã€‘(æ¨è)"></a>2.2. ã€åŸºäº vite åˆ›å»ºã€‘(æ¨è)</h2><p><code>vite</code> æ˜¯æ–°ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·ï¼Œå®˜ç½‘åœ°å€ï¼š<a href="https://vitejs.cn/">https://vitejs.cn</a>ï¼Œ<code>vite</code>çš„ä¼˜åŠ¿å¦‚ä¸‹ï¼š</p><ul><li>è½»é‡å¿«é€Ÿçš„çƒ­é‡è½½ï¼ˆ<code>HMR</code>ï¼‰ï¼Œèƒ½å®ç°æé€Ÿçš„æœåŠ¡å¯åŠ¨ã€‚</li><li>å¯¹ <code>TypeScript</code>ã€<code>JSX</code>ã€<code>CSS</code> ç­‰æ”¯æŒå¼€ç®±å³ç”¨ã€‚</li><li>çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘ï¼Œä¸å†ç­‰å¾…æ•´ä¸ªåº”ç”¨ç¼–è¯‘å®Œæˆã€‚</li><li><code>webpack</code>æ„å»º ä¸ <code>vite</code>æ„å»ºå¯¹æ¯”å›¾å¦‚ä¸‹ï¼š<br><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/1683167182037-71c78210-8217-4e7d-9a83-e463035efbbe.png" alt="webpackæ„å»º" title="webpackæ„å»º" style="zoom:20%;box-shadow:0 0 10px black" /><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/1683167204081-582dc237-72bc-499e-9589-2cdfd452e62f.png" alt="viteæ„å»º" title="viteæ„å»º" style="zoom: 20%;box-shadow:0 0 10px black" /></li></ul><ul><li>å…·ä½“æ“ä½œå¦‚ä¸‹ï¼ˆç‚¹å‡»æŸ¥çœ‹<a href="https://cn.vuejs.org/guide/quick-start.html#creating-a-vue-application">å®˜æ–¹æ–‡æ¡£</a>ï¼‰</li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1.åˆ›å»ºå‘½ä»¤</span></span><br><span class="line">npm create vue@latest</span><br><span class="line"></span><br><span class="line"><span class="comment">## 2.å…·ä½“é…ç½®</span></span><br><span class="line"><span class="comment">## é…ç½®é¡¹ç›®åç§°</span></span><br><span class="line">âˆš Project name: vue3_test</span><br><span class="line"><span class="comment">## æ˜¯å¦æ·»åŠ TypeScriptæ”¯æŒ</span></span><br><span class="line">âˆš Add TypeScript?  Yes</span><br><span class="line"><span class="comment">## æ˜¯å¦æ·»åŠ JSXæ”¯æŒ</span></span><br><span class="line">âˆš Add JSX Support?  No</span><br><span class="line"><span class="comment">## æ˜¯å¦æ·»åŠ è·¯ç”±ç¯å¢ƒ</span></span><br><span class="line">âˆš Add Vue Router <span class="keyword">for</span> Single Page Application development?  No</span><br><span class="line"><span class="comment">## æ˜¯å¦æ·»åŠ piniaç¯å¢ƒ</span></span><br><span class="line">âˆš Add Pinia <span class="keyword">for</span> state management?  No</span><br><span class="line"><span class="comment">## æ˜¯å¦æ·»åŠ å•å…ƒæµ‹è¯•</span></span><br><span class="line">âˆš Add Vitest <span class="keyword">for</span> Unit Testing?  No</span><br><span class="line"><span class="comment">## æ˜¯å¦æ·»åŠ ç«¯åˆ°ç«¯æµ‹è¯•æ–¹æ¡ˆ</span></span><br><span class="line">âˆš Add an <span class="keyword">End</span><span class="literal">-to-End</span> Testing Solution? Â» No</span><br><span class="line"><span class="comment">## æ˜¯å¦æ·»åŠ ESLintè¯­æ³•æ£€æŸ¥</span></span><br><span class="line">âˆš Add ESLint <span class="keyword">for</span> code quality?  Yes</span><br><span class="line"><span class="comment">## æ˜¯å¦æ·»åŠ Prettiertä»£ç æ ¼å¼åŒ–</span></span><br><span class="line">âˆš Add Prettier <span class="keyword">for</span> code formatting?  No</span><br></pre></td></tr></table></figure><p>è‡ªå·±åŠ¨æ‰‹ç¼–å†™ä¸€ä¸ªAppç»„ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h1&gt;ä½ å¥½å•Šï¼&lt;/h1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name:&#x27;App&#x27; //ç»„ä»¶å</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .app &#123;</span><br><span class="line">    background-color: #ddd;</span><br><span class="line">    box-shadow: 0 0 10px;</span><br><span class="line">    border-radius: 10px;</span><br><span class="line">    padding: 20px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>å®‰è£…å®˜æ–¹æ¨èçš„<code>vscode</code>æ’ä»¶ï¼š</p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/volar.png" alt="Snipaste_2023-10-08_20-46-34" style="zoom:50%;" /> <img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/image-20231218085906380.png" alt="image-20231218085906380" style="zoom:42%;" /> <p>æ€»ç»“ï¼š</p><ul><li><code>Vite</code> é¡¹ç›®ä¸­ï¼Œ<code>index.html</code> æ˜¯é¡¹ç›®çš„å…¥å£æ–‡ä»¶ï¼Œåœ¨é¡¹ç›®æœ€å¤–å±‚ã€‚</li><li>åŠ è½½<code>index.html</code>åï¼Œ<code>Vite</code> è§£æ <code>&lt;script type=&quot;module&quot; src=&quot;xxx&quot;&gt;</code> æŒ‡å‘çš„<code>JavaScript</code>ã€‚</li><li><code>Vue3</code>**ä¸­æ˜¯é€šè¿‡ **<code>createApp</code> å‡½æ•°åˆ›å»ºä¸€ä¸ªåº”ç”¨å®ä¾‹ã€‚</li></ul><h2 id="2-3-ã€ä¸€ä¸ªç®€å•çš„æ•ˆæœã€‘"><a href="#2-3-ã€ä¸€ä¸ªç®€å•çš„æ•ˆæœã€‘" class="headerlink" title="2.3. ã€ä¸€ä¸ªç®€å•çš„æ•ˆæœã€‘"></a>2.3. ã€ä¸€ä¸ªç®€å•çš„æ•ˆæœã€‘</h2><p><code>Vue3</code>å‘ä¸‹å…¼å®¹<code>Vue2</code>è¯­æ³•ï¼Œä¸”<code>Vue3</code>ä¸­çš„æ¨¡æ¿ä¸­å¯ä»¥æ²¡æœ‰æ ¹æ ‡ç­¾</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h2&gt;å§“åï¼š&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeAge&quot;&gt;å¹´é¾„+1&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;showTel&quot;&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        name:&#x27;å¼ ä¸‰&#x27;,</span><br><span class="line">        age:18,</span><br><span class="line">        tel:&#x27;13888888888&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      changeName()&#123;</span><br><span class="line">        this.name = &#x27;zhang-san&#x27;</span><br><span class="line">      &#125;,</span><br><span class="line">      changeAge()&#123;</span><br><span class="line">        this.age += 1</span><br><span class="line">      &#125;,</span><br><span class="line">      showTel()&#123;</span><br><span class="line">        alert(this.tel)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h1 id="3-Vue3æ ¸å¿ƒè¯­æ³•"><a href="#3-Vue3æ ¸å¿ƒè¯­æ³•" class="headerlink" title="3. Vue3æ ¸å¿ƒè¯­æ³•"></a>3. Vue3æ ¸å¿ƒè¯­æ³•</h1><h2 id="3-1-ã€OptionsAPI-ä¸-CompositionAPIã€‘"><a href="#3-1-ã€OptionsAPI-ä¸-CompositionAPIã€‘" class="headerlink" title="3.1.  ã€OptionsAPI ä¸ CompositionAPIã€‘"></a>3.1.  ã€OptionsAPI ä¸ CompositionAPIã€‘</h2><ul><li><code>Vue2</code>çš„<code>API</code>è®¾è®¡æ˜¯<code>Options</code>ï¼ˆé…ç½®ï¼‰é£æ ¼çš„ã€‚</li><li><code>Vue3</code>çš„<code>API</code>è®¾è®¡æ˜¯<code>Composition</code>ï¼ˆç»„åˆï¼‰é£æ ¼çš„ã€‚</li></ul><h3 id="Options-API-çš„å¼Šç«¯"><a href="#Options-API-çš„å¼Šç«¯" class="headerlink" title="Options API çš„å¼Šç«¯"></a>Options API çš„å¼Šç«¯</h3><p><code>Options</code>ç±»å‹çš„ <code>API</code>ï¼Œæ•°æ®ã€æ–¹æ³•ã€è®¡ç®—å±æ€§ç­‰ï¼Œæ˜¯åˆ†æ•£åœ¨ï¼š<code>data</code>ã€<code>methods</code>ã€<code>computed</code>ä¸­çš„ï¼Œè‹¥æƒ³æ–°å¢æˆ–è€…ä¿®æ”¹ä¸€ä¸ªéœ€æ±‚ï¼Œå°±éœ€è¦åˆ†åˆ«ä¿®æ”¹ï¼š<code>data</code>ã€<code>methods</code>ã€<code>computed</code>ï¼Œä¸ä¾¿äºç»´æŠ¤å’Œå¤ç”¨ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/1696662197101-55d2b251-f6e5-47f4-b3f1-d8531bbf9279.gif" alt="1.gif" style="zoom:70%;border-radius:20px" /><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/1696662200734-1bad8249-d7a2-423e-a3c3-ab4c110628be.gif" alt="2.gif" style="zoom:70%;border-radius:20px" /></p><h3 id="Composition-API-çš„ä¼˜åŠ¿"><a href="#Composition-API-çš„ä¼˜åŠ¿" class="headerlink" title="Composition API çš„ä¼˜åŠ¿"></a>Composition API çš„ä¼˜åŠ¿</h3><p>å¯ä»¥ç”¨å‡½æ•°çš„æ–¹å¼ï¼Œæ›´åŠ ä¼˜é›…çš„ç»„ç»‡ä»£ç ï¼Œè®©ç›¸å…³åŠŸèƒ½çš„ä»£ç æ›´åŠ æœ‰åºçš„ç»„ç»‡åœ¨ä¸€èµ·ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/1696662249851-db6403a1-acb5-481a-88e0-e1e34d2ef53a.gif" alt="3.gif" style="height:300px;border-radius:10px"  /><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/1696662256560-7239b9f9-a770-43c1-9386-6cc12ef1e9c0.gif" alt="4.gif" style="height:300px;border-radius:10px"  /></p><blockquote><p>è¯´æ˜ï¼šä»¥ä¸Šå››å¼ åŠ¨å›¾åŸåˆ›ä½œè€…ï¼šå¤§å¸…è€çŒ¿</p></blockquote><h2 id="3-2-ã€æ‹‰å¼€åºå¹•çš„-setupã€‘"><a href="#3-2-ã€æ‹‰å¼€åºå¹•çš„-setupã€‘" class="headerlink" title="3.2. ã€æ‹‰å¼€åºå¹•çš„ setupã€‘"></a>3.2. ã€æ‹‰å¼€åºå¹•çš„ setupã€‘</h2><h3 id="setup-æ¦‚è¿°"><a href="#setup-æ¦‚è¿°" class="headerlink" title="setup æ¦‚è¿°"></a>setup æ¦‚è¿°</h3><p><code>setup</code>æ˜¯<code>Vue3</code>ä¸­ä¸€ä¸ªæ–°çš„é…ç½®é¡¹ï¼Œå€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ˜¯ <code>Composition API</code> <strong>â€œè¡¨æ¼”çš„èˆå°</strong>_<strong>â€</strong>_ï¼Œç»„ä»¶ä¸­æ‰€ç”¨åˆ°çš„ï¼šæ•°æ®ã€æ–¹æ³•ã€è®¡ç®—å±æ€§ã€ç›‘è§†â€¦â€¦ç­‰ç­‰ï¼Œå‡é…ç½®åœ¨<code>setup</code>ä¸­ã€‚</p><p>ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><ul><li><code>setup</code>å‡½æ•°è¿”å›çš„å¯¹è±¡ä¸­çš„å†…å®¹ï¼Œå¯ç›´æ¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ã€‚</li><li><code>setup</code>ä¸­è®¿é—®<code>this</code>æ˜¯<code>undefined</code>ã€‚</li><li><code>setup</code>å‡½æ•°ä¼šåœ¨<code>beforeCreate</code>ä¹‹å‰è°ƒç”¨ï¼Œå®ƒæ˜¯â€œé¢†å…ˆâ€æ‰€æœ‰é’©å­æ‰§è¡Œçš„ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h2&gt;å§“åï¼š&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeAge&quot;&gt;å¹´é¾„+1&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;showTel&quot;&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name:&#x27;Person&#x27;,</span><br><span class="line">    setup()&#123;</span><br><span class="line">      // æ•°æ®ï¼ŒåŸæ¥å†™åœ¨dataä¸­ï¼ˆæ³¨æ„ï¼šæ­¤æ—¶çš„nameã€ageã€telæ•°æ®éƒ½ä¸æ˜¯å“åº”å¼æ•°æ®ï¼‰</span><br><span class="line">      let name = &#x27;å¼ ä¸‰&#x27;</span><br><span class="line">      let age = 18</span><br><span class="line">      let tel = &#x27;13888888888&#x27;</span><br><span class="line"></span><br><span class="line">      // æ–¹æ³•ï¼ŒåŸæ¥å†™åœ¨methodsä¸­</span><br><span class="line">      function changeName()&#123;</span><br><span class="line">        name = &#x27;zhang-san&#x27; //æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹nameé¡µé¢æ˜¯ä¸å˜åŒ–çš„</span><br><span class="line">        console.log(name)</span><br><span class="line">      &#125;</span><br><span class="line">      function changeAge()&#123;</span><br><span class="line">        age += 1 //æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹ageé¡µé¢æ˜¯ä¸å˜åŒ–çš„</span><br><span class="line">        console.log(age)</span><br><span class="line">      &#125;</span><br><span class="line">      function showTel()&#123;</span><br><span class="line">        alert(tel)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      // è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­çš„å†…å®¹ï¼Œæ¨¡æ¿ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨</span><br><span class="line">      return &#123;name,age,tel,changeName,changeAge,showTel&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="setup-çš„è¿”å›å€¼"><a href="#setup-çš„è¿”å›å€¼" class="headerlink" title="setup çš„è¿”å›å€¼"></a>setup çš„è¿”å›å€¼</h3><ul><li>è‹¥è¿”å›ä¸€ä¸ª<strong>å¯¹è±¡</strong>ï¼šåˆ™å¯¹è±¡ä¸­çš„ï¼šå±æ€§ã€æ–¹æ³•ç­‰ï¼Œåœ¨æ¨¡æ¿ä¸­å‡å¯ä»¥ç›´æ¥ä½¿ç”¨<strong>ï¼ˆé‡ç‚¹å…³æ³¨ï¼‰ã€‚</strong></li><li>è‹¥è¿”å›ä¸€ä¸ª<strong>å‡½æ•°</strong>ï¼šåˆ™å¯ä»¥è‡ªå®šä¹‰æ¸²æŸ“å†…å®¹ï¼Œä»£ç å¦‚ä¸‹ï¼š</li></ul><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">()=&gt;</span> <span class="string">&#x27;ä½ å¥½å•Šï¼&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="setup-ä¸-Options-API-çš„å…³ç³»"><a href="#setup-ä¸-Options-API-çš„å…³ç³»" class="headerlink" title="setup ä¸ Options API çš„å…³ç³»"></a>setup ä¸ Options API çš„å…³ç³»</h3><ul><li><code>Vue2</code> çš„é…ç½®ï¼ˆ<code>data</code>ã€<code>methos</code>â€¦â€¦ï¼‰ä¸­<strong>å¯ä»¥è®¿é—®åˆ°</strong> <code>setup</code>ä¸­çš„å±æ€§ã€æ–¹æ³•ã€‚</li><li>ä½†åœ¨<code>setup</code>ä¸­<strong>ä¸èƒ½è®¿é—®åˆ°</strong><code>Vue2</code>çš„é…ç½®ï¼ˆ<code>data</code>ã€<code>methos</code>â€¦â€¦ï¼‰ã€‚</li><li>å¦‚æœä¸<code>Vue2</code>å†²çªï¼Œåˆ™<code>setup</code>ä¼˜å…ˆã€‚</li></ul><h3 id="setup-è¯­æ³•ç³–"><a href="#setup-è¯­æ³•ç³–" class="headerlink" title="setup è¯­æ³•ç³–"></a>setup è¯­æ³•ç³–</h3><p><code>setup</code>å‡½æ•°æœ‰ä¸€ä¸ªè¯­æ³•ç³–ï¼Œè¿™ä¸ªè¯­æ³•ç³–ï¼Œå¯ä»¥è®©æˆ‘ä»¬æŠŠ<code>setup</code>ç‹¬ç«‹å‡ºå»ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h2&gt;å§“åï¼š&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changAge&quot;&gt;å¹´é¾„+1&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;showTel&quot;&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name:&#x27;Person&#x27;,</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- ä¸‹é¢çš„å†™æ³•æ˜¯setupè¯­æ³•ç³– --&gt;</span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">  console.log(this) //undefined</span><br><span class="line">  </span><br><span class="line">  // æ•°æ®ï¼ˆæ³¨æ„ï¼šæ­¤æ—¶çš„nameã€ageã€teléƒ½ä¸æ˜¯å“åº”å¼æ•°æ®ï¼‰</span><br><span class="line">  let name = &#x27;å¼ ä¸‰&#x27;</span><br><span class="line">  let age = 18</span><br><span class="line">  let tel = &#x27;13888888888&#x27;</span><br><span class="line"></span><br><span class="line">  // æ–¹æ³•</span><br><span class="line">  function changName()&#123;</span><br><span class="line">    name = &#x27;æå››&#x27;//æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹nameé¡µé¢æ˜¯ä¸å˜åŒ–çš„</span><br><span class="line">  &#125;</span><br><span class="line">  function changAge()&#123;</span><br><span class="line">    console.log(age)</span><br><span class="line">    age += 1 //æ³¨æ„ï¼šæ­¤æ—¶è¿™ä¹ˆä¿®æ”¹ageé¡µé¢æ˜¯ä¸å˜åŒ–çš„</span><br><span class="line">  &#125;</span><br><span class="line">  function showTel()&#123;</span><br><span class="line">    alert(tel)</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>æ‰©å±•ï¼šä¸Šè¿°ä»£ç ï¼Œè¿˜éœ€è¦ç¼–å†™ä¸€ä¸ªä¸å†™<code>setup</code>çš„<code>script</code>æ ‡ç­¾ï¼Œå»æŒ‡å®šç»„ä»¶åå­—ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©<code>vite</code>ä¸­çš„æ’ä»¶ç®€åŒ–</p><ol><li>ç¬¬ä¸€æ­¥ï¼š<code>npm i vite-plugin-vue-setup-extend -D</code></li><li>ç¬¬äºŒæ­¥ï¼š<code>vite.config.ts</code></li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;vite&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueSetupExtend</span> <span class="keyword">from</span> <span class="string">&#x27;vite-plugin-vue-setup-extend&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [ <span class="title class_">VueSetupExtend</span>() ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol start="3"><li>ç¬¬ä¸‰æ­¥ï¼š<code>&lt;script setup lang=&quot;ts&quot; name=&quot;Person&quot;&gt;</code></li></ol><h2 id="3-3-ã€ref-åˆ›å»ºï¼šåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘"><a href="#3-3-ã€ref-åˆ›å»ºï¼šåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘" class="headerlink" title="3.3. ã€ref åˆ›å»ºï¼šåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘"></a>3.3. ã€ref åˆ›å»ºï¼šåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘</h2><ul><li><strong>ä½œç”¨ï¼š</strong>å®šä¹‰å“åº”å¼å˜é‡ã€‚</li><li><strong>è¯­æ³•ï¼š</strong><code>let xxx = ref(åˆå§‹å€¼)</code>ã€‚</li><li><strong>è¿”å›å€¼ï¼š</strong>ä¸€ä¸ª<code>RefImpl</code>çš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°<code>refå¯¹è±¡</code>æˆ–<code>ref</code>ï¼Œ<code>ref</code>å¯¹è±¡çš„<code>value</code><strong>å±æ€§æ˜¯å“åº”å¼çš„</strong>ã€‚</li><li><strong>æ³¨æ„ç‚¹ï¼š</strong><ul><li><code>JS</code>ä¸­æ“ä½œæ•°æ®éœ€è¦ï¼š<code>xxx.value</code>ï¼Œä½†æ¨¡æ¿ä¸­ä¸éœ€è¦<code>.value</code>ï¼Œç›´æ¥ä½¿ç”¨å³å¯ã€‚</li><li>å¯¹äº<code>let name = ref(&#39;å¼ ä¸‰&#39;)</code>æ¥è¯´ï¼Œ<code>name</code>ä¸æ˜¯å“åº”å¼çš„ï¼Œ<code>name.value</code>æ˜¯å“åº”å¼çš„ã€‚</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h2&gt;å§“åï¼š&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeAge&quot;&gt;å¹´é¾„+1&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;showTel&quot;&gt;ç‚¹æˆ‘æŸ¥çœ‹è”ç³»æ–¹å¼&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line">  // nameå’Œageæ˜¯ä¸€ä¸ªRefImplçš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°refå¯¹è±¡ï¼Œå®ƒä»¬çš„valueå±æ€§æ˜¯å“åº”å¼çš„ã€‚</span><br><span class="line">  let name = ref(&#x27;å¼ ä¸‰&#x27;)</span><br><span class="line">  let age = ref(18)</span><br><span class="line">  // telå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å­—ç¬¦ä¸²ï¼Œä¸æ˜¯å“åº”å¼çš„</span><br><span class="line">  let tel = &#x27;13888888888&#x27;</span><br><span class="line"></span><br><span class="line">  function changeName()&#123;</span><br><span class="line">    // JSä¸­æ“ä½œrefå¯¹è±¡æ—¶å€™éœ€è¦.value</span><br><span class="line">    name.value = &#x27;æå››&#x27;</span><br><span class="line">    console.log(name.value)</span><br><span class="line"></span><br><span class="line">    // æ³¨æ„ï¼šnameä¸æ˜¯å“åº”å¼çš„ï¼Œname.valueæ˜¯å“åº”å¼çš„ï¼Œæ‰€ä»¥å¦‚ä¸‹ä»£ç å¹¶ä¸ä¼šå¼•èµ·é¡µé¢çš„æ›´æ–°ã€‚</span><br><span class="line">    // name = ref(&#x27;zhang-san&#x27;)</span><br><span class="line">  &#125;</span><br><span class="line">  function changeAge()&#123;</span><br><span class="line">    // JSä¸­æ“ä½œrefå¯¹è±¡æ—¶å€™éœ€è¦.value</span><br><span class="line">    age.value += 1 </span><br><span class="line">    console.log(age.value)</span><br><span class="line">  &#125;</span><br><span class="line">  function showTel()&#123;</span><br><span class="line">    alert(tel)</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="3-4-ã€reactive-åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘"><a href="#3-4-ã€reactive-åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘" class="headerlink" title="3.4. ã€reactive åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘"></a>3.4. ã€reactive åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘</h2><ul><li><strong>ä½œç”¨ï¼š</strong>å®šä¹‰ä¸€ä¸ª<strong>å“åº”å¼å¯¹è±¡</strong>ï¼ˆåŸºæœ¬ç±»å‹ä¸è¦ç”¨å®ƒï¼Œè¦ç”¨<code>ref</code>ï¼Œå¦åˆ™æŠ¥é”™ï¼‰</li><li><strong>è¯­æ³•ï¼š</strong><code>let å“åº”å¼å¯¹è±¡= reactive(æºå¯¹è±¡)</code>ã€‚</li><li><strong>è¿”å›å€¼ï¼š</strong>ä¸€ä¸ª<code>Proxy</code>çš„å®ä¾‹å¯¹è±¡ï¼Œç®€ç§°ï¼šå“åº”å¼å¯¹è±¡ã€‚</li><li><strong>æ³¨æ„ç‚¹ï¼š</strong><code>reactive</code>å®šä¹‰çš„å“åº”å¼æ•°æ®æ˜¯â€œæ·±å±‚æ¬¡â€çš„ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h2&gt;æ±½è½¦ä¿¡æ¯ï¼šä¸€å°&#123;&#123; car.brand &#125;&#125;æ±½è½¦ï¼Œä»·å€¼&#123;&#123; car.price &#125;&#125;ä¸‡&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;æ¸¸æˆåˆ—è¡¨ï¼š&lt;/h2&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li v-for=&quot;g in games&quot; :key=&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;h2&gt;æµ‹è¯•ï¼š&#123;&#123;obj.a.b.c.d&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeCarPrice&quot;&gt;ä¿®æ”¹æ±½è½¦ä»·æ ¼&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeFirstGame&quot;&gt;ä¿®æ”¹ç¬¬ä¸€æ¸¸æˆ&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;test&quot;&gt;æµ‹è¯•&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">import &#123; reactive &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">// æ•°æ®</span><br><span class="line">let car = reactive(&#123; brand: &#x27;å¥”é©°&#x27;, price: 100 &#125;)</span><br><span class="line">let games = reactive([</span><br><span class="line">  &#123; id: &#x27;ahsgdyfa01&#x27;, name: &#x27;è‹±é›„è”ç›Ÿ&#x27; &#125;,</span><br><span class="line">  &#123; id: &#x27;ahsgdyfa02&#x27;, name: &#x27;ç‹è€…è£è€€&#x27; &#125;,</span><br><span class="line">  &#123; id: &#x27;ahsgdyfa03&#x27;, name: &#x27;åŸç¥&#x27; &#125;</span><br><span class="line">])</span><br><span class="line">let obj = reactive(&#123;</span><br><span class="line">  a:&#123;</span><br><span class="line">    b:&#123;</span><br><span class="line">      c:&#123;</span><br><span class="line">        d:666</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">function changeCarPrice() &#123;</span><br><span class="line">  car.price += 10</span><br><span class="line">&#125;</span><br><span class="line">function changeFirstGame() &#123;</span><br><span class="line">  games[0].name = &#x27;æµæ˜Ÿè´è¶å‰‘&#x27;</span><br><span class="line">&#125;</span><br><span class="line">function test()&#123;</span><br><span class="line">  obj.a.b.c.d = 999</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="3-5-ã€ref-åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘"><a href="#3-5-ã€ref-åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘" class="headerlink" title="3.5. ã€ref åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘"></a>3.5. ã€ref åˆ›å»ºï¼šå¯¹è±¡ç±»å‹çš„å“åº”å¼æ•°æ®ã€‘</h2><ul><li>å…¶å®<code>ref</code>æ¥æ”¶çš„æ•°æ®å¯ä»¥æ˜¯ï¼š<strong>åŸºæœ¬ç±»å‹</strong>ã€<strong>å¯¹è±¡ç±»å‹</strong>ã€‚</li><li>è‹¥<code>ref</code>æ¥æ”¶çš„æ˜¯å¯¹è±¡ç±»å‹ï¼Œå†…éƒ¨å…¶å®ä¹Ÿæ˜¯è°ƒç”¨äº†<code>reactive</code>å‡½æ•°ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h2&gt;æ±½è½¦ä¿¡æ¯ï¼šä¸€å°&#123;&#123; car.brand &#125;&#125;æ±½è½¦ï¼Œä»·å€¼&#123;&#123; car.price &#125;&#125;ä¸‡&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;æ¸¸æˆåˆ—è¡¨ï¼š&lt;/h2&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li v-for=&quot;g in games&quot; :key=&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;h2&gt;æµ‹è¯•ï¼š&#123;&#123;obj.a.b.c.d&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeCarPrice&quot;&gt;ä¿®æ”¹æ±½è½¦ä»·æ ¼&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeFirstGame&quot;&gt;ä¿®æ”¹ç¬¬ä¸€æ¸¸æˆ&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;test&quot;&gt;æµ‹è¯•&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">// æ•°æ®</span><br><span class="line">let car = ref(&#123; brand: &#x27;å¥”é©°&#x27;, price: 100 &#125;)</span><br><span class="line">let games = ref([</span><br><span class="line">  &#123; id: &#x27;ahsgdyfa01&#x27;, name: &#x27;è‹±é›„è”ç›Ÿ&#x27; &#125;,</span><br><span class="line">  &#123; id: &#x27;ahsgdyfa02&#x27;, name: &#x27;ç‹è€…è£è€€&#x27; &#125;,</span><br><span class="line">  &#123; id: &#x27;ahsgdyfa03&#x27;, name: &#x27;åŸç¥&#x27; &#125;</span><br><span class="line">])</span><br><span class="line">let obj = ref(&#123;</span><br><span class="line">  a:&#123;</span><br><span class="line">    b:&#123;</span><br><span class="line">      c:&#123;</span><br><span class="line">        d:666</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">console.log(car)</span><br><span class="line"></span><br><span class="line">function changeCarPrice() &#123;</span><br><span class="line">  car.value.price += 10</span><br><span class="line">&#125;</span><br><span class="line">function changeFirstGame() &#123;</span><br><span class="line">  games.value[0].name = &#x27;æµæ˜Ÿè´è¶å‰‘&#x27;</span><br><span class="line">&#125;</span><br><span class="line">function test()&#123;</span><br><span class="line">  obj.value.a.b.c.d = 999</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="3-6-ã€ref-å¯¹æ¯”-reactiveã€‘"><a href="#3-6-ã€ref-å¯¹æ¯”-reactiveã€‘" class="headerlink" title="3.6. ã€ref å¯¹æ¯” reactiveã€‘"></a>3.6. ã€ref å¯¹æ¯” reactiveã€‘</h2><p>å®è§‚è§’åº¦çœ‹ï¼š</p><blockquote><ol><li><p><code>ref</code>ç”¨æ¥å®šä¹‰ï¼š<strong>åŸºæœ¬ç±»å‹æ•°æ®</strong>ã€<strong>å¯¹è±¡ç±»å‹æ•°æ®</strong>ï¼›</p></li><li><p><code>reactive</code>ç”¨æ¥å®šä¹‰ï¼š<strong>å¯¹è±¡ç±»å‹æ•°æ®</strong>ã€‚</p></li></ol></blockquote><ul><li>åŒºåˆ«ï¼š</li></ul><blockquote><ol><li><p><code>ref</code>åˆ›å»ºçš„å˜é‡å¿…é¡»ä½¿ç”¨<code>.value</code>ï¼ˆå¯ä»¥ä½¿ç”¨<code>volar</code>æ’ä»¶è‡ªåŠ¨æ·»åŠ <code>.value</code>ï¼‰ã€‚</p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/è‡ªåŠ¨è¡¥å……value.png" alt="è‡ªåŠ¨è¡¥å……value" style="zoom:50%;border-radius:20px" /> </li><li><p><code>reactive</code>é‡æ–°åˆ†é…ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¼š<strong>å¤±å»</strong>å“åº”å¼ï¼ˆå¯ä»¥ä½¿ç”¨<code>Object.assign</code>å»æ•´ä½“æ›¿æ¢ï¼‰ã€‚</p></li></ol></blockquote><ul><li>ä½¿ç”¨åŸåˆ™ï¼š</li></ul><blockquote><ol><li>è‹¥éœ€è¦ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®ï¼Œå¿…é¡»ä½¿ç”¨<code>ref</code>ã€‚</li><li>è‹¥éœ€è¦ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œå±‚çº§ä¸æ·±ï¼Œ<code>ref</code>ã€<code>reactive</code>éƒ½å¯ä»¥ã€‚</li><li>è‹¥éœ€è¦ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œä¸”å±‚çº§è¾ƒæ·±ï¼Œæ¨èä½¿ç”¨<code>reactive</code>ã€‚</li></ol></blockquote><h2 id="3-7-ã€toRefs-ä¸-toRefã€‘"><a href="#3-7-ã€toRefs-ä¸-toRefã€‘" class="headerlink" title="3.7. ã€toRefs ä¸ toRefã€‘"></a>3.7. ã€toRefs ä¸ toRefã€‘</h2><ul><li>ä½œç”¨ï¼šå°†ä¸€ä¸ªå“åº”å¼å¯¹è±¡ä¸­çš„æ¯ä¸€ä¸ªå±æ€§ï¼Œè½¬æ¢ä¸º<code>ref</code>å¯¹è±¡ã€‚</li><li>å¤‡æ³¨ï¼š<code>toRefs</code>ä¸<code>toRef</code>åŠŸèƒ½ä¸€è‡´ï¼Œä½†<code>toRefs</code>å¯ä»¥æ‰¹é‡è½¬æ¢ã€‚</li><li>è¯­æ³•å¦‚ä¸‹ï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h2&gt;å§“åï¼š&#123;&#123;person.name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123;person.age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;æ€§åˆ«ï¼š&#123;&#123;person.gender&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeAge&quot;&gt;ä¿®æ”¹å¹´é¾„&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeGender&quot;&gt;ä¿®æ”¹æ€§åˆ«&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;ref,reactive,toRefs,toRef&#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">  // æ•°æ®</span><br><span class="line">  let person = reactive(&#123;name:&#x27;å¼ ä¸‰&#x27;, age:18, gender:&#x27;ç”·&#x27;&#125;)</span><br><span class="line"></span><br><span class="line">  // é€šè¿‡toRefså°†personå¯¹è±¡ä¸­çš„nä¸ªå±æ€§æ‰¹é‡å–å‡ºï¼Œä¸”ä¾ç„¶ä¿æŒå“åº”å¼çš„èƒ½åŠ›</span><br><span class="line">  let &#123;name,gender&#125; =  toRefs(person)</span><br><span class="line"></span><br><span class="line">  // é€šè¿‡toRefå°†personå¯¹è±¡ä¸­çš„genderå±æ€§å–å‡ºï¼Œä¸”ä¾ç„¶ä¿æŒå“åº”å¼çš„èƒ½åŠ›</span><br><span class="line">  let age = toRef(person,&#x27;age&#x27;)</span><br><span class="line"></span><br><span class="line">  // æ–¹æ³•</span><br><span class="line">  function changeName()&#123;</span><br><span class="line">    name.value += &#x27;~&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  function changeAge()&#123;</span><br><span class="line">    age.value += 1</span><br><span class="line">  &#125;</span><br><span class="line">  function changeGender()&#123;</span><br><span class="line">    gender.value = &#x27;å¥³&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="3-8-ã€computedã€‘"><a href="#3-8-ã€computedã€‘" class="headerlink" title="3.8. ã€computedã€‘"></a>3.8. ã€computedã€‘</h2><p>ä½œç”¨ï¼šæ ¹æ®å·²æœ‰æ•°æ®è®¡ç®—å‡ºæ–°æ•°æ®ï¼ˆå’Œ<code>Vue2</code>ä¸­çš„<code>computed</code>ä½œç”¨ä¸€è‡´ï¼‰ã€‚</p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/computed.gif" style="zoom:20%;" />  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    å§“ï¼š&lt;input type=&quot;text&quot; v-model=&quot;firstName&quot;&gt; &lt;br&gt;</span><br><span class="line">    åï¼š&lt;input type=&quot;text&quot; v-model=&quot;lastName&quot;&gt; &lt;br&gt;</span><br><span class="line">    å…¨åï¼š&lt;span&gt;&#123;&#123;fullName&#125;&#125;&lt;/span&gt; &lt;br&gt;</span><br><span class="line">    &lt;button @click=&quot;changeFullName&quot;&gt;å…¨åæ”¹ä¸ºï¼šli-si&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;App&quot;&gt;</span><br><span class="line">  import &#123;ref,computed&#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">  let firstName = ref(&#x27;zhang&#x27;)</span><br><span class="line">  let lastName = ref(&#x27;san&#x27;)</span><br><span class="line"></span><br><span class="line">  // è®¡ç®—å±æ€§â€”â€”åªè¯»å–ï¼Œä¸ä¿®æ”¹</span><br><span class="line">  /* let fullName = computed(()=&gt;&#123;</span><br><span class="line">    return firstName.value + &#x27;-&#x27; + lastName.value</span><br><span class="line">  &#125;) */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  // è®¡ç®—å±æ€§â€”â€”æ—¢è¯»å–åˆä¿®æ”¹</span><br><span class="line">  let fullName = computed(&#123;</span><br><span class="line">    // è¯»å–</span><br><span class="line">    get()&#123;</span><br><span class="line">      return firstName.value + &#x27;-&#x27; + lastName.value</span><br><span class="line">    &#125;,</span><br><span class="line">    // ä¿®æ”¹</span><br><span class="line">    set(val)&#123;</span><br><span class="line">      console.log(&#x27;æœ‰äººä¿®æ”¹äº†fullName&#x27;,val)</span><br><span class="line">      firstName.value = val.split(&#x27;-&#x27;)[0]</span><br><span class="line">      lastName.value = val.split(&#x27;-&#x27;)[1]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  function changeFullName()&#123;</span><br><span class="line">    fullName.value = &#x27;li-si&#x27;</span><br><span class="line">  &#125; </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="3-9-ã€watchã€‘"><a href="#3-9-ã€watchã€‘" class="headerlink" title="3.9.ã€watchã€‘"></a>3.9.ã€watchã€‘</h2><ul><li>ä½œç”¨ï¼šç›‘è§†æ•°æ®çš„å˜åŒ–ï¼ˆå’Œ<code>Vue2</code>ä¸­çš„<code>watch</code>ä½œç”¨ä¸€è‡´ï¼‰</li><li>ç‰¹ç‚¹ï¼š<code>Vue3</code>ä¸­çš„<code>watch</code>åªèƒ½ç›‘è§†ä»¥ä¸‹<strong>å››ç§æ•°æ®</strong>ï¼š</li></ul><blockquote><ol><li><code>ref</code>å®šä¹‰çš„æ•°æ®ã€‚</li><li><code>reactive</code>å®šä¹‰çš„æ•°æ®ã€‚</li><li>å‡½æ•°è¿”å›ä¸€ä¸ªå€¼ï¼ˆ<code>getter</code>å‡½æ•°ï¼‰ã€‚</li><li>ä¸€ä¸ªåŒ…å«ä¸Šè¿°å†…å®¹çš„æ•°ç»„ã€‚</li></ol></blockquote><p>æˆ‘ä»¬åœ¨<code>Vue3</code>ä¸­ä½¿ç”¨<code>watch</code>çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šé‡åˆ°ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p><h3 id="æƒ…å†µä¸€"><a href="#æƒ…å†µä¸€" class="headerlink" title="* æƒ…å†µä¸€"></a>* æƒ…å†µä¸€</h3><p>ç›‘è§†<code>ref</code>å®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®ï¼šç›´æ¥å†™æ•°æ®åå³å¯ï¼Œç›‘è§†çš„æ˜¯å…¶<code>value</code>å€¼çš„æ”¹å˜ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h1&gt;æƒ…å†µä¸€ï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®&lt;/h1&gt;</span><br><span class="line">    &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123;sum&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeSum&quot;&gt;ç‚¹æˆ‘sum+1&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;ref,watch&#125; from &#x27;vue&#x27;</span><br><span class="line">  // æ•°æ®</span><br><span class="line">  let sum = ref(0)</span><br><span class="line">  // æ–¹æ³•</span><br><span class="line">  function changeSum()&#123;</span><br><span class="line">    sum.value += 1</span><br><span class="line">  &#125;</span><br><span class="line">  // ç›‘è§†ï¼Œæƒ…å†µä¸€ï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€åŸºæœ¬ç±»å‹ã€‘æ•°æ®</span><br><span class="line">  const stopWatch = watch(sum,(newValue,oldValue)=&gt;&#123;</span><br><span class="line">    console.log(&#x27;sumå˜åŒ–äº†&#x27;,newValue,oldValue)</span><br><span class="line">    if(newValue &gt;= 10)&#123;</span><br><span class="line">      stopWatch()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="æƒ…å†µäºŒ"><a href="#æƒ…å†µäºŒ" class="headerlink" title="* æƒ…å†µäºŒ"></a>* æƒ…å†µäºŒ</h3><p>ç›‘è§†<code>ref</code>å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼šç›´æ¥å†™æ•°æ®åï¼Œç›‘è§†çš„æ˜¯å¯¹è±¡çš„ã€åœ°å€å€¼ã€‘ï¼Œè‹¥æƒ³ç›‘è§†å¯¹è±¡å†…éƒ¨çš„æ•°æ®ï¼Œè¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†ã€‚</p><blockquote><p>æ³¨æ„ï¼š</p><ul><li><p>è‹¥ä¿®æ”¹çš„æ˜¯<code>ref</code>å®šä¹‰çš„å¯¹è±¡ä¸­çš„å±æ€§ï¼Œ<code>newValue</code> å’Œ <code>oldValue</code> éƒ½æ˜¯æ–°å€¼ï¼Œå› ä¸ºå®ƒä»¬æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚</p></li><li><p>è‹¥ä¿®æ”¹æ•´ä¸ª<code>ref</code>å®šä¹‰çš„å¯¹è±¡ï¼Œ<code>newValue</code> æ˜¯æ–°å€¼ï¼Œ <code>oldValue</code> æ˜¯æ—§å€¼ï¼Œå› ä¸ºä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡äº†ã€‚</p></li></ul></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h1&gt;æƒ…å†µäºŒï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®&lt;/h1&gt;</span><br><span class="line">    &lt;h2&gt;å§“åï¼š&#123;&#123; person.name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123; person.age &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeAge&quot;&gt;ä¿®æ”¹å¹´é¾„&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changePerson&quot;&gt;ä¿®æ”¹æ•´ä¸ªäºº&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;ref,watch&#125; from &#x27;vue&#x27;</span><br><span class="line">  // æ•°æ®</span><br><span class="line">  let person = ref(&#123;</span><br><span class="line">    name:&#x27;å¼ ä¸‰&#x27;,</span><br><span class="line">    age:18</span><br><span class="line">  &#125;)</span><br><span class="line">  // æ–¹æ³•</span><br><span class="line">  function changeName()&#123;</span><br><span class="line">    person.value.name += &#x27;~&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  function changeAge()&#123;</span><br><span class="line">    person.value.age += 1</span><br><span class="line">  &#125;</span><br><span class="line">  function changePerson()&#123;</span><br><span class="line">    person.value = &#123;name:&#x27;æå››&#x27;,age:90&#125;</span><br><span class="line">  &#125;</span><br><span class="line">  /* </span><br><span class="line">    ç›‘è§†ï¼Œæƒ…å†µä¸€ï¼šç›‘è§†ã€refã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œç›‘è§†çš„æ˜¯å¯¹è±¡çš„åœ°å€å€¼ï¼Œè‹¥æƒ³ç›‘è§†å¯¹è±¡å†…éƒ¨å±æ€§çš„å˜åŒ–ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†</span><br><span class="line">    watchçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ï¼šè¢«ç›‘è§†çš„æ•°æ®</span><br><span class="line">    watchçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ï¼šç›‘è§†çš„å›è°ƒ</span><br><span class="line">    watchçš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ï¼šé…ç½®å¯¹è±¡ï¼ˆdeepã€immediateç­‰ç­‰.....ï¼‰ </span><br><span class="line">  */</span><br><span class="line">  watch(person,(newValue,oldValue)=&gt;&#123;</span><br><span class="line">    console.log(&#x27;personå˜åŒ–äº†&#x27;,newValue,oldValue)</span><br><span class="line">  &#125;,&#123;deep:true&#125;)</span><br><span class="line">  </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="æƒ…å†µä¸‰"><a href="#æƒ…å†µä¸‰" class="headerlink" title="*  æƒ…å†µä¸‰"></a>*  æƒ…å†µä¸‰</h3><p>ç›‘è§†<code>reactive</code>å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œä¸”é»˜è®¤å¼€å¯äº†æ·±åº¦ç›‘è§†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h1&gt;æƒ…å†µä¸‰ï¼šç›‘è§†ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®&lt;/h1&gt;</span><br><span class="line">    &lt;h2&gt;å§“åï¼š&#123;&#123; person.name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123; person.age &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeAge&quot;&gt;ä¿®æ”¹å¹´é¾„&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changePerson&quot;&gt;ä¿®æ”¹æ•´ä¸ªäºº&lt;/button&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;h2&gt;æµ‹è¯•ï¼š&#123;&#123;obj.a.b.c&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;test&quot;&gt;ä¿®æ”¹obj.a.b.c&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;reactive,watch&#125; from &#x27;vue&#x27;</span><br><span class="line">  // æ•°æ®</span><br><span class="line">  let person = reactive(&#123;</span><br><span class="line">    name:&#x27;å¼ ä¸‰&#x27;,</span><br><span class="line">    age:18</span><br><span class="line">  &#125;)</span><br><span class="line">  let obj = reactive(&#123;</span><br><span class="line">    a:&#123;</span><br><span class="line">      b:&#123;</span><br><span class="line">        c:666</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  // æ–¹æ³•</span><br><span class="line">  function changeName()&#123;</span><br><span class="line">    person.name += &#x27;~&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  function changeAge()&#123;</span><br><span class="line">    person.age += 1</span><br><span class="line">  &#125;</span><br><span class="line">  function changePerson()&#123;</span><br><span class="line">    Object.assign(person,&#123;name:&#x27;æå››&#x27;,age:80&#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  function test()&#123;</span><br><span class="line">    obj.a.b.c = 888</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // ç›‘è§†ï¼Œæƒ…å†µä¸‰ï¼šç›‘è§†ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ï¼Œä¸”é»˜è®¤æ˜¯å¼€å¯æ·±åº¦ç›‘è§†çš„</span><br><span class="line">  watch(person,(newValue,oldValue)=&gt;&#123;</span><br><span class="line">    console.log(&#x27;personå˜åŒ–äº†&#x27;,newValue,oldValue)</span><br><span class="line">  &#125;)</span><br><span class="line">  watch(obj,(newValue,oldValue)=&gt;&#123;</span><br><span class="line">    console.log(&#x27;Objå˜åŒ–äº†&#x27;,newValue,oldValue)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="æƒ…å†µå››"><a href="#æƒ…å†µå››" class="headerlink" title="* æƒ…å†µå››"></a>* æƒ…å†µå››</h3><p>ç›‘è§†<code>ref</code>æˆ–<code>reactive</code>å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ä¸­çš„<strong>æŸä¸ªå±æ€§</strong>ï¼Œæ³¨æ„ç‚¹å¦‚ä¸‹ï¼š</p><ol><li>è‹¥è¯¥å±æ€§å€¼<strong>ä¸æ˜¯</strong>ã€å¯¹è±¡ç±»å‹ã€‘ï¼Œéœ€è¦å†™æˆå‡½æ•°å½¢å¼ã€‚</li><li>è‹¥è¯¥å±æ€§å€¼æ˜¯<strong>ä¾ç„¶</strong>æ˜¯ã€å¯¹è±¡ç±»å‹ã€‘ï¼Œå¯ç›´æ¥ç¼–ï¼Œä¹Ÿå¯å†™æˆå‡½æ•°ï¼Œå»ºè®®å†™æˆå‡½æ•°ã€‚</li></ol><p>ç»“è®ºï¼šç›‘è§†çš„è¦æ˜¯å¯¹è±¡é‡Œçš„å±æ€§ï¼Œé‚£ä¹ˆæœ€å¥½å†™å‡½æ•°å¼ï¼Œæ³¨æ„ç‚¹ï¼šè‹¥æ˜¯å¯¹è±¡ç›‘è§†çš„æ˜¯åœ°å€å€¼ï¼Œéœ€è¦å…³æ³¨å¯¹è±¡å†…éƒ¨ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯æ·±åº¦ç›‘è§†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h1&gt;æƒ…å†µå››ï¼šç›‘è§†ã€refã€‘æˆ–ã€reactiveã€‘å®šä¹‰çš„ã€å¯¹è±¡ç±»å‹ã€‘æ•°æ®ä¸­çš„æŸä¸ªå±æ€§&lt;/h1&gt;</span><br><span class="line">    &lt;h2&gt;å§“åï¼š&#123;&#123; person.name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123; person.age &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;æ±½è½¦ï¼š&#123;&#123; person.car.c1 &#125;&#125;ã€&#123;&#123; person.car.c2 &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeAge&quot;&gt;ä¿®æ”¹å¹´é¾„&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeC1&quot;&gt;ä¿®æ”¹ç¬¬ä¸€å°è½¦&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeC2&quot;&gt;ä¿®æ”¹ç¬¬äºŒå°è½¦&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeCar&quot;&gt;ä¿®æ”¹æ•´ä¸ªè½¦&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;reactive,watch&#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">  // æ•°æ®</span><br><span class="line">  let person = reactive(&#123;</span><br><span class="line">    name:&#x27;å¼ ä¸‰&#x27;,</span><br><span class="line">    age:18,</span><br><span class="line">    car:&#123;</span><br><span class="line">      c1:&#x27;å¥”é©°&#x27;,</span><br><span class="line">      c2:&#x27;å®é©¬&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  // æ–¹æ³•</span><br><span class="line">  function changeName()&#123;</span><br><span class="line">    person.name += &#x27;~&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  function changeAge()&#123;</span><br><span class="line">    person.age += 1</span><br><span class="line">  &#125;</span><br><span class="line">  function changeC1()&#123;</span><br><span class="line">    person.car.c1 = &#x27;å¥¥è¿ª&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  function changeC2()&#123;</span><br><span class="line">    person.car.c2 = &#x27;å¤§ä¼—&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  function changeCar()&#123;</span><br><span class="line">    person.car = &#123;c1:&#x27;é›…è¿ª&#x27;,c2:&#x27;çˆ±ç›&#x27;&#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // ç›‘è§†ï¼Œæƒ…å†µå››ï¼šç›‘è§†å“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ï¼Œä¸”è¯¥å±æ€§æ˜¯åŸºæœ¬ç±»å‹çš„ï¼Œè¦å†™æˆå‡½æ•°å¼</span><br><span class="line">  /* watch(()=&gt; person.name,(newValue,oldValue)=&gt;&#123;</span><br><span class="line">    console.log(&#x27;person.nameå˜åŒ–äº†&#x27;,newValue,oldValue)</span><br><span class="line">  &#125;) */</span><br><span class="line"></span><br><span class="line">  // ç›‘è§†ï¼Œæƒ…å†µå››ï¼šç›‘è§†å“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ï¼Œä¸”è¯¥å±æ€§æ˜¯å¯¹è±¡ç±»å‹çš„ï¼Œå¯ä»¥ç›´æ¥å†™ï¼Œä¹Ÿèƒ½å†™å‡½æ•°ï¼Œæ›´æ¨èå†™å‡½æ•°</span><br><span class="line">  watch(()=&gt;person.car,(newValue,oldValue)=&gt;&#123;</span><br><span class="line">    console.log(&#x27;person.carå˜åŒ–äº†&#x27;,newValue,oldValue)</span><br><span class="line">  &#125;,&#123;deep:true&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="æƒ…å†µäº”"><a href="#æƒ…å†µäº”" class="headerlink" title="* æƒ…å†µäº”"></a>* æƒ…å†µäº”</h3><p>ç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h1&gt;æƒ…å†µäº”ï¼šç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ®&lt;/h1&gt;</span><br><span class="line">    &lt;h2&gt;å§“åï¼š&#123;&#123; person.name &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;å¹´é¾„ï¼š&#123;&#123; person.age &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;æ±½è½¦ï¼š&#123;&#123; person.car.c1 &#125;&#125;ã€&#123;&#123; person.car.c2 &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeName&quot;&gt;ä¿®æ”¹åå­—&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeAge&quot;&gt;ä¿®æ”¹å¹´é¾„&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeC1&quot;&gt;ä¿®æ”¹ç¬¬ä¸€å°è½¦&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeC2&quot;&gt;ä¿®æ”¹ç¬¬äºŒå°è½¦&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeCar&quot;&gt;ä¿®æ”¹æ•´ä¸ªè½¦&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;reactive,watch&#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">  // æ•°æ®</span><br><span class="line">  let person = reactive(&#123;</span><br><span class="line">    name:&#x27;å¼ ä¸‰&#x27;,</span><br><span class="line">    age:18,</span><br><span class="line">    car:&#123;</span><br><span class="line">      c1:&#x27;å¥”é©°&#x27;,</span><br><span class="line">      c2:&#x27;å®é©¬&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  // æ–¹æ³•</span><br><span class="line">  function changeName()&#123;</span><br><span class="line">    person.name += &#x27;~&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  function changeAge()&#123;</span><br><span class="line">    person.age += 1</span><br><span class="line">  &#125;</span><br><span class="line">  function changeC1()&#123;</span><br><span class="line">    person.car.c1 = &#x27;å¥¥è¿ª&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  function changeC2()&#123;</span><br><span class="line">    person.car.c2 = &#x27;å¤§ä¼—&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  function changeCar()&#123;</span><br><span class="line">    person.car = &#123;c1:&#x27;é›…è¿ª&#x27;,c2:&#x27;çˆ±ç›&#x27;&#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // ç›‘è§†ï¼Œæƒ…å†µäº”ï¼šç›‘è§†ä¸Šè¿°çš„å¤šä¸ªæ•°æ®</span><br><span class="line">  watch([()=&gt;person.name,person.car],(newValue,oldValue)=&gt;&#123;</span><br><span class="line">    console.log(&#x27;person.carå˜åŒ–äº†&#x27;,newValue,oldValue)</span><br><span class="line">  &#125;,&#123;deep:true&#125;)</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="3-10-ã€watchEffectã€‘"><a href="#3-10-ã€watchEffectã€‘" class="headerlink" title="3.10. ã€watchEffectã€‘"></a>3.10. ã€watchEffectã€‘</h2><ul><li><p>å®˜ç½‘ï¼šç«‹å³è¿è¡Œä¸€ä¸ªå‡½æ•°ï¼ŒåŒæ—¶å“åº”å¼åœ°è¿½è¸ªå…¶ä¾èµ–ï¼Œå¹¶åœ¨ä¾èµ–æ›´æ”¹æ—¶é‡æ–°æ‰§è¡Œè¯¥å‡½æ•°ã€‚</p></li><li><p><code>watch</code>å¯¹æ¯”<code>watchEffect</code></p><blockquote><ol><li><p>éƒ½èƒ½ç›‘å¬å“åº”å¼æ•°æ®çš„å˜åŒ–ï¼Œä¸åŒçš„æ˜¯ç›‘å¬æ•°æ®å˜åŒ–çš„æ–¹å¼ä¸åŒ</p></li><li><p><code>watch</code>ï¼šè¦æ˜ç¡®æŒ‡å‡ºç›‘è§†çš„æ•°æ®</p></li><li><p><code>watchEffect</code>ï¼šä¸ç”¨æ˜ç¡®æŒ‡å‡ºç›‘è§†çš„æ•°æ®ï¼ˆå‡½æ•°ä¸­ç”¨åˆ°å“ªäº›å±æ€§ï¼Œé‚£å°±ç›‘è§†å“ªäº›å±æ€§ï¼‰ã€‚</p></li></ol></blockquote></li><li><p>ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h1&gt;éœ€æ±‚ï¼šæ°´æ¸©è¾¾åˆ°50â„ƒï¼Œæˆ–æ°´ä½è¾¾åˆ°20cmï¼Œåˆ™è”ç³»æœåŠ¡å™¨&lt;/h1&gt;</span><br><span class="line">    &lt;h2 id=&quot;demo&quot;&gt;æ°´æ¸©ï¼š&#123;&#123;temp&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;h2&gt;æ°´ä½ï¼š&#123;&#123;height&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changePrice&quot;&gt;æ°´æ¸©+1&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;changeSum&quot;&gt;æ°´ä½+10&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;ref,watch,watchEffect&#125; from &#x27;vue&#x27;</span><br><span class="line">  // æ•°æ®</span><br><span class="line">  let temp = ref(0)</span><br><span class="line">  let height = ref(0)</span><br><span class="line"></span><br><span class="line">  // æ–¹æ³•</span><br><span class="line">  function changePrice()&#123;</span><br><span class="line">    temp.value += 10</span><br><span class="line">  &#125;</span><br><span class="line">  function changeSum()&#123;</span><br><span class="line">    height.value += 1</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // ç”¨watchå®ç°ï¼Œéœ€è¦æ˜ç¡®çš„æŒ‡å‡ºè¦ç›‘è§†ï¼štempã€height</span><br><span class="line">  watch([temp,height],(value)=&gt;&#123;</span><br><span class="line">    // ä»valueä¸­è·å–æœ€æ–°çš„tempå€¼ã€heightå€¼</span><br><span class="line">    const [newTemp,newHeight] = value</span><br><span class="line">    // å®¤æ¸©è¾¾åˆ°50â„ƒï¼Œæˆ–æ°´ä½è¾¾åˆ°20cmï¼Œç«‹åˆ»è”ç³»æœåŠ¡å™¨</span><br><span class="line">    if(newTemp &gt;= 50 || newHeight &gt;= 20)&#123;</span><br><span class="line">      console.log(&#x27;è”ç³»æœåŠ¡å™¨&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  // ç”¨watchEffectå®ç°ï¼Œä¸ç”¨</span><br><span class="line">  const stopWtach = watchEffect(()=&gt;&#123;</span><br><span class="line">    // å®¤æ¸©è¾¾åˆ°50â„ƒï¼Œæˆ–æ°´ä½è¾¾åˆ°20cmï¼Œç«‹åˆ»è”ç³»æœåŠ¡å™¨</span><br><span class="line">    if(temp.value &gt;= 50 || height.value &gt;= 20)&#123;</span><br><span class="line">      console.log(document.getElementById(&#x27;demo&#x27;)?.innerText)</span><br><span class="line">      console.log(&#x27;è”ç³»æœåŠ¡å™¨&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">    // æ°´æ¸©è¾¾åˆ°100ï¼Œæˆ–æ°´ä½è¾¾åˆ°50ï¼Œå–æ¶ˆç›‘è§†</span><br><span class="line">    if(temp.value === 100 || height.value === 50)&#123;</span><br><span class="line">      console.log(&#x27;æ¸…ç†äº†&#x27;)</span><br><span class="line">      stopWtach()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul><h2 id="3-11-ã€æ ‡ç­¾çš„-ref-å±æ€§ã€‘"><a href="#3-11-ã€æ ‡ç­¾çš„-ref-å±æ€§ã€‘" class="headerlink" title="3.11. ã€æ ‡ç­¾çš„ ref å±æ€§ã€‘"></a>3.11. ã€æ ‡ç­¾çš„ ref å±æ€§ã€‘</h2><p>ä½œç”¨ï¼šç”¨äºæ³¨å†Œæ¨¡æ¿å¼•ç”¨ã€‚</p><blockquote><ul><li><p>ç”¨åœ¨æ™®é€š<code>DOM</code>æ ‡ç­¾ä¸Šï¼Œè·å–çš„æ˜¯<code>DOM</code>èŠ‚ç‚¹ã€‚</p></li><li><p>ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šï¼Œè·å–çš„æ˜¯ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</p></li></ul></blockquote><p>ç”¨åœ¨æ™®é€š<code>DOM</code>æ ‡ç­¾ä¸Šï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h1 ref=&quot;title1&quot;&gt;å°šç¡…è°·&lt;/h1&gt;</span><br><span class="line">    &lt;h2 ref=&quot;title2&quot;&gt;å‰ç«¯&lt;/h2&gt;</span><br><span class="line">    &lt;h3 ref=&quot;title3&quot;&gt;Vue&lt;/h3&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; ref=&quot;inpt&quot;&gt; &lt;br&gt;&lt;br&gt;</span><br><span class="line">    &lt;button @click=&quot;showLog&quot;&gt;ç‚¹æˆ‘æ‰“å°å†…å®¹&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">  let title1 = ref()</span><br><span class="line">  let title2 = ref()</span><br><span class="line">  let title3 = ref()</span><br><span class="line"></span><br><span class="line">  function showLog()&#123;</span><br><span class="line">    // é€šè¿‡idè·å–å…ƒç´ </span><br><span class="line">    const t1 = document.getElementById(&#x27;title1&#x27;)</span><br><span class="line">    // æ‰“å°å†…å®¹</span><br><span class="line">    console.log((t1 as HTMLElement).innerText)</span><br><span class="line">    console.log((&lt;HTMLElement&gt;t1).innerText)</span><br><span class="line">    console.log(t1?.innerText)</span><br><span class="line">    </span><br><span class="line">/************************************/</span><br><span class="line"></span><br><span class="line">    // é€šè¿‡refè·å–å…ƒç´ </span><br><span class="line">    console.log(title1.value)</span><br><span class="line">    console.log(title2.value)</span><br><span class="line">    console.log(title3.value)</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>ç”¨åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- çˆ¶ç»„ä»¶App.vue --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;Person ref=&quot;ren&quot;/&gt;</span><br><span class="line">  &lt;button @click=&quot;test&quot;&gt;æµ‹è¯•&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;App&quot;&gt;</span><br><span class="line">  import Person from &#x27;./components/Person.vue&#x27;</span><br><span class="line">  import &#123;ref&#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">  let ren = ref()</span><br><span class="line"></span><br><span class="line">  function test()&#123;</span><br><span class="line">    console.log(ren.value.name)</span><br><span class="line">    console.log(ren.value.age)</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;!-- å­ç»„ä»¶Person.vueä¸­è¦ä½¿ç”¨defineExposeæš´éœ²å†…å®¹ --&gt;</span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123;ref,defineExpose&#125; from &#x27;vue&#x27;</span><br><span class="line">// æ•°æ®</span><br><span class="line">  let name = ref(&#x27;å¼ ä¸‰&#x27;)</span><br><span class="line">  let age = ref(18)</span><br><span class="line">  /****************************/</span><br><span class="line">  /****************************/</span><br><span class="line">  // ä½¿ç”¨defineExposeå°†ç»„ä»¶ä¸­çš„æ•°æ®äº¤ç»™å¤–éƒ¨</span><br><span class="line">  defineExpose(&#123;name,age&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="3-12-ã€propsã€‘"><a href="#3-12-ã€propsã€‘" class="headerlink" title="3.12. ã€propsã€‘"></a>3.12. ã€propsã€‘</h2><blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œé™åˆ¶æ¯ä¸ªPersonå¯¹è±¡çš„æ ¼å¼</span></span><br><span class="line"><span class="keyword">export</span> interface <span class="title class_">PersonInter</span> &#123;</span><br><span class="line"><span class="attr">id</span>:string,</span><br><span class="line"><span class="attr">name</span>:string,</span><br><span class="line"> <span class="attr">age</span>:number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹Persons</span></span><br><span class="line"><span class="keyword">export</span> type <span class="title class_">Persons</span> = <span class="title class_">Array</span>&lt;<span class="title class_">PersonInter</span>&gt;</span><br></pre></td></tr></table></figure><p><code>App.vue</code>ä¸­ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;Person :list=&quot;persons&quot;/&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;App&quot;&gt;</span><br><span class="line">import Person from &#x27;./components/Person.vue&#x27;</span><br><span class="line">import &#123;reactive&#125; from &#x27;vue&#x27;</span><br><span class="line"> import &#123;type Persons&#125; from &#x27;./types&#x27;</span><br><span class="line"></span><br><span class="line"> let persons = reactive&lt;Persons&gt;([</span><br><span class="line">  &#123;id:&#x27;e98219e12&#x27;,name:&#x27;å¼ ä¸‰&#x27;,age:18&#125;,</span><br><span class="line">   &#123;id:&#x27;e98219e13&#x27;,name:&#x27;æå››&#x27;,age:19&#125;,</span><br><span class="line">    &#123;id:&#x27;e98219e14&#x27;,name:&#x27;ç‹äº”&#x27;,age:20&#125;</span><br><span class="line">  ])</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>Person.vue</code>ä¸­ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;person&quot;&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li v-for=&quot;item in list&quot; :key=&quot;item.id&quot;&gt;</span><br><span class="line">     &#123;&#123;item.name&#125;&#125;--&#123;&#123;item.age&#125;&#125;</span><br><span class="line">   &lt;/li&gt;</span><br><span class="line"> &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">import &#123;defineProps&#125; from &#x27;vue&#x27;</span><br><span class="line">import &#123;type PersonInter&#125; from &#x27;@/types&#x27;</span><br><span class="line"></span><br><span class="line">// ç¬¬ä¸€ç§å†™æ³•ï¼šä»…æ¥æ”¶</span><br><span class="line">// const props = defineProps([&#x27;list&#x27;])</span><br><span class="line"></span><br><span class="line">// ç¬¬äºŒç§å†™æ³•ï¼šæ¥æ”¶+é™åˆ¶ç±»å‹</span><br><span class="line">// defineProps&lt;&#123;list:Persons&#125;&gt;()</span><br><span class="line"></span><br><span class="line">// ç¬¬ä¸‰ç§å†™æ³•ï¼šæ¥æ”¶+é™åˆ¶ç±»å‹+æŒ‡å®šé»˜è®¤å€¼+é™åˆ¶å¿…è¦æ€§</span><br><span class="line">let props = withDefaults(defineProps&lt;&#123;list?:Persons&#125;&gt;(),&#123;</span><br><span class="line">  list:()=&gt;[&#123;id:&#x27;asdasg01&#x27;,name:&#x27;å°çŒªä½©å¥‡&#x27;,age:18&#125;]</span><br><span class="line">&#125;)</span><br><span class="line">console.log(props)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></blockquote><h2 id="3-13-ã€ç”Ÿå‘½å‘¨æœŸã€‘"><a href="#3-13-ã€ç”Ÿå‘½å‘¨æœŸã€‘" class="headerlink" title="3.13. ã€ç”Ÿå‘½å‘¨æœŸã€‘"></a>3.13. ã€ç”Ÿå‘½å‘¨æœŸã€‘</h2><ul><li><p>æ¦‚å¿µï¼š<code>Vue</code>ç»„ä»¶å®ä¾‹åœ¨åˆ›å»ºæ—¶è¦ç»å†ä¸€ç³»åˆ—çš„åˆå§‹åŒ–æ­¥éª¤ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­<code>Vue</code>ä¼šåœ¨åˆé€‚çš„æ—¶æœºï¼Œè°ƒç”¨ç‰¹å®šçš„å‡½æ•°ï¼Œä»è€Œè®©å¼€å‘è€…æœ‰æœºä¼šåœ¨ç‰¹å®šé˜¶æ®µè¿è¡Œè‡ªå·±çš„ä»£ç ï¼Œè¿™äº›ç‰¹å®šçš„å‡½æ•°ç»Ÿç§°ä¸ºï¼šç”Ÿå‘½å‘¨æœŸé’©å­</p></li><li><p>è§„å¾‹ï¼š</p><blockquote><p>ç”Ÿå‘½å‘¨æœŸæ•´ä½“åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯ï¼š<strong>åˆ›å»ºã€æŒ‚è½½ã€æ›´æ–°ã€é”€æ¯</strong>ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰ä¸¤ä¸ªé’©å­ï¼Œä¸€å‰ä¸€åã€‚</p></blockquote></li><li><p><code>Vue2</code>çš„ç”Ÿå‘½å‘¨æœŸ</p><blockquote><p>åˆ›å»ºé˜¶æ®µï¼š<code>beforeCreate</code>ã€<code>created</code></p><p>æŒ‚è½½é˜¶æ®µï¼š<code>beforeMount</code>ã€<code>mounted</code></p><p>æ›´æ–°é˜¶æ®µï¼š<code>beforeUpdate</code>ã€<code>updated</code></p><p>é”€æ¯é˜¶æ®µï¼š<code>beforeDestroy</code>ã€<code>destroyed</code></p></blockquote></li><li><p><code>Vue3</code>çš„ç”Ÿå‘½å‘¨æœŸ</p><blockquote><p>åˆ›å»ºé˜¶æ®µï¼š<code>setup</code></p><p>æŒ‚è½½é˜¶æ®µï¼š<code>onBeforeMount</code>ã€<code>onMounted</code></p><p>æ›´æ–°é˜¶æ®µï¼š<code>onBeforeUpdate</code>ã€<code>onUpdated</code></p><p>å¸è½½é˜¶æ®µï¼š<code>onBeforeUnmount</code>ã€<code>onUnmounted</code></p></blockquote></li><li><p>å¸¸ç”¨çš„é’©å­ï¼š<code>onMounted</code>(æŒ‚è½½å®Œæ¯•)ã€<code>onUpdated</code>(æ›´æ–°å®Œæ¯•)ã€<code>onBeforeUnmount</code>(å¸è½½ä¹‹å‰)</p></li><li><p>ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;person&quot;&gt;</span><br><span class="line">    &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123; sum &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;changeSum&quot;&gt;ç‚¹æˆ‘sum+1&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- vue3å†™æ³• --&gt;</span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;Person&quot;&gt;</span><br><span class="line">  import &#123; </span><br><span class="line">    ref, </span><br><span class="line">    onBeforeMount, </span><br><span class="line">    onMounted, </span><br><span class="line">    onBeforeUpdate, </span><br><span class="line">    onUpdated, </span><br><span class="line">    onBeforeUnmount, </span><br><span class="line">    onUnmounted </span><br><span class="line">  &#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">  // æ•°æ®</span><br><span class="line">  let sum = ref(0)</span><br><span class="line">  // æ–¹æ³•</span><br><span class="line">  function changeSum() &#123;</span><br><span class="line">    sum.value += 1</span><br><span class="line">  &#125;</span><br><span class="line">  console.log(&#x27;setup&#x27;)</span><br><span class="line">  // ç”Ÿå‘½å‘¨æœŸé’©å­</span><br><span class="line">  onBeforeMount(()=&gt;&#123;</span><br><span class="line">    console.log(&#x27;æŒ‚è½½ä¹‹å‰&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">  onMounted(()=&gt;&#123;</span><br><span class="line">    console.log(&#x27;æŒ‚è½½å®Œæ¯•&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">  onBeforeUpdate(()=&gt;&#123;</span><br><span class="line">    console.log(&#x27;æ›´æ–°ä¹‹å‰&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">  onUpdated(()=&gt;&#123;</span><br><span class="line">    console.log(&#x27;æ›´æ–°å®Œæ¯•&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">  onBeforeUnmount(()=&gt;&#123;</span><br><span class="line">    console.log(&#x27;å¸è½½ä¹‹å‰&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">  onUnmounted(()=&gt;&#123;</span><br><span class="line">    console.log(&#x27;å¸è½½å®Œæ¯•&#x27;)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul><h2 id="3-14-ã€è‡ªå®šä¹‰hookã€‘"><a href="#3-14-ã€è‡ªå®šä¹‰hookã€‘" class="headerlink" title="3.14. ã€è‡ªå®šä¹‰hookã€‘"></a>3.14. ã€è‡ªå®šä¹‰hookã€‘</h2><ul><li><p>ä»€ä¹ˆæ˜¯<code>hook</code>ï¼Ÿâ€”â€” æœ¬è´¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠ<code>setup</code>å‡½æ•°ä¸­ä½¿ç”¨çš„<code>Composition API</code>è¿›è¡Œäº†å°è£…ï¼Œç±»ä¼¼äº<code>vue2.x</code>ä¸­çš„<code>mixin</code>ã€‚</p></li><li><p>è‡ªå®šä¹‰<code>hook</code>çš„ä¼˜åŠ¿ï¼šå¤ç”¨ä»£ç , è®©<code>setup</code>ä¸­çš„é€»è¾‘æ›´æ¸…æ¥šæ˜“æ‡‚ã€‚</p></li></ul><p>ç¤ºä¾‹ä»£ç ï¼š</p><ul><li><p><code>useSum.ts</code>ä¸­å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;ref,onMounted&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="title function_">ref</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">increment</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    sum.<span class="property">value</span> += <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">decrement</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">    sum.<span class="property">value</span> -= <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">onMounted</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">increment</span>()</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//å‘å¤–éƒ¨æš´éœ²æ•°æ®</span></span><br><span class="line">  <span class="keyword">return</span> &#123;sum,increment,decrement&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>useDog.ts</code>ä¸­å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;reactive,onMounted&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> axios,&#123;<span class="title class_">AxiosError</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> dogList = reactive&lt;string[]&gt;([])</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getDog</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// å‘è¯·æ±‚</span></span><br><span class="line">      <span class="keyword">let</span> &#123;data&#125; = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;https://dog.ceo/api/breed/pembroke/images/random&#x27;</span>)</span><br><span class="line">      <span class="comment">// ç»´æŠ¤æ•°æ®</span></span><br><span class="line">      dogList.<span class="title function_">push</span>(data.<span class="property">message</span>)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="comment">// å¤„ç†é”™è¯¯</span></span><br><span class="line">      <span class="keyword">const</span> err = &lt;<span class="title class_">AxiosError</span>&gt;error</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æŒ‚è½½é’©å­</span></span><br><span class="line">  <span class="title function_">onMounted</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="title function_">getDog</span>()</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//å‘å¤–éƒ¨æš´éœ²æ•°æ®</span></span><br><span class="line">  <span class="keyword">return</span> &#123;dogList,getDog&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶ä¸­å…·ä½“ä½¿ç”¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123;sum&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;increment&quot;&gt;ç‚¹æˆ‘+1&lt;/button&gt;</span><br><span class="line">  &lt;button @click=&quot;decrement&quot;&gt;ç‚¹æˆ‘-1&lt;/button&gt;</span><br><span class="line">  &lt;hr&gt;</span><br><span class="line">  &lt;img v-for=&quot;(u,index) in dogList.urlList&quot; :key=&quot;index&quot; :src=&quot;(u as string)&quot;&gt; </span><br><span class="line">  &lt;span v-show=&quot;dogList.isLoading&quot;&gt;åŠ è½½ä¸­......&lt;/span&gt;&lt;br&gt;</span><br><span class="line">  &lt;button @click=&quot;getDog&quot;&gt;å†æ¥ä¸€åªç‹—&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot;&gt;</span><br><span class="line">  import &#123;defineComponent&#125; from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">  export default defineComponent(&#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot;&gt;</span><br><span class="line">  import useSum from &#x27;./hooks/useSum&#x27;</span><br><span class="line">  import useDog from &#x27;./hooks/useDog&#x27;</span><br><span class="line"></span><br><span class="line">  let &#123;sum,increment,decrement&#125; = useSum()</span><br><span class="line">  let &#123;dogList,getDog&#125; = useDog()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul><hr><h1 id="4-è·¯ç”±"><a href="#4-è·¯ç”±" class="headerlink" title="4. è·¯ç”±"></a>4. è·¯ç”±</h1><h2 id="4-1-ã€å¯¹è·¯ç”±çš„ç†è§£ã€‘"><a href="#4-1-ã€å¯¹è·¯ç”±çš„ç†è§£ã€‘" class="headerlink" title="4.1. ã€å¯¹è·¯ç”±çš„ç†è§£ã€‘"></a>4.1. ã€å¯¹è·¯ç”±çš„ç†è§£ã€‘</h2><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/image-20231018144351536.png" alt="image-20231018144351536" style="zoom:20%;border-radius:40px" /> <h2 id="4-2-ã€åŸºæœ¬åˆ‡æ¢æ•ˆæœã€‘"><a href="#4-2-ã€åŸºæœ¬åˆ‡æ¢æ•ˆæœã€‘" class="headerlink" title="4.2. ã€åŸºæœ¬åˆ‡æ¢æ•ˆæœã€‘"></a>4.2. ã€åŸºæœ¬åˆ‡æ¢æ•ˆæœã€‘</h2><ul><li><p><code>Vue3</code>ä¸­è¦ä½¿ç”¨<code>vue-router</code>çš„æœ€æ–°ç‰ˆæœ¬ï¼Œç›®å‰æ˜¯<code>4</code>ç‰ˆæœ¬ã€‚</p></li><li><p>è·¯ç”±é…ç½®æ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;createRouter,createWebHistory&#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;@/pages/Home.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">News</span> <span class="keyword">from</span> <span class="string">&#x27;@/pages/News.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About</span> <span class="keyword">from</span> <span class="string">&#x27;@/pages/About.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line"><span class="attr">history</span>:<span class="title function_">createWebHistory</span>(),</span><br><span class="line"><span class="attr">routes</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Home</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">About</span></span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure></li></ul><ul><li><p><code>main.ts</code>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router/index&#x27;</span></span><br><span class="line">app.<span class="title function_">use</span>(router)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure></li></ul><ul><li><p><code>App.vue</code>ä»£ç å¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h2 class=&quot;title&quot;&gt;Vueè·¯ç”±æµ‹è¯•&lt;/h2&gt;</span><br><span class="line">    &lt;!-- å¯¼èˆªåŒº --&gt;</span><br><span class="line">    &lt;div class=&quot;navigate&quot;&gt;</span><br><span class="line">      &lt;RouterLink to=&quot;/home&quot; active-class=&quot;active&quot;&gt;é¦–é¡µ&lt;/RouterLink&gt;</span><br><span class="line">      &lt;RouterLink to=&quot;/news&quot; active-class=&quot;active&quot;&gt;æ–°é—»&lt;/RouterLink&gt;</span><br><span class="line">      &lt;RouterLink to=&quot;/about&quot; active-class=&quot;active&quot;&gt;å…³äº&lt;/RouterLink&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;!-- å±•ç¤ºåŒº --&gt;</span><br><span class="line">    &lt;div class=&quot;main-content&quot;&gt;</span><br><span class="line">      &lt;RouterView&gt;&lt;/RouterView&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script lang=&quot;ts&quot; setup name=&quot;App&quot;&gt;</span><br><span class="line">  import &#123;RouterLink,RouterView&#125; from &#x27;vue-router&#x27;  </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ul><h2 id="4-3-ã€ä¸¤ä¸ªæ³¨æ„ç‚¹ã€‘"><a href="#4-3-ã€ä¸¤ä¸ªæ³¨æ„ç‚¹ã€‘" class="headerlink" title="4.3. ã€ä¸¤ä¸ªæ³¨æ„ç‚¹ã€‘"></a>4.3. ã€ä¸¤ä¸ªæ³¨æ„ç‚¹ã€‘</h2><blockquote><ol><li><p>è·¯ç”±ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨<code>pages</code> æˆ– <code>views</code>æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨<code>components</code>æ–‡ä»¶å¤¹ã€‚</p></li><li><p>é€šè¿‡ç‚¹å‡»å¯¼èˆªï¼Œè§†è§‰æ•ˆæœä¸Šâ€œæ¶ˆå¤±â€ äº†çš„è·¯ç”±ç»„ä»¶ï¼Œé»˜è®¤æ˜¯è¢«<strong>å¸è½½</strong>æ‰çš„ï¼Œéœ€è¦çš„æ—¶å€™å†å»<strong>æŒ‚è½½</strong>ã€‚</p></li></ol></blockquote><h2 id="4-4-ã€è·¯ç”±å™¨å·¥ä½œæ¨¡å¼ã€‘"><a href="#4-4-ã€è·¯ç”±å™¨å·¥ä½œæ¨¡å¼ã€‘" class="headerlink" title="4.4.ã€è·¯ç”±å™¨å·¥ä½œæ¨¡å¼ã€‘"></a>4.4.ã€è·¯ç”±å™¨å·¥ä½œæ¨¡å¼ã€‘</h2><ol><li><p><code>history</code>æ¨¡å¼</p><blockquote><p>ä¼˜ç‚¹ï¼š<code>URL</code>æ›´åŠ ç¾è§‚ï¼Œä¸å¸¦æœ‰<code>#</code>ï¼Œæ›´æ¥è¿‘ä¼ ç»Ÿçš„ç½‘ç«™<code>URL</code>ã€‚</p><p>ç¼ºç‚¹ï¼šåæœŸé¡¹ç›®ä¸Šçº¿ï¼Œéœ€è¦æœåŠ¡ç«¯é…åˆå¤„ç†è·¯å¾„é—®é¢˜ï¼Œå¦åˆ™åˆ·æ–°ä¼šæœ‰<code>404</code>é”™è¯¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line"><span class="attr">history</span>:<span class="title function_">createWebHistory</span>(), <span class="comment">//historyæ¨¡å¼</span></span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></blockquote></li><li><p><code>hash</code>æ¨¡å¼</p><blockquote><p>ä¼˜ç‚¹ï¼šå…¼å®¹æ€§æ›´å¥½ï¼Œå› ä¸ºä¸éœ€è¦æœåŠ¡å™¨ç«¯å¤„ç†è·¯å¾„ã€‚</p><p>ç¼ºç‚¹ï¼š<code>URL</code>å¸¦æœ‰<code>#</code>ä¸å¤ªç¾è§‚ï¼Œä¸”åœ¨<code>SEO</code>ä¼˜åŒ–æ–¹é¢ç›¸å¯¹è¾ƒå·®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line"><span class="attr">history</span>:<span class="title function_">createWebHashHistory</span>(), <span class="comment">//hashæ¨¡å¼</span></span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></blockquote></li></ol><h2 id="4-5-ã€toçš„ä¸¤ç§å†™æ³•ã€‘"><a href="#4-5-ã€toçš„ä¸¤ç§å†™æ³•ã€‘" class="headerlink" title="4.5. ã€toçš„ä¸¤ç§å†™æ³•ã€‘"></a>4.5. ã€toçš„ä¸¤ç§å†™æ³•ã€‘</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- ç¬¬ä¸€ç§ï¼štoçš„å­—ç¬¦ä¸²å†™æ³• --&gt;</span><br><span class="line">&lt;router-link active-class=&quot;active&quot; to=&quot;/home&quot;&gt;ä¸»é¡µ&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- ç¬¬äºŒç§ï¼štoçš„å¯¹è±¡å†™æ³• --&gt;</span><br><span class="line">&lt;router-link active-class=&quot;active&quot; :to=&quot;&#123;path:&#x27;/home&#x27;&#125;&quot;&gt;Home&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><h2 id="4-6-ã€å‘½åè·¯ç”±ã€‘"><a href="#4-6-ã€å‘½åè·¯ç”±ã€‘" class="headerlink" title="4.6. ã€å‘½åè·¯ç”±ã€‘"></a>4.6. ã€å‘½åè·¯ç”±ã€‘</h2><p>ä½œç”¨ï¼šå¯ä»¥ç®€åŒ–è·¯ç”±è·³è½¬åŠä¼ å‚ï¼ˆåé¢å°±è®²ï¼‰ã€‚</p><p>ç»™è·¯ç”±è§„åˆ™å‘½åï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">routes</span>:[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;zhuye&#x27;</span>,</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>:<span class="title class_">Home</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;xinwen&#x27;</span>,</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/news&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>:<span class="title class_">News</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;guanyu&#x27;</span>,</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>:<span class="title class_">About</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>è·³è½¬è·¯ç”±ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--ç®€åŒ–å‰ï¼šéœ€è¦å†™å®Œæ•´çš„è·¯å¾„ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ --&gt;</span><br><span class="line">&lt;router-link to=&quot;/news/detail&quot;&gt;è·³è½¬&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--ç®€åŒ–åï¼šç›´æ¥é€šè¿‡åå­—è·³è½¬ï¼ˆtoçš„å¯¹è±¡å†™æ³•é…åˆnameå±æ€§ï¼‰ --&gt;</span><br><span class="line">&lt;router-link :to=&quot;&#123;name:&#x27;guanyu&#x27;&#125;&quot;&gt;è·³è½¬&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><h2 id="4-7-ã€åµŒå¥—è·¯ç”±ã€‘"><a href="#4-7-ã€åµŒå¥—è·¯ç”±ã€‘" class="headerlink" title="4.7. ã€åµŒå¥—è·¯ç”±ã€‘"></a>4.7. ã€åµŒå¥—è·¯ç”±ã€‘</h2><ol><li><p>ç¼–å†™<code>News</code>çš„å­è·¯ç”±ï¼š<code>Detail.vue</code></p></li><li><p>é…ç½®è·¯ç”±è§„åˆ™ï¼Œä½¿ç”¨<code>children</code>é…ç½®é¡¹ï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="attr">history</span>:<span class="title function_">createWebHistory</span>(),</span><br><span class="line"><span class="attr">routes</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;zhuye&#x27;</span>,</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Home</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xinwen&#x27;</span>,</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/news&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">News</span>,</span><br><span class="line"><span class="attr">children</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xiang&#x27;</span>,</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;detail&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Detail</span></span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;guanyu&#x27;</span>,</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">About</span></span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure></li><li><p>è·³è½¬è·¯ç”±ï¼ˆè®°å¾—è¦åŠ å®Œæ•´è·¯å¾„ï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=&quot;/news/detail&quot;&gt;xxxx&lt;/router-link&gt;</span><br><span class="line">&lt;!-- æˆ– --&gt;</span><br><span class="line">&lt;router-link :to=&quot;&#123;path:&#x27;/news/detail&#x27;&#125;&quot;&gt;xxxx&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li><li><p>è®°å¾—å»<code>Home</code>ç»„ä»¶ä¸­é¢„ç•™ä¸€ä¸ª<code>&lt;router-view&gt;</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;news&quot;&gt;</span><br><span class="line">    &lt;nav class=&quot;news-list&quot;&gt;</span><br><span class="line">      &lt;RouterLink v-for=&quot;news in newsList&quot; :key=&quot;news.id&quot; :to=&quot;&#123;path:&#x27;/news/detail&#x27;&#125;&quot;&gt;</span><br><span class="line">        &#123;&#123;news.name&#125;&#125;</span><br><span class="line">      &lt;/RouterLink&gt;</span><br><span class="line">    &lt;/nav&gt;</span><br><span class="line">    &lt;div class=&quot;news-detail&quot;&gt;</span><br><span class="line">      &lt;RouterView/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></li></ol><h2 id="4-8-ã€è·¯ç”±ä¼ å‚ã€‘"><a href="#4-8-ã€è·¯ç”±ä¼ å‚ã€‘" class="headerlink" title="4.8. ã€è·¯ç”±ä¼ å‚ã€‘"></a>4.8. ã€è·¯ç”±ä¼ å‚ã€‘</h2><h3 id="queryå‚æ•°"><a href="#queryå‚æ•°" class="headerlink" title="queryå‚æ•°"></a>queryå‚æ•°</h3><ol><li><p>ä¼ é€’å‚æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ --&gt;</span><br><span class="line">&lt;router-link to=&quot;/news/detail?a=1&amp;b=2&amp;content=æ¬¢è¿ä½ &quot;&gt;</span><br><span class="line">è·³è½¬</span><br><span class="line">&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼ˆtoçš„å¯¹è±¡å†™æ³•ï¼‰ --&gt;</span><br><span class="line">&lt;RouterLink </span><br><span class="line">  :to=&quot;&#123;</span><br><span class="line">    //name:&#x27;xiang&#x27;, //ç”¨nameä¹Ÿå¯ä»¥è·³è½¬</span><br><span class="line">    path:&#x27;/news/detail&#x27;,</span><br><span class="line">    query:&#123;</span><br><span class="line">      id:news.id,</span><br><span class="line">      title:news.title,</span><br><span class="line">      content:news.content</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;&quot;</span><br><span class="line">&gt;</span><br><span class="line">  &#123;&#123;news.title&#125;&#125;</span><br><span class="line">&lt;/RouterLink&gt;</span><br></pre></td></tr></table></figure></li><li><p>æ¥æ”¶å‚æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useRoute&#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">const</span> route = <span class="title function_">useRoute</span>()</span><br><span class="line"><span class="comment">// æ‰“å°queryå‚æ•°</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(route.<span class="property">query</span>)</span><br></pre></td></tr></table></figure></li></ol><h3 id="paramså‚æ•°"><a href="#paramså‚æ•°" class="headerlink" title="paramså‚æ•°"></a>paramså‚æ•°</h3><ol><li><p>ä¼ é€’å‚æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼ˆtoçš„å­—ç¬¦ä¸²å†™æ³•ï¼‰ --&gt;</span><br><span class="line">&lt;RouterLink :to=&quot;`/news/detail/001/æ–°é—»001/å†…å®¹001`&quot;&gt;&#123;&#123;news.title&#125;&#125;&lt;/RouterLink&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼ˆtoçš„å¯¹è±¡å†™æ³•ï¼‰ --&gt;</span><br><span class="line">&lt;RouterLink </span><br><span class="line">  :to=&quot;&#123;</span><br><span class="line">    name:&#x27;xiang&#x27;, //ç”¨nameè·³è½¬</span><br><span class="line">    params:&#123;</span><br><span class="line">      id:news.id,</span><br><span class="line">      title:news.title,</span><br><span class="line">      content:news.title</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;&quot;</span><br><span class="line">&gt;</span><br><span class="line">  &#123;&#123;news.title&#125;&#125;</span><br><span class="line">&lt;/RouterLink&gt;</span><br></pre></td></tr></table></figure></li><li><p>æ¥æ”¶å‚æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useRoute&#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">const</span> route = <span class="title function_">useRoute</span>()</span><br><span class="line"><span class="comment">// æ‰“å°paramså‚æ•°</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(route.<span class="property">params</span>)</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>å¤‡æ³¨1ï¼šä¼ é€’<code>params</code>å‚æ•°æ—¶ï¼Œè‹¥ä½¿ç”¨<code>to</code>çš„å¯¹è±¡å†™æ³•ï¼Œå¿…é¡»ä½¿ç”¨<code>name</code>é…ç½®é¡¹ï¼Œä¸èƒ½ç”¨<code>path</code>ã€‚</p><p>å¤‡æ³¨2ï¼šä¼ é€’<code>params</code>å‚æ•°æ—¶ï¼Œéœ€è¦æå‰åœ¨è§„åˆ™ä¸­å ä½ã€‚</p></blockquote><h2 id="4-9-ã€è·¯ç”±çš„propsé…ç½®ã€‘"><a href="#4-9-ã€è·¯ç”±çš„propsé…ç½®ã€‘" class="headerlink" title="4.9. ã€è·¯ç”±çš„propsé…ç½®ã€‘"></a>4.9. ã€è·¯ç”±çš„propsé…ç½®ã€‘</h2><p>ä½œç”¨ï¼šè®©è·¯ç”±ç»„ä»¶æ›´æ–¹ä¾¿çš„æ”¶åˆ°å‚æ•°ï¼ˆå¯ä»¥å°†è·¯ç”±å‚æ•°ä½œä¸º<code>props</code>ä¼ ç»™ç»„ä»¶ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xiang&#x27;</span>,</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;detail/:id/:title/:content&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Detail</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// propsçš„å¯¹è±¡å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠå¯¹è±¡ä¸­çš„æ¯ä¸€ç»„key-valueä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶</span></span><br><span class="line">  <span class="comment">// props:&#123;a:1,b:2,c:3&#125;, </span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// propsçš„å¸ƒå°”å€¼å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠæ”¶åˆ°äº†æ¯ä¸€ç»„paramså‚æ•°ï¼Œä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶</span></span><br><span class="line">  <span class="comment">// props:true</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// propsçš„å‡½æ•°å†™æ³•ï¼Œä½œç”¨ï¼šæŠŠè¿”å›çš„å¯¹è±¡ä¸­æ¯ä¸€ç»„key-valueä½œä¸ºpropsä¼ ç»™Detailç»„ä»¶</span></span><br><span class="line">  <span class="title function_">props</span>(<span class="params">route</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> route.<span class="property">query</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-10-ã€-replaceå±æ€§ã€‘"><a href="#4-10-ã€-replaceå±æ€§ã€‘" class="headerlink" title="4.10. ã€ replaceå±æ€§ã€‘"></a>4.10. ã€ replaceå±æ€§ã€‘</h2><ol><li><p>ä½œç”¨ï¼šæ§åˆ¶è·¯ç”±è·³è½¬æ—¶æ“ä½œæµè§ˆå™¨å†å²è®°å½•çš„æ¨¡å¼ã€‚</p></li><li><p>æµè§ˆå™¨çš„å†å²è®°å½•æœ‰ä¸¤ç§å†™å…¥æ–¹å¼ï¼šåˆ†åˆ«ä¸º<code>push</code>å’Œ<code>replace</code>ï¼š</p><ul><li><code>push</code>æ˜¯è¿½åŠ å†å²è®°å½•ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚</li><li><code>replace</code>æ˜¯æ›¿æ¢å½“å‰è®°å½•ã€‚</li></ul></li><li><p>å¼€å¯<code>replace</code>æ¨¡å¼ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;RouterLink replace .......&gt;News&lt;/RouterLink&gt;</span><br></pre></td></tr></table></figure></li></ol><h2 id="4-11-ã€ç¼–ç¨‹å¼å¯¼èˆªã€‘"><a href="#4-11-ã€ç¼–ç¨‹å¼å¯¼èˆªã€‘" class="headerlink" title="4.11. ã€ç¼–ç¨‹å¼å¯¼èˆªã€‘"></a>4.11. ã€ç¼–ç¨‹å¼å¯¼èˆªã€‘</h2><p>è·¯ç”±ç»„ä»¶çš„ä¸¤ä¸ªé‡è¦çš„å±æ€§ï¼š<code>$route</code>å’Œ<code>$router</code>å˜æˆäº†ä¸¤ä¸ª<code>hooks</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useRoute,useRouter&#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> route = <span class="title function_">useRoute</span>()</span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">useRouter</span>()</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(route.<span class="property">query</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(route.<span class="property">parmas</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(router.<span class="property">push</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(router.<span class="property">replace</span>)</span><br></pre></td></tr></table></figure><h2 id="4-12-ã€é‡å®šå‘ã€‘"><a href="#4-12-ã€é‡å®šå‘ã€‘" class="headerlink" title="4.12. ã€é‡å®šå‘ã€‘"></a>4.12. ã€é‡å®šå‘ã€‘</h2><ol><li><p>ä½œç”¨ï¼šå°†ç‰¹å®šçš„è·¯å¾„ï¼Œé‡æ–°å®šå‘åˆ°å·²æœ‰è·¯ç”±ã€‚</p></li><li><p>å…·ä½“ç¼–ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    <span class="attr">redirect</span>:<span class="string">&#x27;/about&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h1 id="5-pinia"><a href="#5-pinia" class="headerlink" title="5. pinia"></a>5. pinia</h1><h2 id="5-1ã€å‡†å¤‡ä¸€ä¸ªæ•ˆæœã€‘"><a href="#5-1ã€å‡†å¤‡ä¸€ä¸ªæ•ˆæœã€‘" class="headerlink" title="5.1ã€å‡†å¤‡ä¸€ä¸ªæ•ˆæœã€‘"></a>5.1ã€å‡†å¤‡ä¸€ä¸ªæ•ˆæœã€‘</h2><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/pinia_example.gif" alt="pinia_example" style="zoom:30%;border:3px solid" /> <h2 id="5-2ã€æ­å»º-pinia-ç¯å¢ƒã€‘"><a href="#5-2ã€æ­å»º-pinia-ç¯å¢ƒã€‘" class="headerlink" title="5.2ã€æ­å»º pinia ç¯å¢ƒã€‘"></a>5.2ã€æ­å»º pinia ç¯å¢ƒã€‘</h2><p>ç¬¬ä¸€æ­¥ï¼š<code>npm install pinia</code></p><p>ç¬¬äºŒæ­¥ï¼šæ“ä½œ<code>src/main.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* å¼•å…¥createPiniaï¼Œç”¨äºåˆ›å»ºpinia */</span></span><br><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ›å»ºpinia */</span></span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä½¿ç”¨æ’ä»¶ */</span>&#123;&#125;</span><br><span class="line">app.<span class="title function_">use</span>(pinia)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å¼€å‘è€…å·¥å…·ä¸­å·²ç»æœ‰äº†<code>pinia</code>é€‰é¡¹</p><img src="https://cdn.nlark.com/yuque/0/2023/png/35780599/1684309952481-c67f67f9-d1a3-4d69-8bd6-2b381e003f31.png" style="zoom:80%;border:1px solid black;border-radius:10px" /><h2 id="5-3ã€å­˜å‚¨-è¯»å–æ•°æ®ã€‘"><a href="#5-3ã€å­˜å‚¨-è¯»å–æ•°æ®ã€‘" class="headerlink" title="5.3ã€å­˜å‚¨+è¯»å–æ•°æ®ã€‘"></a>5.3ã€å­˜å‚¨+è¯»å–æ•°æ®ã€‘</h2><ol><li><p><code>Store</code>æ˜¯ä¸€ä¸ªä¿å­˜ï¼š<strong>çŠ¶æ€</strong>ã€<strong>ä¸šåŠ¡é€»è¾‘</strong> çš„å®ä½“ï¼Œæ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥<strong>è¯»å–</strong>ã€<strong>å†™å…¥</strong>å®ƒã€‚</p></li><li><p>å®ƒæœ‰ä¸‰ä¸ªæ¦‚å¿µï¼š<code>state</code>ã€<code>getter</code>ã€<code>action</code>ï¼Œç›¸å½“äºç»„ä»¶ä¸­çš„ï¼š <code>data</code>ã€ <code>computed</code> å’Œ <code>methods</code>ã€‚</p></li><li><p>å…·ä½“ç¼–ç ï¼š<code>src/store/count.ts</code></p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstore</span></span><br><span class="line"><span class="keyword">import</span> &#123;defineStore&#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useCountStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;count&#x27;</span>,&#123;</span><br><span class="line">  <span class="comment">// åŠ¨ä½œ</span></span><br><span class="line">  <span class="attr">actions</span>:&#123;&#125;,</span><br><span class="line">  <span class="comment">// çŠ¶æ€</span></span><br><span class="line">  <span class="title function_">state</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">sum</span>:<span class="number">6</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// è®¡ç®—</span></span><br><span class="line">  <span class="attr">getters</span>:&#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>å…·ä½“ç¼–ç ï¼š<code>src/store/talk.ts</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstore</span></span><br><span class="line"><span class="keyword">import</span> &#123;defineStore&#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useTalkStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;talk&#x27;</span>,&#123;</span><br><span class="line">  <span class="comment">// åŠ¨ä½œ</span></span><br><span class="line">  <span class="attr">actions</span>:&#123;&#125;,</span><br><span class="line">  <span class="comment">// çŠ¶æ€</span></span><br><span class="line">  <span class="title function_">state</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">talkList</span>:[</span><br><span class="line">        &#123;<span class="attr">id</span>:<span class="string">&#x27;yuysada01&#x27;</span>,<span class="attr">content</span>:<span class="string">&#x27;ä½ ä»Šå¤©æœ‰ç‚¹æ€ªï¼Œå“ªé‡Œæ€ªï¼Ÿæ€ªå¥½çœ‹çš„ï¼&#x27;</span>&#125;,</span><br><span class="line">     &#123;<span class="attr">id</span>:<span class="string">&#x27;yuysada02&#x27;</span>,<span class="attr">content</span>:<span class="string">&#x27;è‰è“ã€è“è“ã€è”“è¶Šè“ï¼Œä½ æƒ³æˆ‘äº†æ²¡ï¼Ÿ&#x27;</span>&#125;,</span><br><span class="line">        &#123;<span class="attr">id</span>:<span class="string">&#x27;yuysada03&#x27;</span>,<span class="attr">content</span>:<span class="string">&#x27;å¿ƒé‡Œç»™ä½ ç•™äº†ä¸€å—åœ°ï¼Œæˆ‘çš„æ­»å¿ƒå¡Œåœ°&#x27;</span>&#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// è®¡ç®—</span></span><br><span class="line">  <span class="attr">getters</span>:&#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶ä¸­ä½¿ç”¨<code>state</code>ä¸­çš„æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123; sumStore.sum &#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;Count&quot;&gt;</span><br><span class="line">  // å¼•å…¥å¯¹åº”çš„useXxxxxStore</span><br><span class="line">  import &#123;useSumStore&#125; from &#x27;@/store/sum&#x27;</span><br><span class="line">  </span><br><span class="line">  // è°ƒç”¨useXxxxxStoreå¾—åˆ°å¯¹åº”çš„store</span><br><span class="line">  const sumStore = useSumStore()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;talk in talkStore.talkList&quot; :key=&quot;talk.id&quot;&gt;</span><br><span class="line">      &#123;&#123; talk.content &#125;&#125;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;Count&quot;&gt;</span><br><span class="line">  import axios from &#x27;axios&#x27;</span><br><span class="line">  import &#123;useTalkStore&#125; from &#x27;@/store/talk&#x27;</span><br><span class="line"></span><br><span class="line">  const talkStore = useTalkStore()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ol><h2 id="5-4-ã€ä¿®æ”¹æ•°æ®ã€‘-ä¸‰ç§æ–¹å¼"><a href="#5-4-ã€ä¿®æ”¹æ•°æ®ã€‘-ä¸‰ç§æ–¹å¼" class="headerlink" title="5.4.ã€ä¿®æ”¹æ•°æ®ã€‘(ä¸‰ç§æ–¹å¼)"></a>5.4.ã€ä¿®æ”¹æ•°æ®ã€‘(ä¸‰ç§æ–¹å¼)</h2><ol><li><p>ç¬¬ä¸€ç§ä¿®æ”¹æ–¹å¼ï¼Œç›´æ¥ä¿®æ”¹</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">countStore.<span class="property">sum</span> = <span class="number">666</span></span><br></pre></td></tr></table></figure></li><li><p>ç¬¬äºŒç§ä¿®æ”¹æ–¹å¼ï¼šæ‰¹é‡ä¿®æ”¹</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">countStore.$patch(&#123;</span><br><span class="line">  <span class="attr">sum</span>:<span class="number">999</span>,</span><br><span class="line">  <span class="attr">school</span>:<span class="string">&#x27;atguigu&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç¬¬ä¸‰ç§ä¿®æ”¹æ–¹å¼ï¼šå€ŸåŠ©<code>action</code>ä¿®æ”¹ï¼ˆ<code>action</code>ä¸­å¯ä»¥ç¼–å†™ä¸€äº›ä¸šåŠ¡é€»è¾‘ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useCountStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;count&#x27;</span>, &#123;</span><br><span class="line">  <span class="comment">/*************/</span></span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="comment">//åŠ </span></span><br><span class="line">    <span class="title function_">increment</span>(<span class="params">value:number</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">sum</span> &lt; <span class="number">10</span>) &#123;</span><br><span class="line">        <span class="comment">//æ“ä½œcountStoreä¸­çš„sum</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">sum</span> += value</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//å‡</span></span><br><span class="line">    <span class="title function_">decrement</span>(<span class="params">value:number</span>)&#123;</span><br><span class="line">      <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">sum</span> &gt; <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">sum</span> -= value</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">/*************/</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶ä¸­è°ƒç”¨<code>action</code>å³å¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨countStore</span></span><br><span class="line"><span class="keyword">const</span> countStore = <span class="title function_">useCountStore</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨å¯¹åº”action</span></span><br><span class="line">countStore.<span class="title function_">incrementOdd</span>(n.<span class="property">value</span>)</span><br></pre></td></tr></table></figure></li></ol><h2 id="5-5-ã€storeToRefsã€‘"><a href="#5-5-ã€storeToRefsã€‘" class="headerlink" title="5.5.ã€storeToRefsã€‘"></a>5.5.ã€storeToRefsã€‘</h2><ul><li>å€ŸåŠ©<code>storeToRefs</code>å°†<code>store</code>ä¸­çš„æ•°æ®è½¬ä¸º<code>ref</code>å¯¹è±¡ï¼Œæ–¹ä¾¿åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ã€‚</li><li>æ³¨æ„ï¼š<code>pinia</code>æä¾›çš„<code>storeToRefs</code>åªä¼šå°†æ•°æ®åšè½¬æ¢ï¼Œè€Œ<code>Vue</code>çš„<code>toRefs</code>ä¼šè½¬æ¢<code>store</code>ä¸­æ•°æ®ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;count&quot;&gt;</span><br><span class="line">&lt;h2&gt;å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123;sum&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;Count&quot;&gt;</span><br><span class="line">  import &#123; useCountStore &#125; from &#x27;@/store/count&#x27;</span><br><span class="line">  /* å¼•å…¥storeToRefs */</span><br><span class="line">  import &#123; storeToRefs &#125; from &#x27;pinia&#x27;</span><br><span class="line"></span><br><span class="line">/* å¾—åˆ°countStore */</span><br><span class="line">  const countStore = useCountStore()</span><br><span class="line">  /* ä½¿ç”¨storeToRefsè½¬æ¢countStoreï¼Œéšåè§£æ„ */</span><br><span class="line">  const &#123;sum&#125; = storeToRefs(countStore)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="5-6-ã€gettersã€‘"><a href="#5-6-ã€gettersã€‘" class="headerlink" title="5.6.ã€gettersã€‘"></a>5.6.ã€gettersã€‘</h2><ol><li><p>æ¦‚å¿µï¼šå½“<code>state</code>ä¸­çš„æ•°æ®ï¼Œéœ€è¦ç»è¿‡å¤„ç†åå†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>getters</code>é…ç½®ã€‚</p></li><li><p>è¿½åŠ <code>getters</code>é…ç½®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥defineStoreç”¨äºåˆ›å»ºstore</span></span><br><span class="line"><span class="keyword">import</span> &#123;defineStore&#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰å¹¶æš´éœ²ä¸€ä¸ªstore</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useCountStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;count&#x27;</span>,&#123;</span><br><span class="line">  <span class="comment">// åŠ¨ä½œ</span></span><br><span class="line">  <span class="attr">actions</span>:&#123;</span><br><span class="line">    <span class="comment">/************/</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// çŠ¶æ€</span></span><br><span class="line">  <span class="title function_">state</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">sum</span>:<span class="number">1</span>,</span><br><span class="line">      <span class="attr">school</span>:<span class="string">&#x27;atguigu&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// è®¡ç®—</span></span><br><span class="line">  <span class="attr">getters</span>:&#123;</span><br><span class="line">    <span class="attr">bigSum</span>:(state):<span class="function"><span class="params">number</span> =&gt;</span> state.<span class="property">sum</span> *<span class="number">10</span>,</span><br><span class="line">    <span class="title function_">upperSchool</span>():string&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>. school.<span class="title function_">toUpperCase</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶ä¸­è¯»å–æ•°æ®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;increment,decrement&#125; = countStore</span><br><span class="line"><span class="keyword">let</span> &#123;sum,school,bigSum,upperSchool&#125; = <span class="title function_">storeToRefs</span>(countStore)</span><br></pre></td></tr></table></figure></li></ol><h2 id="5-7-ã€-subscribeã€‘"><a href="#5-7-ã€-subscribeã€‘" class="headerlink" title="5.7.ã€$subscribeã€‘"></a>5.7.ã€$subscribeã€‘</h2><p>é€šè¿‡ store çš„ <code>$subscribe()</code> æ–¹æ³•ä¾¦å¬ <code>state</code> åŠå…¶å˜åŒ–</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">talkStore.$subscribe(<span class="function">(<span class="params">mutate,state</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;LoveTalk&#x27;</span>,mutate,state)</span><br><span class="line">  <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;talk&#x27;</span>,<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(talkList.<span class="property">value</span>))</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="5-8-ã€storeç»„åˆå¼å†™æ³•ã€‘"><a href="#5-8-ã€storeç»„åˆå¼å†™æ³•ã€‘" class="headerlink" title="5.8. ã€storeç»„åˆå¼å†™æ³•ã€‘"></a>5.8. ã€storeç»„åˆå¼å†™æ³•ã€‘</h2><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;defineStore&#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;nanoid&#125; <span class="keyword">from</span> <span class="string">&#x27;nanoid&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;reactive&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useTalkStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;talk&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="comment">// talkListå°±æ˜¯state</span></span><br><span class="line">  <span class="keyword">const</span> talkList = <span class="title function_">reactive</span>(</span><br><span class="line">    <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;talkList&#x27;</span>) <span class="keyword">as</span> <span class="built_in">string</span>) || []</span><br><span class="line">  )</span><br><span class="line"></span><br><span class="line">  <span class="comment">// getATalkå‡½æ•°ç›¸å½“äºaction</span></span><br><span class="line">  <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getATalk</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">// å‘è¯·æ±‚ï¼Œä¸‹é¢è¿™è¡Œçš„å†™æ³•æ˜¯ï¼šè¿ç»­è§£æ„èµ‹å€¼+é‡å‘½å</span></span><br><span class="line">    <span class="keyword">let</span> &#123;<span class="attr">data</span>:&#123;<span class="attr">content</span>:title&#125;&#125; = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;https://api.uomg.com/api/rand.qinghua?format=json&#x27;</span>)</span><br><span class="line">    <span class="comment">// æŠŠè¯·æ±‚å›æ¥çš„å­—ç¬¦ä¸²ï¼ŒåŒ…è£…æˆä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">let</span> obj = &#123;<span class="attr">id</span>:<span class="title function_">nanoid</span>(),title&#125;</span><br><span class="line">    <span class="comment">// æ”¾åˆ°æ•°ç»„ä¸­</span></span><br><span class="line">    talkList.<span class="title function_">unshift</span>(obj)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;talkList,getATalk&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="6-ç»„ä»¶é€šä¿¡"><a href="#6-ç»„ä»¶é€šä¿¡" class="headerlink" title="6. ç»„ä»¶é€šä¿¡"></a>6. ç»„ä»¶é€šä¿¡</h1><p><strong><code>Vue3</code>ç»„ä»¶é€šä¿¡å’Œ<code>Vue2</code>çš„åŒºåˆ«ï¼š</strong></p><ul><li>ç§»å‡ºäº‹ä»¶æ€»çº¿ï¼Œä½¿ç”¨<code>mitt</code>ä»£æ›¿ã€‚</li></ul><ul><li><code>vuex</code>æ¢æˆäº†<code>pinia</code>ã€‚</li><li>æŠŠ<code>.sync</code>ä¼˜åŒ–åˆ°äº†<code>v-model</code>é‡Œé¢äº†ã€‚</li><li>æŠŠ<code>$listeners</code>æ‰€æœ‰çš„ä¸œè¥¿ï¼Œåˆå¹¶åˆ°<code>$attrs</code>ä¸­äº†ã€‚</li><li><code>$children</code>è¢«ç æ‰äº†ã€‚</li></ul><p><strong>å¸¸è§æ­é…å½¢å¼ï¼š</strong></p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/image-20231119185900990.png" alt="image-20231119185900990" style="zoom:60%;" /> <h2 id="6-1-ã€propsã€‘"><a href="#6-1-ã€propsã€‘" class="headerlink" title="6.1. ã€propsã€‘"></a>6.1. ã€propsã€‘</h2><p>æ¦‚è¿°ï¼š<code>props</code>æ˜¯ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ä¸€ç§é€šä¿¡æ–¹å¼ï¼Œå¸¸ç”¨ä¸ ï¼š<strong>çˆ¶ â†” å­</strong>ã€‚</p><ul><li>è‹¥ <strong>çˆ¶ä¼ å­</strong>ï¼šå±æ€§å€¼æ˜¯<strong>éå‡½æ•°</strong>ã€‚</li><li>è‹¥ <strong>å­ä¼ çˆ¶</strong>ï¼šå±æ€§å€¼æ˜¯<strong>å‡½æ•°</strong>ã€‚</li></ul><p>çˆ¶ç»„ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;father&quot;&gt;</span><br><span class="line">    &lt;h3&gt;çˆ¶ç»„ä»¶ï¼Œ&lt;/h3&gt;</span><br><span class="line">&lt;h4&gt;æˆ‘çš„è½¦ï¼š&#123;&#123; car &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;h4&gt;å„¿å­ç»™çš„ç©å…·ï¼š&#123;&#123; toy &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;Child :car=&quot;car&quot; :getToy=&quot;getToy&quot;/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;Father&quot;&gt;</span><br><span class="line">import Child from &#x27;./Child.vue&#x27;</span><br><span class="line">import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class="line">// æ•°æ®</span><br><span class="line">const car = ref(&#x27;å¥”é©°&#x27;)</span><br><span class="line">const toy = ref()</span><br><span class="line">// æ–¹æ³•</span><br><span class="line">function getToy(value:string)&#123;</span><br><span class="line">toy.value = value</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>å­ç»„ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;child&quot;&gt;</span><br><span class="line">    &lt;h3&gt;å­ç»„ä»¶&lt;/h3&gt;</span><br><span class="line">&lt;h4&gt;æˆ‘çš„ç©å…·ï¼š&#123;&#123; toy &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;h4&gt;çˆ¶ç»™æˆ‘çš„è½¦ï¼š&#123;&#123; car &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;button @click=&quot;getToy(toy)&quot;&gt;ç©å…·ç»™çˆ¶äº²&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;Child&quot;&gt;</span><br><span class="line">import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class="line">const toy = ref(&#x27;å¥¥ç‰¹æ›¼&#x27;)</span><br><span class="line"></span><br><span class="line">defineProps([&#x27;car&#x27;,&#x27;getToy&#x27;])</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="6-2-ã€è‡ªå®šä¹‰äº‹ä»¶ã€‘"><a href="#6-2-ã€è‡ªå®šä¹‰äº‹ä»¶ã€‘" class="headerlink" title="6.2. ã€è‡ªå®šä¹‰äº‹ä»¶ã€‘"></a>6.2. ã€è‡ªå®šä¹‰äº‹ä»¶ã€‘</h2><ol><li>æ¦‚è¿°ï¼šè‡ªå®šä¹‰äº‹ä»¶å¸¸ç”¨äºï¼š<strong>å­ &#x3D;&gt; çˆ¶ã€‚</strong></li><li>æ³¨æ„åŒºåˆ†å¥½ï¼šåŸç”Ÿäº‹ä»¶ã€è‡ªå®šä¹‰äº‹ä»¶ã€‚</li></ol><ul><li>åŸç”Ÿäº‹ä»¶ï¼š<ul><li>äº‹ä»¶åæ˜¯ç‰¹å®šçš„ï¼ˆ<code>click</code>ã€<code>mosueenter</code>ç­‰ç­‰ï¼‰</li><li>äº‹ä»¶å¯¹è±¡<code>$event</code>: æ˜¯åŒ…å«äº‹ä»¶ç›¸å…³ä¿¡æ¯çš„å¯¹è±¡ï¼ˆ<code>pageX</code>ã€<code>pageY</code>ã€<code>target</code>ã€<code>keyCode</code>ï¼‰</li></ul></li><li>è‡ªå®šä¹‰äº‹ä»¶ï¼š<ul><li>äº‹ä»¶åæ˜¯ä»»æ„åç§°</li><li><strong style="color:red">äº‹ä»¶å¯¹è±¡<code>$event</code>: æ˜¯è°ƒç”¨<code>emit</code>æ—¶æ‰€æä¾›çš„æ•°æ®ï¼Œå¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼ï¼ï¼</strong ></li></ul></li></ul><ol start="3"><li><p>ç¤ºä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--åœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œç»™å­ç»„ä»¶ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼š--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Child</span> @<span class="attr">send-toy</span>=<span class="string">&quot;toy = $event&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æ³¨æ„åŒºåˆ†åŸç”Ÿäº‹ä»¶ä¸è‡ªå®šä¹‰äº‹ä»¶ä¸­çš„$event--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;toy = $event&quot;</span>&gt;</span>æµ‹è¯•<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å­ç»„ä»¶ä¸­ï¼Œè§¦å‘äº‹ä»¶ï¼š</span></span><br><span class="line"><span class="variable language_">this</span>.$emit(<span class="string">&#x27;send-toy&#x27;</span>, å…·ä½“æ•°æ®)</span><br></pre></td></tr></table></figure></li></ol><h2 id="6-3-ã€mittã€‘"><a href="#6-3-ã€mittã€‘" class="headerlink" title="6.3. ã€mittã€‘"></a>6.3. ã€mittã€‘</h2><p>æ¦‚è¿°ï¼šä¸æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒï¼ˆ<code>pubsub</code>ï¼‰åŠŸèƒ½ç±»ä¼¼ï¼Œå¯ä»¥å®ç°ä»»æ„ç»„ä»¶é—´é€šä¿¡ã€‚</p><p>å®‰è£…<code>mitt</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i mitt</span><br></pre></td></tr></table></figure><p>æ–°å»ºæ–‡ä»¶ï¼š<code>src\utils\emitter.ts</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥mitt </span></span><br><span class="line"><span class="keyword">import</span> mitt <span class="keyword">from</span> <span class="string">&quot;mitt&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºemitter</span></span><br><span class="line"><span class="keyword">const</span> emitter = <span class="title function_">mitt</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  // ç»‘å®šäº‹ä»¶</span></span><br><span class="line"><span class="comment">  emitter.on(&#x27;abc&#x27;,(value)=&gt;&#123;</span></span><br><span class="line"><span class="comment">    console.log(&#x27;abcäº‹ä»¶è¢«è§¦å‘&#x27;,value)</span></span><br><span class="line"><span class="comment">  &#125;)</span></span><br><span class="line"><span class="comment">  emitter.on(&#x27;xyz&#x27;,(value)=&gt;&#123;</span></span><br><span class="line"><span class="comment">    console.log(&#x27;xyzäº‹ä»¶è¢«è§¦å‘&#x27;,value)</span></span><br><span class="line"><span class="comment">  &#125;)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  setInterval(() =&gt; &#123;</span></span><br><span class="line"><span class="comment">    // è§¦å‘äº‹ä»¶</span></span><br><span class="line"><span class="comment">    emitter.emit(&#x27;abc&#x27;,666)</span></span><br><span class="line"><span class="comment">    emitter.emit(&#x27;xyz&#x27;,777)</span></span><br><span class="line"><span class="comment">  &#125;, 1000);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  setTimeout(() =&gt; &#123;</span></span><br><span class="line"><span class="comment">    // æ¸…ç†äº‹ä»¶</span></span><br><span class="line"><span class="comment">    emitter.all.clear()</span></span><br><span class="line"><span class="comment">  &#125;, 3000); </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå¹¶æš´éœ²mitt</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> emitter</span><br></pre></td></tr></table></figure><p>æ¥æ”¶æ•°æ®çš„ç»„ä»¶ä¸­ï¼šç»‘å®šäº‹ä»¶ã€åŒæ—¶åœ¨é”€æ¯å‰è§£ç»‘äº‹ä»¶ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> emitter <span class="keyword">from</span> <span class="string">&quot;@/utils/emitter&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; onUnmounted &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»‘å®šäº‹ä»¶</span></span><br><span class="line">emitter.<span class="title function_">on</span>(<span class="string">&#x27;send-toy&#x27;</span>,<span class="function">(<span class="params">value</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;send-toyäº‹ä»¶è¢«è§¦å‘&#x27;</span>,value)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">onUnmounted</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="comment">// è§£ç»‘äº‹ä»¶</span></span><br><span class="line">  emitter.<span class="title function_">off</span>(<span class="string">&#x27;send-toy&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ã€ç¬¬ä¸‰æ­¥ã€‘ï¼šæä¾›æ•°æ®çš„ç»„ä»¶ï¼Œåœ¨åˆé€‚çš„æ—¶å€™è§¦å‘äº‹ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> emitter <span class="keyword">from</span> <span class="string">&quot;@/utils/emitter&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sendToy</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="comment">// è§¦å‘äº‹ä»¶</span></span><br><span class="line">  emitter.<span class="title function_">emit</span>(<span class="string">&#x27;send-toy&#x27;</span>,toy.<span class="property">value</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„è¿™ä¸ªé‡è¦çš„å†…ç½®å…³ç³»ï¼Œæ€»çº¿ä¾èµ–ç€è¿™ä¸ªå†…ç½®å…³ç³»</strong></p><h2 id="6-4-ã€v-modelã€‘"><a href="#6-4-ã€v-modelã€‘" class="headerlink" title="6.4.ã€v-modelã€‘"></a>6.4.ã€v-modelã€‘</h2><ol><li><p>æ¦‚è¿°ï¼šå®ç° <strong>çˆ¶â†”å­</strong> ä¹‹é—´ç›¸äº’é€šä¿¡ã€‚</p></li><li><p>å‰åºçŸ¥è¯† â€”â€” <code>v-model</code>çš„æœ¬è´¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- ä½¿ç”¨v-modelæŒ‡ä»¤ --&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; v-model=&quot;userName&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- v-modelçš„æœ¬è´¨æ˜¯ä¸‹é¢è¿™è¡Œä»£ç  --&gt;</span><br><span class="line">&lt;input </span><br><span class="line">  type=&quot;text&quot; </span><br><span class="line">  :value=&quot;userName&quot; </span><br><span class="line">  @input=&quot;userName =(&lt;HTMLInputElement&gt;$event.target).value&quot;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶æ ‡ç­¾ä¸Šçš„<code>v-model</code>çš„æœ¬è´¨ï¼š<code>:moldeValue</code> ï¼‹ <code>update:modelValue</code>äº‹ä»¶ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- ç»„ä»¶æ ‡ç­¾ä¸Šä½¿ç”¨v-modelæŒ‡ä»¤ --&gt;</span><br><span class="line">&lt;AtguiguInput v-model=&quot;userName&quot;/&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- ç»„ä»¶æ ‡ç­¾ä¸Šv-modelçš„æœ¬è´¨ --&gt;</span><br><span class="line">&lt;AtguiguInput :modelValue=&quot;userName&quot; @update:model-value=&quot;userName = $event&quot;/&gt;</span><br></pre></td></tr></table></figure><p><code>AtguiguInput</code>ç»„ä»¶ä¸­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;box&quot;&gt;</span><br><span class="line">    &lt;!--å°†æ¥æ”¶çš„valueå€¼èµ‹ç»™inputå…ƒç´ çš„valueå±æ€§ï¼Œç›®çš„æ˜¯ï¼šä¸ºäº†å‘ˆç°æ•°æ® --&gt;</span><br><span class="line">&lt;!--ç»™inputå…ƒç´ ç»‘å®šåŸç”Ÿinputäº‹ä»¶ï¼Œè§¦å‘inputäº‹ä»¶æ—¶ï¼Œè¿›è€Œè§¦å‘update:model-valueäº‹ä»¶--&gt;</span><br><span class="line">    &lt;input </span><br><span class="line">       type=&quot;text&quot; </span><br><span class="line">       :value=&quot;modelValue&quot; </span><br><span class="line">       @input=&quot;emit(&#x27;update:model-value&#x27;,$event.target.value)&quot;</span><br><span class="line">    &gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;AtguiguInput&quot;&gt;</span><br><span class="line">  // æ¥æ”¶props</span><br><span class="line">  defineProps([&#x27;modelValue&#x27;])</span><br><span class="line">  // å£°æ˜äº‹ä»¶</span><br><span class="line">  const emit = defineEmits([&#x27;update:model-value&#x27;])</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li><li><p>ä¹Ÿå¯ä»¥æ›´æ¢<code>value</code>ï¼Œä¾‹å¦‚æ”¹æˆ<code>abc</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- ä¹Ÿå¯ä»¥æ›´æ¢valueï¼Œä¾‹å¦‚æ”¹æˆabc--&gt;</span><br><span class="line">&lt;AtguiguInput v-model:abc=&quot;userName&quot;/&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- ä¸Šé¢ä»£ç çš„æœ¬è´¨å¦‚ä¸‹ --&gt;</span><br><span class="line">&lt;AtguiguInput :abc=&quot;userName&quot; @update:abc=&quot;userName = $event&quot;/&gt;</span><br></pre></td></tr></table></figure><p><code>AtguiguInput</code>ç»„ä»¶ä¸­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;box&quot;&gt;</span><br><span class="line">    &lt;input </span><br><span class="line">       type=&quot;text&quot; </span><br><span class="line">       :value=&quot;abc&quot; </span><br><span class="line">       @input=&quot;emit(&#x27;update:abc&#x27;,$event.target.value)&quot;</span><br><span class="line">    &gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;AtguiguInput&quot;&gt;</span><br><span class="line">  // æ¥æ”¶props</span><br><span class="line">  defineProps([&#x27;abc&#x27;])</span><br><span class="line">  // å£°æ˜äº‹ä»¶</span><br><span class="line">  const emit = defineEmits([&#x27;update:abc&#x27;])</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœ<code>value</code>å¯ä»¥æ›´æ¢ï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šå¤šæ¬¡ä½¿ç”¨<code>v-model</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;AtguiguInput v-model:abc=&quot;userName&quot; v-model:xyz=&quot;password&quot;/&gt;</span><br></pre></td></tr></table></figure></li></ol><h2 id="6-5-ã€-attrs-ã€‘"><a href="#6-5-ã€-attrs-ã€‘" class="headerlink" title="6.5.ã€$attrs ã€‘"></a>6.5.ã€$attrs ã€‘</h2><ol><li><p>æ¦‚è¿°ï¼š<code>$attrs</code>ç”¨äºå®ç°<strong>å½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶</strong>ï¼Œå‘<strong>å½“å‰ç»„ä»¶çš„å­ç»„ä»¶</strong>é€šä¿¡ï¼ˆ<strong>ç¥–â†’å­™</strong>ï¼‰ã€‚</p></li><li><p>å…·ä½“è¯´æ˜ï¼š<code>$attrs</code>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰çˆ¶ç»„ä»¶ä¼ å…¥çš„æ ‡ç­¾å±æ€§ã€‚</p><blockquote><p> æ³¨æ„ï¼š<code>$attrs</code>ä¼šè‡ªåŠ¨æ’é™¤<code>props</code>ä¸­å£°æ˜çš„å±æ€§(å¯ä»¥è®¤ä¸ºå£°æ˜è¿‡çš„ <code>props</code> è¢«å­ç»„ä»¶è‡ªå·±â€œæ¶ˆè´¹â€äº†)</p></blockquote></li></ol><p>çˆ¶ç»„ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;father&quot;&gt;</span><br><span class="line">    &lt;h3&gt;çˆ¶ç»„ä»¶&lt;/h3&gt;</span><br><span class="line">&lt;Child :a=&quot;a&quot; :b=&quot;b&quot; :c=&quot;c&quot; :d=&quot;d&quot; v-bind=&quot;&#123;x:100,y:200&#125;&quot; :updateA=&quot;updateA&quot;/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;Father&quot;&gt;</span><br><span class="line">import Child from &#x27;./Child.vue&#x27;</span><br><span class="line">import &#123; ref &#125; from &quot;vue&quot;;</span><br><span class="line">let a = ref(1)</span><br><span class="line">let b = ref(2)</span><br><span class="line">let c = ref(3)</span><br><span class="line">let d = ref(4)</span><br><span class="line"></span><br><span class="line">function updateA(value)&#123;</span><br><span class="line">a.value = value</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>å­ç»„ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;child&quot;&gt;</span><br><span class="line">&lt;h3&gt;å­ç»„ä»¶&lt;/h3&gt;</span><br><span class="line">&lt;GrandChild v-bind=&quot;$attrs&quot;/&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;Child&quot;&gt;</span><br><span class="line">import GrandChild from &#x27;./GrandChild.vue&#x27;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>å­™ç»„ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;grand-child&quot;&gt;</span><br><span class="line">&lt;h3&gt;å­™ç»„ä»¶&lt;/h3&gt;</span><br><span class="line">&lt;h4&gt;aï¼š&#123;&#123; a &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;h4&gt;bï¼š&#123;&#123; b &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;h4&gt;cï¼š&#123;&#123; c &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;h4&gt;dï¼š&#123;&#123; d &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;h4&gt;xï¼š&#123;&#123; x &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;h4&gt;yï¼š&#123;&#123; y &#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;button @click=&quot;updateA(666)&quot;&gt;ç‚¹æˆ‘æ›´æ–°A&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;GrandChild&quot;&gt;</span><br><span class="line">defineProps([&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;x&#x27;,&#x27;y&#x27;,&#x27;updateA&#x27;])</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="6-6-ã€-refsã€-parentã€‘"><a href="#6-6-ã€-refsã€-parentã€‘" class="headerlink" title="6.6. ã€$refsã€$parentã€‘"></a>6.6. ã€$refsã€$parentã€‘</h2><ol><li><p>æ¦‚è¿°ï¼š</p><ul><li><code>$refs</code>ç”¨äº ï¼š<strong>çˆ¶â†’å­ã€‚</strong></li><li><code>$parent</code>ç”¨äºï¼š<strong>å­â†’çˆ¶ã€‚</strong></li></ul></li><li><p>åŸç†å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>$refs</code></td><td>å€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰è¢«<code>ref</code>å±æ€§æ ‡è¯†çš„<code>DOM</code>å…ƒç´ æˆ–ç»„ä»¶å®ä¾‹ã€‚</td></tr><tr><td><code>$parent</code></td><td>å€¼ä¸ºå¯¹è±¡ï¼Œå½“å‰ç»„ä»¶çš„çˆ¶ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</td></tr></tbody></table></li></ol><h2 id="6-7-ã€provideã€injectã€‘"><a href="#6-7-ã€provideã€injectã€‘" class="headerlink" title="6.7. ã€provideã€injectã€‘"></a>6.7. ã€provideã€injectã€‘</h2><ol><li><p>æ¦‚è¿°ï¼šå®ç°<strong>ç¥–å­™ç»„ä»¶</strong>ç›´æ¥é€šä¿¡</p></li><li><p>å…·ä½“ä½¿ç”¨ï¼š</p><ul><li>åœ¨ç¥–å…ˆç»„ä»¶ä¸­é€šè¿‡<code>provide</code>é…ç½®å‘åä»£ç»„ä»¶æä¾›æ•°æ®</li><li>åœ¨åä»£ç»„ä»¶ä¸­é€šè¿‡<code>inject</code>é…ç½®æ¥å£°æ˜æ¥æ”¶æ•°æ®</li></ul></li><li><p>å…·ä½“ç¼–ç ï¼š</p><p>ã€ç¬¬ä¸€æ­¥ã€‘çˆ¶ç»„ä»¶ä¸­ï¼Œä½¿ç”¨<code>provide</code>æä¾›æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;father&quot;&gt;</span><br><span class="line">    &lt;h3&gt;çˆ¶ç»„ä»¶&lt;/h3&gt;</span><br><span class="line">    &lt;h4&gt;èµ„äº§ï¼š&#123;&#123; money &#125;&#125;&lt;/h4&gt;</span><br><span class="line">    &lt;h4&gt;æ±½è½¦ï¼š&#123;&#123; car &#125;&#125;&lt;/h4&gt;</span><br><span class="line">    &lt;button @click=&quot;money += 1&quot;&gt;èµ„äº§+1&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;car.price += 1&quot;&gt;æ±½è½¦ä»·æ ¼+1&lt;/button&gt;</span><br><span class="line">    &lt;Child/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;Father&quot;&gt;</span><br><span class="line">  import Child from &#x27;./Child.vue&#x27;</span><br><span class="line">  import &#123; ref,reactive,provide &#125; from &quot;vue&quot;;</span><br><span class="line">  // æ•°æ®</span><br><span class="line">  let money = ref(100)</span><br><span class="line">  let car = reactive(&#123;</span><br><span class="line">    brand:&#x27;å¥”é©°&#x27;,</span><br><span class="line">    price:100</span><br><span class="line">  &#125;)</span><br><span class="line">  // ç”¨äºæ›´æ–°moneyçš„æ–¹æ³•</span><br><span class="line">  function updateMoney(value:number)&#123;</span><br><span class="line">    money.value += value</span><br><span class="line">  &#125;</span><br><span class="line">  // æä¾›æ•°æ®</span><br><span class="line">  provide(&#x27;moneyContext&#x27;,&#123;money,updateMoney&#125;)</span><br><span class="line">  provide(&#x27;car&#x27;,car)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šå­ç»„ä»¶ä¸­ä¸ç”¨ç¼–å†™ä»»ä½•ä¸œè¥¿ï¼Œæ˜¯ä¸å—åˆ°ä»»ä½•æ‰“æ‰°çš„</p></blockquote><p>ã€ç¬¬äºŒæ­¥ã€‘å­™ç»„ä»¶ä¸­ä½¿ç”¨<code>inject</code>é…ç½®é¡¹æ¥å—æ•°æ®ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;grand-child&quot;&gt;</span><br><span class="line">    &lt;h3&gt;æˆ‘æ˜¯å­™ç»„ä»¶&lt;/h3&gt;</span><br><span class="line">    &lt;h4&gt;èµ„äº§ï¼š&#123;&#123; money &#125;&#125;&lt;/h4&gt;</span><br><span class="line">    &lt;h4&gt;æ±½è½¦ï¼š&#123;&#123; car &#125;&#125;&lt;/h4&gt;</span><br><span class="line">    &lt;button @click=&quot;updateMoney(6)&quot;&gt;ç‚¹æˆ‘&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=&quot;ts&quot; name=&quot;GrandChild&quot;&gt;</span><br><span class="line">  import &#123; inject &#125; from &#x27;vue&#x27;;</span><br><span class="line">  // æ³¨å…¥æ•°æ®</span><br><span class="line"> let &#123;money,updateMoney&#125; = inject(&#x27;moneyContext&#x27;,&#123;money:0,updateMoney:(x:number)=&gt;&#123;&#125;&#125;)</span><br><span class="line">  let car = inject(&#x27;car&#x27;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ol><h2 id="6-8-ã€piniaã€‘"><a href="#6-8-ã€piniaã€‘" class="headerlink" title="6.8. ã€piniaã€‘"></a>6.8. ã€piniaã€‘</h2><p>å‚è€ƒä¹‹å‰<code>pinia</code>éƒ¨åˆ†çš„è®²è§£</p><h2 id="6-9-ã€slotã€‘"><a href="#6-9-ã€slotã€‘" class="headerlink" title="6.9. ã€slotã€‘"></a>6.9. ã€slotã€‘</h2><h3 id="1-é»˜è®¤æ’æ§½"><a href="#1-é»˜è®¤æ’æ§½" class="headerlink" title="1. é»˜è®¤æ’æ§½"></a>1. é»˜è®¤æ’æ§½</h3><p><img src="http://49.232.112.44/images/default_slot.png" alt="img"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶ä¸­ï¼š</span><br><span class="line">        &lt;Category title=&quot;ä»Šæ—¥çƒ­é—¨æ¸¸æˆ&quot;&gt;</span><br><span class="line">          &lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot;g in games&quot; :key=&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;/li&gt;</span><br><span class="line">          &lt;/ul&gt;</span><br><span class="line">        &lt;/Category&gt;</span><br><span class="line">å­ç»„ä»¶ä¸­ï¼š</span><br><span class="line">        &lt;template&gt;</span><br><span class="line">          &lt;div class=&quot;item&quot;&gt;</span><br><span class="line">            &lt;h3&gt;&#123;&#123; title &#125;&#125;&lt;/h3&gt;</span><br><span class="line">            &lt;!-- é»˜è®¤æ’æ§½ --&gt;</span><br><span class="line">            &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/template&gt;</span><br></pre></td></tr></table></figure><h3 id="2-å…·åæ’æ§½"><a href="#2-å…·åæ’æ§½" class="headerlink" title="2. å…·åæ’æ§½"></a>2. å…·åæ’æ§½</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶ä¸­ï¼š</span><br><span class="line">        &lt;Category title=&quot;ä»Šæ—¥çƒ­é—¨æ¸¸æˆ&quot;&gt;</span><br><span class="line">          &lt;template v-slot:s1&gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">              &lt;li v-for=&quot;g in games&quot; :key=&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">          &lt;/template&gt;</span><br><span class="line">          &lt;template #s2&gt;</span><br><span class="line">            &lt;a href=&quot;&quot;&gt;æ›´å¤š&lt;/a&gt;</span><br><span class="line">          &lt;/template&gt;</span><br><span class="line">        &lt;/Category&gt;</span><br><span class="line">å­ç»„ä»¶ä¸­ï¼š</span><br><span class="line">        &lt;template&gt;</span><br><span class="line">          &lt;div class=&quot;item&quot;&gt;</span><br><span class="line">            &lt;h3&gt;&#123;&#123; title &#125;&#125;&lt;/h3&gt;</span><br><span class="line">            &lt;slot name=&quot;s1&quot;&gt;&lt;/slot&gt;</span><br><span class="line">            &lt;slot name=&quot;s2&quot;&gt;&lt;/slot&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/template&gt;</span><br></pre></td></tr></table></figure><h3 id="3-ä½œç”¨åŸŸæ’æ§½"><a href="#3-ä½œç”¨åŸŸæ’æ§½" class="headerlink" title="3. ä½œç”¨åŸŸæ’æ§½"></a>3. ä½œç”¨åŸŸæ’æ§½</h3><ol><li><p>ç†è§£ï¼š<span style="color:red">æ•°æ®åœ¨ç»„ä»¶çš„è‡ªèº«ï¼Œä½†æ ¹æ®æ•°æ®ç”Ÿæˆçš„ç»“æ„éœ€è¦ç»„ä»¶çš„ä½¿ç”¨è€…æ¥å†³å®šã€‚</span>ï¼ˆæ–°é—»æ•°æ®åœ¨<code>News</code>ç»„ä»¶ä¸­ï¼Œä½†ä½¿ç”¨æ•°æ®æ‰€éå†å‡ºæ¥çš„ç»“æ„ç”±<code>App</code>ç»„ä»¶å†³å®šï¼‰</p></li><li><p>å…·ä½“ç¼–ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶ä¸­ï¼š</span><br><span class="line">      &lt;Game v-slot=&quot;params&quot;&gt;</span><br><span class="line">      &lt;!-- &lt;Game v-slot:default=&quot;params&quot;&gt; --&gt;</span><br><span class="line">      &lt;!-- &lt;Game #default=&quot;params&quot;&gt; --&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">          &lt;li v-for=&quot;g in params.games&quot; :key=&quot;g.id&quot;&gt;&#123;&#123; g.name &#125;&#125;&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;/Game&gt;</span><br><span class="line"></span><br><span class="line">å­ç»„ä»¶ä¸­ï¼š</span><br><span class="line">      &lt;template&gt;</span><br><span class="line">        &lt;div class=&quot;category&quot;&gt;</span><br><span class="line">          &lt;h2&gt;ä»Šæ—¥æ¸¸æˆæ¦œå•&lt;/h2&gt;</span><br><span class="line">          &lt;slot :games=&quot;games&quot; a=&quot;å“ˆå“ˆ&quot;&gt;&lt;/slot&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;script setup lang=&quot;ts&quot; name=&quot;Category&quot;&gt;</span><br><span class="line">        import &#123;reactive&#125; from &#x27;vue&#x27;</span><br><span class="line">        let games = reactive([</span><br><span class="line">          &#123;id:&#x27;asgdytsa01&#x27;,name:&#x27;è‹±é›„è”ç›Ÿ&#x27;&#125;,</span><br><span class="line">          &#123;id:&#x27;asgdytsa02&#x27;,name:&#x27;ç‹è€…è£è€€&#x27;&#125;,</span><br><span class="line">          &#123;id:&#x27;asgdytsa03&#x27;,name:&#x27;çº¢è‰²è­¦æˆ’&#x27;&#125;,</span><br><span class="line">          &#123;id:&#x27;asgdytsa04&#x27;,name:&#x27;æ–—ç½—å¤§é™†&#x27;&#125;</span><br><span class="line">        ])</span><br><span class="line">      &lt;/script&gt;</span><br></pre></td></tr></table></figure></li></ol><h1 id="7-å…¶å®ƒ-API"><a href="#7-å…¶å®ƒ-API" class="headerlink" title="7. å…¶å®ƒ API"></a>7. å…¶å®ƒ API</h1><h2 id="7-1-ã€shallowRef-ä¸-shallowReactive-ã€‘"><a href="#7-1-ã€shallowRef-ä¸-shallowReactive-ã€‘" class="headerlink" title="7.1.ã€shallowRef ä¸ shallowReactive ã€‘"></a>7.1.ã€shallowRef ä¸ shallowReactive ã€‘</h2><h3 id="shallowRef"><a href="#shallowRef" class="headerlink" title="shallowRef"></a><code>shallowRef</code></h3><ol><li><p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªå“åº”å¼æ•°æ®ï¼Œä½†åªå¯¹é¡¶å±‚å±æ€§è¿›è¡Œå“åº”å¼å¤„ç†ã€‚</p></li><li><p>ç”¨æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myVar = <span class="title function_">shallowRef</span>(initialValue);</span><br></pre></td></tr></table></figure></li><li><p>ç‰¹ç‚¹ï¼šåªè·Ÿè¸ªå¼•ç”¨å€¼çš„å˜åŒ–ï¼Œä¸å…³å¿ƒå€¼å†…éƒ¨çš„å±æ€§å˜åŒ–ã€‚</p></li></ol><h3 id="shallowReactive"><a href="#shallowReactive" class="headerlink" title="shallowReactive"></a><code>shallowReactive</code></h3><ol><li><p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªæµ…å±‚å“åº”å¼å¯¹è±¡ï¼Œåªä¼šä½¿å¯¹è±¡çš„æœ€é¡¶å±‚å±æ€§å˜æˆå“åº”å¼çš„ï¼Œå¯¹è±¡å†…éƒ¨çš„åµŒå¥—å±æ€§åˆ™ä¸ä¼šå˜æˆå“åº”å¼çš„</p></li><li><p>ç”¨æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myObj = <span class="title function_">shallowReactive</span>(&#123; ... &#125;);</span><br></pre></td></tr></table></figure></li><li><p>ç‰¹ç‚¹ï¼šå¯¹è±¡çš„é¡¶å±‚å±æ€§æ˜¯å“åº”å¼çš„ï¼Œä½†åµŒå¥—å¯¹è±¡çš„å±æ€§ä¸æ˜¯ã€‚</p></li></ol><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><blockquote><p>é€šè¿‡ä½¿ç”¨ <a href="https://cn.vuejs.org/api/reactivity-advanced.html#shallowref"><code>shallowRef()</code></a> å’Œ <a href="https://cn.vuejs.org/api/reactivity-advanced.html#shallowreactive"><code>shallowReactive()</code></a> æ¥ç»•å¼€æ·±åº¦å“åº”ã€‚æµ…å±‚å¼ <code>API</code> åˆ›å»ºçš„çŠ¶æ€åªåœ¨å…¶é¡¶å±‚æ˜¯å“åº”å¼çš„ï¼Œå¯¹æ‰€æœ‰æ·±å±‚çš„å¯¹è±¡ä¸ä¼šåšä»»ä½•å¤„ç†ï¼Œé¿å…äº†å¯¹æ¯ä¸€ä¸ªå†…éƒ¨å±æ€§åšå“åº”å¼æ‰€å¸¦æ¥çš„æ€§èƒ½æˆæœ¬ï¼Œè¿™ä½¿å¾—å±æ€§çš„è®¿é—®å˜å¾—æ›´å¿«ï¼Œå¯æå‡æ€§èƒ½ã€‚</p></blockquote><h2 id="7-2-ã€readonly-ä¸-shallowReadonlyã€‘"><a href="#7-2-ã€readonly-ä¸-shallowReadonlyã€‘" class="headerlink" title="7.2.ã€readonly ä¸ shallowReadonlyã€‘"></a>7.2.ã€readonly ä¸ shallowReadonlyã€‘</h2><h3 id="readonly"><a href="#readonly" class="headerlink" title="readonly"></a><strong><code>readonly</code></strong></h3><ol><li><p>ä½œç”¨ï¼šç”¨äºåˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ·±åªè¯»å‰¯æœ¬ã€‚</p></li><li><p>ç”¨æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> original = <span class="title function_">reactive</span>(&#123; ... &#125;);</span><br><span class="line"><span class="keyword">const</span> readOnlyCopy = <span class="title function_">readonly</span>(original);</span><br></pre></td></tr></table></figure></li><li><p>ç‰¹ç‚¹ï¼š</p><ul><li>å¯¹è±¡çš„æ‰€æœ‰åµŒå¥—å±æ€§éƒ½å°†å˜ä¸ºåªè¯»ã€‚</li><li>ä»»ä½•å°è¯•ä¿®æ”¹è¿™ä¸ªå¯¹è±¡çš„æ“ä½œéƒ½ä¼šè¢«é˜»æ­¢ï¼ˆåœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œè¿˜ä¼šåœ¨æ§åˆ¶å°ä¸­å‘å‡ºè­¦å‘Šï¼‰ã€‚</li></ul></li><li><p>åº”ç”¨åœºæ™¯ï¼š</p><ul><li>åˆ›å»ºä¸å¯å˜çš„çŠ¶æ€å¿«ç…§ã€‚</li><li>ä¿æŠ¤å…¨å±€çŠ¶æ€æˆ–é…ç½®ä¸è¢«ä¿®æ”¹ã€‚</li></ul></li></ol><h3 id="shallowReadonly"><a href="#shallowReadonly" class="headerlink" title="shallowReadonly"></a><strong><code>shallowReadonly</code></strong></h3><ol><li><p>ä½œç”¨ï¼šä¸ <code>readonly</code> ç±»ä¼¼ï¼Œä½†åªä½œç”¨äºå¯¹è±¡çš„é¡¶å±‚å±æ€§ã€‚</p></li><li><p>ç”¨æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> original = <span class="title function_">reactive</span>(&#123; ... &#125;);</span><br><span class="line"><span class="keyword">const</span> shallowReadOnlyCopy = <span class="title function_">shallowReadonly</span>(original);</span><br></pre></td></tr></table></figure></li><li><p>ç‰¹ç‚¹ï¼š</p><ul><li><p>åªå°†å¯¹è±¡çš„é¡¶å±‚å±æ€§è®¾ç½®ä¸ºåªè¯»ï¼Œå¯¹è±¡å†…éƒ¨çš„åµŒå¥—å±æ€§ä»ç„¶æ˜¯å¯å˜çš„ã€‚</p></li><li><p>é€‚ç”¨äºåªéœ€ä¿æŠ¤å¯¹è±¡é¡¶å±‚å±æ€§çš„åœºæ™¯ã€‚</p></li></ul></li></ol><h2 id="7-3-ã€toRaw-ä¸-markRawã€‘"><a href="#7-3-ã€toRaw-ä¸-markRawã€‘" class="headerlink" title="7.3.ã€toRaw ä¸ markRawã€‘"></a>7.3.ã€toRaw ä¸ markRawã€‘</h2><h3 id="toRaw"><a href="#toRaw" class="headerlink" title="toRaw"></a><code>toRaw</code></h3><ol><li><p>ä½œç”¨ï¼šç”¨äºè·å–ä¸€ä¸ªå“åº”å¼å¯¹è±¡çš„åŸå§‹å¯¹è±¡ï¼Œ <code>toRaw</code> è¿”å›çš„å¯¹è±¡ä¸å†æ˜¯å“åº”å¼çš„ï¼Œä¸ä¼šè§¦å‘è§†å›¾æ›´æ–°ã€‚</p><blockquote><p>å®˜ç½‘æè¿°ï¼šè¿™æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨äºä¸´æ—¶è¯»å–è€Œä¸å¼•èµ·ä»£ç†è®¿é—®&#x2F;è·Ÿè¸ªå¼€é”€ï¼Œæˆ–æ˜¯å†™å…¥è€Œä¸è§¦å‘æ›´æ”¹çš„ç‰¹æ®Šæ–¹æ³•ã€‚ä¸å»ºè®®ä¿å­˜å¯¹åŸå§‹å¯¹è±¡çš„æŒä¹…å¼•ç”¨ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚</p></blockquote><blockquote><p>ä½•æ—¶ä½¿ç”¨ï¼Ÿ â€”â€” åœ¨éœ€è¦å°†å“åº”å¼å¯¹è±¡ä¼ é€’ç»™é <code>Vue</code> çš„åº“æˆ–å¤–éƒ¨ç³»ç»Ÿæ—¶ï¼Œä½¿ç”¨ <code>toRaw</code> å¯ä»¥ç¡®ä¿å®ƒä»¬æ”¶åˆ°çš„æ˜¯æ™®é€šå¯¹è±¡</p></blockquote></li><li><p>å…·ä½“ç¼–ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; reactive,toRaw,markRaw,isReactive &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* toRaw */</span></span><br><span class="line"><span class="comment">// å“åº”å¼å¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> person = <span class="title function_">reactive</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;tony&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;)</span><br><span class="line"><span class="comment">// åŸå§‹å¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> rawPerson = <span class="title function_">toRaw</span>(person)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* markRaw */</span></span><br><span class="line"><span class="keyword">let</span> citysd = <span class="title function_">markRaw</span>([</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="string">&#x27;asdda01&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;åŒ—äº¬&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="string">&#x27;asdda02&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;ä¸Šæµ·&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="string">&#x27;asdda03&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;å¤©æ´¥&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="string">&#x27;asdda04&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;é‡åº†&#x27;</span>&#125;</span><br><span class="line">])</span><br><span class="line"><span class="comment">// æ ¹æ®åŸå§‹å¯¹è±¡cityså»åˆ›å»ºå“åº”å¼å¯¹è±¡citys2 â€”â€” åˆ›å»ºå¤±è´¥ï¼Œå› ä¸ºcitysè¢«markRawæ ‡è®°äº†</span></span><br><span class="line"><span class="keyword">let</span> citys2 = <span class="title function_">reactive</span>(citys)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isReactive</span>(person))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isReactive</span>(rawPerson))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isReactive</span>(citys))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isReactive</span>(citys2))</span><br></pre></td></tr></table></figure></li></ol><h3 id="markRaw"><a href="#markRaw" class="headerlink" title="markRaw"></a><code>markRaw</code></h3><ol><li><p>ä½œç”¨ï¼šæ ‡è®°ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å…¶<strong>æ°¸è¿œä¸ä¼š</strong>å˜æˆå“åº”å¼çš„ã€‚</p><blockquote><p>ä¾‹å¦‚ä½¿ç”¨<code>mockjs</code>æ—¶ï¼Œä¸ºäº†é˜²æ­¢è¯¯æŠŠ<code>mockjs</code>å˜ä¸ºå“åº”å¼å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ <code>markRaw</code> å»æ ‡è®°<code>mockjs</code></p></blockquote></li><li><p>ç¼–ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* markRaw */</span></span><br><span class="line"><span class="keyword">let</span> citys = <span class="title function_">markRaw</span>([</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="string">&#x27;asdda01&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;åŒ—äº¬&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="string">&#x27;asdda02&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;ä¸Šæµ·&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="string">&#x27;asdda03&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;å¤©æ´¥&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="string">&#x27;asdda04&#x27;</span>,<span class="attr">name</span>:<span class="string">&#x27;é‡åº†&#x27;</span>&#125;</span><br><span class="line">])</span><br><span class="line"><span class="comment">// æ ¹æ®åŸå§‹å¯¹è±¡cityså»åˆ›å»ºå“åº”å¼å¯¹è±¡citys2 â€”â€” åˆ›å»ºå¤±è´¥ï¼Œå› ä¸ºcitysè¢«markRawæ ‡è®°äº†</span></span><br><span class="line"><span class="keyword">let</span> citys2 = <span class="title function_">reactive</span>(citys)</span><br></pre></td></tr></table></figure></li></ol><h2 id="7-4-ã€customRefã€‘"><a href="#7-4-ã€customRefã€‘" class="headerlink" title="7.4.ã€customRefã€‘"></a>7.4.ã€customRefã€‘</h2><p>ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„<code>ref</code>ï¼Œå¹¶å¯¹å…¶ä¾èµ–é¡¹è·Ÿè¸ªå’Œæ›´æ–°è§¦å‘è¿›è¡Œé€»è¾‘æ§åˆ¶ã€‚</p><p>å®ç°é˜²æŠ–æ•ˆæœï¼ˆ<code>useSumRef.ts</code>ï¼‰ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;customRef &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span>(<span class="params">initValue:<span class="built_in">string</span>,delay:<span class="built_in">number</span></span>)&#123;</span><br><span class="line">  <span class="keyword">let</span> msg = <span class="title function_">customRef</span>(<span class="function">(<span class="params">track,trigger</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="attr">timer</span>:<span class="built_in">number</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="title function_">get</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="title function_">track</span>() <span class="comment">// å‘Šè¯‰Vueæ•°æ®msgå¾ˆé‡è¦ï¼Œè¦å¯¹msgæŒç»­å…³æ³¨ï¼Œä¸€æ—¦å˜åŒ–å°±æ›´æ–°</span></span><br><span class="line">        <span class="keyword">return</span> initValue</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">set</span>(<span class="params">value</span>)&#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          initValue = value</span><br><span class="line">          <span class="title function_">trigger</span>() <span class="comment">//é€šçŸ¥Vueæ•°æ®msgå˜åŒ–äº†</span></span><br><span class="line">        &#125;, delay);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;) </span><br><span class="line">  <span class="keyword">return</span> &#123;msg&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»„ä»¶ä¸­ä½¿ç”¨ï¼š</p><h1 id="8-Vue3æ–°ç»„ä»¶"><a href="#8-Vue3æ–°ç»„ä»¶" class="headerlink" title="8. Vue3æ–°ç»„ä»¶"></a>8. Vue3æ–°ç»„ä»¶</h1><h2 id="8-1-ã€Teleportã€‘"><a href="#8-1-ã€Teleportã€‘" class="headerlink" title="8.1. ã€Teleportã€‘"></a>8.1. ã€Teleportã€‘</h2><ul><li>ä»€ä¹ˆæ˜¯Teleportï¼Ÿâ€”â€” Teleport æ˜¯ä¸€ç§èƒ½å¤Ÿå°†æˆ‘ä»¬çš„<strong>ç»„ä»¶htmlç»“æ„</strong>ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®çš„æŠ€æœ¯ã€‚</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">teleport</span> <span class="attr">to</span>=<span class="string">&#x27;body&#x27;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal&quot;</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªå¼¹çª—<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>æˆ‘æ˜¯å¼¹çª—ä¸­çš„ä¸€äº›å†…å®¹<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;isShow = false&quot;</span>&gt;</span>å…³é—­å¼¹çª—<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">teleport</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="8-2-ã€Suspenseã€‘"><a href="#8-2-ã€Suspenseã€‘" class="headerlink" title="8.2. ã€Suspenseã€‘"></a>8.2. ã€Suspenseã€‘</h2><ul><li>ç­‰å¾…å¼‚æ­¥ç»„ä»¶æ—¶æ¸²æŸ“ä¸€äº›é¢å¤–å†…å®¹ï¼Œè®©åº”ç”¨æœ‰æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ </li><li>ä½¿ç”¨æ­¥éª¤ï¼š <ul><li>å¼‚æ­¥å¼•å…¥ç»„ä»¶</li><li>ä½¿ç”¨<code>Suspense</code>åŒ…è£¹ç»„ä»¶ï¼Œå¹¶é…ç½®å¥½<code>default</code> ä¸ <code>fallback</code></li></ul></li></ul><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineAsyncComponent,<span class="title class_">Suspense</span> &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Child</span> = <span class="title function_">defineAsyncComponent</span>(<span class="function">()=&gt;</span><span class="keyword">import</span>(<span class="string">&#x27;./Child.vue&#x27;</span>))</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">        &lt;h3&gt;æˆ‘æ˜¯Appç»„ä»¶&lt;/h3&gt;</span><br><span class="line">        &lt;Suspense&gt;</span><br><span class="line">          &lt;template v-slot:default&gt;</span><br><span class="line">            &lt;Child/&gt;</span><br><span class="line">          &lt;/template&gt;</span><br><span class="line">          &lt;template v-slot:fallback&gt;</span><br><span class="line">            &lt;h3&gt;åŠ è½½ä¸­.......&lt;/h3&gt;</span><br><span class="line">          &lt;/template&gt;</span><br><span class="line">        &lt;/Suspense&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><h2 id="8-3-ã€å…¨å±€APIè½¬ç§»åˆ°åº”ç”¨å¯¹è±¡ã€‘"><a href="#8-3-ã€å…¨å±€APIè½¬ç§»åˆ°åº”ç”¨å¯¹è±¡ã€‘" class="headerlink" title="8.3.ã€å…¨å±€APIè½¬ç§»åˆ°åº”ç”¨å¯¹è±¡ã€‘"></a>8.3.ã€å…¨å±€APIè½¬ç§»åˆ°åº”ç”¨å¯¹è±¡ã€‘</h2><ul><li><code>app.component</code></li><li><code>app.config</code></li><li><code>app.directive</code></li><li><code>app.mount</code></li><li><code>app.unmount</code></li><li><code>app.use</code></li></ul><h2 id="8-4-ã€å…¶ä»–ã€‘"><a href="#8-4-ã€å…¶ä»–ã€‘" class="headerlink" title="8.4.ã€å…¶ä»–ã€‘"></a>8.4.ã€å…¶ä»–ã€‘</h2><ul><li><p>è¿‡æ¸¡ç±»å <code>v-enter</code> ä¿®æ”¹ä¸º <code>v-enter-from</code>ã€è¿‡æ¸¡ç±»å <code>v-leave</code> ä¿®æ”¹ä¸º <code>v-leave-from</code>ã€‚</p></li><li><p><code>keyCode</code> ä½œä¸º <code>v-on</code> ä¿®é¥°ç¬¦çš„æ”¯æŒã€‚</p></li><li><p><code>v-model</code> æŒ‡ä»¤åœ¨ç»„ä»¶ä¸Šçš„ä½¿ç”¨å·²ç»è¢«é‡æ–°è®¾è®¡ï¼Œæ›¿æ¢æ‰äº† <code>v-bind.syncã€‚</code></p></li><li><p><code>v-if</code> å’Œ <code>v-for</code> åœ¨åŒä¸€ä¸ªå…ƒç´ èº«ä¸Šä½¿ç”¨æ—¶çš„ä¼˜å…ˆçº§å‘ç”Ÿäº†å˜åŒ–ã€‚</p></li><li><p>ç§»é™¤äº†<code>$on</code>ã€<code>$off</code> å’Œ <code>$once</code> å®ä¾‹æ–¹æ³•ã€‚</p></li><li><p>ç§»é™¤äº†è¿‡æ»¤å™¨ <code>filter</code>ã€‚</p></li><li><p>ç§»é™¤äº†<code>$children</code> å®ä¾‹ <code>propert</code>ã€‚</p><p>â€¦â€¦</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§†é¢‘ç´ æ</title>
      <link href="/2023/12/15/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/%E8%A7%86%E9%A2%91%E7%B4%A0%E6%9D%90/"/>
      <url>/2023/12/15/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/%E8%A7%86%E9%A2%91%E7%B4%A0%E6%9D%90/</url>
      
        <content type="html"><![CDATA[<h2 id="1ã€å…è´¹è§†é¢‘"><a href="#1ã€å…è´¹è§†é¢‘" class="headerlink" title="1ã€å…è´¹è§†é¢‘"></a>1ã€å…è´¹è§†é¢‘</h2><table><thead><tr><th align="left">â–¼ <strong>é«˜æ¸…è§†é¢‘</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://pixabay.com/zh/videos/">Pixabay</a></td><td align="left">å…ç™»å½•ã€CC0ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€æ”¯æŒä¸­æ–‡ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.pexels.com/zh-cn/videos/">Pexels</a></td><td align="left">å…ç™»å½•ã€CC0ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€æ”¯æŒä¸­æ–‡ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://coverr.co/">Coverr</a></td><td align="left">å…ç™»å½•ã€CC0ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://mixkit.co/free-stock-video/">Mixkit</a></td><td align="left">å…ç™»å½•ã€CC0ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.vidsplay.com/">Vidsplay</a></td><td align="left">å…ç™»å½•ã€CC0ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://isorepublic.com/videos/">ISO Republic</a></td><td align="left">å…ç™»å½•ã€CC0ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.videezy.com/">Videezy</a></td><td align="left">å…ç™»å½•ã€CC0ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å…è´¹ä½¿ç”¨éœ€è¦ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.videvo.net/">Videvo</a></td><td align="left">å…ç™»å½•ã€CC0ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å…è´¹ä½¿ç”¨éœ€è¦ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.freepik.com/videos">Freepik</a></td><td align="left">å…ç™»å½•ã€CC0ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å…è´¹ä½¿ç”¨éœ€è¦ç½²åã€‚</td></tr><tr><td align="left">â–¼ <strong>å°ä¼—è§†é¢‘</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="https://www.motionplaces.com/">Motion Places</a></td><td align="left">å…ç™»å½•ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å°ä¼—è§†é¢‘ã€å¤šä¸ºå»¶æ—¶æ‘„å½±ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://mazwai.com/">Mazwai</a></td><td align="left">å…ç™»å½•ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å°ä¼—è§†é¢‘ã€å¤šä¸ºç”µå½±é£æ ¼ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://dareful.com/">Dareful</a></td><td align="left">å…ç™»å½•ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å°ä¼—è§†é¢‘ã€å¤šä¸ºè‡ªç„¶æ™¯è‰²ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://focastock.com/videos/">FOCA</a></td><td align="left">å…ç™»å½•ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å°ä¼—è§†é¢‘ã€å¤šä¸ºè‡ªç„¶æ™¯è‰²ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://freenaturestock.com/videos/">Nature Stock</a></td><td align="left">å…ç™»å½•ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å°ä¼—è§†é¢‘ã€å¤šä¸ºè‡ªç„¶æ™¯è‰²ã€‚</td></tr><tr><td align="left">â–¼ <strong>èšåˆæœç´¢</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="https://www.6huo.com/footages">é¢„å‘Šç‰‡ä¸–ç•Œ</a></td><td align="left">å…ç™»å½•ã€CC0ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€èšåˆæœç´¢å¼•æ“ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://video.librestock.com/">Librestock</a></td><td align="left">å…ç™»å½•ã€CC0ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€èšåˆæœç´¢å¼•æ“ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.free-video-footage.com/">FVF</a></td><td align="left">å…ç™»å½•ã€CC0ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€èšåˆæœç´¢å¼•æ“ã€‚</td></tr></tbody></table><h2 id="2ã€è§†é¢‘ç´ æ"><a href="#2ã€è§†é¢‘ç´ æ" class="headerlink" title="2ã€è§†é¢‘ç´ æ"></a>2ã€è§†é¢‘ç´ æ</h2><table><thead><tr><th align="left">â–¼ <strong>è§†é¢‘ç´ æ</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://www.aigei.com/">çˆ±ç»™ç½‘</a></td><td align="left">å›½å†…çŸ¥åçš„è§†é¢‘ç´ æç½‘ç«™ï¼Œä¸‹è½½è¦é“œå¸ï¼Œæ¯æ—¥å…è´¹é€ 20 é“œå¸ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.heycan.com/home">é»‘ç½å¤´</a></td><td align="left">æŠ–éŸ³æ——ä¸‹ç´ æå¹³å°ï¼ŒUGC å¹³å°ï¼Œå…è´¹ä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://cool.bilibili.com/square/video">ç´ æé…·å¹³å°</a></td><td align="left">B ç«™æ——ä¸‹ç´ æå¹³å°ï¼ŒUGC å¹³å°ï¼Œå…è´¹ä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://sucai.zhiyu.art/">çŸ¥é±¼ç´ æ</a></td><td align="left">å›½å†…è§†é¢‘ç´ æåº“ï¼Œ<strong>â€œå…±äº«åè®®â€</strong>çš„ç´ æå¯å…è´¹å•†ç”¨ã€å…è´¹ç”¨æˆ·æ¯å¤© 1 æ¬¡ä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://shipin520.com/">æ½®ç‚¹è§†é¢‘</a></td><td align="left">å›½å†…è§†é¢‘ç´ æåº“ï¼Œå…è´¹ç”¨æˆ·æ¯å¤© 1 æ¬¡ä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://al.jybest.ltd/%E8%BD%AF%E4%BB%B6/Windows/4000%E4%B8%AA%E7%BB%BF%E5%B9%95%E8%A7%86%E9%A2%91%E7%B4%A0%E6%9D%9027G">ç»¿å¹•è§†é¢‘27G</a></td><td align="left">ç½‘ä¸Šæ‰¾åˆ°çš„ 4000ä¸ªç»¿å¹•è§†é¢‘ç´ æ 27Gï¼Œæ”¯æŒé¢„è§ˆå’Œä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://cutestockfootage.com/">Cute Footage</a></td><td align="left">å…ç™»å½•ã€CC0ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.productioncrate.com/">ProductionCrate</a></td><td align="left">è¦ç™»å½•ã€ä»˜è´¹ç½‘ç«™çš„å…è´¹å†…å®¹ï¼Œæ¯æ—¥ 4 æ¬¡å…è´¹ä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.monzoom.com/">Monzoom</a></td><td align="left">è¦ç™»å½•ã€CC0ç‰ˆæƒã€å…è´¹ä½¿ç”¨éœ€è¦ç½²åã€‚</td></tr></tbody></table><h2 id="3ã€è§†é¢‘åæœŸ"><a href="#3ã€è§†é¢‘åæœŸ" class="headerlink" title="3ã€è§†é¢‘åæœŸ"></a>3ã€è§†é¢‘åæœŸ</h2><table><thead><tr><th align="left">â–¼ <strong>ç‰¹æ•ˆæ¨¡ç‰ˆ</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://mixkit.co/free-video-templates/">Mixkit</a></td><td align="left">å…ç™»å½•ã€CC0ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.lookae.com/">LookAE</a></td><td align="left">å…ç™»å½•ã€æä¾›ç½‘ç›˜ä¸‹è½½ï¼Œå•†ç”¨éœ€è°¨æ…ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.newcger.com/">NewCGer</a></td><td align="left">å…ç™»å½•ã€æä¾›ç½‘ç›˜ä¸‹è½½ï¼Œå•†ç”¨éœ€è°¨æ…ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://c4dsky.com/">ä¹¦ç”Ÿå½±è§†</a></td><td align="left">å…ç™»å½•ã€æä¾›ç½‘ç›˜ä¸‹è½½ï¼Œå•†ç”¨éœ€è°¨æ…ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.mfcpx.com/">FCPXèµ„æºç«™</a></td><td align="left">å…ç™»å½•ã€æä¾›ç½‘ç›˜ä¸‹è½½ï¼Œå•†ç”¨éœ€è°¨æ…ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="http://www.cgdream.com.cn/">CGæ¨¡å‹ç½‘</a></td><td align="left">å…ç™»å½•ã€æä¾›ç½‘ç›˜ä¸‹è½½ï¼Œå•†ç”¨éœ€è°¨æ…ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.cgown.com/">CGèµ„æºç½‘</a></td><td align="left">å…ç™»å½•ã€æä¾›ç½‘ç›˜ä¸‹è½½ï¼Œå•†ç”¨éœ€è°¨æ…ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="http://www.cgahz.com/">CGçˆ±å¥½è€…ç½‘</a></td><td align="left">å…ç™»å½•ã€æä¾›ç½‘ç›˜ä¸‹è½½ï¼Œå•†ç”¨éœ€è°¨æ…ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.cgufo.com/">CGUFO</a></td><td align="left">å…ç™»å½•ã€æä¾›ç½‘ç›˜ä¸‹è½½ï¼Œå•†ç”¨éœ€è°¨æ…ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.aepond.com/">AEPON</a></td><td align="left">å…ç™»å½•ã€æä¾›ç½‘ç›˜ä¸‹è½½ï¼Œå•†ç”¨éœ€è°¨æ…ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://prmuban.com/">PRæ¨¡æ¿ç½‘</a></td><td align="left">å…ç™»å½•ã€æä¾›ç½‘ç›˜ä¸‹è½½ï¼Œå•†ç”¨éœ€è°¨æ…ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.gfxcamp.com/">GFXCamp</a></td><td align="left">å…ç™»å½•ã€æä¾›ç½‘ç›˜ä¸‹è½½ï¼Œå•†ç”¨éœ€è°¨æ…ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="http://www.lovelifemrle.com/">çˆ±ç”Ÿæ´»çš„ä¹å…ˆç”Ÿ</a></td><td align="left">å…ç™»å½•ã€æä¾›ç½‘ç›˜ä¸‹è½½ï¼Œå•†ç”¨éœ€è°¨æ…ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://videocopilot.net.cn/">Video-Copilot</a></td><td align="left">å…ç™»å½•ã€æä¾›ç½‘ç›˜ä¸‹è½½ï¼Œå•†ç”¨éœ€è°¨æ…ã€‚</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™æ¨è </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç«™ </tag>
            
            <tag> è§†é¢‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­—ä½“å¯¼èˆª</title>
      <link href="/2023/12/15/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/%E5%AD%97%E4%BD%93%E5%AF%BC%E8%88%AA/"/>
      <url>/2023/12/15/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/%E5%AD%97%E4%BD%93%E5%AF%BC%E8%88%AA/</url>
      
        <content type="html"><![CDATA[<h2 id="1ã€ä¸­æ–‡å­—ä½“"><a href="#1ã€ä¸­æ–‡å­—ä½“" class="headerlink" title="1ã€ä¸­æ–‡å­—ä½“"></a>1ã€ä¸­æ–‡å­—ä½“</h2><table><thead><tr><th align="left">â–¼ <strong>å…è´¹å•†ç”¨</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://wordshub.github.io/free-font/">å­—é›†</a></td><td align="left">å…è´¹å•†ç”¨å­—ä½“åº“ï¼Œå¤§æ¦‚æ˜¯ 2020 å¹´æœ€å…¨çš„å…è´¹å¯å•†ç”¨å­—ä½“åº“ã€‚ğŸ‘</td></tr><tr><td align="left">ğŸŒ <a href="https://www.maoken.com/all-fonts-imgs">çŒ«å•ƒç½‘</a></td><td align="left">å…è´¹å•†ç”¨å­—ä½“åº“ï¼Œæœ‰ <a href="https://www.maoken.com/all-fonts-imgs">å›¾æ–‡ç‰ˆ</a>ã€<a href="https://www.maoken.com/preview">é¢„è§ˆç‰ˆ</a>ã€<a href="https://www.maoken.com/all-fonts">è¡¨æ ¼ç‰ˆ</a> ç­‰å¤šç§æ–¹æ³•ï¼Œå¹¶æä¾›ä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://ziyouziti.com/">è‡ªç”±å­—ä½“</a></td><td align="left">å…è´¹å•†ç”¨å­—ä½“åº“ï¼Œé™„æœ‰å­—ä½“ä½¿ç”¨æ ·ç‰ˆï¼Œç¡®ä¿æ˜¯å•†ç”¨å…è´¹å­—ä½“ï¼Œä¸ä¼šæœ‰ç‰ˆæƒçº çº·ã€‚</td></tr><tr><td align="left"><a href="https://www.potatofield.cn/fontlibrary">ğŸŒ æ´‹èŠ‹ç”°</a></td><td align="left">å…è´¹å•†ç”¨å­—ä½“åº“ï¼Œæ”¶å½•äº† 140+ å­—ä½“ï¼Œç¡®ä¿æ˜¯å•†ç”¨å…è´¹å­—ä½“ï¼Œä¸ä¼šæœ‰ç‰ˆæƒçº çº·ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.freechinesefont.com/">CN Fonts</a></td><td align="left">å…è´¹å•†ç”¨å­—ä½“åº“ï¼Œæ”¶å½•äº† 180+ å­—ä½“ï¼Œç¡®ä¿æ˜¯å•†ç”¨å…è´¹å­—ä½“ï¼Œä¸ä¼šæœ‰ç‰ˆæƒçº çº·ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.100font.com/">100font</a></td><td align="left">å…è´¹å•†ç”¨å­—ä½“åº“ï¼Œä¸“é—¨æ”¶å½•å…è´¹å•†ç”¨å­—ä½“ï¼Œé€šè¿‡ç½‘ç›˜ä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.shejidt.com/fonts">SHEJIDT</a></td><td align="left">å…è´¹å•†ç”¨å­—ä½“åº“ï¼Œä¸“é—¨æ”¶å½•å…è´¹å•†ç”¨å­—ä½“ï¼Œé€šè¿‡ç½‘ç›˜ä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://51font.17font.com/">51Font</a></td><td align="left">å…è´¹å•†ç”¨å­—ä½“åº“ï¼Œä¸“é—¨æ”¶å½•å…è´¹å•†ç”¨å­—ä½“ï¼Œé€šè¿‡ç½‘ç›˜ä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://pan.baidu.com/share/init?surl=ALdMdP2fX_WEQjTDutZkAw">900å…è´¹å­—ä½“</a></td><td align="left">å…è´¹å•†ç”¨å­—ä½“åº“ï¼Œç½‘å‹æ•´ç†çš„å…è´¹å•†ç”¨å­—ä½“é›†åˆï¼Œé€šè¿‡ç½‘ç›˜ä¸‹è½½ï¼Œæå–ç ï¼š52pj</td></tr><tr><td align="left">â–¼ <strong>å­—ä½“èµ„è®¯</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="https://www.thetype.com/">The Type</a></td><td align="left">å­—ä½“èµ„è®¯ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.zhaozi.cn/">æ‰¾å­—ç½‘</a></td><td align="left">å­—ä½“èµ„è®¯ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.fontke.com/">å­—å®¢ç½‘</a></td><td align="left">å­—ä½“èµ„è®¯ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://izihun.com/">å­—é­‚ç½‘</a></td><td align="left">å­—ä½“èµ„è®¯ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="http://www.ziticq.com/">å­—ä½“ä¼ å¥‡</a></td><td align="left">å­—ä½“èµ„è®¯ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.fonts.net.cn/">å­—ä½“å¤©ä¸‹</a></td><td align="left">å­—ä½“èµ„è®¯ç½‘ç«™ã€‚</td></tr><tr><td align="left">â–¼ <strong>è‹±æ–‡å­—ä½“</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="https://www.fontspace.com/">FontSpace</a></td><td align="left">åœ¨çº¿è‹±æ–‡å­—ä½“åº“ï¼Œæä¾›å„ç§å„æ ·é£æ ¼çš„å­—ä½“ï¼Œå­—ä½“ä¸‹è½½æ—è¾¹ä¼šæœ‰ç‰ˆæƒæ ‡æ³¨ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.1001fonts.com/">1001 Fonts</a></td><td align="left">åœ¨çº¿è‹±æ–‡å­—ä½“åº“ï¼Œæä¾›å„ç§å„æ ·é£æ ¼çš„å­—ä½“ï¼Œå­—ä½“ä¸‹è½½æ—è¾¹ä¼šæœ‰ç‰ˆæƒæ ‡æ³¨ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.fontshare.com/">Fontshare</a></td><td align="left">åœ¨çº¿è‹±æ–‡å­—ä½“åº“ï¼Œæä¾›å„ç§å„æ ·é£æ ¼çš„å­—ä½“ï¼Œå­—ä½“ä¸‹è½½æ—è¾¹ä¼šæœ‰ç‰ˆæƒæ ‡æ³¨ã€‚</td></tr><tr><td align="left"></td><td align="left"></td></tr></tbody></table><h2 id="2ã€è‹±æ–‡å­—ä½“"><a href="#2ã€è‹±æ–‡å­—ä½“" class="headerlink" title="2ã€è‹±æ–‡å­—ä½“"></a>2ã€è‹±æ–‡å­—ä½“</h2><table><thead><tr><th align="left">â–¼ <strong>å…è´¹å•†ç”¨</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://wordmark.it/">Wordmark</a></td><td align="left">åœ¨çº¿è‹±æ–‡å­—ä½“åº“ï¼Œä¸‹è½½æŒ‰é’®æ—è¾¹ä¼šæœ‰ç‰ˆæƒæ ‡æ³¨ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.fontspace.com/">FontSpace</a></td><td align="left">åœ¨çº¿è‹±æ–‡å­—ä½“åº“ï¼Œä¸‹è½½æŒ‰é’®æ—è¾¹ä¼šæœ‰ç‰ˆæƒæ ‡æ³¨ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.dafont.com/themes.php">Dafont</a></td><td align="left">åœ¨çº¿è‹±æ–‡å­—ä½“åº“ï¼Œä¸‹è½½æŒ‰é’®æ—è¾¹ä¼šæœ‰ç‰ˆæƒæ ‡æ³¨ã€‚</td></tr><tr><td align="left"><a href="https://www.azfonts.net/">ğŸŒ AZfonts</a></td><td align="left">åœ¨çº¿è‹±æ–‡å­—ä½“åº“ï¼Œä¸‹è½½æŒ‰é’®æ—è¾¹ä¼šæœ‰ç‰ˆæƒæ ‡æ³¨ã€‚</td></tr><tr><td align="left"><a href="https://fontesk.com/">ğŸŒ Fontesk</a></td><td align="left">åœ¨çº¿è‹±æ–‡å­—ä½“åº“ï¼Œä¸‹è½½æŒ‰é’®æ—è¾¹ä¼šæœ‰ç‰ˆæƒæ ‡æ³¨ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.fontshare.com/">FontShare</a></td><td align="left">åœ¨çº¿è‹±æ–‡å­—ä½“åº“ï¼Œä¸‹è½½æŒ‰é’®æ—è¾¹ä¼šæœ‰ç‰ˆæƒæ ‡æ³¨ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.1001fonts.com/">1001 Fonts</a></td><td align="left">åœ¨çº¿è‹±æ–‡å­—ä½“åº“ï¼Œä¸‹è½½æŒ‰é’®æ—è¾¹ä¼šæœ‰ç‰ˆæƒæ ‡æ³¨ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.1001freefonts.com/">1001FreeFonts</a></td><td align="left">åœ¨çº¿è‹±æ–‡å­—ä½“åº“ï¼Œä¸‹è½½æŒ‰é’®æ—è¾¹ä¼šæœ‰ç‰ˆæƒæ ‡æ³¨ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.actionfonts.com/">Action Fonts</a></td><td align="left">åœ¨çº¿è‹±æ–‡å­—ä½“åº“ï¼Œä¸‹è½½æŒ‰é’®æ—è¾¹ä¼šæœ‰ç‰ˆæƒæ ‡æ³¨ã€‚</td></tr><tr><td align="left">â–¼ <strong>å­—ä½“èµ„è®¯</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left"><a href="https://www.typewolf.com/">ğŸŒ TypeWolf</a></td><td align="left">è‹±æ–‡å­—ä½“èµ„è®¯ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.fonts.com/">Fonts.com</a></td><td align="left">è‹±æ–‡å­—ä½“èµ„è®¯ç½‘ç«™ï¼Œå¤§å¤šæ•°ä¸ºä»˜è´¹å­—ä½“ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://fontdiner.com/">FontDiner</a></td><td align="left">è‹±æ–‡å­—ä½“èµ„è®¯ç½‘ç«™ï¼Œå¤§å¤šæ•°ä¸ºå¤å¤å­—ä½“ã€‚</td></tr><tr><td align="left"><a href="https://blambot.com/">ğŸŒ Blambot</a></td><td align="left">è‹±æ–‡å­—ä½“èµ„è®¯ç½‘ç«™ï¼Œå¤§å¤šæ•°ä¸ºæ¼«ç”»å­—ä½“ã€‚</td></tr></tbody></table><h2 id="3ã€å­—ä½“å·¥å…·"><a href="#3ã€å­—ä½“å·¥å…·" class="headerlink" title="3ã€å­—ä½“å·¥å…·"></a>3ã€å­—ä½“å·¥å…·</h2><table><thead><tr><th align="left">â–¼ <strong>å­—ä½“æŸ¥è¯¢</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://fonts.safe.360.cn/">360æŸ¥å­—ä½“</a></td><td align="left">å­—ä½“ç‰ˆæƒæŸ¥è¯¢ï¼Œç”± 360 å…¬å¸æ¨å‡ºã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.likefont.com/">è¯†å­—ä½“ç½‘</a></td><td align="left">ä¸­æ–‡å­—ä½“è¯†åˆ«ï¼Œæ”¯æŒä¸­ã€è‹±ã€æ—¥éŸ©ã€ç­‰æ–‡å­—ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://fonts.adobe.com/">Adobe Fonts</a></td><td align="left">ä¸­æ–‡å­—ä½“è¯†åˆ«ï¼ŒAdobe å…¬å¸å‡ºå“ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.myfonts.com/pages/whatthefont">WhatTheFont!</a></td><td align="left">è‹±æ–‡å­—ä½“è¯†åˆ«ï¼Œä¸Šä»˜å›¾ç‰‡è¯†åˆ«ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.whatfontis.com/">WhatFontIs</a></td><td align="left">è‹±æ–‡å­—ä½“è¯†åˆ«ï¼Œä¸Šä»˜å›¾ç‰‡è¯†åˆ«ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.fontsquirrel.com/matcherator">Identify Fonts</a></td><td align="left">è‹±æ–‡å­—ä½“è¯†åˆ«ï¼Œä¸Šä»˜å›¾ç‰‡è¯†åˆ«ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="http://www.identifont.com/index.html">IdentiFont</a></td><td align="left">è‹±æ–‡å­—ä½“è¯†åˆ«ï¼Œé€šè¿‡å­—ä½“æè¿°æ¥è¯†åˆ«å­—ä½“ã€‚</td></tr><tr><td align="left">â–¼ <strong>æ‰‹å†™å­—ä½“</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="https://shouxie.laoxiezi.com/">è€é‹å­</a></td><td align="left">æ‰‹å†™å­—ä½“ç”Ÿæˆå™¨ï¼Œæ‰‹å†™å­—ä½“åœ¨çº¿ç”Ÿæˆå™¨ã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="https://www.beautifulcarrot.com/">èåœå·¥åŠ</a></td><td align="left">æ‰‹å†™å­—ä½“ç”Ÿæˆå™¨ï¼Œæ¨¡æ‹Ÿæ‰‹å†™å­—ä½“è½¯ä»¶ï¼Œä¸€é”®ç”Ÿæˆæ‰‹å†™æ–‡ç¨¿ã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="https://www.iamzlt.com/?p=602">æ‰‹å†™æ¨¡æ‹Ÿå™¨</a></td><td align="left">æ‰‹å†™å­—ä½“ç”Ÿæˆå™¨ï¼Œæ¨¡æ‹Ÿæ‰‹å†™å­—ä½“è½¯ä»¶ï¼Œä¸€é”®ç”Ÿæˆæ‰‹å†™æ–‡ç¨¿ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.calligrapher.ai/">Calligrapher</a></td><td align="left">æ‰‹å†™å­—ä½“ç”Ÿæˆå™¨ï¼Œå¯ä»¥å°†è‹±æ–‡å˜æˆæ‰‹å†™ä½“ï¼Œå¹¶æœ‰åŠ¨ç”»æ•ˆæœï¼Œå¹¶æä¾› SVG ä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.an2.net/">ç”°å­—æ ¼å­—å¸–</a></td><td align="left">ç”°å­—æ ¼å¸–ç”Ÿæˆå™¨ï¼Œå…è´¹çš„åœ¨çº¿ç”°å­—æ ¼å­—å¸–ç”Ÿæˆå™¨ï¼Œæ”¯æŒç¬”é¡ºï¼Œå°å­¦ç”Ÿç»ƒå­—ç¥å™¨ã€‚</td></tr><tr><td align="left">â–¼ <strong>ä¹¦æ³•å­—ä½“</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left"><a href="http://www.shufami.com/">ğŸŒ ä¹¦æ³•è¿·</a></td><td align="left">ä¹¦æ³•å­—ä½“ç”Ÿæˆå™¨ï¼Œåœ¨çº¿ç”Ÿæˆå™¨ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.diyiziti.com/">ç¬¬ä¸€å­—ä½“</a></td><td align="left">ä¹¦æ³•å­—ä½“ç”Ÿæˆå™¨ï¼Œåœ¨çº¿ç”Ÿæˆå™¨ã€‚</td></tr><tr><td align="left"><a href="http://g.shufaziti.com/">ğŸŒ å…‰æ˜ä¹¦æ³•</a></td><td align="left">ä¹¦æ³•å­—ä½“ç”Ÿæˆå™¨ï¼Œæ¨ªå¹…é›†å­—å·¥å…·ã€‚</td></tr><tr><td align="left"><a href="http://shufa.4a40.com/">ğŸŒ ä¹¦æ³•é›†å­—</a></td><td align="left">ä¹¦æ³•å­—ä½“ç”Ÿæˆå™¨ï¼Œä¹¦æ³•å­—å…¸åœ¨çº¿æŸ¥è¯¢ã€‚</td></tr><tr><td align="left"><a href="http://www.395.net.cn/">ğŸŒ 395å·¥å…·</a></td><td align="left">ä¹¦æ³•å­—ä½“ç”Ÿæˆå™¨ï¼Œæœ‰å„å¼å„æ ·çš„åœ¨çº¿å·¥å…·ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.moage.cn/shufa">å¤é£å®¶ä¹¦</a></td><td align="left">ä¹¦æ³•å­—ä½“ç”Ÿæˆå™¨ï¼Œå¤é£å®¶ä¹¦ç”Ÿæˆå™¨ã€‚</td></tr><tr><td align="left">â–¼ <strong>å°ç« å­—ä½“</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="https://www.gaitubao.com/yinzhang">æ”¹å›¾å®</a></td><td align="left">ç”µå­å°ç« ç”Ÿæˆå™¨ï¼Œå…è´¹ä¸”ä¸“ä¸šã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.mofans.net/yinzhang/">å¢¨èŠ³å°ç« </a></td><td align="left">ç”µå­å°ç« ç”Ÿæˆå™¨ï¼Œå…è´¹ä¸”ä¸“ä¸šã€‚</td></tr><tr><td align="left">ğŸŒ <a href="http://redmi.work/">395å°ç« </a></td><td align="left">ç”µå­å°ç« ç”Ÿæˆå™¨ï¼Œå…è´¹ä¸”ä¸“ä¸šã€‚</td></tr><tr><td align="left">â–¼ <strong>ç³»ç»Ÿå­—ä½“</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸ“¥ <a href="https://fontforge.org/en-US/">FontForge</a></td><td align="left">å­—ä½“ç¼–è¾‘å™¨ï¼Œç”¨æ¥åˆ›å»ºæ–°çš„å­—ä½“ï¼Œæ”¯æŒä¸­æ–‡ï¼Œä¸”å…è´¹å¼€æºã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="https://www.mactype.net/">MacType</a></td><td align="left">å­—ä½“æ¸²æŸ“å·¥å…·ï¼Œå¯ä»¥ä½¿ç³»ç»Ÿæ–‡å­—æ˜¾ç¤ºæ›´åŠ æ¸…æ™°ã€æ›´æœ‰ç«‹ä½“æ„Ÿã€‚</td></tr></tbody></table><h2 id="4ã€å­—ä½“ç‰¹æ•ˆ"><a href="#4ã€å­—ä½“ç‰¹æ•ˆ" class="headerlink" title="4ã€å­—ä½“ç‰¹æ•ˆ"></a>4ã€å­—ä½“ç‰¹æ•ˆ</h2><table><thead><tr><th align="left">â–¼ <strong>åœ¨çº¿å·¥å…·</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://www.logosc.cn/text/">æ ‡å°æ™º</a></td><td align="left">ç”Ÿæˆç‰¹æ•ˆå­—ä½“ï¼Œä¸€é”®ç”Ÿæˆå„ç§ç‰¹æ•ˆçš„å­—ä½“ï¼Œå¹¶æä¾›ä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://vaufonts.com/">VAU Fonts</a></td><td align="left">ç”Ÿæˆç‰¹æ•ˆå­—ä½“ï¼Œä¸€é”®ç”Ÿæˆå„ç§ç‰¹æ•ˆçš„å­—ä½“ï¼Œåœ¨â€œ<strong>Preset</strong>â€é‡Œå¯ä»¥åˆ‡æ¢æ•ˆæœã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://andyh0913.github.io/FrenchFries-Font-Converter/">éº¦å½“åŠ³å­—ä½“</a></td><td align="left">ç”Ÿæˆç‰¹æ•ˆå­—ä½“ï¼Œç”Ÿæˆéº¦å½“åŠ³è–¯æ¡å­—ä½“ï¼Œå¹¶æä¾›ä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://textanim.com/">TEXTANIM</a></td><td align="left">ç”ŸæˆåŠ¨æ•ˆå­—ä½“ï¼Œç”Ÿæˆ GIF åŠ¨æ•ˆå­—ä½“ï¼Œæ•ˆæœç›¸å¯¹æ¯”è¾ƒå¤å¤ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://llamafont.com/">Llama Font</a></td><td align="left">ç”Ÿæˆç‰¹æ•ˆå­—ä½“ï¼Œç”Ÿæˆè‰æ³¥é©¬ï¼ˆç¾Šé©¼ï¼‰å­—ä½“ã€‚</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>æœ¬åœ°å·¥å…·</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸ“¥ <a href="https://aaa-logo.com/">AAA Logo</a></td><td align="left">å…è´¹ï¼Œ1000+ ç°æˆ Logo æ¨¡ç‰ˆä¸€é”®ç”Ÿæˆï¼Œåªæ”¯æŒ Windowsã€‚<a href="https://www.aaa-logo.com/download.php">ğŸªŸ</a></td></tr><tr><td align="left">ğŸ“¥ <a href="https://apps.apple.com/cn/app/art-text-4-text-effects-app/id1499327230?mt=12">Art Text 4</a></td><td align="left">ä¸“ä¸šå›¾å½¢è®¾è®¡å·¥å…·ï¼Œå¯ä»¥ä¸€é”®ç”ŸæˆæƒŠè‰³çš„æ–‡æœ¬å’Œå›¾å½¢ï¼Œåªæ”¯æŒ Macã€‚<a href="https://two.onefileserver.top/macxz/10293/art_text_4_4.3.0.dmg">ğŸ</a></td></tr></tbody></table><h2 id="5ã€å­—ä½“ç‰ˆæƒ"><a href="#5ã€å­—ä½“ç‰ˆæƒ" class="headerlink" title="5ã€å­—ä½“ç‰ˆæƒ"></a>5ã€å­—ä½“ç‰ˆæƒ</h2><p>æ— è®ºä½ æ˜¯åšä»€ä¹ˆå·¥ä½œçš„ï¼Œå­—ä½“ç‰ˆæƒï¼Œä½ ä¸€å®šè¦ææ¸…æ¥šã€‚å› ä¸ºï¼Œ<strong>ä»–ä»¬æ˜¯çœŸçš„å‘Šï¼</strong></p><p>é‚£æˆ‘ä»¬è¦å¦‚ä½•é¿å…å­—ä½“ä¾µæƒå‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥ç”¨æ’é™¤æ³•ã€‚</p><p><strong>1ã€ç³»ç»Ÿè‡ªå¸¦çš„â€œå¾®è½¯é›…é»‘â€å’Œâ€œè‹¹æ–¹é»‘ä½“â€ä¸å¯å•†ç”¨ã€‚</strong></p><p>ç†è®ºä¸Š Windows å’Œ Mac è‡ªå¸¦çš„å­—ä½“ï¼Œä¹Ÿä¸æ˜¯å¯å•†ç”¨çš„ï¼Œåªæ˜¯ä»–ä»¬æ˜¯å‡ºè‡ªâ€œå¤§å…¬å¸â€ï¼Œæ²¡æ—¶é—´å‘Šä½ ç½¢äº†ã€‚</p><p><strong>2ã€å¦‚æœä½ ä¸æ‰“ç®—èŠ±é’±ä¹°å­—ä½“ï¼Œå‡¡æ˜¯å›½å†…å¤§å…¬å¸çš„å­—ä½“å“ç‰Œï¼Œéƒ½ä¸è¦ç”¨ã€‚</strong></p><p>å› ä¸ºå›½å†…å…¬æ€€å¯„å¾‹å¸ˆå‡½çš„æ–¹æ³•å¯å¤ªç®€å•äº†ï¼Œç”šè‡³å¯ä»¥åœ¨å…¬ä¼—å·è¯„è®ºåŒºç•™è¨€ï¼Œå›½å¤–å…¬å¸è‡³å°‘è¿˜æ‰¾ä¸ªæ³•äººä»£è¡¨ã€‚</p><p><strong>3ã€å¦‚æœä½ ä¸æ‰“ç®—èŠ±é’±ä¹°å­—ä½“ï¼Œé‚£äº›ä¼ ç»Ÿå­—ä½“å“ç‰Œï¼Œä¸€å¾‹ä¸è¦ç”¨ã€‚</strong></p><p>å‡ ä¹ä½ èƒ½å«å¾—å‡ºåå­—çš„å­—ä½“å“ç‰Œï¼Œæ¯”å¦‚ æ–¹æ­£ã€ååº·ã€æ±‰ä»ªã€åæ–‡ã€åå…‰ã€è’™çº³ã€æ–‡æ‚¦ã€æ±‰é¼ã€æ–‡é¼ ç­‰ç­‰ã€‚</p><p>è¿™äº›å­—ä½“å°±åƒé«˜å‹ç”µçº¿ä¸€æ ·çš„ï¼Œåƒä¸‡åˆ«ç¢°ã€‚ï¼ˆä¹Ÿå°‘é‡å­—ä½“å¯å…è´¹å•†ç”¨ï¼Œä½†ä¸å¥½çœ‹ï¼‰</p><p>å¦‚æœä½ å®‰è£…è¿‡è¿™æ­¤å­—ä½“ï¼Œèµ¶ç´§ä»ä½ çš„ç”µè„‘ä¸Šåˆ é™¤ï¼Œä¸è¦ç»™è‡ªå·±åŸ‹é›·ã€‚</p><p>ä»–ä»¬æ˜¯çœŸçš„å‘Šï¼</p><p><strong>4ã€åªç”¨ä½ ç¡®å®šæ˜¯å¯å…è´¹å•†ç”¨çš„å­—ä½“ã€‚</strong></p><p>å¯å…è´¹å•†ç”¨çš„å­—ä½“å¾ˆå¤šï¼Œæˆ‘ä»¬æ²¡å¿…è¦ä¸‹è½½æ‰€æœ‰çš„å­—ä½“ã€‚</p><p>æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼ŒæŠŠé‚£äº›ç»è¿‡ç¡®å®šæ˜¯å¯ä»¥â€œ<strong>å…è´¹å•†ç”¨çš„å­—ä½“</strong>â€ï¼Œæ‰æ”¾åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ã€‚</p><p>è®°å¾—è¿˜è¦ä¿å­˜ä¸€å¼ â€œ<strong>å­—ä½“æˆªå›¾</strong>â€ï¼Œæ–¹ä¾¿è¯†åˆ«ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™æ¨è </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç«™ </tag>
            
            <tag> å­—ä½“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éŸ³ä¹ç´ æ</title>
      <link href="/2023/12/15/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/%E9%9F%B3%E4%B9%90%E7%B4%A0%E6%9D%90/"/>
      <url>/2023/12/15/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/%E9%9F%B3%E4%B9%90%E7%B4%A0%E6%9D%90/</url>
      
        <content type="html"><![CDATA[<h2 id="1ã€éŸ³æ•ˆç´ æ"><a href="#1ã€éŸ³æ•ˆç´ æ" class="headerlink" title="1ã€éŸ³æ•ˆç´ æ"></a>1ã€éŸ³æ•ˆç´ æ</h2><table><thead><tr><th align="left">â–¼ <strong>å›½å†…ç½‘ç«™</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://www.aigei.com/sound">çˆ±ç»™ç½‘</a></td><td align="left"><strong>è¦ç™»é™†</strong>ã€CC0 ç‰ˆæƒã€æ”¯æŒä¸­æ–‡ã€<strong>ä¸‹è½½éœ€ä»˜è´¹</strong>ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.tosound.com/">æ·˜å£°ç½‘</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ”¯æŒä¸­æ–‡ã€èšåˆæœç´¢å¼•æ“ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.ear0.com/">è€³è†ç½‘</a></td><td align="left"><strong>è¦ç™»é™†</strong>ã€CC0 ç‰ˆæƒã€æ”¯æŒä¸­æ–‡ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://sc.chinaz.com/yinxiao/">ç«™é•¿ç´ æ</a></td><td align="left">å…ç™»é™†ã€<strong>ç‰ˆæƒä¸æ˜ï¼Œå•†ç”¨éœ€è°¨æ…</strong>ã€‚</td></tr><tr><td align="left">â–¼ <strong>å›½å¤–ç½‘ç«™</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="https://pixabay.com/sound-effects/">Pixabay</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://mixkit.co/free-sound-effects/">Mixkit</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.findsounds.com/typesChinese.html">FindSounds</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.soundeffectsplus.com/">SoundEffects+</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.soundgator.com/">SoundGator</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://taira-komori.jpn.org/freesoundcn.html">å°æ£®å¹³</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.videvo.net/royalty-free-sound-effects/">Videvo</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å…è´¹ä½¿ç”¨éœ€ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://freesound.org/">Freesound</a></td><td align="left"><strong>è¦ç™»é™†</strong>ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å…è´¹ä½¿ç”¨éœ€ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://soundbible.com/">SoundBible</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å…è´¹ä½¿ç”¨éœ€ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://orangefreesounds.com/">OrangeSounds</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å…è´¹ä½¿ç”¨éœ€ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.soundjay.com/">SoundJay</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€ä½†æ— æœç´¢æ¡†ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.pacdv.com/sounds/">PacDV</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€ä½†æ— æœç´¢æ¡†ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.partnersinrhyme.com/pir/PIRsfx.shtml">PartnersInRhyme</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€ä½†æ— æœç´¢æ¡†ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.mediacollege.com/downloads/sound-effects/">Media College</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€ä½†æ— æœç´¢æ¡†ã€‚</td></tr></tbody></table><h2 id="2ã€éŸ³æ•ˆåˆé›†"><a href="#2ã€éŸ³æ•ˆåˆé›†" class="headerlink" title="2ã€éŸ³æ•ˆåˆé›†"></a>2ã€éŸ³æ•ˆåˆé›†</h2><table><thead><tr><th align="left">â–¼ <strong>éŸ³æ•ˆåˆé›†</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://99sounds.org/">99Sounds</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æä¾›åˆé›†ä¸‹è½½ï¼Œæ¬§æ´²çš„éŸ³æ•ˆå·¥ä½œå®¤ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://gamesounds.xyz/">GameSounds</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æä¾›åˆé›†ä¸‹è½½ï¼Œå¯ç›´æ¥ä¸‹è½½å¤šä¸ªå…ç‰ˆæƒéŸ³æ•ˆèµ„æºã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.adobe.com/products/audition/offers/AdobeAuditionDLCSFX.html">Adobe Sound</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æä¾›åˆé›†ä¸‹è½½ï¼ŒAdobe å…¬å¸å‡ºå“ã€‚[æ‰“åŒ…ä¸‹è½½]</td></tr><tr><td align="left">ğŸŒ <a href="https://www.blackmagicdesign.com/cn/support/">DaVinci Sound</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æä¾›åˆé›†ä¸‹è½½ï¼ŒDaVinci å…¬å¸å‡ºå“ã€‚[æ‰“åŒ…ä¸‹è½½]</td></tr><tr><td align="left">ğŸŒ <a href="https://sound-effects.bbcrewind.co.uk/">BBC Sound</a></td><td align="left">å…ç™»é™†ã€<strong>å•†ç”¨éœ€æˆæƒ</strong>ã€æä¾›åˆé›†ä¸‹è½½ï¼ŒBBC å…¬å¸å‡ºå“ã€‚[æ‰“åŒ…ä¸‹è½½]</td></tr></tbody></table><h2 id="3ã€éŸ³ä¹ç´ æ"><a href="#3ã€éŸ³ä¹ç´ æ" class="headerlink" title="3ã€éŸ³ä¹ç´ æ"></a>3ã€éŸ³ä¹ç´ æ</h2><table><thead><tr><th align="left">â–¼ <strong>å…è´¹éŸ³ä¹</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://pixabay.com/zh/music/">Pixabay</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://coverr.co/free-stock-music">Coverr</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://mixkit.co/free-stock-music/">Mixkit</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://sampld.app/">Sampld</a></td><td align="left"><strong>è¦ç™»å½•</strong>ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.videvo.net/royalty-free-music/">Videvo</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å…è´¹ä½¿ç”¨éœ€ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://freesound.org/">Freesound</a></td><td align="left"><strong>è¦ç™»å½•</strong>ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å…è´¹ä½¿ç”¨éœ€ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://ncs.io/music">NCS</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å…è´¹ä½¿ç”¨éœ€ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://freemusicarchive.org/home">FMA</a></td><td align="left"><strong>è¦ç™»å½•</strong>ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å…è´¹ä½¿ç”¨éœ€ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.bensound.com/free-music-for-videos">BenSound</a></td><td align="left">å…ç™»å½•ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å…è´¹ä½¿ç”¨éœ€ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.purple-planet.com/">Purple Planet</a></td><td align="left">å…ç™»å½•ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å…è´¹ä½¿ç”¨éœ€ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://incompetech.com/music/royalty-free/music.html">incompetech</a></td><td align="left">å…ç™»å½•ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å…è´¹ä½¿ç”¨éœ€ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="http://dig.ccmixter.org/">dig.ccMixter</a></td><td align="left"><strong>è¦ç™»å½•</strong>ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å…è´¹ä½¿ç”¨éœ€ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.fiftysounds.com/">FiftySounds</a></td><td align="left">å…ç™»å½•ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€å…è´¹ä½¿ç”¨éœ€ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://cctrax.com/">CCTrax</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€ä½†æ— æœç´¢æ¡†ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://freepd.com/">FreePD</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€ä½†æ— æœç´¢æ¡†ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://whatfunk.com/">WhatFunk</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€ä½†æ— æœç´¢æ¡†ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://audionautix.com/">AudionautiX</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€ä½†æ— æœç´¢æ¡†ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.partnersinrhyme.com/midi/Classical/index.shtml">PartnersInRhyme</a></td><td align="left"><strong>è¦ç™»å½•</strong>ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€ä½†æ— æœç´¢æ¡†ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.fesliyanstudios.com/">Fesliyan Studios</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€ä½†æ— æœç´¢æ¡†ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="http://dust-sounds.com/">Dust-Sounds</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€æ—¥æœ¬ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://amachamusic.chagasi.com/">ç”˜èŒ¶ã®éŸ³æ¥½å·¥æˆ¿</a></td><td align="left">å…ç™»é™†ã€CC0 ç‰ˆæƒã€æ— ä¸‹è½½é™åˆ¶ã€æ—¥æœ¬ç½‘ç«™ã€‚</td></tr></tbody></table><h2 id="4ã€ä¸“ç”¨éŸ³ä¹"><a href="#4ã€ä¸“ç”¨éŸ³ä¹" class="headerlink" title="4ã€ä¸“ç”¨éŸ³ä¹"></a>4ã€ä¸“ç”¨éŸ³ä¹</h2><table><thead><tr><th align="left">â–¼ <strong>U2B éŸ³ä¹</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://www.youtube.com/user/NoCopyrightSounds">NCS</a></td><td align="left">U2B å¹³å°ä½¿ç”¨å…è´¹ã€éœ€è¦ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.youtube.com/c/FreeMusicAudioLibraryNow/videos">FMAL</a></td><td align="left">U2B å¹³å°ä½¿ç”¨å…è´¹ã€éœ€è¦ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.youtube.com/@AlrotaMusic/videos">Alrota Music</a></td><td align="left">U2B å¹³å°ä½¿ç”¨å…è´¹ã€éœ€è¦ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.youtube.com/@MusicCityOfficial2017/videos">Music City</a></td><td align="left">U2B å¹³å°ä½¿ç”¨å…è´¹ã€éœ€è¦ç½²åã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.youtube.com/c/audiolibrary-channel/videos">Audio Library</a></td><td align="left">U2B å¹³å°ä½¿ç”¨å…è´¹ã€éœ€è¦ç½²åã€‚</td></tr><tr><td align="left">â–¼ <strong>ä¸“ç”¨éŸ³ä¹</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="https://musopen.org/music/">Musopen</a></td><td align="left">å¤å…¸éŸ³ä¹ã€è¦ç™»å½•ã€CC0 ç‰ˆæƒã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://sonniss.com/gameaudiogdc">GameAudioGDC</a></td><td align="left">æ¸¸æˆéŸ³ä¹ã€å…ç™»é™†ã€CC0 ç‰ˆæƒã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://opengameart.org/">OpenGameArt</a></td><td align="left">æ¸¸æˆéŸ³ä¹ã€è¦ç™»å½•ã€CC0 ç‰ˆæƒã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://downloads.khinsider.com/">VGM</a></td><td align="left">æ¸¸æˆéŸ³ä¹ã€è¦ç™»å½•ã€CC0 ç‰ˆæƒã€‚</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™æ¨è </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç«™ </tag>
            
            <tag> éŸ³ä¹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¸¸æˆå¯¼èˆª</title>
      <link href="/2023/12/15/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/%E6%B8%B8%E6%88%8F%E5%AF%BC%E8%88%AA/"/>
      <url>/2023/12/15/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/%E6%B8%B8%E6%88%8F%E5%AF%BC%E8%88%AA/</url>
      
        <content type="html"><![CDATA[<h2 id="1ã€å°æ¸¸æˆ"><a href="#1ã€å°æ¸¸æˆ" class="headerlink" title="1ã€å°æ¸¸æˆ"></a>1ã€å°æ¸¸æˆ</h2><table><thead><tr><th align="left">â–¼ <strong>æ‰“å‘æ—¶é—´</strong></th><th align="left">â€”</th><th align="left">â€”</th><th align="left">â€”</th></tr></thead><tbody><tr><td align="left"><a href="http://magickeyboard.io/">é­”æœ¯é”®ç›˜</a></td><td align="left"><a href="https://eelslap.com/">æµ·å¸¦é±¼æ‹è„¸</a></td><td align="left"><a href="https://tikolu.net/spot-the-difference/menu">æŒ‡å‡ºä¸ä¸€æ ·</a></td><td align="left"><a href="https://vole.wtf/happy-birthday/">å„å¼å„æ ·ç”Ÿæ—¥æ­Œ</a></td></tr><tr><td align="left"><a href="https://humanclock.com/">äººç±»æ—¶é’Ÿ</a></td><td align="left"><a href="https://www.slapkirk.com/play#spockmode">åœ¨çº¿æ‰‡è€³å…‰</a></td><td align="left"><a href="https://qake.se/fw/index.html">åœ¨çº¿æ”¾çƒŸèŠ±</a></td><td align="left"><a href="https://theuselessweb.com/">æ— èŠç½‘ç«™ä¼ é€é—¨</a></td></tr><tr><td align="left"><a href="https://seoi.net/penint/">ç”»çº¿ä¸ºé›•</a></td><td align="left"><a href="https://webapp.magicposer.com/">é­”æ³•äººå‹å¸ˆ</a></td><td align="left"><a href="https://yesno.wtf/">Yes Or No?</a></td><td align="left"><a href="https://weirdorconfusing.com/">äºšé©¬é€Šé›·äººå•†å“</a></td></tr><tr><td align="left"><a href="https://thisissand.com/">å †æ²™å­æ¸¸æˆ</a></td><td align="left"><a href="http://www.koalastothemax.com/">æ— é™äºŒåˆ†æ³•</a></td><td align="left"><a href="https://pointerpointer.com/">é¼ æ ‡æŒ‡é’ˆåœ¨å“ªï¼Ÿ</a></td><td align="left"><a href="https://www.twinsornot.com/">çœŸä¸æ˜¯åŒèƒèƒï¼Ÿ</a></td></tr><tr><td align="left">â–¼ <strong>ä¼‘é—²è§£å‹</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://ac.yunyoujun.cn/#/">ä¾¿æºå°ç©ºè°ƒ</a></td><td align="left"><a href="https://tv.hzfe.org/">ç«¥å¹´å°ç”µè§†</a></td><td align="left"><a href="https://driveandlisten.herokuapp.com/">å…¨çƒè‡ªé©¾æ¸¸ä½“éªŒ</a></td><td align="left"><a href="https://www.pixelthoughts.co/">æ·±å‘¼å¸æ”¾æ¾ 60 ç§’</a></td></tr><tr><td align="left"><a href="https://fan.elpsy.cn/">æ¸…å‡‰å°é£æ‰‡</a></td><td align="left"><a href="http://www.megamonalisa.com/">è’™å¨œä¸½èå±•é¦†</a></td><td align="left"><a href="https://9-eyes.com/">æœ‰è¶£è°·æ­Œè¡—æ™¯å›¾</a></td><td align="left"><a href="https://works.yangerxiao.com/breathe-relaxer/">é™å¿ƒå‘¼å¸ æ„Ÿå—å¹³é™</a></td></tr><tr><td align="left"><a href="https://goldfishies.com/">åœ¨çº¿å…»é‡‘é±¼</a></td><td align="left"><a href="https://www.petside.com/infinite-cat/">çŒ«çš„æ— é™å¾ªç¯</a></td><td align="left"><a href="https://homeless-toys.netlify.app/#/">æ— å®¶å¯å½’çš„ç©å¶</a></td><td align="left"></td></tr><tr><td align="left"><a href="https://alexanderperrin.com.au/paper/shorttrip/">çŸ­æš‚çš„æ—…è¡Œ</a></td><td align="left"><a href="https://www.window-swap.com/Window">å…¨çƒçª—æˆ·å…±äº«</a></td><td align="left"><a href="http://www.donothingfor2minutes.com/">2 åˆ†é’Ÿä»€ä¹ˆä¹Ÿä¸å¹²</a></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>å­¦ä¼šæ€è€ƒ</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://dccxi.com/trust/">ä¿¡ä»»çš„è¿›åŒ–</a></td><td align="left"><a href="https://www.arealme.com/cn">å„ç§å„æ ·çš„è‡ªæˆ‘æµ‹è¯•</a></td><td align="left"><a href="https://thechoiceisyours.whatisthematrix.com/cn/">é€‰æ‹©ä½ ç›¸ä¿¡çš„ç°å®</a></td><td align="left"><a href="https://neal.fun/life-checklist/">äººç”Ÿæ¸…å•æ£€æŸ¥è¡¨</a></td></tr><tr><td align="left"><a href="https://ncase.me/crowds/zh-CN.html">ç¾¤ä½“çš„æ™ºæ…§ä¸æ„šè ¢</a></td><td align="left"><a href="http://www.20q.net/">20ä¸ªé—®é¢˜çŒœä½ æƒ³ä»€ä¹ˆ</a></td><td align="left"><a href="https://www.getbadnews.com/#intro">å‡æ–°é—»æ˜¯æ€æ ·ç‚¼æˆçš„</a></td><td align="left"><a href="https://www.futureme.org/">å†™ç»™æœªæ¥çš„è‡ªå·± 1</a></td></tr><tr><td align="left"><a href="https://cn.puzzle-nonograms.com/">ç»å…¸é€»è¾‘æ¨ç†æ¸¸æˆ</a></td><td align="left"><a href="https://stylishsite.github.io/">è´¾æ–¯çº³çš„çŒ«</a></td><td align="left"><a href="https://ncase.me/remember/zh.html">å¦‚ä½•è®°å¿†ä»»ä½•ä¸œè¥¿</a></td><td align="left"><a href="https://www.hi2future.com/">å†™ç»™æœªæ¥çš„è‡ªå·± 2</a></td></tr><tr><td align="left"><a href="http://www.iqsuperman.net/">IQ æµ‹è¯•é¢˜</a></td><td align="left"><a href="https://types.yuzeli.com/survey">å¿ƒç†å¥åº·æµ‹è¯•</a></td><td align="left"><a href="https://neal.fun/paper/">ä¸€å¼ çº¸æŠ˜Næ¬¡çš„åšåº¦</a></td><td align="left"></td></tr><tr><td align="left"><a href="https://www.piixemto.com/zh/">å¿ƒç†å­¦æµ‹è¯•</a></td><td align="left"><a href="https://z-lyen.github.io/anxiety/">å’Œç„¦è™‘ä¸€èµ·å†’é™©ï¼</a></td><td align="left"><a href="https://www.did-you-knows.com/">DidYouKnow å†·çŸ¥è¯†</a></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>èº«ä½“æµ‹è¯•</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="http://www.ultrasonic-ringtones.com/">å¬è§‰æµ‹è¯•</a></td><td align="left"><a href="https://michaelbach.de/ot/index.html">çœ¼ç›çš„å¹»è§‰</a></td><td align="left"><a href="https://enchroma.com/pages/color-blindness-test">è‰²ç›²è‰²å¼±æµ‹è¯•</a></td><td align="left"><a href="http://illusionoftheyear.com/">å…¨çƒè§†è§‰é”™è§‰æ”¶é›†</a></td></tr><tr><td align="left"><a href="https://checkboxrace.com/">ç‚¹å‡»é€‰æ‹©æ¡†</a></td><td align="left"><a href="http://mp3ornot.com/">éŸ³è´¨åŒºåˆ«æµ‹è¯•</a></td><td align="left"><a href="https://www.qijishow.com/Brand/cool/index.html">å¸¦ä½ ä½“éªŒæ‰­æ›²å¹»è§‰</a></td><td align="left"><a href="https://humanbenchmark.com/">è®°å¿†åŠ›ååº”åŠ›æµ‹è¯•</a></td></tr><tr><td align="left">â–¼ <strong>ç”Ÿæ´»æŠ€èƒ½</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://yong.dgod.net/webim/index.html">åœ¨çº¿è¾“å…¥æ³•</a></td><td align="left"><a href="https://api.ihint.me/shuang/">åŒæ‹¼æŒ‡æ³•ç»ƒä¹ </a></td><td align="left"><a href="https://qwerty.kaiyi.cool/">è‹±è¯­æŒ‡æ³•ç»ƒä¹  1</a></td><td align="left"><a href="https://vultr.youmu.moe/quiz/">ä¸­å›½è¡Œæ”¿åŒºåˆ’æµ‹è¯•</a></td></tr><tr><td align="left"><a href="https://www.type.fun/">è½»æ¾å­¦æ‰“å­—</a></td><td align="left"><a href="http://www.chaiwubi.com/bmcx/">äº”ç¬”ç¼–ç æŸ¥è¯¢</a></td><td align="left"><a href="https://www.typelit.io/">è‹±è¯­æŒ‡æ³•ç»ƒä¹  2</a></td><td align="left"><a href="https://www.foldnfly.com/#/1-1-1-1-1-1-1-1-2">æ•™ä½ å¦‚ä½•æ‹†çº¸é£æœº</a></td></tr><tr><td align="left"><a href="https://www.typingclub.com/da-zi">é”®ç›˜æŒ‡æ³•ç»ƒä¹ </a></td><td align="left"><a href="https://werneror.github.io/FingerMemory/">äº”ç¬”æŒ‡æ³•ç»ƒä¹ </a></td><td align="left"><a href="https://www.keybr.com/">è‹±è¯­æŒ‡æ³•ç»ƒä¹  3</a></td><td align="left"><a href="https://www.animatedknots.com/">æ•™ä½ å¦‚ä½•ç»³å­æ‰“ç»“</a></td></tr></tbody></table><h2 id="2ã€åœ¨çº¿æ¸¸æˆ"><a href="#2ã€åœ¨çº¿æ¸¸æˆ" class="headerlink" title="2ã€åœ¨çº¿æ¸¸æˆ"></a>2ã€åœ¨çº¿æ¸¸æˆ</h2><table><thead><tr><th align="left">â–¼ <strong>æ¸¸æˆç½‘ç«™</strong></th><th align="left">â€”</th><th align="left">â€”</th><th align="left">â€”</th></tr></thead><tbody><tr><td align="left"><a href="https://www.4399.com/">4399</a></td><td align="left"><a href="https://poki.cn/">Poki</a></td><td align="left"><a href="https://neal.fun/">Neal.Fun</a></td><td align="left"><a href="https://www.bestgames.com/">Best Games</a></td></tr><tr><td align="left"><a href="https://www.17173.com/">17173</a></td><td align="left"><a href="https://frvr.com/">FRVR</a></td><td align="left"><a href="https://zh.y8.com/">Y8 Games</a></td><td align="left"><a href="https://www.crazygames.com/">Crazy Games</a></td></tr><tr><td align="left">â–¼ <strong>åœ¨çº¿æ¸¸æˆ</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://game.hullqin.cn/">çº¿ä¸‹èšä¼šæ¸¸æˆ</a></td><td align="left"><a href="https://flash.zczc.cz/">Flash ä¿å­˜è®¡åˆ’</a></td><td align="left"><a href="https://nes.heheda.top/">çº¢ç™½æœºæ¸¸æˆç›’</a></td><td align="left"><a href="https://likexia.gitee.io/game/index.html#/">Git æ¸¸æˆ</a></td></tr><tr><td align="left"><a href="https://dos.lol/">åœ¨çº¿ DOS æ¸¸æˆ</a></td><td align="left"><a href="https://game.haiyong.site/">100ä¸ªæ‘¸é±¼å°æ¸¸æˆ</a></td><td align="left"><a href="https://zaixianwan.app/">è€æ¸¸æˆåœ¨çº¿ç©</a></td><td align="left"><a href="https://g8hh.com.cn/#/">é”…å·´æ±‰åŒ–</a></td></tr><tr><td align="left"><a href="https://www.yikm.net/">å°éœ¸ç‹ï¼Œå…¶ä¹æ— ç©·</a></td><td align="left"><a href="https://famicn.com/index.html">ä¸­æ–‡å®¶ç”¨æ¸¸æˆåšç‰©é¦†</a></td><td align="left"><a href="http://www.gbarom.cn/">æŒæœºè¿·</a></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>åŠ¨ä½œæ¸¸æˆ</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://www.4399.com/flash/145201_2.htm">æ‹³çš‡97</a></td><td align="left"><a href="https://pvz.heheda.top/">æ¤ç‰©å¤§æˆ˜åƒµå°¸</a></td><td align="left"><a href="http://oos.moxiecode.com/js_webgl/ping_pong/">3D ä¹’ä¹“çƒ</a></td><td align="left"><a href="http://www.sinuousgame.com/">é¼ æ ‡èº²é¿çƒæ¸¸æˆ</a></td></tr><tr><td align="left"><a href="https://krunker.io/?game=SV:umt2g">åœ¨çº¿ CS</a></td><td align="left"><a href="https://classic.minecraft.net/?join=XeFyaTfaMDn-1-Px">æˆ‘çš„ä¸–ç•Œ</a></td><td align="left"><a href="https://www.linerider.com/">è½¨é“æ»‘è¡Œè€…</a></td><td align="left"><a href="https://www.foddy.net/Athletics.html">QWOP è·‘æ­¥æ¸¸æˆ</a></td></tr><tr><td align="left"><a href="https://bruno-simon.com/">åœ¨çº¿å¼€è½¦</a></td><td align="left"><a href="https://fn.heheda.top/">æ°´æœå¿è€…</a></td><td align="left"><a href="http://canvasrider.com/">è½¨é“æ»‘è¡Œè€… 2</a></td><td align="left"><a href="https://img.youquhome.com/wp-ziyuan/nanren20.htm">æ˜¯ç”·äººåšæŒ20ç§’</a></td></tr><tr><td align="left"><a href="https://game.chronodivide.com/">çº¢è‰²è­¦æˆ’ 2</a></td><td align="left"><a href="https://squid-game.io/">é±¿é±¼æ¸¸æˆ</a></td><td align="left"><a href="https://tusenpo.github.io/FlappyFrog/">Excited çš„å°é¸Ÿ â–²</a></td><td align="left"><a href="https://edition.cnn.com/interactive/2021/03/cnnix-steership/">è‹ä¼Šå£«è¿æ²³æ¨¡æ‹Ÿå™¨</a></td></tr><tr><td align="left"><a href="https://playcsol.com/">åæç²¾è‹± 1.6</a></td><td align="left"><a href="http://www.heyzxz.me/pcol/">æ–¯è¯ºå…‹</a></td><td align="left"><a href="https://www.geo-fs.com/">åœ¨çº¿é£è¡Œæ¨¡æ‹Ÿå™¨</a></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>æ£‹ç‰Œæ¸¸æˆ</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://playtictactoe.org/">äº•å­—æ£‹</a></td><td align="left"><a href="https://huazhechen.gitee.io/cuber/">ä¸‰é˜¶é­”æ–¹ 1</a></td><td align="left"><a href="https://knots.netlify.app/">ç¯å½¢ç»“æ‹¼å›¾</a></td><td align="left"><a href="https://yorg.io/">å¡”é˜²ç”Ÿå­˜æ¸¸æˆ</a></td></tr><tr><td align="left"><a href="https://lichess.org/">å›½é™…è±¡æ£‹</a></td><td align="left"><a href="https://iamthecu.be/">ä¸‰é˜¶é­”æ–¹ 2</a></td><td align="left"><a href="https://kirilllive.github.io/Fifteen_puzzle_maker/">æ»‘åŠ¨æ‹¼å›¾</a></td><td align="left"><a href="https://printablecreative.com/">ç›Šæ™ºæ¸¸æˆå›¾ç”Ÿæˆå™¨</a></td></tr><tr><td align="left"><a href="https://lines.frvr.com/">è¿çº¿æ¸¸æˆ</a></td><td align="left"><a href="https://blocks.ovh/">ä¸ƒå·§æ¿</a></td><td align="left"><a href="https://slices.ovh/">ç›Šæ™ºåˆ‡å›¾</a></td><td align="left"></td></tr><tr><td align="left"><a href="http://farter.cn/tetr.js/">ä¿„ç½—æ–¯æ–¹å— 1</a></td><td align="left"><a href="https://ruyihe.com/sxx">ç–¯ç‹‚æ•°æ˜Ÿæ˜Ÿ</a></td><td align="left"><a href="https://maze.toys/mazes/mini/">è¿·å®«æ¸¸æˆ</a></td><td align="left"></td></tr><tr><td align="left"><a href="https://chvin.github.io/react-tetris/">ä¿„ç½—æ–¯æ–¹å— 2</a></td><td align="left"><a href="http://www.jigzone.com/">æ‹¼å›¾æ¸¸æˆ</a></td><td align="left"><a href="https://www.webhek.com/post/draw-a-stickman/">è¯·ç”»ä¸€ä¸ªå°äºº</a></td><td align="left"></td></tr></tbody></table><h2 id="3ã€PC-æ¸¸æˆ"><a href="#3ã€PC-æ¸¸æˆ" class="headerlink" title="3ã€PC æ¸¸æˆ"></a>3ã€PC æ¸¸æˆ</h2><table><thead><tr><th align="left">â–¼ <strong>é—¨æˆ·ç½‘ç«™</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://www.3dmgame.com/">3DMæ¸¸æˆç½‘</a></td><td align="left">æ¸¸æˆé—¨æˆ·ç½‘ç«™ï¼Œæ›¾ç»æ˜¯å›½å†…æ¸¸æˆèµ„æºæœ€å¤šçš„ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.gamersky.com/">æ¸¸æ°‘æ˜Ÿç©º</a></td><td align="left">æ¸¸æˆé—¨æˆ·ç½‘ç«™ï¼Œå¤§å‹å•æœºæ¸¸æˆé—¨æˆ·ç½‘ç«™ï¼Œæä¾›ç‰¹è‰²èµ„è®¯å’Œä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://down.ali213.net/">æ¸¸ä¾ ç½‘</a></td><td align="left">æ¸¸æˆé—¨æˆ·ç½‘ç«™ï¼Œå•æœºæ¸¸æˆä¸‹è½½åŸºåœ°ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.vgter.com/">ä¸Šæ¸¸ä¸–ç•Œ</a></td><td align="left">æ¸¸æˆé—¨æˆ·ç½‘ç«™ï¼Œæä¾›ç²¾å“ PCã€Switchã€PS4 ç­‰æ¸¸æˆã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.mhhf.com/">çµåŠ¨æ¸¸æˆ</a></td><td align="left">æ¸¸æˆé—¨æˆ·ç½‘ç«™ï¼Œæä¾›ç²¾å“ PCã€Switchã€PS4 ç­‰æ¸¸æˆã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.taptap.cn/">TapTap</a></td><td align="left">æ¸¸æˆé—¨æˆ·ç½‘ç«™ï¼Œå¤šä¸ºæ‰‹æœºæ¸¸æˆã€‚</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>åšå®¢ç½‘ç«™</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="https://www.zzzzz688.com/">æ¸¸æˆå¤©å ‚</a></td><td align="left">æ¸¸æˆåšå®¢ç½‘ç«™ï¼Œå…¨çƒæ¸¸æˆä¸‹è½½åŸºåœ°ï¼Œ</td></tr><tr><td align="left">ğŸŒ <a href="https://steamzg.com/">å°å½èµ„æº</a></td><td align="left">æ¸¸æˆåšå®¢ç½‘ç«™ï¼Œå¯å…è´¹ä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.jiligamefun.com/">å½å“©å½å“©æ¸¸æˆ</a></td><td align="left">æ¸¸æˆåšå®¢ç½‘ç«™ï¼Œå¤šä¸º ACG æ¸¸æˆ.<a href="https://mp.weixin.qq.com/s/vKpSKCMICy0cBp7OACnMPw">éªŒè¯ç </a>ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.xyg688.com/">å°å¦–æ€ªåˆ†äº«</a></td><td align="left">æ¸¸æˆåšå®¢ç½‘ç«™ï¼Œå…´è¶£ä½¿ç„¶çš„èµ„æºæ¬è¿åšå®¢ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://kims3.xyz/">kimsèµ„æºç«™</a></td><td align="left">æ¸¸æˆåšå®¢ç½‘ç«™ï¼Œå…è´¹ç”µè„‘æ¸¸æˆä¸‹è½½ç«™ï¼Œæä¾›é«˜é€Ÿä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.switch618.com/">Switch618</a></td><td align="left">æ¸¸æˆåšå®¢ç½‘ç«™ï¼Œå…è´¹ï¼Œä½†è¦ç™»é™†ã€‚</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>Stream æ¸¸æˆ</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="https://store.steampowered.com/">Steam</a></td><td align="left">æ¸¸æˆé—¨æˆ·ç½‘ç«™ï¼Œç›®å‰æœ€å¤§ PC æ¸¸æˆå¹³å°ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://steamunlocked.net/">SteamUnlocked</a></td><td align="left">Steam èµ„æºæ¸¸æˆç½‘ç«™ï¼Œæœ‰å¾ˆå¤šå¤§ä½œç ´è§£ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.s-sgames.com/">SGAMES</a></td><td align="left">ä¸“æ³¨äºç²¾å“æ¸¸æˆï¼Œå„ç±»å¯è”æœºç²¾å“èµ„æºã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://gamestarfield.com/">GameStarfield</a></td><td align="left">Steam èµ„æºæ¸¸æˆç½‘ç«™ï¼Œæœ‰å¾ˆå¤šå¤§ä½œç ´è§£ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.curseforge.com/">CurseForge</a></td><td align="left">å…¨çƒæœ€å¤§çš„æ¸¸æˆ MOD æ¨¡ç»„èµ„æºä¸‹è½½ç«™ã€‚</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>æ¸¸æˆç½‘ç›˜</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="http://gbtgame.ysepan.com/">GBTä¹èµæ¸¸æˆç©ºé—´</a></td><td align="left">æ¸¸æˆèµ„æºç½‘ç›˜ã€‚PC æ¸¸æˆä¸ºä¸»ï¼Œæ”¶è—å¤šä¸ºç²¾å“æ¸¸æˆã€‚</td></tr><tr><td align="left">ğŸŒ <a href="http://flysheep.ysepan.com/">flysheep é¿éš¾æ‰€</a></td><td align="left">æ¸¸æˆèµ„æºç½‘ç›˜ã€‚Steamã€epicã€VRã€å•æœºã€Switch æ¸¸æˆç­‰ã€‚<a href="https://www.flysheep6.com/">ç‹¬ç«‹ç½‘ç«™</a></td></tr><tr><td align="left">ğŸŒ <a href="http://821730880.ysepan.com/">èŒæ–°å•æœºä¹‹å®¶</a></td><td align="left">æ¸¸æˆèµ„æºç½‘ç›˜ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://docs.qq.com/document/DT2xBeVJvaHNQUHht">50TBæ¸¸æˆåˆé›†</a></td><td align="left">æ¸¸æˆèµ„æºç½‘ç›˜ã€‚<a href="https://www.lanzouw.com/iYp4j067mbtg">Excel ä¸‹è½½</a>ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://github.com/michelpereira/awesome-open-source-games">å¼€æºæ¸¸æˆåˆé›†</a></td><td align="left">å¼€æºæ¸¸æˆåˆé›†ã€‚</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>æ¸¸æˆç£åŠ›</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="https://www.1377x.to/">1377x</a></td><td align="left">æ¸¸æˆç§å­æœç´¢å¼•æ“ï¼Œç»¼åˆèµ„æºç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://bt4gprx.com/">BT4G â–²</a></td><td align="left">æ¸¸æˆç§å­æœç´¢å¼•æ“ï¼Œç»¼åˆèµ„æºç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://torrentgalaxy.to/">TorrentGalaxy</a></td><td align="left">æ¸¸æˆç§å­æœç´¢å¼•æ“ï¼Œç»¼åˆèµ„æºç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.limetorrents.lol/">LimeTorrents</a></td><td align="left">æ¸¸æˆç§å­æœç´¢å¼•æ“ï¼Œç»¼åˆèµ„æºç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://rutracker.org/forum/index.php">RuTracker.org</a></td><td align="left">æ¸¸æˆç§å­æœç´¢å¼•æ“ï¼Œç»¼åˆèµ„æºç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://pcgamestorrents.com/">PCGamesTorrent</a></td><td align="left">æ¸¸æˆç§å­ç£åŠ›ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.gamestorrents.fm/home/">GamesTorrents</a></td><td align="left">æ¸¸æˆç§å­ç£åŠ›ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://cpygames.com/">CPY GAMES</a></td><td align="left">æ¸¸æˆç§å­ç£åŠ›ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://crotorrents.com/">CroTorrents</a></td><td align="left">æ¸¸æˆç§å­ç£åŠ›ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://igg-games.com/">IGGGAMES</a></td><td align="left">æ¸¸æˆç§å­ç£åŠ›ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://fitgirl-repacks.site/">FitGirl Repacks</a></td><td align="left">æ¸¸æˆç§å­ç£åŠ›ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://repack-games.com/">Repack-Games</a></td><td align="left">æ¸¸æˆç§å­ç£åŠ›ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://rutracker.org/forum/index.php">RuTracker</a></td><td align="left">æ¸¸æˆç§å­ç£åŠ›ç½‘ç«™ï¼Œä¿„è¯­ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://thebyrut.org/">Byrut</a></td><td align="left">æ¸¸æˆç§å­ç£åŠ›ç½‘ç«™ï¼Œä¿„è¯­ã€‚</td></tr></tbody></table><h2 id="4ã€Mac-æ¸¸æˆ"><a href="#4ã€Mac-æ¸¸æˆ" class="headerlink" title="4ã€Mac æ¸¸æˆ"></a>4ã€Mac æ¸¸æˆ</h2><table><thead><tr><th align="left">â–¼ <strong>Mac æ¸¸æˆ</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸ“¥ <a href="https://www.lanzouw.com/i726k0z4j4pi">Mac æ¸¸æˆé›†åˆ</a></td><td align="left">æŸæ¸¸æˆç½‘ç«™æµå‡º 300+ æ¬¾ Mac å¹³å°çƒ­é—¨æ¸¸æˆï¼Œæä¾›ç½‘ç›˜ä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="https://playcover.io/">PlayCover</a></td><td align="left">åœ¨ Macï¼ˆArmèŠ¯ç‰‡ï¼‰ ä¸Šè¿è¡Œ iOS åº”ç”¨ï¼Œæ¯”å¦‚â€œ<strong>åŸç¥</strong>â€ç­‰æ¸¸æˆã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="https://getwhisky.app/zh-Hans/">Whisky</a></td><td align="left">åœ¨ Macï¼ˆArmèŠ¯ç‰‡ï¼‰ ä¸Šè¿è¡Œ Windows åº”ç”¨ï¼Œæ¯”å¦‚â€œ<strong>åŸç¥</strong>â€ç­‰æ¸¸æˆã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://decrypt.day/">Decrypt Day</a></td><td align="left">IPA è„±å£³åº”ç”¨ä¸‹è½½ï¼Œæµ·å¤–ç½‘ç«™ï¼Œé€Ÿåº¦å¯èƒ½è¾ƒæ…¢ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://ipa.store/">iPA Store</a></td><td align="left">IPA è„±å£³åº”ç”¨ä¸‹è½½ï¼Œéœ€è¦æ³¨å†Œè½½ï¼Œæ¯å¤© 2 ä¸ªå…è´¹ä¸‹è½½æ¬¡æ•°ã€‚</td></tr></tbody></table><h2 id="5ã€æ¸¸æˆå·¥å…·"><a href="#5ã€æ¸¸æˆå·¥å…·" class="headerlink" title="5ã€æ¸¸æˆå·¥å…·"></a>5ã€æ¸¸æˆå·¥å…·</h2><table><thead><tr><th align="left">â–¼ <strong>æ¸¸æˆå·¥å…·</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸ“œ <a href="https://greasyfork.org/zh-CN/scripts/437233">é˜²æ²‰è¿·ç»ˆç»“è€…</a></td><td align="left">å»é™¤å›½å†… 17173ã€4399 ç­‰æ¸¸æˆç½‘ç«™çš„ç™»å½•éœ€æ±‚ã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="https://browser.360.cn/eex/index.html">360 æé€Ÿæµè§ˆå™¨X</a></td><td align="left">ç›®å‰è¿˜æ”¯æŒ Flash çš„æµè§ˆå™¨ï¼Œæ¨è<a href="https://www.123pan.com/s/7bzA-pQpOd">å¥¶é…ªç‰ˆæœ¬</a>ï¼Œè€Œä¸”è¿˜æœ‰ <a href="https://browser.360.cn/ee/mac/index.html">Mac ç‰ˆæœ¬</a>ã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="https://pcstory.net/">è˜‘è‡æ¸¸æˆä¸‹è½½å™¨</a></td><td align="left">ä¸‹è½½å™¨ï¼Œç½‘å§ 36T æ¸¸æˆå…¨éƒ¨åˆ°ä½ å£è¢‹é‡Œï¼Œç‚¹å‡»ä¸‹è½½å®Œæˆåç›´æ¥å¼€ç©ã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="https://steampp.net/">Watt Toolkit</a></td><td align="left">åŠ é€Ÿå™¨ï¼Œæ”¯æŒ Winã€Macã€Linux å¤šå¹³å°ã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="https://uu.163.com/">UUåŠ é€Ÿå™¨</a></td><td align="left">åŠ é€Ÿå™¨ï¼Œç½‘æ˜“å‡ºå“ï¼Œå…è´¹ï¼Œä¸æ­¢å¿«ï¼Œè¿˜å¾ˆç¨³ã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="https://www.wemod.com/zh">WeMod</a></td><td align="left">ä¿®æ”¹å™¨ï¼ŒPC æ¸¸æˆä½œå¼Šã€ä¿®æ”¹å™¨å’Œ Mod å°½åœ¨ä¸€æ¬¾åº”ç”¨ä¸­ã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="https://blog.csdn.net/vbcom/article/details/7245186">DirectX Repair</a></td><td align="left">æ£€æµ‹å¹¶ä¿®å¤ç³»ç»Ÿçš„ DirectX çŠ¶æ€ï¼Œç©å¤§å‹æ¸¸æˆå¿…å¤‡ã€‚</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™æ¨è </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç«™ </tag>
            
            <tag> æ¸¸æˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mybatisç¬”è®°</title>
      <link href="/2023/11/13/mybatis/"/>
      <url>/2023/11/13/mybatis/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€MyBatis"><a href="#ä¸€ã€MyBatis" class="headerlink" title="ä¸€ã€MyBatis"></a>ä¸€ã€MyBatis</h2><h3 id="1-MyBatisï¼š"><a href="#1-MyBatisï¼š" class="headerlink" title="1.MyBatisï¼š"></a>1.MyBatisï¼š</h3><p>MyBatisï¼šæ˜¯ä¸€ä¸ªåŠè‡ªåŠ¨æ˜ å°„çš„æ¡†æ¶ã€‚è¿™é‡Œæ‰€è°“çš„â€œåŠè‡ªåŠ¨â€æ˜¯ç›¸å¯¹äºHibernateå…¨è¡¨æ˜ å°„è€Œè¨€çš„ï¼ŒMyBatiséœ€è¦æ‰‹åŠ¨åŒ¹é…æä¾›POJOã€SQLå’Œæ˜ å°„å…³ç³»ï¼Œè€ŒHibernateåªéœ€æä¾›POJOå’Œæ˜ å°„å…³ç³»å³å¯ã€‚<br>ä¸Hibernateç›¸æ¯”ï¼Œè™½ç„¶ä½¿ç”¨MyBatisæ‰‹åŠ¨ç¼–å†™SQLè¦æ¯”ä½¿ç”¨Hibernateçš„å·¥ä½œé‡å¤§ï¼Œä½†MyBatiså¯ä»¥é…ç½®åŠ¨æ€SQLå¹¶ä¼˜åŒ–SQLï¼Œå¯ä»¥é€šè¿‡é…ç½®å†³å®šSQLçš„æ˜ å°„è§„åˆ™ï¼Œå®ƒè¿˜æ”¯æŒå­˜å‚¨è¿‡ç¨‹ç­‰ã€‚å¯¹äºä¸€äº›å¤æ‚çš„å’Œéœ€è¦ä¼˜åŒ–æ€§èƒ½çš„é¡¹ç›®æ¥è¯´ï¼Œæ˜¾ç„¶ä½¿ç”¨MyBatisæ›´åŠ åˆé€‚ã€‚</p><p>MyBatisæ¡†æ¶æ˜¯å½“å‰ä¸»æµçš„JavaæŒä¹…å±‚ï¼ˆæ•°æ®è®¿é—®å±‚DAOï¼‰æ¡†æ¶ä¹‹ä¸€ï¼Œå®ƒä¸Hibernateä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ç§ORMï¼ˆObject&#x2F;Relation Mappingï¼Œå³å¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ¡†æ¶ã€‚æ‰€è°“çš„ORMå°±æ˜¯ä¸€ç§ä¸ºäº†è§£å†³é¢å‘å¯¹è±¡ä¸å…³ç³»å‹æ•°æ®åº“ä¸­æ•°æ®ç±»å‹ä¸åŒ¹é…çš„æŠ€æœ¯ï¼Œå®ƒé€šè¿‡æè¿°Javaå¯¹è±¡ä¸æ•°æ®åº“è¡¨ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œè‡ªåŠ¨å°†Javaåº”ç”¨ç¨‹åºä¸­çš„å¯¹è±¡æŒä¹…åŒ–åˆ°å…³ç³»å‹æ•°æ®åº“çš„è¡¨ä¸­ã€‚</p><h3 id="2-MyBatisæ ¸å¿ƒç»„ä»¶ï¼š"><a href="#2-MyBatisæ ¸å¿ƒç»„ä»¶ï¼š" class="headerlink" title="2.MyBatisæ ¸å¿ƒç»„ä»¶ï¼š"></a>2.MyBatisæ ¸å¿ƒç»„ä»¶ï¼š</h3><p>SqlSessionFactoryBuilderï¼ˆæ„é€ å™¨ï¼‰: æ ¹æ®XMLé…ç½®ï¼ˆæ¨èæ–¹å¼ï¼‰æˆ–è€…ä»£ç æ¥ç”ŸæˆSqlSessionFactoryï¼ˆå·¥å‚æ¥å£ï¼‰å¯¹è±¡, åˆ›å»ºå®Œæˆåè¯¥å¯¹è±¡å°±ä¸éœ€è¦äº†ï¼Œæ‰€ä»¥åªéœ€è¦ä½¿ç”¨ä¸€æ¬¡ï¼Œåé¢æ— éœ€ä¿å­˜ã€‚</p><p>SqlSessionFactoryï¼šä¾é å·¥å‚æ¥åˆ›å»ºSqlSessionï¼ˆä¼šè¯ï¼‰å¯¹è±¡ï¼›è¯¥å¯¹è±¡æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ‰€ä»¥æ•´ä¸ªåº”ç”¨åªéœ€è¦ä¿å­˜ä¸€ä¸ªã€‚</p><p>SqlSessionï¼šç±»ä¼¼äºä¸€ä¸ªJDBCçš„Connectionå¯¹è±¡ã€‚æ˜¯ä¸€ä¸ªæ—¢å¯ä»¥å‘é€SQLå»æ‰§è¡Œå¹¶è¿”å›ç»“æœï¼Œä¹Ÿå¯ä»¥è·å–Mapperçš„æ¥å£ã€‚</p><p>SQL Mapperï¼šæ˜¯MyBatisæ–°è®¾è®¡çš„ç»„ä»¶ï¼Œæ˜¯ç”±ä¸€ä¸ªJavaæ¥å£å’ŒXMLæ–‡ä»¶ï¼ˆæˆ–æ³¨è§£ï¼‰æ„æˆçš„ï¼Œéœ€è¦ç»™å‡ºå¯¹åº”çš„SQLå’Œæ˜ å°„è§„åˆ™ã€‚è´Ÿè´£å‘é€SQLå»æ‰§è¡Œï¼Œå¹¶è¿”å›ç»“æœã€‚é€šè¿‡namespace.idè°ƒç”¨Mapperä¸­å®šä¹‰çš„SQLã€‚</p><h3 id="3-MyBatisæ¡†æ¶çš„å·¥ä½œæ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š"><a href="#3-MyBatisæ¡†æ¶çš„å·¥ä½œæ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š" class="headerlink" title="3. MyBatisæ¡†æ¶çš„å·¥ä½œæ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š"></a>3. MyBatisæ¡†æ¶çš„å·¥ä½œæ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š</h3><p>ï¼ˆ1ï¼‰è¯»å–MyBatisé…ç½®æ–‡ä»¶mybatis-config.xmlã€‚<br>ï¼ˆ2ï¼‰åŠ è½½æ˜ å°„æ–‡ä»¶Mapper.xmlã€‚<br>ï¼ˆ3ï¼‰æ„å»ºä¼šè¯å·¥å‚ã€‚<br>ï¼ˆ4ï¼‰åˆ›å»ºSqlSessionå¯¹è±¡ã€‚<br>ï¼ˆ5ï¼‰ä½¿ç”¨Executoræ¥å£æ¥æ“ä½œæ•°æ®åº“ã€‚<br>ï¼ˆ6ï¼‰ä½¿ç”¨MappedStatementç±»å‹çš„å‚æ•°å¯¹æ˜ å°„ä¿¡æ¯è¿›è¡Œå°è£…ã€‚<br>ï¼ˆ7ï¼‰è¾“å…¥å‚æ•°æ˜ å°„ã€‚<br>ï¼ˆ8ï¼‰è¾“å‡ºç»“æœæ˜ å°„ã€‚</p><h3 id="4-å…ƒç´ "><a href="#4-å…ƒç´ " class="headerlink" title="4. &lt;sql&gt;å…ƒç´ "></a>4. <code>&lt;sql&gt;</code>å…ƒç´ </h3><p><code>&lt;sql&gt;</code>å…ƒç´ çš„ä½œç”¨å°±æ˜¯å®šä¹‰å¯é‡ç”¨çš„SQLä»£ç ç‰‡æ®µã€‚ä½¿ç”¨æ—¶ï¼Œå…ˆé€šè¿‡<code>&lt;sql&gt;</code>å…ƒç´ å®šä¹‰é‡ç”¨çš„ä»£ç ç‰‡æ®µï¼Œç„¶ååœ¨éœ€è¦ä½¿ç”¨çš„åœ°æ–¹ä½¿ç”¨<code>&lt;include&gt;</code>å…ƒç´ çš„refidå±æ€§å¼•ç”¨äº†è‡ªå®šä¹‰çš„ä»£ç ç‰‡æ®µã€‚</p><h3 id="5-MyBatisæ ¸å¿ƒå¯¹è±¡SqlSessionFactoryçš„è·å–æ–¹å¼ï¼š"><a href="#5-MyBatisæ ¸å¿ƒå¯¹è±¡SqlSessionFactoryçš„è·å–æ–¹å¼ï¼š" class="headerlink" title="5.MyBatisæ ¸å¿ƒå¯¹è±¡SqlSessionFactoryçš„è·å–æ–¹å¼ï¼š"></a>5.MyBatisæ ¸å¿ƒå¯¹è±¡SqlSessionFactoryçš„è·å–æ–¹å¼ï¼š</h3><p>SqlSessionFactoryå¯¹è±¡çš„å®ä¾‹å¯ä»¥é€šè¿‡SqlSessionFactoryBuilderå¯¹è±¡æ¥æ„å»ºï¼Œè€ŒSqlSessionFactoryBuilderåˆ™å¯ä»¥é€šè¿‡XMLé…ç½®æ–‡ä»¶æˆ–ä¸€ä¸ªé¢„å…ˆå®šä¹‰å¥½çš„Configurationå®ä¾‹æ„å»ºå‡ºSqlSessionFactoryçš„å®ä¾‹ï¼Œé€šè¿‡XMLé…ç½®æ–‡ä»¶æ„å»ºå‡ºçš„SqlSessionFactoryå®ä¾‹ï¼Œå…¶å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯»å–é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> Resources.getResourceAsStream(<span class="string">&quot;é…ç½®æ–‡ä»¶ä½ç½®&quot;</span>);</span><br><span class="line"><span class="comment">// æ ¹æ®é…ç½®æ–‡ä»¶æ„å»ºSqlSessionFactory</span></span><br><span class="line"><span class="type">SqlSessionFactory</span> <span class="variable">sqlSessionFactory</span> <span class="operator">=</span> </span><br><span class="line"><span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br></pre></td></tr></table></figure><p><strong>MyBatisä½¿ç”¨è¿‡ç¨‹ï¼š</strong><br>ä½¿ç”¨SqlSessionFactoryBuilderåˆ›å»ºSqlSessionFactoryå¯¹è±¡;</p><p>ç„¶åé€šè¿‡SqlSessionFactoryåˆ›å»ºSqlSessionå¯¹è±¡;</p><p>é€šè¿‡SqlSessionå¯¹è±¡å®ŒæˆåŸºæœ¬æ“ä½œï¼ˆæ‰§è¡ŒSQLï¼‰ã€‚</p><p>å…³é—­SqlSessionã€‚</p><h3 id="6-å…ƒç´ "><a href="#6-å…ƒç´ " class="headerlink" title="6. &lt;mapper&gt;å…ƒç´ "></a>6. <code>&lt;mapper&gt;</code>å…ƒç´ </h3><p>åœ¨æ˜ å°„æ–‡ä»¶ä¸­ï¼Œ<code>&lt;mapper&gt;</code>å…ƒç´ æ˜¯æ˜ å°„æ–‡ä»¶çš„æ ¹å…ƒç´ ï¼Œå…¶ä»–å…ƒç´ éƒ½æ˜¯å®ƒçš„å­å…ƒç´ ã€‚è¿™äº›å­å…ƒç´ åŠå…¶ä½œç”¨å¦‚ä¸‹æ‰€ç¤ºï¼š<br><code>&lt;select&gt;</code>ï¼šç”¨äºæ˜ å°„æŸ¥è¯¢è¯­å¥ï¼Œå¯è‡ªå®šä¹‰å‚æ•°ï¼Œè¿”å›ç»“æœé›†ç­‰ã€‚<br><code>&lt;insert&gt;</code>ï¼šç”¨äºæ˜ å°„æ’å…¥è¯­å¥ï¼Œæ‰§è¡Œåè¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨æ’å…¥çš„æ¡æ•°ã€‚<br><code>&lt;update&gt;</code>ï¼šç”¨äºæ˜ å°„æ›´æ–°è¯­å¥ï¼Œæ‰§è¡Œåè¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨æ›´æ–°çš„æ¡æ•°ã€‚<br><code>&lt;delete&gt;</code>ï¼šç”¨äºæ˜ å°„åˆ é™¤è¯­å¥ï¼Œæ‰§è¡Œåè¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨åˆ é™¤çš„æ¡æ•°ã€‚<br><code>&lt;sql&gt;</code>ï¼šç”¨äºå®šä¹‰ä¸€éƒ¨åˆ†SQLï¼Œç„¶åå¯è¢«å…¶ä»–è¯­å¥å¼•ç”¨æ­¤SQLã€‚<br><code>&lt;cache&gt;</code>ï¼šç”¨äºç»™å®šå‘½åç©ºé—´çš„ç¼“å­˜é…ç½®ã€‚<br><code>&lt;cache-ref&gt;</code>ï¼šç”¨äºå…¶ä»–å‘½åç©ºé—´ç¼“å­˜é…ç½®çš„å¼•ç”¨ã€‚<br><code>&lt;resultMap&gt;</code>ï¼šç”¨äºæè¿°å¦‚ä½•ä»æ•°æ®åº“ç»“æœé›†ä¸­æ¥åŠ è½½å¯¹è±¡ã€‚</p><p>å½“æ•°æ®è¡¨ä¸­çš„åˆ—å’Œéœ€è¦è¿”å›çš„å¯¹è±¡çš„å±æ€§ä¸å®Œå…¨ä¸€è‡´ï¼Œ MyBatisæ˜¯ä¸ä¼šè‡ªåŠ¨èµ‹å€¼çš„ã€‚æ­¤æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨<code>&lt;resultMap&gt;</code>å…ƒç´ è¿›è¡Œå¤„ç†ã€‚<code>&lt;resultMap&gt;</code>å…ƒç´ çš„å­å…ƒç´ <code>&lt;id&gt;</code>ç”¨äºè¡¨ç¤ºå“ªä¸ªåˆ—æ˜¯ä¸»é”®ï¼Œè€Œ<code>&lt;result&gt;</code>å…ƒç´ ç”¨äºè¡¨ç¤ºPOJOå’Œæ•°æ®è¡¨ä¸­æ™®é€šåˆ—çš„æ˜ å°„å…³ç³»ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;custResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Customer&quot;</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> /&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;custId&quot;</span> <span class="attr">column</span>=<span class="string">&quot;cust_id&quot;</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span> <span class="attr">column</span>=<span class="string">&quot;name&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="7-mybatisä¸­æ˜ å°„æ–‡ä»¶includeæ ‡ç­¾åº”ç”¨"><a href="#7-mybatisä¸­æ˜ å°„æ–‡ä»¶includeæ ‡ç­¾åº”ç”¨" class="headerlink" title="7. mybatisä¸­æ˜ å°„æ–‡ä»¶includeæ ‡ç­¾åº”ç”¨"></a>7. mybatisä¸­æ˜ å°„æ–‡ä»¶includeæ ‡ç­¾åº”ç”¨</h3><p>MyBaitsæ˜ å°„æ–‡ä»¶ä¸­ä½¿ç”¨<code>&lt;include&gt;</code>å…ƒç´ çš„ refid å±æ€§å¯ä»¥å¼•ç”¨è‡ªå®šä¹‰çš„ä»£ç ç‰‡æ®µï¼Œå…¶å±æ€§å€¼ä¸ºè‡ªå®šä¹‰ä»£ç ç‰‡æ®µçš„idã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;custColumns&quot;</span>&gt;</span> </span><br><span class="line">cust_id custId,name,age </span><br><span class="line"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span>    </span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;sqlCustList&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Customer&quot;</span>&gt;</span></span><br><span class="line">select</span><br><span class="line"><span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;custColumns&quot;</span>/&gt;</span>   </span><br><span class="line">from customer c</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="8-MyBatisæ˜ å°„æ–‡ä»¶ä¸­å…ƒç´ "><a href="#8-MyBatisæ˜ å°„æ–‡ä»¶ä¸­å…ƒç´ " class="headerlink" title="8. MyBatisæ˜ å°„æ–‡ä»¶ä¸­&lt;mapper&gt;å…ƒç´ "></a>8. MyBatisæ˜ å°„æ–‡ä»¶ä¸­<code>&lt;mapper&gt;</code>å…ƒç´ </h3><p>MyBatisæ˜ å°„æ–‡ä»¶ä¸­<code>&lt;mapper&gt;</code>å…ƒç´ æ˜¯é…ç½®æ–‡ä»¶çš„æ ¹å…ƒç´ ï¼Œå®ƒåŒ…å«ä¸€ä¸ªnamespaceå±æ€§ï¼Œè¯¥å±æ€§ä¸ºè¿™ä¸ª<code>&lt;mapper&gt;</code>æŒ‡å®šäº†å”¯ä¸€çš„å‘½åç©ºé—´ã€‚åœ¨Mybatisæ˜ å°„æ–‡ä»¶ä¸­ï¼Œæ¯ä¸ªæ“ä½œéƒ½æœ‰ä¸€ä¸ªidå±æ€§è¡¨ç¤ºæ“ä½œçš„å”¯ä¸€æ ‡è¯†ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;customer&quot;</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;customerList&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Customer&quot;</span>&gt;</span></span><br><span class="line">         select * from customer</span><br><span class="line">     <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="9-MyBatisæ˜ å°„æ–‡ä»¶ä¸­å…ƒç´ "><a href="#9-MyBatisæ˜ å°„æ–‡ä»¶ä¸­å…ƒç´ " class="headerlink" title="9. MyBatisæ˜ å°„æ–‡ä»¶ä¸­&lt;insert&gt;å…ƒç´ "></a>9. MyBatisæ˜ å°„æ–‡ä»¶ä¸­<code>&lt;insert&gt;</code>å…ƒç´ </h3><p>MyBatisæ˜ å°„æ–‡ä»¶ä¸­<code>&lt;insert&gt;</code>å…ƒç´ ç”¨äºæ˜ å°„æ’å…¥è¯­å¥ï¼Œåœ¨æ‰§è¡Œå®Œå…ƒç´ ä¸­å®šä¹‰çš„SQLè¯­å¥åï¼Œä¸<code>&lt;update&gt;</code>å’Œ<code>&lt;delete&gt;</code>å…ƒç´ åœ¨æ‰§è¡Œå®Œä¹‹åä¸€æ ·ï¼Œä¹Ÿä¼šè¿”å›ä¸€ä¸ªè¡¨ç¤ºå½±å“è®°å½•æ¡æ•°çš„æ•´æ•°ã€‚<code>&lt;insert&gt;</code>å…ƒç´ çš„å±æ€§ä¸<code>&lt;select&gt;</code>å…ƒç´ çš„å±æ€§ä¸åŒï¼Œå¯ä»¥ä½¿ç”¨keyPropertyå±æ€§æŒ‡å®šå“ªä¸ªæ˜¯ä¸»é”®å­—æ®µï¼Œä½¿ç”¨useGeneratedKeyså±æ€§å®šä¹‰ä¸»é”®æ˜¯å¦ä½¿ç”¨æ•°æ®åº“å†…ç½®ç­–ç•¥ç”Ÿæˆï¼Œä»è€Œå®ç°å¯¹äºè¡¨ä¸­è‡ªå¢ç¼–å·ä¸»é”®åˆ—çš„ä¸»é”®å›å¡«å’Œè‡ªå®šä¹‰åŠŸèƒ½ã€‚</p><h3 id="10-æ ¹æ®MyBatisçš„æ˜ å°„æ–‡ä»¶ç¼–å†™Mapperæ¥å£è¿‡ç¨‹ä¸­æ¶‰åŠçš„å…³é”®é—®é¢˜å¦‚ä¸‹ï¼š"><a href="#10-æ ¹æ®MyBatisçš„æ˜ å°„æ–‡ä»¶ç¼–å†™Mapperæ¥å£è¿‡ç¨‹ä¸­æ¶‰åŠçš„å…³é”®é—®é¢˜å¦‚ä¸‹ï¼š" class="headerlink" title="10.æ ¹æ®MyBatisçš„æ˜ å°„æ–‡ä»¶ç¼–å†™Mapperæ¥å£è¿‡ç¨‹ä¸­æ¶‰åŠçš„å…³é”®é—®é¢˜å¦‚ä¸‹ï¼š"></a>10.æ ¹æ®MyBatisçš„æ˜ å°„æ–‡ä»¶ç¼–å†™Mapperæ¥å£è¿‡ç¨‹ä¸­æ¶‰åŠçš„å…³é”®é—®é¢˜å¦‚ä¸‹ï¼š</h3><p>é€šå¸¸ä¸€ä¸ªæ˜ å°„æ–‡ä»¶å¯¹åº”ä¸€ä¸ªMapperæ¥å£ï¼Œæ˜ å°„æ–‡ä»¶ä¸­çš„namespaceä¸æ¥å£çš„å…¨é™å®šåä¸€è‡´ã€‚</p><p>æ˜ å°„æ–‡ä»¶ä¸­æ¯ä¸ªæ“ä½œidå¯¹åº”Mapperæ¥å£çš„ä¸€ä¸ªæ–¹æ³•ï¼Œæ–¹æ³•åä¸æ˜ å°„æ–‡ä»¶ä¸­æ“ä½œçš„idç›¸åŒï¼Œå‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ä¸æ“ä½œä¸­çš„parameterTypeå’ŒresultTypeç›¸åŒ</p><p>SQLè°ƒç”¨çš„æ—¶å€™é€šè¿‡æ¥å£è°ƒç”¨ï¼Œè€Œä¸ç”¨å†æŒ‡å‡ºæ“ä½œçš„id</p><h3 id="11-MyBatisé…ç½®XMLæ–‡ä»¶ç»“æ„å¦‚ä¸‹"><a href="#11-MyBatisé…ç½®XMLæ–‡ä»¶ç»“æ„å¦‚ä¸‹" class="headerlink" title="11.MyBatisé…ç½®XMLæ–‡ä»¶ç»“æ„å¦‚ä¸‹"></a>11.MyBatisé…ç½®XMLæ–‡ä»¶ç»“æ„å¦‚ä¸‹</h3><p>mybatis-config.xmlä½œä¸ºMyBatisçš„å…¨å±€é…ç½®æ–‡ä»¶ï¼Œé…ç½®äº†MyBatisçš„è¿è¡Œç¯å¢ƒç­‰ä¿¡æ¯ã€‚<br>MyBatisé…ç½®XMLæ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">configuration</span>&gt;</span><span class="comment">&lt;!-- é…ç½®--&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">properties</span>/&gt;</span><span class="comment">&lt;!-- å±æ€§--&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">settings</span>/&gt;</span><span class="comment">&lt;!--è®¾ç½®--&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">typeAliases</span>/&gt;</span><span class="comment">&lt;!-- ç±»å‹å‘½å--&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">typeHandlers</span>/&gt;</span> <span class="comment">&lt;!--ç±»å‹å¤„ç†å™¨--&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">objectFactory</span>/&gt;</span>  &lt;!â€“ å¯¹è±¡å·¥å‚ --&gt;</span><br><span class="line">     <span class="tag">&lt;<span class="name">plugings</span>/&gt;</span>  <span class="comment">&lt;!--æ’ä»¶ --&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">environments</span>&gt;</span> <span class="comment">&lt;!--é…ç½®ç¯å¢ƒ--&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">environment</span>&gt;</span> <span class="comment">&lt;!--ç¯å¢ƒå˜é‡--&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">transactionManager</span>/&gt;</span><span class="comment">&lt;!--äº‹åŠ¡ç®¡ç†å™¨--&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">dataSource</span>/&gt;</span> <span class="comment">&lt;!--æ•°æ®æº--&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">databaseIdProvider</span>/&gt;</span><span class="comment">&lt;!--æ•°æ®åº“å‚å•†æ ‡è¯†--&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">mappers</span>/&gt;</span> <span class="comment">&lt;!--æ˜ å°„å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™äº›å±‚æ¬¡æ˜¯ä¸èƒ½å¤Ÿé¢ å€’é¡ºåºçš„ï¼Œå¦‚æœé¢ å€’é¡ºåºï¼ŒMyBatisåœ¨è§£æXMLæ–‡ä»¶çš„æ—¶å€™å°±ä¼šå‡ºç°å¼‚å¸¸ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span>  </span><br><span class="line">     <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">type</span>=<span class="string">&quot;entity.Customer&quot;</span> <span class="attr">alias</span>=<span class="string">&quot;Customer&quot;</span> /&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">type</span>=<span class="string">&quot;entity.Course&quot;</span> <span class="attr">alias</span>=<span class="string">&quot;Course&quot;</span> /&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">type</span>=<span class="string">&quot;entity.QuickManual&quot;</span> <span class="attr">alias</span>=<span class="string">&quot;QuickManual&quot;</span> /&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">transactionManager</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                 <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span> /&gt;</span></span><br><span class="line">                 <span class="comment">&lt;!-- ?useUnicode=true&amp;amp;characterEncoding=utf8ä¸ºäº†æ”¯æŒä¸­æ–‡æ•°æ®çš„å†™å…¥ --&gt;</span></span><br><span class="line">                 <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/test?useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=utf8&quot;</span> /&gt;</span></span><br><span class="line">                 <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span> /&gt;</span></span><br><span class="line">                 <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span> /&gt;</span></span><br><span class="line">             <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mapper/CustomerMapper.xml&quot;</span> /&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mapper/CourseMapper.xml&quot;</span> /&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mapper/QuickManualMapper.xml&quot;</span> /&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mybatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVCç¬”è®°</title>
      <link href="/2023/11/13/spring/SpringMVC/"/>
      <url>/2023/11/13/spring/SpringMVC/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€Springæ¡†æ¶"><a href="#ä¸€ã€Springæ¡†æ¶" class="headerlink" title="ä¸€ã€Springæ¡†æ¶"></a>ä¸€ã€Springæ¡†æ¶</h2><h3 id="1-å…¸å‹çš„Webå±‚æ¡†æ¶åŒ…æ‹¬ï¼š"><a href="#1-å…¸å‹çš„Webå±‚æ¡†æ¶åŒ…æ‹¬ï¼š" class="headerlink" title="1.å…¸å‹çš„Webå±‚æ¡†æ¶åŒ…æ‹¬ï¼š"></a>1.å…¸å‹çš„Webå±‚æ¡†æ¶åŒ…æ‹¬ï¼š</h3><p>Struts1<br>Web work<br>Struts2<br>Spring MVC</p><p>Spring MVCæ˜¯Springæä¾›çš„ä¸€ä¸ªå®ç°äº†Web MVCè®¾è®¡æ¨¡å¼çš„è½»é‡çº§Webæ¡†æ¶ã€‚é‡‡ç”¨å·¥å‚æ¨¡å¼ã€‚å®ƒä¸Struts2æ¡†æ¶ä¸€æ ·ï¼Œéƒ½å±äºMVCæ¡†æ¶ï¼Œä½†å…¶ä½¿ç”¨å’Œæ€§èƒ½ç­‰æ–¹é¢æ¯”Struts2æ›´åŠ ä¼˜å¼‚ã€‚SpringMVCé¡¹ç›®ä¸­å¿…é¡»æ·»åŠ çš„JARåŒ…åŒ…æ‹¬ï¼š4ä¸ªæ ¸å¿ƒJARåŒ…ã€commons-loggingçš„JARä»¥åŠä¸¤ä¸ªwebç›¸å…³çš„JARï¼ˆspring-webå’Œspring-webmvcçš„JARåŒ…ï¼‰ã€‚</p><h3 id="2-Spring-MVCçš„ç‰¹ç‚¹ã€‚"><a href="#2-Spring-MVCçš„ç‰¹ç‚¹ã€‚" class="headerlink" title="2.Spring MVCçš„ç‰¹ç‚¹ã€‚"></a>2.Spring MVCçš„ç‰¹ç‚¹ã€‚</h3><p>ï¼ˆ1ï¼‰ æ˜¯Springæ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥æ–¹ä¾¿çš„åˆ©ç”¨Springæ‰€æä¾›çš„å…¶ä»–åŠŸèƒ½ã€‚<br>ï¼ˆ2ï¼‰ çµæ´»æ€§å¼ºï¼Œæ˜“äºä¸å…¶ä»–æ¡†æ¶é›†æˆã€‚<br>ï¼ˆ3ï¼‰ æä¾›äº†ä¸€ä¸ªå‰ç«¯æ§åˆ¶å™¨DispatcherServletï¼Œä½¿å¼€å‘äººå‘˜æ— éœ€é¢å¤–å¼€å‘æ§åˆ¶å™¨å¯¹è±¡ã€‚<br>ï¼ˆ4ï¼‰ å¯è‡ªåŠ¨ç»‘å®šç”¨æˆ·è¾“å…¥ï¼Œå¹¶èƒ½æ­£ç¡®çš„è½¬æ¢æ•°æ®ç±»å‹ã€‚<br>ï¼ˆ5ï¼‰ å†…ç½®äº†å¸¸è§çš„æ ¡éªŒå™¨ï¼Œå¯ä»¥æ ¡éªŒç”¨æˆ·è¾“å…¥ã€‚å¦‚æœæ ¡éªŒä¸èƒ½é€šè¿‡ï¼Œé‚£ä¹ˆå°±ä¼šé‡å®šå‘åˆ°è¾“å…¥è¡¨å•ã€‚<br>ï¼ˆ6ï¼‰ æ”¯æŒå›½é™…åŒ–ã€‚å¯ä»¥æ ¹æ®ç”¨æˆ·åŒºåŸŸæ˜¾ç¤ºå¤šå›½è¯­è¨€ã€‚</p><h3 id="3-Spring-MVCä¸»è¦æœ‰å¦‚ä¸‹ä¼˜ç‚¹ï¼š"><a href="#3-Spring-MVCä¸»è¦æœ‰å¦‚ä¸‹ä¼˜ç‚¹ï¼š" class="headerlink" title="3.Spring MVCä¸»è¦æœ‰å¦‚ä¸‹ä¼˜ç‚¹ï¼š"></a>3.Spring MVCä¸»è¦æœ‰å¦‚ä¸‹ä¼˜ç‚¹ï¼š</h3><p>ï¼ˆ1ï¼‰æ˜¯Springæ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥æ–¹ä¾¿çš„åˆ©ç”¨Springæ‰€æä¾›çš„å…¶ä»–åŠŸèƒ½ã€‚<br>ï¼ˆ2ï¼‰çµæ´»æ€§å¼ºï¼Œæ˜“äºä¸å…¶ä»–æ¡†æ¶é›†æˆã€‚<br>ï¼ˆ3ï¼‰æä¾›äº†ä¸€ä¸ªå‰ç«¯æ§åˆ¶å™¨DispatcherServletï¼Œä½¿å¼€å‘äººå‘˜æ— éœ€é¢å¤–å¼€å‘æ§åˆ¶å™¨å¯¹è±¡ã€‚<br>ï¼ˆ4ï¼‰å¯è‡ªåŠ¨ç»‘å®šç”¨æˆ·è¾“å…¥ï¼Œå¹¶èƒ½æ­£ç¡®çš„è½¬æ¢æ•°æ®ç±»å‹ã€‚<br>ï¼ˆ5ï¼‰å†…ç½®äº†å¸¸è§çš„æ ¡éªŒå™¨ï¼Œå¯ä»¥æ ¡éªŒç”¨æˆ·è¾“å…¥ã€‚å¦‚æœæ ¡éªŒä¸èƒ½é€šè¿‡ï¼Œé‚£ä¹ˆå°±ä¼šé‡å®šå‘åˆ°è¾“å…¥è¡¨å•ã€‚<br>ï¼ˆ6ï¼‰æ”¯æŒå›½é™…åŒ–ã€‚å¯ä»¥æ ¹æ®ç”¨æˆ·åŒºåŸŸæ˜¾ç¤ºå¤šå›½è¯­è¨€ã€‚<br>ï¼ˆ7ï¼‰æ”¯æŒå¤šç§è§†å›¾æŠ€æœ¯ã€‚å®ƒæ”¯æŒJSPã€Velocityå’ŒFreeMarkerç­‰è§†å›¾æŠ€æœ¯ã€‚<br>ï¼ˆ8ï¼‰ä½¿ç”¨åŸºäºXMLçš„é…ç½®æ–‡ä»¶ï¼Œåœ¨ç¼–è¾‘åï¼Œä¸éœ€è¦é‡æ–°ç¼–è¯‘åº”ç”¨ç¨‹åºã€‚</p><h3 id="4-Spring-MVCæ¡†æ¶çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š"><a href="#4-Spring-MVCæ¡†æ¶çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š" class="headerlink" title="4.Spring MVCæ¡†æ¶çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š"></a>4.Spring MVCæ¡†æ¶çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</h3><p>ï¼ˆ1ï¼‰ç”¨æˆ·é€šè¿‡æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè¯·æ±‚ä¼šè¢«Spring MVCçš„å‰ç«¯æ§åˆ¶å™¨DispatcherServletæ‰€æ‹¦æˆªã€‚<br>ï¼ˆ2ï¼‰DispatcherServletæ‹¦æˆªåˆ°è¯·æ±‚åï¼Œä¼šè°ƒç”¨HandlerMappingå¤„ç†å™¨æ˜ å°„å™¨ã€‚<br>ï¼ˆ3ï¼‰å¤„ç†å™¨æ˜ å°„å™¨æ ¹æ®è¯·æ±‚URLæ‰¾åˆ°å…·ä½“çš„å¤„ç†å™¨ï¼Œç”Ÿæˆå¤„ç†å™¨å¯¹è±¡åŠå¤„ç†å™¨æ‹¦æˆªå™¨ï¼ˆå¦‚æœæœ‰åˆ™ç”Ÿæˆï¼‰ä¸€å¹¶è¿”å›ç»™DispatcherServlet ã€‚<br>ï¼ˆ4ï¼‰DispatcherServletä¼šé€šè¿‡è¿”å›ä¿¡æ¯é€‰æ‹©åˆé€‚çš„HandlerAdapterï¼ˆå¤„ç†å™¨é€‚é…å™¨ï¼‰ã€‚<br>ï¼ˆ5ï¼‰HandlerAdapterä¼šè°ƒç”¨å¹¶æ‰§è¡ŒHandlerï¼ˆå¤„ç†å™¨ï¼‰ï¼Œè¿™é‡Œçš„å¤„ç†å™¨æŒ‡çš„å°±æ˜¯ç¨‹åºä¸­ç¼–å†™çš„Controllerç±»ï¼Œä¹Ÿè¢«ç§°ä¹‹ä¸ºåç«¯æ§åˆ¶å™¨ã€‚<br>ï¼ˆ6ï¼‰Controlleræ‰§è¡Œå®Œæˆåï¼Œä¼šè¿”å›ä¸€ä¸ªModelAndViewå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸­ä¼šåŒ…å«è§†å›¾åæˆ–åŒ…å«æ¨¡å‹å’Œè§†å›¾åã€‚<br>ï¼ˆ7ï¼‰HandlerAdapterå°†ModelAndViewå¯¹è±¡è¿”å›ç»™DispatcherServlet ã€‚<br>ï¼ˆ8ï¼‰DispatcherServletä¼šæ ¹æ®ModelAndViewå¯¹è±¡é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ViewResloverï¼ˆè§†å›¾è§£æå™¨ï¼‰ã€‚<br>ï¼ˆ9ï¼‰ViewResloverè§£æåï¼Œä¼šå‘DispatcherServletä¸­è¿”å›å…·ä½“çš„Viewï¼ˆè§†å›¾ï¼‰ã€‚<br>ï¼ˆ10ï¼‰DispatcherServletå¯¹Viewè¿›è¡Œæ¸²æŸ“ï¼ˆå³å°†æ¨¡å‹æ•°æ®å¡«å……è‡³è§†å›¾ä¸­ï¼‰ã€‚<br>ï¼ˆ11ï¼‰è§†å›¾æ¸²æŸ“ç»“æœä¼šè¿”å›ç»™å®¢æˆ·ç«¯æµè§ˆå™¨æ˜¾ç¤ºã€‚</p><h3 id="5-åœ¨web-xmlä¸­ï¼Œé…ç½®Spring-MVCçš„å‰ç«¯æ§åˆ¶å™¨DispatcherServlet"><a href="#5-åœ¨web-xmlä¸­ï¼Œé…ç½®Spring-MVCçš„å‰ç«¯æ§åˆ¶å™¨DispatcherServlet" class="headerlink" title="5.åœ¨web.xmlä¸­ï¼Œé…ç½®Spring MVCçš„å‰ç«¯æ§åˆ¶å™¨DispatcherServlet"></a>5.åœ¨web.xmlä¸­ï¼Œé…ç½®Spring MVCçš„å‰ç«¯æ§åˆ¶å™¨DispatcherServlet</h3><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20231113230308.png"></p><p>å¦‚æœæ²¡æœ‰é€šè¿‡<init-param>å…ƒç´ é…ç½®ï¼Œåº”ç”¨ç¨‹åºä¼šé»˜è®¤åˆ°WEB-INFç›®å½•ä¸‹å¯»æ‰¾å¦‚ä¸‹æ–¹å¼å‘½åçš„é…ç½®æ–‡ä»¶ï¼šservletName-servlet.xmlã€‚servletNameæŒ‡çš„æ˜¯éƒ¨ç½²åœ¨web.xmlæ–‡ä»¶ä¸­çš„DispatcherServletçš„åç§°ï¼Œè€Œ-servlet.xmlæ˜¯é…ç½®æ–‡ä»¶åçš„å›ºå®šå†™æ³•ï¼Œå¦‚åœ¨WEB-INFä¸‹æŸ¥æ‰¾springmvc-servlet.xmlæ–‡ä»¶ã€‚</p><h3 id="6-æ§åˆ¶å™¨æ–¹æ³•çš„è¿”å›å€¼ç±»å‹"><a href="#6-æ§åˆ¶å™¨æ–¹æ³•çš„è¿”å›å€¼ç±»å‹" class="headerlink" title="6.æ§åˆ¶å™¨æ–¹æ³•çš„è¿”å›å€¼ç±»å‹"></a>6.æ§åˆ¶å™¨æ–¹æ³•çš„è¿”å›å€¼ç±»å‹</h3><p>ModelAndViewç±»å‹ä¸­å¯ä»¥æ·»åŠ Modelæ•°æ®ï¼Œå¹¶æŒ‡å®šè§†å›¾ï¼›Stringç±»å‹çš„è¿”å›å€¼å¯ä»¥è·³è½¬è§†å›¾ï¼Œä½†ä¸èƒ½æºå¸¦æ•°æ®ï¼›è€Œvoidç±»å‹ä¸»è¦åœ¨å¼‚æ­¥è¯·æ±‚æ—¶ä½¿ç”¨ï¼Œå®ƒåªè¿”å›æ•°æ®ï¼Œè€Œä¸ä¼šè·³è½¬è§†å›¾ã€‚</p><h3 id="7-Controlleræ³¨è§£åœ¨ä½¿ç”¨æ—¶å¯åˆ†ä¸ºå¦‚ä¸‹ä¸¤æ­¥ï¼š"><a href="#7-Controlleræ³¨è§£åœ¨ä½¿ç”¨æ—¶å¯åˆ†ä¸ºå¦‚ä¸‹ä¸¤æ­¥ï¼š" class="headerlink" title="7.@Controlleræ³¨è§£åœ¨ä½¿ç”¨æ—¶å¯åˆ†ä¸ºå¦‚ä¸‹ä¸¤æ­¥ï¼š"></a>7.@Controlleræ³¨è§£åœ¨ä½¿ç”¨æ—¶å¯åˆ†ä¸ºå¦‚ä¸‹ä¸¤æ­¥ï¼š</h3><p>ï¼ˆ1ï¼‰åœ¨ç›¸åº”çš„ç±»ä¸Šæ ‡æ³¨@Controlleræ³¨è§£ã€‚<br>ï¼ˆ2ï¼‰åœ¨Spring MVCçš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ç›¸åº”çš„æ‰«æé…ç½®ä¿¡æ¯ã€‚é¦–å…ˆéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å¼•å…¥contextåç§°ç©ºé—´çš„é…ç½®ï¼Œç„¶åä½¿ç”¨<code>&lt;context:component-scan&gt;</code>å…ƒç´ æŒ‡å®šéœ€è¦æ‰«æçš„ç±»åŒ…ã€‚</p><h3 id="8-SpringMVCæ¡†æ¶ä¸‹è¯·æ±‚å¤„ç†æ–¹æ³•çš„å‚æ•°ç±»å‹ï¼š"><a href="#8-SpringMVCæ¡†æ¶ä¸‹è¯·æ±‚å¤„ç†æ–¹æ³•çš„å‚æ•°ç±»å‹ï¼š" class="headerlink" title="8.SpringMVCæ¡†æ¶ä¸‹è¯·æ±‚å¤„ç†æ–¹æ³•çš„å‚æ•°ç±»å‹ï¼š"></a>8.SpringMVCæ¡†æ¶ä¸‹è¯·æ±‚å¤„ç†æ–¹æ³•çš„å‚æ•°ç±»å‹ï¼š</h3><p>åŸºäºSpringMVCæ¡†æ¶ä¸‹è¯·æ±‚å¤„ç†æ–¹æ³•çš„å‚æ•°ç±»å‹ä¸»è¦æœ‰ï¼šHttpServletRequestã€HttpServletResponseã€HttpSessionã€Modelã€HttpMethodç­‰ï¼›<br>åŸºäºSpringMVCæ¡†æ¶ä¸‹è¯·æ±‚å¤„ç†æ–¹æ³•çš„è¿”å›ç±»å‹ä¸»è¦æœ‰ï¼šModelAndViewã€Mapã€Stringã€voidã€HttpEntity&lt;?&gt;ã€Viewç­‰ã€‚</p><h3 id="9-SpringMVCä¸­è·å–è¾“å…¥å€¼çš„æ–¹å¼ä¸»è¦æœ‰ï¼š"><a href="#9-SpringMVCä¸­è·å–è¾“å…¥å€¼çš„æ–¹å¼ä¸»è¦æœ‰ï¼š" class="headerlink" title="9.SpringMVCä¸­è·å–è¾“å…¥å€¼çš„æ–¹å¼ä¸»è¦æœ‰ï¼š"></a>9.SpringMVCä¸­è·å–è¾“å…¥å€¼çš„æ–¹å¼ä¸»è¦æœ‰ï¼š</h3><p>åœ¨actionçš„æ–¹æ³•ä¸­å†™ä¸è¯·æ±‚å‚æ•°åŒåçš„å˜é‡</p><p>åœ¨actionçš„æ–¹æ³•çš„å‚æ•°ä¸­ä½¿ç”¨HttpServletRequestã€HttpServletResponseã€HttpSessionã€Modelã€HttpMethodç­‰å¯¹è±¡</p><p>åœ¨æ–¹æ³•çš„å‚æ•°ä¸­ä½¿ç”¨@RequestParamæ³¨è§£</p><p>ç•Œé¢ä¸Šçš„è¾“å…¥ä¿¡æ¯æ˜¯æŸä¸ªè‡ªå®šä¹‰å¯¹è±¡çš„ä¿¡æ¯ï¼Œåœ¨æ¥æ”¶çš„æ—¶å€™ç›´æ¥å°è£…ä¸ºè¯¥è‡ªå®šä¹‰å¯¹è±¡</p><p>æŠŠè¯·æ±‚å‚æ•°æ”¾åˆ°è¯·æ±‚è·¯å¾„ä¸­ï¼Œå³é‡‡ç”¨RESTfulé£æ ¼ã€‚</p><h3 id="10-SpringMVCä¸­å¯¹ç”¨æˆ·çš„å“åº”æ–¹å¼ä¸»è¦æœ‰ï¼š"><a href="#10-SpringMVCä¸­å¯¹ç”¨æˆ·çš„å“åº”æ–¹å¼ä¸»è¦æœ‰ï¼š" class="headerlink" title="10.SpringMVCä¸­å¯¹ç”¨æˆ·çš„å“åº”æ–¹å¼ä¸»è¦æœ‰ï¼š"></a>10.SpringMVCä¸­å¯¹ç”¨æˆ·çš„å“åº”æ–¹å¼ä¸»è¦æœ‰ï¼š</h3><p>è¿”å›ModelAndViewå¯¹è±¡ï¼Œå¦‚new ModelAndView(â€œstudentListâ€,model)ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºè§†å›¾ï¼Œç¬¬äºŒå‚æ•°è¡¨ç¤ºè§†å›¾ä¸­éœ€è¦çš„æ•°æ®ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/studentUpdateView.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> ModelAndView <span class="title function_">updateView</span><span class="params">(String id)</span>&#123;</span><br><span class="line"><span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> studentService.findById(id);</span><br><span class="line">Map&lt;String,Object&gt; model = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String,Object&gt;();</span><br><span class="line">model.put(<span class="string">&quot;student&quot;</span>,student);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>(<span class="string">&quot;studentUpdate&quot;</span>,model);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ§åˆ¶å±‚çš„æ–¹æ³•è¿”å›å€¼ç±»å‹ä¸ºStringï¼Œåœ¨æ–¹æ³•ä¸­è¿”å›è¡¨ç¤ºè¾“å‡ºç•Œé¢çš„å­—ç¬¦ä¸²ï¼Œä¸ModelAndViewä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°ç›¸åŒ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;studentAddView.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">addView</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;studentAdd&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹ä½¿ç”¨Stringè¡¨ç¤ºè¦è¿”å›çš„è§†å›¾ï¼Œä½¿ç”¨Modelè¡¨ç¤ºè¦è¿”å›çš„æ•°æ®ã€‚åœ¨è¯·æ±‚æ–¹æ³•çš„å‚æ•°ä¸­å®šä¹‰Modelå¯¹è±¡ï¼Œåœ¨è¯·æ±‚æ–¹æ³•ä½“ä¸­æŠŠæ•°æ®å­˜å‚¨åˆ°Modelå¯¹è±¡ä¸­å“åº”ç»™å‰ç«¯é¡µé¢ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/studentList.do&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">studentList</span><span class="params">(Model model)</span>&#123;</span><br><span class="line">List&lt;Student&gt; students = studentService.getStudents();</span><br><span class="line">model.addAttribute(<span class="string">&quot;students&quot;</span>,students);</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;studentList&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹è¿”å›JSONæ•°æ®ã€‚</p><h3 id="11-RequestParamæ³¨è§£"><a href="#11-RequestParamæ³¨è§£" class="headerlink" title="11.@RequestParamæ³¨è§£"></a>11.@RequestParamæ³¨è§£</h3><p>@RequestParamæ³¨è§£ä¸»è¦ç”¨äºå¯¹è¯·æ±‚ä¸­çš„å‚æ•°è¿›è¡Œå®šä¹‰ï¼Œå¤šç”¨äºåœ¨è¯·æ±‚å‚æ•°åä¸æ–¹æ³•å½¢å‚åä¸ä¸€è‡´æ—¶çš„å‚æ•°é—´æ¥ç»‘å®šã€‚åœ¨ä½¿ç”¨æ—¶å¯ä»¥æŒ‡å®šä»–çš„4ä¸ªå±æ€§ï¼Œå…·ä½“å¦‚ä¸‹ï¼š<br>ï¼ˆ1ï¼‰valueï¼šnameå±æ€§çš„åˆ«åï¼Œè¿™é‡ŒæŒ‡å‚æ•°çš„åå­—ï¼Œå³å…¥å‚çš„è¯·æ±‚å‚æ•°åå­—ï¼Œå¦‚æœåªä½¿ç”¨vauleå±æ€§ï¼Œåˆ™å¯ä»¥çœç•¥valueå±æ€§åã€‚<br>ï¼ˆ2ï¼‰nameï¼šç”¨äºæŒ‡å®šè¯·æ±‚å¤´ç»‘å®šçš„åç§°ã€‚<br>ï¼ˆ3ï¼‰required ï¼šç”¨äºæŒ‡å®šå‚æ•°æ˜¯å¦å¿…é¡»ï¼Œé»˜è®¤æ˜¯trueï¼Œè¡¨ç¤ºè¯·æ±‚ä¸­ä¸€å®šè¦æœ‰ç›¸åº”çš„å‚æ•°ã€‚<br>ï¼ˆ4ï¼‰defaultValueï¼šé»˜è®¤å€¼ï¼Œè¡¨ç¤ºå¦‚æœè¯·æ±‚ä¸­æ²¡æœ‰åŒåå‚æ•°æ—¶çš„é»˜è®¤å€¼ã€‚</p><h3 id="12-åœ¨ä½¿ç”¨åŒ…è£…POJOç±»å‹æ•°æ®ç»‘å®šæ—¶"><a href="#12-åœ¨ä½¿ç”¨åŒ…è£…POJOç±»å‹æ•°æ®ç»‘å®šæ—¶" class="headerlink" title="12.åœ¨ä½¿ç”¨åŒ…è£…POJOç±»å‹æ•°æ®ç»‘å®šæ—¶"></a>12.åœ¨ä½¿ç”¨åŒ…è£…POJOç±»å‹æ•°æ®ç»‘å®šæ—¶</h3><p>åœ¨ä½¿ç”¨åŒ…è£…POJOç±»å‹æ•°æ®ç»‘å®šæ—¶ï¼Œå‰ç«¯è¯·æ±‚çš„å‚æ•°åç¼–å†™å¿…é¡»ç¬¦åˆä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š<br>ï¼ˆ1ï¼‰å¦‚æœæŸ¥è¯¢æ¡ä»¶å‚æ•°æ˜¯åŒ…è£…ç±»çš„ç›´æ¥åŸºæœ¬å±æ€§ï¼Œåˆ™å‚æ•°åç›´æ¥ç”¨å¯¹åº”çš„å±æ€§åï¼›<br>ï¼ˆ2ï¼‰å¦‚æœæŸ¥è¯¢æ¡ä»¶å‚æ•°æ˜¯åŒ…è£…ç±»ä¸­POJOçš„å­å±æ€§ï¼Œåˆ™å‚æ•°åå¿…é¡»ä¸ºâ€œå¯¹è±¡.å±æ€§â€ï¼Œå…¶ä¸­â€œå¯¹è±¡â€è¦å’ŒåŒ…è£…POJOä¸­çš„å¯¹è±¡å±æ€§åç§°ä¸€è‡´ï¼Œâ€œå±æ€§â€è¦å’ŒåŒ…è£…POJOä¸­çš„å¯¹è±¡å­å±æ€§ä¸€è‡´ã€‚</p><h3 id="13-JSONæ•°æ®äº¤äº’æ—¶ï¼Œä¸»è¦ä½¿ç”¨çš„ä¸¤ä¸ªæ³¨è§£-RequestBodyå’Œ-ResponseBody"><a href="#13-JSONæ•°æ®äº¤äº’æ—¶ï¼Œä¸»è¦ä½¿ç”¨çš„ä¸¤ä¸ªæ³¨è§£-RequestBodyå’Œ-ResponseBody" class="headerlink" title="13.JSONæ•°æ®äº¤äº’æ—¶ï¼Œä¸»è¦ä½¿ç”¨çš„ä¸¤ä¸ªæ³¨è§£@RequestBodyå’Œ@ResponseBody"></a>13.JSONæ•°æ®äº¤äº’æ—¶ï¼Œä¸»è¦ä½¿ç”¨çš„ä¸¤ä¸ªæ³¨è§£@RequestBodyå’Œ@ResponseBody</h3><p>JSONæ•°æ®äº¤äº’æ—¶ï¼Œä¸»è¦ä½¿ç”¨äº†ä¸¤ä¸ªæ³¨è§£@RequestBodyå’Œ@ResponseBodyã€‚å…¶ä¸­@RequestBodyç”¨äºå°†è¯·æ±‚ä½“ä¸­çš„æ•°æ®ç»‘å®šåˆ°æ–¹æ³•çš„å½¢å‚ä¸­ï¼Œåœ¨ä½¿ç”¨æ—¶æ ‡å‡†åœ¨åœ¨æ–¹æ³•çš„å½¢å‚ä¸Šã€‚@ResponseBodyç”¨äºç›´æ¥è¿”å›returnå¯¹è±¡ã€‚Jacksonç”¨åˆ°çš„å¼€æºåŒ…çš„æœ‰ jackson-annoations-2.8.8.jarã€ jackson-core-2.8.8.jarã€jackson-databind-2.8.8.jarã€‚</p><h3 id="14-JSONå¯¹è±¡çš„æ•°ç»„ç»“æ„"><a href="#14-JSONå¯¹è±¡çš„æ•°ç»„ç»“æ„" class="headerlink" title="14.JSONå¯¹è±¡çš„æ•°ç»„ç»“æ„"></a>14.JSONå¯¹è±¡çš„æ•°ç»„ç»“æ„</h3><p>JSONå¯¹è±¡çš„æ•°ç»„ç»“æ„ä»¥ â€œ[â€ å¼€å§‹ï¼Œä»¥ â€œ]â€ ç»“æŸï¼Œå¯¹è±¡ç»“æ„ä»¥ â€œ{â€ å¼€å§‹ï¼Œä»¥ â€œ}â€ç»“æŸï¼ŒJSONå¯¹è±¡æ•°æ®ç»“æ„çš„ä¸­é—´éƒ¨åˆ†ç”±é”®å€¼å¯¹ï¼ˆkeyï¼švalueï¼‰ä»¥è‹±æ–‡ â€œ,â€ åˆ†éš”çš„å€¼çš„åˆ—è¡¨ç»„æˆã€‚å…³é”®å­—ï¼ˆkeyï¼‰å¿…é¡»ä¸ºStringç±»å‹ï¼Œå€¼ï¼ˆvalueï¼‰å¯ä»¥æ˜¯Stringã€Numberã€Objectã€Arrayç­‰æ•°æ®ç±»å‹ã€‚</p><h3 id="15-RESTful"><a href="#15-RESTful" class="headerlink" title="15.RESTful"></a>15.RESTful</h3><p>RESTfulä¹Ÿç§°ä¹‹ä¸ºRESTï¼Œæ˜¯è‹±æ–‡â€œRepresentational State Transferâ€çš„ç®€ç§°ã€‚RESTfulé£æ ¼åœ¨HTTPè¯·æ±‚ä¸­ï¼Œä½¿ç”¨putã€deleteã€postå’Œgetæ–¹å¼åˆ†åˆ«å¯¹åº”æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹å’ŒæŸ¥è¯¢çš„æ“ä½œã€‚</p><h3 id="16-PathVariable-â€œidâ€-æ³¨è§£"><a href="#16-PathVariable-â€œidâ€-æ³¨è§£" class="headerlink" title="16.@PathVariable(â€œidâ€)æ³¨è§£"></a>16.@PathVariable(â€œidâ€)æ³¨è§£</h3><p>@PathVariable(â€œidâ€)æ³¨è§£ç”¨äºæ¥æ”¶å¹¶ç»‘å®šè¯·æ±‚å‚æ•°ï¼Œå®ƒå¯ä»¥å°†URLè¯·æ±‚ä¸­çš„å˜é‡æ˜ å°„åˆ°è¯·æ±‚æ–¹æ³•çš„å½¢å‚ä¸Šã€‚<br>å¦‚æœè¯·æ±‚è·¯å¾„ä¸­çš„å‚æ•°åæ–¹æ³•å½¢å‚åç§°ä¸€æ ·ï¼Œåˆ™@PathVariableåé¢çš„ â€œ (â€œidâ€) â€ å¯ä»¥çœç•¥ã€‚</p><h3 id="17-Spring-MVCçš„æ–‡ä»¶ä¸Šä¼ "><a href="#17-Spring-MVCçš„æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="17.Spring MVCçš„æ–‡ä»¶ä¸Šä¼ "></a>17.Spring MVCçš„æ–‡ä»¶ä¸Šä¼ </h3><p>Spring MVCçš„æ–‡ä»¶ä¸Šä¼ æ˜¯é€šè¿‡MultipartResolverå¯¹è±¡å®ç°çš„ã€‚</p><p>æ–‡ä»¶ä¸Šä¼ è¡¨å•éœ€è¦æ»¡è¶³çš„3ä¸ªæ¡ä»¶å¦‚ä¸‹ï¼š<br>ï¼ˆ1ï¼‰ formè¡¨å•çš„methodå±æ€§è®¾ç½®ä¸ºpostï¼›<br>ï¼ˆ2ï¼‰ formè¡¨å•çš„enctypeå±æ€§è®¾ç½®ä¸ºmultipart&#x2F;form-dataï¼›<br>ï¼ˆ3ï¼‰ æä¾›çš„æ–‡ä»¶ä¸Šä¼ è¾“å…¥æ¡†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Springç¬”è®°</title>
      <link href="/2023/11/13/spring/Spring%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/11/13/spring/Spring%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€Springæ¡†æ¶"><a href="#ä¸€ã€Springæ¡†æ¶" class="headerlink" title="ä¸€ã€Springæ¡†æ¶"></a>ä¸€ã€Springæ¡†æ¶</h2><h3 id="1-ä¸‰å±‚ä½“ç³»æ¶æ„"><a href="#1-ä¸‰å±‚ä½“ç³»æ¶æ„" class="headerlink" title="1.ä¸‰å±‚ä½“ç³»æ¶æ„"></a>1.ä¸‰å±‚ä½“ç³»æ¶æ„</h3><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œé€šå¸¸æœåŠ¡å™¨ç«¯åœ¨é‡‡ç”¨åˆ†å±‚æ–¹å¼è¿›è¡Œæ¶æ„ã€‚<br>ä¸‰å±‚ä½“ç³»æ¶æ„ï¼Œåˆ†åˆ«ä¸ºï¼š<br>è¡¨ç¤ºå±‚(Webå±‚ï¼ŒåŒ…æ‹¬æ§åˆ¶å±‚ï¼Œä½¿ç”¨SpringMVCæ¡†æ¶)ã€<br>ä¸šåŠ¡é€»è¾‘å±‚(Serviceï¼Œä½¿ç”¨Springæ¡†æ¶)ã€<br>æŒä¹…å±‚(æ•°æ®è®¿é—®å±‚ï¼ŒDaoï¼Œä½¿ç”¨Mybatisæ¡†æ¶)ã€‚<br>Springå¯¹æ¯ä¸€å±‚éƒ½æä¾›äº†æŠ€æœ¯æ”¯æŒã€‚</p><h3 id="2-Springçš„æ ¸å¿ƒ"><a href="#2-Springçš„æ ¸å¿ƒ" class="headerlink" title="2.Springçš„æ ¸å¿ƒ"></a>2.Springçš„æ ¸å¿ƒ</h3><p>Springçš„æ ¸å¿ƒæ˜¯æ§åˆ¶åè½¬ï¼ˆIoCï¼š Inverse of Control ï¼‰å’Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼š Aspect Oriented Programming ï¼‰ã€‚<br>åœ¨ä½¿ç”¨Springæ¡†æ¶ä¹‹åï¼Œå¯¹è±¡çš„å®ä¾‹ä¸å†ç”±è°ƒç”¨è€…æ¥åˆ›å»ºï¼Œè€Œæ˜¯ç”±Springå®¹å™¨æ¥åˆ›å»ºï¼ŒSpringå®¹å™¨ä¼šè´Ÿè´£æ§åˆ¶ç¨‹åºä¹‹é—´çš„å…³ç³»ï¼Œè€Œä¸æ˜¯ç”±è°ƒç”¨è€…çš„ç¨‹åºä»£ç ç›´æ¥æ§åˆ¶ã€‚</p><p>IoCçš„å…¨ç§°æ˜¯Inversion of Controlï¼Œä¸­æ–‡åç§°ä¸ºæ§åˆ¶åè½¬ã€‚æ§åˆ¶åè½¬å°±æ˜¯æŒ‡åœ¨ä½¿ç”¨Springæ¡†æ¶ä¹‹åï¼Œå¯¹è±¡çš„å®ä¾‹ä¸å†ç”±è°ƒç”¨è€…æ¥åˆ›å»ºï¼Œè€Œæ˜¯ç”±Springå®¹å™¨æ¥åˆ›å»ºï¼ŒSpringå®¹å™¨ä¼šè´Ÿè´£æ§åˆ¶ç¨‹åºä¹‹é—´çš„å…³ç³»ï¼Œè€Œä¸æ˜¯ç”±è°ƒç”¨è€…çš„ç¨‹åºä»£ç ç›´æ¥æ§åˆ¶ã€‚è¿™æ ·ï¼Œæ§åˆ¶æƒç”±åº”ç”¨ä»£ç è½¬ç§»åˆ°äº†Springå®¹å™¨ï¼Œæ§åˆ¶æƒå‘ç”Ÿäº†åè½¬ã€‚</p><p>DIçš„å…¨ç§°æ˜¯Dependency Injectionï¼Œä¸­æ–‡ç§°ä¹‹ä¸ºä¾èµ–æ³¨å…¥ã€‚å®ƒä¸æ§åˆ¶åè½¬ï¼ˆIoCï¼‰çš„å«ä¹‰ç›¸åŒï¼Œåªä¸è¿‡è¿™ä¸¤ä¸ªç§°å‘¼æ˜¯ä»ä¸¤ä¸ªè§’åº¦æè¿°çš„åŒä¸€ä¸ªæ¦‚å¿µã€‚ä»Springå®¹å™¨çš„è§’åº¦æ¥çœ‹ï¼ŒSpringå®¹å™¨è´Ÿè´£å°†è¢«ä¾èµ–å¯¹è±¡èµ‹å€¼ç»™è°ƒç”¨è€…çš„æˆå‘˜å˜é‡ï¼Œè¿™ç›¸å½“äºä¸ºè°ƒç”¨è€…æ³¨å…¥äº†å®ƒä¾èµ–çš„å®ä¾‹ï¼Œè¿™å°±æ˜¯Springçš„ä¾èµ–æ³¨å…¥ã€‚</p><h3 id="3-Spring-çš„Beanä¸­ä¸»è¦çš„è£…é…æ–¹å¼"><a href="#3-Spring-çš„Beanä¸­ä¸»è¦çš„è£…é…æ–¹å¼" class="headerlink" title="3.Spring çš„Beanä¸­ä¸»è¦çš„è£…é…æ–¹å¼"></a>3.Spring çš„Beanä¸­ä¸»è¦çš„è£…é…æ–¹å¼</h3><p>Spring çš„Beanä¸­ä¸»è¦åŒ…å«ä¸‰ç§è£…é…æ–¹å¼ï¼Œåˆ†åˆ«ä¸ºåŸºäºXMLçš„è£…é…ï¼ŒåŸºäºAnnotationçš„è£…é…å’Œè‡ªåŠ¨è£…é…ï¼Œè¿™ä¸‰ç§è£…é…æ–¹å¼çš„ç”¨æ³•å¦‚ä¸‹ï¼š</p><h4 id="ï¼ˆ1ï¼‰åŸºäºXMLçš„è£…é…ï¼š"><a href="#ï¼ˆ1ï¼‰åŸºäºXMLçš„è£…é…ï¼š" class="headerlink" title="ï¼ˆ1ï¼‰åŸºäºXMLçš„è£…é…ï¼š"></a>ï¼ˆ1ï¼‰åŸºäºXMLçš„è£…é…ï¼š</h4><p>Springæä¾›äº†2ç§åŸºäºXMLçš„è£…é…æ–¹å¼ï¼šè®¾å€¼æ³¨å…¥ï¼ˆSetter Injectionï¼‰å’Œæ„é€ æ³¨å…¥ï¼ˆConstructor Injectionï¼‰ã€‚<br>ä¸€ç§æ˜¯å±æ€§setteræ–¹æ³•æ³¨å…¥ï¼ˆæˆ–è®¾å€¼æ³¨å…¥ï¼‰ï¼Œå¦ä¸€ç§æ˜¯æ„é€ æ–¹æ³•æ³¨å…¥ã€‚å±æ€§setteræ–¹æ³•æ³¨å…¥æ˜¯æŒ‡IoCå®¹å™¨ä½¿ç”¨setteræ–¹æ³•æ¥æ³¨å…¥è¢«ä¾èµ–çš„å®ä¾‹ã€‚é€šè¿‡è°ƒç”¨æ— å‚æ„é€ å™¨æˆ–æ— å‚é™æ€å·¥å‚æ–¹æ³•å®ä¾‹åŒ–Beanåï¼Œè°ƒç”¨è¯¥Beançš„setteræ–¹æ³•ï¼Œå³å¯å®ç°åŸºäºsetteræ–¹æ³•çš„ä¾èµ–æ³¨å…¥ã€‚å±æ€§setteræ–¹æ³•æ³¨å…¥çš„å¿…å¤‡æ¡ä»¶å¦‚ä¸‹ï¼š</p><p>Beanç±»å¿…é¡»æœ‰ä¸€ä¸ªæ— å‚æ„é€ æ–¹æ³•</p><p>Beanç±»å¿…é¡»ä¸ºå±æ€§æä¾›setteræ–¹æ³•</p><p>åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨<code>&lt;property&gt;</code>å…ƒç´ æ¥ä¸ºæ¯ä¸ªå±æ€§æ³¨å…¥å€¼</p><p>è®¾ç½®æ³¨å…¥ä¸­çš„Beanç±»å¿…é¡»æä¾›ä¸€ä¸ªé»˜è®¤çš„æ— å‚æ„é€ æ–¹æ³•ï¼ŒåŒæ—¶å¿…é¡»ä¸ºéœ€è¦æ³¨å…¥çš„å±æ€§æä¾›å¯¹åº”çš„setteræ–¹æ³•ã€‚ä½¿ç”¨è®¾å€¼æ³¨å…¥æ—¶ï¼Œåœ¨Springé…ç½®æ–‡ä»¶ä¸­ï¼Œéœ€è¦ä½¿ç”¨<code>&lt;bean&gt;</code>å…ƒç´ çš„å­å…ƒç´ <code>&lt;property&gt;</code>æ¥ä¸ºæ¯ä¸ªå±æ€§æ³¨å…¥å€¼ã€‚ä½¿ç”¨æ„é€ æ³¨å…¥æ—¶ï¼Œåœ¨é…ç½®æ–‡ä»¶é‡Œï¼Œéœ€è¦ä½¿ç”¨<code>&lt;bean&gt;</code>å…ƒç´ çš„å­å…ƒç´ <code>&lt;constructor-arg&gt;</code>æ¥å®šä¹‰æ„é€ æ–¹æ³•çš„å‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨å…¶valueå±æ€§ï¼ˆæˆ–å­å…ƒç´ ï¼‰æ¥è®¾ç½®è¯¥å‚æ•°çš„å€¼ã€‚<br>æ„é€ æ–¹æ³•æ³¨å…¥æ˜¯æŒ‡IoCå®¹å™¨ä½¿ç”¨æ„é€ æ–¹æ³•æ¥æ³¨å…¥è¢«ä¾èµ–çš„å®ä¾‹ã€‚åŸºäºæ„é€ æ–¹æ³•çš„ä¾èµ–æ³¨å…¥é€šè¿‡è°ƒç”¨å¸¦å‚æ•°çš„æ„é€ æ–¹æ³•æ¥å®ç°ï¼Œæ¯ä¸ªå‚æ•°ä»£è¡¨ç€ä¸€ä¸ªä¾èµ–ã€‚è¦æ±‚å¿…é¡»æ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š</p><p>Beanç±»å¿…é¡»æä¾›æœ‰å‚æ„é€ æ–¹æ³•</p><p>é…ç½®æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨<code>&lt;constructor-arg&gt;</code>å…ƒç´ æ¥ä¸ºå‚æ•°æ³¨å…¥å€¼</p><h4 id="ï¼ˆ2ï¼‰åŸºäºAnnotationçš„è£…é…ï¼š"><a href="#ï¼ˆ2ï¼‰åŸºäºAnnotationçš„è£…é…ï¼š" class="headerlink" title="ï¼ˆ2ï¼‰åŸºäºAnnotationçš„è£…é…ï¼š"></a>ï¼ˆ2ï¼‰åŸºäºAnnotationçš„è£…é…ï¼š</h4><p>ä½¿ç”¨åŸºäºAnnotationçš„è£…é…æ—¶ï¼Œé¦–å…ˆéœ€è¦ä½¿ç”¨@Repositoryã€@Serviceä¸@Controlleråˆ†åˆ«å¯¹å®ç°ç±»è¿›è¡Œæ ‡æ³¨ï¼Œç„¶åç”¨@Autowiredæˆ–@Resourceæ³¨è§£å¯¹æ³¨å…¥çš„Beançš„å±æ€§è¿›è¡Œæ ‡æ³¨ï¼Œæœ€ååœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œé€šè¿‡<code>&lt;context:annotation-config /&gt;</code>æ¥å¼€å¯æ³¨è§£å¤„ç†å™¨ï¼Œæˆ–ä½¿ç”¨<code>&lt;context:component-scan base-package=&quot;Beanæ‰€åœ¨çš„åŒ…è·¯å¾„&quot;/&gt;</code>çš„é…ç½®æ–¹å¼å³å¯å®ç°Annotationçš„è£…é…ã€‚</p><p>@Controlleré€šå¸¸ä½œç”¨åœ¨æ§åˆ¶å±‚ï¼Œç”¨äºå°†æ§åˆ¶å±‚çš„ç±»æ ‡è¯†ä¸ºSpringä¸­çš„Beanã€‚</p><p>@Serviceé€šå¸¸ä½œç”¨åœ¨ä¸šåŠ¡å±‚ï¼Œç”¨äºå°†ä¸šåŠ¡å±‚çš„ç±»æ ‡è¯†ä¸ºSpringä¸­çš„Beanã€‚</p><p>@Repositoryé€šå¸¸ä½œç”¨åœ¨æ•°æ®æŒä¹…å±‚ï¼ˆæˆ–æ•°æ®è®¿é—®å±‚ï¼ŒDAOå±‚ï¼‰ï¼Œç”¨äºå°†æ•°æ®æŒä¹…å±‚çš„ç±»æ ‡è¯†ä¸ºSpringä¸­çš„Beanã€‚</p><p>@Autowiredæˆ–@Resourceæ³¨è§£å¯¹æ³¨å…¥çš„Beançš„å±æ€§è¿›è¡Œæ ‡æ³¨ï¼Œç”¨äºå°†å®ä¾‹åŒ–åå¯¹è±¡æ³¨å…¥åˆ°Beançš„å±æ€§ä¸­ï¼Œå®ç°ä¾èµ–æ³¨å…¥ã€‚</p><h4 id="ï¼ˆ3ï¼‰è‡ªåŠ¨è£…é…ï¼š"><a href="#ï¼ˆ3ï¼‰è‡ªåŠ¨è£…é…ï¼š" class="headerlink" title="ï¼ˆ3ï¼‰è‡ªåŠ¨è£…é…ï¼š"></a>ï¼ˆ3ï¼‰è‡ªåŠ¨è£…é…ï¼š</h4><p>åœ¨<code>&lt;bean&gt;</code>å…ƒç´ ä¸­ä½¿ç”¨ autowireå±æ€§ï¼Œå¹¶å°†å…¶å±æ€§å€¼è®¾ç½®ä¸º byNameæˆ–è€… byTypeå³å¯å®ç°è‡ªåŠ¨è£…é…ã€‚</p><h3 id="4-Springæ¡†æ¶çš„ä¼˜ç‚¹å¦‚ä¸‹ï¼š"><a href="#4-Springæ¡†æ¶çš„ä¼˜ç‚¹å¦‚ä¸‹ï¼š" class="headerlink" title="4.Springæ¡†æ¶çš„ä¼˜ç‚¹å¦‚ä¸‹ï¼š"></a>4.Springæ¡†æ¶çš„ä¼˜ç‚¹å¦‚ä¸‹ï¼š</h3><p>ï¼ˆ1ï¼‰éä¾µå…¥å¼è®¾è®¡ï¼šSpringæ˜¯ä¸€ç§éä¾µå…¥å¼ï¼ˆnon-invasiveï¼‰æ¡†æ¶ï¼Œå®ƒå¯ä»¥ä½¿åº”ç”¨ç¨‹åºä»£ç å¯¹æ¡†æ¶çš„ä¾èµ–æœ€å°åŒ–ã€‚<br>ï¼ˆ2ï¼‰æ–¹ä¾¿è§£è€¦ã€ç®€åŒ–å¼€å‘ï¼šSpringå°±æ˜¯ä¸€ä¸ªå¤§å·¥å‚ï¼Œå¯ä»¥å°†æ‰€æœ‰å¯¹è±¡çš„åˆ›å»ºå’Œä¾èµ–å…³ç³»çš„ç»´æŠ¤å·¥ä½œéƒ½äº¤ç»™Springå®¹å™¨ç®¡ç†ï¼Œå¤§å¤§çš„é™ä½äº†ç»„ä»¶ä¹‹é—´çš„è€¦åˆæ€§ã€‚<br>ï¼ˆ3ï¼‰æ”¯æŒAOPï¼šSpringæä¾›äº†å¯¹AOPçš„æ”¯æŒï¼Œå®ƒå…è®¸å°†ä¸€äº›é€šç”¨ä»»åŠ¡ï¼Œå¦‚å®‰å…¨ã€äº‹åŠ¡ã€æ—¥å¿—ç­‰è¿›è¡Œé›†ä¸­å¼å¤„ç†ï¼Œä»è€Œæé«˜äº†ç¨‹åºçš„å¤ç”¨æ€§ã€‚<br>ï¼ˆ4ï¼‰æ”¯æŒå£°æ˜å¼äº‹åŠ¡å¤„ç†ï¼šåªéœ€è¦é€šè¿‡é…ç½®å°±å¯ä»¥å®Œæˆå¯¹äº‹åŠ¡çš„ç®¡ç†ï¼Œè€Œæ— éœ€æ‰‹åŠ¨ç¼–ç¨‹ã€‚<br>ï¼ˆ5ï¼‰æ–¹ä¾¿ç¨‹åºçš„æµ‹è¯•ï¼šSpringæä¾›äº†å¯¹Junit4çš„æ”¯æŒï¼Œå¯ä»¥é€šè¿‡æ³¨è§£æ–¹ä¾¿çš„æµ‹è¯•Springç¨‹åºã€‚<br>ï¼ˆ6ï¼‰æ–¹ä¾¿é›†æˆå„ç§ä¼˜ç§€æ¡†æ¶ï¼šSpringä¸æ’æ–¥å„ç§ä¼˜ç§€çš„å¼€æºæ¡†æ¶ï¼Œå…¶å†…éƒ¨æä¾›äº†å¯¹å„ç§ä¼˜ç§€æ¡†æ¶ï¼ˆå¦‚ï¼šStrutsã€Hibernateã€MyBatisã€Quartzç­‰ï¼‰çš„ç›´æ¥æ”¯æŒã€‚<br>ï¼ˆ7ï¼‰é™ä½äº†Java EE APIçš„ä½¿ç”¨éš¾åº¦ï¼šSpringå¯¹Java EEå¼€å‘ä¸­éå¸¸éš¾ç”¨çš„ä¸€äº›APIï¼ˆå¦‚ï¼šJDBCã€JavaMailç­‰ï¼‰ï¼Œéƒ½æä¾›äº†å°è£…ï¼Œä½¿è¿™äº›APIåº”ç”¨éš¾åº¦å¤§å¤§é™ä½ã€‚</p><h3 id="5-Springæ¡†æ¶åŒ…ï¼š"><a href="#5-Springæ¡†æ¶åŒ…ï¼š" class="headerlink" title="5.Springæ¡†æ¶åŒ…ï¼š"></a>5.Springæ¡†æ¶åŒ…ï¼š</h3><p>Springå¼€å‘æ‰€éœ€çš„jaråŒ…åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š Springæ¡†æ¶4ä¸ªæ ¸å¿ƒåŸºç¡€åŒ…å’Œä¸€ä¸ªç¬¬ä¸‰æ–¹ä¾èµ–åŒ…ã€‚</p><p>spring-core-4.3.6.RELEASE.jar<br>åŒ…å«Springæ¡†æ¶çš„æ ¸å¿ƒå·¥å…·ç±»ï¼ŒSpringå…¶å®ƒç»„ä»¶éƒ½è¦ç”¨åˆ°è¿™ä¸ªåŒ…é‡Œçš„ç±»ã€‚</p><p>spring-beans-4.3.6.RELEASE.jar<br>æ‰€æœ‰åº”ç”¨éƒ½è¦ç”¨åˆ°çš„JARåŒ…ï¼Œå®ƒåŒ…å«è®¿é—®é…ç½®æ–‡ä»¶ã€åˆ›å»ºå’Œç®¡ç†Beanä»¥åŠè¿›è¡Œæ§åˆ¶åè½¬æˆ–è€…ä¾èµ–æ³¨å…¥æ“ä½œç›¸å…³çš„æ‰€æœ‰ç±»ã€‚</p><p>spring-context-4.3.6.RELEASE.jar<br>æä¾›äº†åœ¨åŸºç¡€IoCåŠŸèƒ½ä¸Šçš„æ‰©å±•æœåŠ¡ï¼Œè¿˜æä¾›äº†è®¸å¤šä¼ä¸šçº§æœåŠ¡çš„æ”¯æŒ</p><p>spring-expression-4.3.6.RELEASE.jar<br>å®šä¹‰äº†Springçš„è¡¨è¾¾å¼è¯­è¨€ã€‚</p><p>åœ¨ä½¿ç”¨Springå¼€å‘æ—¶ï¼Œé™¤äº†è¦ä½¿ç”¨è‡ªå¸¦çš„JARåŒ…å¤–ï¼ŒSpringçš„æ ¸å¿ƒå®¹å™¨è¿˜éœ€è¦ä¾èµ–ä¸€ä¸ªç¬¬ä¸‰æ–¹åŒ…commons.loggingçš„JARåŒ…ã€‚</p><h3 id="6-ApplicationContextå®¹å™¨"><a href="#6-ApplicationContextå®¹å™¨" class="headerlink" title="6.ApplicationContextå®¹å™¨"></a>6.ApplicationContextå®¹å™¨</h3><p>é€šå¸¸åœ¨Javaé¡¹ç›®ä¸­ï¼Œé€šå¸¸ä¼šé€šè¿‡ClassPathXmlApplicationContextç±»æ¥å®ä¾‹åŒ–ApplicationContextå®¹å™¨çš„æ–¹å¼ï¼Œè€Œåœ¨Webé¡¹ç›®ä¸­ï¼ŒApplicationContextå®¹å™¨çš„å®ä¾‹åŒ–å·¥ä½œä¼šäº¤ç”±WebæœåŠ¡å™¨æ¥å®Œæˆã€‚</p><h3 id="7-SpringIOCåº”ç”¨ç¤ºä¾‹æ ¸å¿ƒä»£ç ï¼š"><a href="#7-SpringIOCåº”ç”¨ç¤ºä¾‹æ ¸å¿ƒä»£ç ï¼š" class="headerlink" title="7.SpringIOCåº”ç”¨ç¤ºä¾‹æ ¸å¿ƒä»£ç ï¼š"></a>7.SpringIOCåº”ç”¨ç¤ºä¾‹æ ¸å¿ƒä»£ç ï¼š</h3><p>mainæ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> </span><br><span class="line"><span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">UserService</span> <span class="variable">userService</span> <span class="operator">=</span> (UserService) context.getBean(<span class="string">&quot;userService&quot;</span>);</span><br><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">user.setId(<span class="string">&quot;11111&quot;</span>);</span><br><span class="line">user.setName(<span class="string">&quot;zhangsan22222&quot;</span>);</span><br><span class="line">userService.addUser(user);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>applicationContext.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®bean,é…ç½®åè¯¥ç±»ç”±springç®¡ç†--&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;spring.ioc.service.UserService&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ä¾èµ–æ³¨å…¥,é…ç½®å½“å‰ç±»ä¸­ç›¸åº”çš„å±æ€§--&gt;</span>  </span><br><span class="line">    <span class="comment">&lt;!-- &lt;property&gt;æ ‡ç­¾ä¸­çš„nameå°±æ˜¯UserServiceç±»ä¸­çš„userDaoå±æ€§åï¼ŒrefæŒ‡ä¸‹é¢&lt;bean name=&quot;userDao&quot;...&gt;ï¼Œè¿™æ ·å…¶å®æ˜¯springå°†UserDaoImpå¯¹è±¡å®ä¾‹åŒ–å¹¶ä¸”è°ƒç”¨UserServiceçš„setUserDaoæ–¹æ³•å°†UserDaoæ³¨å…¥ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userDaoImp&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">&lt;!â€”é…ç½®bean ï¼Œ,é…ç½®åè¯¥ç±»ç”±springç®¡ç†--&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDaoImp&quot;</span> <span class="attr">class</span>=<span class="string">&quot;spring.ioc.dao.imp.UserDaoImp&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>UserService.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"><span class="keyword">public</span> UserDao userDao;</span><br><span class="line"><span class="keyword">public</span> UserDao <span class="title function_">getUserDao</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">return</span> userDao;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserDao</span><span class="params">(UserDao userDao)</span> &#123;</span><br><span class="line"><span class="built_in">this</span>.userDao = userDao;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addUser</span><span class="params">(User user)</span>&#123;</span><br><span class="line">userDao.addUser(user);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserDaoImp.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDaoImp</span> <span class="keyword">implements</span> <span class="title class_">UserDao</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addUser</span><span class="params">(User user)</span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;æ·»åŠ äº†ä¸€ä¸ªç”¨æˆ·ï¼Œå§“åæ˜¯&quot;</span></span><br><span class="line">        +user.getName()+user.getId());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äºŒã€SpringJDBCTemplate"><a href="#äºŒã€SpringJDBCTemplate" class="headerlink" title="äºŒã€SpringJDBCTemplate"></a>äºŒã€SpringJDBCTemplate</h2><h3 id="1-åœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®JDBC"><a href="#1-åœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®JDBC" class="headerlink" title="1.åœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®JDBC"></a>1.åœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®JDBC</h3><p>åœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®JDBCæ—¶ï¼Œéœ€è¦å®šä¹‰äº†ä¸‰ä¸ªBeanï¼Œåˆ†åˆ«æ˜¯dataSourceã€jdbcTemplateå’Œéœ€è¦æ³¨å…¥ç±»çš„Beanã€‚åœ¨å®šä¹‰jdbcTemplateæ—¶ï¼Œéœ€è¦å°†dataSourceæ³¨å…¥åˆ°jdbcTemplateä¸­ï¼Œè€Œå…¶ä»–éœ€è¦ä½¿ç”¨jdbcTemplateçš„Beanï¼Œä¹Ÿéœ€è¦å°†jdbcTemplateæ³¨å…¥åˆ°è¯¥Beanä¸­ï¼Œè¿™æ ·é…ç½®å®Œæˆåï¼ŒSpring JDBCå°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p><h3 id="2-JdbcTemplateç±»"><a href="#2-JdbcTemplateç±»" class="headerlink" title="2.JdbcTemplateç±»"></a>2.JdbcTemplateç±»</h3><p>Springæ¡†æ¶æä¾›äº†JdbcTemplateç±»ï¼Œè¯¥ç±»æ˜¯Springæ¡†æ¶æ•°æ®æŠ½è±¡å±‚çš„åŸºç¡€ã€‚JdbcTemplateç±»æ˜¯Spring JDBCçš„æ ¸å¿ƒç±»ã€‚JdbcTemplateçš„ç›´æ¥çˆ¶ç±»æ˜¯æŠ½è±¡ç±»JdbcAccessorï¼Œå®ç°äº†æ¥å£JdbcOperationsã€‚<br>åœ¨JdbcTemplateç±»ä¸­ï¼Œæä¾›äº†å¤§é‡çš„æ›´æ–°å’ŒæŸ¥è¯¢æ•°æ®åº“çš„æ–¹æ³•ï¼Œä½¿ç”¨è¿™äº›æ–¹æ³•æ¥æ“ä½œæ•°æ®åº“ï¼Œå…¶å¸¸ç”¨çš„æ–¹æ³•åŒ…æ‹¬execute()ã€update()å’Œquery()ã€‚<br>å…¶ä¸­execute()æ–¹æ³•èƒ½å¤Ÿå®Œæˆæ‰§è¡ŒSQLè¯­å¥çš„åŠŸèƒ½ï¼Œupdate()æ–¹æ³•å¯ä»¥å®Œæˆæ’å…¥ã€æ›´æ–°å’Œåˆ é™¤æ•°æ®çš„æ“ä½œï¼Œquery()æ–¹æ³•å¯ä»¥ç”¨æ¥å¤„ç†å„ç§å¯¹æ•°æ®åº“è¡¨çš„æŸ¥è¯¢æ“ä½œã€‚</p><h3 id="3-dataSourceé…ç½®"><a href="#3-dataSourceé…ç½®" class="headerlink" title="3.dataSourceé…ç½®"></a>3.dataSourceé…ç½®</h3><p>dataSourceé…ç½®ï¼Œå³JDBCè¿æ¥æ•°æ®åº“æ—¶éœ€è¦4ä¸ªåŸºæœ¬å±æ€§ï¼ŒåŒ…æ‹¬æœ‰driverClassNameã€urlã€usernameå’Œpasswordã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20231113223834.png"></p><h3 id="4-Spring-ä¸ºJDBCæä¾›äº†ä¸‰ä¸ªæ¨¡æ¿ç±»ä¾›é€‰æ‹©ï¼š"><a href="#4-Spring-ä¸ºJDBCæä¾›äº†ä¸‰ä¸ªæ¨¡æ¿ç±»ä¾›é€‰æ‹©ï¼š" class="headerlink" title="4.Spring ä¸ºJDBCæä¾›äº†ä¸‰ä¸ªæ¨¡æ¿ç±»ä¾›é€‰æ‹©ï¼š"></a>4.Spring ä¸ºJDBCæä¾›äº†ä¸‰ä¸ªæ¨¡æ¿ç±»ä¾›é€‰æ‹©ï¼š</h3><p>JdbcTemplateï¼šæœ€åŸºæœ¬çš„Spring JDBCæ¨¡æ¿ï¼Œæ”¯æŒç®€å•çš„JDBCæ•°æ®è®¿é—®åŠŸèƒ½åŠåŸºäºç´¢å¼•å‚æ•°çš„æŸ¥è¯¢ã€‚ä½¿ç”¨å ä½ç¬¦ï¼ˆï¼Ÿï¼‰ç»‘å®šå‚æ•°ã€‚</p><p>NamedParameterJdbcTemplateï¼šè¯¥æ¨¡æ¿æŸ¥è¯¢æ—¶å¯ä»¥å°†å€¼ä»¥å‘½åå‚æ•°ï¼ˆï¼šå‚æ•°åï¼‰çš„å½¢å¼ç»‘å®šåˆ°SQLä¸­ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç®€å•çš„ç´¢å¼•å‚æ•°ã€‚</p><p>SimpleJdbcTemplateï¼šè¯¥æ¨¡æ¿åˆ©ç”¨Java5çš„ä¸€äº›ç‰¹æ€§å¦‚è‡ªåŠ¨è£…ç®±ã€æ³›å‹ä»¥åŠå¯å˜å‚æ•°åˆ—è¡¨æ¥ç®€åŒ–JDBCæ¨¡æ¿çš„ä½¿ç”¨ã€‚</p><h3 id="5-SpringJDBCTemplateåº”ç”¨ç¤ºä¾‹æ ¸å¿ƒä»£ç ï¼š"><a href="#5-SpringJDBCTemplateåº”ç”¨ç¤ºä¾‹æ ¸å¿ƒä»£ç ï¼š" class="headerlink" title="5.SpringJDBCTemplateåº”ç”¨ç¤ºä¾‹æ ¸å¿ƒä»£ç ï¼š"></a>5.SpringJDBCTemplateåº”ç”¨ç¤ºä¾‹æ ¸å¿ƒä»£ç ï¼š</h3><p>Mainæ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">( String[] args )</span>&#123;</span><br><span class="line">    <span class="type">Test</span> <span class="variable">test</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line">    <span class="type">UserAction</span> <span class="variable">userAction</span> <span class="operator">=</span> test.getController();</span><br><span class="line">    test.testAdd(userAction);</span><br><span class="line"><span class="comment">//    test.testFindNumbers(userAction);</span></span><br><span class="line"><span class="comment">//    test.testFindNameById(userAction);</span></span><br><span class="line"><span class="comment">//    test.testFindUser(userAction);</span></span><br><span class="line"><span class="comment">//    test.testFindAll(userAction);</span></span><br><span class="line"><span class="comment">//    test.testFindMapUser(userAction);</span></span><br><span class="line"><span class="comment">//    test.testFindMapAll(userAction);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> UserAction <span class="title function_">getController</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> </span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;config/applicationContext.xml&quot;</span>);</span><br><span class="line">    <span class="type">UserAction</span> <span class="variable">userAction</span> <span class="operator">=</span> (UserAction) context.getBean(<span class="string">&quot;userAction&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> userAction;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">(UserAction userAction)</span>&#123;</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span>  <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">    user.setId(<span class="number">7</span>);</span><br><span class="line">    user.setName(<span class="string">&quot;å¼ ä¸‰&quot;</span>);</span><br><span class="line">    user.setAge(<span class="number">20</span>);</span><br><span class="line">    userAction.add(user);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFindNumbers</span><span class="params">(UserAction userAction)</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">numbers</span> <span class="operator">=</span> userAction.findNumbers();</span><br><span class="line">    System.out.println(<span class="string">&quot;findNumbersæ–¹æ³•çš„æŸ¥è¯¢ç»“æœï¼š&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;å…±æœ‰&quot;</span>+numbers+<span class="string">&quot;ä¸ªç”¨æˆ·ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFindNameById</span><span class="params">(UserAction userAction)</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> userAction.findNameById(<span class="number">1</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;findNameByIdæ–¹æ³•çš„æŸ¥è¯¢ç»“æœï¼š&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;å­¦å·ä¸º1çš„å­¦ç”Ÿçš„å§“åä¸ºï¼š&quot;</span>+name);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFindUser</span><span class="params">(UserAction userAction)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;findUseræ–¹æ³•çš„æŸ¥è¯¢ç»“æœï¼š&quot;</span>);</span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span>  <span class="operator">=</span> userAction.findById(<span class="number">1</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;idï¼š&quot;</span>+user.getId()</span><br><span class="line">    +<span class="string">&quot;,name:&quot;</span>+user.getName()</span><br><span class="line">    +<span class="string">&quot;,age:&quot;</span>+user.getAge());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFindAll</span><span class="params">(UserAction userAction)</span>&#123;</span><br><span class="line">    List&lt;User&gt; users  = userAction.findAll();</span><br><span class="line">    System.out.println(<span class="string">&quot;findAllæ–¹æ³•çš„æŸ¥è¯¢ç»“æœï¼š&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(User user:users)&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;idï¼š&quot;</span>+user.getId()</span><br><span class="line">    +<span class="string">&quot;,name:&quot;</span>+user.getName()</span><br><span class="line">    +<span class="string">&quot;,age:&quot;</span>+user.getAge());</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFindMapUser</span><span class="params">(UserAction userAction)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;findMapUseræ–¹æ³•çš„æŸ¥è¯¢ç»“æœï¼š&quot;</span>);</span><br><span class="line">    Map&lt;String,Object&gt; user  = userAction.findMapById(<span class="number">1</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;idï¼š&quot;</span>+user.get(<span class="string">&quot;id&quot;</span>)</span><br><span class="line">    +<span class="string">&quot;,name:&quot;</span>+user.get(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">    +<span class="string">&quot;,age:&quot;</span>+user.get(<span class="string">&quot;age&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFindMapAll</span><span class="params">(UserAction userAction)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;findMapAllæ–¹æ³•çš„æŸ¥è¯¢ç»“æœï¼š&quot;</span>);</span><br><span class="line">    List&lt;Map&lt;String,Object&gt;&gt; users  = userAction.findAllMap();</span><br><span class="line">    <span class="keyword">for</span>(Map&lt;String,Object&gt; user:users)&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;idï¼š&quot;</span>+user.get(<span class="string">&quot;id&quot;</span>)</span><br><span class="line">        +<span class="string">&quot;,name:&quot;</span>+user.get(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">        +<span class="string">&quot;,age:&quot;</span>+user.get(<span class="string">&quot;age&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>applicationContext.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userAction&quot;</span> <span class="attr">class</span>=<span class="string">&quot;action.UserAction&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userService&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userService&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;service.UserService&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userDao&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource1&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/spring&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;dao.UserDao&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jdbcTemplate&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;jdbcTemplate1&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;npjt&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;namedParameterJdbcTemplate&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;jdbcTemplate1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource1&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- NamedParameterJdbcTemplateé…ç½® --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;namedParameterJdbcTemplate&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">ref</span>=<span class="string">&quot;jdbcTemplate1&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>UserAction.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserAction</span> &#123;</span><br><span class="line"><span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> UserService <span class="title function_">getUserService</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">return</span> userService;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserService</span><span class="params">(UserService userService)</span> &#123;</span><br><span class="line"><span class="built_in">this</span>.userService = userService;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(User user)</span> &#123;</span><br><span class="line">userService.add(user);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">findNameById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line"><span class="keyword">return</span> userService.findNameById(id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findNumbers</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">return</span> userService.findNumbers();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;User&gt; <span class="title function_">findAll</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">return</span> userService.findAll();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> User <span class="title function_">findById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line"><span class="keyword">return</span> userService.findById(id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title function_">findMapById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line"><span class="keyword">return</span> userService.findMapById(id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;Map&lt;String, Object&gt;&gt; <span class="title function_">findAllMap</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">return</span> userService.findAllMap();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserService.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"><span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> UserDao <span class="title function_">getUserDao</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">return</span> userDao;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserDao</span><span class="params">(UserDao userDao)</span> &#123;</span><br><span class="line"><span class="built_in">this</span>.userDao = userDao;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(User user)</span> &#123;</span><br><span class="line">userDao.add(user);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">findNameById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line"><span class="keyword">return</span> userDao.findNameById(id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findNumbers</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">return</span> userDao.findNumbers();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;User&gt; <span class="title function_">findAll</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">return</span> userDao.findAll();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> User <span class="title function_">findById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line"><span class="keyword">return</span> userDao.findById(id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title function_">findMapById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line"><span class="keyword">return</span> userDao.findMapById(id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;Map&lt;String, Object&gt;&gt; <span class="title function_">findAllMap</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">return</span> userDao.findAllMap();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UserDao.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDao</span> &#123;</span><br><span class="line"><span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">private</span> NamedParameterJdbcTemplate npjt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> JdbcTemplate <span class="title function_">getJdbcTemplate</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">return</span> jdbcTemplate;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setJdbcTemplate</span><span class="params">(JdbcTemplate jdbcTemplate)</span> &#123;</span><br><span class="line"><span class="built_in">this</span>.jdbcTemplate = jdbcTemplate;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> NamedParameterJdbcTemplate <span class="title function_">getNpjt</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">return</span> npjt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setNpjt</span><span class="params">(NamedParameterJdbcTemplate npjt)</span> &#123;</span><br><span class="line"><span class="built_in">this</span>.npjt = npjt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(User user)</span>&#123;</span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;insert into CUSTOMERS values(?,?,?)&quot;</span>;</span><br><span class="line">jdbcTemplate.update(sql,</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Object</span>[]&#123;user.getId(),user.getName(),user.getAge()&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*NamedParameterJdbcTemplateä½¿ç”¨ï¼šMapä¼ å‚*/</span></span><br><span class="line">String sql1=<span class="string">&quot;insert into CUSTOMERS (id,name,age) values (:id,:name,:age)&quot;</span>;</span><br><span class="line">Map&lt;String,Object&gt; paramMap=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String,Object&gt;();</span><br><span class="line">paramMap.put(<span class="string">&quot;id&quot;</span>, <span class="number">1</span>);</span><br><span class="line">paramMap.put(<span class="string">&quot;age&quot;</span>, <span class="string">&quot;20&quot;</span>);</span><br><span class="line">paramMap.put(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;npjt&quot;</span>);</span><br><span class="line">paramMap.put(<span class="string">&quot;sex&quot;</span>, <span class="string">&quot;å¥³&quot;</span>);</span><br><span class="line">npjt.update(sql1, paramMap);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*NamedParameterJdbcTemplateä½¿ç”¨ï¼šå®ä½“ç±»ï¼ˆUserï¼‰ä¼ å‚*/</span></span><br><span class="line">SqlParameterSource paramSource=<span class="keyword">new</span> <span class="title class_">BeanPropertySqlParameterSource</span>(user);</span><br><span class="line">npjt.update(sql1, paramSource);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">findNameById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;SELECT NAME FROM CUSTOMERS WHERE id = ?&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> (String) jdbcTemplate.queryForObject(sql, <span class="keyword">new</span> <span class="title class_">Object</span>[] &#123; id &#125;, String.class);</span><br><span class="line"><span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findNumbers</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;SELECT COUNT(*) FROM CUSTOMERS&quot;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">total</span> <span class="operator">=</span> jdbcTemplate.queryForObject(sql,Integer.class);</span><br><span class="line"><span class="keyword">return</span> total;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;User&gt; <span class="title function_">findAll</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;SELECT * FROM CUSTOMERS&quot;</span>;</span><br><span class="line"><span class="comment">//List&lt;Customer&gt; customers = jdbcTemplate.query(sql, new BeanPropertyRowMapper(Customer.class));</span></span><br><span class="line">List&lt;User&gt; customers = jdbcTemplate.query(sql, <span class="keyword">new</span> <span class="title class_">CustomerRowMapper</span>());</span><br><span class="line"><span class="keyword">return</span> customers;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> User <span class="title function_">findById</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;SELECT * FROM CUSTOMERS WHERE id = ?&quot;</span>;</span><br><span class="line"><span class="type">User</span> <span class="variable">customer</span> <span class="operator">=</span> (User) jdbcTemplate.queryForObject(sql,</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Object</span>[] &#123; id &#125;,<span class="keyword">new</span> <span class="title class_">CustomerRowMapper</span>());</span><br><span class="line"><span class="keyword">return</span> customer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title function_">findMapById</span><span class="params">(<span class="type">int</span> id)</span>&#123;</span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;SELECT * FROM CUSTOMERS WHERE id = ?&quot;</span>;</span><br><span class="line"><span class="keyword">return</span> jdbcTemplate.queryForMap(sql,<span class="keyword">new</span> <span class="title class_">Object</span>[]&#123;id&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;Map&lt;String,Object&gt;&gt; <span class="title function_">findAllMap</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;SELECT * FROM CUSTOMERS&quot;</span>;</span><br><span class="line"><span class="keyword">return</span> jdbcTemplate.queryForList(sql);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€SpringAOPå’Œäº‹åŠ¡æ§åˆ¶"><a href="#ä¸‰ã€SpringAOPå’Œäº‹åŠ¡æ§åˆ¶" class="headerlink" title="ä¸‰ã€SpringAOPå’Œäº‹åŠ¡æ§åˆ¶"></a>ä¸‰ã€SpringAOPå’Œäº‹åŠ¡æ§åˆ¶</h2><h3 id="1-AOP-Aspect-Oriented-Programming-é¢å‘åˆ‡é¢ç¼–ç¨‹-ï¼š"><a href="#1-AOP-Aspect-Oriented-Programming-é¢å‘åˆ‡é¢ç¼–ç¨‹-ï¼š" class="headerlink" title="1.AOP(Aspect-Oriented Programming,é¢å‘åˆ‡é¢ç¼–ç¨‹)ï¼š"></a>1.AOP(Aspect-Oriented Programming,é¢å‘åˆ‡é¢ç¼–ç¨‹)ï¼š</h3><p>æ˜¯Springç”¨åˆ°çš„æ ¸å¿ƒæŠ€æœ¯ä¹‹ä¸€ï¼Œæ˜¯å¯¹ä¼ ç»Ÿ OOP(Object-Oriented Programming,é¢å‘å¯¹è±¡ç¼–ç¨‹)çš„è¡¥å……ã€‚</p><p>AOPåœ¨ç¨‹åºå¼€å‘ä¸­ä¸»è¦ç”¨æ¥è§£å†³ä¸€äº›ç³»ç»Ÿå±‚é¢ä¸Šçš„é—®é¢˜ï¼Œæ¯”å¦‚æ—¥å¿—ï¼Œäº‹åŠ¡ï¼Œæƒé™ç­‰ã€‚</p><p>AOPçš„ä¸»è¦ç¼–ç¨‹å¯¹è±¡æ˜¯åˆ‡é¢(aspect)ï¼Œé‡‡ç”¨AOPï¼Œå¯ä»¥å¯¹åˆ†æ•£åœ¨å„å¤„ä¸”ä¸å¯¹è±¡æ ¸å¿ƒåŠŸèƒ½æ— å…³çš„ä¸€äº›åŠŸèƒ½è¡Œä¸ºä»£ç ï¼ˆæ¨ªåˆ‡ä»£ç ï¼‰è¿›è¡Œå°è£…ï¼Œä½¿å…¶æˆä¸ºä¸€ä¸ªå¯é‡ç”¨çš„æ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—è¢«å‘½åä¸ºâ€œåˆ‡é¢â€ï¼ˆAspectï¼‰ï¼Œåˆ‡é¢å°†é‚£äº›ä¸ä¸šåŠ¡æ— å…³ï¼Œå´è¢«ä¸šåŠ¡æ¨¡å—å…±åŒè°ƒç”¨çš„é€»è¾‘æå–å¹¶å°è£…èµ·æ¥ï¼Œå‡å°‘äº†ç³»ç»Ÿä¸­çš„é‡å¤ä»£ç ï¼Œé™ä½äº†æ¨¡å—é—´çš„è€¦åˆåº¦ï¼ŒåŒæ—¶æé«˜äº†ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ã€‚</p><h3 id="2-AOPæ¡†æ¶ï¼šSpring-AOPå’ŒAspectJã€‚"><a href="#2-AOPæ¡†æ¶ï¼šSpring-AOPå’ŒAspectJã€‚" class="headerlink" title="2.AOPæ¡†æ¶ï¼šSpring AOPå’ŒAspectJã€‚"></a>2.AOPæ¡†æ¶ï¼šSpring AOPå’ŒAspectJã€‚</h3><p>ç›®å‰æµè¡Œçš„AOPæ¡†æ¶æœ‰ä¸¤ä¸ªï¼šSpring AOPå’ŒAspectJ</p><p>Spring AOPä»£ç†å¯ä»¥æ˜¯JDKåŠ¨æ€ä»£ç†ï¼Œä¹Ÿå¯æ˜¯CGLIBä»£ç†ã€‚Springé»˜è®¤ä½¿ç”¨JDKåŠ¨æ€ä»£ç†ï¼Œåœ¨éœ€è¦ä»£ç†ç±»è€Œä¸æ˜¯ä»£ç†æ¥å£çš„æ—¶å€™ï¼ŒSpringä¼šè‡ªåŠ¨åˆ‡æ¢ä¸ºä½¿ç”¨CGLIBä»£ç†ï¼Œä¸è¿‡ç°åœ¨çš„é¡¹ç›®éƒ½æ˜¯é¢å‘æ¥å£ç¼–ç¨‹ï¼Œæ‰€ä»¥JDKåŠ¨æ€ä»£ç†ç›¸å¯¹æ¥è¯´ç”¨çš„è¿˜æ˜¯å¤šä¸€äº›ã€‚</p><p>æ–°ç‰ˆæœ¬çš„Springæ¡†æ¶ï¼Œå»ºè®®ä½¿ç”¨AspectJæ¥å¼€å‘AOPã€‚ ä½¿ç”¨AspectJå®ç°AOPæœ‰ä¸¤ç§æ–¹å¼ï¼šä¸€ç§æ˜¯åŸºäºXMLçš„å£°æ˜å¼AspectJï¼Œå¦ä¸€ç§æ˜¯åŸºäºæ³¨è§£çš„å£°æ˜å¼AspectJã€‚</p><h3 id="3-AspectJæ¡†æ¶ä¸­æ³¨è§£"><a href="#3-AspectJæ¡†æ¶ä¸­æ³¨è§£" class="headerlink" title="3.AspectJæ¡†æ¶ä¸­æ³¨è§£"></a>3.AspectJæ¡†æ¶ä¸­æ³¨è§£</h3><p>AspectJæ¡†æ¶ä¸­æ³¨è§£@Pointcutç”¨äºå®šä¹‰åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼Œåœ¨ä½¿ç”¨æ—¶è¿˜éœ€å®šä¹‰ä¸€ä¸ªåŒ…å«åå­—å’Œä»»æ„å‚æ•°çš„æ–¹æ³•ç­¾åæ¥è¡¨ç¤ºåˆ‡å…¥ç‚¹åç§°ã€‚</p><h3 id="4-Springçš„é…ç½®æ–‡ä»¶ä¸­çš„å…ƒç´ "><a href="#4-Springçš„é…ç½®æ–‡ä»¶ä¸­çš„å…ƒç´ " class="headerlink" title="4.Springçš„é…ç½®æ–‡ä»¶ä¸­çš„&lt;beans&gt;å…ƒç´ "></a>4.Springçš„é…ç½®æ–‡ä»¶ä¸­çš„<code>&lt;beans&gt;</code>å…ƒç´ </h3><p>åœ¨Springçš„é…ç½®æ–‡ä»¶ä¸­çš„<code>&lt;beans&gt;</code>å…ƒç´ ä¸‹å¯ä»¥åŒ…å«å¤šä¸ª<code>&lt;aop:config&gt;</code>å…ƒç´ ï¼Œä¸€ä¸ª<code>&lt;aop:config&gt;</code>å…ƒç´ ä¸­åˆå¯ä»¥åŒ…å«å±æ€§å’Œå­å…ƒç´ ï¼Œå…¶å­å…ƒç´ åŒ…æ‹¬<code>&lt;aop:pointcut&gt;</code>ã€<code>&lt;aop:advisor&gt;</code>å’Œ<code>&lt;aop:aspect&gt;</code>ã€‚</p><p>é…ç½®åˆ‡é¢ä½¿ç”¨çš„æ˜¯<code>&lt;aop:aspect&gt;</code>å…ƒç´ ï¼Œ<code>&lt;aop:aspect&gt;</code>å­å…ƒç´ çš„pointcut-refå±æ€§ç”¨äºæŒ‡å®šä¸€ä¸ªå·²ç»å­˜åœ¨çš„åˆ‡å…¥ç‚¹åç§°ã€‚</p><h3 id="5-AOPæœ¯è¯­ä¸­Advice"><a href="#5-AOPæœ¯è¯­ä¸­Advice" class="headerlink" title="5.AOPæœ¯è¯­ä¸­Advice"></a>5.AOPæœ¯è¯­ä¸­Advice</h3><p>AOPæœ¯è¯­ä¸­Adviceè¡¨ç¤ºAOPæ¡†æ¶åœ¨ç‰¹å®šçš„åˆ‡å…¥ç‚¹æ‰§è¡Œçš„é€šçŸ¥&#x2F;å¢å¼ºå¤„ç†ï¼Œå³åœ¨å®šä¹‰å¥½çš„åˆ‡å…¥ç‚¹å¤„æ‰€è¦æ‰§è¡Œçš„ç¨‹åºä»£ç ã€‚</p><h3 id="6-Springçš„å£°æ˜å¼äº‹åŠ¡ç®¡ç†çš„ä¸¤ç§å®ç°æ–¹å¼"><a href="#6-Springçš„å£°æ˜å¼äº‹åŠ¡ç®¡ç†çš„ä¸¤ç§å®ç°æ–¹å¼" class="headerlink" title="6.Springçš„å£°æ˜å¼äº‹åŠ¡ç®¡ç†çš„ä¸¤ç§å®ç°æ–¹å¼"></a>6.Springçš„å£°æ˜å¼äº‹åŠ¡ç®¡ç†çš„ä¸¤ç§å®ç°æ–¹å¼</h3><p>Springçš„å£°æ˜å¼äº‹åŠ¡ç®¡ç†å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼æ¥å®ç°ï¼Œä¸€ç§æ˜¯åŸºäºXMLçš„æ–¹å¼ï¼Œå¦ä¸€ç§æ˜¯åŸºäºæ³¨è§£ï¼ˆAnnotationï¼‰çš„æ–¹å¼ã€‚</p><p>Spring2.0ä»¥åï¼Œåœ¨åŸºäºXMLæ–‡ä»¶çš„æ–¹å¼ä¸­ï¼Œæä¾›äº†txå‘½åç©ºé—´æ¥é…ç½®äº‹åŠ¡ï¼Œtxå‘½åç©ºé—´ä¸‹æä¾›äº†<a href="tx:advice">tx:advice</a>å…ƒç´ æ¥é…ç½®äº‹åŠ¡çš„é€šçŸ¥ï¼ˆå¢å¼ºå¤„ç†ï¼‰ã€‚</p><h2 id="å››ã€Springæ•´åˆMybatis"><a href="#å››ã€Springæ•´åˆMybatis" class="headerlink" title="å››ã€Springæ•´åˆMybatis"></a>å››ã€Springæ•´åˆMybatis</h2><h3 id="6-1-Springæ•´åˆMybatisæ€è·¯åˆ†æ"><a href="#6-1-Springæ•´åˆMybatisæ€è·¯åˆ†æ" class="headerlink" title="6.1 Springæ•´åˆMybatisæ€è·¯åˆ†æ"></a>6.1 Springæ•´åˆMybatisæ€è·¯åˆ†æ</h3><h4 id="6-1-1-ç¯å¢ƒå‡†å¤‡"><a href="#6-1-1-ç¯å¢ƒå‡†å¤‡" class="headerlink" title="6.1.1 ç¯å¢ƒå‡†å¤‡"></a>6.1.1 ç¯å¢ƒå‡†å¤‡</h4><p>åœ¨å‡†å¤‡ç¯å¢ƒçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿæ¥å›é¡¾ä¸‹Mybatiså¼€å‘çš„ç›¸å…³å†…å®¹:</p><h5 id="æ­¥éª¤1-å‡†å¤‡æ•°æ®åº“è¡¨"><a href="#æ­¥éª¤1-å‡†å¤‡æ•°æ®åº“è¡¨" class="headerlink" title="æ­¥éª¤1:å‡†å¤‡æ•°æ®åº“è¡¨"></a>æ­¥éª¤1:å‡†å¤‡æ•°æ®åº“è¡¨</h5><p>Mybatisæ˜¯æ¥æ“ä½œæ•°æ®åº“è¡¨ï¼Œæ‰€ä»¥å…ˆåˆ›å»ºä¸€ä¸ªæ•°æ®åº“åŠè¡¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database spring_db <span class="type">character</span> <span class="keyword">set</span> utf8;</span><br><span class="line">use spring_db;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tbl_account(</span><br><span class="line">    id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">35</span>),</span><br><span class="line">    money <span class="keyword">double</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><h5 id="æ­¥éª¤2-åˆ›å»ºé¡¹ç›®å¯¼å…¥jaråŒ…"><a href="#æ­¥éª¤2-åˆ›å»ºé¡¹ç›®å¯¼å…¥jaråŒ…" class="headerlink" title="æ­¥éª¤2:åˆ›å»ºé¡¹ç›®å¯¼å…¥jaråŒ…"></a>æ­¥éª¤2:åˆ›å»ºé¡¹ç›®å¯¼å…¥jaråŒ…</h5><p>é¡¹ç›®çš„pom.xmlæ·»åŠ ç›¸å…³ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.16<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="æ­¥éª¤3-æ ¹æ®è¡¨åˆ›å»ºæ¨¡å‹ç±»"><a href="#æ­¥éª¤3-æ ¹æ®è¡¨åˆ›å»ºæ¨¡å‹ç±»" class="headerlink" title="æ­¥éª¤3:æ ¹æ®è¡¨åˆ›å»ºæ¨¡å‹ç±»"></a>æ­¥éª¤3:æ ¹æ®è¡¨åˆ›å»ºæ¨¡å‹ç±»</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Account</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Double money;</span><br><span class="line"><span class="comment">//setter...getter...toString...æ–¹æ³•ç•¥    </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ­¥éª¤4-åˆ›å»ºDaoæ¥å£"><a href="#æ­¥éª¤4-åˆ›å»ºDaoæ¥å£" class="headerlink" title="æ­¥éª¤4:åˆ›å»ºDaoæ¥å£"></a>æ­¥éª¤4:åˆ›å»ºDaoæ¥å£</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AccountDao</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Insert(&quot;insert into tbl_account(name,money)values(#&#123;name&#125;,#&#123;money&#125;)&quot;)</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(Account account)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Delete(&quot;delete from tbl_account where id = #&#123;id&#125; &quot;)</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Update(&quot;update tbl_account set name = #&#123;name&#125; , money = #&#123;money&#125; where id = #&#123;id&#125; &quot;)</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Account account)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;select * from tbl_account&quot;)</span></span><br><span class="line">    List&lt;Account&gt; <span class="title function_">findAll</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;select * from tbl_account where id = #&#123;id&#125; &quot;)</span></span><br><span class="line">    Account <span class="title function_">findById</span><span class="params">(Integer id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ­¥éª¤5-åˆ›å»ºServiceæ¥å£å’Œå®ç°ç±»"><a href="#æ­¥éª¤5-åˆ›å»ºServiceæ¥å£å’Œå®ç°ç±»" class="headerlink" title="æ­¥éª¤5:åˆ›å»ºServiceæ¥å£å’Œå®ç°ç±»"></a>æ­¥éª¤5:åˆ›å»ºServiceæ¥å£å’Œå®ç°ç±»</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AccountService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(Account account)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Account account)</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;Account&gt; <span class="title function_">findAll</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    Account <span class="title function_">findById</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">AccountService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AccountDao accountDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(Account account)</span> &#123;</span><br><span class="line">        accountDao.save(account);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Account account)</span>&#123;</span><br><span class="line">        accountDao.update(account);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        accountDao.delete(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Account <span class="title function_">findById</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> accountDao.findById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;Account&gt; <span class="title function_">findAll</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> accountDao.findAll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ­¥éª¤6-æ·»åŠ jdbc-propertiesæ–‡ä»¶"><a href="#æ­¥éª¤6-æ·»åŠ jdbc-propertiesæ–‡ä»¶" class="headerlink" title="æ­¥éª¤6:æ·»åŠ jdbc.propertiesæ–‡ä»¶"></a>æ­¥éª¤6:æ·»åŠ jdbc.propertiesæ–‡ä»¶</h5><p>resourcesç›®å½•ä¸‹æ·»åŠ ï¼Œç”¨äºé…ç½®æ•°æ®åº“è¿æ¥å››è¦ç´ </p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jdbc.driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">jdbc.url</span>=<span class="string">jdbc:mysql://localhost:3306/spring_db?useSSL=false</span></span><br><span class="line"><span class="attr">jdbc.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">jdbc.password</span>=<span class="string">root</span></span><br></pre></td></tr></table></figure><p>useSSL:å…³é—­MySQLçš„SSLè¿æ¥</p><h5 id="æ­¥éª¤7-æ·»åŠ Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶"><a href="#æ­¥éª¤7-æ·»åŠ Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶" class="headerlink" title="æ­¥éª¤7:æ·»åŠ Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶"></a>æ­¥éª¤7:æ·»åŠ Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--è¯»å–å¤–éƒ¨propertiesé…ç½®æ–‡ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">&quot;jdbc.properties&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--åˆ«åæ‰«æçš„åŒ…è·¯å¾„--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.itheima.domain&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ•°æ®æº--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;mysql&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;mysql&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">transactionManager</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driver&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ˜ å°„æ–‡ä»¶æ‰«æåŒ…è·¯å¾„--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.itheima.dao&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">package</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="æ­¥éª¤8-ç¼–å†™åº”ç”¨ç¨‹åº"><a href="#æ­¥éª¤8-ç¼–å†™åº”ç”¨ç¨‹åº" class="headerlink" title="æ­¥éª¤8:ç¼–å†™åº”ç”¨ç¨‹åº"></a>æ­¥éª¤8:ç¼–å†™åº”ç”¨ç¨‹åº</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 1. åˆ›å»ºSqlSessionFactoryBuilderå¯¹è±¡</span></span><br><span class="line">        <span class="type">SqlSessionFactoryBuilder</span> <span class="variable">sqlSessionFactoryBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>();</span><br><span class="line">        <span class="comment">// 2. åŠ è½½SqlMapConfig.xmlé…ç½®æ–‡ä»¶</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> Resources.getResourceAsStream(<span class="string">&quot;SqlMapConfig.xml.bak&quot;</span>);</span><br><span class="line">        <span class="comment">// 3. åˆ›å»ºSqlSessionFactoryå¯¹è±¡</span></span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">sqlSessionFactory</span> <span class="operator">=</span> sqlSessionFactoryBuilder.build(inputStream);</span><br><span class="line">        <span class="comment">// 4. è·å–SqlSession</span></span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> sqlSessionFactory.openSession();</span><br><span class="line">        <span class="comment">// 5. æ‰§è¡ŒSqlSessionå¯¹è±¡æ‰§è¡ŒæŸ¥è¯¢ï¼Œè·å–ç»“æœUser</span></span><br><span class="line">        <span class="type">AccountDao</span> <span class="variable">accountDao</span> <span class="operator">=</span> sqlSession.getMapper(AccountDao.class);</span><br><span class="line"></span><br><span class="line">        <span class="type">Account</span> <span class="variable">ac</span> <span class="operator">=</span> accountDao.findById(<span class="number">1</span>);</span><br><span class="line">        System.out.println(ac);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6. é‡Šæ”¾èµ„æº</span></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="æ­¥éª¤9-è¿è¡Œç¨‹åº"><a href="#æ­¥éª¤9-è¿è¡Œç¨‹åº" class="headerlink" title="æ­¥éª¤9:è¿è¡Œç¨‹åº"></a>æ­¥éª¤9:è¿è¡Œç¨‹åº</h5><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/1630136904087.png" alt="1630136904087"></p><h4 id="6-1-2-æ•´åˆæ€è·¯åˆ†æ"><a href="#6-1-2-æ•´åˆæ€è·¯åˆ†æ" class="headerlink" title="6.1.2 æ•´åˆæ€è·¯åˆ†æ"></a>6.1.2 æ•´åˆæ€è·¯åˆ†æ</h4><p>Mybatisçš„åŸºç¡€ç¯å¢ƒæˆ‘ä»¬å·²ç»å‡†å¤‡å¥½äº†ï¼Œæ¥ä¸‹æ¥å°±å¾—åˆ†æä¸‹åœ¨ä¸Šè¿°çš„å†…å®¹ä¸­ï¼Œå“ªäº›å¯¹è±¡å¯ä»¥äº¤ç»™Springæ¥ç®¡ç†?</p><ul><li><p>Mybatisç¨‹åºæ ¸å¿ƒå¯¹è±¡åˆ†æ</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/1630137189480.png" alt="1630137189480"></p><p>ä»å›¾ä¸­å¯ä»¥è·å–åˆ°ï¼ŒçœŸæ­£éœ€è¦äº¤ç»™Springç®¡ç†çš„æ˜¯&#x3D;&#x3D;SqlSessionFactory&#x3D;&#x3D;</p></li><li><p>æ•´åˆMybatisï¼Œå°±æ˜¯å°†Mybatisç”¨åˆ°çš„å†…å®¹äº¤ç»™Springç®¡ç†ï¼Œåˆ†æä¸‹é…ç½®æ–‡ä»¶</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/1630137388717.png" alt="1630137388717"></p><p><strong>è¯´æ˜:</strong></p><ul><li>ç¬¬ä¸€è¡Œè¯»å–å¤–éƒ¨propertiesé…ç½®æ–‡ä»¶ï¼ŒSpringæœ‰æä¾›å…·ä½“çš„è§£å†³æ–¹æ¡ˆ<code>@PropertySource</code>,éœ€è¦äº¤ç»™Spring</li><li>ç¬¬äºŒè¡Œèµ·åˆ«ååŒ…æ‰«æï¼Œä¸ºSqlSessionFactoryæœåŠ¡çš„ï¼Œéœ€è¦äº¤ç»™Spring</li><li>ç¬¬ä¸‰è¡Œä¸»è¦ç”¨äºåšè¿æ¥æ± ï¼ŒSpringä¹‹å‰æˆ‘ä»¬å·²ç»æ•´åˆäº†Druidè¿æ¥æ± ï¼Œè¿™å—ä¹Ÿéœ€è¦äº¤ç»™Spring</li><li>å‰é¢ä¸‰è¡Œä¸€èµ·éƒ½æ˜¯ä¸ºäº†åˆ›å»ºSqlSessionå¯¹è±¡ç”¨çš„ï¼Œé‚£ä¹ˆç”¨Springç®¡ç†SqlSessionå¯¹è±¡å—?å›å¿†ä¸‹SqlSessionæ˜¯ç”±SqlSessionFactoryåˆ›å»ºå‡ºæ¥çš„ï¼Œæ‰€ä»¥åªéœ€è¦å°†SqlSessionFactoryäº¤ç»™Springç®¡ç†å³å¯ã€‚</li><li>ç¬¬å››è¡Œæ˜¯Mapperæ¥å£å’Œæ˜ å°„æ–‡ä»¶[å¦‚æœä½¿ç”¨æ³¨è§£å°±æ²¡æœ‰è¯¥æ˜ å°„æ–‡ä»¶]ï¼Œè¿™ä¸ªæ˜¯åœ¨è·å–åˆ°SqlSessionä»¥åæ‰§è¡Œå…·ä½“æ“ä½œçš„æ—¶å€™ç”¨ï¼Œæ‰€ä»¥å®ƒå’ŒSqlSessionFactoryåˆ›å»ºçš„æ—¶æœºéƒ½ä¸åœ¨åŒä¸€ä¸ªæ—¶é—´ï¼Œå¯èƒ½éœ€è¦å•ç‹¬ç®¡ç†ã€‚</li></ul></li></ul><h3 id="6-2-Springæ•´åˆMybatis"><a href="#6-2-Springæ•´åˆMybatis" class="headerlink" title="6.2 Springæ•´åˆMybatis"></a>6.2 Springæ•´åˆMybatis</h3><p>å‰é¢æˆ‘ä»¬å·²ç»åˆ†æäº†Springä¸Mybatisçš„æ•´åˆï¼Œå¤§ä½“éœ€è¦åšä¸¤ä»¶äº‹ï¼Œ</p><p>ç¬¬ä¸€ä»¶äº‹æ˜¯:Springè¦ç®¡ç†MyBatisä¸­çš„SqlSessionFactory</p><p>ç¬¬äºŒä»¶äº‹æ˜¯:Springè¦ç®¡ç†Mapperæ¥å£çš„æ‰«æ</p><p>å…·ä½“è¯¥å¦‚ä½•å®ç°ï¼Œå…·ä½“çš„æ­¥éª¤ä¸º:</p><h4 id="æ­¥éª¤1-é¡¹ç›®ä¸­å¯¼å…¥æ•´åˆéœ€è¦çš„jaråŒ…"><a href="#æ­¥éª¤1-é¡¹ç›®ä¸­å¯¼å…¥æ•´åˆéœ€è¦çš„jaråŒ…" class="headerlink" title="æ­¥éª¤1:é¡¹ç›®ä¸­å¯¼å…¥æ•´åˆéœ€è¦çš„jaråŒ…"></a>æ­¥éª¤1:é¡¹ç›®ä¸­å¯¼å…¥æ•´åˆéœ€è¦çš„jaråŒ…</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Springæ“ä½œæ•°æ®åº“éœ€è¦è¯¥jaråŒ…--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">Springä¸Mybatisæ•´åˆçš„jaråŒ…</span></span><br><span class="line"><span class="comment">è¿™ä¸ªjaråŒ…mybatisåœ¨å‰é¢ï¼Œæ˜¯Mybatisæä¾›çš„</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æ­¥éª¤2-åˆ›å»ºSpringçš„ä¸»é…ç½®ç±»"><a href="#æ­¥éª¤2-åˆ›å»ºSpringçš„ä¸»é…ç½®ç±»" class="headerlink" title="æ­¥éª¤2:åˆ›å»ºSpringçš„ä¸»é…ç½®ç±»"></a>æ­¥éª¤2:åˆ›å»ºSpringçš„ä¸»é…ç½®ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é…ç½®ç±»æ³¨è§£</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="comment">//åŒ…æ‰«æï¼Œä¸»è¦æ‰«æçš„æ˜¯é¡¹ç›®ä¸­çš„AccountServiceImplç±»</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.itheima&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="æ­¥éª¤3-åˆ›å»ºæ•°æ®æºçš„é…ç½®ç±»"><a href="#æ­¥éª¤3-åˆ›å»ºæ•°æ®æºçš„é…ç½®ç±»" class="headerlink" title="æ­¥éª¤3:åˆ›å»ºæ•°æ®æºçš„é…ç½®ç±»"></a>æ­¥éª¤3:åˆ›å»ºæ•°æ®æºçš„é…ç½®ç±»</h4><p>åœ¨é…ç½®ç±»ä¸­å®Œæˆæ•°æ®æºçš„åˆ›å»º</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.driver&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String driver;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.url&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.username&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.password&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        ds.setDriverClassName(driver);</span><br><span class="line">        ds.setUrl(url);</span><br><span class="line">        ds.setUsername(userName);</span><br><span class="line">        ds.setPassword(password);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ­¥éª¤4-ä¸»é…ç½®ç±»ä¸­è¯»propertieså¹¶å¼•å…¥æ•°æ®æºé…ç½®ç±»"><a href="#æ­¥éª¤4-ä¸»é…ç½®ç±»ä¸­è¯»propertieså¹¶å¼•å…¥æ•°æ®æºé…ç½®ç±»" class="headerlink" title="æ­¥éª¤4:ä¸»é…ç½®ç±»ä¸­è¯»propertieså¹¶å¼•å…¥æ•°æ®æºé…ç½®ç±»"></a>æ­¥éª¤4:ä¸»é…ç½®ç±»ä¸­è¯»propertieså¹¶å¼•å…¥æ•°æ®æºé…ç½®ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.itheima&quot;)</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;classpath:jdbc.properties&quot;)</span></span><br><span class="line"><span class="meta">@Import(JdbcConfig.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="æ­¥éª¤5-åˆ›å»ºMybatisé…ç½®ç±»å¹¶é…ç½®SqlSessionFactory"><a href="#æ­¥éª¤5-åˆ›å»ºMybatisé…ç½®ç±»å¹¶é…ç½®SqlSessionFactory" class="headerlink" title="æ­¥éª¤5:åˆ›å»ºMybatisé…ç½®ç±»å¹¶é…ç½®SqlSessionFactory"></a>æ­¥éª¤5:åˆ›å»ºMybatisé…ç½®ç±»å¹¶é…ç½®SqlSessionFactory</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisConfig</span> &#123;</span><br><span class="line">    <span class="comment">//å®šä¹‰beanï¼ŒSqlSessionFactoryBeanï¼Œç”¨äºäº§ç”ŸSqlSessionFactoryå¯¹è±¡</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SqlSessionFactoryBean <span class="title function_">sqlSessionFactory</span><span class="params">(DataSource dataSource)</span>&#123;</span><br><span class="line">        <span class="type">SqlSessionFactoryBean</span> <span class="variable">ssfb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBean</span>();</span><br><span class="line">        <span class="comment">//è®¾ç½®æ¨¡å‹ç±»çš„åˆ«åæ‰«æ</span></span><br><span class="line">        ssfb.setTypeAliasesPackage(<span class="string">&quot;com.itheima.domain&quot;</span>);</span><br><span class="line">        <span class="comment">//è®¾ç½®æ•°æ®æº</span></span><br><span class="line">        ssfb.setDataSource(dataSource);</span><br><span class="line">        <span class="keyword">return</span> ssfb;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å®šä¹‰beanï¼Œè¿”å›MapperScannerConfigurerå¯¹è±¡</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MapperScannerConfigurer <span class="title function_">mapperScannerConfigurer</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">MapperScannerConfigurer</span> <span class="variable">msc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MapperScannerConfigurer</span>();</span><br><span class="line">        msc.setBasePackage(<span class="string">&quot;com.itheima.dao&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> msc;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¯´æ˜:</strong></p><ul><li><p>ä½¿ç”¨SqlSessionFactoryBeanå°è£…SqlSessionFactoryéœ€è¦çš„ç¯å¢ƒä¿¡æ¯</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/1630138835057.png" alt="1630138835057"></p><ul><li>SqlSessionFactoryBeanæ˜¯å‰é¢æˆ‘ä»¬è®²è§£FactoryBeançš„ä¸€ä¸ªå­ç±»ï¼Œåœ¨è¯¥ç±»ä¸­å°†SqlSessionFactoryçš„åˆ›å»ºè¿›è¡Œäº†å°è£…ï¼Œç®€åŒ–å¯¹è±¡çš„åˆ›å»ºï¼Œæˆ‘ä»¬åªéœ€è¦å°†å…¶éœ€è¦çš„å†…å®¹è®¾ç½®å³å¯ã€‚</li><li>æ–¹æ³•ä¸­æœ‰ä¸€ä¸ªå‚æ•°ä¸ºdataSource,å½“å‰Springå®¹å™¨ä¸­å·²ç»åˆ›å»ºäº†Druidæ•°æ®æºï¼Œç±»å‹åˆšå¥½æ˜¯DataSourceç±»å‹ï¼Œæ­¤æ—¶åœ¨åˆå§‹åŒ–SqlSessionFactoryBeanè¿™ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œå‘ç°éœ€è¦ä½¿ç”¨DataSourceå¯¹è±¡ï¼Œè€Œå®¹å™¨ä¸­åˆšå¥½æœ‰è¿™ä¹ˆä¸€ä¸ªå¯¹è±¡ï¼Œå°±è‡ªåŠ¨åŠ è½½äº†DruidDataSourceå¯¹è±¡ã€‚</li></ul></li><li><p>ä½¿ç”¨MapperScannerConfigureråŠ è½½Daoæ¥å£ï¼Œåˆ›å»ºä»£ç†å¯¹è±¡ä¿å­˜åˆ°IOCå®¹å™¨ä¸­</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/1630138916939.png" alt="1630138916939"></p><ul><li>è¿™ä¸ªMapperScannerConfigurerå¯¹è±¡ä¹Ÿæ˜¯MyBatisæä¾›çš„ä¸“ç”¨äºæ•´åˆçš„jaråŒ…ä¸­çš„ç±»ï¼Œç”¨æ¥å¤„ç†åŸå§‹é…ç½®æ–‡ä»¶ä¸­çš„mappersç›¸å…³é…ç½®ï¼ŒåŠ è½½æ•°æ®å±‚çš„Mapperæ¥å£ç±»</li><li>MapperScannerConfigureræœ‰ä¸€ä¸ªæ ¸å¿ƒå±æ€§basePackageï¼Œå°±æ˜¯ç”¨æ¥è®¾ç½®æ‰€æ‰«æçš„åŒ…è·¯å¾„</li></ul></li></ul><h4 id="æ­¥éª¤6-ä¸»é…ç½®ç±»ä¸­å¼•å…¥Mybatisé…ç½®ç±»"><a href="#æ­¥éª¤6-ä¸»é…ç½®ç±»ä¸­å¼•å…¥Mybatisé…ç½®ç±»" class="headerlink" title="æ­¥éª¤6:ä¸»é…ç½®ç±»ä¸­å¼•å…¥Mybatisé…ç½®ç±»"></a>æ­¥éª¤6:ä¸»é…ç½®ç±»ä¸­å¼•å…¥Mybatisé…ç½®ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.itheima&quot;)</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;classpath:jdbc.properties&quot;)</span></span><br><span class="line"><span class="meta">@Import(&#123;JdbcConfig.class,MybatisConfig.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ­¥éª¤7-ç¼–å†™è¿è¡Œç±»"><a href="#æ­¥éª¤7-ç¼–å†™è¿è¡Œç±»" class="headerlink" title="æ­¥éª¤7:ç¼–å†™è¿è¡Œç±»"></a>æ­¥éª¤7:ç¼–å†™è¿è¡Œç±»</h4><p>åœ¨è¿è¡Œç±»ä¸­ï¼Œä»IOCå®¹å™¨ä¸­è·å–Serviceå¯¹è±¡ï¼Œè°ƒç”¨æ–¹æ³•è·å–ç»“æœ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(SpringConfig.class);</span><br><span class="line"></span><br><span class="line">        <span class="type">AccountService</span> <span class="variable">accountService</span> <span class="operator">=</span> ctx.getBean(AccountService.class);</span><br><span class="line"></span><br><span class="line">        <span class="type">Account</span> <span class="variable">ac</span> <span class="operator">=</span> accountService.findById(<span class="number">1</span>);</span><br><span class="line">        System.out.println(ac);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="æ­¥éª¤8-è¿è¡Œç¨‹åº"><a href="#æ­¥éª¤8-è¿è¡Œç¨‹åº" class="headerlink" title="æ­¥éª¤8:è¿è¡Œç¨‹åº"></a>æ­¥éª¤8:è¿è¡Œç¨‹åº</h4><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/1630139036627.png" alt="1630139036627"></p><p>æ”¯æŒSpringä¸Mybatisçš„æ•´åˆå°±å·²ç»å®Œæˆäº†ï¼Œå…¶ä¸­ä¸»è¦ç”¨åˆ°çš„ä¸¤ä¸ªç±»åˆ†åˆ«æ˜¯:</p><ul><li>&#x3D;&#x3D;SqlSessionFactoryBean&#x3D;&#x3D;</li><li>&#x3D;&#x3D;MapperScannerConfigurer&#x3D;&#x3D;</li></ul>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åç«¯å¼€å‘é…ç½®</title>
      <link href="/2023/11/05/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E5%9D%97/"/>
      <url>/2023/11/05/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E5%9D%97/</url>
      
        <content type="html"><![CDATA[<h2 id="Javaå®ç°è·¨åŸŸæ–¹å¼"><a href="#Javaå®ç°è·¨åŸŸæ–¹å¼" class="headerlink" title="Javaå®ç°è·¨åŸŸæ–¹å¼"></a>Javaå®ç°è·¨åŸŸæ–¹å¼</h2><p>ä¸€ã€ä»€ä¹ˆæ˜¯è·¨åŸŸï¼Ÿä¸ºä»€ä¹ˆä¼šå‡ºç°è·¨åŸŸ</p><ul><li><p>å®šä¹‰</p><ul><li>è·¨åŸŸï¼ˆCORSï¼‰æ˜¯æŒ‡ä¸åŒåŸŸåä¹‹é—´ç›¸äº’è®¿é—®ã€‚è·¨åŸŸï¼ŒæŒ‡çš„æ˜¯æµè§ˆå™¨ä¸èƒ½æ‰§è¡Œå…¶ä»–ç½‘ç«™çš„è„šæœ¬ï¼Œå®ƒæ˜¯ç”±æµè§ˆå™¨çš„åŒæºç­–ç•¥æ‰€é€ æˆçš„ï¼Œæ˜¯æµè§ˆå™¨å¯¹äºJavaScriptæ‰€å®šä¹‰çš„å®‰å…¨é™åˆ¶ç­–ç•¥ã€‚<br>å½“ä¸€ä¸ªè¯·æ±‚urlçš„åè®®ã€åŸŸåã€ç«¯å£ä¸‰è€…ä¹‹é—´ä»»æ„ä¸€ä¸ªä¸å½“å‰é¡µé¢urlä¸åŒå³ä¸ºè·¨åŸŸã€‚</li></ul></li><li><p>åŸå› </p><ul><li>åœ¨å‰åç«¯åˆ†ç¦»çš„æ¨¡å¼ä¸‹ï¼Œå‰åç«¯çš„åŸŸåæ˜¯ä¸ä¸€è‡´çš„ï¼Œæ­¤æ—¶å°±ä¼šå‘ç”Ÿè·¨åŸŸè®¿é—®é—®é¢˜ã€‚åœ¨è¯·æ±‚çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬è¦æƒ³å›å»æ•°æ®ä¸€èˆ¬éƒ½æ˜¯post&#x2F;getè¯·æ±‚ï¼Œæ‰€ä»¥â€¦<a href="https://so.csdn.net/so/search?q=%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98&spm=1001.2101.3001.7020">è·¨åŸŸé—®é¢˜</a>å‡ºç°ã€‚</li><li>è·¨åŸŸé—®é¢˜æ¥æºäºJavaScriptçš„åŒæºç­–ç•¥ï¼Œå³åªæœ‰ åè®®+ä¸»æœºå+ç«¯å£å·(å¦‚å­˜åœ¨)ç›¸åŒï¼Œåˆ™å…è®¸ç›¸äº’è®¿é—®ã€‚ä¹Ÿå°±æ˜¯è¯´JavaScriptåªèƒ½è®¿é—®å’Œæ“ä½œè‡ªå·±åŸŸä¸‹çš„èµ„æºï¼Œä¸èƒ½è®¿é—®å’Œæ“ä½œå…¶ä»–åŸŸä¸‹çš„èµ„æºã€‚è·¨åŸŸé—®é¢˜æ˜¯é’ˆå¯¹JSå’Œajaxçš„ï¼Œhtmlæœ¬èº«æ²¡æœ‰è·¨åŸŸé—®é¢˜ï¼Œæ¯”å¦‚aæ ‡ç­¾ã€scriptæ ‡ç­¾ã€ç”šè‡³formæ ‡ç­¾ï¼ˆå¯ä»¥ç›´æ¥è·¨åŸŸå‘é€æ•°æ®å¹¶æ¥æ”¶æ•°æ®ï¼‰ç­‰</li></ul></li><li><p>ä»€ä¹ˆæƒ…å†µä¼šè·¨åŸŸ</p><ul><li>åŒä¸€åè®®ï¼Œ å¦‚httpæˆ–https</li><li>åŒä¸€IPåœ°å€, å¦‚127.0.0.1</li><li>åŒä¸€ç«¯å£, å¦‚8080<br>ä»¥ä¸Šä¸‰ä¸ªæ¡ä»¶ä¸­æœ‰ä¸€ä¸ªæ¡ä»¶ä¸åŒå°±ä¼šäº§ç”Ÿè·¨åŸŸé—®é¢˜ã€‚</li></ul></li></ul><h3 id="è·¨åŸŸä¹‹CorsFilter"><a href="#è·¨åŸŸä¹‹CorsFilter" class="headerlink" title="è·¨åŸŸä¹‹CorsFilter"></a>è·¨åŸŸä¹‹CorsFilter</h3><p><code>CorsFilter</code> æ˜¯ Spring æ¡†æ¶æä¾›çš„ä¸€ä¸ªç”¨äºå¤„ç†<a href="https://so.csdn.net/so/search?q=%E8%B7%A8%E5%9F%9F%E8%AF%B7%E6%B1%82&spm=1001.2101.3001.7020">è·¨åŸŸè¯·æ±‚</a>çš„è¿‡æ»¤å™¨ã€‚åœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦å¤„ç†å‰ç«¯å‘æ¥çš„è·¨åŸŸè¯·æ±‚ï¼Œ<code>CorsFilter</code> å°±å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®ç°è¿™ä¸€åŠŸèƒ½ã€‚</p><p><code>CorsFilter</code> ä¸»è¦ç”¨äºè®¾ç½®è·¨åŸŸè¯·æ±‚çš„å“åº”å¤´ï¼Œä»¥å…è®¸è·¨åŸŸè¯·æ±‚èƒ½å¤Ÿè¢«æˆåŠŸå¤„ç†ã€‚å…·ä½“æ¥è¯´ï¼Œ<code>CorsFilter</code> å¯ä»¥è®¾ç½®ä»¥ä¸‹å“åº”å¤´ï¼š</p><ul><li>Access-Control-Allow-Originï¼šå…è®¸è®¿é—®çš„æºåœ°å€ï¼›</li><li>Access-Control-Allow-Methodsï¼šå…è®¸è®¿é—®çš„è¯·æ±‚æ–¹æ³•ï¼›</li><li>Access-Control-Allow-Headersï¼šå…è®¸è®¿é—®çš„è¯·æ±‚å¤´ï¼›</li><li>Access-Control-Allow-Credentialsï¼šæ˜¯å¦å…è®¸å‘é€ Cookie ç­‰èº«ä»½å‡­è¯ï¼›</li><li>Access-Control-Max-Ageï¼šç¼“å­˜é¢„æ£€è¯·æ±‚çš„æ—¶é—´ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.cors.CorsConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.cors.UrlBasedCorsConfigurationSource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.filter.CorsFilter;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CorsConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> CorsFilter <span class="title function_">corsFilter</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">UrlBasedCorsConfigurationSource</span> <span class="variable">source</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UrlBasedCorsConfigurationSource</span>();</span><br><span class="line">        <span class="type">CorsConfiguration</span> <span class="variable">corsConfiguration</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CorsConfiguration</span>();</span><br><span class="line">        corsConfiguration.addAllowedOrigin(<span class="string">&quot;*&quot;</span>); <span class="comment">// 1 è®¾ç½®è®¿é—®æºåœ°å€</span></span><br><span class="line">        corsConfiguration.addAllowedHeader(<span class="string">&quot;*&quot;</span>); <span class="comment">// 2 è®¾ç½®è®¿é—®æºè¯·æ±‚å¤´</span></span><br><span class="line">        corsConfiguration.addAllowedMethod(<span class="string">&quot;*&quot;</span>); <span class="comment">// 3 è®¾ç½®è®¿é—®æºè¯·æ±‚æ–¹æ³•</span></span><br><span class="line">        source.registerCorsConfiguration(<span class="string">&quot;/**&quot;</span>, corsConfiguration); <span class="comment">// 4 å¯¹æ¥å£é…ç½®è·¨åŸŸè®¾ç½®</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">CorsFilter</span>(source);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h2 id="Javaå®ç°Result"><a href="#Javaå®ç°Result" class="headerlink" title="Javaå®ç°Result"></a>Javaå®ç°Result</h2><p>Result: Resultç±»çš„ç¼–å†™æ–¹å¼ï¼Œæœ€ä¸»è¦çš„åŠŸèƒ½å°±æ˜¯ä¸ºäº†å‘å‰ç«¯å‘é€æ•°æ®çš„æ—¶å€™èƒ½å¤Ÿæ›´é«˜æ•ˆå¿«æ·ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springmvc.demo.commen.vo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span> <span class="comment">//æ— å‚æ„é€ </span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span> <span class="comment">//å…¨å‚æ„é€ </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Result</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line">    <span class="keyword">private</span> T data;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">success</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>&lt;&gt;(<span class="number">200</span>,<span class="string">&quot;success&quot;</span>,<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">success</span><span class="params">(T data)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>&lt;&gt;(<span class="number">200</span>,<span class="string">&quot;success&quot;</span>,data);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">success</span><span class="params">(T data,String message)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>&lt;&gt;(<span class="number">200</span>,message,data);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">success</span><span class="params">(String message)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>&lt;&gt;(<span class="number">200</span>,message,<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">fail</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>&lt;&gt;(<span class="number">201</span>,<span class="string">&quot;success&quot;</span>,<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">fail</span><span class="params">(Integer code)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>&lt;&gt;(code,<span class="string">&quot;success&quot;</span>,<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">fail</span><span class="params">(Integer code,String message)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>&lt;&gt;(code,message,<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">fail</span><span class="params">(String message)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>&lt;&gt;(<span class="number">201</span>,message,<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="å®ç°è‡ªåŠ¨å¡«è£…åˆ›å»ºæ—¶é—´å’Œæ›´æ–°æ—¶é—´-å·¥å…·ç±»"><a href="#å®ç°è‡ªåŠ¨å¡«è£…åˆ›å»ºæ—¶é—´å’Œæ›´æ–°æ—¶é—´-å·¥å…·ç±»" class="headerlink" title="å®ç°è‡ªåŠ¨å¡«è£…åˆ›å»ºæ—¶é—´å’Œæ›´æ–°æ—¶é—´(å·¥å…·ç±»)"></a>å®ç°è‡ªåŠ¨å¡«è£…åˆ›å»ºæ—¶é—´å’Œæ›´æ–°æ—¶é—´(å·¥å…·ç±»)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springmvc.demo.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.handlers.MetaObjectHandler;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.reflection.MetaObject;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span> <span class="comment">//æ—¥å¿—</span></span><br><span class="line"><span class="meta">@Component</span><span class="comment">//ä»¥ç»„ä»¶çš„å½¢å¼æŠŠè¿™ä¸ªå¤„ç†å™¨æ³¨å†Œåˆ°IOCå®¹å™¨ä¸­</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyMetaObjectHandler</span> <span class="keyword">implements</span> <span class="title class_">MetaObjectHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ’å…¥æ—¶å¯åŠ¨  ç¬¬ä¸‰ä¸ªå‚æ•° LocalDateTime ä¸€å®šè¦å’Œ createTimeæˆå‘˜å˜é‡çš„å€¼çš„ç±»å‹ä¸€è‡´ï¼Œä¸ç„¶æ˜¯null å¦‚æœæ˜¯dateå°±éƒ½è®¾ç½®date</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertFill</span><span class="params">(MetaObject metaObject)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;start insert fill ....&quot;</span>);</span><br><span class="line">        <span class="built_in">this</span>.strictInsertFill(metaObject, <span class="string">&quot;createTime&quot;</span>, LocalDateTime.class, LocalDateTime.now()); <span class="comment">// èµ·å§‹ç‰ˆæœ¬ 3.3.0(æ¨èä½¿ç”¨)</span></span><br><span class="line">        <span class="built_in">this</span>.strictUpdateFill(metaObject, <span class="string">&quot;updateTime&quot;</span>, LocalDateTime.class, LocalDateTime.now()); <span class="comment">// èµ·å§‹ç‰ˆæœ¬ 3.3.0(æ¨è)</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ›´æ–°æ—¶å€™å¯åŠ¨</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateFill</span><span class="params">(MetaObject metaObject)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;start update fill ....&quot;</span>);</span><br><span class="line">        <span class="built_in">this</span>.strictUpdateFill(metaObject, <span class="string">&quot;updateTime&quot;</span>, LocalDateTime.class, LocalDateTime.now()); <span class="comment">// èµ·å§‹ç‰ˆæœ¬ 3.3.0(æ¨è)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨å®ä½“ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springmvc.demo.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.*;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDateTime;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * &lt;/p&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> owc</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2023-11-03</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@TableName(&quot;o_user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="meta">@TableId(value = &quot;userId&quot;, type = IdType.AUTO)</span></span><br><span class="line">    <span class="keyword">private</span> Integer userId;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT ,value = &quot;create_time&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime createTime;</span><br><span class="line">    <span class="meta">@TableField(fill = FieldFill.INSERT_UPDATE ,value = &quot;update_time&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> LocalDateTime updateTime;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h2 id="application-yml"><a href="#application-yml" class="headerlink" title="application.yml"></a>application.yml</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åº”ç”¨æœåŠ¡ WEB è®¿é—®ç«¯å£</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8888</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">123qwe</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/test1?characterEncoding=UTF-8&amp;useSSL=false&amp;useUnicode=true</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line"></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="attr">com.ouwen:</span> <span class="string">info</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="attr">table-prefix:</span> <span class="string">o_</span></span><br><span class="line">      <span class="attr">id-type:</span> <span class="string">auto</span></span><br></pre></td></tr></table></figure><h2 id="mybatis-config-xml"><a href="#mybatis-config-xml" class="headerlink" title="mybatis-config.xml"></a>mybatis-config.xml</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--setttings:æ§åˆ¶mybatiså…¨å±€é…ç½®è¡Œä¸º--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--è®¾ç½®mybatisè¾“å‡ºæ—¥å¿—--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;logImpl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;STDOUT_LOGGING&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å¼€å¯é©¼å³°å‘½åè½¬æ¢ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;mapUnderscoreToCamelCase&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ç¯å¢ƒé…ç½®ï¼šæ•°æ®åº“çš„è¿æ¥ä¿¡æ¯--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--defaultï¼šä¸­é…ç½®çš„å€¼éœ€è¦å’ŒæŸä¸ªenvironmenté…ç½®çš„idç›¸åŒï¼Œ</span></span><br><span class="line"><span class="comment">        é€šçŸ¥mybatisä½¿ç”¨å…·ä½“å“ªä¸€ä¸ªæ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ï¼Œå³å…·ä½“è®¿é—®å¯¹åº”çš„æ•°æ®åº“--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--environment:ä¸€ä¸ªæ•°æ®åº“ä¿¡æ¯çš„é…ç½®ï¼Œç¯å¢ƒ--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--idå±æ€§ï¼šä¸€ä¸ªå”¯ä¸€å€¼ï¼Œè‡ªå®šä¹‰ï¼Œè¡¨ç¤ºç¯å¢ƒçš„åç§°--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--transactionManagerå±æ€§ï¼šmybatisçš„äº‹åŠ¡ç±»å‹--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span> /&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--dataSoureå±æ€§ï¼šä»£è¡¨æ•°æ®æºï¼Œè¿æ¥æ•°æ®åº“--&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--typeå±æ€§:JDBC è¡¨ç¤ºä½¿ç”¨çš„æ˜¯ä½¿ç”¨è¿æ¥æ± çš„æ•°æ®æº--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--é…ç½®é©±åŠ¨--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--é…ç½®è¿æ¥æ•°æ®åº“çš„urlå­—ç¬¦ä¸²--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/test&quot;</span>/&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--é…ç½®è¿æ¥æ•°æ®åº“çš„ç”¨æˆ·å--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--é…ç½®è¿æ¥æ•°æ®åº“çš„å¯†ç --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123qwe&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--sqlæ˜ å°„æ–‡ä»¶æ ‡ç­¾--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--reourceï¼šä»ç±»è·¯å¾„å¼€å§‹çš„è·¯å¾„ä¿¡æ¯ï¼štarget/clasess(ç±»è·¯å¾„)--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mapper/**.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="CodeGenerator"><a href="#CodeGenerator" class="headerlink" title="CodeGenerator"></a>CodeGenerator</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springmvc.demo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.FastAutoGenerator;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.OutputFile;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.rules.DbColumnType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.engine.FreemarkerTemplateEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Types;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CodeGenerator</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql:///test1&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">&quot;123qwe&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">moduleName</span> <span class="operator">=</span> <span class="string">&quot;demo&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">mapperLocation</span> <span class="operator">=</span> <span class="string">&quot;C:\\Users\\DIO\\Desktop\\å¤§å­¦\\å¤§ä¸‰ä¸Š\\é¢å‘å¯¹è±¡\\Spring MVC\\demo\\src\\main\\resources\\mapper\\&quot;</span> + moduleName;</span><br><span class="line">        <span class="type">String</span> <span class="variable">tables</span> <span class="operator">=</span> <span class="string">&quot;o_user&quot;</span>;</span><br><span class="line">        FastAutoGenerator.create(url, username, password)</span><br><span class="line">                .globalConfig(builder -&gt; &#123;</span><br><span class="line">                    builder.author(<span class="string">&quot;owc&quot;</span>) <span class="comment">// è®¾ç½®ä½œè€…</span></span><br><span class="line">                            <span class="comment">//.enableSwagger() // å¼€å¯ swagger æ¨¡å¼</span></span><br><span class="line">                            <span class="comment">//.fileOverride() // è¦†ç›–å·²ç”Ÿæˆæ–‡ä»¶</span></span><br><span class="line">                            .outputDir(<span class="string">&quot;C:\\Users\\DIO\\Desktop\\å¤§å­¦\\å¤§ä¸‰ä¸Š\\é¢å‘å¯¹è±¡\\Spring MVC\\demo\\src\\main\\java&quot;</span>); <span class="comment">// æŒ‡å®šè¾“å‡ºç›®å½•</span></span><br><span class="line">                &#125;)</span><br><span class="line">                .dataSourceConfig(builder -&gt; builder.typeConvertHandler((globalConfig, typeRegistry, metaInfo) -&gt; &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">typeCode</span> <span class="operator">=</span> metaInfo.getJdbcType().TYPE_CODE;</span><br><span class="line">                    <span class="keyword">if</span> (typeCode == Types.SMALLINT) &#123;</span><br><span class="line">                        <span class="comment">// è‡ªå®šä¹‰ç±»å‹è½¬æ¢</span></span><br><span class="line">                        <span class="keyword">return</span> DbColumnType.INTEGER;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">return</span> typeRegistry.getColumnType(metaInfo);</span><br><span class="line"></span><br><span class="line">                &#125;))</span><br><span class="line">                .packageConfig(builder -&gt; &#123;</span><br><span class="line">                    builder.parent(<span class="string">&quot;com.springmvc&quot;</span>) <span class="comment">// è®¾ç½®çˆ¶åŒ…å</span></span><br><span class="line">                            .moduleName(moduleName) <span class="comment">// è®¾ç½®çˆ¶åŒ…æ¨¡å—å</span></span><br><span class="line">                            .pathInfo(Collections.singletonMap(OutputFile.xml, mapperLocation)); <span class="comment">// è®¾ç½®mapperXmlç”Ÿæˆè·¯å¾„</span></span><br><span class="line">                &#125;)</span><br><span class="line">                .strategyConfig(builder -&gt; &#123;</span><br><span class="line">                    builder.addInclude(tables) <span class="comment">// è®¾ç½®éœ€è¦ç”Ÿæˆçš„è¡¨å</span></span><br><span class="line">                            .addTablePrefix(<span class="string">&quot;o_&quot;</span>); <span class="comment">// è®¾ç½®è¿‡æ»¤è¡¨å‰ç¼€</span></span><br><span class="line">                &#125;)</span><br><span class="line">                .templateEngine(<span class="keyword">new</span> <span class="title class_">FreemarkerTemplateEngine</span>()) <span class="comment">// ä½¿ç”¨Freemarkerå¼•æ“æ¨¡æ¿ï¼Œé»˜è®¤çš„æ˜¯Velocityå¼•æ“æ¨¡æ¿</span></span><br><span class="line">                .execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--mybatis--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-freemarker<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.3.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¾·é²ä¼Š è¿æ¥æ±  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--mybatisplus--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-generator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ·»åŠ  æ¨¡æ¿å¼•æ“ ä¾èµ– --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.velocity<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>velocity-engine-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.microsoft.sqlserver<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mssql-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.31<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- springbootæµ‹è¯•ç±» --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mybatis </tag>
            
            <tag> SpringBoot </tag>
            
            <tag> SpringMVC </tag>
            
            <tag> MybatisPlus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBootç¬”è®°</title>
      <link href="/2023/11/05/spring/SpringBoot%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/11/05/spring/SpringBoot%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="Spring-Bootä½¿ç”¨slf4jè¿›è¡Œæ—¥å¿—è®°å½•"><a href="#Spring-Bootä½¿ç”¨slf4jè¿›è¡Œæ—¥å¿—è®°å½•" class="headerlink" title="Spring Bootä½¿ç”¨slf4jè¿›è¡Œæ—¥å¿—è®°å½•"></a>Spring Bootä½¿ç”¨slf4jè¿›è¡Œæ—¥å¿—è®°å½•</h2><p>åœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨ System.out.println() æ¥æ‰“å°ä¸€äº›ä¿¡æ¯ï¼Œä½†æ˜¯è¿™æ ·ä¸å¥½ï¼Œå› ä¸ºå¤§é‡çš„ä½¿ç”¨ System.out ä¼šå¢åŠ èµ„æºçš„æ¶ˆè€—ã€‚æˆ‘ä»¬å®é™…é¡¹ç›®ä¸­ä½¿ç”¨çš„æ˜¯ slf4j çš„ logback æ¥è¾“å‡ºæ—¥å¿—ï¼Œæ•ˆç‡æŒºé«˜çš„ï¼ŒSpring Boot æä¾›äº†ä¸€å¥—æ—¥å¿—ç³»ç»Ÿï¼Œlogback æ˜¯æœ€ä¼˜çš„é€‰æ‹©ã€‚</p><p><strong>1.ç®€ä»‹</strong><br>å®˜ç½‘ï¼š<a href="https://www.slf4j.org/manual.html">https://www.slf4j.org/manual.html</a><br>(1)ç®€å•æ—¥è®°é—¨é¢(simple logging Facade for Java)SLF4Jæ˜¯ä¸ºå„ç§loging APIsæä¾›ä¸€ä¸ªç®€å•ç»Ÿä¸€çš„æ¥å£ã€‚</p><p>(2)slf4jå¹¶ä¸æ˜¯ä¸€ç§å…·ä½“çš„æ—¥å¿—ç³»ç»Ÿï¼Œè€Œæ˜¯ä¸€ä¸ªç”¨æˆ·æ—¥å¿—ç³»ç»Ÿçš„facadeã€‚</p><p>(3)åœ¨éƒ¨ç½²æ—¶ï¼Œé€‰æ‹©ä¸åŒçš„æ—¥å¿—ç³»ç»ŸåŒ…ï¼Œå³å¯è‡ªåŠ¨è½¬æ¢åˆ°ä¸åŒçš„æ—¥å¿—ç³»ç»Ÿä¸Šã€‚<br>å¦‚ï¼šé€‰æ‹©JDKè‡ªå¸¦çš„æ—¥å¿—ç³»ç»Ÿï¼Œåˆ™åªéœ€è¦å°†slf4j-api-XXX.jarå’Œslf4j-jdkXXX.jaræ”¾ç½®åˆ°classpathä¸­å³å¯ï¼Œè‹¥æƒ³æ¢æˆlog4jçš„æ—¥å¿—ç³»ç»Ÿï¼Œä»…éœ€è¦ç”¨slf4j-log4jXXx.jaræ›¿æ¢slf4j-jdkXXX.jarå³å¯</p><p>(4)slf4jå’Œlog4jæ¯”è¾ƒ:<br>â‘ log4jçœ‹æˆæ˜¯ä¸€ä¸ªå®Œæ•´çš„æ—¥å¿—åº“ï¼›è€Œslf4jæ˜¯ä¸€ä¸ªæ—¥å¿—åº“çš„è§„èŒƒæ¥å£,å¯ä»¥æ ¹æ®ä¸åŒçš„æ—¥å¿—åŒ…ä½¿ç”¨ä¸åŒçš„æ—¥å¿—åº“ã€‚<br>â‘¡æ—¥å¿—ä¸­éœ€è¦ä¼ å…¥å‚æ•°æ—¶ï¼Œlog4jä¸€èˆ¬æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²è¿›è¡Œæ‹¼æ¥çš„æ–¹å¼;<br>slf4jä½¿ç”¨å ä½ç¬¦ï¼Œæ¯”å­—ç¬¦ä¸²æ‹¼æ¥æ›´åŠ é«˜æ•ˆã€‚å¦‚logger.error(â€œsqlä¸º {} â€œ,sql)ã€‚</p><p>(5)slf4jæ—¥å¿—çº§åˆ«<br>Slf4jæ—¥å¿—çº§åˆ«,çº§åˆ«ç”±ä½åˆ°é«˜ï¼Œè®¾ç½®çš„çº§åˆ«çº¦ä½ï¼Œæ‰“å°çš„æ—¥å¿—è¶Šå¤š<br>â‘ trace: ä¸€èˆ¬ä¸ä¼šä½¿ç”¨ï¼Œåœ¨æ—¥å¿—é‡Œè¾¹ä¹Ÿä¸ä¼šæ‰“å°å‡ºæ¥ï¼Œæœ€ä½çš„ä¸€ä¸ªæ—¥å¿—çº§åˆ«ã€‚<br>â‘¡debug: ä¸€èˆ¬æ”¾äºç¨‹åºçš„æŸä¸ªå…³é”®ç‚¹çš„åœ°æ–¹ï¼Œç”¨äºæ‰“å°ä¸€ä¸ªå˜é‡å€¼æˆ–è€…ä¸€ä¸ªæ–¹æ³•è¿”å›çš„ä¿¡æ¯ä¹‹ç±»çš„ä¿¡æ¯<br>â‘¢info ä¸€èˆ¬å¤„ç†ä¸šåŠ¡é€»è¾‘çš„æ—¶å€™ä½¿ç”¨ï¼Œå°±è·Ÿ system.erræ‰“å°ä¸€æ ·ï¼Œç”¨äºè¯´æ˜æ­¤å¤„æ˜¯å¹²ä»€ä¹ˆçš„ã€‚<br>â‘£warnï¼šè­¦å‘Šï¼Œä¸ä¼šå½±å“ç¨‹åºçš„è¿è¡Œï¼Œä½†æ˜¯å€¼å¾—æ³¨æ„ã€‚<br>â‘¤errorï¼š ç”¨æˆ·ç¨‹åºæŠ¥é”™ï¼Œå¿…é¡»è§£å†³çš„æ—¶å€™ä½¿ç”¨æ­¤çº§åˆ«æ‰“å°æ—¥å¿—ã€‚</p><h3 id="2-ä½¿ç”¨æ•™ç¨‹"><a href="#2-ä½¿ç”¨æ•™ç¨‹" class="headerlink" title="2.ä½¿ç”¨æ•™ç¨‹"></a>2.ä½¿ç”¨æ•™ç¨‹</h3><p>å®˜ç½‘ä¸Šæœ€æ–°ç¨³å®šç‰ˆæ˜¯1.7.32ï¼Œå‰é˜µå­log4jå‡ºé‡å¤§æ¼æ´äº†ï¼Œè¿™é‡Œæˆ‘ä»¬é…åˆlogbackï¼ˆlog4jçš„æ”¹è‰¯ç‰ˆï¼Œæ€§èƒ½æ›´å¥½ï¼‰ä½¿ç”¨ã€‚<br><strong>(1)åœ¨pom.xmlå¼•å…¥ä¾èµ–</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--slf4jä¾èµ–--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.32<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- logback ä¾èµ– --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>(2)åœ¨springBooté¡¹ç›®ä¸­æ·»åŠ ä¸€æ®µcontrollerä»£ç </strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.springtest.controller;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VisualController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LoggerFactory.getLogger(VisualController.class);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value=&quot;/test&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> <span class="string">&quot;fucking good&quot;</span>;</span><br><span class="line">        logger.info(<span class="string">&quot;slf4j print info msg:&#123;&#125;&quot;</span>,msg);</span><br><span class="line">        logger.debug(<span class="string">&quot;slf4j print debug msg:&#123;&#125;&quot;</span>,msg);</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œé€šè¿‡<a href="http://localhost:8080/test%E8%AE%BF%E9%97%AE%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%87%BA%E5%A6%82%E4%B8%8B%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%88%B0info%E7%9A%84%E8%BE%93%E5%87%BA%E4%BA%86%EF%BC%8Cdebug%E6%B2%A1%E6%9C%89%EF%BC%8C%E5%9B%A0%E4%B8%BAspringboot%E5%86%85%E9%83%A8%E9%9B%86%E6%88%90%E4%BA%86slf4j%EF%BC%8C%E9%BB%98%E8%AE%A4%E6%98%AFinfo%E7%BA%A7%E5%88%AB%EF%BC%9A">http://localhost:8080/testè®¿é—®å¯ä»¥çœ‹åˆ°æ§åˆ¶å°è¾“å‡ºå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°infoçš„è¾“å‡ºäº†ï¼Œdebugæ²¡æœ‰ï¼Œå› ä¸ºspringbootå†…éƒ¨é›†æˆäº†slf4jï¼Œé»˜è®¤æ˜¯infoçº§åˆ«ï¼š</a></p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20231105020845.png"></p><p><strong>(3)åªåœ¨æ§åˆ¶å°æ‰“å°ï¼Œapplication.ymlæ–‡ä»¶é…ç½®å¦‚ä¸‹ï¼š</strong></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># slf4jæ—¥å¿—é…ç½®</span></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="comment"># é…ç½®çº§åˆ«</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="attr">root:</span> <span class="string">info</span></span><br><span class="line">    <span class="comment">#åˆ†åŒ…é…ç½®çº§åˆ«ï¼Œå³ä¸åŒçš„ç›®å½•ä¸‹å¯ä»¥ä½¿ç”¨ä¸åŒçš„çº§åˆ«</span></span><br><span class="line">    <span class="attr">com.example.springtest.controller:</span> <span class="string">debug</span></span><br></pre></td></tr></table></figure><p>æ”¹å®Œä¹‹åå‘ç°è¾“å‡ºå¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20231105021025.png"></p><p>åœ¨resourceä¸‹æ–°å»ºlogback.xmlï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--infoæ—¥å¿—æ–‡ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;INFO_FILE&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ—¥å¿—æ–‡ä»¶ç›¸å¯¹è·¯å¾„å’Œåç§°--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">file</span>&gt;</span>./apilogs/info/xxxx_-$&#123;HOSTNAME&#125;.log<span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">append</span>&gt;</span>true<span class="tag">&lt;/<span class="name">append</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ ¹æ®æ—¥å¿—æ–‡ä»¶çš„å¤§å°æ¥æ»šåŠ¨ï¼ˆå³åˆ›å»ºæ–°çš„ï¼‰æ—¥å¿—æ–‡ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span>./apilogs/info/archive/xxxx_-$&#123;HOSTNAME&#125;-%d.%i.log<span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--åªä¿ç•™æœ€è¿‘30å¤©çš„æ—¥å¿—--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">maxHistory</span>&gt;</span>30<span class="tag">&lt;/<span class="name">maxHistory</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">timeBasedFileNamingAndTriggeringPolicy</span></span></span><br><span class="line"><span class="tag"><span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¶…è¿‡10MBä¾¿ä¼šæ»šåŠ¨æ—¥å¿—æ–‡ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">maxFileSize</span>&gt;</span>10MB<span class="tag">&lt;/<span class="name">maxFileSize</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é…ç½®æ—¥å¿—çš„è¾“å‡ºæ ¼å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%date %level [%thread] %logger&#123;10&#125; %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å¼‚æ­¥å¤„ç†--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;ASYNC_INFO_FILE&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.AsyncAppender&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">queueSize</span>&gt;</span>512<span class="tag">&lt;/<span class="name">queueSize</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;INFO_FILE&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--debugæ—¥å¿—æ–‡ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;DEBUG_FILE&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ—¥å¿—æ–‡ä»¶ç›¸å¯¹è·¯å¾„å’Œåç§°--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">file</span>&gt;</span>./apilogs/debug/xxxx_-$&#123;HOSTNAME&#125;.log<span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">append</span>&gt;</span>true<span class="tag">&lt;/<span class="name">append</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ ¹æ®æ—¥å¿—æ–‡ä»¶çš„å¤§å°æ¥æ»šåŠ¨ï¼ˆå³åˆ›å»ºæ–°çš„ï¼‰æ—¥å¿—æ–‡ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span>./apilogs/debug/archive/xxxx_-$&#123;HOSTNAME&#125;-%d.%i.log<span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--åªä¿ç•™æœ€è¿‘30å¤©çš„æ—¥å¿—--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">maxHistory</span>&gt;</span>30<span class="tag">&lt;/<span class="name">maxHistory</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">timeBasedFileNamingAndTriggeringPolicy</span></span></span><br><span class="line"><span class="tag"><span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¶…è¿‡10MBä¾¿ä¼šæ»šåŠ¨æ—¥å¿—æ–‡ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">maxFileSize</span>&gt;</span>10MB<span class="tag">&lt;/<span class="name">maxFileSize</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é…ç½®æ—¥å¿—çš„è¾“å‡ºæ ¼å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%date %level [%thread] %logger&#123;10&#125; %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å¼‚æ­¥å¤„ç†--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;ASYNC_DEBUG_FILE&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.AsyncAppender&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">queueSize</span>&gt;</span>512<span class="tag">&lt;/<span class="name">queueSize</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;DEBUG_FILE&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æ§åˆ¶å°è¾“å‡º--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;STDOUT&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¾“å‡ºæ ¼å¼--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%date %level [%thread] %logger&#123;10&#125; [%file:%line] %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å¼‚æ­¥å¤„ç†--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;ASYNC-STDOUT&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.AsyncAppender&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">queueSize</span>&gt;</span>512<span class="tag">&lt;/<span class="name">queueSize</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;STDOUT&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--åœ¨infoçº§åˆ«ä¸‹ï¼Œå°†åŒ…åæ‰€åœ¨org.springframeworkçš„æ—¥å¿—å…¨éƒ¨æ‰“å°åˆ°æ§åˆ¶å°--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--additivityè¢«è®¾ç½®ä¸º&#x27;false&#x27;ï¼Œè¿™æ„å‘³ç€æ—¥å¿—äº‹ä»¶ä¸ä¼šä¼ é€’ç»™çˆ¶çº§è®°å½•å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;org.springframework&quot;</span> <span class="attr">level</span>=<span class="string">&quot;info&quot;</span> <span class="attr">additivity</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;ASYNC-STDOUT&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--åœ¨debugçº§åˆ«ä¸‹ï¼Œä¼šæ‰“å°è®°å½•sqlçš„ç›¸å…³æ—¥å¿—ï¼Œå°†åŒ…åä¸ºorg.apache.ibatisä¸‹çš„æ—¥å¿—è¾“å‡ºåˆ°debugæ—¥å¿—æ–‡ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;org.apache.ibatis&quot;</span> <span class="attr">level</span>=<span class="string">&quot;debug&quot;</span> <span class="attr">additivity</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;ASYNC_DEBUG_FILE&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æ‰€æœ‰ä¸šåŠ¡ç›¸å…³çš„infoæ—¥å¿—ï¼Œæ‰“å°åˆ°æ§åˆ¶å°ï¼Œå¹¶è¾“å‡ºåˆ°infoæ—¥å¿—æ–‡ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;ASYNC-STDOUT&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;ASYNC_INFO_FILE&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°æ§åˆ¶å°å’Œæ—¥å¿—æ–‡ä»¶éƒ½æˆåŠŸè¾“å‡ºäº†ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20231105021058.png"></p><h3 id="3-å¸¸è§æŠ¥é”™è§£å†³ï¼ˆæŒç»­æ›´æ–°ï¼‰"><a href="#3-å¸¸è§æŠ¥é”™è§£å†³ï¼ˆæŒç»­æ›´æ–°ï¼‰" class="headerlink" title="3.å¸¸è§æŠ¥é”™è§£å†³ï¼ˆæŒç»­æ›´æ–°ï¼‰"></a>3.å¸¸è§æŠ¥é”™è§£å†³ï¼ˆæŒç»­æ›´æ–°ï¼‰</h3><p>(1)ymlé…ç½®æŠ¥é”™å¦‚ï¼š<br>â€œFailed to bind properties under â€˜logging.levelâ€™â€<br>å¯èƒ½è·Ÿç‰ˆæœ¬æœ‰å…³ï¼Œå‚è€ƒymlé…ç½®ä¸Šé¢çš„ä½¿ç”¨æ•™ç¨‹çš„ç¬¬(3)æ­¥</p><p>(2)å¯åŠ¨æ—¶æŠ¥é”™ï¼š<br>â€œclass path contains multiple slf4j bindings<br>found binding in â€¦â€<br>ä¸è¦å¿½è§†è¿™ç§è­¦å‘Šï¼Œè‹¥æœ‰å¤šä¸ªjaråŒ…ç±»å†²çªï¼Œéœ€è¦æŠŠåŠ è½½jaråŒ…é¡ºåºè°ƒæ•´ï¼Œæ­£ç¡®çš„é‚£ä¸ªï¼Œæ¯”å¦‚slf4j-log4j12jaråŒ…æ”¾åœ¨æœ€ä¸Šé¢ã€‚</p><hr><h2 id="Spring-Bootä¸­çš„MVCæ”¯æŒ"><a href="#Spring-Bootä¸­çš„MVCæ”¯æŒ" class="headerlink" title="Spring Bootä¸­çš„MVCæ”¯æŒ"></a>Spring Bootä¸­çš„MVCæ”¯æŒ</h2><p>Spring Boot çš„ MVC æ”¯æŒä¸»è¦æ¥ä»‹ç»å®é™…é¡¹ç›®ä¸­æœ€å¸¸ç”¨çš„å‡ ä¸ªæ³¨è§£ï¼ŒåŒ…æ‹¬ <code>@RestController</code>ã€ <code>@RequestMapping</code>ã€<code>@PathVariable</code>ã€<code>@RequestParam</code> ä»¥åŠ <code>@RequestBody</code>ã€‚</p><h3 id="1-RestController"><a href="#1-RestController" class="headerlink" title="1. @RestController"></a>1. @RestController</h3><p><code>@RestController</code> æ˜¯ Spring Boot æ–°å¢çš„ä¸€ä¸ªæ³¨è§£ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹è¯¥æ³¨è§£éƒ½åŒ…å«äº†å“ªäº›ä¸œè¥¿ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> RestController &#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œ <code>@RestController</code> æ³¨è§£åŒ…å«äº†åŸæ¥çš„ <code>@Controller</code> å’Œ <code>@ResponseBody</code> æ³¨è§£ï¼Œä½¿ç”¨è¿‡ Spring çš„æœ‹å‹å¯¹ <code>@Controller</code> æ³¨è§£å·²ç»éå¸¸äº†è§£äº†ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼Œ <code>@ResponseBody</code> æ³¨è§£æ˜¯å°†è¿”å›çš„æ•°æ®ç»“æ„è½¬æ¢ä¸º Json æ ¼å¼ã€‚æ‰€ä»¥ <code>@RestController</code> å¯ä»¥çœ‹ä½œæ˜¯ <code>@Controller</code> å’Œ <code>@ResponseBody</code> çš„ç»“åˆä½“ï¼Œç›¸å½“äºå·ä¸ªæ‡’ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>@RestController</code> ä¹‹åå°±ä¸ç”¨å†ä½¿ç”¨ <code>@Controller</code> äº†ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœæ˜¯å‰åç«¯åˆ†ç¦»ï¼Œä¸ç”¨æ¨¡æ¿æ¸²æŸ“çš„è¯ï¼Œæ¯”å¦‚ Thymeleafï¼Œè¿™ç§æƒ…å†µä¸‹æ˜¯å¯ä»¥ç›´æ¥ä½¿ç”¨<code>@RestController</code> å°†æ•°æ®ä»¥ json æ ¼å¼ä¼ ç»™å‰ç«¯ï¼Œå‰ç«¯æ‹¿åˆ°ä¹‹åè§£æï¼›ä½†å¦‚æœä¸æ˜¯å‰åç«¯åˆ†ç¦»ï¼Œéœ€è¦ä½¿ç”¨æ¨¡æ¿æ¥æ¸²æŸ“çš„è¯ï¼Œä¸€èˆ¬ Controller ä¸­éƒ½ä¼šè¿”å›åˆ°å…·ä½“çš„é¡µé¢ï¼Œé‚£ä¹ˆæ­¤æ—¶å°±ä¸èƒ½ä½¿ç”¨<code>@RestController</code>äº†ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">getUser</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;user&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶å®æ˜¯éœ€è¦è¿”å›åˆ° user.html é¡µé¢çš„ï¼Œå¦‚æœä½¿ç”¨ <code>@RestController</code> çš„è¯ï¼Œä¼šå°† user ä½œä¸ºå­—ç¬¦ä¸²è¿”å›çš„ï¼Œæ‰€ä»¥è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>@Controller</code> æ³¨è§£ã€‚è¿™åœ¨ä¸‹ä¸€èŠ‚ Spring Boot é›†æˆ Thymeleaf æ¨¡æ¿å¼•æ“ä¸­ä¼šå†è¯´æ˜ã€‚</p><h3 id="2-RequestMapping"><a href="#2-RequestMapping" class="headerlink" title="2. @RequestMapping"></a>2. @RequestMapping</h3><p><code>@RequestMapping</code> æ˜¯ä¸€ä¸ªç”¨æ¥å¤„ç†è¯·æ±‚åœ°å€æ˜ å°„çš„æ³¨è§£ï¼Œå®ƒå¯ä»¥ç”¨äºç±»ä¸Šï¼Œä¹Ÿå¯ä»¥ç”¨äºæ–¹æ³•ä¸Šã€‚åœ¨ç±»çš„çº§åˆ«ä¸Šçš„æ³¨è§£ä¼šå°†ä¸€ä¸ªç‰¹å®šè¯·æ±‚æˆ–è€…è¯·æ±‚æ¨¡å¼æ˜ å°„åˆ°ä¸€ä¸ªæ§åˆ¶å™¨ä¹‹ä¸Šï¼Œè¡¨ç¤ºç±»ä¸­çš„æ‰€æœ‰å“åº”è¯·æ±‚çš„æ–¹æ³•éƒ½æ˜¯ä»¥è¯¥åœ°å€ä½œä¸ºçˆ¶è·¯å¾„ï¼›åœ¨æ–¹æ³•çš„çº§åˆ«è¡¨ç¤ºè¿›ä¸€æ­¥æŒ‡å®šåˆ°å¤„ç†æ–¹æ³•çš„æ˜ å°„å…³ç³»ã€‚</p><p>è¯¥æ³¨è§£æœ‰6ä¸ªå±æ€§ï¼Œä¸€èˆ¬åœ¨é¡¹ç›®ä¸­æ¯”è¾ƒå¸¸ç”¨çš„æœ‰ä¸‰ä¸ªå±æ€§ï¼švalueã€method å’Œ producesã€‚</p><ul><li><p>value å±æ€§ï¼šæŒ‡å®šè¯·æ±‚çš„å®é™…åœ°å€ï¼Œvalue å¯ä»¥çœç•¥ä¸å†™</p></li><li><p>method å±æ€§ï¼šæŒ‡å®šè¯·æ±‚çš„ç±»å‹ï¼Œä¸»è¦æœ‰ GETã€PUTã€POSTã€DELETEï¼Œé»˜è®¤ä¸º GET</p></li><li><p>produceså±æ€§ï¼šæŒ‡å®šè¿”å›å†…å®¹ç±»å‹ï¼Œå¦‚ produces &#x3D; â€œapplication&#x2F;json; charset&#x3D;UTF-8â€</p></li></ul><p><code>@RequestMapping</code> æ³¨è§£æ¯”è¾ƒç®€å•ï¼Œä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/test&quot;, produces = &quot;application/json; charset=UTF-8&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestController</span> &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/get&quot;, method = RequestMethod.GET)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">testGet</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå¾ˆç®€å•ï¼Œå¯åŠ¨é¡¹ç›®åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ <code>localhost:8080/test/get</code> æµ‹è¯•ä¸€ä¸‹å³å¯ã€‚</p><p>é’ˆå¯¹å››ç§ä¸åŒçš„è¯·æ±‚æ–¹å¼ï¼Œæ˜¯æœ‰ç›¸åº”æ³¨è§£çš„ï¼Œä¸ç”¨æ¯æ¬¡åœ¨ <code>@RequestMapping</code> æ³¨è§£ä¸­åŠ  method å±æ€§æ¥æŒ‡å®šï¼Œä¸Šé¢çš„ GET æ–¹å¼è¯·æ±‚å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>@GetMapping(&quot;/get&quot;)</code> æ³¨è§£ï¼Œæ•ˆæœä¸€æ ·ã€‚ç›¸åº”åœ°ï¼ŒPUT æ–¹å¼ã€POST æ–¹å¼å’Œ DELETE æ–¹å¼å¯¹åº”çš„æ³¨è§£åˆ†åˆ«ä¸º <code>@PutMapping</code>ã€<code>@PostMapping</code> å’Œ <code>DeleteMapping</code>ã€‚</p><h3 id="3-PathVariable"><a href="#3-PathVariable" class="headerlink" title="3. @PathVariable"></a>3. @PathVariable</h3><p><code>@PathVariable</code> æ³¨è§£ä¸»è¦æ˜¯ç”¨æ¥è·å– url å‚æ•°ï¼ŒSpring Boot æ”¯æŒ restfull é£æ ¼çš„ urlï¼Œæ¯”å¦‚ä¸€ä¸ª GET è¯·æ±‚æºå¸¦ä¸€ä¸ªå‚æ•° id è¿‡æ¥ï¼Œæˆ‘ä»¬å°† id ä½œä¸ºå‚æ•°æ¥æ”¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>@PathVariable</code> æ³¨è§£ã€‚å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/user/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testPathVariable</span><span class="params">(<span class="meta">@PathVariable</span> Integer id)</span> &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;è·å–åˆ°çš„idä¸ºï¼š&quot;</span> + id);</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæƒ³è¦ url ä¸­å ä½ç¬¦ä¸­çš„ id å€¼ç›´æ¥èµ‹å€¼åˆ°å‚æ•° id ä¸­ï¼Œéœ€è¦ä¿è¯ url ä¸­çš„å‚æ•°å’Œæ–¹æ³•æ¥æ”¶å‚æ•°ä¸€è‡´ï¼Œå¦åˆ™å°±æ— æ³•æ¥æ”¶ã€‚å¦‚æœä¸ä¸€è‡´çš„è¯ï¼Œå…¶å®ä¹Ÿå¯ä»¥è§£å†³ï¼Œéœ€è¦ç”¨ <code>@PathVariable</code> ä¸­çš„ value å±æ€§æ¥æŒ‡å®šå¯¹åº”å…³ç³»ã€‚å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/user/&#123;idd&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testPathVariable</span><span class="params">(<span class="meta">@PathVariable(value = &quot;idd&quot;)</span> Integer id)</span> &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;è·å–åˆ°çš„idä¸ºï¼š&quot;</span> + id);</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹äºè®¿é—®çš„ urlï¼Œå ä½ç¬¦çš„ä½ç½®å¯ä»¥åœ¨ä»»ä½•ä½ç½®ï¼Œä¸ä¸€å®šéè¦åœ¨æœ€åï¼Œæ¯”å¦‚è¿™æ ·ä¹Ÿè¡Œï¼š<code>/xxx/&#123;id&#125;/user</code>ã€‚å¦å¤–ï¼Œurl ä¹Ÿæ”¯æŒå¤šä¸ªå ä½ç¬¦ï¼Œæ–¹æ³•å‚æ•°ä½¿ç”¨åŒæ ·æ•°é‡çš„å‚æ•°æ¥æ¥æ”¶ï¼ŒåŸç†å’Œä¸€ä¸ªå‚æ•°æ˜¯ä¸€æ ·çš„ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/user/&#123;idd&#125;/&#123;name&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">testPathVariable</span><span class="params">(<span class="meta">@PathVariable(value = &quot;idd&quot;)</span> Integer id, <span class="meta">@PathVariable</span> String name)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è·å–åˆ°çš„idä¸ºï¼š&quot;</span> + id);</span><br><span class="line">        System.out.println(<span class="string">&quot;è·å–åˆ°çš„nameä¸ºï¼š&quot;</span> + name);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œé¡¹ç›®ï¼Œåœ¨æµè§ˆå™¨ä¸­è¯·æ±‚ <code>localhost:8080/test/user/2/zhangsan</code> å¯ä»¥çœ‹åˆ°æ§åˆ¶å°è¾“å‡ºå¦‚ä¸‹ä¿¡æ¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è·å–åˆ°çš„idä¸ºï¼š2</span><br><span class="line">è·å–åˆ°çš„nameä¸ºï¼šzhangsan</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥æ”¯æŒå¤šä¸ªå‚æ•°çš„æ¥æ”¶ã€‚åŒæ ·åœ°ï¼Œå¦‚æœ url ä¸­çš„å‚æ•°å’Œæ–¹æ³•ä¸­çš„å‚æ•°åç§°ä¸åŒçš„è¯ï¼Œä¹Ÿéœ€è¦ä½¿ç”¨ value å±æ€§æ¥ç»‘å®šä¸¤ä¸ªå‚æ•°ã€‚</p><h3 id="4-RequestParam"><a href="#4-RequestParam" class="headerlink" title="4. @RequestParam"></a>4. @RequestParam</h3><p><code>@RequestParam</code> æ³¨è§£é¡¾åæ€ä¹‰ï¼Œä¹Ÿæ˜¯è·å–è¯·æ±‚å‚æ•°çš„ï¼Œä¸Šé¢æˆ‘ä»¬ä»‹ç»äº† <code>@PathValiable</code> æ³¨è§£ä¹Ÿæ˜¯è·å–è¯·æ±‚å‚æ•°çš„ï¼Œé‚£ä¹ˆ <code>@RequestParam</code> å’Œ <code>@PathVariable</code> æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿä¸»è¦åŒºåˆ«åœ¨äºï¼š <code>@PathValiable</code> æ˜¯ä» url æ¨¡æ¿ä¸­è·å–å‚æ•°å€¼ï¼Œ å³è¿™ç§é£æ ¼çš„ urlï¼š<code>http://localhost:8080/user/&#123;id&#125;</code> ï¼›è€Œ <code>@RequestParam</code> æ˜¯ä» request é‡Œé¢è·å–å‚æ•°å€¼ï¼Œå³è¿™ç§é£æ ¼çš„ urlï¼š<code>http://localhost:8080/user?id=1</code> ã€‚æˆ‘ä»¬ä½¿ç”¨è¯¥ url å¸¦ä¸Šå‚æ•° id æ¥æµ‹è¯•ä¸€ä¸‹å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testRequestParam</span><span class="params">(<span class="meta">@RequestParam</span> Integer id)</span> &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;è·å–åˆ°çš„idä¸ºï¼š&quot;</span> + id);</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥æ­£å¸¸ä»æ§åˆ¶å°æ‰“å°å‡º id ä¿¡æ¯ã€‚åŒæ ·åœ°ï¼Œurl ä¸Šé¢çš„å‚æ•°å’Œæ–¹æ³•çš„å‚æ•°éœ€è¦ä¸€è‡´ï¼Œå¦‚æœä¸ä¸€è‡´ï¼Œä¹Ÿéœ€è¦ä½¿ç”¨ value å±æ€§æ¥è¯´æ˜ï¼Œæ¯”å¦‚ url ä¸ºï¼š<code>http://localhost:8080/user?idd=1</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testRequestParam</span><span class="params">(<span class="meta">@RequestParam(value = &quot;idd&quot;, required = false)</span> Integer id)</span> &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;è·å–åˆ°çš„idä¸ºï¼š&quot;</span> + id);</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é™¤äº† value å±æ€§å¤–ï¼Œè¿˜æœ‰ä¸ªä¸¤ä¸ªå±æ€§æ¯”è¾ƒå¸¸ç”¨ï¼š</p><ul><li><p>required å±æ€§ï¼štrue è¡¨ç¤ºè¯¥å‚æ•°å¿…é¡»è¦ä¼ ï¼Œå¦åˆ™å°±ä¼šæŠ¥ 404 é”™è¯¯ï¼Œfalse è¡¨ç¤ºå¯æœ‰å¯æ— ã€‚</p></li><li><p>defaultValue å±æ€§ï¼šé»˜è®¤å€¼ï¼Œè¡¨ç¤ºå¦‚æœè¯·æ±‚ä¸­æ²¡æœ‰åŒåå‚æ•°æ—¶çš„é»˜è®¤å€¼ã€‚</p></li></ul><p>ä» url ä¸­å¯ä»¥çœ‹å‡ºï¼Œ<code>@RequestParam</code> æ³¨è§£ç”¨äº GET è¯·æ±‚ä¸Šæ—¶ï¼Œæ¥æ”¶æ‹¼æ¥åœ¨ url ä¸­çš„å‚æ•°ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¯¥æ³¨è§£è¿˜å¯ä»¥ç”¨äº POST è¯·æ±‚ï¼Œæ¥æ”¶å‰ç«¯è¡¨å•æäº¤çš„å‚æ•°ï¼Œå‡å¦‚å‰ç«¯é€šè¿‡è¡¨å•æäº¤ username å’Œ password ä¸¤ä¸ªå‚æ•°ï¼Œé‚£æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>@RequestParam</code> æ¥æ¥æ”¶ï¼Œç”¨æ³•å’Œä¸Šé¢ä¸€æ ·ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/form1&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">testForm</span><span class="params">(<span class="meta">@RequestParam</span> String username, <span class="meta">@RequestParam</span> String password)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è·å–åˆ°çš„usernameä¸ºï¼š&quot;</span> + username);</span><br><span class="line">        System.out.println(<span class="string">&quot;è·å–åˆ°çš„passwordä¸ºï¼š&quot;</span> + password);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä½¿ç”¨ postman æ¥æ¨¡æ‹Ÿä¸€ä¸‹è¡¨å•æäº¤ï¼Œæµ‹è¯•ä¸€ä¸‹æ¥å£ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20231105021854.png"></p><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¦‚æœè¡¨å•æ•°æ®å¾ˆå¤šï¼Œæˆ‘ä»¬ä¸å¯èƒ½åœ¨åå°æ–¹æ³•ä¸­å†™ä¸Šå¾ˆå¤šå‚æ•°ï¼Œæ¯ä¸ªå‚æ•°è¿˜è¦ <code>@RequestParam</code> æ³¨è§£ã€‚é’ˆå¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦å°è£…ä¸€ä¸ªå®ä½“ç±»æ¥æ¥æ”¶è¿™äº›å‚æ•°ï¼Œå®ä½“ä¸­çš„å±æ€§åå’Œè¡¨å•ä¸­çš„å‚æ•°åä¸€è‡´å³å¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"><span class="keyword">private</span> String username;</span><br><span class="line"><span class="keyword">private</span> String password;</span><br><span class="line"><span class="comment">// set get</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨å®ä½“æ¥æ”¶çš„è¯ï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨å‰é¢åŠ  <code>@RequestParam</code> æ³¨è§£äº†ï¼Œç›´æ¥ä½¿ç”¨å³å¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/form2&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">testForm</span><span class="params">(User user)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è·å–åˆ°çš„usernameä¸ºï¼š&quot;</span> + user.getUsername());</span><br><span class="line">        System.out.println(<span class="string">&quot;è·å–åˆ°çš„passwordä¸ºï¼š&quot;</span> + user.getPassword());</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ postman å†æ¬¡æµ‹è¯•ä¸€ä¸‹è¡¨å•æäº¤ï¼Œè§‚å¯Ÿä¸€ä¸‹è¿”å›å€¼å’Œæ§åˆ¶å°æ‰“å°å‡ºçš„æ—¥å¿—å³å¯ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œä¸€èˆ¬éƒ½æ˜¯å°è£…ä¸€ä¸ªå®ä½“ç±»æ¥æ¥æ”¶è¡¨å•æ•°æ®ï¼Œå› ä¸ºå®é™…é¡¹ç›®ä¸­è¡¨å•æ•°æ®ä¸€èˆ¬éƒ½å¾ˆå¤šã€‚</p><h3 id="5-RequestBody"><a href="#5-RequestBody" class="headerlink" title="5. @RequestBody"></a>5. @RequestBody</h3><p><code>@RequestBody</code> æ³¨è§£ç”¨äºæ¥æ”¶å‰ç«¯ä¼ æ¥çš„å®ä½“ï¼Œæ¥æ”¶å‚æ•°ä¹Ÿæ˜¯å¯¹åº”çš„å®ä½“ï¼Œæ¯”å¦‚å‰ç«¯é€šè¿‡ json æäº¤ä¼ æ¥ä¸¤ä¸ªå‚æ•° username å’Œ passwordï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦åœ¨åç«¯å°è£…ä¸€ä¸ªå®ä½“æ¥æ¥æ”¶ã€‚åœ¨ä¼ é€’çš„å‚æ•°æ¯”è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ <code>@RequestBody</code> æ¥æ”¶ä¼šéå¸¸æ–¹ä¾¿ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"><span class="keyword">private</span> String username;</span><br><span class="line"><span class="keyword">private</span> String password;</span><br><span class="line"><span class="comment">// set get</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testRequestBody</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span> &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;è·å–åˆ°çš„usernameä¸ºï¼š&quot;</span> + user.getUsername());</span><br><span class="line">System.out.println(<span class="string">&quot;è·å–åˆ°çš„passwordä¸ºï¼š&quot;</span> + user.getPassword());</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä½¿ç”¨ postman å·¥å…·æ¥æµ‹è¯•ä¸€ä¸‹æ•ˆæœï¼Œæ‰“å¼€ postmanï¼Œç„¶åè¾“å…¥è¯·æ±‚åœ°å€å’Œå‚æ•°ï¼Œå‚æ•°æˆ‘ä»¬ç”¨ json æ¥æ¨¡æ‹Ÿï¼Œå¦‚ä¸‹å›¾æ‰€æœ‰ï¼Œè°ƒç”¨ä¹‹åè¿”å› successã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20231105021959.png"></p><p>åŒæ—¶çœ‹ä¸€ä¸‹åå°æ§åˆ¶å°è¾“å‡ºçš„æ—¥å¿—ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è·å–åˆ°çš„usernameä¸ºï¼šå€ªå‡æ­¦</span><br><span class="line">è·å–åˆ°çš„passwordä¸ºï¼š123456</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œ<code>@RequestBody</code> æ³¨è§£ç”¨äº POST è¯·æ±‚ä¸Šï¼Œæ¥æ”¶ json å®ä½“å‚æ•°ã€‚å®ƒå’Œä¸Šé¢æˆ‘ä»¬ä»‹ç»çš„è¡¨å•æäº¤æœ‰ç‚¹ç±»ä¼¼ï¼Œåªä¸è¿‡å‚æ•°çš„æ ¼å¼ä¸åŒï¼Œä¸€ä¸ªæ˜¯ json å®ä½“ï¼Œä¸€ä¸ªæ˜¯è¡¨å•æäº¤ã€‚åœ¨å®é™…é¡¹ç›®ä¸­æ ¹æ®å…·ä½“åœºæ™¯å’Œéœ€è¦ä½¿ç”¨å¯¹åº”çš„æ³¨è§£å³å¯ã€‚</p><h3 id="6-æ€»ç»“"><a href="#6-æ€»ç»“" class="headerlink" title="6. æ€»ç»“"></a>6. æ€»ç»“</h3><p>æœ¬èŠ‚è¯¾ä¸»è¦è®²è§£äº† Spring Boot ä¸­å¯¹ MVC çš„æ”¯æŒï¼Œåˆ†æäº† <code>@RestController</code>ã€ <code>@RequestMapping</code>ã€<code>@PathVariable</code>ã€ <code>@RequestParam</code> å’Œ <code>@RequestBody</code> å››ä¸ªæ³¨è§£çš„ä½¿ç”¨æ–¹å¼ï¼Œç”±äº <code>@RestController</code> ä¸­é›†æˆäº† <code>@ResponseBody</code> æ‰€ä»¥å¯¹è¿”å› json çš„æ³¨è§£ä¸å†èµ˜è¿°ã€‚ä»¥ä¸Šå››ä¸ªæ³¨è§£æ˜¯ä½¿ç”¨é¢‘ç‡å¾ˆé«˜çš„æ³¨è§£ï¼Œåœ¨æ‰€æœ‰çš„å®é™…é¡¹ç›®ä¸­åŸºæœ¬éƒ½ä¼šé‡åˆ°ï¼Œè¦ç†Ÿç»ƒæŒæ¡ã€‚</p><hr><p>Spring Boot ä¸­é›†æˆRedis</p>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯Œæ–‡æœ¬ç»„ä»¶(mavon-editor)</title>
      <link href="/2023/10/22/%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BB%84%E4%BB%B6/"/>
      <url>/2023/10/22/%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BB%84%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>mavon-editoræ˜¯ä¸€æ¬¾åŸºäºvueçš„markdownç¼–è¾‘å™¨ï¼Œå¯ä»¥ç”¨æ¥åšæ–‡æœ¬çš„ç¼–è¾‘ï¼Œæ¯”å¦‚æ˜¯æŸç§ä¸šåŠ¡éœ€è¦å‘é€å…¬å‘Šã€ä¸ªäººåšå®¢ç­‰ï¼Œéƒ½å¯ä»¥ç”¨åˆ°ï¼Œæ“ä½œä¹Ÿååˆ†ç®€å•ã€‚</p><p>å®˜æ–¹åœ°å€ï¼š<a href="http://www.mavoneditor.com/?spm=a2c6h.12873639.article-detail.9.aaad62afIvVZGC">http://www.mavoneditor.com/</a></p><p>githubï¼š<a href="https://github.com/hinesboy/mavonEditor">https://github.com/hinesboy/mavonEditor</a></p><h2 id="å®‰è£…-mavon-editor"><a href="#å®‰è£…-mavon-editor" class="headerlink" title="å®‰è£… mavon-editor"></a>å®‰è£… mavon-editor</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install mavon-editor --save</span><br></pre></td></tr></table></figure><p>å®‰è£…å¥½äº†ä¹‹åå°±éœ€è¦è¿›è¡Œæ³¨å†Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»„ä»¶æ³¨å†Œ</span></span><br><span class="line"><span class="keyword">import</span> mavonEditor <span class="keyword">from</span> <span class="string">&quot;mavon-editor&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;mavon-editor/dist/css/index.css&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// eslint-disable-next-line vue/multi-word-component-names</span></span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;EditorComponent&quot;</span>,</span><br><span class="line"><span class="attr">components</span>: &#123; mavonEditor &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®‰è£…ã€æ³¨å†Œåå°±è¦æ¥ä½¿ç”¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨è¿™ä¸ªç»„ä»¶ï¼Œä»¥ä¸‹æˆ‘å°†ä½¿ç”¨æˆ‘ä¹‹å‰åœ¨å­¦ä¹ åšåå°ç®¡ç†ç³»ç»Ÿæ¥ä½œä¸ºæ¡ˆä¾‹ã€‚</p><h2 id="ä½¿ç”¨-mavon-editor"><a href="#ä½¿ç”¨-mavon-editor" class="headerlink" title="ä½¿ç”¨ mavon-editor"></a>ä½¿ç”¨ mavon-editor</h2><p>é¦–å…ˆï¼Œæ³¨å†Œå¥½äº†å°±èƒ½å¤Ÿç›´æ¥ä½¿ç”¨æ ‡ç­¾è¿›è¡Œå¼•ç”¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mavon-editor</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">save</span>=<span class="string">&quot;saveDoc&quot;</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">change</span>=<span class="string">&quot;updateDoc&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">ref</span>=<span class="string">&quot;editor&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-model</span>=<span class="string">&quot;doc&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mavon-editor</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•´ä½“çš„å½¢æˆå°±å¦‚ä¸‹å›¾</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20231022222049.png"></p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20231022222121.png"></p><p>è¿™æ˜¯å¸¦æœ‰é¢„è§ˆæ¨¡å¼ï¼Œåœ¨ä¸Šé¢çš„å·¥å…·æ éƒ¨åˆ†æ˜¯ç»„ä»¶å·²ç»å®Œæˆçš„åŠŸèƒ½ï¼Œå…¶ä¸­æœ‰äº›éœ€è¦è‡ªå·±çš„å®ç°ï¼Œæ¯”å¦‚æ˜¯å›¾ç‰‡çš„ä¸Šä¼ ï¼Œè¿™ä¸ªç»„ä»¶ä¹Ÿèƒ½å¤Ÿæ”¯æŒæ‰©å±•ï¼Œå¯ä»¥å»æ‰©å±•æ›´å¤šçš„ä¾¿æ·å¼åŠŸèƒ½ï¼Œå…·ä½“è¯¦æƒ…åœ¨å®˜ç½‘ä¸Šéƒ½æœ‰ã€‚</p><h2 id="å›¾ç‰‡ä¸Šä¼ "><a href="#å›¾ç‰‡ä¸Šä¼ " class="headerlink" title="å›¾ç‰‡ä¸Šä¼ "></a>å›¾ç‰‡ä¸Šä¼ </h2><p>æ¥ä¸‹æ¥ä»‹ç»å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½ï¼Œå›¾ç‰‡ä¸Šä¼ åŒ…æ‹¬ä¸¤ç§ï¼Œä¸€ç§æ˜¯ç›´æ¥æ·»åŠ å°±åˆ°æœåŠ¡å™¨ä¸Š(è¿™é‡Œé‡‡ç”¨é˜¿é‡Œäº‘OSSå­˜å‚¨)ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯æ¯æ¬¡æ·»åŠ å›¾ç‰‡éƒ½ä¿å­˜èµ·æ¥ï¼Œç„¶åä¸€åŒä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œè¿™æ ·çš„ä½œæ³•æ˜¯èƒ½å¤Ÿç¡®ä¿åœ¨ä¸æƒ³è¦å‘å¸ƒçš„æ—¶å€™ï¼Œå›¾ç‰‡ä¸ä¼šè¢«ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸­ï¼Œä½†æ˜¯æœ€å¸¸è§çš„è¿˜æ˜¯ç›´æ¥ä¸Šä¼ çš„é‚£ç§ã€‚</p><h3 id="å•å›¾ä¸Šä¼ "><a href="#å•å›¾ä¸Šä¼ " class="headerlink" title="å•å›¾ä¸Šä¼ "></a>å•å›¾ä¸Šä¼ </h3><p>å°±æ˜¯æ”¾ç½®å›¾ç‰‡çš„åŒæ—¶ç›´æ¥å°†å›¾ç‰‡ä¸Šä¼ åˆ°é˜¿é‡Œäº‘OSS</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mavon-editor</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">save</span>=<span class="string">&quot;saveDoc&quot;</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">change</span>=<span class="string">&quot;updateDoc&quot;</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">imgAdd</span>=<span class="string">&quot;$imgAdd&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">ref</span>=<span class="string">&quot;editor&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-model</span>=<span class="string">&quot;doc&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mavon-editor</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨ç»„ä»¶æ ‡ç­¾ä¸­å¼•å…¥@imagAddäº‹ä»¶ï¼Œè¿™æ˜¯ç»„ä»¶çš„æ—¶é—´ç»‘å®šã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$imgAdd(pos, file)&#123; <span class="comment">//åªè¦æ”¾ä¸Šå»å°±ä¸Šä¼ åˆ°oss</span></span><br><span class="line">  <span class="comment">//å•å›¾ä¸Šä¼ </span></span><br><span class="line">  <span class="comment">// ç¬¬ä¸€æ­¥.å°†å›¾ç‰‡ä¸Šä¼ åˆ°æœåŠ¡å™¨.</span></span><br><span class="line">  <span class="keyword">let</span> imgData = <span class="keyword">new</span> <span class="title class_">FormData</span>();</span><br><span class="line">  imgData.<span class="title function_">append</span>(<span class="string">&#x27;file&#x27;</span>,file);</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">$axios</span>.<span class="title function_">post</span>(<span class="string">&quot;/files/image/upload&quot;</span>, imgData).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ç¬¬äºŒæ­¥.å°†è¿”å›çš„urlæ›¿æ¢åˆ°æ–‡æœ¬åŸä½ç½®![...](0) -&gt; ![...](url)</span></span><br><span class="line">     <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * $vm æŒ‡ä¸ºmavonEditorå®ä¾‹ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹ä¸¤ç§æ–¹å¼è·å–</span></span><br><span class="line"><span class="comment">     * 1. é€šè¿‡å¼•å…¥å¯¹è±¡è·å–: `import &#123;mavonEditor&#125; from ...` ç­‰æ–¹å¼å¼•å…¥åï¼Œ`$vm`ä¸º`mavonEditor`</span></span><br><span class="line"><span class="comment">     * 2. é€šè¿‡$refsè·å–: htmlå£°æ˜ref : `&lt;mavon-editor ref=md &gt;&lt;/mavon-editor&gt;ï¼Œ`$vm`ä¸º `this.$refs.md`</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">mdedit</span>.$img2Url(pos, res.<span class="property">data</span>.<span class="property">data</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•´ä½“çš„é€»è¾‘å°±æ˜¯å°†æ–‡ä»¶ä¿å­˜åˆ°æœåŠ¡å™¨ä¸­ï¼Œåœ¨å°†è¿”å›çš„urlæ›¿æ¢åˆ°æ–‡æ¡£çš„åŸä½ç½®ï¼Œ<code>this.$refs.mdedit.$img2Url(pos, res.data.data)</code>è¿›è¡Œå›æ˜¾ä¿å­˜è·¯å¾„ã€‚é»˜è®¤å¤§å°æ ·å¼ä¸º min-height: 300px , min-width: 300pxï¼Œå¹¶ä¸”æ˜¯å¯è‡ªè¡Œè¦†ç›–ã€‚</p><p>ç»“æœå¦‚ä¸‹</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20231022222559.png"></p><h3 id="å¤šå›¾ä¸Šä¼ "><a href="#å¤šå›¾ä¸Šä¼ " class="headerlink" title="å¤šå›¾ä¸Šä¼ "></a>å¤šå›¾ä¸Šä¼ </h3><p>å¤šå›¾ä¸Šä¼ ç®€å•ç†è§£å°±æ˜¯å¾ªç¯æ‰€æœ‰æ–‡ä»¶ï¼Œä¸€ä¸€ä¸Šä¼ ä¿å­˜ï¼Œé€‚åˆå¯ä»¥å°†ä¸è¦çš„å›¾ç‰‡ç»è¡Œå»é™¤ï¼Œå°±ä¸ä¼šå…¨éƒ¨éƒ½ä¸Šä¼ ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mavon-editor</span> <span class="attr">ref</span>=<span class="string">&quot;mdedit&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;ruleForm.content&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height: 80vh&quot;</span> @<span class="attr">imgAdd</span>=<span class="string">&quot;$imgAdd&quot;</span> @<span class="attr">imgDel</span>=<span class="string">&quot;$imgDel&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mavon-editor</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡å®šä¹‰ä¸€ä¸ªå˜é‡æ¥å­˜å‚¨æ–‡ä»¶ï¼Œä¹Ÿéœ€è¦åˆ äº‹ä»¶ï¼Œå›¾ç‰‡åˆ é™¤ä¹‹åå°±éœ€è¦å»é™¤ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$imgAdd(pos, $file)&#123;</span><br><span class="line">  <span class="comment">// ç¼“å­˜å›¾ç‰‡ä¿¡æ¯</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">img_file</span>[pos] = $file;</span><br><span class="line">&#125;,</span><br><span class="line">$imgDel(pos)&#123;</span><br><span class="line">  <span class="keyword">delete</span> <span class="variable language_">this</span>.<span class="property">img_file</span>[pos];</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>ä¸Šä¼ ï¼Œä¹Ÿå°±æ˜¯å¾ªç¯å°†ä¿å­˜å¥½çš„å›¾ç‰‡ä¸€ä¸€ä¸Šä¼ ä¿å­˜ï¼Œåœ¨å›æ˜¾æ›¿æ¢åˆ°åŸæ¥çš„ä½ç½®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">uploadimg</span>(<span class="params">$e</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> _img <span class="keyword">in</span> <span class="variable language_">this</span>.<span class="property">img_file</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> imgData = <span class="keyword">new</span> <span class="title class_">FormData</span>();</span><br><span class="line">        <span class="comment">// ç¬¬ä¸€æ­¥.å°†å›¾ç‰‡ä¸Šä¼ åˆ°æœåŠ¡å™¨.</span></span><br><span class="line">        imgData.<span class="title function_">append</span>(<span class="string">&#x27;file&#x27;</span>, <span class="variable language_">this</span>.<span class="property">img_file</span>[_img]);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">$axios</span>.<span class="title function_">post</span>(<span class="string">&quot;/files/image/upload&quot;</span>, imgData).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * ä¾‹å¦‚ï¼šè¿”å›æ•°æ®ä¸º res = [[pos, url], [pos, url]...]</span></span><br><span class="line"><span class="comment">             * pos ä¸ºåŸå›¾ç‰‡æ ‡å¿—ï¼ˆ0ï¼‰</span></span><br><span class="line"><span class="comment">             * url ä¸ºä¸Šä¼ åå›¾ç‰‡çš„urlåœ°å€</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">             <span class="comment">// ç¬¬äºŒæ­¥.å°†è¿”å›çš„urlæ›¿æ¢åˆ°æ–‡æœ¬åŸä½ç½®![...](0) -&gt; ![...](url)</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">mdedit</span>.$img2Url(i, res.<span class="property">data</span>.<span class="property">data</span>);</span><br><span class="line">            i++;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç²˜è´´ä¸€ä¸ªåç«¯ä»£ç ï¼Œæœ¬æ¬¡æ˜¯ä½¿ç”¨é˜¿é‡Œäº‘OSSå­˜å‚¨ï¼Œéœ€è¦åšä¸€äº›é…ç½®ï¼Œè¯¦æƒ…å¯ä»¥å»çœ‹ä¸€ä¸‹é˜¿é‡Œäº‘å®˜ç½‘å…³äºOSSè¿™ä¸€å—çš„å†…å®¹ã€‚åç«¯æ–¹æ³•çš„å„ç§é€»è¾‘ä¹Ÿéƒ½åŠ äº†æ³¨é‡Šï¼Œè¿™é‡Œå°±ä¸åœ¨èµ˜è¿°ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/image/upload&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">uploadImage</span><span class="params">(MultipartFile file)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">originalFilename</span> <span class="operator">=</span> file.getOriginalFilename();</span><br><span class="line">    <span class="type">String</span> <span class="variable">type</span> <span class="operator">=</span> FileUtil.extName(originalFilename); <span class="comment">//æ–‡ä»¶ç±»å‹</span></span><br><span class="line">    <span class="type">double</span> <span class="variable">size</span> <span class="operator">=</span> file.getSize(); <span class="comment">//æ–‡ä»¶å¤§å°</span></span><br><span class="line">    <span class="comment">//å®šä¹‰ä¸€ä¸ªå”¯ä¸€æ–‡ä»¶è¯†åˆ«ç  ---</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">uuid</span> <span class="operator">=</span> IdUtil.fastSimpleUUID();</span><br><span class="line">    <span class="type">String</span> <span class="variable">uploadFile</span> <span class="operator">=</span>  uuid + StrUtil.DOT + type;</span><br><span class="line">    <span class="comment">//è·å–æ–‡ä»¶çš„url</span></span><br><span class="line">    String url;</span><br><span class="line">    <span class="comment">//åˆ›å»ºæ–‡ä»¶çš„MD5</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">md5</span> <span class="operator">=</span> SecureUtil.md5(file.getInputStream());</span><br><span class="line">    <span class="comment">//ä»æ•°æ®åº“é‡ŒæŸ¥è¯¢æ˜¯å¦å­˜åœ¨ç›¸åŒçš„è®°å½•...é€šè¿‡æ–‡ä»¶çš„md5æŸ¥è¯¢æ–‡ä»¶</span></span><br><span class="line">    <span class="type">Files</span> <span class="variable">dbFile</span> <span class="operator">=</span> filesService.getFileByMd5(md5);</span><br><span class="line">    <span class="keyword">if</span> (dbFile != <span class="literal">null</span>) &#123; <span class="comment">//å­˜åœ¨</span></span><br><span class="line">        url = dbFile.getUrl();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; <span class="comment">//ä¸å­˜åœ¨ï¼Œå°±å­˜åˆ°ossä¸­ï¼Œå¹¶è·å–è·¯å¾„</span></span><br><span class="line">        <span class="comment">//OSSä¸Šä¼ </span></span><br><span class="line">        ossUtil.upload(file.getInputStream(), <span class="string">&quot;images/&quot;</span> + uploadFile); <span class="comment">//è·¯å¾„è‚¯å®šæœ‰ï¼Œæ•…ä¸éœ€è¦åˆ¤å®šï¼Œossåªèƒ½å­˜ä¸€ä¸ªåå­—ç›¸åŒçš„</span></span><br><span class="line">        url = ossUtil.getURL(<span class="string">&quot;images/&quot;</span> + uploadFile); <span class="comment">//è¿”å›url</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å­˜å‚¨åˆ°æ•°æ®åº“ -- è¿˜éœ€è®¾ç½®æ˜¯è°ä¸Šä¼ çš„ï¼Œè¦ä¼ æ¥å‚æ•°ï¼Œåé¢æ</span></span><br><span class="line">    <span class="type">Files</span> <span class="variable">saveFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Files</span>();</span><br><span class="line">    saveFile.setName(originalFilename);</span><br><span class="line">    saveFile.setType(type);</span><br><span class="line">    saveFile.setSize(size/<span class="number">1024</span>);<span class="comment">//è¿™æ˜¯bè¦è£…æˆkå°±é™¤ä»¥1024</span></span><br><span class="line">    saveFile.setUrl(url);</span><br><span class="line">    saveFile.setMd5(md5);</span><br><span class="line">    saveFile.setCreateTime(LocalDateTime.now());</span><br><span class="line">    filesService.save(saveFile);</span><br><span class="line">    <span class="keyword">return</span> Result.succ(url);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>OSSUtil: å‚ç…§é˜¿é‡Œäº‘å®˜ç½‘</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OSSUtil</span> &#123;</span><br><span class="line">    <span class="comment">/*ä¸Šä¼ */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">upload</span><span class="params">(InputStream inputStream, String target)</span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºOSSClientå®ä¾‹ã€‚</span></span><br><span class="line">        <span class="type">OSS</span> <span class="variable">ossClient</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OSSClientBuilder</span>().build(Const.ENDPOINT, Const.ACCESS_KEYID, Const.ACCESSKEY_SECRET);</span><br><span class="line">        ossClient.putObject(Const.BUCKET_NAME, target, inputStream);</span><br><span class="line">        <span class="comment">// å…³é—­OSSClientã€‚</span></span><br><span class="line">        ossClient.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*è·å–url*/</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getURL</span><span class="params">(String objectName)</span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºOSSClientå®ä¾‹ã€‚</span></span><br><span class="line">        <span class="type">OSS</span> <span class="variable">ossClient</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OSSClientBuilder</span>().build(Const.ENDPOINT, Const.ACCESS_KEYID, Const.ACCESSKEY_SECRET);</span><br><span class="line">        <span class="comment">// è®¾ç½®URLè¿‡æœŸæ—¶é—´ä¸º100å¤©ã€‚</span></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">time</span> <span class="operator">=</span> LocalDateTime.now().plusDays(<span class="number">100</span>);</span><br><span class="line">        <span class="type">Date</span> <span class="variable">expiration</span> <span class="operator">=</span> Date.from(time.atZone( ZoneId.systemDefault()).toInstant());</span><br><span class="line">        <span class="comment">// ç”Ÿæˆä»¥GETæ–¹æ³•è®¿é—®çš„ç­¾åURLï¼Œè®¿å®¢å¯ä»¥ç›´æ¥é€šè¿‡æµè§ˆå™¨è®¿é—®ç›¸å…³å†…å®¹ã€‚</span></span><br><span class="line">        <span class="type">URL</span> <span class="variable">url</span> <span class="operator">=</span> ossClient.generatePresignedUrl(Const.BUCKET_NAME, objectName, expiration);</span><br><span class="line">        <span class="comment">// å…³é—­OSSClientã€‚</span></span><br><span class="line">        ossClient.shutdown();</span><br><span class="line">        <span class="keyword">return</span> url.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ›´å¤šä¸Šä¼ ç›¸å…³å¯ä»¥æŸ¥çœ‹:<a href="https://github.com/hinesboy/mavonEditor/blob/master/doc/cn/upload-images.md">https://github.com/hinesboy/mavonEditor/blob/master/doc/cn/upload-images.md</a></p><h2 id="å…¶ä»–åŠŸèƒ½"><a href="#å…¶ä»–åŠŸèƒ½" class="headerlink" title="å…¶ä»–åŠŸèƒ½"></a>å…¶ä»–åŠŸèƒ½</h2><p>mavon-editoræä¾›äº†è®¸å¤šçš„APIï¼Œå°±åŒ…æ‹¬è¯­è¨€é€‰æ‹©ã€å·¥å…·æ ã€å·¥å…·æ èƒŒæ™¯ç­‰ç­‰ã€‚</p><h4 id="toolbars"><a href="#toolbars" class="headerlink" title="toolbars"></a>toolbars</h4><p>é»˜è®¤å·¥å…·æ æŒ‰é’®å…¨éƒ¨å¼€å¯, ä¼ å…¥è‡ªå®šä¹‰å¯¹è±¡ï¼Œå¯ä»¥é€‰æ‹©å¯ç”¨éƒ¨åˆ†æŒ‰é’®ï¼ŒåŠŸèƒ½å¦‚ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  ä¾‹å¦‚: &#123;</span></span><br><span class="line"><span class="comment">      bold: true, // ç²—ä½“</span></span><br><span class="line"><span class="comment">      italic: true,// æ–œä½“</span></span><br><span class="line"><span class="comment">      header: true,// æ ‡é¢˜</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment">  æ­¤æ—¶, ä»…ä»…æ˜¾ç¤ºæ­¤ä¸‰ä¸ªåŠŸèƒ½é”®</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="attr">toolbars</span>: &#123;</span><br><span class="line">    <span class="attr">bold</span>: <span class="literal">true</span>, <span class="comment">// ç²—ä½“</span></span><br><span class="line">    <span class="attr">italic</span>: <span class="literal">true</span>, <span class="comment">// æ–œä½“</span></span><br><span class="line">    <span class="attr">header</span>: <span class="literal">true</span>, <span class="comment">// æ ‡é¢˜</span></span><br><span class="line">    <span class="attr">underline</span>: <span class="literal">true</span>, <span class="comment">// ä¸‹åˆ’çº¿</span></span><br><span class="line">    <span class="attr">strikethrough</span>: <span class="literal">true</span>, <span class="comment">// ä¸­åˆ’çº¿</span></span><br><span class="line">    <span class="attr">mark</span>: <span class="literal">true</span>, <span class="comment">// æ ‡è®°</span></span><br><span class="line">    <span class="attr">superscript</span>: <span class="literal">true</span>, <span class="comment">// ä¸Šè§’æ ‡</span></span><br><span class="line">    <span class="attr">subscript</span>: <span class="literal">true</span>, <span class="comment">// ä¸‹è§’æ ‡</span></span><br><span class="line">    <span class="attr">quote</span>: <span class="literal">true</span>, <span class="comment">// å¼•ç”¨</span></span><br><span class="line">    <span class="attr">ol</span>: <span class="literal">true</span>, <span class="comment">// æœ‰åºåˆ—è¡¨</span></span><br><span class="line">    <span class="attr">ul</span>: <span class="literal">true</span>, <span class="comment">// æ— åºåˆ—è¡¨</span></span><br><span class="line">    <span class="attr">link</span>: <span class="literal">true</span>, <span class="comment">// é“¾æ¥</span></span><br><span class="line">    <span class="attr">imagelink</span>: <span class="literal">true</span>, <span class="comment">// å›¾ç‰‡é“¾æ¥</span></span><br><span class="line">    <span class="attr">code</span>: <span class="literal">true</span>, <span class="comment">// code</span></span><br><span class="line">    <span class="attr">table</span>: <span class="literal">true</span>, <span class="comment">// è¡¨æ ¼</span></span><br><span class="line">    <span class="attr">fullscreen</span>: <span class="literal">true</span>, <span class="comment">// å…¨å±ç¼–è¾‘</span></span><br><span class="line">    <span class="attr">readmodel</span>: <span class="literal">true</span>, <span class="comment">// æ²‰æµ¸å¼é˜…è¯»</span></span><br><span class="line">    <span class="attr">htmlcode</span>: <span class="literal">true</span>, <span class="comment">// å±•ç¤ºhtmlæºç </span></span><br><span class="line">    <span class="attr">help</span>: <span class="literal">true</span>, <span class="comment">// å¸®åŠ©</span></span><br><span class="line">    <span class="comment">/* 1.3.5 */</span></span><br><span class="line">    <span class="attr">undo</span>: <span class="literal">true</span>, <span class="comment">// ä¸Šä¸€æ­¥</span></span><br><span class="line">    <span class="attr">redo</span>: <span class="literal">true</span>, <span class="comment">// ä¸‹ä¸€æ­¥</span></span><br><span class="line">    <span class="attr">trash</span>: <span class="literal">true</span>, <span class="comment">// æ¸…ç©º</span></span><br><span class="line">    <span class="attr">save</span>: <span class="literal">true</span>, <span class="comment">// ä¿å­˜ï¼ˆè§¦å‘eventsä¸­çš„saveäº‹ä»¶ï¼‰</span></span><br><span class="line">    <span class="comment">/* 1.4.2 */</span></span><br><span class="line">    <span class="attr">navigation</span>: <span class="literal">true</span>, <span class="comment">// å¯¼èˆªç›®å½•</span></span><br><span class="line">    <span class="comment">/* 2.1.8 */</span></span><br><span class="line">    <span class="attr">alignleft</span>: <span class="literal">true</span>, <span class="comment">// å·¦å¯¹é½</span></span><br><span class="line">    <span class="attr">aligncenter</span>: <span class="literal">true</span>, <span class="comment">// å±…ä¸­</span></span><br><span class="line">    <span class="attr">alignright</span>: <span class="literal">true</span>, <span class="comment">// å³å¯¹é½</span></span><br><span class="line">    <span class="comment">/* 2.2.1 */</span></span><br><span class="line">    <span class="attr">subfield</span>: <span class="literal">true</span>, <span class="comment">// å•åŒæ æ¨¡å¼</span></span><br><span class="line">    <span class="attr">preview</span>: <span class="literal">true</span>, <span class="comment">// é¢„è§ˆ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¹¶ä¸”è¿˜èƒ½é€šè¿‡è‡ªå®šä¹‰å·¥å…·</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mavon-editor</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å·¦å·¥å…·æ å‰åŠ å…¥è‡ªå®šä¹‰æŒ‰é’® --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;left-toolbar-before&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;button&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">click</span>=<span class="string">&quot;$click(&#x27;test&#x27;)&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">&quot;op-icon fa fa-mavon-align-left&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">title</span>=<span class="string">&quot;è‡ªå®šä¹‰&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å·¦å·¥å…·æ ååŠ å…¥è‡ªå®šä¹‰æŒ‰é’®  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;left-toolbar-after&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;button&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">click</span>=<span class="string">&quot;$click(&#x27;test&#x27;)&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">&quot;op-icon fa fa-mavon-align-left&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">title</span>=<span class="string">&quot;è‡ªå®šä¹‰&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å³å·¥å…·æ å‰åŠ å…¥è‡ªå®šä¹‰æŒ‰é’®  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;right-toolbar-before&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;button&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">click</span>=<span class="string">&quot;$click(&#x27;test&#x27;)&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">&quot;op-icon fa fa-mavon-align-left&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">title</span>=<span class="string">&quot;è‡ªå®šä¹‰&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å³å·¥å…·æ ååŠ å…¥è‡ªå®šä¹‰æŒ‰é’®  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;right-toolbar-after&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;button&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">click</span>=<span class="string">&quot;$click(&#x27;test&#x27;)&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">&quot;op-icon fa fa-mavon-align-left&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">title</span>=<span class="string">&quot;è‡ªå®šä¹‰&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mavon-editor</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="äº‹ä»¶ç»‘å®š"><a href="#äº‹ä»¶ç»‘å®š" class="headerlink" title="äº‹ä»¶ç»‘å®š"></a>äº‹ä»¶ç»‘å®š</h3><p>ç»„ä»¶ä¹Ÿæä¾›äº†è®¸å¤šçš„äº‹ä»¶ç»‘å®šï¼Œè¿™é‡Œä¸åŠ ä»¥èµ˜è¿°ï¼Œå®˜ç½‘éƒ½æœ‰ã€‚å¯ä»¥çœ‹ä¸€ä¸‹ä¸‹å›¾</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/325740871671512526552-3b249f95-1437-4a15-8e72-2bc169574667.png"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Vueæ’ä»¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sassè¯¦è§£</title>
      <link href="/2023/10/18/CSS/Sass%E8%AF%A6%E8%A7%A3/"/>
      <url>/2023/10/18/CSS/Sass%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<h3 id="1-ä»€ä¹ˆæ˜¯Sass"><a href="#1-ä»€ä¹ˆæ˜¯Sass" class="headerlink" title="1. ä»€ä¹ˆæ˜¯Sass?"></a>1. ä»€ä¹ˆæ˜¯Sass?</h3><p>Sass(Syntactically Awesome Stylesheets)æ˜¯ä¸€ä¸ª <a href="https://so.csdn.net/so/search?q=CSS&spm=1001.2101.3001.7020">CSS</a> é¢„å¤„ç†å™¨ï¼Œæ˜¯ CSS æ‰©å±•è¯­è¨€ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å‡å°‘ CSS é‡å¤çš„ä»£ç ï¼ŒèŠ‚çœå¼€å‘æ—¶é—´ã€‚</p><h3 id="2-ä¸ºä»€ä¹ˆä½¿ç”¨Sassï¼Ÿ"><a href="#2-ä¸ºä»€ä¹ˆä½¿ç”¨Sassï¼Ÿ" class="headerlink" title="2. ä¸ºä»€ä¹ˆä½¿ç”¨Sassï¼Ÿ"></a>2. ä¸ºä»€ä¹ˆä½¿ç”¨Sassï¼Ÿ</h3><ol><li>å®ƒèƒ½å¤Ÿå¸®æˆ‘ä»¬æ›´å¿«æ›´é«˜æ•ˆçš„ç¼–å†™æ›´å¥½ç»´æŠ¤çš„ cssï¼›</li><li>Sass å¼•å…¥åˆç†çš„æ ·å¼å¤ç”¨æœºåˆ¶ï¼Œå¯ä»¥èŠ‚çº¦å¾ˆå¤šæ—¶é—´æ¥é‡å¤ã€‚</li></ol><p>Sassçš„å¥½å¤„å½“ç„¶ä¸ä»…äºæ­¤ï¼Œå½“ä½ ä½¿ç”¨ä¹‹åä¾¿ä¼šå‘ç°å…¶ä¸­çš„å¦™å¤„ã€‚</p><h3 id="3-Sassè¯­æ³•"><a href="#3-Sassè¯­æ³•" class="headerlink" title="3. Sassè¯­æ³•"></a>3. Sassè¯­æ³•</h3><h5 id="3-1-å˜é‡"><a href="#3-1-å˜é‡" class="headerlink" title="3.1 å˜é‡"></a>3.1 å˜é‡</h5><blockquote><p>å˜é‡å¯ä»¥å­˜å‚¨æ ·å¼ä¿¡æ¯ï¼Œä»¥ä¾¿åé¢ä½¿ç”¨ã€‚<br>æ¯”å¦‚ä¸€ä¸ªæ ·å¼åœ¨é¡µé¢çš„å¤šä¸ªåœ°æ–¹ä½¿ç”¨ï¼Œå°±å¯ä»¥å…ˆå°†è¯¥æ ·å¼çš„å€¼èµ‹ç»™ä¸€ä¸ªå˜é‡ï¼Œåé¢ç›´æ¥ä½¿ç”¨å˜é‡å³å¯ã€‚</p></blockquote><p><strong>è¯­æ³•ï¼š</strong> $å˜é‡åï¼šæ ·å¼å€¼ï¼›<br><strong>ä½¿ç”¨ï¼š</strong> $å˜é‡åï¼›<br><strong>æ³¨æ„ç‚¹</strong>ï¼š</p><ol><li>ä»¥$ç¬¦å·å¼€å¤´ï¼Œåè·Ÿå˜é‡å</li><li>å¤šä¸ªå•è¯ï¼Œå˜é‡åä»¥-åˆ†å‰²ï¼Œå¦‚ï¼š$theme-color</li><li>å˜é‡å†™åœ¨#{}ä¸­ä»¥é•¶åµŒå…¥å­—ç¬¦ä¸²</li></ol><p><strong>ç¤ºä¾‹å¦‚ä¸‹ï¼š</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">// <span class="selector-class">.scss</span>æ–‡ä»¶  Sassåç¼€åä¸ºscss</span><br><span class="line">$dark: <span class="number">#000</span>;</span><br><span class="line">$side: left;</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line"><span class="attribute">color</span>: $dark;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box2</span> &#123;</span><br><span class="line"><span class="attribute">background</span>: $dark;</span><br><span class="line"><span class="attribute">border</span>-#&#123;$side&#125;-radius: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line">// ç”Ÿæˆçš„cssä»£ç </span><br><span class="line"><span class="selector-class">.box1</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box2</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">border-left</span>-radius: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="3-2-åµŒå¥—"><a href="#3-2-åµŒå¥—" class="headerlink" title="3.2 åµŒå¥—"></a>3.2 åµŒå¥—</h5><h6 id="1-é€‰æ‹©å™¨åµŒå¥—"><a href="#1-é€‰æ‹©å™¨åµŒå¥—" class="headerlink" title="1. é€‰æ‹©å™¨åµŒå¥—"></a>1. é€‰æ‹©å™¨åµŒå¥—</h6><blockquote><p>å­å…ƒç´ åœ¨çˆ¶å…ƒç´ æ ·å¼çš„ä¸€å¯¹å¤§æ‹¬å·{}å†… å¦‚ï¼šul { li { } }</p></blockquote><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">çˆ·çˆ· &#123;</span><br><span class="line">çˆ¸çˆ¸ &#123;</span><br><span class="line">å„¿å­ &#123;</span><br><span class="line">å­™å­ &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹å¦‚ä¸‹:</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">// <span class="selector-tag">html</span>ç»“æ„</span><br><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;grandpa&quot;&gt;</span><br><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;father&quot;&gt;</span><br><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;son&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">// <span class="selector-class">.scss</span>æ–‡ä»¶</span><br><span class="line"><span class="selector-class">.grandpa</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="selector-class">.father</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.son</span> &#123;</span><br><span class="line">            <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">            <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line">// ç”Ÿæˆçš„cssä»£ç </span><br><span class="line"><span class="selector-class">.grandpa</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.grandpa</span> <span class="selector-class">.father</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.grandpa</span> <span class="selector-class">.father</span> <span class="selector-class">.son</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="2-ä¼ªç±»åµŒå¥—"><a href="#2-ä¼ªç±»åµŒå¥—" class="headerlink" title="2. ä¼ªç±»åµŒå¥—"></a>2. ä¼ªç±»åµŒå¥—</h6><blockquote><p>ä»ä¸Šé¢æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œé€‰æ‹©å™¨åµŒå¥—å¾—å‡ºçš„cssæ ·å¼ç›¸å½“äºåä»£é€‰æ‹©å™¨ä¸€æ ·ï¼Œä¸­é—´éƒ½æœ‰ä¸€ä¸ªç©ºæ ¼åˆ†éš”ï¼Œé‚£å¦‚æœæƒ³ç»™ä¸€ä¸ªå…ƒç´ æ·»åŠ :hoverè¦æ€ä¹ˆåšå‘¢?</p></blockquote><p>&amp;ç¬¦å°±æ˜¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚<br><strong>è¯­æ³•:</strong> &amp;:hover { }<br><strong>ç¤ºä¾‹å¦‚ä¸‹ï¼š</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// <span class="selector-tag">html</span>ç»“æ„</span><br><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;box&quot;&gt;</span><br><span class="line">&lt;<span class="selector-tag">a</span> href=&quot;javascript:;&quot;&gt;hello&lt;/<span class="selector-tag">a</span>&gt;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">// <span class="selector-class">.scss</span>æ–‡ä»¶</span><br><span class="line">// è¿™é‡Œæˆ‘ä»¬å¸Œæœ›é¼ æ ‡æ‚¬åœ<span class="selector-tag">a</span>çš„æ–‡æœ¬é¢œè‰²æ”¹å˜</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">&amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line"><span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line">// ç”Ÿæˆçš„cssä»£ç </span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™é‡Œ&amp;å°±è¡¨ç¤ºç›´æ¥è°ƒç”¨çˆ¶é€‰æ‹©å™¨ï¼Œæ‹¿ä¸Šè¾¹çš„ä¾‹å­ä½ å¯ä»¥æŠŠ&amp;ç†è§£ä¸ºå®ƒæ˜¯&amp;å¤–é¢çš„æ‰€æœ‰çˆ¶é€‰æ‹©å™¨ï¼Œ&amp; &#x3D;&gt; .box aã€‚</p><h5 id="3-3-æ··åˆ-mixin"><a href="#3-3-æ··åˆ-mixin" class="headerlink" title="3.3 æ··åˆ mixin"></a>3.3 æ··åˆ mixin</h5><blockquote><p>mixinç›¸å½“äºå·²ç»å®šä¹‰å¥½äº†ä¸€ç±»æ ·å¼ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹é‡å¤çš„ä½¿ç”¨å®ƒï¼Œå°±è·Ÿjsä¸­çš„å‡½æ•°ä¸€æ ·ã€‚</p></blockquote><p><strong>è¯­æ³•1-ä¸å«å‚æ•°ï¼š</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> name &#123;</span><br><span class="line">cssæ ·å¼</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨:</strong> @include nameï¼›<br><strong>ç¤ºä¾‹å¦‚ä¸‹:</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// <span class="selector-class">.scss</span>æ–‡ä»¶</span><br><span class="line">// å®šä¹‰ä¸€ä¸ªmixin</span><br><span class="line"><span class="keyword">@mixin</span> box-style &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line"><span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line">// ä½¿ç”¨</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line"><span class="keyword">@include</span> box-style;</span><br><span class="line">// å½“ç„¶ä¹Ÿå¯ä»¥ç»§ç»­åœ¨è¿™é‡Œæ·»åŠ æ ·å¼</span><br><span class="line"><span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line">// ç”Ÿæˆçš„cssä»£ç </span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¯­æ³•2-å«å‚æ•°:</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@mixin</span> name ($param1ï¼Œ$param2ï¼Œ ...) &#123;</span><br><span class="line">cssæ ·å¼</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨:</strong> @include name(æ ·å¼1ï¼Œæ ·å¼2ï¼Œâ€¦)ï¼›<br><strong>æ³¨æ„ï¼š</strong><br>å®šä¹‰çš„æ—¶å€™å‚æ•°è¦ä»¥$ç¬¦å¼€å¤´ï¼Œå’Œå˜é‡å‘½åæ˜¯ä¸€æ ·çš„<br><strong>ç¤ºä¾‹å¦‚ä¸‹:</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">// <span class="selector-class">.scss</span>æ–‡ä»¶</span><br><span class="line">$box-<span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">$box-<span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line"></span><br><span class="line">// å®šä¹‰ä¸€ä¸ªmixin</span><br><span class="line"><span class="keyword">@mixin</span> box ($<span class="attribute">width</span>, $<span class="attribute">height</span>) &#123;</span><br><span class="line"><span class="attribute">width</span>: $width;</span><br><span class="line"><span class="attribute">height</span>: $height;</span><br><span class="line">&#125;</span><br><span class="line">// ä½¿ç”¨</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">// <span class="number">1</span>. ç¬¬ä¸€ç§ç”¨æ³•, ç›´æ¥å°†cssæ ·å¼å†™å…¥</span><br><span class="line"><span class="keyword">@include</span> box(<span class="number">200px</span>, <span class="number">200px</span>);</span><br><span class="line"></span><br><span class="line">// <span class="number">2</span>. ç¬¬äºŒç§, å°†å®šä¹‰å¥½çš„å˜é‡å†™å…¥</span><br><span class="line"><span class="keyword">@include</span> box($box-width, $box-height);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line">// ç”Ÿæˆçš„cssä»£ç </span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="3-4-ç»§æ‰¿-extend"><a href="#3-4-ç»§æ‰¿-extend" class="headerlink" title="3.4 ç»§æ‰¿ extend"></a>3.4 ç»§æ‰¿ extend</h5><blockquote><p>å¦‚æœä¸€ä¸ªå…ƒç´ çš„æ ·å¼å’Œå¦ä¸€ä¸ªå…ƒç´ çš„æ ·å¼å®Œå…¨ä¸€æ ·ï¼Œè¿™ä¸ªå…ƒç´ æ— éœ€å†å†™ä¸€éé‡å¤çš„æ ·å¼ï¼Œåªéœ€è¦ä½¿ç”¨@extend å°±å¯ä»¥æŠŠå¦ä¸€ä¸ªå…ƒç´ çš„æ‰€æœ‰æ ·å¼å…¨éƒ¨ç»§æ‰¿è¿‡æ¥ã€‚</p></blockquote><p><strong>è¯­æ³•:</strong> @extend å…ƒç´ é€‰æ‹©å™¨ï¼›<br><strong>ç¤ºä¾‹å¦‚ä¸‹ï¼š</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// <span class="selector-class">.scss</span>æ–‡ä»¶</span><br><span class="line"><span class="selector-class">.box1</span> &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// box2 ç»§æ‰¿ box1çš„æ ·å¼</span><br><span class="line"><span class="selector-class">.box2</span> &#123;</span><br><span class="line"><span class="keyword">@extend</span> .box1;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line">// ç”Ÿæˆçš„cssä»£ç </span><br><span class="line"><span class="selector-class">.box1</span>, <span class="selector-class">.box2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸è¿‡ç»§æ‰¿è¦æ…ç”¨ï¼Œè¢«ç»§æ‰¿ç›¸å…³çš„å…ƒç´ çš„æ ·å¼ä¹Ÿä¼šç»§æ‰¿è¿‡å»ï¼Œæ‚¨çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">// <span class="selector-class">.scss</span>æ–‡ä»¶</span><br><span class="line"><span class="selector-class">.box1</span> &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box1</span> <span class="selector-tag">div</span> &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// box2 ç»§æ‰¿ box1çš„æ ·å¼</span><br><span class="line"><span class="selector-class">.box2</span> &#123;</span><br><span class="line"><span class="keyword">@extend</span> .box1;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line">// ç”Ÿæˆçš„cssä»£ç </span><br><span class="line"><span class="selector-class">.box1</span>, <span class="selector-class">.box2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box1</span> <span class="selector-tag">div</span>, <span class="selector-class">.box2</span> <span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœä¸æƒ³ä¸è¢«ç»§æ‰¿å…ƒç´ çš„ç›¸å…³å…ƒç´ ç‰µæ‰¯ï¼Œè¿˜æ˜¯æ³¨æ„é€‰æ‹©å™¨çš„ä¹¦å†™ã€‚</p><h5 id="3-5-å¯¼å…¥-import"><a href="#3-5-å¯¼å…¥-import" class="headerlink" title="3.5 å¯¼å…¥ import"></a>3.5 å¯¼å…¥ import</h5><blockquote><p>å¦‚æœä¸€ä¸ªé¡µé¢éœ€è¦ä½¿ç”¨å…¶ä»–é¡µé¢çš„æ ·å¼ï¼Œsasså¯ä»¥å¯¼å…¥å…¶ä»–çš„scssæ–‡ä»¶ï¼Œscssä¼šæŠŠä»–ä»¬ç¼–è¯‘æˆä¸€ä¸ªcssæ–‡ä»¶ã€‚<br>è¿™æ ·åœ¨å¼€å‘ä¸­å¯ä»¥æŠŠä¸€ä¸ªé¡µé¢çš„æ ·å¼åˆ†å‰²æˆå¤šä¸ªscssæ–‡ä»¶ï¼Œç„¶ååœ¨é¡µé¢çš„scssæ–‡ä»¶ä¸­å¯¼å…¥å…¶ä»–scssï¼Œå¯ä»¥å®ç°cssçš„æ¨¡å—åŒ–å¼€å‘ã€‚</p></blockquote><p><strong>è¯­æ³•ï¼š</strong> @import â€œæ–‡ä»¶åâ€<br><strong>ç¤ºä¾‹å¦‚ä¸‹ï¼š</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// è¿™é‡Œå‡è®¾åŒçº§ç›®å½•ä¸‹æœ‰ä¸€ä¸ªbox1<span class="selector-class">.scss</span></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line">// åœ¨box2<span class="selector-class">.scss</span>æ–‡ä»¶é‡Œå¼•å…¥box1<span class="selector-class">.scss</span></span><br><span class="line"><span class="keyword">@import</span> <span class="string">&quot;box1&quot;</span></span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line">// ç”Ÿæˆçš„cssä»£ç </span><br><span class="line">div &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="3-6-æ³¨é‡Š"><a href="#3-6-æ³¨é‡Š" class="headerlink" title="3.6 æ³¨é‡Š"></a>3.6 æ³¨é‡Š</h5><ol><li>å•è¡Œæ³¨é‡Šï¼š &#x2F; &#x2F; cssæ–‡ä»¶é‡Œä¸ä¼šæ˜¾ç¤º å‹ç¼©æ–¹å¼çš„cssä¸ä¼šæ˜¾ç¤º</li><li>å¤šè¡Œæ³¨é‡Šï¼š &#x2F;**&#x2F; cssæ–‡ä»¶é‡Œä¼šæ˜¾ç¤º å‹ç¼©æ–¹å¼çš„cssä¸ä¼šæ˜¾ç¤º</li><li>å¼ºåˆ¶æ³¨é‡Šï¼š&#x2F;* ! *&#x2F; cssæ–‡ä»¶é‡Œä¼šæ˜¾ç¤º å‹ç¼©æ–¹å¼çš„cssä¼šæ˜¾ç¤º</li></ol><h5 id="3-7-æ•°å­¦è¿ç®—"><a href="#3-7-æ•°å­¦è¿ç®—" class="headerlink" title="3.7 æ•°å­¦è¿ç®—"></a>3.7 æ•°å­¦è¿ç®—</h5><blockquote><p>åŒ…å«+ã€-ã€*ã€&#x2F;(åŠ å‡ä¹˜é™¤)</p></blockquote><p><strong>ç¤ºä¾‹å¦‚ä¸‹:</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// <span class="selector-class">.scss</span>æ–‡ä»¶</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">50px</span> + <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">100px</span> - <span class="number">50px</span>;</span><br><span class="line">// è¿™é‡Œä¸èƒ½ä¸¤ä¸ªéƒ½å¸¦å•ä½ï¼Œå¦åˆ™æ˜¯<span class="number">100px</span>*pxè¿™ç§ä¸åˆæ³•çš„å€¼</span><br><span class="line"><span class="attribute">margin-top</span>: <span class="number">10px</span> * <span class="number">10</span>; </span><br><span class="line">// cssä¼šå°†/è®¤ä¸ºæ˜¯åˆæ³•çš„ï¼Œæ‰€ä»¥éœ€è¦åŠ æ‹¬å·</span><br><span class="line"><span class="attribute">padding-top</span>: (<span class="number">100px</span> / <span class="number">2</span>) ;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line">// ç”Ÿæˆçš„cssä»£ç </span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="3-8-ifæ¡ä»¶è¯­å¥"><a href="#3-8-ifæ¡ä»¶è¯­å¥" class="headerlink" title="3.8 ifæ¡ä»¶è¯­å¥"></a>3.8 ifæ¡ä»¶è¯­å¥</h5><blockquote><p>Sasså¯ä»¥æ ¹æ®æ¡ä»¶åˆ¤æ–­ç»™å‡ºç‰¹å®šçš„æ ·å¼</p></blockquote><p><strong>è¯­æ³•:</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@if</span> æ¡ä»¶è¯­å¥ &#123;</span><br><span class="line">&#125; @ else if æ¡ä»¶è¯­å¥ &#123;</span><br><span class="line">&#125; <span class="keyword">@else</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹å¦‚ä¸‹ï¼š</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// <span class="selector-class">.scss</span>æ–‡ä»¶</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line"><span class="keyword">@if</span> <span class="number">1</span>+<span class="number">1</span> == <span class="number">2</span> &#123;</span><br><span class="line"><span class="attribute">color</span>: red;</span><br><span class="line">&#125; <span class="keyword">@else</span> if <span class="number">1</span>+<span class="number">1</span> == <span class="number">3</span> &#123;</span><br><span class="line"><span class="attribute">color</span>: blud;</span><br><span class="line">&#125; <span class="keyword">@else</span> &#123;</span><br><span class="line"><span class="attribute">color</span>: pink;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line">// ç”Ÿæˆçš„cssä»£ç </span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="3-9-forå¾ªç¯"><a href="#3-9-forå¾ªç¯" class="headerlink" title="3.9 forå¾ªç¯"></a>3.9 forå¾ªç¯</h5><blockquote><p>Sassä¹Ÿæ”¯æŒforå¾ªç¯ï¼Œæœ‰ä¸¤ç§è¯­æ³•ã€‚</p></blockquote><p><strong>è¯­æ³•1ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@for $index from å¼€å§‹å€¼ through ç»“æŸå€¼ &#123;</span><br><span class="line">&#125;</span><br><span class="line">ä»å¼€å§‹å€¼å¼€å§‹ï¼Œåˆ°ç»“æŸå€¼ç»“æŸï¼ŒåŒ…å«ç»“æŸå€¼  indexè¡¨ç¤º 1ï¼Œ 2ï¼Œ...ç»“æŸå€¼</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹å¦‚ä¸‹:</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">// <span class="selector-class">.scss</span>æ–‡ä»¶</span><br><span class="line"><span class="keyword">@for</span> $i from <span class="number">1</span> through <span class="number">5</span> &#123;</span><br><span class="line"><span class="selector-class">.col-</span>#&#123;$<span class="selector-tag">i</span>&#125; &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">50px</span> * $i;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line">// ç”Ÿæˆçš„cssä»£ç </span><br><span class="line"><span class="selector-class">.col-1</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.col-2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.col-3</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.col-4</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.col-5</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">250px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3-10-eachå¾ªç¯"><a href="#3-10-eachå¾ªç¯" class="headerlink" title="3.10 eachå¾ªç¯"></a>3.10 eachå¾ªç¯</h5><blockquote><p>éå†ä¸€ä¸ªåˆ—è¡¨ï¼Œç„¶åä»åˆ—è¡¨ä¸­å–å‡ºå¯¹åº”å€¼ã€‚<br>åƒborder: 1px solied redï¼› 1px solid red è¿™ç§ç”¨ç©ºæ ¼éš”å¼€çš„å¤åˆå±æ€§ä¾¿æ˜¯åˆ—è¡¨ã€‚</p></blockquote><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@each</span> $index in $list &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹å¦‚ä¸‹ï¼š</strong></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .scssæ–‡ä»¶</span></span><br><span class="line"><span class="variable">$icons</span>: success fail warning;</span><br><span class="line"><span class="keyword">@each</span> <span class="variable">$i</span> in <span class="variable">$icons</span> &#123;</span><br><span class="line"><span class="selector-class">.icon-</span>#&#123;<span class="variable">$i</span>&#125; &#123;</span><br><span class="line"><span class="attribute">background-image</span>: <span class="built_in">url</span>(../images/icons/#&#123;<span class="variable">$i</span>&#125;<span class="selector-class">.png</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”Ÿæˆçš„cssä»£ç </span></span><br><span class="line"><span class="selector-class">.icon-success</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(../images/icons/success.png);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.icon-error</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(../images/icons/error.png);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.icon-warning</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(../images/icons/warning.png);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="3-11-whileå¾ªç¯"><a href="#3-11-whileå¾ªç¯" class="headerlink" title="3.11 whileå¾ªç¯"></a>3.11 whileå¾ªç¯</h5><blockquote><p>åªè¦æ¡ä»¶ä¸ºçœŸï¼Œå°±æ‰§è¡Œè¯­å¥ä½“ã€‚</p></blockquote><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@while</span> æ¡ä»¶ &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹å¦‚ä¸‹ï¼š</strong></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .scssæ–‡ä»¶</span></span><br><span class="line"><span class="variable">$index</span>: <span class="number">6</span>;</span><br><span class="line"><span class="keyword">@while</span> <span class="variable">$index</span>&gt; <span class="number">0</span> &#123;</span><br><span class="line">    <span class="selector-class">.box-</span>#&#123;<span class="variable">$index</span>&#125; &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">5px</span> * <span class="variable">$index</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$index</span>: <span class="variable">$index</span> - <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”Ÿæˆçš„cssä»£ç </span></span><br><span class="line"><span class="selector-class">.box-6</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box-4</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box-2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="3-12-ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°"><a href="#3-12-ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°" class="headerlink" title="3.12 ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°"></a>3.12 ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°</h5><p><strong>è¯­æ³•ï¼š</strong></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@function</span> name(<span class="variable">$param1</span>ï¼Œ<span class="variable">$param2</span>ï¼Œ...) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹å¦‚ä¸‹ï¼š</strong></p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// .scssæ–‡ä»¶</span></span><br><span class="line"><span class="variable">$index</span>: <span class="number">6</span>;</span><br><span class="line"><span class="keyword">@function</span> get-color(<span class="variable">$key</span>) &#123;</span><br><span class="line"><span class="keyword">@if</span> <span class="variable">$key</span> &gt; <span class="number">5</span> &#123;</span><br><span class="line"><span class="keyword">@return</span> <span class="number">#000</span>;</span><br><span class="line">&#125; <span class="keyword">@else</span> &#123;</span><br><span class="line"><span class="keyword">@return</span> <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line"><span class="attribute">background</span>: <span class="built_in">get-color</span>(<span class="variable">$index</span>);</span><br><span class="line">&#125;</span><br><span class="line">--------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”Ÿæˆçš„cssä»£ç </span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> sass </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mockä½¿ç”¨æ–¹æ³•</title>
      <link href="/2023/10/13/mock%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/"/>
      <url>/2023/10/13/mock%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="å¦‚ä½•åœ¨Vueé¡¹ç›®ä¸­ä½¿ç”¨Mockæ¨¡æ‹Ÿæ•°æ®ï¼Ÿ"><a href="#å¦‚ä½•åœ¨Vueé¡¹ç›®ä¸­ä½¿ç”¨Mockæ¨¡æ‹Ÿæ•°æ®ï¼Ÿ" class="headerlink" title="å¦‚ä½•åœ¨Vueé¡¹ç›®ä¸­ä½¿ç”¨Mockæ¨¡æ‹Ÿæ•°æ®ï¼Ÿ"></a>å¦‚ä½•åœ¨Vueé¡¹ç›®ä¸­ä½¿ç”¨Mockæ¨¡æ‹Ÿæ•°æ®ï¼Ÿ</h1><blockquote><p>å‰è¨€ï¼š</p><p>åœ¨é¡¹ç›®å¼€å‘æµç¨‹ä¸­ï¼Œåœ¨å¼€å‘å·¥ä½œå¼€å§‹ä¹‹å‰ï¼Œä¸€èˆ¬ä¼šæœ‰ä¸€ä¸ªæ¥å£æ–‡æ¡£äº§å‡ºçš„è¿‡ç¨‹ï¼šä¹Ÿå°±æ˜¯ä¾æ®è®¾è®¡æ–‡æ¡£ç»™å‡ºå“åº”çš„æ¥å£ç»†èŠ‚ï¼Œæ–¹ä¾¿å‰ç«¯mockæ•°æ®ï¼›é‚£å¦‚ä½•æ›´å¥½çš„ä½¿ç”¨Mockæ¥æ¨¡æ‹Ÿæ•°æ®ï¼Œæ˜¯ä¸€ä¸ªä¼˜ç§€çš„å‰ç«¯å¿…é¡»è¦æŒæ¡çš„æŠ€èƒ½ï¼ˆPSï¼šé¿å…æˆä¸ºèƒŒé”…ä¾ ï¼‰ï¼</p></blockquote><h2 id="1-ä»€ä¹ˆæ˜¯è”è°ƒï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯è”è°ƒï¼Ÿ" class="headerlink" title="1.ä»€ä¹ˆæ˜¯è”è°ƒï¼Ÿ"></a>1.ä»€ä¹ˆæ˜¯è”è°ƒï¼Ÿ</h2><blockquote><p><strong>é¦–å…ˆï¼Œä½ è¦äº†è§£ä»€ä¹ˆæ˜¯è”è°ƒï¼Ÿåœ¨å¼€å‘ä¸­èµ·ä»€ä¹ˆä½œç”¨ï¼Ÿ</strong></p></blockquote><p>ç°åœ¨çš„å¼€å‘åŸºæœ¬éƒ½æ˜¯å‰åç«¯åˆ†ç¦»çš„ï¼Œå½“åç«¯è¿˜æ²¡æœ‰æä¾›æ¥å£çš„æ—¶å€™ï¼Œå‰ç«¯éœ€è¦çš„æ•°æ®ä»å“ªé‡Œæ¥å‘¢ï¼Œå°±åªèƒ½è‡ªå·±é€ å‡æ•°æ®å†™æ­»äº†ã€‚å½“åç«¯æ¥å£åšå¥½åï¼Œå‰ç«¯æ‰€éœ€è¦çš„æ•°æ®å°±éœ€è¦æ›¿æ¢æˆåç«¯æä¾›çš„æ•°æ®äº†ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦è¿›è¡Œä¸€ä¸ªå‰åç«¯çš„è°ƒè¯•ï¼Œæˆ‘ä»¬ä¼šæŠŠ<strong>è¿™ä¸ªè¿‡ç¨‹å«åšå‰åç«¯æ¥å£è”è°ƒ</strong>ã€‚</p><blockquote><p><strong>åœºæ™¯ï¼š</strong></p></blockquote><p>åœ¨ä¸€èˆ¬çš„å¼€å‘åœºæ™¯ä¸­ï¼Œåç«¯è´Ÿè´£å†™æ¥å£ï¼Œå‰ç«¯è´Ÿè´£è°ƒç”¨æ¥å£ã€‚ç„¶è€Œé€šå¸¸æƒ…å†µä¸‹ï¼Œå‰ç«¯å¼€å‘é¡µé¢æ—¶ï¼Œåç«¯è¿˜æœªå†™å¥½æ¥å£ï¼Œå‰ç«¯å¯ä»¥å…ˆè‡ªå·±â€æ¨¡æ‹Ÿâ€œæ¥å£ï¼Œç­‰åˆ°åç«¯å†™å¥½æ¥å£æ—¶ï¼Œå‰ç«¯æ‰èƒ½çœŸæ­£çš„å»è°ƒç”¨åç«¯çš„æ¥å£ã€‚è¿™æ—¶å€™éœ€è¦éªŒè¯è°ƒè¯•å†…å®¹ï¼Œä¾‹å¦‚:æ¥å£ä¸­URLæ˜¯å¦æ­£ç¡®ï¼Œä»¥åŠå‰ç«¯ä¼ çš„å‚æ•°å’Œåç«¯è¿”å›çš„æ•°æ®æ˜¯å¦æ­£ç¡®ç­‰ï¼Œè¿™ä¸ªéªŒè¯æ•°æ®å’ŒåŠŸèƒ½æœ‰æ²¡æœ‰è¯¯çš„è¿‡ç¨‹å°±æ˜¯è”è°ƒã€‚</p><blockquote><p><strong>ä½œç”¨ï¼š</strong></p></blockquote><p>å‰ç«¯ç•Œé¢çš„å±•ç¤ºï¼Œéœ€è¦æœåŠ¡ç«¯ä»æ•°æ®åº“æŸ¥æ‰¾æ•°æ®å¹¶é€šè¿‡æ¥å£è¿”å›ç»™å‰ç«¯ï¼Œè”è°ƒçš„<strong>ç›®çš„æ˜¯æµ‹è¯•å‰åç«¯çš„æ•°æ®æ ¼å¼ &#x2F; æ•°æ®æµ &#x2F;å‚æ•°å€¼æ˜¯å¦æ­£ç¡®</strong>ï¼Œä¿è¯æ¥å£èƒ½æ­£å¸¸è·å–å’Œè¿”å›æ­£ç¡®çš„æ•°æ®ï¼Œæ”¯æŒå¯¹åº”äº§å“åŠŸèƒ½çš„å®ç°ã€‚</p><ul><li>è”è°ƒæ˜¯å‰åç«¯ä¸€èµ·è§è¯é è°±çš„æµ‹è¯•ç»“æœ</li><li>ç»™éœ€æ±‚æ–¹æä¾›ä¸€ä¸ªæ­£ç¡®çš„éœ€æ±‚éªŒè¯ç¯å¢ƒ</li><li>å°½æ—©æš´éœ²å‰åç«¯å®ç°çš„é—®é¢˜</li></ul><h2 id="2-ä»€ä¹ˆæ˜¯Mock"><a href="#2-ä»€ä¹ˆæ˜¯Mock" class="headerlink" title="2.ä»€ä¹ˆæ˜¯Mock?"></a>2.ä»€ä¹ˆæ˜¯Mock?</h2><p>é€šå¸¸æ„ä¹‰çš„mockæŒ‡çš„å°±æ˜¯mock serverï¼Œæ¨¡æ‹ŸæœåŠ¡ç«¯è¿”å›çš„æ¥å£æ•°æ®ï¼Œç”¨äºå‰ç«¯å¼€å‘ï¼Œç¬¬ä¸‰æ–¹æ¥å£è”è°ƒã€‚</p><p>ç®€å•æ¥è¯´å°±æ˜¯ä½¿ç”¨mockjsç”¨æ¥æ¨¡æ‹Ÿäº§ç”Ÿä¸€äº›è™šæ‹Ÿçš„æ•°æ®ï¼Œå¯ä»¥è®©å‰ç«¯åœ¨åç«¯æ¥å£è¿˜æ²¡æœ‰å¼€å‘å‡ºæ¥æ—¶ç‹¬ç«‹å¼€å‘ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨çœŸå®çš„urlï¼Œmockjså¯ä»¥æ‹¦æˆªajaxè¯·æ±‚ï¼Œè¿”å›è®¾å®šå¥½çš„æ•°æ®ã€‚</p><p><img src="https://upload-images.jianshu.io/upload_images/28377699-080aa3ec7ee0b609.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p><p>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</p><p><strong>åœºæ™¯ï¼š</strong></p><ul><li>å‰åç«¯å¼€å‘è¿›åº¦ä¸ä¸€è‡´ï¼Œå‰ç«¯å¼€å‘é€Ÿåº¦å¿«äºåç«¯ï¼Œéœ€è¦ä¸€ä¸ªå‡çš„æ¥å£ç”¨äºæ¨¡æ‹Ÿåç«¯è¿”å›ã€‚</li><li>é¡¹ç›®éœ€è¦ç”¨åˆ°ç¬¬ä¸‰æ–¹æ¥å£ï¼Œå¦‚æœç¬¬ä¸‰æ–¹æ¥å£æœªå¼€å‘å¥½ï¼Œæˆ–è€…ç¬¬ä¸‰æ–¹æ¥å£æ²¡æœ‰æµ‹è¯•ç¯å¢ƒï¼Œä¸ºäº†ä¿è¯è¿›åº¦ï¼Œæ‰€ä»¥éœ€è¦æ¨¡æ‹Ÿæ¥å£ç”¨äºè°ƒè¯•ã€‚</li></ul><h2 id="4-æ€ä¹ˆä½¿ç”¨Mock"><a href="#4-æ€ä¹ˆä½¿ç”¨Mock" class="headerlink" title="4.æ€ä¹ˆä½¿ç”¨Mock?"></a>4.æ€ä¹ˆä½¿ç”¨Mock?</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å®˜ç½‘åœ°å€ï¼šhttp:<span class="comment">//mockjs.com/</span></span><br></pre></td></tr></table></figure><h3 id="3-1-ä½¿ç”¨æ–¹å¼"><a href="#3-1-ä½¿ç”¨æ–¹å¼" class="headerlink" title="3.1 ä½¿ç”¨æ–¹å¼"></a>3.1 ä½¿ç”¨æ–¹å¼</h3><p>1ï¼‰åœ¨vue-cli&#x2F;viteé¡¹ç›®æ­å»ºåï¼Œå®‰è£…axioså’Œmockjs</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -S axios</span><br><span class="line">npm install -D mockjs</span><br></pre></td></tr></table></figure><ol><li>åœ¨utilæ–‡ä»¶(é€šå¸¸æƒ…å†µä¸‹)é…ç½®axioså’Œmock</li></ol><ul><li>axiosé…ç½®ï¼Œå¹¶åœ¨main.jsä¸­å¼•å…¥</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//http.jsæ–‡ä»¶å†…å®¹</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="function"><span class="params">res</span>=&gt;</span>res.<span class="property">data</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> axios</span><br></pre></td></tr></table></figure><ul><li>mocké…ç½®ï¼Œå¹¶åœ¨main.jsä¸­æ‰§è¡Œ</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¯ä»¥åœ¨mock.jsæ–‡ä»¶ä¸­æ¨¡æ‹Ÿæ•°æ®</span></span><br><span class="line"><span class="comment">//å¦‚æœå¼•å…¥å‡ºç°... æ‰§è¡Œnpm i --save-dev @types/mockjs </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥mockjs</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Mock</span> <span class="keyword">from</span> <span class="string">&#x27;mockjs&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// mockæ–¹æ³•--ä¸‰ä¸ªå‚æ•°</span></span><br><span class="line">  <span class="comment">// 1. æ‹¦æˆªè¯·æ±‚åœ°å€</span></span><br><span class="line">  <span class="comment">// 2. è¯·æ±‚æ–¹å¼</span></span><br><span class="line">  <span class="comment">// 3. è¿”å›æ•°æ®</span></span><br><span class="line">    <span class="comment">// å½¢å¼ï¼š1ç›´æ¥è¿”å›æ•°æ®  2å‡½æ•°è¿”å›æ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰å…¨å±€æ•°æ®</span></span><br><span class="line"><span class="keyword">let</span> arr =[]</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰å‡½æ•°-ç”Ÿæˆæ•°æ®</span></span><br><span class="line"><span class="comment">// å‡½æ•°è¿”å›æ•°æ®--æ–¹ä¾¿è¿›è¡Œå¢åˆ æ”¹æŸ¥</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">createNews</span>=(<span class="params"></span>)=&gt;&#123;</span><br><span class="line">  <span class="keyword">let</span> newlist = []</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i =<span class="number">0</span>;i&lt;<span class="number">5</span>;i++)&#123;</span><br><span class="line">    newlist.<span class="title function_">push</span>(&#123;</span><br><span class="line">      <span class="comment">// ç”Ÿæˆçš„æ•°æ®</span></span><br><span class="line">      <span class="attr">cname</span>:<span class="title class_">Mock</span>.<span class="property">Random</span>.<span class="title function_">cname</span>()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newlist</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">arr = <span class="title function_">createNews</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰å‡½æ•°-å¤„ç†æ–°å¢æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleAddName</span> = (<span class="params">opt</span>)=&gt;&#123;</span><br><span class="line">  <span class="comment">// postä¼ é€’è¿‡æ¥çš„å‚æ•°</span></span><br><span class="line">  <span class="comment">// console.log(opt.body) //jsonå­—ç¬¦ä¸² éœ€è¦è½¬æˆå¯¹è±¡</span></span><br><span class="line">  <span class="keyword">let</span> &#123;keyWords&#125; = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(opt.<span class="property">body</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(keyWords)</span><br><span class="line">  arr.<span class="title function_">push</span>(&#123;<span class="attr">cname</span>:keyWords&#125;)</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰å‡½æ•°-åˆ é™¤æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleDeleteName</span> =(<span class="params">opt</span>)=&gt;&#123;</span><br><span class="line">  <span class="comment">// é€šè¿‡opt.urlæˆªå–å­—ç¬¦ä¸²ä¼ é€’è¿‡æ¥çš„å‚æ•°</span></span><br><span class="line">  <span class="comment">// console.log(opt.url)</span></span><br><span class="line">  <span class="keyword">let</span> index = opt.<span class="property">url</span>.<span class="title function_">split</span>(<span class="string">&#x27;=&#x27;</span>)[<span class="number">1</span>]</span><br><span class="line">  <span class="comment">// console.log(index)</span></span><br><span class="line">  arr.<span class="title function_">splice</span>(index,<span class="number">1</span>)</span><br><span class="line">  <span class="comment">// console.log(arr)</span></span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥è¯¢æ¥å£--get</span></span><br><span class="line"><span class="title class_">Mock</span>.<span class="title function_">mock</span>(<span class="string">&#x27;/mock/news&#x27;</span>,<span class="string">&#x27;get&#x27;</span>,arr)</span><br><span class="line"><span class="comment">// æ–°å¢æ¥å£--post</span></span><br><span class="line"><span class="title class_">Mock</span>.<span class="title function_">mock</span>(<span class="string">&#x27;/mock/addNews&#x27;</span>,<span class="string">&#x27;post&#x27;</span>,handleAddName)</span><br><span class="line"><span class="comment">// åˆ é™¤æ¥å£--delete(è¯·æ±‚çš„æŸ¥è¯¢å‚æ•°æ‹¼æ¥åœ¨è¯·æ±‚è·¯å¾„ä¸­çš„ï¼Œéœ€è¦å¯¹è·¯å¾„è¿›è¡Œå¤„ç†ï¼Œä½¿ç”¨æ­£åˆ™ï¼Œåªè¦æ˜¯ç¬¦åˆæ ¡éªŒçš„è¿›æ¥è¿›è¡Œæ“ä½œ)</span></span><br><span class="line"><span class="title class_">Mock</span>.<span class="title function_">mock</span>(<span class="regexp">/^\/mock\/deleteNews/</span>,<span class="string">&#x27;delete&#x27;</span>,handleDeleteName)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›´æ¥è¿”å›æ•°æ®</span></span><br><span class="line"><span class="comment">// Mock.mock(&#x27;/mock/news&#x27;,&#x27;put&#x27;,&#123;</span></span><br><span class="line"><span class="comment">// å±æ€§ list çš„å€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­å«æœ‰ 1 åˆ° 10 ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="comment">//   &quot;list|10&quot;:[</span></span><br><span class="line"><span class="comment">//     &#123;</span></span><br><span class="line"><span class="comment">//       &quot;fname&quot;:&quot;@cfirst()&quot;,</span></span><br><span class="line"><span class="comment">//       &quot;lname&quot;:&quot;@clast()&quot;,</span></span><br><span class="line"><span class="comment">//       &quot;avatar&quot;:&quot;@image(&#x27;100x100&#x27;,&#x27;pink&#x27;,&#x27;#fff&#x27;,&#x27;png&#x27;,&#x27;Hello&#x27;)&quot;,</span></span><br><span class="line"><span class="comment">//       &quot;info&quot;:&quot;@cparagraph()&quot;,</span></span><br><span class="line"><span class="comment">//       &quot;age&quot;:&quot;@integer(0,100)&quot;,</span></span><br><span class="line"><span class="comment">//       &quot;address&quot;:&quot;@county(true)&quot;,</span></span><br><span class="line"><span class="comment">//       &quot;yzm&quot;:&quot;@string(&#x27;number&#x27;,6)&quot;</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">//   ]</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br></pre></td></tr></table></figure><ul><li>main.jsæ–‡ä»¶</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//main.jsæ–‡ä»¶å†…å®¹</span></span><br><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./style.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router/index.js&#x27;</span></span><br><span class="line"><span class="comment">//å¼•å…¥axios</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;./util/http.js&#x27;</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡Œmockjsæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./util/mock.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¨å±€æä¾›</span></span><br><span class="line">app.<span class="title function_">provide</span>(<span class="string">&#x27;$axios&#x27;</span>,axios)</span><br><span class="line"></span><br><span class="line">app</span><br><span class="line">.<span class="title function_">use</span>(router)</span><br><span class="line">.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><ul><li>æ¨¡æ‹Ÿè·å–åˆ°çš„æ•°æ®å¦‚ä¸‹å›¾(å…·ä½“å¯æ ¹æ®å®˜ç½‘æä¾›çš„ç¤ºä¾‹ï¼ŒæŒ‰éœ€ä½¿ç”¨)ï¼š</li></ul><p><img src="https://upload-images.jianshu.io/upload_images/28377699-720630119b0e5c54.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1138/format/webp" alt="img"></p><p>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</p><ol><li>è°ƒç”¨æ¥å£è¯·æ±‚æ•°æ®ï¼Œæ¸²æŸ“æ•°æ®</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>Mockæ¨¡æ‹Ÿæ•°æ®<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;item,index in list&quot; :key=&quot;item&quot;&gt;</span><br><span class="line">      &lt;h4&gt;&#123;&#123;item.fname&#125;&#125;&lt;/h4&gt;</span><br><span class="line">      &lt;h4&gt;&#123;&#123;item.cname&#125;&#125;&lt;/h4&gt;</span><br><span class="line">      &lt;input type=&quot;button&quot; value=&quot;åˆ é™¤Name&quot; @click=&quot;deleteName(index)&quot;&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; v-model=&quot;addNameInp&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;button&quot; value=&quot;æ–°å¢Name&quot; @click=&quot;addNameBtn&quot;&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">// å¼•å…¥</span><br><span class="line">import &#123;ref,reactive,toRefs,inject,onMounted&#125; from &#x27;vue&#x27;</span><br><span class="line">// ä½¿ç”¨axios</span><br><span class="line">const $axios = inject(&#x27;$axios&#x27;)</span><br><span class="line">// æ•°æ®</span><br><span class="line">const data = reactive(&#123;</span><br><span class="line">  list:[]</span><br><span class="line">&#125;)</span><br><span class="line">// è§£æ„list --ä½¿ç”¨toRefså˜æˆå“åº”å¼</span><br><span class="line">const &#123;list&#125; = toRefs(data)</span><br><span class="line">// æ–°å¢çš„åå­—çš„value</span><br><span class="line">const addNameInp = ref(&#x27;&#x27;)</span><br><span class="line">// æ–°å¢æŒ‰é’®</span><br><span class="line">const addNameBtn = async()=&gt;&#123;</span><br><span class="line">  // è¯·æ±‚æ•°æ®</span><br><span class="line">  let res = await $axios.post(&#x27;/mock/addNews&#x27;,&#123;</span><br><span class="line">    keyWords:addNameInp.value</span><br><span class="line">  &#125;)</span><br><span class="line">  // æ¸…ç©ºè¾“å…¥æ¡†</span><br><span class="line">  addNameInp.value=&#x27;&#x27;</span><br><span class="line">  data.list = res</span><br><span class="line">&#125;</span><br><span class="line">// åˆ é™¤æŒ‰é’®</span><br><span class="line">const deleteName =async(index)=&gt;&#123;</span><br><span class="line">  let res = await $axios.delete(&#x27;/mock/deleteNews&#x27;,&#123;</span><br><span class="line">    params:&#123;</span><br><span class="line">      index:index</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  data.list=res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">onMounted(async()=&gt;&#123;</span><br><span class="line">  // è¯·æ±‚æ•°æ®</span><br><span class="line">  let res = await  $axios.get(&#x27;/mock/news&#x27;)</span><br><span class="line">  console.log(res)</span><br><span class="line">  // data.list  = res.list</span><br><span class="line">  data.list= res</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><img src="https://upload-images.jianshu.io/upload_images/28377699-749479bf0ce9c5bb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>2åˆ†é’Ÿè§„åˆ™</title>
      <link href="/2023/10/13/2%E5%88%86%E9%92%9F%E8%A7%84%E5%88%99/"/>
      <url>/2023/10/13/2%E5%88%86%E9%92%9F%E8%A7%84%E5%88%99/</url>
      
        <content type="html"><![CDATA[<h1 id="2åˆ†é’Ÿè§„åˆ™"><a href="#2åˆ†é’Ÿè§„åˆ™" class="headerlink" title="2åˆ†é’Ÿè§„åˆ™"></a><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==" alt="img">2åˆ†é’Ÿè§„åˆ™</h1><p>å®ç”¨æŠ€å·§æ–‡æ‘˜</p><p>æ¯å½“ä½ å‘ç°å¾ˆéš¾å¼€å§‹æ‰§è¡ŒæŸé¡¹ä»»åŠ¡æ—¶ï¼Œå¯ä»¥è¯•è¯•å°†å…¶ç¼©å‡æˆ2åˆ†é’Ÿçš„ç‰ˆæœ¬ã€‚</p><ul><li>çœ‹ä¸€æœ¬ä¹¦ â†’ çœ‹ä¸€é¡µä¹¦</li><li>å†™ä¸€ç¯‡æ–‡ç«  â†’ å†™ä¸€å¥è¯</li><li>è·‘10å…¬é‡Œ â†’ ç©¿ä¸Šè·‘é‹</li><li>åš100æ¬¡ä¿¯å§æ’‘ â†’ åš1æ¬¡ä¿¯å§æ’‘</li><li>å¤šåƒè”¬èœæ°´æœ â†’ åƒä¸€ä¸ªæ°´æœ</li><li>ç¼–å†™ä¸€ä¸ªç¨‹åº â†’ ç¼–å†™ä¸€ä¸ªå‡½æ•° â†’ ç¼–å†™ä¸€è¡Œä»£ç </li></ul><p>è¿™æ ·åšçš„ç›®çš„æ˜¯ä½¿ä¸Šæ‰‹å˜å¾—è¶…çº§å®¹æ˜“ï¼Œè®©ä½ å…ˆä¸Šæ‰‹å†è¯´ã€‚ä¸€æ—¦å¼€å§‹åšäº†ï¼ˆè¿™å¯èƒ½æ˜¯æœ€è‰°éš¾çš„ä¸€æ­¥ï¼‰ï¼Œä½ å°±ä¼šå¼€å§‹æœ‰åŠ¨åŠ›ï¼Œå¯èƒ½ä¼šç»§ç»­åšä¸‹å»ã€‚</p><ul><li>é˜…è¯»ä¸€é¡µ â†’ é˜…è¯»10é¡µ â†’ è¯»å®Œç¬¬ä¸€ç« </li><li>å†™ä¸€ä¸ªå¥å­ â†’ å†™æ–‡ç« çš„å¼€å¤´ â†’ å†™å‡ºæ­£æ–‡</li><li>ç©¿ä¸Šè·‘é‹ â†’ æ­¥è¡Œ5åˆ†é’Ÿ â†’ è·‘æ­¥5åˆ†é’Ÿ</li></ul><p>ä¸€æ—¦å¼€å§‹ï¼Œç»§ç»­åšä¸‹å»å°±ä¼šå®¹æ˜“å¾—å¤šã€‚æœ‰æ—¶ï¼Œä½ ç”šè‡³ä¼šå‘ç°ï¼Œè‡ªå·±åœ¨ä¸çŸ¥ä¸è§‰é—´å·²ç»å®Œæˆäº†ä»»åŠ¡ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> å®ç”¨æŠ€å·§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenAPI/Swagger</title>
      <link href="/2023/10/11/OpenAPI%20Swagger/"/>
      <url>/2023/10/11/OpenAPI%20Swagger/</url>
      
        <content type="html"><![CDATA[<h1 id="OpenAPI-Swagger"><a href="#OpenAPI-Swagger" class="headerlink" title="OpenAPI&#x2F;Swagger"></a>OpenAPI&#x2F;Swagger</h1><blockquote><p>OpenAPI &#x2F; Swagger ç›¸è¾ƒäºå…¶ä»–è§„èŒƒå®Œå–„ç¨‹åº¦æ›´é«˜ï¼Œç”Ÿæ€æ›´åŠ å®Œæ•´ï¼Œæ˜¯ç›®å‰ CODING æ¨èçš„ API è®¾è®¡è¯­è¨€ã€‚</p></blockquote><h3 id="ä»€ä¹ˆæ˜¯-OpenAPI-Swagger"><a href="#ä»€ä¹ˆæ˜¯-OpenAPI-Swagger" class="headerlink" title="ä»€ä¹ˆæ˜¯ OpenAPI &#x2F; Swagger"></a>ä»€ä¹ˆæ˜¯ OpenAPI &#x2F; Swagger</h3><p><a href="https://swagger.io/resources/open-api">OpenAPI</a> è§„èŒƒï¼ˆOASï¼‰æ˜¯ä¸€ç§é€šç”¨çš„ã€å’Œç¼–ç¨‹è¯­è¨€æ— å…³çš„ API æè¿°è§„èŒƒï¼Œä½¿äººç±»å’Œè®¡ç®—æœºéƒ½å¯ä»¥å‘ç°å’Œç†è§£æœåŠ¡çš„åŠŸèƒ½ï¼Œè€Œæ— éœ€è®¿é—®æºä»£ç ã€æ–‡æ¡£æˆ–é’ˆå¯¹æ¥å£è¿›è¡Œå—…æ¢ã€‚æ­£ç¡®å®šä¹‰åï¼Œä½¿ç”¨è€…å¯ä»¥ä½¿ç”¨æœ€å°‘çš„å®ç°é€»è¾‘æ¥ç†è§£è¿œç¨‹æœåŠ¡å¹¶ä¸ä¹‹äº¤äº’ã€‚</p><p>OpenAPI å§‹äº Swagger è§„èŒƒï¼ŒSwagger è§„èŒƒå·²äº <a href="https://smartbear.com/blog/develop/what-is-the-difference-between-swagger-and-openapi/">2015 å¹´æèµ ç»™ Linux åŸºé‡‘ä¼šåæ”¹åä¸º OpenAPI</a>ï¼Œå¹¶å®šä¹‰æœ€æ–°çš„è§„èŒƒä¸º OpenAPI 3.0ã€‚</p><p>CODING ç›®å‰æ”¯æŒä»¥ä¸‹ç‰ˆæœ¬å¯¼å…¥ï¼š</p><ul><li>OpenAPI v3ï¼ˆOAS 3ï¼‰</li><li>Swagger v2</li></ul><h3 id="æœ€ä½³å®è·µ"><a href="#æœ€ä½³å®è·µ" class="headerlink" title="æœ€ä½³å®è·µ"></a>æœ€ä½³å®è·µ</h3><p>é€šå¸¸ï¼Œè®¾è®¡ API è§„èŒƒæœ‰ä¸¤ä¸ªæ–¹å‘ï¼ŒDesign-Firstï¼ˆè®¾è®¡ä¼˜å…ˆï¼‰ æˆ– Code-Firstï¼ˆç¼–ç ä¼˜å…ˆï¼‰</p><ol><li><p>Design-Firstï¼ˆè®¾è®¡ä¼˜å…ˆï¼‰ï¼š</p><p>å³ä¼˜å…ˆè®¾è®¡ API è§„èŒƒï¼Œè®¾è®¡å®Œæˆåå†ç€æ‰‹è¿›è¡Œä»£ç å¼€å‘å·¥ä½œã€‚</p><p>é‡‡ç”¨ Design-First å°±æ„å‘³ç€ï¼Œå°†è®¾è®¡ API è·¯ç”±ã€å‚æ•°ç­‰å·¥ä½œæå‰ï¼Œåç»­æ•´ä¸ªè½¯ä»¶å¼€å‘çš„æµç¨‹éƒ½éœ€è¦å›´ç»•ç€ API è§„èŒƒä¸ºæ ¸å¿ƒï¼Œå½“ç„¶è¿™éœ€è¦æœ‰ä¸€å®šçš„è®¾è®¡ç»éªŒçš„å¼€å‘äººå‘˜æ‰èƒ½èƒœä»»ã€‚</p><p>Design-First æœ‰å¾ˆå¤šå¥½å¤„ï¼š</p><p>-æé«˜å¼€å‘æ•ˆç‡ã€‚å¼€å‘å›¢é˜Ÿå°†æ ¹æ® API è§„èŒƒè¿›è¡Œå¹¶è¡Œå¼€å‘å’Œå¯¹æ¥å·¥ä½œï¼Œè€Œæ— éœ€ç­‰å¾…æ¥å£é€»è¾‘å¼€å‘å®Œæ¯•ã€‚<br>-é™ä½æ¥å£å¼€å‘çš„æˆæœ¬ï¼Œæ— éœ€ä¿®æ”¹ä»£ç é€»è¾‘å³å¯è½»æ¾åœ°ä¿®æ”¹ API è§„èŒƒï¼Œå› ä¸º API æè¿°è¯­è¨€ï¼ˆå¦‚ï¼šOpenAPIï¼‰ä¸ç¼–ç è¯­è¨€æ— å…³<br>-å¼€å‘äººå‘˜æ›´åŠ ä¸“æ³¨äºè®¾è®¡ API è§„èŒƒï¼Œå¯¹æ¯” Code-First å¯ä»¥æå†™æ›´å¤š API çš„ç»†èŠ‚ï¼Œå¦‚ï¼šæ ¡éªŒè§„åˆ™ã€èŒƒä¾‹æ•°æ®ç­‰ï¼ŒåŒæ—¶å¼€å‘äººå‘˜å¯¹ API çš„å…¨å±€ä¸€è‡´æ€§ã€æ‰©å±•æ€§ã€è§„èŒƒæ€§ä¹Ÿæœ‰æ›´å¥½çš„æŠŠæ§ã€‚<br>-åœ¨è”è°ƒå¼€å‘çš„è¿‡ç¨‹ä¸­å¯ä»¥æå‰å‘ç°å’Œè§£å†³é—®é¢˜ï¼Œé¿å…é—®é¢˜åœ¨å¼€å‘å®Œæ¯•åä¿®æ”¹çš„æˆæœ¬è¿‡é«˜ã€‚<br>-ç”±äº API æè¿°æ›´åŠ æ ‡å‡†åŒ–ï¼Œå¯ä»¥æ–¹ä¾¿åšæ›´å¤šçš„ API ç”Ÿæ€å»¶ä¼¸ï¼Œæ¯”å¦‚åŸºäº API è§„èŒƒç”Ÿæˆ Mock API Serverï¼Œå¼€å‘ API è‡ªåŠ¨åŒ–æµ‹è¯•ä»£ç ï¼Œæ¥å…¥ API ç½‘å…³ç­‰ã€‚</p><p>ç‚¹å‡»æŸ¥çœ‹<a href="https://swagger.io/blog/api-design/design-first-or-code-first-api-development">æ›´å¤šå‚è€ƒ</a></p></li><li><p>Code-Firstï¼ˆç¼–ç ä¼˜å…ˆï¼‰ï¼š</p><p>å³é€šè¿‡ä»£ç ä¸­å…³äº API æè¿°ç‰¹æ€§ã€æ³¨è§£æˆ–æ³¨é‡Šè‡ªåŠ¨ç”Ÿæˆ API æè¿°æ–‡ä»¶çš„è®¾è®¡æ–¹å¼ï¼Œå¦‚ï¼šJAVA ç”Ÿæ€çš„ SpringFoxã€‚</p><p>é€‚åˆå€¾å‘äºåœ¨ä»£ç ä¸Šç¼–å†™ API è§„èŒƒï¼Œé€šè¿‡è‡ªåŠ¨åŒ–è®¾æ–½è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£çš„å›¢é˜Ÿã€‚</p><p>Code-First çš„ä¼˜ç‚¹ï¼š</p><p>-èŠ‚çœæ—¶é—´ã€‚å¯¹äº API å¼€å‘è€…ï¼Œç¼–ç çš„åŒæ—¶å¯ä»¥è·å¾—ä¸€ä»½æ»¡è¶³åŸºæœ¬è¦æ±‚çš„ API æ–‡æ¡£ã€‚<br>-æ–¹ä¾¿æ¥å…¥è‡ªåŠ¨åŒ– CI&#x2F;CD æµç¨‹ä¸­ã€‚</p><p>è™½ç„¶ Code-First çœå»äº†å¼€å‘è€…è®¾è®¡ API æè¿°æ–‡ä»¶çš„é˜¶æ®µï¼Œæé«˜äº† API å¼€å‘è€…çš„æ•ˆç‡ï¼Œä½†æ˜¯ä»æ•´ä¸ªå›¢é˜Ÿçš„è§’åº¦æ¥çœ‹ï¼Œæ•ˆç‡å¹¶ä¸ä¸€å®šæå‡äº†ï¼Œåè€Œæœ‰å¯èƒ½é™ä½äº†æ•ˆç‡ã€‚</p><p>ä¸åŒ API å¼€å‘è€…çš„ç»éªŒå’Œä¹ æƒ¯çš„ä¸åŒï¼Œææœ‰å¯èƒ½åœ¨ç¼–ç çš„è¿‡ç¨‹ä¸­å¯¹ API çš„é™åˆ¶æ¡ä»¶è€ƒè™‘ä¸å…¨ï¼Œåˆæˆ–è€…æ¡†æ¶ç”Ÿæˆ API æ–‡æ¡£çš„ç¨‹åºå®Œå–„åº¦ä¸å¤Ÿï¼Œç§ç§å› ç´ å¯¼è‡´æœ€ç»ˆç”Ÿæˆçš„ API çš„æè¿°æ— æ³•è¾¾åˆ°ç†æƒ³æ ‡å‡†ã€‚</p><p>è€Œå¾ˆå¤š API å¼€å‘è€…ä¹ æƒ¯å¼€å‘å®Œæˆåæ‰æ¨é€ä»£ç ï¼Œå¹¶ç”Ÿæˆ API æ–‡æ¡£ï¼Œä¹Ÿå¯¼è‡´äº†å›¢é˜Ÿçš„è¿›ç¨‹é˜»å¡äºæ­¤ï¼Œæ‹–åäº†æ•´ä¸ªå›¢é˜Ÿçš„å¼€å‘è¿›ç¨‹ã€‚å¦ä¸€æ–¹é¢ï¼ŒAPI åœ¨å¼€å‘å®Œæˆå¦‚æœæ²¡æœ‰æµ‹è¯•ï¼Œå¾ˆæœ‰å¯èƒ½å¯¼è‡´ API å¯¹æ¥è€…åœ¨å¯¹æ¥çš„è¿‡ç¨‹ä¸­é‡åˆ°é‡é‡é˜»ç¢ã€‚</p><p>CODING ä¹Ÿå¸Œæœ›å„ä½å¼€å‘è€…é‡è§† API è®¾è®¡çš„é‡è¦æ€§ï¼Œå¦‚æœæ‚¨å–œæ¬¢ Code-First è®¾è®¡æ–¹å‘ï¼Œæˆ‘ä»¬çš„å»ºè®®æ˜¯ï¼š</p><p>-é€‰ç”¨å®Œå–„ç¨‹åº¦æ¯”è¾ƒé«˜çš„ç”Ÿæˆç»„ä»¶<br>-å¯¹ API çš„æè¿°å°½å¯èƒ½çš„ç»†è‡´ã€å®Œæ•´<br>-ä¼˜å…ˆè®¾è®¡è·¯ç”±ã€è¯·æ±‚ã€å“åº”ç­‰è§„åˆ™ï¼Œè¯¦ç»†çš„é€»è¾‘ä»£ç åœ¨ API è®¾è®¡å®Œæˆåå†ç€æ‰‹å¼€å‘ã€‚</p></li></ol><p>Design-First å’Œ Code-First é’ˆå¯¹ä¸åŒçš„åœºæ™¯æœ‰ç€å„è‡ªçš„ä¼˜åŠ¿ï¼Œä¸åŒå›¢é˜Ÿå¯¹ä¸¤è€…è€ƒè™‘çš„æ–¹å‘ä¹Ÿä¸åŒï¼Œä½†æ˜¯å¯¹ API æè¿°çš„å®Œå–„ä¸ç®¡æ˜¯å“ªä¸ªæ–¹å‘éƒ½æ˜¯æœ€é‡è¦çš„ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å°†é’ˆå¯¹ Design-First å’Œ Code-First ä¸¤ä¸ªæ–¹å‘çš„æœ€ä½³å®è·µä½œå±•å¼€ã€‚</p><h4 id="Design-First"><a href="#Design-First" class="headerlink" title="Design-First"></a>Design-First</h4><p>OpenAPI è¿›åŒ–åˆ° v3 ç‰ˆæœ¬åï¼Œè™½ç„¶è§„èŒƒéå¸¸å®Œå–„ï¼Œä½†å¯¹äºé¦–æ¬¡ä¸Šæ‰‹çš„åŒå­¦æ¥è¯´è¿˜æ˜¯éå¸¸å¤æ‚ï¼Œé‚£ä¹ˆå¸¦æœ‰ç•Œé¢çš„ç¼–è¾‘å·¥å…·ä¼šæˆä¸ºæœ€ä½³é€‰æ‹©ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬æ¨èä½¿ç”¨ <a href="https://mermade.github.io/openapi-gui">OpenAPI-GUI v3</a> æ¥è®¾è®¡ API æè¿°æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223145811.png"><img src="https://help-assets.codehub.cn/enterprise/20191223145811.png" alt="img"></a></p><h5 id="OpenAPI-GUI-v3-åŸºæœ¬ä½¿ç”¨"><a href="#OpenAPI-GUI-v3-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="OpenAPI-GUI v3 åŸºæœ¬ä½¿ç”¨"></a>OpenAPI-GUI v3 åŸºæœ¬ä½¿ç”¨</h5><p>OpenAPI-GUI v3 æ”¯æŒè®¾è®¡å¤§å¤šæ•°å¸¸è§æƒ…å†µçš„ API è§„åˆ™ï¼Œå¹¶ä¸”æ”¯æŒæœ¬åœ°éƒ¨ç½²ï¼Œéå¸¸é€‚åˆæ–°æ‰‹ï¼Œä¸‹é¢æˆ‘ä»¬ç®€å•ä»‹ç»ä¸€ä¸‹ OpenAPI-GUI v3 çš„åŸºæœ¬ä½¿ç”¨æ–¹å¼ã€‚</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223145901.png"><img src="https://help-assets.codehub.cn/enterprise/20191223145901.png" alt="img"></a></p><p>OpenAPI-GUI v3 çš„å¯¼èˆªç»“æ„å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ‡æ¢åˆ° <code>Header</code>ï¼Œç»™ API æ–‡æ¡£å®šä¹‰æ ‡é¢˜ã€æè¿°ã€ä½œè€…ç­‰åŸºç¡€ä¿¡æ¯ã€‚</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223150930.png"><img src="https://help-assets.codehub.cn/enterprise/20191223150930.png" alt="img"></a></p><p>æ¥ç€ï¼Œæˆ‘ä»¬åˆ‡æ¢è‡³ <code>Servers</code> é…ç½® API å„ç¯å¢ƒåŸºç¡€è·¯å¾„åœ°å€ã€‚</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223150958.png"><img src="https://help-assets.codehub.cn/enterprise/20191223150958.png" alt="img"></a></p><p>å¦‚æœæ‚¨çš„ API éœ€è¦ç»è¿‡é‰´æƒï¼ˆOAuthã€APIKey ç­‰ï¼‰ï¼Œæ‚¨å¯ä»¥åˆ‡æ¢åˆ° <code>Security</code> é…ç½®å“åº”çš„é‰´æƒä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223151344.png"><img src="https://help-assets.codehub.cn/enterprise/20191223151344.png" alt="img"></a></p><p>ä¸‹é¢å°†å¼€å§‹è®¾è®¡ API åˆ†ç»„ï¼Œç‚¹å‡»åˆ‡æ¢åˆ° <code>Tags</code>ï¼Œå¯¹åº”çš„ä¹‹åè®¾è®¡çš„æ¥å£å¯ä¸åˆ†ç»„ç›¸å…³è”ï¼Œå¹¶åœ¨æ–‡æ¡£ä¸­å±•ç¤ºæ—¶ï¼Œåˆå¹¶åˆ°å¯¹åº”åˆ†ç»„æ ç›®ä¸­ã€‚</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223151421.png"><img src="https://help-assets.codehub.cn/enterprise/20191223151421.png" alt="img"></a></p><p><code>Main</code> ä¸ºæœ€ä¸»è¦çš„ API è®¾è®¡ç•Œé¢ï¼Œéœ€è¦äº†è§£çš„æ˜¯ï¼ŒCODING API æ–‡æ¡£ä»¥ tag åˆ†ç»„ï¼Œè€Œè¯¥ç•Œé¢ä»¥è·¯ç”±+è¯·æ±‚æ–¹æ³•ï¼ˆMethodï¼‰åˆ†ç»„ã€‚</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223151435.png"><img src="https://help-assets.codehub.cn/enterprise/20191223151435.png" alt="img"></a></p><p>Description TAB ç”¨äºå¡«å†™æ¥å£çš„æ ‡é¢˜ã€æè¿°å’Œå…³è” tag ä¿¡æ¯ï¼Œå»ºè®®å…¨éƒ¨å¡«å†™ï¼Œè‹¥æœªå¡« Summaryï¼ŒAPI æ–‡æ¡£å°†æ˜¾ç¤º API IDï¼ˆOperationIDï¼‰ï¼Œæœªå…³è” tag å°†å½’å±äºé»˜è®¤åˆ†ç»„ã€‚</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223151448.png"><img src="https://help-assets.codehub.cn/enterprise/20191223151448.png" alt="img"></a></p><p>Parameter ç”¨äºå®šä¹‰è¯·æ±‚ Queryã€Headerã€Cookie å’Œè·¯ç”±å‚æ•°è§„åˆ™ï¼ŒLocation å¯æŒ‡å®šå‚æ•°ä½ç½®ã€‚</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223151518.png"><img src="https://help-assets.codehub.cn/enterprise/20191223151518.png" alt="img"></a></p><p>è€Œåœ¨é GET è¯·æ±‚æ–¹å¼ï¼ˆMethodï¼‰æ–¹å¼ä¸‹ï¼Œå¦‚ POST &#x2F; PATCH &#x2F; PUT ç­‰ï¼ŒRequest Body åˆ™ç”¨äºå®šä¹‰è¯·æ±‚ Body çš„è§„åˆ™ï¼Œå¦‚ Form è¡¨å•å‚æ•°ã€çº¯ JSON æ–¹å¼æäº¤å‚æ•°å®šä¹‰ç­‰ã€‚</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223151530.png"><img src="https://help-assets.codehub.cn/enterprise/20191223151530.png" alt="img"></a></p><p>å¯¹åº”çš„ Request Body å¿…é¡»å®šä¹‰ Media-Typeï¼Œå¯å®šä¹‰å¤šä¸ª Media-Typeï¼ŒAPI æœåŠ¡å™¨å°†æ ¹æ®è¯¥å‚æ•°è¯†åˆ« Body å†…å®¹ç»“æ„ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤º <code>application/json</code> å³ä¸ºçº¯ JSON æ–¹å¼æäº¤è¡¨å•å‚æ•°ã€‚</p><p>æ‚¨å¯ä»¥å¤ç”¨å®ä½“ï¼Œä¸‹é¢ä¼šè®²åˆ°ï¼Œæˆ–è€…ç›´æ¥ç¼–è¾‘è¯·æ±‚ç»“æ„ï¼Œç‚¹å‡»åå¼¹å‡ºå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯ç›´æ¥ç¼–è¾‘ã€‚</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223151608.png"><img src="https://help-assets.codehub.cn/enterprise/20191223151608.png" alt="img"></a></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥å¼¹çª—å¼¹å‡ºä½ç½®å¯èƒ½ä¼šåœ¨æ˜¾ç¤ºé¡µé¢ä¸‹æ–¹ï¼Œéœ€è¦æ»šåŠ¨åˆ°ä¸‹æ–¹æ‰å¯çœ‹åˆ°ã€‚</p><p>åˆ‡æ¢åˆ° Response TABï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰æ¥å£å“åº”è¿”å›çš„ç»“æ„ã€‚</p><p>åœ¨è¿™ä¸ªç•Œé¢å¯ä»¥å¢åŠ å¤šæ¡å“åº”ç»“æ„ï¼Œå¦‚ 200ã€400ã€401 å¤šä¸ªçŠ¶æ€ç æœ‰å¤šé‡ä¸åŒå“åº”è¿”å›ç»“æ„ï¼Œæˆ–è€…åŒçŠ¶æ€ç ä¸‹ä¸åŒ Media-Type ä¸åŒè¿”å›ç»“æ„ã€‚</p><p>ç‚¹å‡»ç¼–è¾‘ç»“æ„å’Œ Request Body ç±»ä¼¼ï¼Œå¯å®šä¹‰å“åº”æ•°æ®ç»“æ„è§„åˆ™ã€‚</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223151646.png"><img src="https://help-assets.codehub.cn/enterprise/20191223151646.png" alt="img"></a></p><p>åˆ‡æ¢åˆ° Security TABï¼Œå¯ä»¥é…ç½®æ¥å£çš„é‰´æƒé…ç½®ï¼Œç”±äºç¼–è¾‘å™¨æœªå®Œå–„ï¼Œæ‚¨å¯åœ¨è®¾è®¡å®Œæˆåé€šè¿‡å¯¼å‡º OpenAPI æè¿°æ–‡ä»¶ï¼Œä»¥æºæ–‡ä»¶çš„å½¢å¼ä¿®æ”¹ scope èŒƒå›´ï¼ˆå¯å‚è€ƒä¸‹æ–¹è¿›é˜¶æ•™ç¨‹ï¼‰ã€‚</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223151703.png"><img src="https://help-assets.codehub.cn/enterprise/20191223151703.png" alt="img"></a></p><blockquote><p>ç”±äº Docs &#x2F; Links &#x2F; Callbacks åœ¨æ—¥å¸¸ä½¿ç”¨æ—¶ä¸å¸¸ç”¨åˆ°ï¼ŒCODING API æ–‡æ¡£æš‚ä¸ä½œå±•ç¤ºã€‚</p></blockquote><p>åœ¨è®¾è®¡å®Œæ¯•åï¼Œæ‚¨å¯ç‚¹å‡»å³ä¸Šè§’ Save æŒ‰é’®ä¿å­˜ä¿®æ”¹ï¼Œå¹¶ç‚¹å‡» <code>Export JSON</code> æˆ–è€… <code>Export YAML</code> å¤åˆ¶æˆ–è€…ä¸‹è½½ OpenAPI æè¿°æ–‡ä»¶ã€‚</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223151714.png"><img src="https://help-assets.codehub.cn/enterprise/20191223151714.png" alt="img"></a></p><p>æ¥ç€ï¼Œåœ¨ CODING API æ–‡æ¡£å¯¼å…¥å¹¶å‘å¸ƒã€‚</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223152051.png"><img src="https://help-assets.codehub.cn/enterprise/20191223152051.png" alt="img"></a></p><p>ç­‰å¾…å‘å¸ƒå®Œæ¯•åï¼Œç‚¹å‡»è¯¦æƒ…é¡µçš„æ–‡æ¡£åœ°å€ï¼ŒæŸ¥çœ‹æœ€ç»ˆæ•ˆæœã€‚</p><h5 id="å·²æœ‰-OpenAPI-æè¿°æ–‡ä»¶"><a href="#å·²æœ‰-OpenAPI-æè¿°æ–‡ä»¶" class="headerlink" title="å·²æœ‰ OpenAPI æè¿°æ–‡ä»¶"></a>å·²æœ‰ OpenAPI æè¿°æ–‡ä»¶</h5><p>å¦‚æœæ‚¨å·²æœ‰ OpenAPI æè¿°æ–‡ä»¶ï¼Œæˆ–è€…æ‚¨æƒ³å…ˆçœ‹ä¸€ä¸‹æ•ˆæœï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥åˆ‡æ¢åˆ° <code>Upload</code> TABï¼Œå°†æè¿°æ–‡ä»¶å¡«å…¥ç¼–è¾‘æ¡†ï¼Œæˆ–è€…ç‚¹å‡» <code>Demo</code> åŠ è½½èŒƒä¾‹æ–‡ä»¶ï¼Œå¹¶ç‚¹å‡» <code>Load Definition</code> åŠ è½½æè¿°æ–‡ä»¶ã€‚</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223152111.png"><img src="https://help-assets.codehub.cn/enterprise/20191223152111.png" alt="img"></a></p><h5 id="è¿›é˜¶"><a href="#è¿›é˜¶" class="headerlink" title="è¿›é˜¶"></a>è¿›é˜¶</h5><p>è™½ç„¶ä½¿ç”¨ OpenAPI-GUI v3 è®¾è®¡éå¸¸æ–¹ä¾¿ï¼Œä½†æ˜¯å¯¹ OpenAPI æ”¯æŒçš„å¹¶ä¸å®Œæ•´ï¼Œæ¯”å¦‚ Request &amp; Response Example æ— æ³•åœ¨çº¿ç¼–è¾‘ï¼Œè¿™ç§åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬å°±éœ€è¦é’ˆå¯¹ OpenAPI æè¿°æºæ–‡ä»¶è¿›è¡Œç¼–è¾‘ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬æ¨èä½¿ç”¨ <a href="https://editor.swagger.io/">Swagger Editor</a> è¿›è¡Œç¼–è¾‘ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223152739.png"><img src="https://help-assets.codehub.cn/enterprise/20191223152739.png" alt="img"></a></p><p>Swagger Editor æ˜¯æ‰€è§å³æ‰€å¾—çš„ï¼Œå¹¶ä¸”å¦‚æœå†™çš„è¯­æ³•æœ‰é—®é¢˜ï¼Œä¼šåœ¨å¯¹åº”æ®µè½æ˜¾ç¤ºé”™è¯¯æç¤ºï¼Œå¹¶è¯´æ˜é”™è¯¯åŸå› ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223152823.png"><img src="https://help-assets.codehub.cn/enterprise/20191223152823.png" alt="img"></a></p><p>ç›¸å¯¹äºçº¯æ‰‹å†™ OpenAPI æè¿°æ–‡ä»¶ï¼ŒSwagger Editor æœ‰ä¸ªè´´å¿ƒçš„åŠŸèƒ½ï¼Œæ‚¨å¯ä»¥å¾ˆæ–¹ä¾¿çš„é€šè¿‡å¯è§†åŒ–ç•Œé¢æ’å…¥æè¿°ï¼ˆå¦‚ï¼špathã€operation ç­‰ï¼‰è‡³ç¼–è¾‘æ¡†ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223152830.png"><img src="https://help-assets.codehub.cn/enterprise/20191223152830.png" alt="img"></a></p><p><a href="https://help-assets.codehub.cn/enterprise/20191223152838.png"><img src="https://help-assets.codehub.cn/enterprise/20191223152838.png" alt="img"></a></p><p>ä¸ºäº†æ–¹ä¾¿ç†è§£ OpenAPI v3 è§„èŒƒï¼Œæˆ‘ä»¬åœ¨ä¸‹æ–¹ç»™å‡ºäº† OpenAPI v3 çš„ä¸€èˆ¬ç»“æ„èŒƒä¾‹ï¼Œå¯¹åº”çš„å³è¾¹ç»™å‡ºäº†å­—æ®µçš„å¤‡æ³¨ä¿¡æ¯ï¼Œæ–¹ä¾¿å¯¹ç…§ï¼š</p><blockquote><p>è¯¥èŒƒä¾‹ CODING API æ–‡æ¡£å‡æ”¯æŒå±•ç¤º</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line">openapi: 3.0.0                                                        # ä»£è¡¨ä½¿ç”¨ OpenAPI v3 è§„èŒƒ</span><br><span class="line">info:                                                                            # è¿™é‡Œå†™ API æ–‡æ¡£åŸºç¡€ä¿¡æ¯</span><br><span class="line">  title: å® ç‰©å•†åº— API æ–‡æ¡£                                        # API æ–‡æ¡£æ ‡é¢˜</span><br><span class="line">  version: &#x27;1.0.0&#x27;                                                    # API æ–‡æ¡£ç‰ˆæœ¬</span><br><span class="line">  description: è¿™æ˜¯ä¸€ç¯‡å…³äºå® ç‰©å•†åº—çš„ DEMO API æ–‡æ¡£ï¼Œä»…åšå‚è€ƒã€‚        # API æ–‡æ¡£æè¿°</span><br><span class="line">  contact:                                                                    # è”ç³»ä¿¡æ¯</span><br><span class="line">    name: CODING</span><br><span class="line">    url: &#x27;https://coding.net&#x27;</span><br><span class="line">    email: coding_support@tencent.com</span><br><span class="line">servers:                                                                    # è¿™é‡Œå†™ API æœåŠ¡å™¨åœ°å€ï¼Œå¤šæ¡å¯ä»£è¡¨ä¸åŒç¯å¢ƒ</span><br><span class="line">  - url: &#x27;https://petstore.com/api/v1&#x27;</span><br><span class="line">    description: ç”Ÿäº§ç¯å¢ƒ</span><br><span class="line">  - url: &#x27;http://test.petstore.com/api/v1&#x27;</span><br><span class="line">    description: æµ‹è¯•ç¯å¢ƒ</span><br><span class="line">tags:                                                                            # æ ‡ç­¾ï¼ŒCODING ä¸­å¯ä½œä¸ºåˆ†ç»„ä¾æ®ï¼Œname ä½œä¸ºåˆ†ç»„åç§°</span><br><span class="line">  - name: å® ç‰©</span><br><span class="line">    description: æ‰€æœ‰å…³äºå® ç‰©çš„å†…å®¹</span><br><span class="line">  - name: ä¼šè¯</span><br><span class="line">    description: å…³äºç”¨æˆ·çš„æ³¨å†Œã€ç™»å½•å’Œç™»å‡º</span><br><span class="line">paths:                                    # è¿™é‡Œå†™å…·ä½“çš„ API çš„ç›¸å…³ä¿¡æ¯ï¼ˆAPI åç§°ã€è¯·æ±‚ç±»å‹ã€æ‘˜è¦ã€è¯·æ±‚å‚æ•°ã€å“åº”ç­‰ï¼‰</span><br><span class="line">  /pets/&#123;petId&#125;:                                                        # ç¬¬ä¸€å±‚ï¼ŒAPI è·¯ç”±</span><br><span class="line">    get:                                                                            # ç¬¬äºŒå±‚ï¼Œè¯·æ±‚æ–¹æ³•ï¼ˆMethodï¼‰,å¦‚: get, post, delete ç­‰</span><br><span class="line">      tags:                                                                            # æ ‡ç­¾ï¼Œä¸ä¸Šæ–¹å…¨å±€çš„æ ‡ç­¾å¯¹åº”ï¼Œå°†è¯¥æ¥å£å½’äºå¯¹åº” tag çš„ç»„ä¸­</span><br><span class="line">        - å® ç‰©</span><br><span class="line">      summary: å® ç‰©è¯¦æƒ…                                                        # æ¥å£æ‘˜è¦ï¼ŒCODING ä¸­å¯ä½œä¸ºæ¥å£æ ‡é¢˜</span><br><span class="line">      operationId: get-pet                                            # æ¥å£ IDï¼ˆå¿…å¡«ï¼‰ï¼Œæ¥å£çš„å”¯ä¸€è¯†åˆ«æ–¹å¼ </span><br><span class="line">      description: è·å–å® ç‰©ä¿¡æ¯                                          # æ¥å£æè¿°ä¿¡æ¯</span><br><span class="line">      parameters:                                                                # æ¥å£å‚æ•°ï¼Œå¯å¤šæ¡ï¼Œæ”¯æŒè·¯ç”±ã€Queryã€Header å‚æ•°</span><br><span class="line">          - schema:                                                                    # å‚æ•°ç»“æ„</span><br><span class="line">          type: string                                                            # å‚æ•°ç±»å‹ï¼Œinteger / string / array ç­‰</span><br><span class="line">          name: petId                                                                # å‚æ•° key</span><br><span class="line">          in: path                                                                    # è·¯ç”±ï¼ˆpathï¼‰ç±»å‹çš„å‚æ•°</span><br><span class="line">          required: true                                                        # æ˜¯å¦å¿…å¡«</span><br><span class="line">          description: å® ç‰© ID                                             # å‚æ•°æè¿°</span><br><span class="line">        - schema:</span><br><span class="line">            type: string</span><br><span class="line">            enum:                                                                        # å‚æ•°æšä¸¾</span><br><span class="line">              - application/json</span><br><span class="line">              - application/xml</span><br><span class="line">            default: application/json</span><br><span class="line">          in: header                                                            # header ç±»å‹çš„å‚æ•°</span><br><span class="line">          name: Accept</span><br><span class="line">          description: è¿”å›æ•°æ®åª’ä½“ç±»å‹</span><br><span class="line">        - schema:</span><br><span class="line">            type: integer</span><br><span class="line">            default: 1                                                            # å‚æ•°é»˜è®¤å€¼</span><br><span class="line">          in: query                                                                # Query ç±»å‹çš„å‚æ•°</span><br><span class="line">          name: page</span><br><span class="line">          description: é¡µç </span><br><span class="line">      security:                                                                    # æ¥å£æˆæƒä¿¡æ¯ï¼Œæ­¤å¤„ä¸å…¨å±€ components/securitySchemes å¯¹åº”</span><br><span class="line">        - petstore_auth:                                                    # æ­¤å¤„ä¸ components/securitySchemes/petstore_auth å¯¹åº”</span><br><span class="line">            - &#x27;read:pets&#x27;                                                        # æ­¤å¤„ä»£è¡¨æ¥å£ OAuth Scope ä¿¡æ¯</span><br><span class="line">      responses:                                                                # æ¥å£å“åº”ä¿¡æ¯</span><br><span class="line">        &#x27;200&#x27;:                                                                        # å“åº”çŠ¶æ€ç </span><br><span class="line">          description: ä»¥æ•°ç»„å½¢å¼è¿”å›å® ç‰©ä¿¡æ¯                     # å“åº”æè¿°ä¿¡æ¯</span><br><span class="line">          headers:</span><br><span class="line">            X-PAGE:</span><br><span class="line">              schema:</span><br><span class="line">                type: integer</span><br><span class="line">              description: å½“å‰é¡µç </span><br><span class="line">          content:                                                                # å“åº”å†…å®¹è§„èŒƒæè¿°</span><br><span class="line">            application/json:                                                # å“åº”å†…å®¹ Media Type</span><br><span class="line">              schema:                                                                    # å“åº”å†…å®¹ç»“æ„</span><br><span class="line">                type: array</span><br><span class="line">                description: å® ç‰©ä¿¡æ¯</span><br><span class="line">                items:</span><br><span class="line">                  $ref: &#x27;#/components/schemas/Pet&#x27;    # $ref å¯ç”¨æ¥å¼•ç”¨ components/schemas ä¸­çš„å„ç§å®ä½“å£°æ˜ï¼Œå‡å°‘ç›¸åŒæ•°æ®ç»“æ„å†—ä½™ï¼Œå¢åŠ å¤ç”¨æ€§</span><br><span class="line">              examples:                                                            # å“åº”èŒƒä¾‹ï¼Œå»ºè®®å¡«å†™ï¼Œå¯ç”¨äº CODING API æ–‡æ¡£èŒƒä¾‹æ˜¾ç¤ºä»¥åŠ Mock API æ¨¡æ‹Ÿæ•°æ®</span><br><span class="line">                è¯·æ±‚æˆåŠŸèŒƒä¾‹:                                                        # èŒƒä¾‹åç§°</span><br><span class="line">                  value:                                                                # èŒƒä¾‹ï¼Œå±•ç¤ºæ—¶å°†è½¬æ¢æˆ JSON å½¢å¼</span><br><span class="line">                    - id: 1</span><br><span class="line">                      name: doggie</span><br><span class="line">        &#x27;400&#x27;:</span><br><span class="line">          description: è¯·æ±‚å¤±è´¥</span><br><span class="line">        patch:                                                                    # patch è¯·æ±‚æ–¹æ³•</span><br><span class="line">            tags:</span><br><span class="line">        - å® ç‰©</span><br><span class="line">      summary: å•ç‹¬æ›´æ–°å® ç‰©å±æ€§</span><br><span class="line">      operationId: patch-pet</span><br><span class="line">      description: å•ç‹¬æ›´æ–°å® ç‰©å±æ€§</span><br><span class="line">      deprecated: true                                         # æ¥å£æ˜¯å¦å·²åºŸå¼ƒ</span><br><span class="line">      requestBody:                                                 # post / put / patch ç­‰è¯·æ±‚éœ€è¦ä¼ è¾“ body æ—¶ï¼Œè¯·æŒ‡å®š requestBodyï¼ŒPath / Query / Header è¯·å†™åœ¨ parameters ä¸­</span><br><span class="line">        content:</span><br><span class="line">          application/x-www-form-urlencoded:    # åª’ä½“ç±»å‹ Media Type</span><br><span class="line">            schema:                                                            # å‚æ•°ç»“æ„ä¸ä¸Šè¿° parameters ä¸­ç›¸åŒ</span><br><span class="line">              type: object</span><br><span class="line">              properties:</span><br><span class="line">                categoryId:</span><br><span class="line">                  type: integer</span><br><span class="line">                  description: åˆ†ç±» ID</span><br><span class="line">                status:</span><br><span class="line">                  type: string</span><br><span class="line">                  description: çŠ¶æ€</span><br><span class="line">                  enum:</span><br><span class="line">                    - available</span><br><span class="line">                    - pending</span><br><span class="line">                    - sold</span><br><span class="line">                photoUrls:</span><br><span class="line">                  type: array</span><br><span class="line">                  description: ç…§ç‰‡åœ°å€åˆ—è¡¨</span><br><span class="line">                  items:</span><br><span class="line">                    type: string</span><br><span class="line">                    description: ç…§ç‰‡åœ°å€</span><br><span class="line">                name:</span><br><span class="line">                  type: string</span><br><span class="line">                  description: å® ç‰©åç§°</span><br><span class="line">                isHealthy:</span><br><span class="line">                  type: boolean</span><br><span class="line">                  description: æ˜¯å¦å¥åº·</span><br><span class="line">                tagIds:</span><br><span class="line">                  type: string</span><br><span class="line">                  description: æ ‡ç­¾ ID æ•°ç»„</span><br><span class="line">            examples:                                                            # è¯·æ±‚ Body èŒƒä¾‹ï¼Œå°†åœ¨ CODING API æ–‡æ¡£å³ä¾§èŒƒä¾‹åŒºå±•ç¤º</span><br><span class="line">              æ›´æ–°èŒƒä¾‹:                                                                # èŒƒä¾‹åç§°</span><br><span class="line">                value:                                                                # èŒƒä¾‹å†…å®¹ï¼Œä»¥ä¸‹å°†ä»¥ JSON å½¢å¼å±•ç¤º</span><br><span class="line">                  status: sold</span><br><span class="line">      responses:</span><br><span class="line">        &#x27;200&#x27;:</span><br><span class="line">          description: æ›´æ–°æˆåŠŸ</span><br><span class="line">          content:</span><br><span class="line">            application/json:</span><br><span class="line">              schema:</span><br><span class="line">                $ref: &#x27;#/components/schemas/Pet&#x27;</span><br><span class="line">components:                                                            # é€šç”¨ç»„ä»¶ï¼Œå¯å®šä¹‰å¤ç”¨çš„å®ä½“ã€å“åº”ã€è¯·æ±‚ä»¥åŠæˆæƒä¿¡æ¯ç­‰</span><br><span class="line">  schemas:                                                                # å®ä½“ä¿¡æ¯</span><br><span class="line">    Pet:                                                                        # å®ä½“ key</span><br><span class="line">      title: Pet                                                            # åç§°</span><br><span class="line">      type: object                                                        # å®ä½“æ•°æ®ç»“æ„ç±»å‹</span><br><span class="line">      description: å® ç‰©å®ä½“ä¿¡æ¯                                    # æè¿°ä¿¡æ¯</span><br><span class="line">      properties:                                                            # å®ä½“å‚æ•°ï¼Œå¯å¤šæ¡</span><br><span class="line">        id:</span><br><span class="line">          type: integer</span><br><span class="line">          format: int64</span><br><span class="line">          description: ID</span><br><span class="line">        name:</span><br><span class="line">          type: string</span><br><span class="line">          example: doggie</span><br><span class="line">          description: åç§°</span><br><span class="line">  securitySchemes:                                                # API æ‰€ä½¿ç”¨çš„æˆæƒæ–¹å¼ï¼Œå¯å¤šæ¡ï¼ŒCODING ä¼šå±•ç¤ºæ‰€æœ‰æˆæƒæ–¹å¼</span><br><span class="line">    petstore_auth:                                                    # æˆæƒæ–¹å¼ Key</span><br><span class="line">      type: oauth2                                                        # æˆæƒç±»å‹ï¼Œå¯ä¸ºï¼šapiKeyã€httpã€oauth2ã€openIdConnect</span><br><span class="line">      flows:                                                                    # OAuth2 æ‰€éœ€è¦çš„æµç¨‹ä¿¡æ¯</span><br><span class="line">        authorizationCode:                                            # OAuth2 æˆæƒç±»å‹ï¼Œå¯ä¸ºï¼šimplicitã€passwordã€clientCredentialsã€authorizationCode</span><br><span class="line">          authorizationUrl: &#x27;https://petstore.com/oauth/authorize&#x27;    # è·³è½¬æˆæƒåœ°å€</span><br><span class="line">          tokenUrl: &#x27;https://petstore.com/oauth/token?grant_type=authorization_code&#x27;    # è·å– token åœ°å€</span><br><span class="line">          scopes:                                                # æ‰€æœ‰ scope åˆ—è¡¨</span><br><span class="line">            &#x27;write:pets&#x27;: ä¿®æ”¹å® ç‰©ä¿¡æ¯æƒé™</span><br><span class="line">            &#x27;read:pets&#x27;: æŸ¥çœ‹å® ç‰©ä¿¡æ¯æƒé™</span><br><span class="line">          refreshUrl: &#x27;https://petstore.com/oauth/token?grant_type=refresh_token&#x27;        # åˆ·æ–° token åœ°å€</span><br><span class="line">      description: OAuth2 æˆæƒæ¨¡å¼                    # æè¿°ä¿¡æ¯</span><br></pre></td></tr></table></figure><p>æ›´è¯¦ç»†çš„è§„èŒƒå¯å‚è€ƒï¼š</p><ul><li><a href="https://openapi-map.apihandyman.io/">OpenAPI Map</a></li><li><a href="https://swagger.io/docs/specification/about/">OpenAPI Specification</a></li></ul><h4 id="Code-First"><a href="#Code-First" class="headerlink" title="Code-First"></a>Code-First</h4><p>é€šè¿‡è‡ªåŠ¨ç”Ÿæˆ OpenAPI æè¿°æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆç®€å•çš„æ¥å…¥ CODING API æ–‡æ¡£çš„è‡ªåŠ¨åŒ–æµç¨‹ï¼Œæ–¹ä¾¿å¼€å‘åŒå­¦æäº¤ä»£ç è‡ªåŠ¨å‘å¸ƒ API æ–‡æ¡£ã€‚</p><blockquote><p>æ­¤å¤„æˆ‘ä»¬ä»¥ Java è¯­è¨€çš„ <a href="https://github.com/springfox/springfox">Springfox</a> ä¸ºä¾‹<br>å…¶ä»–è¯­è¨€å¯å‚è€ƒä»¥ä¸‹æ–¹æ¡ˆï¼š</p><ul><li>PHPï¼š<a href="https://github.com/zircote/swagger-php">Swagger PHP</a></li><li>Goï¼š<a href="https://github.com/go-swagger/go-swagger/">Go Swagger</a></li><li>Python Flaskï¼š<a href="https://github.com/noirbizarre/flask-restplus">Flask RestPlus</a></li><li>NodeJS Expressï¼š<a href="https://www.npmjs.com/package/swagger-node-express">Swagger Node Express</a></li><li><a href="https://swagger.io/tools/open-source/open-source-integrations">ç‚¹å‡»æŸ¥çœ‹</a></li></ul></blockquote><p>é¦–å…ˆæˆ‘ä»¬æ–°å»ºä¸€ä¸ª SpringBoot é¡¹ç›®ï¼Œæ·»åŠ  springfox ä¾èµ–ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    compile (&#x27;io.springfox:springfox-swagger2:2.9.2&#x27;) &#123;</span><br><span class="line">        exclude(module: &#x27;io.swagger:swagger-annotations&#x27;)</span><br><span class="line">        exclude(module: &#x27;io.swagger:swagger-models&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">    compile(&quot;io.swagger:swagger-annotations:1.6.0&quot;)</span><br><span class="line">    compile(&quot;io.swagger:swagger-models:1.6.0&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢ swagger-annotations æŒ‡å®šæ–°ç‰ˆæœ¬æ“ä½œï¼Œç”±äºåœ¨é String çš„è¯·æ±‚å‚æ•°ï¼ˆå¦‚ Integerï¼‰ @RequestParam ä¸­æŒ‡å®š defaultValue æ—¶ï¼Œspringfox 2.9.2 ä¾èµ–çš„ swagger åŒ…è¾ƒæ—§ï¼Œå¯¼è‡´ç¼–è¯‘æ—¶æŠ¥ç±»å‹è½¬æ¢é”™è¯¯çš„é—®é¢˜ï¼Œåœ¨æ–°ç‰ˆå·²è§£å†³ã€‚</p></blockquote><p>ç„¶åæˆ‘ä»¬åœ¨ Application ä¸­é’ˆå¯¹ Springfox è¿›è¡Œåˆå§‹åŒ–é…ç½®æ“ä½œï¼Œå¹¶å®šä¹‰ Swagger API æ–‡æ¡£çš„å…¨å±€æè¿°ä¿¡æ¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">@Bean</span><br><span class="line">public Docket docket(ServletContext servletContext) &#123;</span><br><span class="line">    ApiSelectorBuilder builder = new Docket(DocumentationType.SWAGGER_2)    // å®šä¹‰ Swagger 2.0 è§„èŒƒ</span><br><span class="line">            .apiInfo(apiInfo())                                                    // å®šä¹‰å…¨å±€æè¿°ä¿¡æ¯</span><br><span class="line">            .tags(new Tag(&quot;å® ç‰©&quot;, &quot;æ‰€æœ‰å…³äºå® ç‰©çš„å†…å®¹&quot;),        // å®šä¹‰ tagï¼Œå¯¹åº” CODING API æ–‡æ¡£çš„èœå• API åˆ†ç»„</span><br><span class="line">                    new Tag(&quot;ä¼šè¯&quot;, &quot;å…³äºç”¨æˆ·çš„æ³¨å†Œã€ç™»å½•å’Œç™»å‡º&quot;))</span><br><span class="line">            .host(&quot;petstore.com&quot;)                                                // å®šä¹‰ API åŸºç¡€åŸŸå</span><br><span class="line">            .pathProvider(new RelativePathProvider(servletContext) &#123;    // å®šä¹‰ API åŸºç¡€è·¯å¾„å‰ç¼€ï¼Œä¸ host é…åˆç»„æˆ petstore.com/api/v1</span><br><span class="line">                @Override</span><br><span class="line">                public String getApplicationBasePath() &#123;</span><br><span class="line">                    return &quot;/api/v1&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            .select();</span><br><span class="line"> </span><br><span class="line">    builder.apis(RequestHandlerSelectors.withClassAnnotation(RestController.class));    // æŒ‡å®šåªæ‰«æ @RestController æ³¨è§£çš„ Controller çš„ API</span><br><span class="line"> </span><br><span class="line">    return builder.build()</span><br><span class="line">            .ignoredParameterTypes(RequestAttribute.class)    // æ’é™¤æ‰«æ @RequestAttribute æ³¨è§£</span><br><span class="line">            .ignoredParameterTypes(Errors.class);                        // æ’é™¤æ‰«æ @Errors æ³¨è§£</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">private ApiInfo apiInfo() &#123;</span><br><span class="line">    return new ApiInfoBuilder()</span><br><span class="line">            .title(&quot;å® ç‰©å•†åº— API æ–‡æ¡£&quot;)                        // å®šä¹‰æ–‡æ¡£æ ‡é¢˜</span><br><span class="line">            .description(&quot;è¿™æ˜¯ä¸€ç¯‡å…³äºå® ç‰©å•†åº—çš„ DEMO API æ–‡æ¡£ï¼Œä»…åšå‚è€ƒã€‚&quot;)    // å®šä¹‰æ–‡æ¡£æè¿°</span><br><span class="line">            .termsOfServiceUrl(&quot;http://swagger.io/terms/&quot;)                        // å®šä¹‰æœåŠ¡æ¡æ¬¾</span><br><span class="line">            .contact(new Contact(&quot;CODING&quot;, &quot;https://coding.net&quot;, &quot;coding_support@tencent.com&quot;))    // å®šä¹‰è”ç³»ä¿¡æ¯</span><br><span class="line">            .license(&quot;Apache 2.0&quot;)        // å®šä¹‰ License</span><br><span class="line">            .licenseUrl(&quot;http://www.apache.org/licenses/LICENSE-2.0.html&quot;)        // å®šä¹‰ License URL</span><br><span class="line">            .version(&quot;1.0.0&quot;)                    // å®šä¹‰ API ç‰ˆæœ¬</span><br><span class="line">            .build();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹è®¾è®¡ API è§„åˆ™ï¼Œä»¥ PetController ä¸ºä¾‹ï¼Œå³ <code>/pets</code> è·¯ç”±ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">@Api(tags = &#123;&quot;å® ç‰©&quot;&#125;)</span><br><span class="line">@RestController</span><br><span class="line">@RequestMapping(&quot;/pets&quot;)</span><br><span class="line">public class PetController &#123;</span><br><span class="line"> </span><br><span class="line">    @ApiOperation(value = &quot;å® ç‰©åˆ—è¡¨&quot;, notes = &quot;åˆ—å‡ºæ‰€æœ‰å® ç‰©ä¿¡æ¯&quot;)</span><br><span class="line">    @GetMapping(&quot;&quot;)</span><br><span class="line">    public ResponseEntity&gt; all(@ApiParam(value=&quot;é™åˆ¶æ¯é¡µè¿”å›æ•°é‡ï¼ˆæœ€å¤§é™åˆ¶ï¼š100ï¼‰&quot;) @RequestParam(required = false, defaultValue = &quot;20&quot;) Integer pagesize,</span><br><span class="line">                                         @ApiParam(value=&quot;é¡µç &quot;) @RequestParam(required = false, defaultValue = &quot;1&quot;) Integer page) &#123;</span><br><span class="line">        return ResponseEntity.ok(new ArrayList&lt;&gt;());</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    @ApiOperation(value = &quot;å® ç‰©è¯¦æƒ…&quot;, notes = &quot;è·å–æŒ‡å®š ID çš„å® ç‰©è¯¦æƒ…&quot;)</span><br><span class="line">    @GetMapping(&quot;&#123;petId&#125;&quot;)</span><br><span class="line">    public ResponseEntity detail(@ApiParam(value=&quot;å® ç‰© ID&quot;, required = true) @PathVariable Integer petId,</span><br><span class="line">                                      @ApiParam(value = &quot;åª’ä½“ç±»å‹&quot;, required = true, allowableValues = &quot;application/json,application/xml&quot;, defaultValue = &quot;application/json&quot;) @RequestHeader String Accept) &#123;</span><br><span class="line">        return ResponseEntity.ok(null);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªè·¯ç”±ï¼Œåˆ†åˆ«ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /pets å® ç‰©åˆ—è¡¨</span><br></pre></td></tr></table></figure><ul><li><p>Query è¯·æ±‚å‚æ•°</p><p>-<strong>pagesize</strong> int é€‰å¡«</p><p>é™åˆ¶æ¯é¡µè¿”å›æ•°é‡ï¼ˆæœ€å¤§é™åˆ¶ï¼š100ï¼‰</p><p>é»˜è®¤å€¼ 20</p><p>-<strong>page</strong> int é€‰å¡«</p><p>é¡µç </p><p>é»˜è®¤å€¼ 1</p></li><li><p>å“åº”ç»“æ„</p><p>-Pet å®ä½“æ•°ç»„ array</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /pets/&#123;petId&#125; å® ç‰©è¯¦æƒ…</span><br></pre></td></tr></table></figure><ul><li><p>Header å‚æ•°</p><p>-<strong>Accept</strong> string</p><p>å¯é€‰å€¼ <code>application/json</code> <code>application/xml</code>ï¼Œé»˜è®¤å€¼ <code>application/json</code>ã€‚</p><p>åª’ä½“ç±»å‹</p></li><li><p>è·¯ç”±å‚æ•°</p><p>-<strong>petId</strong> int</p><p>å® ç‰© ID</p></li><li><p>å“åº”ç»“æ„</p><p>-Pet å®ä½“ object</p></li></ul><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæˆäº†ä¸Šè¿°ä¸¤ä¸ª API çš„è®¾è®¡ï¼Œæ— éœ€æå‰å®ç°ä»£ç é€»è¾‘ï¼Œæˆ‘ä»¬å³å¯è·å¾— Swagger 2.0 çš„æè¿°æ–‡ä»¶ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p><blockquote><p>è¯¥èŒƒä¾‹ä½¿ç”¨ Jetty ä½œä¸º Server</p></blockquote><ol><li><p>å¯åŠ¨åº”ç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew bootRun</span><br></pre></td></tr></table></figure></li><li><p>æ‰“å¼€æµè§ˆå™¨è®¿é—®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">   </span><br></pre></td></tr></table></figure><p>å…¶ä¸­ {port} ä¸ºé…ç½®çš„æœåŠ¡ WEB ç«¯å£</p><p>è¿”å›çš„å†…å®¹å³ä¸º Swagger 2.0 æè¿°æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223153216.png"><img src="https://help-assets.codehub.cn/enterprise/20191223153216.png" alt="img"></a></p></li></ol><p>å³é”®é€‰æ‹©ã€Œå­˜å‚¨ä¸ºã€ä¿å­˜è‡³æœ¬åœ°ï¼Œå¯å‘½åä¸º <code>xxx.json</code>ï¼Œå°†è¯¥ Swagger 2.0 æè¿°æ–‡ä»¶å¯¼å…¥è‡³ CODING å³å¯ç”Ÿæˆ API æ–‡æ¡£ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223153228.png"><img src="https://help-assets.codehub.cn/enterprise/20191223153228.png" alt="img"></a></p><p>ç”Ÿæˆçš„ API æ–‡æ¡£æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><a href="https://help-assets.codehub.cn/enterprise/20191223153241.png"><img src="https://help-assets.codehub.cn/enterprise/20191223153241.png" alt="img"></a></p><p><a href="https://demo-api.coding.net/public/springfox-demo/springfox-demo/git/files">ç‚¹å‡»æŸ¥çœ‹</a>è¯¥èŒƒä¾‹çš„æºä»£ç ã€‚</p><p>æ›´å¤š Springfox çš„ç”¨æ³•å¯å‚è€ƒ<a href="http://springfox.github.io/springfox">å®˜æ–¹æ–‡æ¡£</a></p>]]></content>
      
      
      <categories>
          
          <category> APIæ–‡æ¡£ç®¡ç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenAPI/Swagger </tag>
            
            <tag> APIæ–‡æ¡£ç®¡ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”µå­ä¹¦å¯¼èˆª</title>
      <link href="/2023/10/08/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/%E7%94%B5%E5%AD%90%E4%B9%A6%E5%AF%BC%E8%88%AA/"/>
      <url>/2023/10/08/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/%E7%94%B5%E5%AD%90%E4%B9%A6%E5%AF%BC%E8%88%AA/</url>
      
        <content type="html"><![CDATA[<h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><table><thead><tr><th align="left">S16-BT å¯¼èˆª</th><th align="left"><a href="https://www.runningcheese.cn/s17">S17-éŸ³ä¹å¯¼èˆª</a></th><th align="left"><a href="https://www.runningcheese.cn/s18">S18-å½±è§†å¯¼èˆª</a></th><th align="left"><a href="https://www.runningcheese.cn/s19">S19-ç½‘ç›˜å¯¼èˆª</a></th><th align="left"><a href="https://www.runningcheese.cn/s20">S20-è½¯ä»¶å¯¼èˆª</a></th></tr></thead><tbody><tr><td align="left"><a href="https://www.runningcheese.cn/s21">S21-Zlibrary</a></td><td align="left"><a href="https://www.runningcheese.cn/s22">S22-ç”µå­ä¹¦å¯¼èˆª</a></td><td align="left">S23-å­¦æœ¯å¯¼èˆª</td><td align="left">S24-è€ƒç ”å¯¼èˆª</td><td align="left">S25-å­¦ä¹ å¯¼èˆª</td></tr><tr><td align="left">S26-ç”Ÿæ´»å¯¼èˆª</td><td align="left">S27-æ¸¸æˆå¯¼èˆª</td><td align="left">S28-å·¥å…·å¯¼èˆª</td><td align="left">S29-ç½‘ç«™å¯¼èˆª</td><td align="left">S30-èµ„æºå¯¼èˆª</td></tr></tbody></table><p>2009 å¹´åˆï¼ŒZ-library æˆç«‹ã€‚</p><p>2022 å¹´åº•ï¼ŒZ-library è¢«å°ï¼Œ2023 å¹´åˆï¼ŒZ-library å®£å¸ƒå›å½’ã€‚</p><p>å…³äº <strong>Z-library</strong> çš„å†å²ï¼Œå¤§å¤šå°±å‘ç”Ÿåœ¨<strong>è¿™å‰åçš„ä¸¤ä¸ªæœˆé‡Œ</strong>ï¼Œè€Œæœ¬æ–‡ï¼Œæ­£æ˜¯è¦å¸¦ä½ <strong>å˜æ¸…</strong>è¿™ä¸¤ä¸ªæœˆé‡Œå‘ç”Ÿçš„äº‹æƒ…ã€‚</p><p>çœ‹æ‡‚äº†ï¼Œä½ å°†æ‹¥æœ‰ä¸€åº§å®¹é‡ <strong>31T</strong>ï¼Œä¸”<strong>æ°¸è¿œä¸ä¼šä¸‹çº¿</strong>çš„ç”µå­å›¾ä¹¦é¦†ã€‚</p><h2 id="ä¸€ã€Z-lib-å®˜æ–¹é¡¹ç›®"><a href="#ä¸€ã€Z-lib-å®˜æ–¹é¡¹ç›®" class="headerlink" title="ä¸€ã€Z-lib å®˜æ–¹é¡¹ç›®"></a><strong>ä¸€ã€Z-lib å®˜æ–¹é¡¹ç›®</strong></h2><p>æˆ‘ä»¬å…ˆè®²è®² Z-library çš„å®˜æ–¹æ¸ é“ï¼Œæ¯•ç«Ÿå®ƒå·²ç»æ­£å¼å›å½’äº†ã€‚</p><h3 id="1-1ã€Z-lib-ä¸»é¡µ"><a href="#1-1ã€Z-lib-ä¸»é¡µ" class="headerlink" title="1.1ã€Z-lib ä¸»é¡µ"></a>1.1ã€Z-lib ä¸»é¡µ</h3><p>2023 å¹´åˆï¼ŒZ-library å®£å¸ƒå›å½’ï¼Œä½†æ¢äº†ä¸€ç§æ–¹å¼ã€‚</p><p>æ–°ç‰ˆ Z-library ä¸å†æœ‰ç»Ÿä¸€çš„â€œ<strong>ä¸»é¡µ</strong>â€ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯â€œ<strong>ç™»é™†é¡µ</strong>â€ï¼Œæ‰“å¼€å³å¯æ³¨å†Œï¼Œä½†éœ€è¦â€œ<strong>é­”æ³•</strong>â€è®¿é—®ã€‚</p><p>åœ°å€ 1ï¼š<a href="https://singlelogin.re/">https://singlelogin.re</a> åœ°å€ 2ï¼š<a href="https://singlelogin.site/">https://singlelogin.site</a></p><p><img src="https://image.baidu.com/search/down?url=https://tvax2.sinaimg.cn/large/7a6a15d5gy1hb6dzayzs9j228c1ecb2c.jpg" alt="S21_Zlib"></p><p>æ³¨å†Œåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†é…ä¸¤ä¸ªâ€œ<strong>ä¸“å±åŸŸå</strong>â€ç»™ä½ ï¼Œå°†å®ƒä»¬ä¿å­˜èµ·æ¥ï¼Œç„¶åå°±å¯ä»¥ç”¨<strong>æ³¨å†Œæ—¶çš„å¸å·å¯†ç </strong>æ¥ç™»é™†äº†ã€‚</p><p>æ³¨å†Œé»˜è®¤æ˜¯åˆçº§ç”¨æˆ·ï¼Œ<strong>1 å¤©å¯ä¸‹è½½ 10 æ¬¡</strong>ï¼Œé€šè¿‡æèµ åˆ™å¯ä»¥æˆä¸ºé«˜çº§ç”¨æˆ·ã€‚</p><p><img src="https://image.baidu.com/search/down?url=https://tvax2.sinaimg.cn/large/7a6a15d5gy1hb6dzbwvlqj228c1ecket.jpg" alt="S21_Zlib"></p><h3 id="1-2ã€Z-lib-æ‰©å±•"><a href="#1-2ã€Z-lib-æ‰©å±•" class="headerlink" title="1.2ã€Z-lib æ‰©å±•"></a>1.2ã€Z-lib æ‰©å±•</h3><p>Z-library æœ€è¿‘åˆæ•´äº†ä¸ªæ–°æ´»ã€‚</p><p>Z-library æ¨å‡ºäº†<strong>æµè§ˆå™¨æ‰©å±•</strong>ï¼Œæ”¯æŒ Firefox å’Œ Chromeï¼Œè€Œè¿™ä¸ªæ‰©å±•çš„ä½œç”¨ï¼Œå±…ç„¶æ˜¯ç”¨æ¥â€œ<strong>é˜²æ­¢å¤±è”</strong>â€çš„ï¼Œ</p><p>åªéœ€è¦ç‚¹å‡»æ‰©å±•å›¾æ ‡ï¼Œå®ƒå°±ä¼šåˆ†é…ä¸€ä¸ªä½ å½“å‰ç½‘ç»œå¯ä»¥è®¿é—®çš„é“¾æ¥ï¼Œè€Œä¸”æ— éœ€é­”æ³•å°±å¯ä»¥ç›´æ¥è®¿é—®ã€‚</p><p>æ¯”å¦‚æˆ‘çš„æ˜¯ zlibrary-china.seï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å†ä¹Ÿä¸æ€•æ‰“ä¸å¼€ Z-lib äº†ã€‚</p><p>æˆ‘åªèƒ½è¯´ï¼ŒZ-library èŠ±æ´»æŒºå¤šçš„ã€‚</p><p><strong>æ‰©å±•ä¸‹è½½ï¼š</strong></p><p>Firefoxï¼š<a href="https://zh.go-to-zlibrary.se/soft/mozilla-addon-latest.xpi">https://zh.go-to-zlibrary.se/soft/mozilla-addon-latest.xpi</a></p><p>Chromeï¼š<a href="https://t.cn/A60EmvZL">https://t.cn/A60EmvZL</a></p><p><img src="https://image.baidu.com/search/down?url=https://tvax1.sinaimg.cn/large/7a6a15d5gy1hgqrz7qw47j228c1ec1au.jpg" alt="7a6a15d5gy1hgqrz7qw47j228c1ec1au"></p><h3 id="1-3ã€Z-lib-å®¢æˆ·ç«¯"><a href="#1-3ã€Z-lib-å®¢æˆ·ç«¯" class="headerlink" title="1.3ã€Z-lib å®¢æˆ·ç«¯"></a>1.3ã€Z-lib å®¢æˆ·ç«¯</h3><p>Z-library å®˜æ–¹è¿˜æ¨å‡ºäº† <strong>Windowsã€macOSã€Linux</strong> çš„å®¢æˆ·ç«¯ï¼Œå¹¶ä¸”<strong>æ— éœ€é­”æ³•</strong>å³å¯ç›´æ¥è®¿é—®ã€‚</p><p>è¿™å¯ä»¥è¯´æ˜¯ä¸€ä¸ªé‡å¤§åˆ©å¥½ï¼Œä»¥åå†ä¹Ÿä¸æ€•ç½‘å€ä¼šå¤±æ•ˆäº†ã€‚</p><p>åœ°å€ï¼š<a href="https://zh.go-to-zlibrary.se/">https://zh.go-to-zlibrary.se</a></p><p><img src="https://image.baidu.com/search/down?url=https://tvax1.sinaimg.cn/large/7a6a15d5gy1hfewqrxb2pj228c1ecnhe.jpg" alt="S21_æ¡Œé¢å®¢æˆ·ç«¯"></p><h3 id="1-4ã€Z-lib-æ‰‹æœºç«¯"><a href="#1-4ã€Z-lib-æ‰‹æœºç«¯" class="headerlink" title="1.4ã€Z-lib æ‰‹æœºç«¯"></a>1.4ã€Z-lib æ‰‹æœºç«¯</h3><p>Z-library å®˜æ–¹çš„å®‰å“ APP ä¸€ç›´å¯ç”¨ï¼Œç›®å‰æœ€æ–°ç‰ˆæœ¬ä¸º <strong>1.10.1</strong>ï¼Œéœ€è¦é­”æ³•ã€‚ï¼ˆä»…æ”¯æŒå®‰å“ï¼‰</p><p><img src="https://image.baidu.com/search/down?url=https://tvax1.sinaimg.cn/large/7a6a15d5gy1hfexj7ximvj22to23cqv6.jpg" alt="S21_Android"></p><h3 id="1-5ã€Z-lib-ç”µæŠ¥æœºå™¨äºº"><a href="#1-5ã€Z-lib-ç”µæŠ¥æœºå™¨äºº" class="headerlink" title="1.5ã€Z-lib ç”µæŠ¥æœºå™¨äºº"></a>1.5ã€Z-lib ç”µæŠ¥æœºå™¨äºº</h3><p>Z-library çš„å®˜æ–¹ç”µæŠ¥æœºå™¨äººåˆ†ä¸¤ç§ï¼šä¸€ç§æ˜¯ <strong>Premium bot</strong>ï¼Œä¸€ç§æ˜¯ <strong>Basic bot</strong>ã€‚ï¼ˆéœ€è¦é­”æ³•ï¼‰</p><p><strong>Premium botï¼š</strong></p><p>Premium bot æåŠ©è¿‡çš„ç”¨æˆ·æ‰ä¼šæ‹¥æœ‰ï¼Œç»‘å®šå³å¯ä½¿ç”¨ï¼Œåœ°å€ï¼š <a href="https://t.me/zlibrary2bot">https://t.me/zlibrary2bot</a></p><p>åœ¨çª—å£é‡Œè¾“å…¥<strong>ä¹¦åã€ä½œè€…åã€ISBNã€ASIN</strong> å³å¯è¿”å›ä¸‹è½½åœ°å€ã€‚</p><p>æ¯å¤©æœ€å¤šå¯ä»¥ä¸‹è½½ <strong>60</strong> æ¬¡ã€‚</p><p><img src="https://image.baidu.com/search/down?url=https://tvax1.sinaimg.cn/large/7a6a15d5gy1hb6dzcoo1dj22661boqv5.jpg" alt="S21_Zlibbot"></p><p><strong>Basic botï¼š</strong></p><p>Basic bot åˆ™æ˜¯ç”±äº Z-library é¢‘ç¹è¢«å°ï¼Œæ‰€ä»¥æ¨å‡ºäº†<strong>ä¸ªäººä¸“å± bot</strong>ï¼Œå’Œç½‘ç«™ä¸»é¡µä¸€æ ·ï¼Œç°åœ¨ä¹Ÿå¯ä»¥äººæ‰‹ä¸€ä¸ªã€‚</p><p>1ã€ç‚¹å‡» Z-library é¡µé¢å³ä¸‹è§’çš„ã€ŒTelegram botã€ã€‚</p><p>2ã€ç‚¹å‡» <a href="https://t.me/BotFather">https://t.me/BotFather</a> è¿›å…¥ TGã€‚</p><p>3ã€åœ¨çª—å£è¾“å…¥ &#x2F;newbotã€‚</p><p>4ã€åœ¨çª—å£è¾“å…¥ bot åç§°ã€‚ï¼ˆå¯ä»»æ„è¾“å…¥ï¼‰</p><p>5ã€åœ¨çª—å£è¾“å…¥ bot ç”¨æˆ·åã€‚ï¼ˆä¸å¯é‡å¤ï¼Œä¸”å¿…é¡»ä»¥ bot ç»“å°¾ï¼‰</p><p><img src="https://image.baidu.com/search/down?url=https://tvax1.sinaimg.cn/large/7a6a15d5gy1hb6dzdjk29j22661bou0x.jpg" alt="S21_Zlibbot_New"></p><p>6ã€ä¿å­˜ç”Ÿæˆçš„ <strong>Token</strong>ï¼Œå¹¶ç²˜è´´åˆ°ä¹‹å‰çš„ç½‘é¡µé‡Œå³å¯å®Œæˆç»‘å®šã€‚</p><p><img src="https://image.baidu.com/search/down?url=https://tvax2.sinaimg.cn/large/7a6a15d5gy1hb6dzefwcij228c1ece81.jpg" alt="S21_Zlibbot_New2"></p><p><strong>æ¡Œé¢ç«¯ TG ï¼š</strong></p><p>æ¡Œé¢ç‰ˆ Telegram å¦‚æœå› æ”¶ä¸åˆ°éªŒè¯ç è€Œæ— æ³•ç™»å½•ï¼Œå¯ä»¥ä½¿ç”¨ <strong>Telegram Lite</strong> ç‰ˆæœ¬ã€‚</p><p><strong>å®‰å“ç«¯ TGï¼š</strong></p><p>å®‰å“ç‰ˆ TG è¿˜å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹åº”ç”¨ <a href="https://github.com/NekoX-Dev/NekoX">NekoX</a>ï¼Œè‡ªå¸¦ä»£ç†ï¼Œå›½å†…ç½‘ç»œä¹Ÿå¯ä»¥ç›´æ¥è®¿é—®ã€‚</p><h3 id="1-6ã€Z-lib-TOR-æµè§ˆå™¨"><a href="#1-6ã€Z-lib-TOR-æµè§ˆå™¨" class="headerlink" title="1.6ã€Z-lib TOR æµè§ˆå™¨"></a>1.6ã€<strong>Z-lib TOR æµè§ˆå™¨</strong></h3><p>Tor æµè§ˆå™¨ï¼Œå¯¹äºæ™®é€šç”¨æˆ·æ¥è¯´æ¯”è¾ƒéš¾ç†è§£ã€‚</p><p>å¤§æ¦‚çš„æ„æ€ï¼Œå°±æ˜¯å…ˆä¸‹è½½ <a href="https://www.torproject.org/zh-CN/download">TOR æµè§ˆå™¨</a>ï¼ˆéœ€é­”æ³•ï¼‰ï¼Œç„¶åæ‰“å¼€ä¸‹é¢çš„ä»»æ„ä¸€ä¸ªç½‘é¡µåœ°å€ï¼Œå³å¯è®¿é—®ã€‚</p><p>åœ°å€1ï¼š<a href="http://zh.loginzlib2vrak5zzpcocc3ouizykn6k5qecgj2tzlnab5wcbqhembyd.onion/">http://loginzlib2vrak5zzpcocc3ouizykn6k5qecgj2tzlnab5wcbqhembyd.onion</a></p><p>åœ°å€2ï¼š<a href="http://zlibrary24tuxziyiyfr7zd46ytefdqbqd2axkmxm4o5374ptpc52fad.onion/">http://zlibrary24tuxziyiyfr7zd46ytefdqbqd2axkmxm4o5374ptpc52fad.onion</a></p><p>å¾—ç›Šäº Z-library çš„å›å½’ï¼Œå¦‚æœå®åœ¨æä¸æ‡‚ï¼Œå¯ç›´æ¥ç•¥è¿‡ã€‚</p><h2 id="äºŒã€Z-lib-æ°‘é—´é¡¹ç›®"><a href="#äºŒã€Z-lib-æ°‘é—´é¡¹ç›®" class="headerlink" title="äºŒã€Z-lib æ°‘é—´é¡¹ç›®"></a>äºŒã€Z-lib æ°‘é—´é¡¹ç›®</h2><p>ä¸‹é¢æˆ‘ä»¬æ¥é‡ç‚¹è®²ä¸€ä¸‹ï¼Œåœ¨ Z-library è¢«å°çš„è¿™æ®µæ—¶é—´ï¼Œäº’è”ç½‘ä¸Šéƒ½å‘ç”Ÿäº†ä»€ä¹ˆã€‚</p><h3 id="2-1ã€Annaâ€™s-Archive"><a href="#2-1ã€Annaâ€™s-Archive" class="headerlink" title="2.1ã€Annaâ€™s Archive"></a>2.1ã€Annaâ€™s Archive</h3><p>åœ¨ Z-library å…³ç«™ä¹‹å‰ï¼Œæœ‰ä¸€ä¸ªå« <strong>Anna</strong> çš„ç½‘å‹çˆ¬å–äº† Z-library ä¸Šçš„æ‰€æœ‰èµ„æºã€‚</p><p>åŸå› æ˜¯ Z-library èµ·æºäº <strong>Libgen</strong>ï¼Œè€Œå¥¹è®¤ä¸º Z-library <strong>åç»­æ–°å¢å†…å®¹å´ä¸å›æµ</strong> Libgen çš„åšæ³•ï¼Œä¸åˆ©äºçŸ¥è¯†ä¼ æ’­ã€‚</p><p>äºæ˜¯ï¼Œåœ¨ <a href="http://pilimi.org/">Pirate Library Mirror</a> ä¸Šï¼Œå¥¹æ”¾å‡ºäº†é‡‡é›†çš„ <strong>31T</strong> ç”µå­ä¹¦èµ„æºã€‚</p><p>ä¹‹åï¼Œ å¥¹åˆæŠŠèµ„æºæ”¾åˆ°äº†å»ä¸­å¿ƒåŒ–çš„ <strong>IPFS</strong> ç½‘ç»œä¸Šï¼Œè¿˜åšäº†ä¸ªæŸ¥è¯¢ç½‘ç«™ï¼Œè¿™å°±ç½‘ç«™å°±æ˜¯â€œ<strong>å®‰å¨œçš„æ¡£æ¡ˆ</strong>â€ã€‚</p><p>åœ°å€ï¼š<a href="https://zh.annas-archive.org/">https://zh.annas-archive.org</a></p><p><img src="https://image.baidu.com/search/down?url=https://tvax1.sinaimg.cn/large/7a6a15d5gy1hb6dzgklgtj228c1ec7nd.jpg" alt="S21_Anna"></p><p>ç½‘ç«™ä¸ä½†æ”¯æŒä¸­æ–‡æœç´¢ï¼Œè€Œä¸”æä¾›äº†ä¸‰ç§ä¸‹è½½æ–¹å¼ï¼ŒåŒ…æ‹¬ï¼š<strong>Libgen</strong> ä¸‹è½½ã€ <strong>IPFS</strong> ä¸‹è½½ã€<strong>TOR</strong> æµè§ˆå™¨ä¸‹è½½ã€‚</p><p>é€‰é¡¹é‡Œçš„â€œ<strong>Libgen</strong>â€å’Œâ€œ<strong>TOR æµè§ˆå™¨</strong>â€ä¸‹è½½çš„æ–¹æ³•å¯ä»¥å¿½ç•¥ã€‚</p><p>ç”¨â€œ<strong>IPFS ç½‘å…³</strong>â€çš„ä¸‹è½½æ–¹æ³•å°±å¯ä»¥ã€‚</p><p><img src="https://image.baidu.com/search/down?url=https://tvax1.sinaimg.cn/large/7a6a15d5gy1hb6dzh6qasj228c1ec7up.jpg" alt="S21_Anna2"></p><h3 id="2-2ã€Book-Searcher"><a href="#2-2ã€Book-Searcher" class="headerlink" title="2.2ã€Book Searcher"></a>2.2ã€Book Searcher</h3><p>åœ¨æ­¤è¿™åï¼Œå›½å†…ä¹Ÿå¼€å§‹æœ‰ç½‘ç«™æ•ˆä»¿ <strong>Annaâ€™s Archive</strong>ï¼Œå…¶ä¸­æœ‰ä¸¤ä¸ªç½‘ç«™æ¯”è¾ƒçŸ¥åã€‚</p><p>åœ°å€ 1ï¼š<a href="https://bk.hallowlib.org/">https://bk.hallowlib.org</a></p><p>åœ°å€ 2ï¼š<a href="https://clibrary.cn/">https://clibrary.cn</a></p><p><img src="https://image.baidu.com/search/down?url=https://tvax1.sinaimg.cn/large/7a6a15d5gy1hfewqui25yj228c1ech8y.jpg" alt="S21_BookSearcher"></p><p>ä½†è¿™ä¸¤ä¸ªç½‘ç«™ï¼Œå¸¸å¸¸ä¼šå› ä¸ºè®¿é—®äººæ•°è¿‡å¤šè€Œè¶…è½½ã€‚</p><p>äºæ˜¯ï¼Œåˆæœ‰ç½‘å‹å°† <strong>Annaâ€™s Archive</strong> æ•°æ®åº“åšæˆç´¢å¼•ï¼Œç„¶åæœç´¢è·å¾— <strong>IPFS CID</strong>ï¼Œæœ€åé€šè¿‡ <strong>IPFS ç½‘å…³</strong>ä¸‹è½½ã€‚</p><p>è¿™ä¸ªé¡¹ç›®ä¸€å¼€å§‹å«åš <strong>zLib Searcher</strong>ï¼Œåæ¥åˆæ”¹åä¸ºäº† <strong>Book Searcher</strong>ã€‚</p><p>åœ°å€ï¼š<a href="https://github.com/book-searcher-org/book-searcher">https://github.com/book-searcher-org/book-searcher</a></p><p><img src="https://image.baidu.com/search/down?url=https://tvax1.sinaimg.cn/large/7a6a15d5gy1hb6dzjdwfbj228c1ec1h2.jpg" alt="S21_BookSearcher3"></p><p>è€Œä¸”ï¼Œç”±äºæ˜¯<strong>å¼€æºé¡¹ç›®</strong>ï¼Œåˆæœ‰å¤šäººåœ¨æ­¤åŸºç¡€ä¸Šæ­å»ºäº†å„ç§<strong>æœç´¢ç½‘ç«™</strong>ï¼Œä¸ç”¨ç™»å½•å°±å¯ä»¥ä½¿ç”¨ï¼Œä¹Ÿè¿˜æ²¡ä¸‹è½½é™åˆ¶ã€‚</p><p><strong>æœç´¢ç½‘ç«™ï¼š</strong></p><p><a href="https://zbook.lol/">https://zbook.lol</a></p><p><a href="https://zlib.awesc.com/">https://zlib.awesc.com</a></p><p><a href="https://zlibsearch.1kbtool.com/">https://zlibsearch.1kbtool.com</a></p><p><a href="https://zlib.knat.network/">https://zlib.knat.network</a>ï¼ˆæ— ç½‘å…³ï¼‰</p><p><img src="https://image.baidu.com/search/down?url=https://tvax1.sinaimg.cn/large/7a6a15d5gy1hb6dzjvueej228c1eckbi.jpg" alt="S21_BookSearcher2"></p><p>ä¸ä»…å¦‚æ­¤ï¼Œ<strong>Book Searcher</strong> è¿˜è¢«åšæˆäº†å„ç§é¡¹ç›®ã€‚</p><p>æ¯”å¦‚ç”±å¾çˆ±ç”¨æˆ·å¼€å‘çš„å®‰å“åº”ç”¨ <strong>XLibrary</strong>ï¼ŒAPP åœ¨<strong>å›½å†…ç½‘ç»œ</strong>é‡Œå°±èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œè€Œä¸”å†…ç½®äº†<strong>å¤šæ¡çº¿è·¯</strong>ã€‚</p><p><img src="https://image.baidu.com/search/down?url=https://tvax1.sinaimg.cn/large/7a6a15d5gy1hb6dzl7lqwj22to23c4qq.jpg" alt="S21_BookSearcher4"></p><p>æ¢å¥è¯è¯´ï¼Œå‡ ä¹æ‰€æœ‰æ ‡è®° <strong>Zlib Searcherã€Book Searcher</strong> çš„åº”ç”¨ï¼Œè¿˜æœ‰ä½¿ç”¨ <strong>IPFS</strong> ä¸‹è½½çš„åº”ç”¨ã€‚</p><p>éƒ½æ˜¯æ¥è‡ª <strong>Annaâ€™s Archive</strong> å’Œ <strong>Book Searcher</strong> çš„å¼€æºã€‚</p><h3 id="2-3ã€Ylibrary"><a href="#2-3ã€Ylibrary" class="headerlink" title="2.3ã€Ylibrary"></a>2.3ã€Ylibrary</h3><p>æ­¤å¤–ï¼Œå›½å†…çš„ Zhelper å›¢é˜Ÿè¿˜æ•´äº†ä¸€ä¸ªå¤§é¡¹ç›®ã€‚</p><p>å°±æ˜¯ Z-library æ¯•ç«Ÿæ˜¯å›½å¤–é¡¹ç›®ï¼Œå¯¹äºä¸­æ–‡ä¹¦ç±çš„æ”¶é›†ï¼Œå¹¶æ²¡æœ‰åšåˆ°å¾ˆå¥½çš„è¦†ç›–ã€‚</p><p>äºæ˜¯ï¼ŒZhelper åœ¨ <strong>Book Searcher</strong> é¡¹ç›®çš„åŸºç¡€ä¸Šï¼Œåˆå¢åŠ äº† <strong>Superlib</strong> è¶…æ˜Ÿä¹¦åº“çš„èµ„æºï¼Œä¸­æ–‡ä¹¦ç±æ•°é‡å¤§ä¸ºå¢åŠ ã€‚</p><p>ç„¶åè¿˜æŠŠä¹¦åº“å‘½åä¸ºäº† <strong>Ylibrary</strong>ã€‚</p><p><img src="https://image.baidu.com/search/down?url=https://tvax1.sinaimg.cn/large/7a6a15d5gy1hb6dzlxsu3j228c1eck4o.jpg" alt="S21_ZhelperSearch"></p><p><strong>Ylibrary</strong> é‡‡ç”¨äº† <strong>API</strong> æ¥å£çš„æ¨¡å¼ï¼Œå¹¶é›†æˆåœ¨äº†ç½‘ç«™â€œ<strong>æ˜“ä¹¦ä¹¦ç±æ£€ç´¢</strong>â€ä¸Šï¼Œç®—å¾—ä¸Šæ˜¯ç›®å‰<strong>æœ€å¥½çš„ä¸­æ–‡ç”µå­ä¹¦æœç´¢å¼•æ“</strong>ã€‚</p><p>åœ°å€ï¼š<a href="https://search.yibook.org/">https://search.yibook.org</a></p><h2 id="ä¸‰ã€Z-lib-ä¸‹è½½æ–¹å¼"><a href="#ä¸‰ã€Z-lib-ä¸‹è½½æ–¹å¼" class="headerlink" title="ä¸‰ã€Z-lib ä¸‹è½½æ–¹å¼"></a>ä¸‰ã€Z-lib ä¸‹è½½æ–¹å¼</h2><p>è¯´å®Œä¸‹è½½ç½‘ç«™ï¼Œè¿™é‡Œè¿˜æœ‰å¿…è¦è¯´ä¸€ä¸‹ä¸‹è½½æ–¹å¼ï¼ŒåŒ…æ‹¬ <strong>IPFS ä¸‹è½½</strong>å’Œ<strong>ç§’ä¼ é“¾æ¥ä¸‹è½½</strong>ã€‚</p><h3 id="3-1ã€IPFS-ä¸‹è½½"><a href="#3-1ã€IPFS-ä¸‹è½½" class="headerlink" title="3.1ã€IPFS ä¸‹è½½"></a>3.1ã€IPFS ä¸‹è½½</h3><p>ç®€å•çš„è¯´ï¼Œ<strong>IPFS</strong> æ˜¯ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„ç½‘ç»œæ–‡ä»¶å­˜å‚¨ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯ <strong>P2P ç³»ç»Ÿ</strong>ã€‚</p><p>æœ‰äº†å®ƒï¼ŒZ-library å°±ä¸å†éœ€è¦æœ‰<strong>ä¸­å¿ƒæœåŠ¡å™¨</strong>ï¼Œå› æ­¤å¯ä»¥é¿å…<strong>å†æ¬¡è¢«å°ç«™</strong>ï¼Œæ–‡ä»¶å¯ä»¥æ°¸ä¹…åœ°ä¿å­˜åœ¨ç½‘ç»œä¸Šã€‚</p><p>åªè¦å¥½é…ç½® <strong>IPFS ç½‘å…³</strong>å°±å¯ä»¥ä¸‹è½½ï¼Œå½“ç„¶ï¼Œç½‘ç«™ä¸€èˆ¬éƒ½ä¼šç›´æ¥é…ç½®å¥½çš„ã€‚</p><p><strong>å¸¸è§ IPFS ç½‘å…³ï¼š</strong></p><p><a href="https://dweb.link/">https://dweb.link</a></p><p><a href="https://gateway.pinata.cloud/">https://gateway.pinata.cloud</a></p><p><a href="https://ipfs.best-practice.se/">https://ipfs.best-practice.se</a></p><p>è€Œå¦‚æœé‚£å¤©ç”¨ä¸äº†ï¼Œé‚£ä½ è¿˜å¯ä»¥ç”¨ä¸‹é¢çš„ <strong>IPFS ç½‘å…³æ£€æŸ¥å·¥å…·</strong>æ¥æ›¿ä»£ï¼Œå»¶è¿Ÿè¶Šä½çš„å°±æ˜¯è¶Šå¥½çš„é‚£ä¸ªã€‚</p><p><strong>ç½‘å…³æ£€æŸ¥å·¥å…·ï¼š</strong></p><p><a href="https://ipfs.github.io/public-gateway-checker">https://ipfs.github.io/public-gateway-checker</a></p><p><a href="https://ipfs-checker.1kbtool.com/">https://ipfs-checker.1kbtool.com</a></p><p><img src="https://image.baidu.com/search/down?url=https://tvax1.sinaimg.cn/large/7a6a15d5gy1hb6dzhtakpj228c1echcb.jpg" alt="S21_Anna3"></p><h3 id="3-2ã€ç§’ä¼ é“¾æ¥"><a href="#3-2ã€ç§’ä¼ é“¾æ¥" class="headerlink" title="3.2ã€ç§’ä¼ é“¾æ¥"></a>3.2ã€ç§’ä¼ é“¾æ¥</h3><p>ä»€ä¹ˆæ˜¯ç§’ä¼ é“¾æ¥ï¼Ÿ</p><p>å½“ä½ ç”¨ç½‘ç›˜ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œæœ‰æ—¶å€™æ–‡ä»¶ä¸€ç§’éƒ½ä¸ç”¨ï¼Œç„¶åå°±ä¸Šä¼ æˆåŠŸäº†ã€‚</p><p>è¿™æ˜¯å› ä¸ºä½ ä¸Šä¼ çš„æ–‡ä»¶ï¼Œåœ¨æœåŠ¡å™¨é‡Œå·²ç»æœ‰äº†ï¼Œç½‘ç›˜åªæ˜¯â€œ<strong>å¤åˆ¶</strong>â€äº†ä¸€ä»½ï¼Œæ‰€ä»¥æ–‡ä»¶å°±â€œ<strong>ç§’ä¼ </strong>â€ä¸Šå»äº†ã€‚</p><p>ä¹Ÿæ­£æ˜¯å› ä¸ºè¿™ä¸ªç‰¹æ€§ï¼Œç½‘å‹å‘æ˜äº†â€œ<strong>ç§’ä¼ é“¾æ¥</strong>â€ï¼Œå®ƒå¯ä»¥è¯´æ˜¯â€œ<strong>ç½‘ç»œå†²æµªè€å¸æœº</strong>â€å¿…å¤‡çš„ä¸€ä¸ªæŠ€èƒ½ã€‚</p><p><img src="https://image.baidu.com/search/down?url=https://tva1.sinaimg.cn/large/008vxvgGgy1h85saovoilj31al0u0wh3.jpg" alt="i74_ç§’ä¼ é“¾æ¥"></p><p>ç›®å‰ï¼Œç§’ä¼ é“¾æ¥æœ‰ä¸¤ç§ä¸‹è½½æ–¹æ³•ï¼Œä¸€ç§æ˜¯ç”¨<strong>æ²¹çŒ´è„šæœ¬</strong>ï¼Œä¸€ç§æ˜¯ç”¨<strong>å¸å· Token</strong> è½¬å­˜çš„æ–¹æ³•ã€‚</p><p>ä½¿ç”¨æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œå‡ ä¹ä¸€çœ‹å°±ä¼šã€‚</p><p><strong>æ²¹çŒ´è„šæœ¬ï¼š</strong></p><p>åœ°å€1ï¼š<a href="https://greasyfork.org/zh-CN/scripts/468633">https://greasyfork.org/zh-CN/scripts/468633</a> ï¼ˆæ¨èï¼‰</p><p>åœ°å€2ï¼š<a href="https://greasyfork.org/zh-CN/scripts/427628">https://greasyfork.org/zh-CN/scripts/427628</a></p><p><strong>å¸å· Tokenï¼š</strong></p><p>åœ°å€ 1ï¼š<a href="https://rapidupload.1kbtool.com/">https://rapidupload.1kbtool.com</a></p><p>åœ°å€ 2ï¼š<a href="https://rulite.1kbtool.com/">https://rulite.1kbtool.com</a></p><p>PSï¼šå¦‚æœé‡åˆ°ä¸‹è½½çš„ç”µå­ä¹¦æ ¼å¼ä¸º PDGï¼Œåˆæˆ–è€…åŠ å¯†ç äº†ï¼Œå…¬ä¼—å·åå°å›å¤ <strong>S21</strong> å³å¯è·å–å¯¹åº”çš„è½¬æ¢å·¥å…·ã€‚</p><h2 id="å››ã€Z-lib-é¡¹ç›®é€‰æ‹©"><a href="#å››ã€Z-lib-é¡¹ç›®é€‰æ‹©" class="headerlink" title="å››ã€Z-lib é¡¹ç›®é€‰æ‹©"></a>å››ã€Z-lib é¡¹ç›®é€‰æ‹©</h2><p>ä»‹ç»äº†è¿™ä¹ˆå¤š Zlibrary çš„é¡¹ç›®ï¼Œæœ‰å®˜æ–¹çš„ï¼Œæœ‰æ°‘é—´çš„ï¼Œè¦å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿ</p><h3 id="4-1ã€é¦–é€‰-Z-library"><a href="#4-1ã€é¦–é€‰-Z-library" class="headerlink" title="4.1ã€é¦–é€‰ Z-library"></a>4.1ã€é¦–é€‰ Z-library</h3><p>Z-library çš„ä¼˜åŠ¿åœ¨äºä¹¦åº“é›†å…¨ï¼Œå„ç§è¯­è¨€çš„éƒ½æœ‰ï¼Œæ˜¯ç›®<strong>å‰æœ€å¤§çš„æ•°å­—å›¾ä¹¦é¦†</strong>ï¼Œè€Œä¸”è¿˜åœ¨<strong>æŒç»­å¢é•¿ä¸­</strong>ã€‚</p><p>å¹¶ä¸”ï¼ŒZ-library å®˜æ–¹ç½‘ç«™è¿˜æœ‰<strong>æ”¶è—å¤¹ï¼Œè¯„è®ºã€ä¹¦å•æ¨è</strong>ç­‰è¯¸å¤šäººæ€§åŒ–åŠŸèƒ½ã€‚</p><p>æˆ‘ä»¬æ²¡æœ‰ç†ç”±ä¸ä¼˜å…ˆé€‰æ‹© <strong>Z-library</strong> å®˜æ–¹ç½‘ç«™ã€‚</p><h3 id="4-2ã€æ¬¡é€‰-Book-Searcher"><a href="#4-2ã€æ¬¡é€‰-Book-Searcher" class="headerlink" title="4.2ã€æ¬¡é€‰ Book Searcher"></a>4.2ã€æ¬¡é€‰ <strong>Book Searcher</strong></h3><p>ç”±äº <strong>Annaâ€™s Archive</strong> é¡¹ç›®çš„è¯ç”Ÿã€‚</p><p>Z-library 2022 å¹´ 12 æœˆä¹‹å‰çš„ä¹¦åº“å°±æ­¤å¼€æºï¼Œå†åŠ ä¸Š <strong>Book Searcher</strong> çš„ç´¢å¼•ï¼Œæ²¡æœ‰ä¸‹è½½é™åˆ¶ã€‚</p><p>ç°åœ¨ï¼Œä½ å·²ç»æ‹¥æœ‰äº†ä¸€åº§å®¹é‡ <strong>31T</strong>ï¼Œè€Œä¸”æ°¸è¿œä¸ä¼šä¸‹çº¿çš„ç”µå­å›¾ä¹¦é¦†ã€‚</p><p>åº”è¯¥è¯´ï¼Œä½ å†ä¹Ÿä¸ä¼šä¸ºæ‰¾ç”µå­ä¹¦å‘æ„äº†ã€‚</p><h3 id="4-3ã€å†·é—¨-Ylibrary"><a href="#4-3ã€å†·é—¨-Ylibrary" class="headerlink" title="4.3ã€å†·é—¨ Ylibrary"></a>4.3ã€å†·é—¨ Ylibrary</h3><p>å¦‚æœä½ éœ€è¦æŸ¥æ‰¾çš„æ˜¯ä¸€äº›<strong>å†·é—¨ä¸­æ–‡ä¹¦ç±</strong>ï¼Œä½¿ç”¨ <strong>Ylibraryï¼ˆ</strong>Z-library ä¹¦åº“ + Superlib è¶…æ˜Ÿä¹¦åº“ï¼‰æœç´¢ã€‚</p><p>æˆåŠŸçš„æ¦‚ç‡å°†å¤§å¤§å¢åŠ ï¼Œå®ƒç®—å¾—ä¸Šæ˜¯ç›®å‰<strong>æœ€å¥½çš„ä¸­æ–‡ç”µå­ä¹¦æœç´¢å¼•æ“</strong>ã€‚</p><h3 id="4-4ã€æœ«é€‰-Zhelper"><a href="#4-4ã€æœ«é€‰-Zhelper" class="headerlink" title="4.4ã€æœ«é€‰ Zhelper"></a>4.4ã€æœ«é€‰ Zhelper</h3><p>å¦‚æœåç»­å‡ºç°å¤±æ•ˆçš„æƒ…å†µï¼Œå¯ä»¥æŸ¥çœ‹â€œ<strong>zhelper search é…ç½®å°å·¥å…·</strong>â€ï¼Œè¿™æ˜¯å›½å†…å›¢é˜Ÿ Zhelper ç»´æŠ¤çš„ç½‘å€ã€‚</p><p>åº”è¯¥è¯´ï¼Œç°åœ¨èƒ½è¿™ä¹ˆæ–¹ä¾¿çš„ä¸‹è½½ç”µå­ä¹¦ï¼Œä»–ä»¬çš„åŠŸèƒ½å¾ˆå¤§ã€‚</p><p>åœ°å€ï¼š<a href="https://tool.yibook.org/">https://tool.yibook.org</a></p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™æ¨è </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç”µå­ä¹¦å¯¼èˆª </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git ç¬”è®°</title>
      <link href="/2023/10/02/git/git%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/"/>
      <url>/2023/10/02/git/git%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<h2 id="è´¦æˆ·é…ç½®"><a href="#è´¦æˆ·é…ç½®" class="headerlink" title="è´¦æˆ·é…ç½®"></a>è´¦æˆ·é…ç½®</h2><ol><li>é…ç½®å…¨å±€è´¦æˆ·ï¼Œå¯¹æ‰€æœ‰ Git ä»“åº“æœ‰æ•ˆ</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&#x27;Your Name&#x27;</span></span><br><span class="line">git config --global user.email <span class="string">&#x27;Your Email&#x27;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>é…ç½®å±€éƒ¨è´¦æˆ·ï¼Œåªå¯¹å½“å‰ Git ä»“åº“æœ‰æ•ˆ</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --<span class="built_in">local</span> user.name <span class="string">&#x27;Your Name&#x27;</span></span><br><span class="line">git config --<span class="built_in">local</span> user.email <span class="string">&#x27;Your Email&#x27;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>æŸ¥çœ‹å…¨å±€é…ç½®</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global --list</span><br></pre></td></tr></table></figure><ol start="4"><li>æŸ¥çœ‹å±€éƒ¨é…ç½®</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --<span class="built_in">local</span> --list</span><br></pre></td></tr></table></figure><h2 id="ç”Ÿæˆssh-å¯†é’¥"><a href="#ç”Ÿæˆssh-å¯†é’¥" class="headerlink" title="ç”Ÿæˆssh å¯†é’¥"></a>ç”Ÿæˆssh å¯†é’¥</h2><p>è¿æ¥åˆ°githubä»“åº“ï¼Œå…¬é’¥æ–‡ä»¶å­˜æ”¾åœ¨C:&#x2F;ç”¨æˆ·æ–‡ä»¶å¤¹&#x2F;.ssh&#x2F;id_rsa.pub</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;ä½ çš„é‚®ç®±&quot;</span></span><br><span class="line">ssh -T git@github.com   //æµ‹è¯•è¿æ¥å‘½ä»¤</span><br></pre></td></tr></table></figure><hr><h2 id="ä¸Šä¼ æ“ä½œ"><a href="#ä¸Šä¼ æ“ä½œ" class="headerlink" title="ä¸Šä¼ æ“ä½œ"></a>ä¸Šä¼ æ“ä½œ</h2><p>1.æ‰¾åˆ°æƒ³è¦ä¸Šä¼ çš„æ–‡ä»¶å¤¹ï¼Œè¿›å…¥å¹¶ç‚¹å‡» git sh here</p><p>ç„¶åè¾“å…¥ <code>git init</code></p><p>ç„¶åè¾“å…¥ <code>git remote add origin https://gitee.com/[ç äº‘çš„ç”¨æˆ·å]/[ä»“åº“è·¯å¾„].git</code><br>è¿™é‡Œå»ºè®®ç›´æ¥å¤åˆ¶</p><p>ç„¶å <code>git add ./</code> .&#x2F;è¡¨ç¤ºå½“å‰æ–‡ä»¶å¤¹å†…æ‰€æœ‰æ–‡ä»¶</p><p>ç„¶å <code>git commit -m &quot;ä¸Šä¼ çš„ä¿¡æ¯&quot;</code></p><p>ç„¶å <code>git push origin master</code> æŸ¥çœ‹giteeä¸Šå‘ç°æ–‡ä»¶ä¸Šä¼ æˆåŠŸ</p><p>ä¸Šé¢æ˜¯ç¬¬ä¸€æ¬¡åˆ›å»ºè¿œç¨‹ä»“åº“çš„æƒ…å†µ</p><p>å¦‚æœæœ‰æ–°çš„æ–‡ä»¶ï¼Œä»<code>git add [æ–‡ä»¶å]</code> å¤„å¼€å§‹å³å¯ã€‚</p><hr><h2 id="git-push-error-failed-to-push-some-refs-to-å¼‚å¸¸å¤„ç†"><a href="#git-push-error-failed-to-push-some-refs-to-å¼‚å¸¸å¤„ç†" class="headerlink" title="git push error: failed to push some refs to å¼‚å¸¸å¤„ç†"></a>git push error: failed to push some refs to å¼‚å¸¸å¤„ç†</h2><h3 id="ä¸€ã€å¼‚å¸¸é”™è¯¯"><a href="#ä¸€ã€å¼‚å¸¸é”™è¯¯" class="headerlink" title="ä¸€ã€å¼‚å¸¸é”™è¯¯"></a>ä¸€ã€å¼‚å¸¸é”™è¯¯</h3><ul><li>ä½¿ç”¨Githubæ—¶ï¼Œ<code>git push</code>å‘½ä»¤å‡ºç° <code>error: failed to push some refs to &#39;git@github.com:xxxxx&#39;</code>é”™è¯¯</li></ul><h3 id="äºŒã€åŸå› "><a href="#äºŒã€åŸå› " class="headerlink" title="äºŒã€åŸå› "></a>äºŒã€åŸå› </h3><ul><li>è¿œç«¯ä»“åº“æ›´æ–°æ•°æ®æœªåŒæ­¥åˆ°æœ¬åœ°</li></ul><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20231002092020.png"></p><h3 id="ä¸‰ã€è§£å†³æ–¹æ³•"><a href="#ä¸‰ã€è§£å†³æ–¹æ³•" class="headerlink" title="ä¸‰ã€è§£å†³æ–¹æ³•"></a>ä¸‰ã€è§£å†³æ–¹æ³•</h3><ul><li><p>å…ˆå°†è¿œç¨‹ä»£ç åº“ä¸­æ–‡ä»¶pullåˆ°æœ¬åœ°ï¼Œè¿›è¡Œä»£ç åˆå¹¶ï¼Œä½¿ç”¨<code>git pull --rebase origin master</code></p></li><li><p>å†pushæ–°çš„ä»£ç åˆ°Githubä»£ç åº“ä¸­ï¼Œè¿›è¡Œä¸Šä¼ <code>git push -u origin master</code></p></li></ul><hr><h2 id="rejected-master-ï¼-master-non-fast-forward-å¼‚å¸¸å¤„ç†"><a href="#rejected-master-ï¼-master-non-fast-forward-å¼‚å¸¸å¤„ç†" class="headerlink" title="! [rejected] master -ï¼ master (non-fast-forward) å¼‚å¸¸å¤„ç†"></a>! [rejected] master -ï¼ master (non-fast-forward) å¼‚å¸¸å¤„ç†</h2><p>non-fast-forwardï¼šè¯‘ä¸ºâ€˜ä¸èƒ½å¿«é€Ÿå‰è¿›â€™ï¼Œè¿œç¨‹ä»“åº“æ›´æ–°äº†ï¼Œä½ æ²¡æœ‰åŠæ—¶åŒæ­¥åˆ°æœ¬åœ°ï¼Œæäº¤çš„æ—¶å€™æ·»åŠ äº†æ–°çš„å†…å®¹ï¼Œæäº¤çš„æ—¶å€™ï¼Œç„¶åæ£€æµ‹åˆ°è¿œç¨‹å’Œæœ¬åœ°ä¸ä¸€æ ·ã€‚ä¸ºäº†å®‰å…¨èµ·è§ï¼ŒæŠ¥äº†è¿™ä¸ªé”™è¯¯ã€‚</p><p>å¯ä»¥å…ˆåˆå¹¶ä¹‹å‰çš„å†å²ï¼Œåœ¨è¿›è¡Œæäº¤</p><ol><li>å…ˆæŠŠgitçš„ä¸œè¥¿fetchåˆ°æœ¬åœ°ï¼Œéœ€è¦åˆå¹¶å°±å°±åˆå¹¶ï¼Œç„¶åå†push</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git fetch origin master</span><br><span class="line"> </span><br><span class="line">git merge origin FETCH_HEAD </span><br></pre></td></tr></table></figure><p>2.<code>git pull --rebase origin master</code></p><hr><h2 id="Incorrect-username-or-password-access-token-å¼‚å¸¸å¤„ç†"><a href="#Incorrect-username-or-password-access-token-å¼‚å¸¸å¤„ç†" class="headerlink" title="Incorrect username or password (access token)  å¼‚å¸¸å¤„ç†"></a>Incorrect username or password (access token)  å¼‚å¸¸å¤„ç†</h2><p>ç”±äºæˆ‘æ›´æ”¹äº† git è´¦å·å¯†ç ï¼Œå¯¼è‡´æˆ‘åœ¨pushçš„æ—¶å€™å‡ºç°<code>Incorrect username or password (access token)</code>ã€‚</p><p>ç„¶åç½‘ä¸ŠæŸ¥è§£å†³æ–¹å¼ï¼Œæœ‰é€šè¿‡<a href="https://blog.csdn.net/qq_40428678/article/details/84074488">ä¿®æ”¹æœ¬åœ°çš„ Windows å‡­æ®</a> æ‰€åœ¨çš„å¯†ç ï¼Œä½†æˆ‘å‘ç°äº†æˆ‘çš„æœ¬åœ°Windowså‡­æ®æ²¡æœ‰giteeã€‚ã€‚ã€‚ã€‚</p><p>ç„¶åæˆ‘å‘ç°äº†å¦ä¸€ç§è§£å†³æ–¹å¼ï¼Œé€šè¿‡<a href="https://so.csdn.net/so/search?q=git%E5%91%BD%E4%BB%A4&spm=1001.2101.3001.7020">gitå‘½ä»¤</a>çš„æ–¹å¼è§£å†³ ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --system --<span class="built_in">unset</span> credential.helper</span><br></pre></td></tr></table></figure><p>å…ˆæ‰§è¡Œä»¥ä¸Šå‘½ä»¤åï¼Œå†é‡æ–°æ‰§è¡Œpushå‘½ä»¤å°±ä¼šæç¤ºé‡æ–°è¾“å…¥è´¦å·å’Œå¯†ç ï¼Œç„¶åæ­£ç¡®è¾“å…¥å³å¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Gitä»“åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è½¯ä»¶å¯¼èˆª</title>
      <link href="/2023/09/27/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/%E8%BD%AF%E4%BB%B6%E5%AF%BC%E8%88%AA/"/>
      <url>/2023/09/27/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/%E8%BD%AF%E4%BB%B6%E5%AF%BC%E8%88%AA/</url>
      
        <content type="html"><![CDATA[<h1 id="è½¯ä»¶å¯¼èˆª"><a href="#è½¯ä»¶å¯¼èˆª" class="headerlink" title="è½¯ä»¶å¯¼èˆª"></a>è½¯ä»¶å¯¼èˆª</h1><hr><h2 id="ä¸€ã€è½¯ä»¶èµ„è®¯"><a href="#ä¸€ã€è½¯ä»¶èµ„è®¯" class="headerlink" title="ä¸€ã€è½¯ä»¶èµ„è®¯"></a>ä¸€ã€è½¯ä»¶èµ„è®¯</h2><table><thead><tr><th align="left">â–¼ <strong>å›½å†…ç½‘ç«™</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://github.com/">GitHub</a></td><td align="left">å…¨çƒæœ€å¤§å¼€æºæ‰˜ç®¡å¹³å°ï¼Œå¼€å‘è€…ä»¬â€œ<strong>æ®¿å ‚èˆ¬</strong>â€ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.52pojie.cn/">52Pojie</a></td><td align="left">GitHub å’Œ 52Pojie åˆç§°â€œ<strong>åŒ—ä¹”å³°å—æ…•å®¹</strong>â€ï¼Œå›½å†…æ´»è·ƒåº¦æœ€é«˜çš„è½¯ä»¶äº¤æµç¤¾åŒºã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.appinn.com/">å°ä¼—è½¯ä»¶</a></td><td align="left">è€ç‰Œè½¯ä»¶åˆ†äº«ç½‘ç«™ï¼Œä»‹ç»å„ç§æ–°é²œè½¯ä»¶ï¼Œè¿˜æ–°å¼€äº†ä¸€ä¸ªâ€œ<a href="https://meta.appinn.net/c/faxian/10">å‘ç°åˆ†äº«</a>â€é¢‘é“ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.iplaysoft.com/">å¼‚æ¬¡å…ƒè½¯ä»¶</a></td><td align="left">ä¸â€œ<strong>å°ä¼—è½¯ä»¶</strong>â€ç±»ä¼¼ï¼Œä½†æ›´æ–°å¼ºåº¦å¤§ä¸å¦‚ä»¥å‰ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://topbook.cc/overview">Topbook</a></td><td align="left">å¯ä»¥è¯´æ˜¯â€œ<strong>è§†é¢‘ç‰ˆå°ä¼—è½¯ä»¶</strong>â€ï¼Œä¿¡å™ªéŸ³æ¯”ä¸é«˜ï¼ŒåŒæ ·çš„å†…å®¹éœ€è¦çš„æ—¶é—´æ›´å¤šã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://sspai.com/">å°‘æ•°æ´¾</a></td><td align="left">è½¯ä»¶ç•Œçš„â€œ<strong>å°çº¢ä¹¦</strong>â€ï¼Œæ–‡ç« æ›´å¤šçš„æ˜¯â€œ<strong>ç»éªŒåˆ†äº«</strong>â€ï¼Œä½†è‹¹æœç”¨æˆ·å æ¯”å¤ªé«˜ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://soft.ithome.com/">IT ä¹‹å®¶</a></td><td align="left">ä¸“ä¸šçš„ IT æ–°é—»ç½‘ç«™ï¼Œæœ‰ä¸€ä¸ªâ€œ<strong>è½¯ä»¶</strong>â€é¢‘é“ï¼Œè½¯ä»¶ç•Œçš„å¤§æ–°é—»ï¼Œè¿™é‡Œéƒ½æœ‰ã€‚</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>å›½å¤–ç½‘ç«™</strong></td><td align="left">ç®€ä»‹</td></tr><tr><td align="left">ğŸŒ <a href="https://www.producthunt.com/">Product Hunt</a></td><td align="left">å›½å¤–æœ€ç«çš„è½¯ä»¶åº”ç”¨èµ„è®¯ç½‘ç«™ï¼Œèƒ½å‘æ˜å¾ˆå¤šå‰æ²¿æ–°äº§å“ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://betalist.com/">BetaList</a></td><td align="left">ä¸ Product Hunt ç±»ä¼¼ï¼Œä½†æä¾›çš„éƒ½æ˜¯æ–°é²œå‰æ²¿çš„åº”ç”¨ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.slant.co/">Slant</a></td><td align="left">æä¾›å„ç§åº”ç”¨çš„æ’åæµ‹è¯„ï¼Œæœ‰æ­£åè§‚ç‚¹ï¼Œæ¯”å¦‚â€œ<a href="https://www.slant.co/topics/1507/~best-desktop-web-browsers">æœ€å¥½çš„æµè§ˆå™¨æ˜¯ä»€ä¹ˆ</a>â€ï¼Ÿ</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>ç›¸ä¼¼è½¯ä»¶</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="https://www.producthunt.com/">Product Hunt</a></td><td align="left">ç½‘å¤–æœ€ç«çš„è½¯ä»¶èµ„è®¯ç½‘ç«™ï¼Œå³ä¸‹è§’çš„â€View all alternativesâ€å°±æ˜¯ç›¸ä¼¼è½¯ä»¶ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://alternativeto.net/">AlternativeTo</a></td><td align="left">è€ç‰Œç½‘ç«™ï¼Œæ”¯æŒ Windowsã€macOSã€linuxã€ç½‘é¡µã€iOSã€å®‰å“ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://zh.altapps.net/">Altapps.net</a></td><td align="left">æ”¯æŒå¤šè¯­è¨€ï¼Œæ”¯æŒå¤šå¹³å°ï¼Œèµ„æºä¹Ÿæ¯”è¾ƒä¸°å¯Œã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://progsoft.net/">ProgSoft</a></td><td align="left">æ”¯æŒæ¡Œé¢è½¯ä»¶ï¼Œçƒ­åº¦ä¹Ÿå¾ˆé«˜ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://alternative.me/">Alternative.me</a></td><td align="left">æ”¯æŒæ¡Œé¢è½¯ä»¶ï¼Œèµ„è®¯ç›¸å¯¹è¾ƒè€ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://alternatives.app/">Alternatives.app</a></td><td align="left">æ”¯æŒæ¡Œé¢è½¯ä»¶ï¼Œèµ„è®¯ç›¸å¯¹è¾ƒè€ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.similarsites.com/">Similarsites</a></td><td align="left">å‘æ˜ç›¸ä¼¼ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.similarweb.com/zh/">Similarweb</a></td><td align="left">å‘æ˜ç›¸ä¼¼ç½‘ç«™å’Œæ‰‹æœºåº”ç”¨ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.btw.so/zh/open-source-alternatives">å¼€æºæ›¿ä»£æ–¹æ¡ˆ</a></td><td align="left">200 å¤šä¸ªå¼€æºæ›¿ä»£å“ï¼Œå¯æ›¿ä»£ä¼ä¸šæ—¥å¸¸è¿è¥æ‰€éœ€çš„å·¥å…·ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://mrfreetools.com/">MrFreeTools</a></td><td align="left">æŸ¥æ‰¾æ”¶è´¹åº”ç”¨çš„å…è´¹æ–¹æ¡ˆã€‚</td></tr></tbody></table><h2 id="äºŒã€è½¯ä»¶è®ºå›"><a href="#äºŒã€è½¯ä»¶è®ºå›" class="headerlink" title="äºŒã€è½¯ä»¶è®ºå›"></a>äºŒã€è½¯ä»¶è®ºå›</h2><table><thead><tr><th align="left">â–¼ <strong>å›½å†…è®ºå›</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://www.52pojie.cn/forum-2-1.html">å¾çˆ±ç ´è§£</a></td><td align="left">å›½å†…æ´»è·ƒåº¦æœ€é«˜çš„è½¯ä»¶äº¤æµç¤¾åŒºã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.v2ex.com/">V2EX</a></td><td align="left">å‰çŸ¥åå¼€å‘è€…äº¤æµç¤¾åŒºï¼Œç°åœ¨éœ€è¦â€œ<strong>é­”æ³•</strong>â€æ‰èƒ½è®¿é—®äº†ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://bbs.pcbeta.com/">è¿œæ™¯è®ºå›</a></td><td align="left">å›½å†…çŸ¥åçš„ Windows è½¯ä»¶äº¤æµç¤¾åŒºã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://bbs.kafan.cn/">å¡é¥­è®ºå›</a></td><td align="left">ä¸€ä¸ªä»¥â€œ<strong>å¡å·´æ–¯åŸº</strong>â€ä¸ºèµ·ç‚¹çš„è½¯ä»¶äº¤æµç¤¾åŒºï¼Œéœ€è¦ç™»å½•æ‰èƒ½è®¿é—®ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.chongbuluo.com/">è™«éƒ¨è½</a></td><td align="left">ä¸€ä¸ªä»¥æœç´¢ä¸»é¢˜çš„èµ„æºäº¤æµç¤¾åŒºã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.chinapyg.com/forum-83-1.html">é£˜äº‘é˜</a></td><td align="left">ç±»ä¼¼ 52Pojie çš„è®ºå›ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="http://bbs.wuyou.net/forum.php">æ— å¿§å¯åŠ¨</a></td><td align="left">ç±»ä¼¼ 52Pojie çš„è®ºå›ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.52hb.com/forum-86-1.html">å¾çˆ±æ±‡ç¼–</a></td><td align="left">ç±»ä¼¼ 52Pojie çš„è®ºå›ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="http://www.bathome.net/">æ‰¹å¤„ç†ä¹‹å®¶</a></td><td align="left">ä¸€ä¸ªä¸“æ³¨äº <strong>.bat</strong> æ‰¹å¤„ç†æ–‡ä»¶çš„è½¯ä»¶è®ºå›ã€‚</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>å›½å¤–è®ºå›</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="https://rutracker.org/forum/index.php">RuTracker.org</a></td><td align="left">æä¾› BT ä¸‹è½½ï¼Œç»¼åˆæ€§èµ„æºä¸‹è½½ç½‘ç«™ï¼Œå„ç§å†…å®¹éƒ½æœ‰ï¼Œä¿„ç½—æ–¯çŸ¥åç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://forum.mobilism.org/index.php">Mobilism</a></td><td align="left">æä¾› BT ä¸‹è½½ï¼Œç»¼åˆæ€§èµ„æºä¸‹è½½ç½‘ç«™ï¼Œå„ç§å†…å®¹éƒ½æœ‰ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://nsaneforums.com/forum/48-software-updates/">Nsane Forums</a></td><td align="left">æä¾› BT ä¸‹è½½ï¼Œç»¼åˆæ€§èµ„æºä¸‹è½½ç½‘ç«™ï¼Œå„ç§å†…å®¹éƒ½æœ‰ã€‚</td></tr></tbody></table><h2 id="ä¸‰ã€Win-è½¯ä»¶"><a href="#ä¸‰ã€Win-è½¯ä»¶" class="headerlink" title="ä¸‰ã€Win è½¯ä»¶"></a>ä¸‰ã€Win è½¯ä»¶</h2><table><thead><tr><th align="left">â–¼ <strong>å›½å†…ç½‘ç«™</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://www.423down.com/">423Down</a></td><td align="left">æä¾› è“å¥äº‘ã€123 ç½‘ç›˜ã€ç™¾åº¦ç½‘ç›˜ã€‚ğŸ‘</td></tr><tr><td align="left">ğŸŒ <a href="https://www.itrmb.com/">æ•°å­—äººæ°‘å¸</a></td><td align="left">423Down éœ€è¦ä¼šå‘˜æ‰èƒ½ä¸‹è½½çš„è½¯ä»¶ï¼Œè¿™é‡Œæœ‰ã€‚ğŸ‘</td></tr><tr><td align="left">ğŸŒ <a href="https://www.ghxi.com/">æœæ ¸å‰¥å£³</a></td><td align="left">æä¾› 123 ç½‘ç›˜ã€å¤¸å…‹ç½‘ç›˜ã€é˜¿é‡Œç½‘ç›˜ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.6yit.com/">å…­éŸ³è½¯ä»¶</a></td><td align="left">æä¾› è“å¥äº‘ã€123 ç½‘ç›˜ã€å¤©ç¿¼äº‘ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://foxirj.com/">ä½›ç³»è½¯ä»¶</a></td><td align="left">æä¾› ç™¾åº¦ç½‘ç›˜ã€ä¼šå‘˜ 123 ç½‘ç›˜ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.luochenzhimu.com/">è½å°˜ä¹‹æœ¨</a></td><td align="left">æä¾› 123 ç½‘ç›˜ã€å¤¸å…‹ç½‘ç›˜ã€ç™¾åº¦ç½‘ç›˜ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="http://www.qiuquan.cc/">QiuQuan</a></td><td align="left">æä¾› å®˜æ–¹é“¾æ¥ã€è“å¥äº‘ã€123 ç½‘ç›˜ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.mefcl.com/">mefcl</a></td><td align="left">æä¾› 123 ç½‘ç›˜ã€å¤©ç¿¼äº‘ã€å¤¸å…‹ç½‘ç›˜</td></tr><tr><td align="left">ğŸŒ <a href="http://www.th-sjy.com/">th_sjy</a></td><td align="left">æä¾› åŸé€šç½‘ç›˜ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="http://www.apprcn.com/">åæ–—è½¯ä»¶</a></td><td align="left">æä¾› å®˜æ–¹é“¾æ¥ã€è“å¥äº‘ã€123 ç½‘ç›˜ã€å†…å®¹è¾ƒè€ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="http://www.dayanzai.me/">å¤§çœ¼ä»”æ—­</a></td><td align="left">æä¾› ç™¾åº¦ç½‘ç›˜ã€åŸé€šç½‘ç›˜ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.sunweihu.com/">å¢¨æ¶©ç½‘</a></td><td align="left">æä¾› å®˜æ–¹é“¾æ¥ã€è“å¥äº‘ã€123 ç½‘ç›˜ã€å†…å®¹è¾ƒè€ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.ypojie.com/">æ˜“ç ´è§£</a></td><td align="left">æä¾› ç™¾åº¦ç½‘ç›˜ã€å¤¸å…‹ç½‘ç›˜ã€‚</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>å›½å¤–ç½‘ç«™</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="https://en.softonic.com/">Softonic</a></td><td align="left">æä¾›è½¯ä»¶çš„ä»‹ç»å’Œä¸‹è½½ï¼Œç±»ä¼¼äºå›½å†…çš„â€œ<strong>åå†›ä¸‹è½½</strong>â€ï¼Œæ— ç ´è§£å†…å®¹ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://en.taiwebs.com/?lang=SG">TaiWebs</a></td><td align="left"></td></tr><tr><td align="left">ğŸŒ <a href="https://filezner.com/">Filezner</a></td><td align="left">èµ„æºè¾ƒè€ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://filecr.com/en">FileCR</a></td><td align="left">å·ç§°ä¸–ç•Œæœ€å¤§</td></tr><tr><td align="left">ğŸŒ <a href="https://haxnode.net/">haxNode</a></td><td align="left"></td></tr><tr><td align="left">ğŸŒ <a href="https://www.sadeempc.com/">SadeemPC</a></td><td align="left"></td></tr><tr><td align="left">ğŸŒ <a href="https://igetintopc.com/">iGet Into PC</a></td><td align="left">å¤§å‹è½¯ä»¶ï¼Œä¸“ä¸šè½¯ä»¶ã€‚</td></tr><tr><td align="left"><a href="https://www.crackingcity.com/">ğŸŒ CrackingCity</a></td><td align="left"></td></tr><tr><td align="left">ğŸŒ <a href="https://crackedfine.com/category/softwares/">CrackedFine</a></td><td align="left">åšå®¢ç½‘ç«™ï¼Œæä¾›å›½å¤–ç½‘ç›˜ä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://kickasscracks.com/">KickASSCracks</a></td><td align="left">åšå®¢ç½‘ç«™ï¼Œæä¾›å›½å¤–ç½‘ç›˜ä¸‹è½½ï¼Œå¼€å¤´çš„â€œ<strong>Direct Download</strong>â€ä¸è¦ç‚¹ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://free4pc.org/">Free4PC</a></td><td align="left">åšå®¢ç½‘ç«™ï¼Œæä¾›å›½å¤–ç½‘ç›˜ä¸‹è½½ï¼Œèµ„æºè¾ƒè€ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://repack.me/">REPACK.ME</a></td><td align="left">ä¿„ç½—æ–¯ç½‘ç«™ã€</td></tr><tr><td align="left">ğŸŒ <a href="https://lrepacks.net/">LRepacks</a></td><td align="left">ä¿„ç½—æ–¯ç½‘ç«™ã€</td></tr><tr><td align="left">ğŸŒ <a href="https://positiverecords.ru/">positiverecords.ru</a></td><td align="left">ä¿„ç½—æ–¯ç½‘ç«™ã€æä¾› BT ä¸‹è½½ï¼Œä»¥ Windows ä¸»ä¸ºã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://w14.monkrus.ws/">monkrus.ws</a></td><td align="left">ä¿„ç½—æ–¯ç½‘ç«™ã€ä¸€ä¸ªä¸“é—¨ç ´è§£ Adobe è½¯ä»¶ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://diakov.net/">DIAKOV.NET</a></td><td align="left">ä¿„ç½—æ–¯ç½‘ç«™ã€ä½†æ¸¸å®¢èº«ä»½åªæä¾›æ…¢é€Ÿç½‘ç›˜ä¸‹è½½ã€‚</td></tr></tbody></table><table><thead><tr><th align="left">â–¼ <strong>ç‰¹è‰²è½¯ä»¶</strong></th><th align="left"></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://sourceforge.net/">SourceForge</a></td><td align="left">GitHub å…´èµ·å‰çš„ä¸€ä¸ªè½¯ä»¶æ‰˜ç®¡å¹³å°ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://portableapps.com/apps">PortableApps</a></td><td align="left">ä¸€ä¸ªä¸“é—¨æä¾›å„è½¯ä»¶â€œ<strong>ä¾¿æºç‰ˆæœ¬</strong>â€çš„ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="http://www.oldversion.com/">Old versions</a></td><td align="left">ä¸€ä¸ªä¸“é—¨æä¾›å„è½¯ä»¶â€œ<strong>å†å²ç‰ˆæœ¬</strong>â€çš„ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://filehippo.com/">FileHippo.com</a></td><td align="left">ä¸€ä¸ªä¸“é—¨æä¾›å„è½¯ä»¶â€œ<strong>æœ€æ–°ç‰ˆæœ¬</strong>â€çš„ç½‘ç«™ã€‚</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>ä¸“ä¸šè½¯ä»¶</strong></td><td align="left"></td></tr><tr><td align="left">ğŸŒ <a href="https://www.qijishow.com/down/index.html">å¥‡è¿¹ç§€å·¥å…·ç®±</a></td><td align="left">ä¸€ä¸ªä¸“é—¨æä¾›â€œ<strong>è®¾è®¡ç±»è½¯ä»¶</strong>â€çš„ç½‘ç«™ï¼ŒWin Mac éƒ½æœ‰ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://ruancang.net/#/sim">è½¯ä»“</a></td><td align="left">æ”¶å½•äº† <strong>391</strong> ä¸ªä¸“ä¸šè½¯ä»¶ï¼Œéœ€å…³æ³¨å…¬ä¼—å·ï¼Œå¯è®¢é˜…â€<a href="https://gcore.jsdelivr.net/gh/runningcheese/RunningCheese-Firefox/Restore/Adblock_Popup.txt">å»å¼¹çª—å¹¿å‘Š</a>â€œè¿‡æ»¤è§„åˆ™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.0daydown.com/">0DayDown</a></td><td align="left">æ”¶å½•ç¨€ç¼ºçš„ 0day è½¯ä»¶ï¼Œæä¾›å›½å¤–ç½‘ç›˜ä¸‹è½½ï¼Œé€Ÿåº¦è¾ƒæ…¢ï¼Œç™¾åº¦ç½‘ç›˜è¦ä¼šå‘˜ã€‚</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>åé¦¬è½¯ä»¶</strong></td><td align="left"></td></tr><tr><td align="left">ğŸŒ <a href="https://pan.luochenzhimu.com/disk/software/">è½å°˜ä¹‹æœ¨</a></td><td align="left">å¾ˆå¤šè½¯ä»¶è¢«â€<strong>è‹å·æ€æ°é©¬å…‹ä¸</strong>â€œå…¬å¸ä»£ç†è€Œæ— æ³•æ‰¾åˆ°ï¼Œè¿™é‡Œæ˜¯èµ„æºæ±‡æ€»ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.naodai.org/">è„‘è¢‹ç“œå­</a></td><td align="left">è‡ªå»ºç½‘ç›˜ä¸‹è½½ï¼Œåœ°å€ï¼š<a href="https://go.naodai.org/">ç“œå­äº‘ç›˜é•œåƒ</a></td></tr><tr><td align="left">ğŸŒ <a href="https://ldqk.xyz/special/6">æ‡’å¾—å‹¤å¿«</a></td><td align="left">è‡ªå»ºç½‘ç›˜ä¸‹è½½ï¼Œåœ°å€ï¼š<a href="https://ldqk.xyz/drive#/onedrive/softs">æ‡’å‹¤ç½‘ç›˜</a></td></tr><tr><td align="left">ğŸŒ <a href="https://software.storage.yuntu.eu.org/">äº‘å›¾å°é•‡</a></td><td align="left">è‡ªå»ºç½‘ç›˜ä¸‹è½½ï¼Œåœ°å€ï¼š<a href="https://software.storage.yuntu.eu.org/">äº‘å›¾å°é•‡</a></td></tr></tbody></table><h2 id="å››ã€Mac-è½¯ä»¶"><a href="#å››ã€Mac-è½¯ä»¶" class="headerlink" title="å››ã€Mac è½¯ä»¶"></a>å››ã€Mac è½¯ä»¶</h2><table><thead><tr><th align="left">â–¼ <strong>å›½å†…ç½‘ç«™</strong></th><th align="left">ç®€ä»‹</th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://macapp.org.cn/">MacAppåˆ†äº«é¢‘é“</a></td><td align="left">å…æ³¨å†Œã€é«˜é€Ÿä¸‹è½½ã€æ— å¹¿å‘Šã€èµ„æºé¦–å‘ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.macyy.cn/">MacYY</a></td><td align="left">å…æ³¨å†Œã€é«˜é€Ÿä¸‹è½½ã€æ— å¹¿å‘Šã€èµ„æºä¸°å¯Œã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://xclient.info/">xClient</a></td><td align="left">å…æ³¨å†Œã€é«˜é€Ÿä¸‹è½½ã€æœ‰å¹¿å‘Šã€èµ„æºä¸°å¯Œã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://xmac.app/">XMac.App</a></td><td align="left">æä¾› å›½å¤–ç½‘ç›˜å’Œ IPFS ä¸‹è½½ï¼Œåº”ç”¨æ¥è‡ª TNTã€HCiSO ç­‰çŸ¥åå›¢é˜Ÿã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.digit77.com/">Digit77</a></td><td align="left">å¼€å¯å¹¿å‘Šå±è”½å·¥å…·ä¼šéšè—ä¸‹è½½é“¾æ¥ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.mac8k.com/">Mac8k</a></td><td align="left">æä¾› ç™¾åº¦ç½‘ç›˜ä¸‹è½½</td></tr><tr><td align="left">ğŸŒ <a href="http://www.sdifen.com/">å²è’‚èŠ¬å‘¨</a></td><td align="left">éœ€è¦ç™»é™†</td></tr><tr><td align="left">ğŸŒ <a href="https://www.macxin.com/">MacèŒæ–°</a></td><td align="left">éœ€è¦ç­‰å¾… 6 ç§’</td></tr><tr><td align="left">ğŸŒ <a href="https://macbang.net/">Macå¸®</a></td><td align="left">æä¾› ç™¾åº¦ç½‘ç›˜ä¸‹è½½ï¼Œéœ€è¦æ³¨å†Œï¼Œå›å¤è¯„è®ºæ‰èƒ½ä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.zhiniw.com/">çŸ¥æ‚¨ç½‘</a></td><td align="left">æä¾› åŸé€šç½‘ç›˜ä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://uleshi.com/">ä¼˜ä¹äº‹</a></td><td align="left">æä¾› åŸé€šç½‘ç›˜ä¸‹è½½ã€‚</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>å›½å¤–ç½‘ç«™</strong></td><td align="left"></td></tr><tr><td align="left">ğŸŒ <a href="https://www.torrentmac.net/">MacTorrents</a></td><td align="left">æä¾› BT ä¸‹è½½ï¼ŒTNT å’Œ HCISO å›¢é˜Ÿè½¯ä»¶çš„æºå¤´ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://appstorrent.ru/">AppStorrent</a></td><td align="left">æä¾› å›½å¤–ç½‘ç›˜ä¸‹è½½ï¼Œä¿„ç½—æ–¯çŸ¥å Mac è½¯ä»¶ä¸‹è½½ç½‘ç«™ï¼Œè¿™é‡Œä¹Ÿæ˜¯æºå¤´ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://haxmac.cc/">Haxmac</a></td><td align="left">æä¾› å›½å¤–ç½‘ç›˜ä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://cmacked.com/">Cmacked</a></td><td align="left">æä¾› å›½å¤–ç½‘ç›˜ä¸‹è½½ï¼Œèµ„æºè¾ƒè€ã€‚</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>æ­£ç‰ˆåº”ç”¨</strong></td><td align="left"></td></tr><tr><td align="left">ğŸŒ <a href="https://www.macupdate.com/">MacUpdate</a></td><td align="left"></td></tr><tr><td align="left">ğŸŒ <a href="https://setapp.com/">SetApp</a></td><td align="left">MacPaw æ¨å‡ºçš„è®¢é˜…åˆ¶ä»˜è´¹ App å¹³å°æœåŠ¡ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.lizhi.io/">è”ææ•°ç </a></td><td align="left"></td></tr><tr><td align="left">ğŸŒ <a href="https://store.steampowered.com/">Steam</a></td><td align="left">å¾ˆå¤š Mac ç«¯æ¸¸æˆä¸Šä¸äº† App Storeï¼Œåªèƒ½åœ¨ Steam å‘å¸ƒã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.taobao.com/">æ·˜å®</a></td><td align="left">åœ¨æ·˜å®è´­ä¹°çš„ä»·æ ¼ï¼Œå¾€å¾€è¦æ¯”å®˜æ–¹ä»·æ ¼ä½å¾ˆå¤šï¼Œæ‹¼å¤šå¤šåŒç†ã€‚</td></tr></tbody></table><h2 id="å…­ã€è½¯ä»¶æœç´¢"><a href="#å…­ã€è½¯ä»¶æœç´¢" class="headerlink" title="å…­ã€è½¯ä»¶æœç´¢"></a>å…­ã€è½¯ä»¶æœç´¢</h2><p>èšåˆå¼è½¯ä»¶æœç´¢ä¸‹è½½ç½‘ç«™ã€‚</p><table><thead><tr><th align="left">â–¼ <strong>è½¯ä»¶æœç´¢</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://www.tansuotu.com/">æ¢ç´¢å…”</a></td><td align="left">Windows è½¯ä»¶æœç´¢å¼•æ“ï¼Œå¯èƒ½æ˜¯ç›®å‰æœ€å¥½çš„è½¯ä»¶æœç´¢ç½‘ç«™ã€‚ğŸ‘</td></tr><tr><td align="left">ğŸŒ <a href="https://rjss.pages.dev/">è½¯ä»¶æœæœ</a></td><td align="left">Windows è½¯ä»¶æœç´¢å¼•æ“ï¼Œä¸æ”¯æŒ 52Pojieã€423Down ç­‰ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.runningcheese.cn/rjss">å¥¶é…ªæœæœ</a></td><td align="left">Windows è½¯ä»¶æœç´¢å¼•æ“ï¼Œè½¯ä»¶æœæœçš„å¥¶é…ª <strong>Fork</strong> ç‰ˆæœ¬ï¼Œæºç½‘ç«™æ›´å¤šã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.xibuluo.com/">è¥¿éƒ¨è½</a></td><td align="left">Windows è½¯ä»¶æœç´¢å¼•æ“ï¼Œæºç½‘ç«™è¾ƒå°‘ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.huaitui.com/">æ·®æ¨è½¯ä»¶</a></td><td align="left">Windows è½¯ä»¶æœç´¢å¼•æ“ï¼Œæºç½‘ç«™è¾ƒå°‘ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://ourmacs.com/">Ourmacs</a></td><td align="left">Mac è½¯ä»¶æœç´¢å¼•æ“ã€‚</td></tr></tbody></table><h2 id="ä¸ƒã€ç³»ç»Ÿå®‰è£…"><a href="#ä¸ƒã€ç³»ç»Ÿå®‰è£…" class="headerlink" title="ä¸ƒã€ç³»ç»Ÿå®‰è£…"></a>ä¸ƒã€ç³»ç»Ÿå®‰è£…</h2><table><thead><tr><th align="left">â–¼ <strong>é•œåƒä¸‹è½½</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://msdn.itellyou.cn/">MSDN, ITellYou</a></td><td align="left">çº¯å‡€çš„ç³»ç»Ÿä¸‹è½½ç½‘ç«™ï¼Œè¿˜æœ‰ Officeï¼Œä½†æ²¡æœ‰ Win11ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://next.itellyou.cn/Original/Index?id=7ab5f0cb-7607-4bbe-9e88-50716dc43de6#">NEXT, ITellYou</a></td><td align="left">MSDN æ–°ç½‘ç«™ï¼Œæä¾›å¤šå¹³å°ç³»ç»Ÿä¸‹è½½ï¼Œä½†éœ€è¦ç™»é™†æ‰èƒ½è®¿é—®ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://hellowindows.cn/">HelloWindows</a></td><td align="left">æè‡´çš„ Windows ç³»ç»Ÿä¸‹è½½ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://tb.rg-adguard.net/public.php">TechBench</a></td><td align="left">ä¿„ç½—æ–¯ç½‘ç«™ï¼Œæä¾›èœå•é€‰æ‹©å¼çš„ Windows é•œåƒä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.xitongku.com/">MSDN ç³»ç»Ÿåº“</a></td><td align="left">æä¾›èœå•é€‰æ‹©å¼çš„ Windows é•œåƒä¸‹è½½ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://iwin10.net/">ä¸“æ³¨ Win10 é•œåƒ</a></td><td align="left">ä¸“æ³¨ Win10 çš„ç²¾ç®€ä¼˜åŒ–ç‰ˆã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.newxitong.com/">ä¸“æ³¨ Win7 é•œåƒ</a></td><td align="left">ä¸“æ³¨ Win7 çš„ç²¾ç®€ä¼˜åŒ–ç‰ˆã€‚</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>ç³»ç»Ÿæ¿€æ´»</strong></td><td align="left"></td></tr><tr><td align="left">ğŸŒ <a href="https://github.com/zbezj/HEU_KMS_Activator">KMSActivator</a></td><td align="left">å›½å†…å¤§ä½¬ @çŸ¥å½¼è€ŒçŸ¥å·±åˆ¶ä½œçš„ Windows å’Œ Office æ¿€æ´»å·¥å…·ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://kms-auto.site/zh-CN/">KMSAuto Net</a></td><td align="left">çŸ¥åç³»ç»Ÿæ¿€æ´»å·¥å…· KMSAutoï¼Œæ”¯æŒ Windows å’Œ Officeã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://github.com/OdysseusYuan/LKY_OfficeTools">LKY_OfficeTools</a></td><td align="left">ä¸€é”®è‡ªåŠ¨åŒ–ä¸‹è½½ã€å®‰è£…ã€æ¿€æ´» Office çš„åˆ©å™¨ï¼Œå•ç‹¬é’ˆå¯¹ Officeã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://github.com/TGSAN/CMWTAT_Digital_Edition">äº‘èŒæ¿€æ´»å·¥å…·</a></td><td align="left">å¼€æºçš„ Win10ã€Win 11 æ¿€æ´»å·¥å…·ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://v0v.bid/">å¾®é›¶å¾®</a></td><td align="left">ä¸€æ¡å‘½ä»¤æ¿€æ´» Windows ç³»ç»Ÿã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://pkeytool.com/ShareKeys">PKeyToolWeb</a></td><td align="left">å¾®è½¯æ¿€æ´»å¯†é’¥åˆ†äº«ç½‘ç«™ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://blog.03k.org/post/kms.html">KMS æ¿€æ´»æŒ‡å—</a></td><td align="left">Windows æ¿€æ´»ç§‘æ™®ã€‚</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™æ¨è </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç«™ </tag>
            
            <tag> è½¯ä»¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å½±è§†å¯¼èˆª</title>
      <link href="/2023/09/27/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/%E5%BD%B1%E8%A7%86%E5%AF%BC%E8%88%AA/"/>
      <url>/2023/09/27/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/%E5%BD%B1%E8%A7%86%E5%AF%BC%E8%88%AA/</url>
      
        <content type="html"><![CDATA[<h1 id="å½±è§†å¯¼èˆª"><a href="#å½±è§†å¯¼èˆª" class="headerlink" title="å½±è§†å¯¼èˆª"></a>å½±è§†å¯¼èˆª</h1><hr><h2 id="1ã€ç”µå½±æœç´¢"><a href="#1ã€ç”µå½±æœç´¢" class="headerlink" title="1ã€ç”µå½±æœç´¢"></a>1ã€ç”µå½±æœç´¢</h2><table><thead><tr><th align="left">â–¼ <strong>ç”µå½±æœç´¢</strong></th><th align="left"></th><th align="left"></th><th align="left"></th></tr></thead><tbody><tr><td align="left"><a href="https://www.ikanbot.com/">çˆ±çœ‹æœºå™¨äºº</a></td><td align="left"><a href="https://cupfox.app/">èŒ¶æ¯ç‹</a></td><td align="left"><a href="https://soupian.app/">æœç‰‡.com</a></td><td align="left"><a href="https://www.wandou.la/">è±Œè±†PRO</a></td></tr><tr><td align="left"><a href="https://www.dianyinggou.com/">ç”µå½±ç‹—</a></td><td align="left"><a href="https://www.dianyingtaotao.com/">ç”µå½±æ·˜æ·˜</a></td><td align="left"><a href="https://yingshiso.com/">å½±æœ</a></td><td align="left"><a href="https://www.qmtv.pro/">é’éº¦</a></td></tr><tr><td align="left"><a href="https://www.ressou.com/">é…·æœ</a></td><td align="left"><a href="https://search.ymck.me/">å½±çŒ«ã®ä»“åº“</a></td><td align="left"><a href="https://dogechan.com/">Dogeåˆ†äº«</a></td><td align="left"><a href="https://zhuiyingmao2.com/">è¿½å½±çŒ«</a></td></tr><tr><td align="left"><a href="https://www.725998.com/">èŒ¶æ¯è™</a></td><td align="left"><a href="https://tbsdy.com/">åœŸæ‹¨é¼ ç”µå½±</a></td><td align="left"><a href="https://wukongshipin.com/">æ‚Ÿç©ºè§†é¢‘</a></td><td align="left"><a href="https://www.xmxone.cn/">MXONE</a></td></tr><tr><td align="left"><a href="https://7080.wang/index.html">7080å½±è§†æœ</a></td><td align="left"></td><td align="left"></td><td align="left"></td></tr></tbody></table><h2 id="2ã€å›½å†…å½±è§†"><a href="#2ã€å›½å†…å½±è§†" class="headerlink" title="2ã€å›½å†…å½±è§†"></a>2ã€å›½å†…å½±è§†</h2><table><thead><tr><th align="left">â–¼ å½±è§†ç»¼è‰º</th><th align="left"></th><th align="left"></th><th align="left"></th></tr></thead><tbody><tr><td align="left"><a href="https://www.yijia5.com/">å…¨é›†ç½‘</a></td><td align="left"><a href="https://zhuiyingmao2.com/">è¿½å½±çŒ«</a></td><td align="left"><a href="https://rebozj.pro/">çƒ­æ’­ä¹‹å®¶</a></td><td align="left"><a href="https://dsxys.pro/">å¤§å¸ˆå…„å½±è§†</a></td></tr><tr><td align="left"><a href="https://new.olevod.com/">æ¬§ä¹å½±é™¢ NEW</a></td><td align="left"><a href="https://olevod.com/">æ¬§ä¹å½±é™¢</a></td><td align="left"><a href="https://cokemv.me/">COKEMV</a></td><td align="left"><a href="https://www.fuju1.tv/">è…å‰§TV</a></td></tr><tr><td align="left"><a href="https://www.tuhao.tv/">åœŸè±ªå½±è§†</a></td><td align="left"><a href="https://www.newfii.com/">å¥ˆè½å½±è§†</a></td><td align="left"><a href="https://www.dbgys.top/">å¤§è¡¨å“¥å½±è§†</a></td><td align="left"><a href="https://www.panghuys.com/">èƒ–è™å½±è§†</a></td></tr><tr><td align="left"><a href="https://www.gptys.com/">GPT å½±è§†</a></td><td align="left"><a href="https://www.57movie.cn/">æ— å¿ƒå½±è§†</a></td><td align="left"><a href="https://www.keke1.app/">å¯å¯å½±è§†</a></td><td align="left"><a href="https://nbys.top/">æ³¥å·´å½±è§†</a></td></tr><tr><td align="left"><a href="https://www.pbpbs.com/">ç‰‡å§</a></td><td align="left"><a href="https://www.bkyb.net/">çœŸä¸å¡å½±é™¢</a></td><td align="left"><a href="https://wzyshi.com/">WZå½±è§†</a></td><td align="left"><a href="https://www.netfly.tv/">å¥ˆé£ä¸­æ–‡å½±è§†</a></td></tr><tr><td align="left"><a href="https://www.appmovie.cc/">APPå½±é™¢</a></td><td align="left"><a href="https://ttsp.tv/">å¤©å¤©è§†é¢‘</a></td><td align="left"><a href="https://www.iole.tv/">çˆ±æ¬§ä¹å½±é™¢</a></td><td align="left"><a href="https://www.yunbtv.net/">äº‘æ’­TV</a></td></tr><tr><td align="left"><a href="https://www.honglingjin.tv/">çº¢é¢†å·¾å½±é™¢</a></td><td align="left"><a href="https://duboku.su/">ç‹¬æ’­åº“</a></td><td align="left"><a href="https://www.nunuyy5.org/">åŠªåŠªå½±é™¢</a></td><td align="left"><a href="https://www.tangrenjie.tv/">å”äººè¡—å½±é™¢</a></td></tr><tr><td align="left"><a href="https://dami5.vip/">å¤§ç±³æ˜Ÿçƒ</a></td><td align="left"><a href="https://www.fantuanhd.com/">é¥­å›¢å½±è§†</a></td><td align="left"><a href="https://hua355.com/">HuaHuaå½±é™¢</a></td><td align="left"><a href="https://xmvod520.com/">ç†ŠçŒ«å½±é™¢</a></td></tr><tr><td align="left"><a href="https://www.iyf1.tv/">çˆ±å£¹å¸†</a></td><td align="left"><a href="https://55dy9.vip/">555ç”µå½±</a></td><td align="left"><a href="https://www.pkmkv.com/">ä¸ƒå‘³ç½‘</a></td><td align="left"><a href="https://kanb.tv/">çœ‹Bç«™</a></td></tr><tr><td align="left"><a href="https://dianyi.ng/">ç”µå½±å…ˆç”Ÿ</a></td><td align="left"><a href="https://www.3ayy.com/">çˆ±çœ‹å½±é™¢</a></td><td align="left"><a href="https://www.cctv365.co/">åè”ç¤¾å½±é™¢</a></td><td align="left"><a href="https://www.mkvdo.com/">MKå½±è§†</a></td></tr><tr><td align="left"><a href="http://www.qnkk8.com/">å…¨èƒ½å½±è§†</a></td><td align="left"><a href="https://adys.tv/">çˆ±è¿ªå½±è§†</a></td><td align="left"><a href="https://www.xy1080.net/">æ˜Ÿå½±è§†é¢‘</a></td><td align="left"><a href="https://cddys.vip/">è‡­è›‹è›‹å½±è§†</a></td></tr><tr><td align="left"><a href="https://www.flixflop.com/">é£æµè§†é¢‘</a></td><td align="left"><a href="https://www.maolvys.com/">æ¯›é©´å½±è§†</a></td><td align="left"><a href="https://www.1080p.club/">1080è¿·</a></td><td align="left"><a href="https://zpsps.com/">å®ç‰‡è§†é¢‘</a></td></tr><tr><td align="left"><a href="https://www.pyys.top/">æœ´æ¨±å½±è§†</a></td><td align="left"><a href="https://www.3ayy.com/">çˆ±çœ‹å½±é™¢</a></td><td align="left"><a href="https://www.huanyuxing.com/">éº»è¡£å‘€å‘¼</a></td><td align="left"><a href="https://www.xmxone.cn/">Xmxone</a></td></tr><tr><td align="left"><a href="https://www.fantuan1.com/">é¥­å›¢å½±è§†</a></td><td align="left"><a href="https://www.qiuxia678.com/">ç§‹éœå½±è§†</a></td><td align="left"><a href="https://www.chok8.cc/">Chok å§</a></td><td align="left"><a href="https://www.ysgc.fun/">å½±è§†å·¥åœº</a></td></tr><tr><td align="left"><a href="https://www.06ys.com/">ä½ ç‰›å½±è§†</a></td><td align="left"><a href="https://www.histar.tv/">æ˜Ÿè§†ç•Œ</a></td><td align="left"><a href="https://xiaoyakankan.com/">å°é¸­çœ‹çœ‹</a></td><td align="left"><a href="https://www.iyf1.tv/">çˆ±å£¹å¸†æ¸…çˆ½ç‰ˆ</a></td></tr><tr><td align="left"><a href="https://www.kkdy.live/">çœ‹çœ‹ç”µå½±</a></td><td align="left"><a href="https://www.okdyy.com/">OKç”µå½±é™¢</a></td><td align="left"><a href="https://dadagui.me/">è¾¾è¾¾é¾Ÿ</a></td><td align="left"><a href="https://www.kuaizi.tv/">ç­·å­è§†é¢‘</a></td></tr><tr><td align="left"><a href="https://www.fuxiafood.com/">è“å…‰å½±é™¢</a></td><td align="left"><a href="https://xiaobaotv.net/index.php">å°å®å½±é™¢</a></td><td align="left"><a href="https://www.wangfei.de/">ç½‘é£TV</a></td><td align="left"><a href="https://www.hoho.tv/">HOHO TV</a></td></tr><tr><td align="left"><a href="https://www.shenma4480.com/">ç¥é©¬ç”µå½±</a></td><td align="left"><a href="https://www.xifanys.com/">ç¨€é¥­å½±è§†</a></td><td align="left"><a href="https://www.histar.tv/">æ˜Ÿè§†ç•Œ</a></td><td align="left"><a href="https://www.tv-8.com/">ç”µè§†å§</a></td></tr><tr><td align="left"><a href="https://loveqtv.com/">çˆ±æƒ…å½±é™¢</a></td><td align="left"><a href="https://1090p.tk/">æ¯›èŒ‚å½±è§†</a></td><td align="left"><a href="https://www.kcys.top/">é…·èŒ¶å½±è§†</a></td><td align="left"><a href="https://aa4.cc/">AAå½±è§†</a></td></tr><tr><td align="left"><a href="https://vod.funsline.cn/">å¤šå¤šå½±è§†</a></td><td align="left"><a href="https://www.90s.one/">90sç”µå½±ç½‘</a></td><td align="left"><a href="https://laowang.lol/">è€ç‹ç”µå½±</a></td><td align="left"><a href="https://maoo.tv/">çŒ«å½±è§†</a></td></tr><tr><td align="left"><a href="https://www.wrnm.cc/">WRNM</a></td><td align="left"><a href="https://duboku.su/">ç‹¬æ’­åº“</a></td><td align="left"><a href="https://www.zhuiju.la/">å¤©å¤©è¿½å‰§</a></td><td align="left"><a href="https://www.ysfxla.com/">å½±è§†åˆ†äº«</a></td></tr><tr><td align="left"><a href="https://www.6080yy1.com/">æ–°è§†è§‰å½±é™¢</a></td><td align="left"></td><td align="left"></td><td align="left"></td></tr></tbody></table><h2 id="3ã€æµ·å¤–å½±è§†"><a href="#3ã€æµ·å¤–å½±è§†" class="headerlink" title="3ã€æµ·å¤–å½±è§†"></a>3ã€æµ·å¤–å½±è§†</h2><table><thead><tr><th align="left">â–¼ <strong>ç»¼åˆ</strong></th><th align="left"></th><th align="left"></th><th align="left"></th></tr></thead><tbody><tr><td align="left"><a href="https://www.subaibaiys.com/">ç´ ç™½ç™½å½±è§†</a></td><td align="left"><a href="https://www.bdys10.com/">å“”å˜€å½±è§†</a></td><td align="left"><a href="https://www.libvio.fun/">LIBVIO</a></td><td align="left"><a href="https://jojo.bdys.top/">JOJO</a></td></tr><tr><td align="left"><a href="https://www.taolix.com/">TAOLIX</a></td><td align="left"><a href="https://gaze.run/">æ³¨è§†å½±è§†</a></td><td align="left"><a href="https://cz01.cc/">å‚é•¿èµ„æº</a></td><td align="left"><a href="https://www.zxzjhd.com/">åœ¨çº¿ä¹‹å®¶</a></td></tr><tr><td align="left"><a href="https://www.novipnoad.net/">NOè§†é¢‘</a></td><td align="left"><a href="https://ddys.pro/">ä½ç«¯å½±è§†</a></td><td align="left"><a href="https://hdmoli.com/">HDmoli</a></td><td align="left"><a href="https://ikanys.tv/">çˆ±çœ‹å½±è§†</a></td></tr><tr><td align="left"><a href="https://waipian5.com/">æ­ªç‰‡æ˜Ÿçƒ</a></td><td align="left"><a href="https://xmmi.xyz/">å°çŒ«å’ªå½±è§†</a></td><td align="left"><a href="https://suyingtv.xyz/">é€Ÿå½±TV</a></td><td align="left"><a href="https://www.kpkuang.de/">çœ‹ç‰‡ç‹‚äºº</a></td></tr><tr><td align="left"><a href="https://www.btnull.org/">æ— åå°ç«™</a></td><td align="left"><a href="https://dmxq.fun/">å¤§ç±³æ˜Ÿçƒ</a></td><td align="left"><a href="https://www.citydy.com/">åŸå¸‚ç”µå½±</a></td><td align="left"><a href="https://www.4kvm.net/">4kå½±è§†</a></td></tr><tr><td align="left">â–¼ <strong>è‹±æ–‡</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://myflixer.is/home">Myflixer</a></td><td align="left"><a href="https://watchseries.id/home">Watchseries</a></td><td align="left"><a href="https://g8b01.com/">CouchTuner</a></td><td align="left"><a href="https://fmovies.pub/home">FMovies</a></td></tr><tr><td align="left"><a href="https://yesmovies.ag/yes.html">YesMovies</a></td><td align="left"><a href="https://www1.solarmovie.cr/movie/">SolarMovie</a></td><td align="left"><a href="https://ww2.123moviesfree.net/home/">123Movies</a></td><td align="left"><a href="https://fmovies.to/">FMovies 2</a></td></tr><tr><td align="left">â–¼ <strong>ç¾å‰§</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://www.meijutt.tv/">ç¾å‰§å¤©å ‚</a></td><td align="left"><a href="https://www.meijumi.net/">ç¾å‰§è¿·</a></td><td align="left"><a href="https://agmov.com/">é˜¿å“¥ç¾å‰§</a></td><td align="left"><a href="https://ddys.one/">ä½ç«¯å½±è§†</a></td></tr><tr><td align="left"><a href="https://www.nfyingshi.com/">å¥ˆè²å½±è§†</a></td><td align="left"><a href="https://www.mjwo.net/">ç¾å‰§çª</a></td><td align="left"><a href="https://mjw21.com/">ç¾å‰§ç½‘</a></td><td align="left"><a href="https://www.meijucang.com/">ç¾å‰§ä»“</a></td></tr><tr><td align="left"><a href="https://www.nfyingshi.com/">ç¾å‰§è¡Œæ˜Ÿ</a></td><td align="left"><a href="https://www.91mjtt.cc/">91ç¾å‰§ç½‘</a></td><td align="left"><a href="https://www.aimeijutv.com/">çˆ±ç¾å‰§TV</a></td><td align="left"><a href="https://www.meiju5.net/">ç¾å‰§å§</a></td></tr><tr><td align="left"><a href="https://www.meijuttk.cc/">å¤©å¤©ç¾å‰§</a></td><td align="left"><a href="https://www.2meiju.cc/">çˆ±ç¾å‰§</a></td><td align="left"><a href="https://www.xxhezi.com/">ç¾å‰§çš„å¤©å ‚</a></td><td align="left"><a href="https://kanmeiju.net/">çœ‹ç¾å‰§</a></td></tr><tr><td align="left"><a href="https://www.fmeiju.com/">æ”¾ç¾å‰§</a></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>è‹±å‰§</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://www.icezmz.com/">å†°å†°å­—å¹•ç»„</a></td><td align="left"><a href="https://www.meijumi.net/en/">è‹±å‰§å¤§å…¨</a></td><td align="left"><a href="https://www.ivazimova.com/">è‹±å‰§å§</a></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>éŸ©å‰§</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://www.hanmi.org/">éŸ©è¿·ç½‘</a></td><td align="left"><a href="https://www.tvn.cc/">éŸ©å‰§ç½‘</a></td><td align="left"><a href="https://www.hanfan.cc/">éŸ©é¥­ç½‘</a></td><td align="left"><a href="https://321tw.com/">éŸ“åŠ‡ç¶²</a></td></tr><tr><td align="left"><a href="https://www.kan.cc/">çœ‹éŸ©å‰§tv</a></td><td align="left"><a href="https://www.hanjukankan.com/">éŸ©å‰§çœ‹çœ‹</a></td><td align="left"><a href="https://01hanju.com/">éŸ©å‰§ç½‘</a></td><td align="left"><a href="https://www.hanju7.com/">éŸ©å‰§æ’­</a></td></tr><tr><td align="left"><a href="https://www.tvn.cc/">éŸ©å‰§æ¡ƒ</a></td><td align="left"><a href="https://idoltv.tv/">IDOLTVç·šä¸Šçœ‹</a></td><td align="left"><a href="https://www.hanritai.com/">éŸ©å‰§DVD</a></td><td align="left"><a href="https://www.hanjuwang.net/">éŸ©å‰§ç½‘</a></td></tr><tr><td align="left">â–¼ <strong>æ—¥å‰§</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://rijuvip.com/">æ—¥å‰§TVç½‘</a></td><td align="left"><a href="https://www.tnhzmz.com/">TNH Subtitle</a></td><td align="left"><a href="https://www.rijupao.com/">æ—¥å‰§è·‘</a></td><td align="left"><a href="https://www.fanxinzhui.com/">è¿½æ–°ç•ª</a></td></tr><tr><td align="left"><a href="https://www.dn51.net/">DN51</a></td><td align="left"><a href="https://rijuvip.com/">æ—¥å‰§ç½‘</a></td><td align="left"><a href="https://www.rijutt.com/">æ—¥å‰§å¤©å ‚</a></td><td align="left"><a href="http://www.rjtv6.com/">æ—¥å‰§TV</a></td></tr><tr><td align="left">â–¼ <strong>æ³°å‰§</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://www.taijuz.com/">æ³°å‰§ç½‘</a></td><td align="left"><a href="http://www.tjtt.cc/">æ³°å‰§ç½‘</a></td><td align="left"><a href="https://www.taiju5.com/">æ³°å‰§å¤§å…¨</a></td><td align="left"><a href="https://www.taijumi.net/">æ³°å‰§è¿·</a></td></tr><tr><td align="left">â–¼ <strong>æ¸¯å‰§</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://www.tvhk.cc/">ç²¤è¯­eæ—</a></td><td align="left"><a href="http://www.ii166.com/">æ¸¯å‰§ä¸‹è½½</a></td><td align="left"><a href="https://www.hktvz.com/">ç²¤è¯­å±‹</a></td><td align="left"><a href="https://www.gjtt5.cc/">æ¸¯å‰§å¤©å ‚</a></td></tr><tr><td align="left"><a href="https://www.gjyak.com/">ç²¤çˆ±çœ‹</a></td><td align="left"><a href="https://www.gjw3.com/">ç²¤æ¸¯ç½‘</a></td><td align="left"><a href="https://www.gj5.tv/">æ¸¯å‰§å±‹</a></td><td align="left"><a href="https://www.gjw4.com/">æ¸¯å‰§å‘çƒ§å‹</a></td></tr><tr><td align="left"><a href="https://www.hnyrs.com/">ç²¤è¯­å½±é™¢</a></td><td align="left"><a href="https://www.iyueyuw.xyz/">çˆ±ç²¤è¯­ç½‘</a></td><td align="left"><a href="https://yueyuds.com/">ç²¤è¯­ç”µè§†ç½‘</a></td><td align="left"><a href="https://www.aliyundrive.com/s/hf4a7foCdkb">500 å¤šéƒ¨æ¸¯å‰§åˆé›†</a></td></tr></tbody></table><h2 id="4ã€åŠ¨æ¼«ç•ªå‰§"><a href="#4ã€åŠ¨æ¼«ç•ªå‰§" class="headerlink" title="4ã€åŠ¨æ¼«ç•ªå‰§"></a>4ã€åŠ¨æ¼«ç•ªå‰§</h2><table><thead><tr><th align="left">â–¼ åŠ¨æ¼«é¢‘é“</th><th align="left"></th><th align="left"></th><th align="left"></th></tr></thead><tbody><tr><td align="left"><a href="https://www.soman.com/">æœæ¼«</a></td><td align="left"><a href="https://www.jiligamefun.com/">å½å“©å½å“©</a></td><td align="left"><a href="https://bangumi.tv/">Bangumi ç•ªç»„è®¡åˆ’</a></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>æ¼«ç”»ç½‘ç«™</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://www.mangabz.com/">Mangabz</a></td><td align="left"><a href="https://copymanga.site/">æ‹·è²æ¼«ç•«</a></td><td align="left"><a href="https://www.colamanhua.com/">COLAæ¼«ç”»</a></td><td align="left"><a href="https://cn.baozimh.com/">åŒ…å­æ¼«ç”»</a></td></tr><tr><td align="left"><a href="https://www.cartoonmad.com/">å‹•æ¼«ç‹‚</a></td><td align="left"><a href="https://www.dmzj.com/">åŠ¨æ¼«ä¹‹å®¶</a></td><td align="left"><a href="https://www.dongman.la/">åŠ¨æ¼«å•¦</a></td><td align="left"><a href="http://www.kumw9.com/">é…·æ¼«å±‹</a></td></tr><tr><td align="left"><a href="https://www.xmanhua.com/">Xmanhua</a></td><td align="left"><a href="https://mhx12.com/">æ¼«è‡ªç”±</a></td><td align="left"><a href="https://www.manhuagui.com/">æ¼«ç”»æŸœ</a></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>åŠ¨æ¼«ç•ªå‰§</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://www.yhmgo.com/">æ¨±èŠ±åŠ¨æ¼«</a></td><td align="left"><a href="https://www.dmla1.com/">é£è½¦åŠ¨æ¼«</a></td><td align="left"><a href="https://ysjdm.net/">ç•°ä¸–ç•Œå‹•æ¼«</a></td><td align="left"><a href="https://www.agemys.org/">AGEåŠ¨æ¼«</a></td></tr><tr><td align="left"><a href="https://gqdm.net/">ç•°ä¸–ç•Œå‹•æ¼«</a></td><td align="left"><a href="https://bangumi.online/">ã‚¢ãƒ‹ãƒ¡æ–°ç•ªçµ„</a></td><td align="left"><a href="http://www.dmd77.com/">åŠ¨æ¼«å²›</a></td><td align="left"><a href="https://anime.girigirilove.com/">girigiriçˆ±åŠ¨æ¼«</a></td></tr><tr><td align="left"><a href="http://www.nicotv.fun/">å¦®å¯åŠ¨æ¼«</a></td><td align="left"><a href="https://www.dm2022.com/">ZåŠ¨æ¼«</a></td><td align="left"><a href="https://07vods.fun/">æŸ’ä¹‹ç¤¾</a></td><td align="left"><a href="https://pangciacg.com/">PangCI</a></td></tr><tr><td align="left"><a href="http://www.pilipili.ink/">Pç«™</a></td><td align="left"><a href="https://www.mandaowang.com/">æ¼«å²›åŠ¨æ¼«</a></td><td align="left"><a href="http://halihali15.com/">å“ˆå“©å“ˆå“©</a></td><td align="left"><a href="https://www.heitaifun.com/">heitaiåŠ¨æ¼«</a></td></tr><tr><td align="left"><a href="http://www.mxdm9.com/">MXåŠ¨æ¼«</a></td><td align="left"><a href="https://www.mengfan.tv/">èŒç•ª</a></td><td align="left"><a href="https://www.sbdm.net/">ç•°ä¸–ç•Œå‹•æ¼«2</a></td><td align="left"><a href="http://www.yinghuavideo.com/">æ¨±èŠ±åŠ¨æ¼« 2</a></td></tr><tr><td align="left"><a href="https://catw.moe/">å–µç‰©æ¬¡å…ƒ</a></td><td align="left"><a href="https://www.nyafun.net/">NyaFun</a></td><td align="left"><a href="https://www.kelatv.com/">å…‹æ‹‰TV</a></td><td align="left"><a href="https://www.dmla1.com/">é£è½¦åŠ¨æ¼«</a></td></tr><tr><td align="left"><a href="https://www.lmm66.com/">è·¯æ¼«æ¼«</a></td><td align="left"><a href="http://lmfun.vip/">è“çŒ«åŠ¨æ¼«</a></td><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>åŠ¨æ¼«ç£åŠ›</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://share.dmhy.org/">å‹•æ¼«èŠ±åœ’è³‡</a></td><td align="left"><a href="https://nyaa.si/">Nyaa</a></td><td align="left"><a href="https://bangumi.moe/">èŒç•ªç»„</a></td><td align="left"><a href="https://acg.rip/">ACG.RIP</a></td></tr><tr><td align="left"><a href="https://mikanani.me/">èœœæŸ‘è®¡åˆ’</a></td><td align="left"><a href="http://www.hysub.net/">å¹»æ¨±å­—å¹•ç»„</a></td><td align="left"></td><td align="left"></td></tr></tbody></table><h2 id="5ã€çºªå½•ç‰‡"><a href="#5ã€çºªå½•ç‰‡" class="headerlink" title="5ã€çºªå½•ç‰‡"></a>5ã€çºªå½•ç‰‡</h2><table><thead><tr><th align="left">â–¼ <strong>åœ¨çº¿çºªå½•ç‰‡</strong></th><th align="left"></th><th align="left"></th><th align="left"></th></tr></thead><tbody><tr><td align="left"><a href="https://jishi.cctv.com/">å¤®è§†çºªå½•ç‰‡</a></td><td align="left"><a href="https://www.bilibili.com/documentary/">B ç«™çºªå½•ç‰‡</a></td><td align="left"><a href="https://v.qq.com/channel/doco">è…¾è®¯çºªå½•ç‰‡</a></td><td align="left"><a href="https://www.iqiyi.com/jilupian/">çˆ±å¥‡è‰ºçºªå½•</a></td></tr><tr><td align="left"><a href="https://space.bilibili.com/7584632/video">å“”å“©å“”å“©çºªå½•ç‰‡</a></td><td align="left"><a href="https://space.bilibili.com/22121599/video">çºªå½•ç‰‡ä¹‹å®¶å­—å¹•ç»„</a></td><td align="left"><a href="https://space.bilibili.com/13374324/video">çŒ›çŠ¸å›ä¾¯</a></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>çºªå½•ç‰‡é¢‘é“</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="http://xz.tqiantu.com/jilupian/">è¡Œè€…ç‰©è¯­ç½‘</a></td><td align="left"><a href="http://www.opclass.com/">å…¬å¼€è¯¾çºªå½•ç‰‡ä¸‹è½½ç½‘</a></td><td align="left"><a href="https://dao-fire.com/">ç›—ç«çºªå½•ç‰‡</a></td><td align="left"><a href="https://www.jiluhome.cn/">çºªå½•å®¶å›­</a></td></tr><tr><td align="left"><a href="https://www.05jl.com/">çºªå½•ç‰‡ä¹‹å®¶</a></td><td align="left"><a href="https://www.onehourlife.com/">æ¯å¤©ä¸€å°æ—¶çºªå½•ç‰‡</a></td><td align="left"></td><td align="left"></td></tr></tbody></table><h2 id="6ã€ç”µè§†ç›´æ’­"><a href="#6ã€ç”µè§†ç›´æ’­" class="headerlink" title="6ã€ç”µè§†ç›´æ’­"></a>6ã€ç”µè§†ç›´æ’­</h2><p>ç›´æ’­æºï¼šé€šå¸¸æ¥è¯´æ˜¯<strong>ä¸€ä¸ªé“¾æ¥</strong>ï¼Œä»¥ <strong>m3u</strong> æˆ– <strong>m3u8</strong> ç­‰ç»“å°¾ï¼Œå¯ä»¥åœ¨çº¿æ’­æ”¾ï¼Œä¹Ÿå¯ä»¥éœ€è¦å€ŸåŠ©ç›¸å…³è½¯ä»¶æ¥æ‰“å¼€ã€‚</p><table><thead><tr><th align="left">â–¼ <strong>åœ¨çº¿ç›´æ’­</strong></th><th align="left"></th><th align="left"></th><th align="left"></th></tr></thead><tbody><tr><td align="left"><a href="http://www.yangshizhibo.com/">å¤®è§†ç›´æ’­</a></td><td align="left"><a href="https://www.tvniu.com/">ç”µè§†ç‰›</a></td><td align="left"><a href="http://www.haoqiu365.com/">365ç›´æ’­</a></td><td align="left"><a href="http://www.126zhibo.net/">126ç›´æ’­</a></td></tr><tr><td align="left"><a href="http://www.lshitv.com/">ä¹è§†ç›´æ’­</a></td><td align="left"><a href="http://www.360live.cc/">çˆ±çœ‹ç›´æ’­</a></td><td align="left"><a href="http://tv.haoqu99.com/">å¥½è¶£ç½‘</a></td><td align="left"><a href="http://www.tvyan.com/">ç”µè§†çœ¼</a></td></tr><tr><td align="left"><a href="http://zqjy.info/t/">M3U8 IPTV Player</a></td><td align="left"><a href="https://eja.tv/">eja.tv</a></td><td align="left"><a href="http://nettv.live/">Nettv.live</a></td><td align="left"><a href="http://www.tvquanqiu.com/">çœ‹å…¨çƒ</a></td></tr><tr><td align="left">â–¼ <strong>ç›´æ’­æº</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://github.com/iptv-org/iptv">IPTV.org</a></td><td align="left"><a href="https://live.fanmingming.com/">Fanmingming Live</a></td><td align="left"><a href="https://github.com/imDazui/Tvlist-awesome-m3u-m3u8">Tvlist</a></td><td align="left"><a href="https://epg.pw/test_channel_page.html?lang=zh-hans">EPG ç”µè§†èŠ‚ç›®è¡¨</a></td></tr><tr><td align="left"><a href="https://owen2000wy.github.io/">OwenTV</a></td><td align="left"><a href="http://tonkiang.us/">IPTV Link Search</a></td><td align="left"><a href="https://www.foodieguide.com/iptvsearch/">IPTV Link Search 2</a></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>ç›´æ’­æºè½¯ä»¶</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><strong>Windows</strong>ï¼š</td><td align="left">é¦–é€‰ï¼š<a href="https://www.videolan.org/index.zh.html">VLC</a></td><td align="left">å¯é€‰ï¼š<a href="https://potplayer.daum.net/">Potplayer</a></td><td align="left"></td></tr><tr><td align="left"><strong>Mac</strong>ï¼š</td><td align="left">é¦–é€‰ï¼š<a href="https://www.videolan.org/index.zh.html">VLC</a></td><td align="left">å¯é€‰ï¼š<a href="https://iina.io/">IINA</a></td><td align="left">å¯é€‰ï¼š<a href="https://apps.apple.com/cn/app/id1630403500">â€APTV</a></td></tr><tr><td align="left"><strong>iOS</strong>ï¼š</td><td align="left">é¦–é€‰ï¼š<a href="https://www.videolan.org/index.zh.html">VLC</a></td><td align="left">å¯é€‰ï¼š<a href="https://apps.apple.com/cn/app/ntplayer/id1613758141">ntPlayer</a></td><td align="left">å¯é€‰ï¼š<a href="https://apps.apple.com/cn/app/id1630403500">â€APTV</a></td></tr><tr><td align="left"><strong>Android</strong>ï¼š</td><td align="left">é¦–é€‰ï¼š<a href="https://www.videolan.org/index.zh.html">VLC</a></td><td align="left">å¯é€‰ï¼š<a href="https://www.lanzoub.com/izIp40ve9ing">DIYP å½±éŸ³</a></td><td align="left"></td></tr><tr><td align="left"><strong>å·¥å…·ï¼š</strong></td><td align="left"><a href="https://guihet.com/tvlistconvert.html">ç›´æ’­æºåˆ—è¡¨æ ¼å¼è½¬æ¢</a></td><td align="left"></td><td align="left"></td></tr></tbody></table><h2 id="7ã€ä½“è‚²ç›´æ’­"><a href="#7ã€ä½“è‚²ç›´æ’­" class="headerlink" title="7ã€ä½“è‚²ç›´æ’­"></a>7ã€ä½“è‚²ç›´æ’­</h2><table><thead><tr><th align="left">â–¼ <strong>ä½“è‚²ç›´æ’­</strong></th><th align="left"></th><th align="left"></th><th align="left"></th></tr></thead><tbody><tr><td align="left"><a href="https://www.zhibo8.com/">ç›´æ’­8</a></td><td align="left"><a href="https://www.qiumihui.tv/">çƒè¿·æ±‡</a></td><td align="left"><a href="https://www.ningmengzhibo.cc/">æŸ æª¬ç›´æ’­</a></td><td align="left"><a href="https://www.yoozhibo.net/">ä¼˜ç›´æ’­</a></td></tr><tr><td align="left"><a href="https://www.zhiboz.com/">ç›´æ’­å§</a></td><td align="left"><a href="https://dongqiudi.com/">æ‡‚çƒå¸</a></td><td align="left"><a href="https://www.lanqiudi.com/">ç¯®çƒå¸</a></td><td align="left"><a href="https://www.zhibo1.cc/index.html">ä¸€ç›´æ’­</a></td></tr><tr><td align="left"><a href="http://www.jrkan2023.com/">JRKANç›´æ’­</a></td><td align="left"><a href="http://www.515.tv/">515ç›´æ’­</a></td><td align="left"><a href="http://www.lanqiuzhibo.com/">ç¯®çƒç›´æ’­å§</a></td><td align="left"><a href="https://www.98zhibo.com/">98ç›´æ’­å§</a></td></tr><tr><td align="left"><a href="https://www.kankanzhibo.com/">çœ‹çœ‹ç›´æ’­</a></td><td align="left"><a href="https://www.zb06.com/">ä½“è‚²6</a></td><td align="left"><a href="http://www.zhiboche5.com/">ç›´æ’­è½¦</a></td><td align="left"><a href="https://www.tiantianzhibo.net/">å¤©å¤©ç›´æ’­</a></td></tr><tr><td align="left">â–¼ <strong>ä½“è‚²ä¸‹è½½</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://www.sport-video.org.ua/">Sport Video</a></td><td align="left"><a href="http://www.miejw.com/html/mdown">ç±³å°”ä½“è‚²ç½‘</a></td><td align="left"><a href="http://www.qklnews.com/matchdown">å·§å…‹åŠ›ç›´æ’­ç½‘</a></td><td align="left"><a href="https://www.txzqw.me/">å¤©ä¸‹è¶³çƒç½‘</a></td></tr><tr><td align="left"><a href="http://www.qm5.cc/">çƒè¿·ç½‘</a></td><td align="left"></td><td align="left"></td><td align="left"></td></tr></tbody></table><h2 id="8ã€VIP-è§£æ"><a href="#8ã€VIP-è§£æ" class="headerlink" title="8ã€VIP è§£æ"></a>8ã€VIP è§£æ</h2><p>å„å¤§ç½‘ç«™çš„ VIP è§†é¢‘è§£æï¼Œè¾“å…¥<strong>è§†é¢‘åœ°å€</strong>å³å¯ã€‚</p><table><thead><tr><th align="left">â–¼ <strong>VIP è§£æ</strong></th><th align="left"></th><th align="left"></th><th align="left"></th></tr></thead><tbody><tr><td align="left"><a href="https://www.btnull.org/vipplay/">ç‰‡åº“è§£æ</a></td><td align="left"><a href="https://vip.bljiex.com/?wd=">BL è§£æ</a></td><td align="left"><a href="https://bd.jx.cn/?url=">å†°è±†è§£æ</a></td><td align="left"><a href="https://okjx.cc/?url=">OKè§£æ</a></td></tr><tr><td align="left"><a href="https://www.bavei.com/vip/?url=">å…¨æ°‘è§£æ</a></td><td align="left"><a href="https://www.pangujiexi.com/pangu/?url=">ç›˜å¤è§£æ</a></td><td align="left"><a href="https://jx.xmflv.com/?url=">è™¾ç±³è§£æ</a></td><td align="left"><a href="https://jx.jsonplayer.com/player/?url=">JsonPlayer è§£æ</a></td></tr><tr><td align="left"><a href="http://so.fulishe.live/">åˆšåˆšè§£æ</a></td><td align="left"><a href="https://jx.kingtail.xyz/?url=">KingTail</a></td><td align="left"><a href="https://www.ckplayer.vip/jiexi/?url=">CKPlayer</a></td><td align="left"><a href="https://www.playm3u8.cn/jiexi.php?url=">Playm3u8</a></td></tr><tr><td align="left"><a href="https://jx.m3u8.tv/jiexi/?url=">M3u8.tv</a></td><td align="left"><a href="https://jx.xmflv.com/?url=">XmFlv</a></td><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>è„šæœ¬è¾…åŠ©</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://greasyfork.org/zh-CN/scripts/438657">å…¨ç½‘ VIP è§†é¢‘è§£æ</a></td><td align="left"><a href="https://greasyfork.org/zh-CN/scripts/467776">æ‡’äºº VIP è§†é¢‘è§£æ</a></td><td align="left"><a href="https://greasyfork.org/zh-CN/scripts/449203">éå¸¸ç®€æ´è§†é¢‘è§£æ</a></td><td align="left"><a href="https://greasyfork.org/zh-CN/scripts/472455">è½é›ªè§†é¢‘è§£æ</a></td></tr></tbody></table><h2 id="9ã€ç”µè„‘è½¯ä»¶"><a href="#9ã€ç”µè„‘è½¯ä»¶" class="headerlink" title="9ã€ç”µè„‘è½¯ä»¶"></a>9ã€ç”µè„‘è½¯ä»¶</h2><p>å¦‚æœä½ ä¸æƒ³è®°é‚£ä¹ˆå¤šçš„ç½‘ç«™ã€‚</p><p>æƒ³ç›´æ¥æœ‰ä¸€æ¬¾è½¯ä»¶èƒ½å›Šæ‹¬æ‰€æœ‰ç½‘ç«™çš„è¯ï¼Œæ¨è <strong>ZY Player</strong>ã€‚</p><p><strong>ZY Player</strong> æ˜¯ä¸€æ¬¾å¼€æºçš„ã€è·¨å¹³å°çš„ç”µè„‘ç«¯è§†é¢‘æ’­æ”¾å™¨ï¼Œæ”¯æŒ Windowsã€macOSã€Linux å¤šä¸ªå¹³å°ã€‚</p><p>é¡¹ç›®ï¼š<a href="https://github.com/Hiram-Wong/ZyPlayer">https://github.com/Hiram-Wong/ZyPlayer</a></p><p>ä¸‹è½½ï¼š<a href="https://ghproxy.com/https://github.com/Hiram-Wong/ZyPlayer/releases/download/v3.2.7/zyplayer-win-3.2.7-x64.exe">Windows ç‰ˆ</a>ã€<a href="https://ghproxy.com/https://github.com/Hiram-Wong/ZyPlayer/releases/download/v3.2.7/zyplayer-mac-3.2.7-x64.dmg">Mac Intel ç‰ˆ</a>ã€<a href="https://ghproxy.com/https://github.com/Hiram-Wong/ZyPlayer/releases/download/v3.2.7/zyplayer-mac-3.2.7-arm64.dmg">Mac ARM ç‰ˆ</a></p><p><strong>ä½¿ç”¨æ–¹æ³•ï¼š</strong></p><p><strong>ZY Player</strong> ä½¿ç”¨çš„æ˜¯æ¥å£è§£æçš„æ–¹å¼ï¼Œå› æ­¤éœ€è¦è®¢é˜… m3u8 é“¾æ¥ã€‚æ¨èé“¾æ¥ï¼šæ¥è‡ª <a href="https://github.com/ls125781003/dmtg">@ls125781003</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://gcore.jsdelivr.net/gh/ls125781003/dmtg/zy.json</span><br><span class="line">https://gcore.jsdelivr.net/gh/ls125781003/dmtg/zy_yuan.json</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20231215222125.png"></p><p>è®¢é˜…é“¾æ¥åï¼ŒZY Player å°±ä¼šå±•ç¤ºæ‰€æœ‰å¯ç”¨æºï¼Œä¸»è¦åŒ…æ‹¬<strong>å½±è§†ã€ç”µè§†ã€è§£æ</strong>ä¸‰ä¸ªéƒ¨åˆ†ã€‚</p><p><strong>åœ¨çº¿å½±è§†ï¼š</strong></p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20231215222145.png"></p><p><strong>ç”µè§†ç›´æ’­ï¼š</strong></p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20231215222205.png"></p><p><strong>è§†é¢‘è§£æï¼š</strong></p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20231215222223.png"></p><h2 id="10ã€æ‰‹æœºAPP"><a href="#10ã€æ‰‹æœºAPP" class="headerlink" title="10ã€æ‰‹æœºAPP"></a>10ã€æ‰‹æœºAPP</h2><p>å®‰å“ä¸Šå®‰è£… APP å¾ˆç®€å•ï¼Œä½† iOS å°±æ¯”è¾ƒéº»çƒ¦äº†ã€‚</p><p>ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡å®‰è£…â€œ<strong>æè¿°æ–‡ä»¶</strong>â€ æ¥å®‰è£…ï¼Œå¦ä¸€ç§æ˜¯â€œ<strong>ä¼ªè£…ä¸Šæ¶</strong>â€åº”ç”¨åˆ° App Storeã€‚</p><p>ä¹Ÿå°±æ˜¯ App çœ‹ä¸Šå»æ˜¯ä¸€ä¸ªæ™®é€šåº”ç”¨ï¼Œä½†åªè¦ç‚¹æŸä¸ªæŒ‰é’®ï¼Œåˆæˆ–è€…è¾“å…¥æŸä¸ªå…³é”®å­—ï¼Œåº”ç”¨å°±ä¼š<strong>å˜èº«ä¸ºå½±è§† App</strong>ã€‚</p><p>å¦‚æœæ‰“å¼€çš„ä¼ªè£…åº”ç”¨ App Store é“¾æ¥ï¼Œæç¤ºåœ°åŒºä¸æ”¯æŒï¼Œé‚£ä¹ˆè¯´æ˜ App å·²ç»ä¸‹æ¶ã€‚</p><table><thead><tr><th align="left">â–¼ <strong>å®‰å“</strong></th><th align="left"></th><th align="left"></th><th align="left"></th></tr></thead><tbody><tr><td align="left"><a href="https://cupfox.app/app">èŒ¶æ¯ç‹</a></td><td align="left"><a href="https://www.looo.top/">é¾™é—¨å½±è§†</a></td><td align="left"><a href="https://cokemv.me/index.php/label/down.html">COKEMV</a></td><td align="left"><a href="https://tbsdy.com/download.html">åœŸæ‹¨é¼ ç”µå½±</a></td></tr><tr><td align="left"><a href="http://www.zhuijuapp.com/">è¿½å‰§å½±é™¢</a></td><td align="left"><a href="https://www.dmmd.tv/">èŒå¦¹è§†é¢‘</a></td><td align="left"><a href="https://ikaola.tv/app/">è€ƒæ‹‰TV</a></td><td align="left"><a href="https://555dy.shop/">555 ç”µå½±</a></td></tr><tr><td align="left"><a href="https://dsxys.pro/app/">å¤§å¸ˆå…„å½±è§†</a></td><td align="left"><a href="https://danboxingqiu.github.io/">è›‹æ’­æ˜Ÿçƒ</a></td><td align="left"><a href="https://lekan.app/">ä¹çœ‹è§†é¢‘</a></td><td align="left"><a href="https://www.akuaizi.vip/">ç­·å­è§†é¢‘</a></td></tr><tr><td align="left"><a href="https://www.yzys.app/">æŸšå­å½±è§†</a></td><td align="left"><a href="https://yrzj.tv/">ä¼Šäººè¿½å‰§</a></td><td align="left"><a href="https://www.dmys.tv/">å¤§ç±³æ˜Ÿçƒ</a></td><td align="left"><a href="https://jinju1.app/">åŠ è²çŒ«å½±è§†</a></td></tr><tr><td align="left"><a href="https://qcjlpro.com/">é’æ©™å½±è§†</a></td><td align="left"><a href="https://heib.cc/">é»‘è±¹å½±è§†</a></td><td align="left"><a href="https://mj2.app/">AGç¾å‰§</a></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>iOS</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://apps.apple.com/cn/app/id1594160763">ç”µè§†ç›´æ’­</a></td><td align="left"><a href="https://apps.apple.com/cn/app/id1322243737">ä»Šæ—¥å½±è§†</a></td><td align="left"><a href="https://apps.apple.com/cn/app/id1135798414">å½±è§†å¤§å…¨</a></td><td align="left"><a href="https://apps.apple.com/cn/app/id1525688578">æœˆäº®æ’­æ”¾å™¨</a></td></tr><tr><td align="left"><a href="https://apps.apple.com/cn/app/id1630151775?platform=ipad">ç¾å‰§TV</a></td><td align="left"><a href="https://apps.apple.com/cn/app/%E6%B8%AF%E5%89%A7tv-%E6%B8%AF%E5%89%A7%E7%BD%91/id1510213105">æ¸¯å‰§TV</a></td><td align="left"></td><td align="left"></td></tr></tbody></table><table><thead><tr><th align="left">â–¼ <strong>ä¼ªè£…ä¸Šæ¶</strong></th><th align="left"></th></tr></thead><tbody><tr><td align="left"><a href="https://www.dmmd.tv/iosdownload.html">èŒå¦¹å½±è§†</a></td><td align="left">ç‚¹å‡»â€œæ„è§åé¦ˆâ€ï¼Œåœ¨æœ€ä¸Šé¢è¾“å…¥æ¡†ä¸­è¾“å…¥ï¼šèŒå¦¹ï¼Œç‚¹å‡»æäº¤åï¼Œé‡æ–°æ‰“å¼€å³å¯ã€‚</td></tr><tr><td align="left"><a href="https://apps.apple.com/cn/app/id1465366080">èš‚èšä¹¦ç­¾</a></td><td align="left">ç‚¹å‡»å³ä¸Šè§’â€œé½¿è½®â€ï¼Œé€‰æ‹©â€œè”ç³»ä½œè€…â€“&gt;ç‚¹æˆ‘æ¢å¤å¤‡ä»½â€ï¼Œå°±ä¼šå¯¼å…¥å½±è§†ç½‘ç«™ã€‚</td></tr></tbody></table><h2 id="11ã€ç”µè§†ç›’å­"><a href="#11ã€ç”µè§†ç›’å­" class="headerlink" title="11ã€ç”µè§†ç›’å­"></a>11ã€ç”µè§†ç›’å­</h2><table><thead><tr><th align="left">â–¼ <strong>ç”µè§†ç›’å­</strong></th><th align="left"></th><th align="left"></th><th align="left"></th></tr></thead><tbody><tr><td align="left"><a href="https://www.lanzoui.com/b0f1944aj">423Down TV</a> ğŸ‘</td><td align="left"><a href="https://docs.qq.com/doc/DRXhVYWF0cEpwV2FF">ç”µè§† TV ç©æ³•å¤§å…¨</a></td><td align="left"><a href="http://www.miaokantv.cn/">ç§’çœ‹ç”µè§†</a></td><td align="left"><a href="https://ikaola.tv/app/">è€ƒæ‹‰TV</a></td></tr><tr><td align="left"><a href="https://www.idianshijia.com/">ç”µè§†å®¶</a></td><td align="left"><a href="http://m.ismartv.cn/tv/introductionTV">ç”µè§†çŒ«è§†é¢‘</a></td><td align="left"><a href="http://mingri.tv/">æ˜æ—¥å½±è§†</a></td><td align="left"><a href="http://tvhuoxing.com/">ç«æ˜Ÿç›´æ’­</a></td></tr><tr><td align="left"><a href="http://www.yunhitv.com/">äº‘æµ·ç”µè§†</a></td><td align="left"></td><td align="left"></td><td align="left"></td></tr></tbody></table><h2 id="12ã€ç”µå½±ä¸‹è½½"><a href="#12ã€ç”µå½±ä¸‹è½½" class="headerlink" title="12ã€ç”µå½±ä¸‹è½½"></a>12ã€ç”µå½±ä¸‹è½½</h2><p>å¦‚æœæƒ³çœ‹é«˜æ¸…ã€è¶…é«˜æ¸…ã€æ— å¹¿å‘Šã€æ— åˆ å‡çš„ç”µå½±ï¼Œåˆ™éœ€è¦å•ç‹¬ä¸‹è½½ï¼Œä¸€èˆ¬æœ‰<strong>ç£åŠ›</strong>å’Œ<strong>ç½‘ç›˜</strong>ä¸¤ç§ä¸‹è½½å½¢å¼ã€‚</p><table><thead><tr><th align="left">â–¼ <strong>ç£åŠ›ä¸‹è½½</strong></th><th align="left"></th><th align="left"></th><th align="left"></th></tr></thead><tbody><tr><td align="left"><a href="https://www.cilixiong.com/">ç£åŠ›ç†Š</a></td><td align="left"><a href="https://www.yinfans.me/">éŸ³èŒƒä¸</a></td><td align="left"><a href="https://www.btsj6.com/">BTä¸–ç•Œç½‘</a></td><td align="left"><a href="https://www.mini4k.com/">MINI4K</a></td></tr><tr><td align="left"><a href="https://seedhub.info/">SeedHub</a></td><td align="left"><a href="https://www.2bt0.com/">ä¸å¤ªçµå½±è§†</a></td><td align="left"><a href="https://4kysxz.top/">4Kå½±è§†å°ç«™</a></td><td align="left"><a href="https://www.bugutv.org/">å¸ƒè°·TV</a></td></tr><tr><td align="left"><a href="https://www.hao6v.tv/">6vç”µå½±</a></td><td align="left"><a href="https://www.dygang.cc/">ç”µå½±æ¸¯</a></td><td align="left"><a href="https://yyets.click/search">äººäººå½±è§†</a></td><td align="left"><a href="https://www.mp4us.com/">Mp4ç”µå½±</a></td></tr><tr><td align="left"><a href="https://www.yikedy.cc/">ä¸€åˆ»ç”µå½±</a></td><td align="left"><a href="https://www.xl720.com/">è¿…é›·ç”µå½±å¤©å ‚</a></td><td align="left"><a href="https://www.gaoqingw.com/">é«˜æ¸…ç½‘</a></td><td align="left"><a href="https://gaoqing.la/">ä¸­å›½é«˜æ¸…ç½‘</a></td></tr><tr><td align="left"><a href="https://btbtt18.com/">BTä¹‹å®¶</a></td><td align="left"><a href="https://www.dygod.net/">ç”µå½±å¤©å ‚</a></td><td align="left"><a href="https://yts.mx/">YTS</a></td><td align="left"><a href="https://www.btbuluo.net/">BTéƒ¨è½å¤©å ‚</a></td></tr><tr><td align="left"><a href="https://torrentgalaxy.to/">Torrent Galaxy</a></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>ç½‘ç›˜ä¸‹è½½</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://nmme.xyz/">æ©˜å­ç›˜æœ</a></td><td align="left"><a href="https://xunso.fun/">è¿…æœæœ</a></td><td align="left"><a href="https://res.yunpan.win/">äº‘ç›˜èµ„æº</a></td><td align="left"><a href="http://m.kkkob.com/apps/index.html?id=211229kl">æ•°æ®æœç´¢</a></td></tr><tr><td align="left"><a href="https://nzmz.xyz/index.html">NEWå­—å¹•ç»„</a></td><td align="left"><a href="https://www.xinjuc.com/">æ–°å‰§åœº</a></td><td align="left"><a href="https://ppxzy.net/">çš®çš®è™¾èµ„æº</a></td><td align="left"><a href="https://susuifa.com/">SuSu Share</a></td></tr><tr><td align="left"><a href="https://xzys.fun/">æ ¡é•¿å½±è§†</a></td><td align="left"><a href="https://www.rrdynb.com/index.html">äººäººç”µå½±ç½‘</a></td><td align="left"><a href="http://www.xyxz001.com/">å¤•é˜³å°ç«™</a></td><td align="left"><a href="https://wanwansub.com/">å¼¯å¼¯å­—å¹•ç»„</a></td></tr></tbody></table><h2 id="13ã€å­—å¹•å°è¯"><a href="#13ã€å­—å¹•å°è¯" class="headerlink" title="13ã€å­—å¹•å°è¯"></a>13ã€å­—å¹•å°è¯</h2><p>å¤§å¤šæ•°åŸè¯­ç§èµ„æºï¼ˆæ— åˆ å‡ã€æ— å¹¿å‘Šï¼‰éƒ½æ²¡æœ‰å­—å¹•ï¼Œä¸ºæ­¤ï¼Œä½ éœ€è¦å•ç‹¬ä¸‹è½½å­—å¹•ã€‚</p><table><thead><tr><th align="left">â–¼ <strong>ç”µå½±å­—å¹•</strong></th><th align="left"></th><th align="left"></th><th align="left"></th></tr></thead><tbody><tr><td align="left"><a href="https://zimuku.org/">å­—å¹•åº“</a></td><td align="left"><a href="https://subhd.tv/">SubHD</a></td><td align="left"><a href="https://assrt.net/">å°„æ‰‹ç½‘(ä¼ª)</a></td><td align="left"><a href="https://www.ddzimu.com/">ç‚¹ç‚¹å­—å¹•</a></td></tr><tr><td align="left"><a href="https://cn.zimuzimu.net/">ä¸­æ–‡å­—å¹•ç½‘</a></td><td align="left"><a href="https://a4k.net/">A4Kå­—å¹•</a></td><td align="left"><a href="https://www.rikua.com/">æ—¥å¤¸å­—å¹•</a></td><td align="left"></td></tr><tr><td align="left"><a href="https://subbers.org/subtitles/">Subbers</a> (åŠ¨æ¼«)</td><td align="left"><a href="https://r3sub.com/">R3å­—å¹•ç¶²</a>ï¼ˆç¹ä½“ï¼‰</td><td align="left"><a href="https://www.subtitlecat.com/">Subtitle Cat</a> (ç•ªå·)</td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>è‹±æ–‡å­—å¹•</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://subscene.com/">Subscene</a></td><td align="left"><a href="https://www.opensubtitles.org/en/search/subs">OpenSubtitles</a></td><td align="left"><a href="https://subflicks.com/">SubFlicks</a></td><td align="left"><a href="https://www.addic7ed.com/">Addic7ed</a></td></tr><tr><td align="left">â–¼ <strong>ç”µå½±å°è¯</strong></td><td align="left"></td><td align="left"></td><td align="left"></td></tr><tr><td align="left"><a href="https://33.agilestudio.cn/">33å°è¯</a></td><td align="left"><a href="https://zhaotaici.cn/">æ‰¾å°è¯</a></td><td align="left"><a href="https://www.quodb.com/">QuoDB</a>ï¼ˆè‹±æ–‡ï¼‰</td><td align="left"><a href="https://dialogue.moe/">Dialogue</a>ï¼ˆåŠ¨æ¼«ï¼‰</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™æ¨è </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç«™ </tag>
            
            <tag> å½±è§† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éŸ³ä¹å¯¼èˆª</title>
      <link href="/2023/09/27/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/%E9%9F%B3%E4%B9%90%E5%AF%BC%E8%88%AA/"/>
      <url>/2023/09/27/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/%E9%9F%B3%E4%B9%90%E5%AF%BC%E8%88%AA/</url>
      
        <content type="html"><![CDATA[<h1 id="éŸ³ä¹å¯¼èˆª"><a href="#éŸ³ä¹å¯¼èˆª" class="headerlink" title="éŸ³ä¹å¯¼èˆª"></a>éŸ³ä¹å¯¼èˆª</h1><hr><h2 id="1ã€éŸ³ä¹æœç´¢"><a href="#1ã€éŸ³ä¹æœç´¢" class="headerlink" title="1ã€éŸ³ä¹æœç´¢"></a>1ã€éŸ³ä¹æœç´¢</h2><p>è¦è¯´ Mp3 æœç´¢å’Œä¸‹è½½çš„â€œ<strong>ä¼—ç¥ä¹‹ç‹</strong>â€ï¼Œ<strong>MyFreeMp3</strong> å½“ä¹‹æ— æ„§ã€‚</p><p>åœ°å€ï¼š<a href="https://myfreemp3juices.cc/">https://myfreemp3juices.cc</a></p><p><strong>ç‰¹ç‚¹ 1ï¼šèµ„æºé½å…¨</strong></p><p>ç½‘ç«™èµ„æºä¸°å¯Œï¼Œè¶…è¿‡ 1 äº¿é¦–éŸ³ä¹ã€‚</p><p>æ¯” Apple Store è¿˜é½å…¨ï¼ŒåŒ…æ‹¬å·²ç»ä¸‹æ¶çš„éŸ³ä¹ä¹Ÿèƒ½æœç´¢ï¼Œæ¯”å¦‚â€œ<strong>PG One</strong>â€çš„æ­Œï¼Œå ªç§°éŸ³ä¹ç•Œçš„ <strong>Z-library</strong>ã€‚</p><p><strong>ç‰¹ç‚¹ 2ï¼šæä¾›ä¸‹è½½</strong></p><p>é™¤äº†æ”¯æŒåœ¨çº¿æ”¶å¬ï¼Œç½‘ç«™è¿˜æä¾›äº† <strong>320Kbps</strong> çš„ Mp3 ä¸‹è½½ï¼Œè¦çŸ¥é“è¿™ä¸ªæ¯”ç‰¹ç‡å·²ç»ååˆ†æ¥è¿‘æ— æŸéŸ³ä¹ã€‚</p><p>è€Œå®ƒçš„ä½“ç§¯ï¼Œåªæœ‰æ— æŸéŸ³ä¹çš„ <strong>1&#x2F;3</strong>ã€‚</p><p><strong>ç‰¹ç‚¹ 3ï¼šå…è´¹æ— é™åˆ¶</strong></p><p>ç½‘ç«™æ— éœ€æ³¨å†Œï¼Œæ²¡æœ‰é™åˆ¶ï¼Œæ”¯æŒä¸­æ–‡ç­‰å¤šç§è¯­è¨€ï¼Œå›½å†…ä¹Ÿå¯ä»¥æ­£å¸¸è®¿é—®ï¼ŒéŸ³ä¹æœç´¢é‡Œå”¯ä¸€çš„ç¥ï¼Œæ— è¯¯äº†ã€‚</p><p><strong>ç±»ä¼¼ç½‘ç«™ï¼š</strong>ä¸‹é¢çš„è¿™äº›ç½‘ç«™ä¸ <strong>MyFreeMp3</strong> ç±»ä¼¼ï¼Œèµ„æºä¹Ÿå¾ˆé½å…¨ã€‚</p><table><thead><tr><th align="left">â–¼ <strong>å›½å¤–åº”ç”¨</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://new.myfreemp3juices.cc/">MyFreeMp3</a></td><td align="left">å…æ³¨å†Œã€æ”¯æŒä¸‹è½½ã€èµ„æºä¸°å¯Œï¼Œæ”¯æŒä¸‹æ¶éŸ³ä¹ã€‚ğŸ‘</td></tr><tr><td align="left">ğŸŒ <a href="https://freemp3cloud.com/">Free Mp3 Cloud</a></td><td align="left">å…æ³¨å†Œã€æ”¯æŒä¸‹è½½ã€èµ„æºä¸°å¯Œï¼Œæ”¯æŒä¸‹æ¶éŸ³ä¹ã€‚ğŸ‘</td></tr><tr><td align="left">ğŸŒ <a href="https://slider.kz/">Slider.kz</a></td><td align="left">å…æ³¨å†Œã€æ”¯æŒä¸‹è½½ã€èµ„æºä¸°å¯Œï¼Œæ”¯æŒä¸‹æ¶éŸ³ä¹ã€‚ğŸ‘</td></tr><tr><td align="left">ğŸŒ <a href="https://free-mp3-download.net/">Free MP3 Down</a></td><td align="left">å…æ³¨å†Œã€æ”¯æŒä¸‹è½½ã€æ”¯æŒæ— æŸä¸‹è½½ã€‚ğŸ‘</td></tr><tr><td align="left">ğŸŒ <a href="https://v2.mp3paw.link/">MP3Paw</a></td><td align="left">å…æ³¨å†Œã€æ”¯æŒä¸‹è½½ã€å†…å®¹æ¥è‡ª U2Bã€‚ğŸ‘</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>å›½å†…åº”ç”¨</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="https://mu-jie.cc/musicBox/">æ˜”æ«éŸ³ä¹ç›’</a></td><td align="left">å…æ³¨å†Œã€æ”¯æŒä¸‹è½½ã€æ”¯æŒæ­Œå•ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://zz123.com/">zz123éŸ³ä¹</a></td><td align="left">å…æ³¨å†Œã€æ”¯æŒä¸‹è½½ã€æ”¯æŒæ­Œå•ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://tonzhon.com/">é’Ÿé“œ</a></td><td align="left">å…æ³¨å†Œã€æ”¯æŒä¸‹è½½ã€æ”¯æŒæ­Œå•ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://bailemi.com/dance">ç™¾ä¹ç±³</a></td><td align="left">å…æ³¨å†Œã€æ”¯æŒä¸‹è½½ã€æ”¯æŒæ­Œå•ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.gequbao.com/">æ­Œæ›²å®</a></td><td align="left">å…æ³¨å†Œã€æ”¯æŒä¸‹è½½ã€æ”¯æŒæ­Œè¯ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.fangpi.net/">æ”¾å±ç½‘</a></td><td align="left">å…æ³¨å†Œã€æ”¯æŒä¸‹è½½ã€æ”¯æŒæ­Œè¯ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://music.dogged.cn/">é¡½ç‹—éŸ³ä¹</a></td><td align="left">å…æ³¨å†Œã€æ”¯æŒä¸‹è½½ã€æ”¯æŒæ­Œè¯ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://tool.liumingye.cn/music/#/">Liumingye</a></td><td align="left">å…æ³¨å†Œã€æ”¯æŒä¸‹è½½ã€æ”¯æŒæ­Œè¯ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.musicenc.com/">MusicEnc</a></td><td align="left">å…æ³¨å†Œã€æ”¯æŒä¸‹è½½ã€æ”¯æŒæ­Œè¯ï¼Œä½†ä¸æ”¯æŒç‰ˆæƒéŸ³ä¹ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.shiyinren.com/">æ‹¾éŸ³äºº</a></td><td align="left">å…æ³¨å†Œã€æ”¯æŒä¸‹è½½ã€æ”¯æŒ MTV ä¸‹è½½ï¼Œæ”¯æŒæ— æŸéŸ³è´¨ä¸‹è½½ã€‚</td></tr></tbody></table><h2 id="2ã€å¬æ­Œåº”ç”¨"><a href="#2ã€å¬æ­Œåº”ç”¨" class="headerlink" title="2ã€å¬æ­Œåº”ç”¨"></a>2ã€å¬æ­Œåº”ç”¨</h2><p>æ¡Œé¢ç«¯å¬æ­Œï¼Œå¯ä»¥é€‰æ‹©<strong>æ´›é›ªéŸ³ä¹åŠ©æ‰‹</strong>ã€‚</p><p>å®ƒæ˜¯ä¸€æ¬¾<strong>é«˜é¢œå€¼çš„ç¬¬ä¸‰æ–¹éŸ³ä¹æ’­æ”¾è½¯ä»¶</strong>ï¼ŒåŸºäº Electron + Vue å¼€å‘ï¼Œæ˜¯ GitHub ä¸Šçš„å¼€æºéŸ³ä¹æœç´¢è½¯ä»¶ã€‚</p><p>æ”¯æŒåœ¨çº¿æœç´¢å’Œæ”¶å¬ï¼Œä¸‹è½½åŠŸèƒ½éœ€è¦åœ¨â€œ<strong>è®¾ç½®</strong>â€é‡Œæ‰‹åŠ¨å¼€å¯ã€‚</p><p>å®˜ç½‘åœ°å€ï¼š<a href="https://lxmusic.toside.cn/">https://lxmusic.toside.cn/</a></p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/lyswhut/lx-music-desktop">https://github.com/lyswhut/lx-music-desktop</a></p><p><strong>æ¡Œé¢ç«¯</strong>ï¼šæ”¯æŒ Windowsã€Macã€Linuxã€‚ä¸‹è½½ï¼š[<a href="https://github.com/lyswhut/lx-music-desktop/releases">GitHub ä¸‹è½½</a>]ã€[<a href="https://www.lanzoui.com/b0bf2cfa">ç½‘ç›˜ä¸‹è½½</a>]ã€å¯†ç ï¼šglqw</p><p><strong>æ‰‹æœºç«¯</strong>ï¼šæ”¯æŒ å®‰å“ï¼Œä¸æ”¯æŒ iOSã€‚ä¸‹è½½ï¼š[<a href="https://github.com/lyswhut/lx-music-mobile/releases">GitHub ä¸‹è½½</a>]ã€[<a href="https://www.lanzoui.com/b0bf2cfa">ç½‘ç›˜ä¸‹è½½</a>]ã€å¯†ç ï¼šglqw</p><p><strong>æµè§ˆå™¨</strong>ï¼šå¯é…åˆè„šæœ¬ä¸€é”®è°ƒç”¨æ’­æ”¾ï¼Œåœ°å€ï¼š<a href="https://greasyfork.org/zh-CN/scripts/438148">https://greasyfork.org/zh-CN/scripts/438148</a></p><table><thead><tr><th align="left">â–¼ <strong>æ¡Œé¢åº”ç”¨</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸ“¥ <a href="https://github.com/lyswhut/lx-music-desktop">æ´›é›ªéŸ³ä¹</a></td><td align="left">éŸ³ä¹æœç´¢è½¯ä»¶ï¼Œæ”¯æŒç‰ˆæƒéŸ³ä¹ï¼Œæ”¯æŒ Windowsã€Macã€Linux</td></tr><tr><td align="left">ğŸ“œ <a href="https://greasyfork.org/zh-CN/scripts/438148">æ´›é›ªéŸ³ä¹è„šæœ¬</a></td><td align="left">ä»ç½‘é¡µç«¯ä¸€é”®è°ƒç”¨æ´›é›ªéŸ³ä¹æ¥æ’­æ”¾â€œ<strong>ç°è‰²</strong>â€éŸ³ä¹</td></tr><tr><td align="left">ğŸ“¥ <a href="https://listen1.github.io/listen1/">Listen1</a></td><td align="left">å¤šå¹³å°èšåˆéŸ³ä¹æ’­æ”¾è½¯ï¼Œæ”¯æŒ Winã€Macã€Linux</td></tr><tr><td align="left">ğŸ“¥ <a href="https://cider.sh/">Cider</a></td><td align="left">Apple Music ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼Œæ”¯æŒ Winã€Macã€Linux</td></tr><tr><td align="left">ğŸ“¥ <a href="https://github.com/qier222/YesPlayMusic">YesPlayMusic</a></td><td align="left">é«˜é¢œå€¼ç¬¬ä¸‰æ–¹ç½‘æ˜“äº‘æ’­æ”¾å™¨ï¼Œæ”¯æŒ Winã€Macã€Linux</td></tr><tr><td align="left">ğŸ“¥ <a href="https://423down.lanzouo.com/iAYaX0nd8icf">é…·æˆ‘éŸ³ä¹ PC ç‰ˆ</a></td><td align="left">é…·æˆ‘éŸ³ä¹ PC å»å¹¿å‘Šè±ªåç‰ˆï¼Œç”± 423Down ç»´æŠ¤ã€‚<a href="https://423down.lanzouo.com/iAYaX0nd8icf">ğŸªŸ</a></td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>æ‰‹æœºåº”ç”¨</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸ“¥ <a href="https://www.kuwo.cn/">é…·æˆ‘éŸ³ä¹ APP</a></td><td align="left">é…·æˆ‘éŸ³ä¹ APP è±ªåç‰ˆï¼Œç”± 423Down ç»´æŠ¤ï¼Œä»…æ”¯æŒå®‰å“ã€‚<a href="https://www.lanzouo.com/b0f3nm6rc">ğŸ¤–</a></td></tr><tr><td align="left">ğŸ“¥ <a href="https://github.com/lyswhut/lx-music-mobile">æ´›é›ªéŸ³ä¹ APP</a></td><td align="left">éŸ³ä¹æœç´¢è½¯ä»¶ï¼Œæ”¯æŒç‰ˆæƒéŸ³ä¹ï¼Œä»…æ”¯æŒå®‰å“ã€‚<a href="https://www.lanzouy.com/b07pq1lja">ğŸ¤–</a></td></tr><tr><td align="left">ğŸ“¥ <a href="https://mu-jie.cc/musicBox/">æ˜”æ«éŸ³ä¹ç›’</a></td><td align="left">éŸ³ä¹æœç´¢è½¯ä»¶ï¼Œæ”¯æŒç‰ˆæƒéŸ³ä¹ï¼Œä»…æ”¯æŒå®‰å“ã€‚<a href="https://www.lanzouy.com/b07pq1lja">ğŸ¤–</a></td></tr></tbody></table><h2 id="3ã€æµè§ˆå™¨æ‰©å±•"><a href="#3ã€æµè§ˆå™¨æ‰©å±•" class="headerlink" title="3ã€æµè§ˆå™¨æ‰©å±•"></a>3ã€æµè§ˆå™¨æ‰©å±•</h2><table><thead><tr><th align="left">â–¼ <strong>éŸ³ä¹æ‰©å±•</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸ”· éŸ³ä¹æ”¶å¬</td><td align="left"><a href="https://listen1.github.io/listen1/">Listen 1</a>ï¼Œèšåˆç½‘æ˜“äº‘éŸ³ä¹ã€QQéŸ³ä¹ã€é…·ç‹—ç­‰ç½‘ç«™çš„æ­Œæ›²ã€‚ğŸ‘ <a href="https://github.com/windmiles/listen1_firefox_extension/releases">ğŸŸ </a> <a href="https://chrome.google.com/webstore/detail/listen-1/indecfegkejajpaipjipfkkbedgaodbp">ğŸŸ¢</a> <a href="https://microsoftedge.microsoft.com/addons/detail/listen-1/hneiglcmpeedblkmbndhfbeahcpjojjg">ğŸ”µ</a></td></tr><tr><td align="left">ğŸ”· å¹¿æ’­æ”¶å¬</td><td align="left"><a href="https://chrome.google.com/webstore/detail/search-to-play-the-song/anfmgjkkbagjfdejhbjdiapgkbhpigpm?hl=zh-CN">Search to Play the Song</a>ï¼Œå¯ä»¥è¯´æ˜¯ Listen 1çš„ç®€æ´ç‰ˆï¼Œè¿˜èƒ½å¬å¹¿æ’­ã€‚<a href="https://chrome.google.com/webstore/detail/search-to-play-the-song/anfmgjkkbagjfdejhbjdiapgkbhpigpm">ğŸŸ¢</a></td></tr><tr><td align="left">ğŸ“œ æ­Œè¯å±•ç¤º</td><td align="left">è„šæœ¬ <a href="https://greasyfork.org/zh-CN/scripts/386259">U2B Genius Lyrics</a> æ›´å¥½ï¼Œæ”¯æŒæ˜¾ç¤ºæ’­æ”¾éŸ³ä¹çš„æ­Œè¯ã€‚<a href="https://greasyfork.org/zh-CN/scripts/386259">ğŸ“œ</a>ï¼ˆ<a href="https://robwu.nl/lyricshere/">æ‰©å±•æ–¹æ¡ˆ</a>ï¼‰</td></tr><tr><td align="left">ğŸ”· æ­Œæ›²è¯†åˆ«Â¹</td><td align="left"><a href="https://www.aha-music.com/">AHA Music</a>ï¼Œè¯†åˆ«å½“å‰æµè§ˆå™¨æ’­æ”¾ä¸­çš„æ­Œæ›²ï¼Œè¿˜æ”¯æŒæœ¬åœ°éŸ³ä¹ã€‚<a href="https://addons.mozilla.org/zh-CN/firefox/addon/song-identifier/?src=search">ğŸŸ </a> <a href="https://chrome.google.com/webstore/detail/aha-music-music-identifie/dpacanjfikmhoddligfbehkpomnbgblf">ğŸŸ¢</a> <a href="https://microsoftedge.microsoft.com/addons/detail/aha-music-music-identif/ejfccgmelcclnoadalcepdmnpgcnglfc">ğŸ”µ</a></td></tr><tr><td align="left">ğŸ”· æ­Œæ›²è¯†åˆ«Â²</td><td align="left"><a href="https://chrome.google.com/webstore/detail/%E4%BA%91%E9%9F%B3%E4%B9%90%E5%90%AC%E6%AD%8C/kemcalcncfhmdkgglekijclbomdoohkp">äº‘éŸ³ä¹å¬æ­Œ</a>ï¼Œç½‘æ˜“äº‘éŸ³ä¹å®˜æ–¹å‡ºå“çš„æ­Œæ›²è¯†åˆ«å·¥å…·ã€‚ï¸<a href="https://chrome.google.com/webstore/detail/%E4%BA%91%E9%9F%B3%E4%B9%90%E5%90%AC%E6%AD%8C/kemcalcncfhmdkgglekijclbomdoohkp">ğŸŸ¢</a></td></tr><tr><td align="left">ğŸ”· éŸ³é‡å¢å¼º</td><td align="left"><a href="https://www.petasittek.com/">Volume Master</a>ï¼Œç®€å•å¯é çš„éŸ³é‡å¢å¼ºå™¨ï¼Œæœ€é«˜ **600%**ã€‚<a href="https://addons.mozilla.org/zh-CN/firefox/addon/600-sound-volume/">ğŸŸ </a> <a href="https://chrome.google.com/webstore/detail/volume-master/jghecgabfgfdldnmbfkhmffcabddioke">ğŸŸ¢</a></td></tr><tr><td align="left">ğŸ”· æ–‡æœ¬é˜…è¯»</td><td align="left"><a href="https://readaloud.app/">Read Aloud</a>ï¼Œæœ—è¯»ç½‘é¡µå†…å®¹ï¼ŒåŒæ—¶æ”¯æŒå¾®è½¯å’Œè°·æ­Œçš„è¯­éŸ³åº“ã€‚<a href="https://addons.mozilla.org/zh-CN/firefox/addon/read-aloud/">ğŸŸ </a> <a href="https://chrome.google.com/webstore/detail/read-aloud-a-text-to-spee/hdhinadidafjejdhmfkjgnolgimiaplp">ğŸŸ¢</a> <a href="https://microsoftedge.microsoft.com/addons/detail/read-aloud-%E6%96%87%E6%9C%AC%E8%AF%AD%E9%9F%B3%E6%9C%97%E8%AF%BB%E5%8A%A9%E7%90%86/pnfonnnmfjnpfgagnklfaccicnnjcdkm">ğŸ”µ</a></td></tr><tr><td align="left">ğŸ“œ éŸ³é¢‘ä¸‹è½½</td><td align="left">è„šæœ¬ <a href="https://greasyfork.org/zh-CN/scripts/382057">éŸ³è§†é¢‘é€šç”¨ä¸‹è½½å™¨</a>ï¼Œç‚¹å‡»é¡µé¢å³è¾¹æŒ‰é’®æ‰“å¼€èœå•ä¸‹è½½ã€‚<a href="https://greasyfork.org/zh-CN/scripts/382057">ğŸ“œ</a>ï¼ˆ<a href="https://mediasave.ru/en/">æ‰©å±•æ–¹æ¡ˆ</a>ï¼‰</td></tr></tbody></table><h2 id="4ã€ç½‘æ˜“äº‘éŸ³ä¹"><a href="#4ã€ç½‘æ˜“äº‘éŸ³ä¹" class="headerlink" title="4ã€ç½‘æ˜“äº‘éŸ³ä¹"></a>4ã€ç½‘æ˜“äº‘éŸ³ä¹</h2><p>ä¸å¾—ä¸æ‰¿è®¤ï¼Œå¬æ­Œåº”ç”¨ä¹Ÿæ˜¯å­˜åœ¨â€œ<strong>é„™è§†é“¾</strong>â€çš„ã€‚</p><p>é™¤äº† Apple Musicï¼Œç½‘æ˜“äº‘éŸ³ä¹å¯ä»¥è¯´æ˜¯å¬æ­Œåº”ç”¨é‡Œçš„â€œ<strong>æ–°æµªå¾®åš</strong>â€ï¼Œå¾ˆå¤šåŸåˆ›æ­Œæ‰‹éƒ½åœ¨â€œ<strong>äº‘æ‘</strong>â€é‡Œé›†åˆã€‚</p><p>å› æ­¤ï¼Œç½‘æ˜“äº‘éŸ³ä¹æ˜¯å¾ˆå¤šäººå¬æ­Œçš„<strong>ç¬¬ä¸€é€‰æ‹©</strong>ã€‚</p><p><strong>4.1ã€BetterNCM</strong></p><p>ä½†ç½‘æ˜“äº‘éŸ³ä¹å®¢æˆ·ç«¯ï¼Œå¹¶æ˜¯æ€ä¹ˆå¥½ç”¨ã€‚</p><p>å› æ­¤ï¼Œæœ‰ä¸€ä¸ªå« <strong>BetterNCM</strong> çš„å¢å¼ºæ’ä»¶è¯ç”Ÿäº†ï¼Œå®ƒå¯ä»¥é€šè¿‡è‡ªå®šä¹‰æ’ä»¶ï¼Œä¸ºç½‘æ˜“äº‘éŸ³ä¹å®ç°å„ç±»æ–°åŠŸèƒ½ã€‚</p><p>ä¸»è¦åŒ…æ‹¬â€œ<strong>æ‰©å±•</strong>â€å’Œâ€œ<strong>ä¸»é¢˜</strong>â€ä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸æµè§ˆå™¨çš„ä½¿ç”¨æ–¹æ³•ç±»ä¼¼ã€‚</p><p>é¡¹ç›®ä¸»é¡µï¼š<a href="https://github.com/MicroCBer/BetterNCM">https://github.com/MicroCBer/BetterNCM</a></p><p>ä¸€é”®å®‰è£…ï¼š<a href="https://github.com/MicroCBer/BetterNCM-Installer">https://github.com/MicroCBer/BetterNCM-Installer</a></p><p>ä½¿ç”¨æ–‡æ¡£ï¼š<a href="https://v2e2npdz15.feishu.cn/docx/UZkSd9d46o4fVOxaPNBcGXSenme">https://v2e2npdz15.feishu.cn/docx/UZkSd9d46o4fVOxaPNBcGXSenme</a></p><p><img src="https://image.baidu.com/search/down?url=https://tvax2.sinaimg.cn/large/7a6a15d5gy1hho9q029pxj22801e0npe.jpg" alt="S17_BetterNCM"></p><p><strong>4.2ã€Go Musicfox</strong></p><p>å¦‚æœä½ ä¸æƒ³è¦é‚£ä¹ˆå¤š<strong>èŠ±é‡Œèƒ¡å“¨</strong>çš„åŠŸèƒ½ï¼Œå°±æƒ³å•çº¯çš„å¬æ­Œã€‚</p><p>ä½¿ç”¨ Go è¯­è¨€ç¼–å†™çš„ç½‘æ˜“éŸ³ä¹â€œ<strong>å‘½ä»¤è¡Œ</strong>â€å®¢æˆ·ç«¯ <strong>Go Musicfox</strong> æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p><p>æ”¯æŒ Windows ã€Mac ã€Linuxã€‚</p><p>å®ƒå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œçš„æ–¹å¼å®ç°ç™»å½•ã€æ’­æ”¾ã€ä¸‹è½½ã€æœç´¢ã€æ­Œè¯ã€Last.fmã€ç­¾åˆ°ç­‰åŠŸèƒ½ã€‚</p><p>æŒ‰å¿«æ·é”® <strong>D</strong> å°±æ˜¯ä¸‹è½½å‰å½“æ’­æ”¾çš„éŸ³ä¹ã€‚</p><p>ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/go-musicfox/go-musicfox/releases">https://github.com/go-musicfox/go-musicfox/releases</a></p><p>ä»£ç†ä¸‹è½½ï¼š<a href="https://githubfast.com/go-musicfox/go-musicfox/releases">https://githubfast.com/go-musicfox/go-musicfox/releases</a></p><p><img src="https://image.baidu.com/search/down?url=https://tvax1.sinaimg.cn/large/7a6a15d5gy1hho9q0gci7j21uo18aqei.jpg" alt="S17_MusicFox"></p><p><strong>4.3ã€UnblockNeteaseMusic</strong></p><p>ä½†ä¸€äº›æ­Œæ›²ï¼Œç”±äºç‰ˆæƒè¢«ä¹°æ–­ï¼Œå¯¼è‡´ç½‘æ˜“äº‘éŸ³ä¹æ›²åº“å°‘ï¼Œå› ä¸ºå¾ˆå¤šéŸ³ä¹éƒ½æ²¡åŠæ³•å¬ã€‚</p><p>æ’ä»¶ <a href="https://github.com/nondanee/UnblockNeteaseMusic">UnblockNeteaseMusic</a>ï¼Œåˆ™å¯ä»¥è‡ªåŠ¨ä½¿ç”¨å„ç±»éŸ³æºæ›¿æ¢å˜ç°æ­Œæ›²é“¾æ¥ï¼ŒåŒ…æ‹¬ QQ &#x2F; é…·ç‹— &#x2F; é…·æˆ‘ ç­‰éŸ³æºã€‚</p><p>ä½¿ç”¨æ–¹æ³•ä¸€ï¼š<strong>BetterNCM æ’ä»¶</strong></p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/nondanee/UnblockNeteaseMusic">https://github.com/nondanee/UnblockNeteaseMusic</a></p><p>ä¸€é”®å®‰è£…ï¼š<a href="https://github.com/ReviveUnblockNCMInstaller/RevivedUnblockInstaller">https://github.com/ReviveUnblockNCMInstaller/RevivedUnblockInstaller</a></p><p>ä½¿ç”¨æ–¹æ³•äºŒï¼š<strong>ç‹¬ç«‹å®‰è£…åŒ…</strong></p><p>ç‹¬ç«‹æ’ä»¶åŒ…ä¸€é”®å®‰è£…ï¼Œå¯å‚è€ƒ 52pojie è®ºå›æ–‡ç« ï¼š<a href="https://www.52pojie.cn/thread-1664098-1-1.html">https://www.52pojie.cn/thread-1664098-1-1.html</a></p><h2 id="5ã€æœ¬åœ°æ’­æ”¾å™¨"><a href="#5ã€æœ¬åœ°æ’­æ”¾å™¨" class="headerlink" title="5ã€æœ¬åœ°æ’­æ”¾å™¨"></a>5ã€æœ¬åœ°æ’­æ”¾å™¨</h2><table><thead><tr><th align="left"><strong>â–¼ Win æ’­æ”¾å™¨</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸ“¥ <a href="https://github.com/clsid2/mpc-hc">MPC-HC</a></td><td align="left">çº¯ç¢çš„ã€å°å·§çš„ã€æè‡´å¿«é€Ÿçš„éŸ³ä¹æ’­æ”¾å™¨ï¼ŒMPC-HC çš„ Fork ç‰ˆæœ¬ã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="https://github.com/Aleksoid1978/MPC-BE">MPC-BE</a></td><td align="left">çº¯ç¢çš„ã€å°å·§çš„ã€æè‡´å¿«é€Ÿçš„çš„éŸ³ä¹æ’­æ”¾å™¨ï¼ŒMPC-HC çš„ BE ç‰ˆæœ¬ã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="https://www.foobar2000.org/">Foobar2000</a></td><td align="left">æ’ä»¶ä¸°å¯Œï¼Œæ”¯æŒé«˜åº¦å®šåˆ¶åŒ–çš„éŸ³ä¹æ’­æ”¾å™¨ï¼Œæ¨èé…ç½® <a href="https://github.com/dream7180/foobox-cn">Foobox</a>ã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="https://www.videolan.org/index.zh.html">VLC</a></td><td align="left">å¼€æºçš„å¤šåª’ä½“æ’­æ”¾å™¨ï¼Œæ”¯æŒå‡ ä¹æ‰€æœ‰éŸ³è§†é¢‘æ ¼å¼ï¼Œå…¨å¹³å°æ”¯æŒã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="http://www.aimp.ru/">AIMP</a></td><td align="left">æ¥è‡ªä¿„ç½—æ–¯çš„ä¸€æ¬¾å¤šåª’ä½“æ’­æ”¾å™¨ï¼ˆéå¼€æºï¼‰ï¼Œæ”¯æŒ Winã€å®‰å“ã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="https://www.winamp.com/">Winamp</a></td><td align="left">åŒ–çŸ³çº§æ’­æ”¾å™¨ï¼Œç°å·²é‡æ–°å›å½’ï¼Œå¹¶æ‹¥æœ‰äº†å…¨æ–°çš„è®¾è®¡ï¼Œä»…æ”¯æŒ Windowsã€‚</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>Mac æ’­æ”¾å™¨</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸ“¥ <a href="https://iina.io/">IINA</a></td><td align="left">å¯èƒ½æ˜¯ Mac æœ€å—æ¬¢è¿çš„å¤šåª’ä½“æ’­æ”¾å™¨ï¼Œå¼€æºå…è´¹ï¼Œç®€æ´ç¾è§‚ã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="https://www.foobar2000.org/">Foobar2000</a></td><td align="left">æ”¯æŒé«˜åº¦å®šåˆ¶åŒ–çš„éŸ³ä¹æ’­æ”¾å™¨ï¼Œç°åœ¨ä¹Ÿæ”¯æŒ Mac ç‰ˆæœ¬äº†ã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="https://github.com/ddddxxx/LyricsX">LyricsX</a></td><td align="left">Mac ä¸‹çš„æ­Œè¯è¾…åŠ©å·¥å…·ï¼Œæ”¯æŒæœç´¢å’Œæ»šåŠ¨æ˜¾ç¤ºæ­Œè¯ï¼Œæ”¯æŒæœ¬åœ°ä»»ä½•æ’­æ”¾å™¨ã€‚</td></tr></tbody></table><h2 id="6ã€æ— æŸéŸ³ä¹"><a href="#6ã€æ— æŸéŸ³ä¹" class="headerlink" title="6ã€æ— æŸéŸ³ä¹"></a>6ã€æ— æŸéŸ³ä¹</h2><p>ä¸‹é¢çš„è¿™äº›ç½‘ç«™å…è´¹å¹¶æä¾›äº†ä¸‹è½½ï¼Œä½†éƒ¨åˆ†éœ€è¦æ³¨å†Œã€æˆ–è€…å…³æ³¨å…¬ä¼—å·æ‰èƒ½ä¸‹è½½ã€‚</p><table><thead><tr><th align="left">â–¼ <strong>æ— æŸéŸ³ä¹</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://free-mp3-download.net/">Free MP3 Down</a></td><td align="left">å…ç™»é™†ã€ä¸‰ç§æ ¼å¼ ğŸ‘</td></tr><tr><td align="left">ğŸŒ <a href="https://xiageba.com/">ä¸‹æ­Œå§</a></td><td align="left">å…ç™»é™†ã€ç½‘ç›˜ä¸‹è½½ ğŸ‘</td></tr><tr><td align="left">ğŸŒ <a href="https://www.xmwav.com/">ç†ŠçŒ«æ— æŸéŸ³ä¹</a></td><td align="left">å…ç™»é™†ã€ç½‘ç›˜ä¸‹è½½</td></tr><tr><td align="left">ğŸŒ <a href="http://www.23ape.net/">23ape.net</a></td><td align="left">å…ç™»é™†ã€ç½‘ç›˜ä¸‹è½½</td></tr><tr><td align="left">ğŸŒ <a href="https://tieba.baidu.com/f?kw=%E6%97%A0%E6%8D%9F%E9%9F%B3%E4%B9%90">æ— æŸéŸ³ä¹å§</a></td><td align="left">å…ç™»é™†ã€ç½‘ç›˜ä¸‹è½½</td></tr><tr><td align="left">ğŸŒ <a href="https://mp3bst.com/">MP3BST</a></td><td align="left">å…ç™»é™†ã€åŸé€šç½‘ç›˜ä¸‹è½½</td></tr><tr><td align="left">ğŸŒ <a href="http://www.52wusun.com/">æˆ‘çˆ±æ— æŸéŸ³ä¹ç½‘</a></td><td align="left">å…ç™»é™†ã€åŸé€šç½‘ç›˜ä¸‹è½½</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>æ— æŸéŸ³ä¹ï¼ˆç™»é™†ï¼‰</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="https://www.hifini.com/">HiFiNi</a></td><td align="left">è¦ç™»é™†ã€ç½‘ç›˜ä¸‹è½½ã€‚ï¼ˆéœ€è¦æ³¨å†Œï¼Œç™»é™†åå³å¯æ— é™åˆ¶ä½¿ç”¨ã€‚ï¼‰</td></tr><tr><td align="left">ğŸŒ <a href="https://www.cdbao.net/">CDåŒ…éŸ³ä¹ç½‘</a></td><td align="left">è¦ç™»é™†ã€ç½‘ç›˜ä¸‹è½½</td></tr><tr><td align="left">ğŸŒ <a href="https://wusunyinyue.cn/">æ— æŸéŸ³ä¹ç½‘</a></td><td align="left">è¦ç™»é™†ã€ç½‘ç›˜ä¸‹è½½</td></tr><tr><td align="left">ğŸŒ <a href="http://www.ape-flac.com/">æ— æŸéŸ³ä¹</a></td><td align="left">è¦ç™»é™†ã€ç½‘ç›˜ä¸‹è½½</td></tr><tr><td align="left">ğŸŒ <a href="https://sacdr.net/">æ˜“éŸ³</a></td><td align="left">è¦ç™»é™†ã€ç½‘ç›˜ä¸‹è½½</td></tr><tr><td align="left">ğŸŒ <a href="https://www.onelai.cn/">ä¸‡ç±éŸ³ä¹</a></td><td align="left">è¦å…³æ³¨å…¬ä¼—å·ã€ç½‘ç›˜ä¸‹è½½</td></tr><tr><td align="left">ğŸŒ <a href="https://www.xlebbs.com/">äº«ä¹éŸ³ä¹è®ºå›</a></td><td align="left">è¦ç™»é™†ã€ç½‘ç›˜ä¸‹è½½ã€éƒ¨åˆ†æ”¶è´¹</td></tr><tr><td align="left">ğŸŒ <a href="https://www.dtshot.com/">DTshot</a></td><td align="left">è¦ç™»é™†ã€ç½‘ç›˜ä¸‹è½½ã€éƒ¨åˆ†æ”¶è´¹</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>æ— æŸèµ„æº</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸ“¥ èµ„æº 1</td><td align="left">ğŸ”— <a href="https://www.aliyundrive.com/s/fTHhCLg1J3W">æ´›é›ªéŸ³ä¹ 200T éŸ³ä¹å¤§åˆé›†</a>ã€ğŸ”— <a href="https://www.aliyundrive.com/s/xymEytGyymx/folder/6190bd57c147df52764f45f2b7d0157a2c95c220">2 ä¸‡é¦–éŸ³ä¹ MTV</a></td></tr><tr><td align="left">ğŸ“¥ èµ„æº 2</td><td align="left">ğŸ”— <a href="https://pan.quark.cn/s/f98de583cff9#/list/share">ç¾å›½ Billboard Top100</a>ã€ğŸ”— <a href="https://www.aliyundrive.com/s/7yE49zBCHr8">è€æ­Œçè— ä¸€äººä¸€é¦–æˆåæ›²</a></td></tr><tr><td align="left">ğŸ“¥ èµ„æº 3</td><td align="left">ğŸ”— <a href="https://cloud.189.cn/web/share?code=Jj2MravyQ7fe">è±†ç“£éŸ³ä¹Top250æ— æŸéŸ³ä¹</a>ã€ğŸ”— <a href="https://www.aliyundrive.com/s/kT6accQfFow">700G æ— æŸéŸ³ä¹</a></td></tr><tr><td align="left">ğŸ“¥ èµ„æº 4</td><td align="left">ğŸ”— <a href="https://www.aliyundrive.com/s/QNnwcyZJrTK">ä¸–ç•Œåæ›² 6CD</a>ã€ğŸ”— <a href="https://www.aliyundrive.com/s/Xyobrwvm7K1">ç­å¾—ç‘å…¨14å¼ ä¸“è¾‘</a></td></tr><tr><td align="left">ğŸ“¥ èµ„æº 5</td><td align="left">ğŸ”— <a href="https://www.aliyundrive.com/s/yK1tK7Y38mL">ä¸­å›½æˆæ›²å¤§å…¨mp3æ ¼å¼</a></td></tr><tr><td align="left">ğŸ“¥ èµ„æº 6</td><td align="left">ğŸ”— <a href="https://lvyueyang.github.io/web-music/">å‘¨æ°ä¼¦æ‰€æœ‰éŸ³ä¹åœ¨çº¿å¬</a>ã€ğŸ”— <a href="https://www.aliyundrive.com/s/VEoHM3CQrzy">å‘¨æ°ä¼¦å¼ ä¸“è¾‘æ— æŸçè—ç‰ˆ</a></td></tr><tr><td align="left">ğŸ“¥ èµ„æº 7</td><td align="left">ğŸ”— <a href="https://www.aliyundrive.com/s/Pkjzg69LXiG">é‚“ä¸½å›195é¦–æ— æŸ</a>ã€ğŸ”— <a href="https://www.aliyundrive.com/s/GYs3v6pg7N7">ä¹…çŸ³è®© 51å¼ ä¸“è¾‘æ— æŸ</a></td></tr></tbody></table><h2 id="7ã€ç™½å™ªéŸ³"><a href="#7ã€ç™½å™ªéŸ³" class="headerlink" title="7ã€ç™½å™ªéŸ³"></a>7ã€ç™½å™ªéŸ³</h2><table><thead><tr><th align="left">â–¼ <strong>ç™½å™ªéŸ³</strong></th><th align="left"><strong>ç®€ä»‹</strong></th></tr></thead><tbody><tr><td align="left">ğŸŒ <a href="https://raining.fm/">Raining FM</a></td><td align="left">ä¸‹é›¨éŸ³æ•ˆã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://rainyscope.com/">Rainyscope</a></td><td align="left">ä¸‹é›¨éŸ³æ•ˆã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.rainymood.com/">Rainy Mood</a></td><td align="left">ä¸‹é›¨éŸ³æ•ˆã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.tree.fm/">Tree.FM</a></td><td align="left">æ£®æ—éŸ³æ•ˆã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://earth.fm/">Earth.FM</a></td><td align="left">æ£®æ—éŸ³æ•ˆï¼Œå„åœ°é£æ™¯éƒ½æœ‰ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://virtocean.com/#">Virtual Ocean</a></td><td align="left">æµ·æ´‹éŸ³æ•ˆï¼Œå¯è‡ªå®šä¹‰æ··åˆã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://defonic.com/">Defonic</a></td><td align="left">è‡ªç„¶éŸ³æ•ˆï¼Œå¯è‡ªå®šä¹‰æ··åˆã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://asoftmurmur.com/">A Soft Murmur</a></td><td align="left">è‡ªç„¶éŸ³æ•ˆï¼Œå¯è‡ªå®šä¹‰æ··åˆã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.noisli.com/">Noisli</a></td><td align="left">è‡ªç„¶éŸ³æ•ˆï¼Œå¯è‡ªå®šä¹‰æ··åˆï¼Œéœ€è¦ç™»é™†ä½¿ç”¨ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://music.163.com/#/artist?id=22095">NSSJP</a></td><td align="left">è‡ªç„¶éŸ³æ•ˆï¼Œç½‘æ˜“äº‘éŸ³ä¹æ’­æ”¾ï¼Œæ—¥æœ¬è‡ªç„¶ä¹‹å£°åä¼šå‡ºå“ã€‚</td></tr><tr><td align="left">ğŸ“¥ <a href="https://github.com/jenius-apps/ambie">Ambie</a></td><td align="left">è‡ªç„¶éŸ³æ•ˆï¼Œä¸€æ¬¾æ’­æ”¾è‡ªç„¶å£°éŸ³çš„åº”ç”¨ç¨‹åºï¼Œä»…æ”¯æŒ Windowsã€‚</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>åœºæ™¯éŸ³æ•ˆ</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="https://soundofcolleagues.com/">SoundColleague</a></td><td align="left">å¤§å­¦æ•™å®¤åœºæ™¯ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://imisstheoffice.eu/">IMissTheOffice</a></td><td align="left">åŠå…¬å®¤åœºæ™¯ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://coffitivity.com/">Coffitivity</a></td><td align="left">å’–å•¡é¦†åœºæ™¯ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="http://imissmybar.com/">I Miss My Bar</a></td><td align="left">é…’å§åœºæ™¯ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.window-swap.com/">WindowSwap</a></td><td align="left">çª—å¤–åœºæ™¯ï¼Œéœ€è¦ç™»é™†ä½¿ç”¨ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.thisisathing.io/">This is a thing</a></td><td align="left">å†¥æƒ³éŸ³æ•ˆã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.calm.com/">Calm</a></td><td align="left">å†¥æƒ³å’Œç¡çœ éŸ³æ•ˆï¼Œä½†åªæœ‰â€œ<a href="https://www.calm.com/app/scenes">ç™½å™ªéŸ³</a>â€æ˜¯å…è´¹çš„ï¼Œéœ€è¦ç™»é™†ä½¿ç”¨ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://app.lofi.co/">Lofi.co</a></td><td align="left">ç”Ÿäº§åŠ›éŸ³æ•ˆï¼Œæä¾›å„ç§é«˜è´¨é‡åœºæ™¯ï¼Œä½†å…è´¹åªèƒ½ç”¨ 2 ä¸ªã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://tide.fm/zh_CN/">æ½®æ±</a></td><td align="left">ä¸»æ‰“è‡ªç„¶ï¼Œåœºæ™¯ï¼Œç¯å¢ƒéŸ³ä¹ï¼Œå†¥æƒ³éŸ³ä¹ç­‰ç»¼åˆæ€§ç½‘ç«™ï¼Œæ”¯æŒ APP å’Œæ‰©å±•ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.ppbzy.com/">æ³¡æ³¡ç™½å™ªéŸ³</a></td><td align="left">ä¸»æ‰“åœºæ™¯ç™½å™ªéŸ³ï¼Œå¯è‡ªå®šä¹‰æ··åˆã€‚</td></tr><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">â–¼ <strong>ç¯å¢ƒéŸ³ä¹</strong></td><td align="left"><strong>ç®€ä»‹</strong></td></tr><tr><td align="left">ğŸŒ <a href="https://mynoise.net/">myNoise</a></td><td align="left">ç¯å¢ƒéŸ³ä¹ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://kaizenflow.co/">Kaizen Flow</a></td><td align="left">å·¥ä½œéŸ³æ•ˆï¼ŒåŒæ—¶æ”¯æŒâ€œç•ªèŒ„æ—¶é’Ÿâ€ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.lofly.site/">Lofly</a></td><td align="left">ç¯å¢ƒéŸ³ä¹+ç™½å™ªéŸ³ï¼Œå¯è‡ªå®šä¹‰æ··åˆï¼ŒåŒæ—¶æ”¯æŒâ€œç•ªèŒ„æ—¶é’Ÿâ€ï¼Œ<strong>éœ€è¦é­”æ³•</strong>ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://melofi.app/">Melofi</a></td><td align="left">ç¯å¢ƒéŸ³ä¹ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://soundscape.world/">Soundscape</a></td><td align="left">ç¯å¢ƒéŸ³ä¹ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.lavaradio.com/milieumusic">LavaRadio</a></td><td align="left">é«˜å“è´¨æƒ…æ™¯é€ ä¹å¸ˆï¼Œä½¿ç”¨<a href="https://www.lavaradio.com/shopmusic">å®¢æˆ·ç«¯</a>ï¼ˆéŸ³ä¹å®½å¸¦ç‰ˆï¼‰ï¼ŒåŠŸèƒ½æ›´é½å…¨ã€‚ğŸ‘</td></tr><tr><td align="left">ğŸŒ <a href="https://www.lofi.cafe/">lofi.cafe</a></td><td align="left">ç¯å¢ƒéŸ³ä¹ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.jazzandrain.com/">JazzAndRain</a></td><td align="left">ç¯å¢ƒéŸ³ä¹ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://ambicular.com/index.html">Ambicular</a></td><td align="left">ç¯å¢ƒéŸ³ä¹ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.ambient-mixer.com/">Ambient Mixer</a></td><td align="left">ç¯å¢ƒéŸ³ä¹ã€‚</td></tr><tr><td align="left">ğŸŒ <a href="https://www.loungev.com/">Lounge V Studio</a></td><td align="left">æ”¾æ¾éŸ³ä¹+è‡ªç„¶éŸ³æ•ˆï¼Œè¿˜æœ‰ 4K è¶…æ¸…è§†é¢‘ï¼Œè¿™æ˜¯å®ƒçš„ <a href="https://www.youtube.com/@LoungeVstudio/videos">U2B é¢‘é“</a>ã€‚ğŸ‘</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™æ¨è </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç«™ </tag>
            
            <tag> éŸ³ä¹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å°ç¨‹åºthis.setDataç»™å¯¹è±¡</title>
      <link href="/2023/09/22/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8Fthis-setData%E7%BB%99%E5%AF%B9%E8%B1%A1/"/>
      <url>/2023/09/22/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8Fthis-setData%E7%BB%99%E5%AF%B9%E8%B1%A1/</url>
      
        <content type="html"><![CDATA[<ol><li><h2 id="å›ºå®šå±æ€§èµ‹å€¼"><a href="#å›ºå®šå±æ€§èµ‹å€¼" class="headerlink" title="å›ºå®šå±æ€§èµ‹å€¼"></a>å›ºå®šå±æ€§èµ‹å€¼</h2></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span> <span class="attr">bind:tap</span>=<span class="string">&quot;getUserProfile&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">van-image</span></span></span><br><span class="line"><span class="tag">        <span class="attr">round</span></span></span><br><span class="line"><span class="tag">        <span class="attr">width</span>=<span class="string">&quot;5rem&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">height</span>=<span class="string">&quot;5rem&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;userInfo.avatarUrl&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">                &#123;&#123;userInfo.username&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">view</span> <span class="attr">bind:tap</span>=<span class="string">&quot;edit&quot;</span>&gt;</span></span><br><span class="line">                ç¼–è¾‘èµ„æ–™</span><br><span class="line">                <span class="tag">&lt;<span class="name">van-icon</span> <span class="attr">name</span>=<span class="string">&quot;arrow&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">userInfo</span>:&#123;</span><br><span class="line">        <span class="attr">username</span>:<span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">class</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">stuNum</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">gender</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">avatarUrl</span>:<span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">getUserProfile</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    wx.<span class="title function_">getUserProfile</span>(&#123;</span><br><span class="line">      <span class="attr">desc</span>: <span class="string">&#x27;ç”¨äºå®Œå–„ä¸ªäººèµ„æ–™&#x27;</span>,</span><br><span class="line">      <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> name = res.<span class="property">userInfo</span>.<span class="property">nickName</span></span><br><span class="line">        <span class="keyword">const</span> <span class="title class_">Url</span> = res.<span class="property">userInfo</span>.<span class="property">avatarUrl</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">          <span class="attr">username</span>:name,</span><br><span class="line">          <span class="attr">avatarUrl</span>:<span class="title class_">Url</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™é¡µé¢ä¸Šæ˜¾ç¤ºçš„æ˜¯ ç©ºç™½</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20230922010958.png"></p><p>å½“æˆ‘ä»¬ä¿®æ”¹çš„æ—¶å€™æœ‰2ç§æ–¹æ¡ˆ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–¹æ¡ˆä¸€ æ•´ä½“èµ‹å€¼</span></span><br><span class="line"> </span><br><span class="line"><span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">formData</span>.<span class="property">title</span> = <span class="string">&#x27;china&#x27;</span>;</span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">    <span class="attr">userInfo</span>: res.<span class="property">userInfo</span>,</span><br><span class="line">&#125;)</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ–¹æ¡ˆäºŒ å•ä¸ªå±æ€§èµ‹å€¼</span></span><br><span class="line"><span class="keyword">const</span> name = res.<span class="property">userInfo</span>.<span class="property">nickName</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Url</span> = res.<span class="property">userInfo</span>.<span class="property">avatarUrl</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">    <span class="string">&#x27;userInfo.username&#x27;</span>:name,</span><br><span class="line">    <span class="string">&#x27;userInfo.avatarUrl&#x27;</span>:<span class="title class_">Url</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><hr><h2 id="2-åŠ¨æ€å±æ€§èµ‹å€¼"><a href="#2-åŠ¨æ€å±æ€§èµ‹å€¼" class="headerlink" title="2.åŠ¨æ€å±æ€§èµ‹å€¼"></a>2.åŠ¨æ€å±æ€§èµ‹å€¼</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;view wx:for=&quot;&#123;&#123;arr&#125;&#125;&quot; wx:for-item=&quot;item&quot; wx:key=&quot;*this&quot;&gt;&#123;&#123;item.title&#125;&#125;&lt;/view&gt;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">data</span>:&#123;</span><br><span class="line">    <span class="attr">arr</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">id</span>:<span class="number">1</span>,</span><br><span class="line">            <span class="attr">title</span>:<span class="string">&#x27;æ ‡é¢˜ä¸€&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">id</span>:<span class="number">2</span>,</span><br><span class="line">            <span class="attr">title</span>:<span class="string">&#x27;æ ‡é¢˜äºŒ&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹æ•°ç»„é‡Œå¯¹è±¡çš„å±æ€§</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">    <span class="string">`[arr[<span class="subst">$&#123;index&#125;</span>].title]`</span>:<span class="string">&#x27;china&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line">æˆ–</span><br><span class="line"><span class="keyword">let</span> name = <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">arr</span>[<span class="number">0</span>].<span class="property">title</span>;</span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">    [name]:<span class="string">&#x27;china&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>é€šè¿‡es6æ¨¡ç‰ˆå­—ç¬¦ä¸² &#96;&#96; çš„æ–¹å¼ key å¯ä»¥ä½œä¸ºå˜é‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;view&gt;&#123;&#123;formData.a0&#125;&#125;&lt;/view&gt;</span><br><span class="line">&lt;view&gt;&#123;&#123;formData.a1&#125;&#125;&lt;/view&gt;</span><br><span class="line">&lt;view&gt;&#123;&#123;formData.a2&#125;&#125;&lt;/view&gt;</span><br></pre></td></tr></table></figure><p>å¾ªç¯ä¿®æ”¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span> ; i&lt;<span class="number">2</span> ; i++)&#123;</span><br><span class="line">    <span class="keyword">let</span> name = <span class="string">`a<span class="subst">$&#123;i&#125;</span>`</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">        [name]:<span class="string">&#x27;c&#x27;</span>+i</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//æ˜¾ç¤ºç»“æœ</span></span><br><span class="line"><span class="attr">a0</span>:c0</span><br><span class="line"><span class="attr">a1</span>:c1</span><br><span class="line"><span class="attr">a2</span>:c2</span><br></pre></td></tr></table></figure><h2 id="3-åŒå‘æ•°æ®ç»‘å®š"><a href="#3-åŒå‘æ•°æ®ç»‘å®š" class="headerlink" title="3.åŒå‘æ•°æ®ç»‘å®š"></a>3.åŒå‘æ•°æ®ç»‘å®š</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;åç§°&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&#123;&#123;formData.title&#125;&#125;&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;onSubmit&quot;</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç»è¿‡å¤šæ¬¡å°è¯•æäº¤ è·å–åˆ°çš„formData.titleæ•°æ®ä¸ºç©ºï¼Œæ®è¯´åŠ ä¸Šmodel:valueä¼šç”Ÿæ•ˆï¼Œç„¶è€Œå¹¶æ²¡æœ‰ä»»ä½•æ•ˆæœï¼Œç”šè‡³ä¸€åº¦æ€€ç–‘äººç”Ÿï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ç¯‡å¸–å­è¯´ 2.9.3ä»¥ä¸Šç‰ˆæœ¬æ‰æ”¯æŒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wx.getSystemInfo(&#123;</span><br><span class="line">   success: function (res) &#123;</span><br><span class="line">        console.log(&#x27;è¯¥ç‰ˆæœ¬å·ä¸º: &#x27;,res.SDKVersion)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>&#x2F;&#x2F; è¾“å‡ºç»“æœ è¯¥ç‰ˆæœ¬å·ä¸º:  2.19.4</p><p>å¾ˆæ˜¾ç„¶ä¸æ”¯æŒ</p><p>ç½‘ä¸Šæœç´¢äº†ä¸€ç•ªï¼Œå¾®ä¿¡å°ç¨‹åºå±…ç„¶æ²¡æœ‰åŒå‘æ•°æ®ç»‘å®šï¼Œå¦‚æœæƒ³è¦åŠ¨æ€æ”¹å˜ data å€¼éœ€è¦ç”¨åˆ° bindinput æ–¹æ³•æ‹¿åˆ°è¾“å…¥çš„å€¼ï¼Œå†èµ‹å€¼ç»™dataï¼Œçœ‹åˆ°è¿™é‡Œæœ‰ç‚¹æ— è¯­ï¼Œæ—¢ç„¶æ‰¾åˆ°äº†æ–¹æ³•å°±å†™å§ã€‚</p><p>è€ƒè™‘åˆ°ä¸€ä¸ªé¡µé¢ä¸Šå¯èƒ½å­˜åœ¨å¤šä¸ªinputæ€»ä¸èƒ½æ¯ä¸ªéƒ½åŠ ä¸€ä¸ªbindinputæ–¹æ³•å§ï¼Œè¿™æ ·å¤ªé¸¡è‚‹çš„ï¼Œæœ‰æ²¡æœ‰åŠæ³•å†™ä¸€ä¸ªé€šç”¨çš„ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;å§“å&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&#123;&#123;formData.title&#125;&#125;&quot;</span> </span></span><br><span class="line"><span class="tag"><span class="attr">data-name</span>=<span class="string">&quot;title&quot;</span> <span class="attr">bindinput</span>=<span class="string">&quot;handleInput&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥&quot;</span> /&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;æ‰‹æœºå·ç &quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&#123;&#123;formData.phone&#125;&#125;&quot;</span> </span></span><br><span class="line"><span class="tag"><span class="attr">data-name</span>=<span class="string">&quot;phone&quot;</span> <span class="attr">bindinput</span>=<span class="string">&quot;handleInput&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å·ç &quot;</span> /&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;åœ°å€&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&#123;&#123;formData.address&#125;&#125;&quot;</span>  </span></span><br><span class="line"><span class="tag"><span class="attr">data-name</span>=<span class="string">&quot;address&quot;</span> <span class="attr">bindinput</span>=<span class="string">&quot;handleInput&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">data</span>:&#123;</span><br><span class="line">    <span class="attr">formData</span>:&#123;</span><br><span class="line">        <span class="attr">title</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">phone</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">address</span>:<span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥ç”¨data-å±æ€§è·å–æˆ‘å½“å‰éœ€è¦ä¿®æ”¹çš„keyï¼Œå†ç»“åˆä¸Šé¢åŠ¨æ€å˜é‡</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">handleInput</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> valueName = e.<span class="property">target</span>.<span class="property">dataset</span>.<span class="property">name</span>;</span><br><span class="line">    <span class="keyword">let</span> name = <span class="string">`formData.<span class="subst">$&#123;valueName&#125;</span>`</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      [name]:e.<span class="property">detail</span>.<span class="property">value</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¾®ä¿¡å°ç¨‹åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES6å¸¸ç”¨çŸ¥è¯†</title>
      <link href="/2023/09/14/js/ES6%E5%B8%B8%E7%94%A8%E7%9F%A5%E8%AF%86/"/>
      <url>/2023/09/14/js/ES6%E5%B8%B8%E7%94%A8%E7%9F%A5%E8%AF%86/</url>
      
        <content type="html"><![CDATA[<p><code>ECMAScript 6</code> (ç®€ç§° <code>ES6</code>) æ˜¯ <code>JavaScript</code> è¯­è¨€çš„ä¸‹ä¸€ä»£æ ‡å‡†</p><p><code>ECMAScript</code> çš„ææ¡ˆæµç¨‹</p><ul><li><code>Stage 0 - Strawman</code>ï¼ˆå±•ç¤ºé˜¶æ®µï¼‰</li><li><code>Stage 1 - Proposal</code>ï¼ˆå¾æ±‚æ„è§é˜¶æ®µï¼‰</li><li><code>Stage 2 - Draft</code>ï¼ˆè‰æ¡ˆé˜¶æ®µï¼‰</li><li><code>Stage 3 - Candidate</code>ï¼ˆå€™é€‰äººé˜¶æ®µï¼‰</li><li><code>Stage 4 - Finished</code>ï¼ˆå®šæ¡ˆé˜¶æ®µï¼‰</li></ul><p>ä¸€ä¸ªææ¡ˆåªè¦èƒ½è¿›å…¥ <code>Stage 2</code> å°±å·®ä¸å¤šè‚¯å®šä¼šåŒ…æ‹¬åœ¨ä»¥åçš„æ­£å¼æ ‡å‡†é‡Œé¢</p><p><a href="https://github.com/tc39/ecma262">ECMAScript å½“å‰çš„æ‰€æœ‰ææ¡ˆ</a></p><p>ES6 å’Œ ES2015 çš„åŒºåˆ«</p><p><code>ES2015</code> æ˜¯ä¸€ä¸ªå¹´ä»½æ ‡è®°ï¼Œè¡¨ç¤ºå½“å¹´å‘å¸ƒçš„ <code>ECMAScript</code> æ ‡å‡†çš„æ­£å¼ç‰ˆæœ¬ï¼Œå…¶å…¨ç§°ä¸ºã€Š<code>ECMAScript 2015</code> æ ‡å‡†ã€‹ï¼ˆç®€ç§° <code>ES2015</code>ï¼‰<br><code>ES6</code> æ˜¯ä¸€ä¸ªå†å²åè¯ä¹Ÿæ˜¯ä¸€ä¸ªæ³›æŒ‡ï¼Œå«ä¹‰æ˜¯ <code>5.1</code> ç‰ˆä»¥åçš„ <code>JavaScript</code> çš„ä¸‹ä¸€ä»£æ ‡å‡†ï¼Œæ¶µç›–äº† <code>ES2015ã€ES2016ã€ES2017 ES2018</code> ç­‰ç­‰</p><hr><h2 id="let-const"><a href="#let-const" class="headerlink" title="let const"></a>let const</h2><p><code>ES6</code> æ–°å¢äº† <strong><code>let</code></strong> å’Œ <strong><code>const</code></strong> å‘½ä»¤ï¼Œç”¨äºå£°æ˜å˜é‡ï¼Œå…¶å£°æ˜çš„å˜é‡åªåœ¨å£°æ˜æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆ</p><p>let const var çš„åŒºåˆ«</p><ul><li><code>var</code> å£°æ˜çš„å˜é‡ä¼šæå‡åˆ°ä½œç”¨åŸŸçš„é¡¶éƒ¨ï¼Œ<code>let const</code> ä¸å­˜åœ¨å˜é‡æå‡</li><li><code>var</code> å£°æ˜çš„å…¨å±€å˜é‡ä¼šè¢«æŒ‚è½½åˆ°å…¨å±€å¯¹è±¡ <code>window</code> ä¸Šï¼Œè€Œ <code>let const</code> ä¸ä¼š</li><li><code>var</code> å¯ä»¥å¯¹ä¸€ä¸ªå˜é‡è¿›è¡Œé‡å¤å£°æ˜ï¼Œè€Œ <code>let const</code> ä¸èƒ½é‡å¤å£°æ˜</li><li><code>var</code> å£°æ˜çš„å˜é‡ä½œç”¨åŸŸèŒƒå›´æ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œ<code>let const</code> å£°æ˜çš„å˜é‡ä½œç”¨åŸŸèŒƒå›´æ˜¯å—çº§ä½œç”¨åŸŸ</li><li><code>const</code>å£°æ˜çš„æ˜¯ä¸€ä¸ªåªè¯»çš„å¸¸é‡ï¼Œä¸€æ—¦å£°æ˜å¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜(å¿…é¡»å¯¹å˜é‡è¿›è¡Œåˆå§‹åŒ–)<ul><li>åŸºæœ¬ç±»å‹ä¿è¯å€¼ä¸å¯å˜</li><li>å¼•ç”¨ç±»å‹ä¿è¯å†…å­˜æŒ‡é’ˆä¸å¯å˜</li></ul></li></ul><h3 id="å˜é‡æå‡"><a href="#å˜é‡æå‡" class="headerlink" title="å˜é‡æå‡"></a>å˜é‡æå‡</h3><p>å˜é‡æå‡æ˜¯æŒ‡<strong>åœ¨ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ <code>var</code> å˜é‡å’Œå‡½æ•°å£°æ˜ä¼šåœ¨å®ƒä»¬è¢«å®é™…æ‰§è¡Œä¹‹å‰è¢«â€æå‡â€åˆ°å®ƒä»¬æ‰€åœ¨ä½œç”¨åŸŸçš„é¡¶éƒ¨</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// è¾“å‡º undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c) <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;var&#x27;</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="string">&#x27;let&#x27;</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="string">&#x27;const&#x27;</span></span><br></pre></td></tr></table></figure><p><a href="https://www.zhihu.com/question/535442142/answer/2510328090">ä¸ºä»€ä¹ˆ let å’Œ const ä¸å­˜åœ¨å˜é‡æå‡ï¼Ÿ - çŸ¥ä¹</a></p><p>å‡½æ•°å£°æ˜ä¼˜å…ˆäºå˜é‡å£°æ˜ï¼Œå‡½æ•°å£°æ˜ä¼šè¦†ç›–å˜é‡å£°æ˜</p><p>å˜é‡æå‡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* var å˜é‡å£°æ˜ */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;var&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* å‡½æ•°å£°æ˜ */</span></span><br><span class="line"><span class="title function_">fn</span>() <span class="comment">// function a() &#123; console.log(&#x27;fn&#x27;) &#125;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fn&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨åŒä¸€ä½œç”¨åŸŸå†…å­˜åœ¨åŒåçš„å‡½æ•°å£°æ˜å’Œ <code>var</code> å˜é‡å£°æ˜æ—¶<strong>å‡½æ•°å£°æ˜ä¼šè¦†ç›–å˜é‡å£°æ˜</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// function a() &#123; console.log(&#x27;fn&#x27;) &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;var&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fn&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æŒ‚è½½åˆ°å…¨å±€å¯¹è±¡"><a href="#æŒ‚è½½åˆ°å…¨å±€å¯¹è±¡" class="headerlink" title="æŒ‚è½½åˆ°å…¨å±€å¯¹è±¡"></a>æŒ‚è½½åˆ°å…¨å±€å¯¹è±¡</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;var&#x27;</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="string">&#x27;let&#x27;</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="string">&#x27;const&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">a</span>) <span class="comment">// è¾“å‡º var</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">b</span>) <span class="comment">// è¾“å‡º undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">c</span>) <span class="comment">// è¾“å‡º undefined</span></span><br></pre></td></tr></table></figure><h3 id="é‡å¤å£°æ˜"><a href="#é‡å¤å£°æ˜" class="headerlink" title="é‡å¤å£°æ˜"></a>é‡å¤å£°æ˜</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;var&#x27;</span></span><br><span class="line"><span class="keyword">var</span> a</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// è¾“å‡º var</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="string">&#x27;let&#x27;</span></span><br><span class="line"><span class="keyword">let</span> b <span class="comment">// æŠ¥é”™</span></span><br></pre></td></tr></table></figure><p>åŒä¸€ä½œç”¨åŸŸä¸‹letå’Œconstä¸èƒ½å£°æ˜åŒåå˜é‡ï¼Œè€Œvarå¯ä»¥</p><h3 id="ä½œç”¨åŸŸèŒƒå›´"><a href="#ä½œç”¨åŸŸèŒƒå›´" class="headerlink" title="ä½œç”¨åŸŸèŒƒå›´"></a>ä½œç”¨åŸŸèŒƒå›´</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="string">&#x27;var&#x27;</span></span><br><span class="line">    <span class="keyword">let</span> b = <span class="string">&#x27;let&#x27;</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="string">&#x27;const&#x27;</span></span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// è¾“å‡º var</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// è¾“å‡º let</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(c) <span class="comment">// è¾“å‡º const</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// è¾“å‡º var</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// æŠ¥é”™</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(c) <span class="comment">// æŠ¥é”™</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fn</span>()</span><br></pre></td></tr></table></figure><p>letå’Œconståªèƒ½åœ¨å—ä½œç”¨åŸŸé‡Œè®¿é—®</p><h3 id="const-å¸¸é‡å®šä¹‰"><a href="#const-å¸¸é‡å®šä¹‰" class="headerlink" title="const å¸¸é‡å®šä¹‰"></a>const å¸¸é‡å®šä¹‰</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">NAME</span> = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="variable constant_">NAME</span> = <span class="string">&#x27;strawberry2002&#x27;</span> <span class="comment">// æŠ¥é”™</span></span><br></pre></td></tr></table></figure><p>constå®šä¹‰å¸¸é‡ï¼Œè€Œä¸”ä¸èƒ½ä¿®æ”¹ï¼Œ<code>ä½†æ˜¯åœ¨å®šä¹‰çš„å¯¹è±¡æ—¶å¯¹è±¡å±æ€§å€¼å¯ä»¥æ”¹å˜</code></p><hr><h2 id="æ¨¡æ¿å­—ç¬¦ä¸²"><a href="#æ¨¡æ¿å­—ç¬¦ä¸²" class="headerlink" title="æ¨¡æ¿å­—ç¬¦ä¸²"></a>æ¨¡æ¿å­—ç¬¦ä¸²</h2><p>æ¨¡æ¿å­—ç¬¦ä¸² (template string) æ˜¯å¢å¼ºç‰ˆçš„å­—ç¬¦ä¸²ï¼Œç”¨åå¼•å·(<strong>&#96;</strong>)æ ‡è¯†ã€‚å®ƒå¯ä»¥å½“ä½œæ™®é€šå­—ç¬¦ä¸²ã€å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²æˆ–è€…åœ¨å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ã€å‡½æ•°è°ƒç”¨ä»¥åŠè¡¨è¾¾å¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">let</span> age = <span class="number">18</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ES5 æ‹¼æ¥å­—ç¬¦ä¸² */</span></span><br><span class="line"><span class="keyword">let</span> es5Str = <span class="string">&#x27;æˆ‘å«: &#x27;</span> + name + <span class="string">&#x27;ï¼Œæˆ‘çš„å¹´é¾„æ˜¯: &#x27;</span> + (age + <span class="number">1</span>) + <span class="string">&#x27; å²&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ES6 æ¨¡æ¿å­—ç¬¦ä¸² */</span></span><br><span class="line"><span class="keyword">let</span> es6Str = <span class="string">`æˆ‘å«: <span class="subst">$&#123;name&#125;</span>ï¼Œæˆ‘çš„å¹´é¾„æ˜¯: <span class="subst">$&#123;age + <span class="number">1</span>&#125;</span> å²`</span></span><br></pre></td></tr></table></figure><hr><h2 id="è§£æ„èµ‹å€¼"><a href="#è§£æ„èµ‹å€¼" class="headerlink" title="è§£æ„èµ‹å€¼"></a>è§£æ„èµ‹å€¼</h2><h3 id="è§£æ„å¯¹è±¡"><a href="#è§£æ„å¯¹è±¡" class="headerlink" title="è§£æ„å¯¹è±¡"></a>è§£æ„å¯¹è±¡</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;strawberry&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5 å†™æ³•</span></span><br><span class="line"><span class="keyword">const</span> name = obj.<span class="property">name</span></span><br><span class="line"><span class="keyword">const</span> age = obj.<span class="property">age</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ES6 è§£æ„å†™æ³• */</span></span><br><span class="line"><span class="keyword">const</span> &#123; name, age &#125; = obj</span><br><span class="line"><span class="comment">// é‡å‘½å</span></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">name</span>: myName &#125; = obj</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æŒ‡å®šé»˜è®¤å€¼ */</span></span><br><span class="line"><span class="keyword">const</span> &#123; x = <span class="number">1</span>, y = <span class="number">2</span> &#125; = &#123; <span class="attr">y</span>: <span class="literal">null</span> &#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x) <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y) <span class="comment">// null</span></span><br></pre></td></tr></table></figure><h3 id="è§£æ„æ•°ç»„"><a href="#è§£æ„æ•°ç»„" class="headerlink" title="è§£æ„æ•°ç»„"></a>è§£æ„æ•°ç»„</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;strawberry&#x27;</span>, <span class="number">18</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ES5 å†™æ³• */</span></span><br><span class="line"><span class="keyword">const</span> name = arr[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">const</span> age = arr[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ES6 è§£æ„å†™æ³• */</span></span><br><span class="line"><span class="keyword">const</span> [name, age] = arr</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="number">0</span>: name, <span class="number">1</span>: age &#125; = arr</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æŒ‡å®šé»˜è®¤å€¼ */</span></span><br><span class="line"><span class="keyword">const</span> [x = <span class="number">1</span>] = []</span><br><span class="line"><span class="keyword">const</span> [y = <span class="number">2</span>] = [<span class="literal">undefined</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x) <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y) <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [z = <span class="number">3</span>] = [<span class="literal">null</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(z) <span class="comment">// null</span></span><br></pre></td></tr></table></figure><h3 id="è§£æ„å­—ç¬¦ä¸²"><a href="#è§£æ„å­—ç¬¦ä¸²" class="headerlink" title="è§£æ„å­—ç¬¦ä¸²"></a>è§£æ„å­—ç¬¦ä¸²</h3><p>å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è§£æ„èµ‹å€¼ï¼Œå› ä¸ºå­—ç¬¦ä¸²è¢«è½¬æ¢æˆäº†ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [a, b, c] = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// m</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// a</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c) <span class="comment">// o</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* è§£æ„ length å±æ€§ */</span></span><br><span class="line"><span class="keyword">const</span> &#123; length &#125; = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(length) <span class="comment">// 6</span></span><br></pre></td></tr></table></figure><p>è§£æ„èµ‹å€¼æ³¨æ„ç‚¹</p><ul><li>è§£æ„æ•°ç»„å’Œå­—ç¬¦ä¸²æ—¶å˜é‡çš„å–å€¼ç”±å®ƒçš„ä½ç½®å†³å®š</li><li>è§£æ„å¯¹è±¡æ—¶å˜é‡å¿…é¡»ä¸å±æ€§åŒåï¼Œæ‰èƒ½å–åˆ°æ­£ç¡®çš„å€¼</li><li>å˜é‡åœ¨æ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„å€¼ï¼Œå¤šä½™çš„å˜é‡ä¼šè¢«èµ‹å€¼ä¸º <code>undefined</code></li><li>åœ¨æŒ‡å®šé»˜è®¤å€¼æ—¶ï¼Œåªæœ‰å±æ€§å€¼ä¸¥æ ¼ç­‰äº <code>undefined</code> æ‰ä¼šç”Ÿæ•ˆ</li><li>æ•°ç»„æœ¬è´¨æ˜¯ç‰¹æ®Šçš„å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥å¯¹æ•°ç»„è¿›è¡Œå¯¹è±¡å±æ€§çš„è§£æ„</li><li>è§£æ„æ•°å€¼å’Œå¸ƒå°”å€¼æ—¶ä¼šé€šè¿‡å…¶å¯¹åº”çš„åŒ…è£…å‡½æ•°å°†å…¶è½¬æ¢æˆå¯¹è±¡å†è§£æ„</li><li><code>undefined</code> å’Œ <code>null</code> æ— æ³•è½¬ä¸ºå¯¹è±¡ï¼Œåœ¨è§£æ„æ—¶ä¼šæŠ¥é”™</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; toString &#125; = <span class="number">123</span></span><br><span class="line">toString === <span class="title class_">Number</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; toString &#125; = <span class="literal">true</span></span><br><span class="line">toString === <span class="title class_">Boolean</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; x &#125; = <span class="literal">undefined</span> <span class="comment">// TypeError</span></span><br><span class="line"><span class="keyword">const</span> &#123; y &#125; = <span class="literal">null</span> <span class="comment">// TypeError</span></span><br></pre></td></tr></table></figure><hr><h2 id="å‡½æ•°çš„æ‰©å±•"><a href="#å‡½æ•°çš„æ‰©å±•" class="headerlink" title="å‡½æ•°çš„æ‰©å±•"></a>å‡½æ•°çš„æ‰©å±•</h2><h3 id="å‚æ•°é»˜è®¤å€¼"><a href="#å‚æ•°é»˜è®¤å€¼" class="headerlink" title="å‚æ•°é»˜è®¤å€¼"></a>å‚æ•°é»˜è®¤å€¼</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ES5 */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="comment">// å½“å‚æ•° y å¯¹åº”çš„å¸ƒå°”å€¼ä¸º false åˆ™è¯¥èµ‹å€¼ä¸èµ·ä½œç”¨</span></span><br><span class="line">  y = y || <span class="number">1</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(x + y)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">add</span>(<span class="number">10</span>) <span class="comment">// 11</span></span><br><span class="line"><span class="title function_">add</span>(<span class="number">10</span>, <span class="number">2</span>) <span class="comment">// 12</span></span><br><span class="line"><span class="title function_">add</span>(<span class="number">10</span>, <span class="number">0</span>) <span class="comment">// 11</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ES6 */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x, y = <span class="number">1</span></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(x + y)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">add</span>(<span class="number">10</span>) <span class="comment">// 11</span></span><br><span class="line"><span class="title function_">add</span>(<span class="number">10</span>, <span class="number">2</span>) <span class="comment">// 12</span></span><br><span class="line"><span class="title function_">add</span>(<span class="number">10</span>, <span class="number">0</span>) <span class="comment">// 10</span></span><br></pre></td></tr></table></figure><p>å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼</p><ul><li>å‚æ•°å˜é‡æ˜¯é»˜è®¤å£°æ˜çš„ä¸èƒ½ç”¨ <code>let</code>æˆ– <code>const</code> å†æ¬¡å£°æ˜ï¼Œå¦åˆ™ä¼šæŠ¥é”™</li><li>ä½¿ç”¨å‚æ•°é»˜è®¤å€¼æ—¶å‡½æ•°ä¸èƒ½æœ‰åŒåå‚æ•°</li><li>å‚æ•°é»˜è®¤å€¼çš„ä½ç½®åº”è¯¥æ˜¯å‡½æ•°çš„å°¾å‚æ•°</li></ul><h3 id="å‰©ä½™å‚æ•°-rest-å‚æ•°"><a href="#å‰©ä½™å‚æ•°-rest-å‚æ•°" class="headerlink" title="å‰©ä½™å‚æ•°(rest å‚æ•°)"></a>å‰©ä½™å‚æ•°(rest å‚æ•°)</h3><p><code>ES6</code> å¼•å…¥ <code>rest</code> å‚æ•°(å½¢å¼ä¸º <code>...å˜é‡å</code>) ç”¨äºè·å–å‡½æ•°çš„å‰©ä½™å‚æ•°(å¯ä»¥æ›¿æ¢ <code>arguments</code> å¯¹è±¡)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">name, ...params</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(name, params)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">log</span>(<span class="string">&#x27;strawberry&#x27;</span>, <span class="number">1</span>, <span class="number">2</span>) <span class="comment">// strawberry [1, 2]</span></span><br><span class="line"><span class="title function_">log</span>(<span class="string">&#x27;strawberry&#x27;</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) <span class="comment">// strawberry [1, 2, 3]</span></span><br></pre></td></tr></table></figure><p>å‰©ä½™å‚æ•°(rest å‚æ•°)</p><ul><li><code>rest</code> å‚æ•°æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œæ•°ç»„ç‰¹æœ‰çš„æ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨</li><li><code>rest</code> å‚æ•°ä¹‹åä¸èƒ½å†æœ‰å…¶ä»–å‚æ•°ï¼Œå¦åˆ™ä¼šæŠ¥é”™</li><li>å‡½æ•°çš„ <code>length</code> å±æ€§ï¼Œä¸åŒ…æ‹¬ <code>rest</code> å‚æ•°</li></ul><h3 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h3><p><code>ES6</code> å…è®¸ä½¿ç”¨<strong>ç®­å¤´</strong>(<code>=&gt;</code>)å®šä¹‰å‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸éœ€è¦å‚æ•°æ—¶ä½¿ç”¨ä¸€ä¸ªåœ†æ‹¬å·ä»£è¡¨å‚æ•°éƒ¨åˆ†</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">fn</span> = (<span class="params"></span>) =&gt; &#123;&#125;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">const</span> fn = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“å‡½æ•°ä½“åªæœ‰ return æ—¶</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">fn</span> = (<span class="params">value</span>) =&gt; value</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">const</span> fn = <span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«</strong></p><ul><li><code>this</code><ul><li>æ™®é€šå‡½æ•°<ul><li><code>this</code> æŒ‡å‘æ˜¯åŠ¨æ€çš„(å–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼)</li><li>å¯ä»¥ç”¨ <code>call apply bind</code> æ”¹å˜ <code>this</code> æŒ‡å‘</li></ul></li><li>ç®­å¤´å‡½æ•°<ul><li><code>this</code> æŒ‡å‘æ˜¯å›ºå®šçš„ï¼ŒæŒ‡å‘å®šä¹‰æ—¶ä¸Šå±‚ä½œç”¨åŸŸä¸­çš„ <code>this</code>(å®ƒæ²¡æœ‰è‡ªå·±çš„ <code>this</code>)</li><li><code>call apply bind</code> æ— æ³•æ”¹å˜ç®­å¤´å‡½æ•°çš„ <code>this</code> æŒ‡å‘(ä¸Šä¸‹æ–‡å€¼å§‹ç»ˆæŒ‰è¯æ³•è§£æ)</li><li>å…¨å±€ä½œç”¨åŸŸä¸‹ <code>this</code> æŒ‡å‘å…¨å±€å¯¹è±¡</li></ul></li></ul></li><li>ç®­å¤´å‡½æ•°ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°(ä¸èƒ½ä½¿ç”¨ <code>new</code> è¿ç®—ç¬¦ï¼Œå¦åˆ™ä¼šæŠ¥é”™)</li><li>ç®­å¤´å‡½æ•°çš„å‡½æ•°ä½“å†…ä¸å¯ä»¥ä½¿ç”¨<code>arguments super new.target</code></li><li>ç®­å¤´å‡½æ•°ä¸å¯ä»¥ä½¿ç”¨ yield å‘½ä»¤(ä¸èƒ½ç”¨ä½œ <code>Generator</code> å‡½æ•°)</li><li>åœ¨ <code>class</code> ä¸­ä½¿ç”¨ç®­å¤´å‡½æ•°å…¶ <code>this</code> ä¼šå’Œç±»å®ä¾‹è¿›è¡Œç»‘å®š</li></ul><p>æ³¨æ„ç‚¹(ä»¥ä¸‹åœºåˆä¸åº”è¯¥ä½¿ç”¨ç®­å¤´å‡½æ•°)</p><ul><li>å®šä¹‰å¯¹è±¡æ–¹æ³•ä¸”è¯¥æ–¹æ³•å†…éƒ¨åŒ…æ‹¬ <code>this</code> æ—¶</li><li>å®šä¹‰åŸå‹æ–¹æ³•ä¸”è¯¥æ–¹æ³•å†…éƒ¨åŒ…æ‹¬ <code>this</code> æ—¶</li><li>éœ€è¦åŠ¨æ€ <code>this</code> æ—¶</li></ul><p>[åˆ©ç”¨ <code>babel</code> ç¼–è¯‘ç®­å¤´å‡½æ•°ä»£ç æŸ¥çœ‹ <code>this</code> çš„æŒ‡å‘](<a href="https://www.babeljs.cn/repl#?browsers=defaults%2C">https://www.babeljs.cn/repl#?browsers=defaults%2C</a> not ie 11%2C not ie_mob 11&amp;build&#x3D;&amp;builtIns&#x3D;false&amp;corejs&#x3D;3.6&amp;spec&#x3D;false&amp;loose&#x3D;false&amp;code_lz&#x3D;MYewdgzgLgBANiA5jAvDAFASlQPhgbwCgYZRIQ4BTAOgUXQHI6YoALASwgC4GAaFjhEyEAvoUIAzAK5hgUduBgSwWAsRgRKUACrsAtpRBSo6VSjxESJMhAo06jZQM49-bTsJIj-ARgAMfsIiQA&amp;debug&#x3D;false&amp;forceAllTransforms&#x3D;true&amp;shippedProposals&#x3D;false&amp;circleciRepo&#x3D;&amp;evaluate&#x3D;false&amp;fileSize&#x3D;false&amp;timeTravel&#x3D;false&amp;sourceType&#x3D;script&amp;lineWrap&#x3D;true&amp;presets&#x3D;env%2Creact&amp;prettier&#x3D;false&amp;targets&#x3D;&amp;version&#x3D;7.17.11&amp;externalPlugins&#x3D;&amp;assumptions&#x3D;{})</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ES6 */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">log</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;log this:&#x27;</span>, <span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fn this:&#x27;</span>, <span class="variable language_">this</span>)</span><br><span class="line">  &#125;, <span class="number">100</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* babel ç¼–è¯‘åçš„ ES5 ä»£ç  */</span></span><br><span class="line"><span class="keyword">var</span> _this = <span class="variable language_">this</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> log = <span class="keyword">function</span> <span class="title function_">log</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;log this:&#x27;</span>, _this)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> _this2 = <span class="variable language_">this</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fn this:&#x27;</span>, _this2)</span><br><span class="line">  &#125;, <span class="number">100</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="æ‰©å±•è¿ç®—ç¬¦"><a href="#æ‰©å±•è¿ç®—ç¬¦" class="headerlink" title="æ‰©å±•è¿ç®—ç¬¦"></a>æ‰©å±•è¿ç®—ç¬¦</h2><p>æ‰©å±•è¿ç®—ç¬¦ (<code>spread</code>)æ˜¯ä¸‰ä¸ªç‚¹ (<code>...</code>) å®ƒå¥½æ¯” <code>rest</code> å‚æ•°çš„é€†è¿ç®—</p><ul><li>æ•°ç»„çš„æ‰©å±•è¿ç®—ç¬¦ä¼šå°†æ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—</li><li>å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦ä¼šå–å‡ºå‚æ•°å¯¹è±¡çš„æ‰€æœ‰å¯éå†å±æ€§ï¼Œæ‹·è´åˆ°å½“å‰å¯¹è±¡ä¹‹ä¸­</li></ul><h3 id="å‡½æ•°è°ƒç”¨"><a href="#å‡½æ•°è°ƒç”¨" class="headerlink" title="å‡½æ•°è°ƒç”¨"></a>å‡½æ•°è°ƒç”¨</h3><p>æ‰©å±•è¿ç®—ç¬¦åœ¨å‡½æ•°è°ƒç”¨æ—¶å¯ä»¥å°†ä¸€ä¸ªæ•°ç»„å˜ä¸ºå‚æ•°åºåˆ—ï¼Œä»è€Œå¯ä»¥æ›¿ä»£å‡½æ•°çš„ <code>apply()</code> æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸¾ä¸ª ğŸŒ° æ±‚å‡ºä¸€ä¸ªæ•°ç»„æœ€å¤§å…ƒç´ </span></span><br><span class="line"><span class="comment">/* ES5 å†™æ³• */</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="property">max</span>.<span class="title function_">apply</span>(<span class="literal">null</span>, [<span class="number">2022</span>, <span class="number">520</span>, <span class="number">1314</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ES6 å†™æ³• */</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">max</span>(...[<span class="number">2022</span>, <span class="number">520</span>, <span class="number">1314</span>])</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">2022</span>, <span class="number">520</span>, <span class="number">1314</span>)</span><br></pre></td></tr></table></figure><h3 id="æ‹·è´æ•°ç»„-å¯¹è±¡"><a href="#æ‹·è´æ•°ç»„-å¯¹è±¡" class="headerlink" title="æ‹·è´æ•°ç»„&#x2F;å¯¹è±¡"></a>æ‹·è´æ•°ç»„&#x2F;å¯¹è±¡</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ‹·è´æ•°ç»„ */</span></span><br><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="comment">// å†™æ³•ä¸€</span></span><br><span class="line"><span class="keyword">const</span> arr2 = [...arr1]</span><br><span class="line"><span class="comment">// å†™æ³•äºŒ</span></span><br><span class="line"><span class="keyword">const</span> [...arr2] = arr1</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ‹·è´å¯¹è±¡ */</span></span><br><span class="line"><span class="keyword">const</span> obj1 = &#123; <span class="attr">name</span>: <span class="string">&#x27;strawberry&#x27;</span> &#125;</span><br><span class="line"><span class="comment">// å†™æ³•ä¸€</span></span><br><span class="line"><span class="keyword">const</span> obj2 = &#123; ...obj1 &#125;</span><br><span class="line"><span class="comment">// å†™æ³•äºŒ</span></span><br><span class="line"><span class="keyword">const</span> &#123; ...obj2 &#125; = obj1</span><br></pre></td></tr></table></figure><h3 id="åˆå¹¶æ•°ç»„-å¯¹è±¡"><a href="#åˆå¹¶æ•°ç»„-å¯¹è±¡" class="headerlink" title="åˆå¹¶æ•°ç»„&#x2F;å¯¹è±¡"></a>åˆå¹¶æ•°ç»„&#x2F;å¯¹è±¡</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* åˆå¹¶æ•°ç»„ */</span></span><br><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> arr = [...arr1, ...arr2]</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆå¹¶å¯¹è±¡ */</span></span><br><span class="line"><span class="keyword">const</span> obj1 = &#123; <span class="attr">name</span>: <span class="string">&#x27;strawberry&#x27;</span> &#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123; <span class="attr">age</span>: <span class="number">18</span> &#125;</span><br><span class="line"><span class="keyword">const</span> obj = &#123; ...obj1, ...obj2 &#125;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨è¡¨è¾¾å¼"><a href="#ä½¿ç”¨è¡¨è¾¾å¼" class="headerlink" title="ä½¿ç”¨è¡¨è¾¾å¼"></a>ä½¿ç”¨è¡¨è¾¾å¼</h3><blockquote><p>å±•å¼€å¯¹è±¡</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  ...(<span class="literal">false</span> ? &#123; <span class="attr">a</span>: <span class="number">1</span> &#125; : &#123;&#125;),</span><br><span class="line">  <span class="attr">b</span>: <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &#123;b: 2&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  ...(<span class="literal">true</span> ? &#123; <span class="attr">a</span>: <span class="number">1</span> &#125; : &#123;&#125;),</span><br><span class="line">  <span class="attr">b</span>: <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &#123;a: 1, b: 2&#125;</span></span><br></pre></td></tr></table></figure><blockquote><p>å±•å¼€æ•°ç»„</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [...(<span class="literal">false</span> ? [<span class="number">1</span>] : []), <span class="number">2</span>]</span><br><span class="line"><span class="comment">// [2]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = [...(<span class="literal">true</span> ? [<span class="number">1</span>] : []), <span class="number">2</span>]</span><br><span class="line"><span class="comment">// [1, 2]</span></span><br></pre></td></tr></table></figure><h3 id="ä¸è§£æ„èµ‹å€¼ç»“åˆ"><a href="#ä¸è§£æ„èµ‹å€¼ç»“åˆ" class="headerlink" title="ä¸è§£æ„èµ‹å€¼ç»“åˆ"></a>ä¸è§£æ„èµ‹å€¼ç»“åˆ</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ES5 å†™æ³• */</span></span><br><span class="line"><span class="keyword">const</span> first = arr1[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">const</span> rest = arr1.<span class="title function_">slice</span>(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ES6 å†™æ³• */</span></span><br><span class="line"><span class="keyword">const</span> [first, ...rest] = arr1</span><br></pre></td></tr></table></figure><p>æ‰©å±•è¿ç®—ç¬¦</p><ul><li>ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦æ‹·è´æ•°ç»„æˆ–å¯¹è±¡æ—¶å…¶éƒ½æ˜¯<strong>æµ…æ‹·è´</strong></li><li>å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦ç­‰åŒäºä½¿ç”¨ <code>Object.assign()</code> æ–¹æ³•</li><li>åªæœ‰å‡½æ•°è°ƒç”¨æ—¶æ‰©å±•è¿ç®—ç¬¦æ‰å¯ä»¥æ”¾åœ¨åœ†æ‹¬å·ä¸­ï¼Œå¦åˆ™ä¼šæŠ¥é”™</li><li>æ‰©å±•è¿ç®—ç¬¦ç”¨äºèµ‹å€¼æ—¶åªèƒ½æ”¾åœ¨å‚æ•°çš„æœ€åä¸€ä½ï¼Œå¦åˆ™ä¼šæŠ¥é”™</li><li>åœ¨æ‰©å±•è¿ç®—ç¬¦å±•å¼€æ•°ç»„æ—¶ï¼Œå…¶å‚æ•°å¿…é¡»è¦æœ‰ <code>iterator</code> æ¥å£ï¼Œå¦åˆ™ä¼šæŠ¥é”™</li><li>åœ¨æ‰©å±•è¿ç®—ç¬¦å±•å¼€å¯¹è±¡æ—¶ï¼Œå…¶å‚æ•°å¦‚æœä¸æ˜¯å¯¹è±¡æ—¶ä¼šè‡ªåŠ¨è½¬ä¸ºå¯¹è±¡ï¼ˆè°ƒç”¨ <code>Object()</code>ï¼‰</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç­‰åŒäº &#123;...Object(1)&#125;</span></span><br><span class="line">&#123;...<span class="number">1</span>&#125; <span class="comment">// &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº &#123;...Object(true)&#125;</span></span><br><span class="line">&#123;...<span class="literal">true</span>&#125; <span class="comment">// &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº &#123;...Object(undefined)&#125;</span></span><br><span class="line">&#123;...<span class="literal">undefined</span>&#125; <span class="comment">// &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº &#123;...Object(null)&#125;</span></span><br><span class="line">&#123;...<span class="literal">null</span>&#125; <span class="comment">// &#123;&#125;</span></span><br></pre></td></tr></table></figure><hr><h2 id="æ•°ç»„çš„æ‰©å±•"><a href="#æ•°ç»„çš„æ‰©å±•" class="headerlink" title="æ•°ç»„çš„æ‰©å±•"></a>æ•°ç»„çš„æ‰©å±•</h2><h3 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a>Array.from()</h3><p><code>Array.from()</code> ç”¨äºå°†ä¸¤ç±»å¯¹è±¡è½¬ä¸ºçœŸæ­£çš„æ•°ç»„</p><ul><li>ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ (<code>array-like object</code>)<ul><li><code>DOM</code> æ“ä½œè¿”å›çš„ <code>NodeList</code></li><li><code>arguments</code> å¯¹è±¡</li></ul></li><li>å¯éå† (<code>iterable</code>) çš„å¯¹è±¡ (åŒ…æ‹¬ <code>ES6</code> æ–°å¢çš„æ•°æ®ç»“æ„ <code>Set</code> å’Œ <code>Map</code>)</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* array-like object è½¬æ•°ç»„ */</span></span><br><span class="line"><span class="keyword">const</span> arrayLike = &#123;</span><br><span class="line">  <span class="number">0</span>: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">  <span class="number">1</span>: <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">  <span class="number">2</span>: <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">  <span class="attr">length</span>: <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5 å†™æ³•</span></span><br><span class="line"><span class="keyword">var</span> arr1 = [].<span class="property">slice</span>.<span class="title function_">call</span>(arrayLike) <span class="comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6 å†™æ³•</span></span><br><span class="line"><span class="keyword">let</span> arr2 = <span class="title class_">Array</span>.<span class="title function_">from</span>(arrayLike) <span class="comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure><p>Array.from()</p><p><code>Array.from()</code> å¯ä»¥æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼Œä½œç”¨ç±»ä¼¼äºæ•°ç»„çš„<code>map()</code> ç”¨æ¥å¯¹æ¯ä¸ªå…ƒç´ è¿›è¡Œå¤„ç†ï¼Œå°†å¤„ç†åçš„å€¼æ”¾å…¥è¿”å›çš„æ•°ç»„</p><p>åœ¨å­—ç¬¦ä¸²è½¬ä¸ºæ•°ç»„æ—¶ <code>Array.from()</code> èƒ½æ­£ç¡®å¤„ç†å„ç§ <code>Unicode</code> å­—ç¬¦ï¼Œå¯ä»¥é¿å… <code>JavaScript</code> å°†å¤§äº <code>\uFFFF</code> çš„ <code>Unicode</code> å­—ç¬¦ç®—ä½œä¸¤ä¸ªå­—ç¬¦çš„ <code>bug</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;ğ ®·&#x27;</span>.<span class="property">length</span> <span class="comment">// 2</span></span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="string">&#x27;ğ ®·&#x27;</span>).<span class="property">length</span> <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;ğŸ‘ª&#x27;</span>.<span class="property">length</span> <span class="comment">// 2</span></span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="string">&#x27;ğŸ‘ª&#x27;</span>).<span class="property">length</span> <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><h3 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of()"></a>Array.of()</h3><p><code>Array.of()</code> ç”¨äºå°†ä¸€ç»„å€¼è½¬æ¢ä¸ºæ•°ç»„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="title function_">of</span>(<span class="number">3</span>, <span class="number">11</span>, <span class="number">8</span>) <span class="comment">// [3,11,8]</span></span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">of</span>(<span class="number">3</span>) <span class="comment">// [3]</span></span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">of</span>(<span class="number">3</span>).<span class="property">length</span> <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><p>Array.of()</p><p><code>Array.of()</code> æ–¹æ³•çš„ä¸»è¦ç›®çš„æ˜¯å¼¥è¡¥æ•°ç»„æ„é€ å‡½æ•° <code>Array()</code> çš„ä¸è¶³(å› ä¸ºå‚æ•°ä¸ªæ•°çš„ä¸åŒä¼šå¯¼è‡´<code>Array()</code>çš„è¡Œä¸ºæœ‰å·®å¼‚)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>() <span class="comment">// []</span></span><br><span class="line"><span class="title class_">Array</span>(<span class="number">3</span>) <span class="comment">// [, , ,]</span></span><br><span class="line"><span class="title class_">Array</span>(<span class="number">3</span>, <span class="number">11</span>, <span class="number">8</span>) <span class="comment">// [3, 11, 8]</span></span><br></pre></td></tr></table></figure><p><code>Array.of()</code> æ€»æ˜¯è¿”å›å‚æ•°å€¼ç»„æˆçš„æ•°ç»„ã€‚å¦‚æœæ²¡æœ‰å‚æ•°å°±è¿”å›ä¸€ä¸ªç©ºæ•°ç»„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Array.of() çš„æ¨¡æ‹Ÿå®ç° */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">ArrayOf</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> [].<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å®ä¾‹æ–¹æ³•-includes"><a href="#å®ä¾‹æ–¹æ³•-includes" class="headerlink" title="å®ä¾‹æ–¹æ³•: includes()"></a>å®ä¾‹æ–¹æ³•: includes()</h3><p><code>includes()</code> æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ç»™å®šçš„å€¼(<code>ES2016</code> å¼•å…¥)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="title class_">NaN</span>]</span><br><span class="line">arr.<span class="title function_">includes</span>(<span class="number">2</span>) <span class="comment">// true</span></span><br><span class="line">arr.<span class="title function_">includes</span>(<span class="number">4</span>) <span class="comment">// false</span></span><br><span class="line">arr.<span class="title function_">includes</span>(<span class="title class_">NaN</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>includes() å’Œ indexOf() çš„å¯¹æ¯”</p><p><code>indexOf()</code> ä¸å¤Ÿè¯­ä¹‰åŒ–ï¼Œå…¶å«ä¹‰æ˜¯æ‰¾åˆ°å‚æ•°å€¼çš„ç¬¬ä¸€ä¸ªå‡ºç°ä½ç½®ï¼Œæ‰€ä»¥è¦å»æ¯”è¾ƒæ˜¯å¦ä¸ç­‰äº <code>-1</code>ï¼Œè¡¨è¾¾èµ·æ¥ä¸å¤Ÿç›´è§‚<br><code>indexOf()</code> å†…éƒ¨ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ (<code>===</code>) è¿›è¡Œåˆ¤æ–­ï¼Œè¿™ä¼šå¯¼è‡´å¯¹ <code>NaN</code> çš„è¯¯åˆ¤</p><h3 id="å®ä¾‹æ–¹æ³•-find-å’Œ-findIndex"><a href="#å®ä¾‹æ–¹æ³•-find-å’Œ-findIndex" class="headerlink" title="å®ä¾‹æ–¹æ³•: find() å’Œ findIndex()"></a>å®ä¾‹æ–¹æ³•: find() å’Œ findIndex()</h3><p><code>find()</code> æ–¹æ³•ç”¨äºæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜ï¼Œå¦‚æœ<strong>æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æˆå‘˜åˆ™è¿”å› <code>undefined</code></strong></p><p><code>findIndex()</code> æ–¹æ³•ç”¨äºæ‰¾å‡ºç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°ç»„æˆå‘˜çš„ä½ç½®ï¼Œå¦‚æœ<strong>æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„æˆå‘˜åˆ™è¿”å› <code>-1</code></strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/* find() */</span></span><br><span class="line">arr.<span class="title function_">find</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item &gt; <span class="number">9</span>) <span class="comment">// 10</span></span><br><span class="line">arr.<span class="title function_">find</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item === <span class="number">9</span>) <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* findIndex() */</span></span><br><span class="line">arr.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item &gt; <span class="number">9</span>) <span class="comment">// 2</span></span><br><span class="line">arr.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item === <span class="number">9</span>) <span class="comment">// -1</span></span><br></pre></td></tr></table></figure><h3 id="å®ä¾‹æ–¹æ³•-at"><a href="#å®ä¾‹æ–¹æ³•-at" class="headerlink" title="å®ä¾‹æ–¹æ³•: at()"></a>å®ä¾‹æ–¹æ³•: at()</h3><p><code>at()</code> æ–¹æ³•æ¥å—ä¸€ä¸ªæ•´æ•°(æ”¯æŒè´Ÿæ•°)ä½œä¸ºå‚æ•°è¿”å›å¯¹åº”ä½ç½®çš„æˆå‘˜ï¼Œå¦‚æœ<strong>å‚æ•°ä½ç½®è¶…å‡ºäº†æ•°ç»„èŒƒå›´åˆ™è¿”å› <code>undefined</code></strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;strawberry&#x27;</span>, <span class="number">18</span>]</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">at</span>(<span class="number">0</span>) <span class="comment">// &#x27;strawberry&#x27;</span></span><br><span class="line">arr.<span class="title function_">at</span>(-<span class="number">1</span>) <span class="comment">// 18</span></span><br><span class="line">arr.<span class="title function_">at</span>(<span class="number">99</span>) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><h3 id="å®ä¾‹æ–¹æ³•-flat-å’Œ-flatMap"><a href="#å®ä¾‹æ–¹æ³•-flat-å’Œ-flatMap" class="headerlink" title="å®ä¾‹æ–¹æ³•: flat() å’Œ flatMap()"></a>å®ä¾‹æ–¹æ³•: flat() å’Œ flatMap()</h3><p><code>flat()</code> æ–¹æ³•ç”¨äºå°†åµŒå¥—çš„æ•°ç»„æ‹å¹³å˜æˆä¸€ç»´çš„æ•°ç»„ï¼Œè¯¥æ–¹æ³•<strong>è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ä¸æ”¹å˜åŸæ•°ç»„</strong></p><p><code>flatMap()</code> æ–¹æ³•ä¼šå…ˆå¯¹åŸæ•°ç»„çš„æ¯ä¸ªæˆå‘˜æ‰§è¡Œä¸€ä¸ªå‡½æ•°(ç›¸å½“äºæ‰§è¡Œ <code>Array.prototype.map()</code>) ç„¶åå¯¹è¿”å›å€¼ç»„æˆçš„æ•°ç»„æ‰§è¡Œ <code>flat()</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•<strong>è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ä¸æ”¹å˜åŸæ•°ç»„</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* flat() */</span></span><br><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>]]]</span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="number">1</span>, <span class="number">2</span>, , <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">arr1.<span class="title function_">flat</span>() <span class="comment">// [1, 2, 3, [4, 5]]</span></span><br><span class="line">arr1.<span class="title function_">flat</span>(<span class="number">2</span>) <span class="comment">// [1, 2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line">arr2.<span class="title function_">flat</span>() <span class="comment">// [1, 2, 4, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* flatMap() */</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">arr.<span class="title function_">flatMap</span>(<span class="function">(<span class="params">x</span>) =&gt;</span> [[x * <span class="number">2</span>]]) <span class="comment">// [[2], [4], [6], [8]]</span></span><br><span class="line"><span class="comment">// ç›¸å½“äº [[2, 4], [3, 6], [4, 8]].flat()</span></span><br></pre></td></tr></table></figure><p>flat() å’Œ flatMap() æ³¨æ„ç‚¹</p><ul><li><code>flat()</code> æ–¹æ³•é»˜è®¤åªä¼šæ‹‰å¹³ä¸€å±‚</li><li><code>flat()</code>æ–¹æ³•ä¼šè·³è¿‡åŸæ•°ç»„ä¸­çš„ç©ºä½</li><li><code>flatMap()</code> åªèƒ½å±•å¼€ä¸€å±‚æ•°ç»„</li></ul><hr><h2 id="å¯¹è±¡çš„æ‰©å±•"><a href="#å¯¹è±¡çš„æ‰©å±•" class="headerlink" title="å¯¹è±¡çš„æ‰©å±•"></a>å¯¹è±¡çš„æ‰©å±•</h2><h3 id="å±æ€§ç®€å†™"><a href="#å±æ€§ç®€å†™" class="headerlink" title="å±æ€§ç®€å†™"></a>å±æ€§ç®€å†™</h3><p><code>ES6</code> å…è®¸åœ¨å¤§æ‹¬å·é‡Œé¢ç›´æ¥å†™å…¥å˜é‡å’Œå‡½æ•°ä½œä¸ºå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å±æ€§ç®€å†™ */</span></span><br><span class="line"><span class="comment">// ES5 å†™æ³•</span></span><br><span class="line"><span class="keyword">const</span> key = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">key</span>: key &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6 å†™æ³•</span></span><br><span class="line"><span class="keyword">const</span> key = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123; key &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ–¹æ³•ç®€å†™ */</span></span><br><span class="line"><span class="comment">// ES5 å†™æ³•</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">log</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;strawberry&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6 å†™æ³•</span></span><br><span class="line"><span class="keyword">const</span> key = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="title function_">log</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å±æ€§ç®€å†™</p><p>ç®€å†™çš„å¯¹è±¡æ–¹æ³•ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°å¦åˆ™ä¼šæŠ¥é”™</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="title function_">f</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> obj.<span class="title function_">f</span>() <span class="comment">// æŠ¥é”™</span></span><br></pre></td></tr></table></figure><h3 id="å±æ€§åè¡¨è¾¾å¼"><a href="#å±æ€§åè¡¨è¾¾å¼" class="headerlink" title="å±æ€§åè¡¨è¾¾å¼"></a>å±æ€§åè¡¨è¾¾å¼</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰å±æ€§å</span></span><br><span class="line"><span class="keyword">const</span> key = <span class="string">&#x27;age&#x27;</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  [<span class="string">&#x27;name&#x27;</span> + <span class="number">1</span>]: <span class="string">&#x27;strawberry&#x27;</span>,</span><br><span class="line">  [key]: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰æ–¹æ³•å</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  [<span class="string">&#x27;log&#x27;</span> + <span class="string">&#x27;name&#x27;</span>]() &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;strawberry&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å±æ€§åè¡¨è¾¾å¼</p><p>å±æ€§åè¡¨è¾¾å¼ä¸å±æ€§ç®€å†™ä¸èƒ½åŒæ—¶ä½¿ç”¨å¦åˆ™ä¼šæŠ¥é”™</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="keyword">const</span> key = <span class="string">&#x27;name&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> obj = &#123; [key] &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡®</span></span><br><span class="line"><span class="keyword">const</span> key = <span class="string">&#x27;name&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> obj = &#123; [key]: <span class="string">&#x27;strawberry&#x27;</span>&#125;;</span><br></pre></td></tr></table></figure><p>å±æ€§åè¡¨è¾¾å¼å¦‚æœæ˜¯ä¸€ä¸ªå¯¹è±¡ä¼šè‡ªåŠ¨å°†å…¶è½¬ä¸ºå­—ç¬¦ä¸² <code>[object Object]</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> keyA = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">const</span> keyB = &#123; <span class="attr">b</span>: <span class="number">2</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  [keyA]: <span class="string">&#x27;valueA&#x27;</span>,</span><br><span class="line">  [keyB]: <span class="string">&#x27;valueB&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj) <span class="comment">// &#123;[object Object]: &#x27;valueB&#x27;&#125;</span></span><br></pre></td></tr></table></figure><h3 id="Object-is"><a href="#Object-is" class="headerlink" title="Object.is()"></a>Object.is()</h3><p><code>Object.is()</code> æ–¹æ³•ç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ä¸¥æ ¼ç›¸ç­‰ï¼Œä¸¥æ ¼æ¯”è¾ƒè¿ç®—ç¬¦ (<code>===</code>) çš„è¡Œä¸ºåŸºæœ¬ä¸€è‡´</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;key&#x27;</span>) <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(&#123;&#125;, &#123;&#125;) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>Object.is() ä¸ &#x3D;&#x3D;&#x3D; çš„ä¸åŒä¹‹å¤„ï¼š<code>+0 ä¸ç­‰äº -0</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* +0 ä¸ç­‰äº -0 */</span></span><br><span class="line">;+<span class="number">0</span> === -<span class="number">0</span> <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(+<span class="number">0</span>, -<span class="number">0</span>) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* NaN ç­‰äºè‡ªèº« */</span></span><br><span class="line"><span class="title class_">NaN</span> === <span class="title class_">NaN</span> <span class="comment">// false</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(<span class="title class_">NaN</span>, <span class="title class_">NaN</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h3 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign()"></a>Object.assign()</h3><p><code>Object.assign()</code> æ–¹æ³•ç”¨äºå¯¹è±¡çš„åˆå¹¶ï¼Œå°†æºå¯¹è±¡çš„æ‰€æœ‰å¯æšä¸¾å±æ€§å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›®æ ‡å¯¹è±¡åé¢çš„å‚æ•°éƒ½æ˜¯æºå¯¹è±¡ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> target = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">1</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> source1 = &#123; <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">2</span> &#125;</span><br><span class="line"><span class="keyword">const</span> source2 = &#123; <span class="attr">c</span>: <span class="number">3</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(target, source1, source2)</span><br></pre></td></tr></table></figure><h5 id="åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ä¼šç›´æ¥è¿”å›è¯¥å‚æ•°"><a href="#åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ä¼šç›´æ¥è¿”å›è¯¥å‚æ•°" class="headerlink" title="åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ä¼šç›´æ¥è¿”å›è¯¥å‚æ•°"></a>åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ä¼šç›´æ¥è¿”å›è¯¥å‚æ•°</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(obj) === obj <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h5 id="ä¼ å…¥å‚æ•°ä¸æ˜¯å¯¹è±¡æ—¶ä¼šå…ˆè½¬æˆå¯¹è±¡å†è¿”å›"><a href="#ä¼ å…¥å‚æ•°ä¸æ˜¯å¯¹è±¡æ—¶ä¼šå…ˆè½¬æˆå¯¹è±¡å†è¿”å›" class="headerlink" title="ä¼ å…¥å‚æ•°ä¸æ˜¯å¯¹è±¡æ—¶ä¼šå…ˆè½¬æˆå¯¹è±¡å†è¿”å›"></a>ä¼ å…¥å‚æ•°ä¸æ˜¯å¯¹è±¡æ—¶ä¼šå…ˆè½¬æˆå¯¹è±¡å†è¿”å›</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="number">1</span>) <span class="comment">// &quot;object&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="literal">true</span>) <span class="comment">// &quot;object&quot;</span></span><br></pre></td></tr></table></figure><h5 id="ä¼ å…¥éå¯¹è±¡ç±»å‹çš„åœºæ™¯"><a href="#ä¼ å…¥éå¯¹è±¡ç±»å‹çš„åœºæ™¯" class="headerlink" title="ä¼ å…¥éå¯¹è±¡ç±»å‹çš„åœºæ™¯"></a>ä¼ å…¥éå¯¹è±¡ç±»å‹çš„åœºæ™¯</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* undefined å’Œ null */</span></span><br><span class="line"><span class="comment">// é¦–ä½å‚æ•°æ—¶ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="literal">undefined</span>) <span class="comment">// TypeError</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="literal">null</span>) <span class="comment">// TypeError</span></span><br><span class="line"><span class="comment">// éé¦–ä½å‚æ•°æ—¶ä¼šå¿½ç•¥</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(obj, <span class="literal">undefined</span>) === obj <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(obj, <span class="literal">null</span>) === obj <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* éé¦–ä½å‚æ•°ä¸ºæ•°å€¼ å¸ƒå°”å€¼ å­—ç¬¦ä¸²æ—¶ */</span></span><br><span class="line"><span class="comment">// æ•°å€¼å’Œå¸ƒå°”å€¼ä¼šå¿½ç•¥</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(obj, <span class="number">1</span>, <span class="literal">true</span>) === obj <span class="comment">// true</span></span><br><span class="line"><span class="comment">// å­—ç¬¦ä¸²ä¼šä»¥å­—ç¬¦æ•°ç»„çš„å½¢å¼åšåˆå¹¶</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, <span class="string">&#x27;strawberry&#x27;</span>) <span class="comment">// &#123;0: &#x27;m&#x27;, 1: &#x27;a&#x27;, 2: &#x27;o&#x27;, 3: &#x27;m&#x27;, 4: &#x27;a&#x27;, 5: &#x27;o&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ•°ç»„ */</span></span><br><span class="line"><span class="comment">// å½“å‚æ•°éƒ½ä¸ºæ•°ç»„æ—¶</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]) <span class="comment">// [4, 5, 3]</span></span><br><span class="line"><span class="comment">// å½“é¦–ä½å‚æ•°ä¸ºå¯¹è±¡æ—¶ï¼Œåç»­å‚æ•°ä¸ºæ•°ç»„æ—¶</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123; <span class="attr">a</span>: <span class="number">1</span> &#125;, [<span class="number">1</span>, <span class="number">2</span>]) <span class="comment">// &#123;0: 1, 1: 2, a: 1&#125;</span></span><br></pre></td></tr></table></figure><h5 id="ä¼ å…¥æ•°ç»„æ—¶ä¼šæŠŠæ•°ç»„å½“å¯¹è±¡å¤„ç†"><a href="#ä¼ å…¥æ•°ç»„æ—¶ä¼šæŠŠæ•°ç»„å½“å¯¹è±¡å¤„ç†" class="headerlink" title="ä¼ å…¥æ•°ç»„æ—¶ä¼šæŠŠæ•°ç»„å½“å¯¹è±¡å¤„ç†"></a>ä¼ å…¥æ•°ç»„æ—¶ä¼šæŠŠæ•°ç»„å½“å¯¹è±¡å¤„ç†</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]) <span class="comment">// [4, 5, 3]</span></span><br></pre></td></tr></table></figure><p>Object.assign() æ€»ç»“å’Œåº”ç”¨åœºæ™¯</p><p>æ€»ç»“</p><ul><li><code>Object.assign()</code> æ˜¯<strong>æµ…æ‹·è´</strong>æ–¹æ³•</li><li>å­˜åœ¨åŒåå±æ€§æ—¶ï¼Œåé¢çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„å±æ€§</li><li>åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ä¼šç›´æ¥è¿”å›è¯¥å‚æ•°</li><li>ä¼ å…¥å‚æ•°ä¸æ˜¯å¯¹è±¡æ—¶ä¼šå…ˆè½¬æˆå¯¹è±¡å†è¿”å›</li><li>ä¼ å…¥ <code>undefined</code>å’Œ <code>null</code>æ—¶</li><li>å¦‚æœä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼šæŠ¥é”™ï¼ˆæ— æ³•è½¬æˆå¯¹è±¡ï¼‰</li><li>å¦‚æœä¸ä¸ºç¬¬ä¸€ä¸ªå‚æ•°æ—¶ä¼šè¢«å¿½ç•¥</li><li>ä¼ å…¥æ•°ç»„æ—¶ä¼šæŠŠæ•°ç»„å½“å¯¹è±¡å¤„ç†</li></ul><p>åº”ç”¨åœºæ™¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä¸ºå¯¹è±¡æ·»åŠ å±æ€§ */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="variable language_">this</span>, &#123; x, y &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä¸ºå¯¹è±¡æ·»åŠ æ–¹æ³• */</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>, &#123;</span><br><span class="line">  <span class="title function_">log</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ‹·è´å¯¹è±¡ */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">clone</span> = (<span class="params">origin</span>) =&gt; <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, origin)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆå¹¶å¤šä¸ªå¯¹è±¡ */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">merge</span> = (<span class="params">target, ...sources</span>) =&gt; <span class="title class_">Object</span>.<span class="title function_">assign</span>(target, ...sources)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä¸ºå±æ€§æŒ‡å®šé»˜è®¤å€¼ */</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">DEFAULTS</span> = &#123; <span class="attr">duration</span>: <span class="number">2000</span> &#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">toast</span>(<span class="params">options</span>) &#123;</span><br><span class="line">  options = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, <span class="variable constant_">DEFAULTS</span>, options)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">toast</span>(&#123; <span class="attr">content</span>: <span class="string">&#x27;æç¤º&#x27;</span> &#125;) <span class="comment">// &#123;duration: 2000, content: &#x27;æç¤º&#x27;&#125;</span></span><br></pre></td></tr></table></figure><h3 id="Object-keys-Object-value-Object-entries"><a href="#Object-keys-Object-value-Object-entries" class="headerlink" title="Object.keys() Object.value() Object.entries()"></a>Object.keys() Object.value() Object.entries()</h3><p><code>Object.keys()</code> æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶æˆå‘˜ä¸ºå‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†å±æ€§çš„é”®å(<code>ES5</code> å¼•å…¥)</p><p><code>Object.value()</code> æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶æˆå‘˜ä¸ºå‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†å±æ€§çš„é”®å€¼(<code>ES2017</code> å¼•å…¥)</p><p><code>Object.entries()</code> æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼ˆäºŒç»´æ•°ç»„ï¼‰ï¼Œå…¶æˆå‘˜ä¸ºå‚æ•°å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰å¯éå†å±æ€§çš„é”®å€¼å¯¹æ•°ç»„(<code>ES2017</code> å¼•å…¥)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">name</span>: <span class="string">&#x27;strawberry&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">keys</span>(obj) <span class="comment">// [&#x27;name&#x27;, &#x27;age&#x27;]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">values</span>(obj) <span class="comment">//  [&#x27;strawberry&#x27;, 18]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">entries</span>(obj) <span class="comment">// [[&#x27;name&#x27;, &#x27;strawberry&#x27;], [&#x27;age&#x27;, 18]]</span></span><br></pre></td></tr></table></figure><h3 id="Object-fromEntries"><a href="#Object-fromEntries" class="headerlink" title="Object.fromEntries()"></a>Object.fromEntries()</h3><p><code>Object.fromEntries()</code> æ–¹æ³•æ˜¯ <code>Object.entries()</code> çš„é€†æ“ä½œï¼Œç”¨äºå°†é”®å€¼å¯¹çš„æ•°æ®ç»“æ„è¿˜åŸä¸ºå¯¹è±¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">fromEntries</span>([[<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;strawberry&#x27;</span>]]) <span class="comment">// &#123;name: &#x27;strawberry&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Map è½¬å¯¹è±¡ */</span></span><br><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>([[<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;strawberry&#x27;</span>]])</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">fromEntries</span>(map) <span class="comment">// &#123;name: &#x27;strawberry&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* å°†æŸ¥è¯¢å­—ç¬¦ä¸²è½¬ä¸ºå¯¹è±¡ */</span></span><br><span class="line"><span class="keyword">const</span> params = <span class="string">&#x27;name=strawberry&amp;age=18&#x27;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">fromEntries</span>(<span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(params)) <span class="comment">// &#123;name: &#x27;strawberry&#x27;, age: &#x27;18&#x27;&#125;</span></span><br></pre></td></tr></table></figure><h3 id="å¯¹è±¡éå†æ–¹æ³•å¯¹æ¯”"><a href="#å¯¹è±¡éå†æ–¹æ³•å¯¹æ¯”" class="headerlink" title="å¯¹è±¡éå†æ–¹æ³•å¯¹æ¯”"></a>å¯¹è±¡éå†æ–¹æ³•å¯¹æ¯”</h3><table><thead><tr><th align="left">æ–¹æ³•å</th><th align="left">è¯´æ˜</th><th align="center">ç»§æ‰¿çš„åŸå‹å±æ€§</th><th align="center">ä¸å¯æšä¸¾å±æ€§</th><th align="center">Symbol å±æ€§</th><th align="center">è¿”å›å€¼</th></tr></thead><tbody><tr><td align="left">forâ€¦in</td><td align="left">éå†å¯¹è±¡è‡ªèº«å’Œç»§æ‰¿çš„æ‰€æœ‰å¯æšä¸¾å±æ€§(ä¸å« Symbol å±æ€§)</td><td align="center">âœ…</td><td align="center">âŒ</td><td align="center">âŒ</td><td align="center">key</td></tr><tr><td align="left">Object.keys</td><td align="left">éå†å¯¹è±¡è‡ªèº«æ‰€æœ‰å¯æšä¸¾å±æ€§(ä¸å« Symbol å±æ€§)</td><td align="center">âŒ</td><td align="center">âŒ</td><td align="center">âŒ</td><td align="center">[keyâ€¦]</td></tr><tr><td align="left">Object.getOwnPropertyNames</td><td align="left">éå†å¯¹è±¡è‡ªèº«æ‰€æœ‰å±æ€§(ä¸å« Symbol å±æ€§)</td><td align="center">âŒ</td><td align="center">âœ…</td><td align="center">âŒ</td><td align="center">[keyâ€¦]</td></tr><tr><td align="left">Object.getOwnPropertySymbols</td><td align="left">éå†å¯¹è±¡è‡ªèº«æ‰€æœ‰çš„ Symbol å±æ€§</td><td align="center">âŒ</td><td align="center">âœ…</td><td align="center">âœ…</td><td align="center">[keyâ€¦]</td></tr><tr><td align="left">Reflect.ownKeys</td><td align="left">éå†å¯¹è±¡è‡ªèº«æ‰€æœ‰çš„å±æ€§(åŒ…å«ä¸å¯æšä¸¾å’Œ Symbol å±æ€§)</td><td align="center">âŒ</td><td align="center">âœ…</td><td align="center">âœ…</td><td align="center">[keyâ€¦]</td></tr><tr><td align="left">Object.values</td><td align="left">éå†å¯¹è±¡è‡ªèº«æ‰€æœ‰å¯æšä¸¾å±æ€§(ä¸å« Symbol å±æ€§)</td><td align="center">âŒ</td><td align="center">âŒ</td><td align="center">âŒ</td><td align="center">[valueâ€¦]</td></tr><tr><td align="left">Object.entries</td><td align="left">éå†å¯¹è±¡è‡ªèº«æ‰€æœ‰å¯æšä¸¾å±æ€§(ä¸å« Symbol å±æ€§)</td><td align="center">âŒ</td><td align="center">âŒ</td><td align="center">âŒ</td><td align="center">[[key,value]â€¦]</td></tr></tbody></table><p>éå†é¡ºåº</p><p><code>ES5</code> æ²¡æœ‰è§„å®šéå†é¡ºåºï¼Œå…¶éå†é¡ºåºç”±æµè§ˆå™¨å‚å•†å®šä¹‰(å¯ä»¥ç®€å•ç†è§£ä¸ºæ— åºçš„)</p><p><code>ES6</code> ä¹‹åè§„å®šéå†é¡ºåºå°†æŒ‰å¦‚ä¸‹è§„åˆ™è¿›è¡Œ</p><ol><li>é¦–å…ˆéå†æ‰€æœ‰æ•°å€¼é”®ï¼ŒæŒ‰ç…§æ•°å€¼å‡åºæ’åˆ—ã€‚</li><li>å…¶æ¬¡éå†æ‰€æœ‰å­—ç¬¦ä¸²é”®ï¼ŒæŒ‰ç…§åŠ å…¥æ—¶é—´å‡åºæ’åˆ—ã€‚</li><li>æœ€åéå†æ‰€æœ‰ <code>Symbol</code> é”®ï¼ŒæŒ‰ç…§åŠ å…¥æ—¶é—´å‡åºæ’åˆ—ã€‚</li></ol><p><code>ES6</code> å†…éƒ¨å®šä¹‰äº† [<a href="https://262.ecma-international.org/11.0/#sec-ordinary-object-internal-methods-and-internal-slots-ownpropertykeys">[OwnPropertyKeys]]()</a> æ–¹æ³•å¯¹å±æ€§è¿›è¡Œåˆ†ç±»å’Œæ’åº</p><hr><h2 id="è¿ç®—ç¬¦çš„æ‰©å±•"><a href="#è¿ç®—ç¬¦çš„æ‰©å±•" class="headerlink" title="è¿ç®—ç¬¦çš„æ‰©å±•"></a>è¿ç®—ç¬¦çš„æ‰©å±•</h2><h3 id="å¯é€‰é“¾æ“ä½œç¬¦"><a href="#å¯é€‰é“¾æ“ä½œç¬¦" class="headerlink" title="?. å¯é€‰é“¾æ“ä½œç¬¦"></a>?. å¯é€‰é“¾æ“ä½œç¬¦</h3><p><a href="https://github.com/tc39/proposal-optional-chaining">ES2020</a> å¼•å…¥äº†å¯é€‰é“¾æ“ä½œç¬¦(åˆåé“¾åˆ¤æ–­è¿ç®—ç¬¦)ï¼Œå…¶å…è®¸æˆ‘ä»¬åœ¨è¯»å–å¯¹è±¡å†…éƒ¨çš„æŸä¸ªå±æ€§æ—¶ï¼Œä¸éœ€è¦åˆ¤æ–­å±æ€§çš„ä¸Šå±‚å¯¹è±¡æ˜¯å¦å­˜åœ¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯é€‰é“¾æ“ä½œç¬¦ä¹‹å‰çš„å†™æ³•</span></span><br><span class="line"><span class="keyword">const</span> firstName =</span><br><span class="line">  (message &amp;&amp; message.<span class="property">body</span> &amp;&amp; message.<span class="property">body</span>.<span class="property">user</span> &amp;&amp; message.<span class="property">body</span>.<span class="property">user</span>.<span class="property">firstName</span>) || <span class="string">&#x27;default&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯é€‰é“¾æ“ä½œç¬¦ç®€åŒ–å†™æ³•</span></span><br><span class="line"><span class="keyword">const</span> firstName = message?.<span class="property">body</span>?.<span class="property">user</span>?.<span class="property">firstName</span> || <span class="string">&#x27;default&#x27;</span></span><br></pre></td></tr></table></figure><p>å¯é€‰é“¾æ“ä½œç¬¦ <code>?.</code> çš„ä¸‰ç§å†™æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å±æ€§æ˜¯å¦å­˜åœ¨ */</span></span><br><span class="line">obj?.<span class="property">prop</span></span><br><span class="line">obj?.[expr]</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line">obj == <span class="literal">null</span> ? <span class="literal">undefined</span> : obj.<span class="property">prop</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* å‡½æ•°æˆ–å¯¹è±¡æ–¹æ³•æ˜¯å¦å­˜åœ¨ */</span></span><br><span class="line">func?.(...args)</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line">func == <span class="literal">null</span> ? <span class="literal">undefined</span> : <span class="title function_">func</span>()</span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹</p><ol><li>å¯é€‰é“¾æ“ä½œç¬¦ç›¸å½“äºä¸€ç§çŸ­è·¯æœºåˆ¶ï¼Œåªè¦ä¸æ»¡è¶³æ¡ä»¶å°±ä¸å†å¾€ä¸‹æ‰§è¡Œ</li><li>å½“æœ‰æ‹¬å·æ—¶ï¼Œå¯é€‰é“¾æ“ä½œç¬¦å¯¹åœ†æ‹¬å·å¤–éƒ¨æ²¡æœ‰å½±å“ï¼Œåªå¯¹åœ†æ‹¬å·å†…éƒ¨æœ‰å½±å“ã€‚</li><li>å³ä¾§ä¸å¾—ä¸ºåè¿›åˆ¶æ•°å€¼ã€‚ä¸ºäº†ä¿è¯å…¼å®¹ä»¥å‰çš„ä»£ç ï¼Œå…è®¸ <code>foo?.3:0</code> ä¼šè¢«è§£ææˆ <code>foo ? .3 : 0</code>ï¼Œå› æ­¤è§„å®šå¦‚æœ <code>?.</code> åé¢ç´§è·Ÿä¸€ä¸ªåè¿›åˆ¶æ•°å­—ï¼Œé‚£ä¹ˆ <code>?.</code> ä¸å†è¢«çœ‹æˆæ˜¯ä¸€ä¸ªå®Œæ•´çš„è¿ç®—ç¬¦ï¼Œè€Œä¼šæŒ‰ç…§ä¸‰å…ƒè¿ç®—ç¬¦è¿›è¡Œå¤„ç†ï¼Œå³å°æ•°ç‚¹ä¼šå½’å±äºåé¢çš„åè¿›åˆ¶æ•°å­—å½¢æˆä¸€ä¸ªå°æ•°ã€‚</li><li>ç¦æ­¢ä½¿ç”¨ä»¥ä¸‹å†™æ³•</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="keyword">new</span> a?.()</span><br><span class="line"><span class="keyword">new</span> a?.<span class="title function_">b</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å³ä¾§æœ‰æ¨¡æ¿å­—ç¬¦ä¸²</span></span><br><span class="line">a?.<span class="string">`&#123;b&#125;`</span></span><br><span class="line">a?.<span class="property">b</span><span class="string">`&#123;c&#125;`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å·¦ä¾§æ˜¯ super</span></span><br><span class="line"><span class="variable language_">super</span>?.()</span><br><span class="line"><span class="variable language_">super</span>?.<span class="property">foo</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨äºèµ‹å€¼è¿ç®—ç¬¦å·¦ä¾§</span></span><br><span class="line">a?.<span class="property">b</span> = c</span><br></pre></td></tr></table></figure><h3 id="ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦"><a href="#ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦" class="headerlink" title="?? ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦"></a>?? ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦</h3><p><a href="https://github.com/tc39/proposal-nullish-coalescing">ES2020</a> å¼•å…¥äº†ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼Œåªæœ‰è¿ç®—ç¬¦å·¦ä¾§çš„å€¼ä¸º <code>null</code> æˆ– <code>undefined</code> æ—¶æ‰ä¼šè¿”å›å³ä¾§çš„å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ?? è¿ç®—ç¬¦ */</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="number">0</span> ?? <span class="string">&#x27;strawberry&#x27;</span>         <span class="comment">// 0</span></span><br><span class="line"><span class="keyword">const</span> b = <span class="string">&#x27;&#x27;</span> ?? <span class="string">&#x27;strawberry&#x27;</span>        <span class="comment">// &#x27;&#x27;</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="literal">null</span> ?? <span class="string">&#x27;strawberry&#x27;</span>      <span class="comment">// &#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">const</span> d = <span class="literal">undefined</span> ?? <span class="string">&#x27;strawberry&#x27;</span> <span class="comment">// &#x27;strawberry&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* || è¿ç®—ç¬¦ */</span></span><br><span class="line"><span class="keyword">const</span> A = <span class="number">0</span> || <span class="string">&#x27;strawberry&#x27;</span>         <span class="comment">// &#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">const</span> B = <span class="string">&#x27;&#x27;</span> || <span class="string">&#x27;strawberry&#x27;</span>        <span class="comment">// &#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">const</span> C = <span class="literal">null</span> || <span class="string">&#x27;strawberry&#x27;</span>      <span class="comment">// &#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">const</span> D = <span class="literal">undefined</span> || <span class="string">&#x27;strawberry&#x27;</span> <span class="comment">// &#x27;strawberry&#x27;</span></span><br></pre></td></tr></table></figure><p>?? å’Œ || çš„åŒºåˆ«</p><ul><li><strong><code>??</code> è¿ç®—ç¬¦</strong>åªæœ‰å·¦ä¾§æ˜¯ <code>null</code> æˆ– <code>undefined</code>æ‰ä¼šè¿”å›å³ä¾§çš„å€¼</li><li><strong><code>||</code> è¿ç®—ç¬¦</strong>åªè¦å·¦ä¾§æ˜¯ <a href="https://notes.fe-mm.com/fe/javascript/conversions#toboolean">å‡å€¼</a> å°±ä¼šè¿”å›å³ä¾§çš„å€¼</li></ul><h3 id="é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦"><a href="#é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦"></a>é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦</h3><p><code>ES2021</code> å¼•äº†å…¥ä¸‰ä¸ªæ–°çš„é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦ï¼Œç”¨äºå°†é€»è¾‘è¿ç®—ç¬¦ä¸èµ‹å€¼è¿ç®—ç¬¦è¿›è¡Œç»“åˆ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æˆ–èµ‹å€¼è¿ç®—ç¬¦ */</span></span><br><span class="line">x ||= y</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line">x || (x = y)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä¸èµ‹å€¼è¿ç®—ç¬¦ */</span></span><br><span class="line">x &amp;&amp;= y</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line">x &amp;&amp; (x = y)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Null èµ‹å€¼è¿ç®—ç¬¦ */</span></span><br><span class="line">x ??= y</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line">x ?? (x = y)</span><br></pre></td></tr></table></figure><hr><h2 id="ESModule"><a href="#ESModule" class="headerlink" title="ESModule"></a>ESModule</h2><p><code>ESModule</code> æ˜¯ <code>ES6</code> åœ¨è¯­è¨€æ ‡å‡†çš„å±‚é¢ä¸Šå®ç°çš„æ¨¡å—åŠŸèƒ½ï¼Œå…¶è®¾è®¡æ€æƒ³æ˜¯å°½é‡çš„é™æ€åŒ–ï¼Œä½¿å¾—ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ä»¥åŠè¾“å…¥å’Œè¾“å‡ºçš„å˜é‡</p><ul><li><code>ESModule</code> æ˜¯ç¼–è¯‘æ—¶åŠ è½½ï¼Œä½¿é™æ€åˆ†ææˆä¸ºå¯èƒ½</li><li>æ¨¡å—å†…éƒ¨<strong>è‡ªåŠ¨ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼</strong></li><li>æ¨¡å—ä¸­çš„<strong>é¡¶å±‚ <code>this</code> æŒ‡å‘ <code>undefined</code></strong></li></ul><h3 id="export-å‘½ä»¤"><a href="#export-å‘½ä»¤" class="headerlink" title="export å‘½ä»¤"></a>export å‘½ä»¤</h3><p><code>export</code> å‘½ä»¤ç”¨äºè§„å®šæ¨¡å—çš„å¯¹å¤–æ¥å£</p><ul><li>ä¸€ä¸ªæ¨¡å—å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å†…éƒ¨çš„æ‰€æœ‰å˜é‡å¤–éƒ¨æ— æ³•è·å–ï¼Œå¦‚æœå¸Œæœ›å¤–éƒ¨å¯ä»¥è·å–å¿…é¡»ä½¿ç”¨ <code>export</code> å…³é”®å­—è¾“å‡ºè¯¥å˜é‡</li><li>é€šå¸¸æƒ…å†µä¸‹ <code>export</code> è¾“å‡ºçš„å˜é‡å°±æ˜¯æœ¬æ¥çš„åå­—ï¼Œä½†å¯ä»¥ä½¿ç”¨ <code>as</code> å…³é”®å­—é‡å‘½å</li><li><code>export</code> å‘½ä»¤è§„å®šçš„æ˜¯å¯¹å¤–çš„æ¥å£å…¶å¿…é¡»ä¸æ¨¡å—å†…éƒ¨çš„å˜é‡å»ºç«‹ä¸€ä¸€å¯¹åº”å…³ç³»</li><li><code>export</code> å‘½ä»¤è¾“å‡ºçš„æ¥å£ä¸å…¶å¯¹åº”çš„å€¼æ˜¯åŠ¨æ€ç»‘å®šå…³ç³»(å¯ä»¥å–åˆ°æ¨¡å—å†…éƒ¨å®æ—¶çš„å€¼)</li><li><code>export</code> å‘½ä»¤å¯ä»¥å‡ºç°åœ¨æ¨¡å—çš„ä»»ä½•ä½ç½®ï¼Œåªè¦å¤„äº<strong>æ¨¡å—é¡¶å±‚</strong>å°±å¯ä»¥(åœ¨å—çº§ä½œç”¨åŸŸå†…ä½¿ç”¨ä¼šæŠ¥é”™)</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// util.js</span></span><br><span class="line"><span class="comment">/* å•ä¸ªè¾“å‡º */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> name = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">log</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ç»Ÿä¸€è¾“å‡º */</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123; name, log &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä½¿ç”¨ as å…³é”®å­—é‡å‘½å */</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">export</span> &#123; name <span class="keyword">as</span> nickname &#125;</span><br></pre></td></tr></table></figure><h3 id="import-å‘½ä»¤"><a href="#import-å‘½ä»¤" class="headerlink" title="import å‘½ä»¤"></a>import å‘½ä»¤</h3><p><code>import</code> å‘½ä»¤ç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½(å˜é‡ã€å‡½æ•°ã€class ç­‰)</p><ul><li><p><code>import</code> å‘½ä»¤<strong>è¾“å…¥çš„å˜é‡éƒ½æ˜¯åªè¯»çš„</strong>(ç±»ä¼¼äºå¸¸é‡ï¼Œå³åŸºæœ¬ç±»å‹ä¸å¯é‡æ–°èµ‹å€¼ï¼Œå¼•ç”¨ç±»å‹å¯ä¿®æ”¹å±æ€§)</p></li><li><p><code>import</code>å‘½ä»¤å…·æœ‰æå‡æ•ˆæœï¼Œä¼šæå‡åˆ°æ•´ä¸ªæ¨¡å—çš„å¤´éƒ¨é¦–å…ˆæ‰§è¡Œ</p><ul><li><code>import</code> å‘½ä»¤æ˜¯ç¼–è¯‘é˜¶æ®µæ‰§è¡Œçš„</li><li>ä¸èƒ½ä½¿ç”¨è¡¨è¾¾å¼å’Œå˜é‡</li></ul></li><li><p>é‡å¤æ‰§è¡ŒåŒä¸€å¥ <code>import</code> å‘½ä»¤åªä¼šæ‰§è¡Œä¸€æ¬¡</p></li><li><p><code>import</code> åé¢çš„ <code>from</code> æŒ‡å®šæ¨¡å—æ–‡ä»¶çš„ä½ç½®ï¼Œå…¶å¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; name, log &#125; <span class="keyword">from</span> <span class="string">&#x27;./util&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä½¿ç”¨ as å…³é”®å­—é‡å‘½å */</span></span><br><span class="line"><span class="keyword">import</span> &#123; name <span class="keyword">as</span> nickname, log <span class="keyword">as</span> logName &#125; <span class="keyword">from</span> <span class="string">&#x27;./util&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ¨¡å—çš„æ•´ä½“åŠ è½½ */</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> util <span class="keyword">from</span> <span class="string">&#x27;./util&#x27;</span></span><br><span class="line">util.<span class="property">name</span> <span class="comment">// strawberry</span></span><br><span class="line">util.<span class="title function_">log</span>() <span class="comment">// strawberry</span></span><br></pre></td></tr></table></figure><h3 id="export-default-å‘½ä»¤"><a href="#export-default-å‘½ä»¤" class="headerlink" title="export default å‘½ä»¤"></a>export default å‘½ä»¤</h3><p><code>export default</code> å‘½ä»¤å¯ä»¥ä¸ºæ¨¡å—æŒ‡å®šé»˜è®¤è¾“å‡ºï¼Œæ˜¯<strong>å¯¹ <code>default</code> èµ‹å€¼çš„ç‰¹ä¾‹ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ç§èµ‹å€¼</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* è¾“å‡ºåŒ¿åå‡½æ•° */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;strawberry&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> log <span class="keyword">from</span> <span class="string">&#x27;./export-default&#x27;</span></span><br><span class="line"><span class="title function_">log</span>() <span class="comment">// &#x27;strawberry&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¾“å‡ºéåŒ¿åå‡½æ•° */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> fn <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;strawberry&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> log <span class="keyword">from</span> <span class="string">&#x27;./export-default&#x27;</span></span><br><span class="line"><span class="title function_">log</span>() <span class="comment">// &#x27;strawberry&#x27;</span></span><br></pre></td></tr></table></figure><p>export default å‘½ä»¤æ³¨æ„ç‚¹</p><ul><li>ä¸€ä¸ªæ¨¡å—åªèƒ½æœ‰ä¸€ä¸ªé»˜è®¤è¾“å‡º(<code>export default</code> å‘½ä»¤åªèƒ½ä½¿ç”¨ä¸€æ¬¡)</li><li><code>export default</code> å‘½ä»¤æœ¬è´¨ä¸Šæ˜¯è¾“å‡ºä¸€ä¸ªå«åš <code>default</code> çš„å˜é‡æˆ–æ–¹æ³•ï¼Œä½¿ç”¨æ—¶å¯ä»¥ä¸ºå®ƒå–ä»»æ„åå­—</li><li><code>export default</code> å‘½ä»¤åé¢æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¸èƒ½è·Ÿå˜é‡å£°æ˜è¯­å¥</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* é”™è¯¯ */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">const</span> a = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ­£ç¡® */</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> a;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›´æ¥è¾“å‡º</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="number">1</span> + <span class="number">2</span></span><br></pre></td></tr></table></figure><p>export å’Œ export default çš„åŒºåˆ«</p><ul><li><p><code>export &#123;&#125;</code> å¯¼å‡ºçš„éƒ½æ˜¯å¼•ç”¨</p></li><li><p><code>export default</code>å¯¼å‡ºçš„éƒ½æ˜¯å€¼è€Œä¸æ˜¯å¼•ç”¨</p><ul><li><code>export default</code> æ˜¯<strong>å¯¹ <code>default</code> èµ‹å€¼çš„ç‰¹ä¾‹ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ç§èµ‹å€¼</strong>ï¼ˆå³ <code>export default</code> åçš„è¯­å¥ä¼šè¢«è§†ä¸ºè¡¨è¾¾å¼ï¼‰æ‰€ä»¥æ‹¿åˆ°çš„æ˜¯å€¼è€Œä¸æ˜¯å¼•ç”¨</li><li><strong><code>export default function</code> æ˜¯ç‰¹ä¾‹ï¼Œå¯¼å‡ºçš„æ˜¯å¼•ç”¨</strong></li></ul></li><li><p><code>export &#123; thing as default &#125;</code> å†™æ³•ä¸ºå¼•ç”¨å¯¼å‡º</p></li><li><p>å¯¼å…¥æ—¶é™¤ <code>&#123;&#125; = await import()</code> å¤–å‡ä¸ºå¼•ç”¨</p></li></ul><h6 id="å¦‚ä½•ä¿è¯å¯¼å…¥éƒ½æ˜¯å¼•ç”¨ï¼Ÿ"><a href="#å¦‚ä½•ä¿è¯å¯¼å…¥éƒ½æ˜¯å¼•ç”¨ï¼Ÿ" class="headerlink" title="å¦‚ä½•ä¿è¯å¯¼å…¥éƒ½æ˜¯å¼•ç”¨ï¼Ÿ"></a>å¦‚ä½•ä¿è¯å¯¼å…¥éƒ½æ˜¯å¼•ç”¨ï¼Ÿ</h6><ul><li>ä¿è¯å¯¼å…¥æ€»æ˜¯å¼•ç”¨<ul><li>å°½é‡ä½¿ç”¨å‘½åå¯¼å…¥ï¼ˆä½¿ç”¨é™¤ <code>&#123;&#125; = await import()</code> å¤–çš„å†™æ³•ï¼‰</li><li>æ³¨æ„å‘½åå¯¼å‡ºçš„å†™æ³•</li><li>å°‘ç”¨é»˜è®¤å¯¼å‡º</li></ul></li><li>åšä¸åˆ°ä¸Šé¢çš„è¦æ±‚æ—¶å°½é‡æŠŠéœ€è¦ç»´æŒå¼•ç”¨çš„å˜é‡ä½¿ç”¨ <code>Object</code> å°è£…ï¼Œä¸è¦ä½¿ç”¨ç®€å•å˜é‡</li></ul><blockquote><p>ç›¸å…³æ–‡ç« </p><ul><li><a href="https://github.com/ascoders/weekly/blob/master/%E5%89%8D%E6%B2%BF%E6%8A%80%E6%9C%AF/204.%E7%B2%BE%E8%AF%BB%E3%80%8A%E9%BB%98%E8%AE%A4%E3%80%81%E5%91%BD%E5%90%8D%E5%AF%BC%E5%87%BA%E7%9A%84%E5%8C%BA%E5%88%AB%E3%80%8B.md">ç²¾è¯»ã€Šé»˜è®¤ã€å‘½åå¯¼å‡ºçš„åŒºåˆ«ã€‹</a></li><li><a href="https://jakearchibald.com/2021/export-default-thing-vs-thing-as-default/"><code>export default thing</code> is different to <code>export &#123; thing as default &#125;</code></a></li></ul></blockquote><h3 id="export-ä¸-import-çš„å¤åˆå†™æ³•"><a href="#export-ä¸-import-çš„å¤åˆå†™æ³•" class="headerlink" title="export ä¸ import çš„å¤åˆå†™æ³•"></a>export ä¸ import çš„å¤åˆå†™æ³•</h3><p>å¦‚æœåœ¨ä¸€ä¸ªæ¨¡å—ä¹‹ä¸­ï¼Œéœ€è¦å…ˆè¾“å…¥åè¾“å‡ºåŒä¸€ä¸ªæ¨¡å—ï¼Œ<code>import</code> å‘½ä»¤å¯ä»¥ä¸ <code>export</code> å‘½ä»¤å†™åœ¨ä¸€èµ·</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123; foo, bar &#125; <span class="keyword">from</span> <span class="string">&#x27;my_module&#x27;</span></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">import</span> &#123; foo, bar &#125; <span class="keyword">from</span> <span class="string">&#x27;my_module&#x27;</span></span><br><span class="line"><span class="keyword">export</span> &#123; foo, bar &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ¥å£æ”¹å */</span></span><br><span class="line"><span class="keyword">export</span> &#123; foo <span class="keyword">as</span> myFoo &#125; <span class="keyword">from</span> <span class="string">&#x27;my_module&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ•´ä½“è¾“å‡º */</span></span><br><span class="line"><span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">&#x27;my_module&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* å…·åæ¥å£æ”¹ä¸ºé»˜è®¤æ¥å£ */</span></span><br><span class="line"><span class="keyword">export</span> &#123; es6 <span class="keyword">as</span> <span class="keyword">default</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;my_module&#x27;</span>;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">import</span> &#123; es6 &#125; <span class="keyword">from</span> <span class="string">&#x27;my_module&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> es6;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* é»˜è®¤æ¥å£æ”¹ä¸ºå…·åæ¥å£ */</span></span><br><span class="line"><span class="keyword">export</span> &#123; <span class="keyword">default</span> <span class="keyword">as</span> es6 &#125; <span class="keyword">from</span> <span class="string">&#x27;my_module&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ•´ä½“åŠ è½½ */</span></span><br><span class="line"><span class="keyword">export</span> * <span class="keyword">as</span> util <span class="keyword">from</span> <span class="string">&quot;util&quot;</span>;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> util <span class="keyword">from</span> <span class="string">&quot;util&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> &#123;util&#125;;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹</p><p>åœ¨ <code>export</code> ä¸ <code>import</code> çš„å¤åˆå†™æ³•æ—¶ï¼Œè¾“å…¥çš„æ¥å£ä¸èƒ½åœ¨å½“å‰æ¨¡å—ä¸­ä½¿ç”¨ï¼Œåªæ˜¯ç›¸å½“äºå¯¹å¤–è½¬å‘äº†æ¥å£</p><h3 id="import"><a href="#import" class="headerlink" title="import()"></a>import()</h3><p><a href="https://github.com/tc39/proposal-dynamic-import">ES2020</a> å¼•å…¥ <code>import()</code> å‡½æ•°æ”¯æŒåŠ¨æ€åŠ è½½æ¨¡å—</p><ul><li><code>import()</code> å‡½æ•°å¯ä»¥ç”¨åœ¨ä»»ä½•åœ°æ–¹ï¼Œä¸ä»…ä»…æ˜¯æ¨¡å—éæ¨¡å—çš„è„šæœ¬ä¹Ÿå¯ä»¥ä½¿ç”¨</li><li><code>import()</code> å‡½æ•°æ˜¯è¿è¡Œæ—¶æ‰§è¡Œ</li><li><code>import()</code> å‡½æ•°ä¸æ‰€åŠ è½½çš„æ¨¡å—æ²¡æœ‰é™æ€è¿æ¥å…³ç³»</li><li><code>import()</code> å‡½æ•°ç±»ä¼¼äº <code>Node.js</code> ä¸­çš„ <code>require()</code> å‡½æ•°ï¼ŒåŒºåˆ«ä¸»è¦æ˜¯å‰è€…æ˜¯å¼‚æ­¥åŠ è½½åè€…æ˜¯åŒæ­¥åŠ è½½</li><li><code>import()</code> å‡½æ•°çš„è¿”å›å€¼æ˜¯ <code>Promise</code> å¯¹è±¡</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(<span class="string">&#x27;./dialogBox.js&#x27;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">dialogBox</span>) =&gt;</span> &#123;</span><br><span class="line">    dialogBox.<span class="title function_">open</span>()</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">/* Error handling */</span></span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><p>import() å‡½æ•°çš„ä½¿ç”¨åœºæ™¯</p><ul><li>æŒ‰éœ€åŠ è½½</li><li>æ¡ä»¶åŠ è½½</li><li>åŠ¨æ€çš„æ¨¡å—è·¯å¾„</li></ul><h3 id="æµè§ˆå™¨å¯¹-ESModule-çš„åŠ è½½è§„åˆ™"><a href="#æµè§ˆå™¨å¯¹-ESModule-çš„åŠ è½½è§„åˆ™" class="headerlink" title="æµè§ˆå™¨å¯¹ ESModule çš„åŠ è½½è§„åˆ™"></a>æµè§ˆå™¨å¯¹ ESModule çš„åŠ è½½è§„åˆ™</h3><p>æµè§ˆå™¨åŠ è½½ <code>ESModule</code> åŒæ ·ä½¿ç”¨ <code>&lt;script&gt;</code> æ ‡ç­¾ä½†æ˜¯éœ€è¦è®¾ç½® <code>type=&quot;module</code>â€œ å±æ€§<br>æµè§ˆå™¨å¯¹äºå¸¦æœ‰ <code>type=&quot;module&quot;</code> çš„ <code>&lt;script&gt;</code>éƒ½æ˜¯å¼‚æ­¥åŠ è½½ï¼Œä¸ä¼šå µå¡æµè§ˆå™¨ï¼Œå³ç­‰åˆ°æ•´ä¸ªé¡µé¢æ¸²æŸ“å®Œå†æ‰§è¡Œæ¨¡å—è„šæœ¬ï¼Œç­‰åŒäºè®¾ç½®äº† <code>&lt;script&gt;</code> æ ‡ç­¾çš„ <code>defer</code> å±æ€§<br>æœ‰å¤šä¸ª <code>&lt;script type=&quot;module&quot;&gt;</code> æ—¶ä¼šæŒ‰ç…§åœ¨é¡µé¢å‡ºç°çš„é¡ºåºä¾æ¬¡æ‰§è¡Œ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./util.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ç­‰åŒäº --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./util.js&quot;</span> <span class="attr">defer</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å½“ <code>&lt;script&gt;</code> åŒæ—¶è®¾ç½®äº† <code>type=&quot;module&quot;</code> å’Œ <code>async</code> å±æ€§æ—¶ï¼Œåªè¦åŠ è½½å®Œæˆæ¸²æŸ“å¼•æ“å°±ä¼šä¸­æ–­æ¸²æŸ“ç«‹å³æ‰§è¡Œï¼Œç­‰æ‰§è¡Œå®Œæˆåå†æ¢å¤æ¸²æŸ“ï¼Œå³ä¸ä¼šæŒ‰ç…§åœ¨é¡µé¢å‡ºç°çš„é¡ºåºæ‰§è¡Œï¼Œè€Œæ˜¯åªè¦è¯¥æ¨¡å—åŠ è½½å®Œæˆå°±æ‰§è¡Œè¯¥æ¨¡å—</p><h4 id="åœ¨-script-ä¸­ä½¿ç”¨-ESModule"><a href="#åœ¨-script-ä¸­ä½¿ç”¨-ESModule" class="headerlink" title="åœ¨ script ä¸­ä½¿ç”¨ ESModule"></a>åœ¨ script ä¸­ä½¿ç”¨ ESModule</h4><p><code>ESModule</code> å†…åµŒåœ¨ç½‘é¡µä¸­ä½¿ç”¨æ—¶è¯­æ³•è¡Œä¸ºä¸åŠ è½½å¤–éƒ¨è„šæœ¬å®Œå…¨ä¸€è‡´ï¼Œåªéœ€æ³¨æ„ä»¥ä¸‹å‡ ç‚¹</p><ul><li>ä»£ç æ˜¯åœ¨æ¨¡å—ä½œç”¨åŸŸä¹‹ä¸­è¿è¡Œè€Œä¸æ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸè¿è¡Œï¼Œæ¨¡å—å†…éƒ¨çš„é¡¶å±‚å˜é‡å¤–éƒ¨ä¸å¯è§</li><li>è‡ªåŠ¨é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼ä¸ç®¡æœ‰æ²¡æœ‰å£°æ˜ <code>use strict</code></li><li>å¯ä»¥ä½¿ç”¨ <code>import</code> å‘½ä»¤åŠ è½½å…¶ä»–æ¨¡å—(<code>.js</code> åç¼€ä¸å¯çœç•¥ï¼Œéœ€è¦æä¾›ç»å¯¹ <code>URL</code> æˆ–ç›¸å¯¹ <code>URL</code>) ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>export</code> å‘½ä»¤è¾“å‡ºå¯¹å¤–æ¥å£</li><li>é¡¶å±‚çš„ <code>this</code> å…³é”®å­—è¿”å› <code>undefined</code> è€Œä¸æ˜¯æŒ‡å‘ <code>window</code></li><li>åŒä¸€ä¸ªæ¨¡å—å¦‚æœåŠ è½½å¤šæ¬¡å°†åªæ‰§è¡Œä¸€æ¬¡</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">&#x27;./jquery/src/jquery.js&#x27;</span></span></span><br><span class="line"><span class="language-javascript">  $(<span class="string">&#x27;#message&#x27;</span>).<span class="title function_">text</span>(<span class="string">&#x27;Hi from jQuery!&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å°æŠ€å·§</p><p>åˆ©ç”¨é¡¶å±‚çš„ <code>this</code> ç­‰äº <code>undefined</code> è¿™ä¸ªè¯­æ³•ç‚¹å¯ä»¥åˆ¤æ–­å½“å‰ä»£ç æ˜¯å¦åœ¨ ES6 æ¨¡å—ä¹‹ä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isNotModuleScript = <span class="variable language_">this</span> !== <span class="literal">undefined</span></span><br></pre></td></tr></table></figure><hr><h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><p><code>Promise</code> æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆ(å›è°ƒå‡½æ•°å’Œäº‹ä»¶)æ›´åˆç†å’Œæ›´å¼ºå¤§</p><p><code>Promise</code> å¯¹è±¡å…·æœ‰ä»¥ä¸‹ <code>3</code> ç§çŠ¶æ€</p><ul><li><code>pending</code> ç­‰å¾…(åˆå§‹)</li><li><code>fulfilled</code> æˆåŠŸ</li><li><code>rejected</code> æ‹’ç»</li></ul><p>Promise çš„ç‰¹ç‚¹</p><ul><li><code>Promise</code> å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“</li><li>çŠ¶æ€ä¸€æ—¦æ”¹å˜å°±ä¸ä¼šå†å˜(ä¸å¯é€†)ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœ</li><li>æ— æ³•å–æ¶ˆ <code>Promise</code>ï¼Œä¸€æ—¦æ–°å»ºå°±ä¼šç«‹å³æ‰§è¡Œæ— æ³•ä¸­é€”å–æ¶ˆ</li><li>å½“å¤„äº <code>pending</code> çŠ¶æ€æ—¶ï¼Œæ— æ³•å¾—çŸ¥ç›®å‰è¿›å±•åˆ°å“ªä¸€ä¸ªé˜¶æ®µ(åˆšåˆšå¼€å§‹è¿˜æ˜¯å³å°†å®Œæˆ)</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* åŸºæœ¬ç”¨æ³• */</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">resolve</span>(<span class="string">&#x27;æˆåŠŸ&#x27;</span>), <span class="number">1000</span>)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* é“¾å¼è°ƒç”¨ */</span></span><br><span class="line"><span class="title function_">ajax</span>(<span class="string">&#x27;/get/1&#x27;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">ajax</span>(<span class="string">&#x27;/get/2&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">ajax</span>(<span class="string">&#x27;/get/3&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(res))</span><br></pre></td></tr></table></figure><h3 id="Promise-å®ä¾‹æ–¹æ³•"><a href="#Promise-å®ä¾‹æ–¹æ³•" class="headerlink" title="Promise å®ä¾‹æ–¹æ³•"></a>Promise å®ä¾‹æ–¹æ³•</h3><ul><li><code>Promise.prototype.then()</code> ç”¨äºå®ä¾‹æ·»åŠ çŠ¶æ€æ”¹å˜æ—¶çš„å›è°ƒå‡½æ•°(ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ <code>fulfilled</code> çŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ <code>rejected</code> çŠ¶æ€çš„å›è°ƒå‡½æ•°)ï¼Œä¼šè¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„ <code>Promise</code> å®ä¾‹</li><li><code>Promise.prototype.catch()</code> ç”¨äºæŒ‡å®š <code>rejected</code> çŠ¶æ€çš„å›è°ƒå‡½æ•°(æ˜¯ <code>.then(null, rejection)</code> æˆ– <code>.then(undefined, rejection)</code> çš„åˆ«å)</li><li><code>Promise.prototype.finally()</code> (ES2018) ç”¨äºæŒ‡å®šä¸ç®¡ <code>Promise</code> å¯¹è±¡æœ€åçŠ¶æ€å¦‚ä½•éƒ½ä¼šæ‰§è¡Œçš„æ“ä½œ (<code>finally</code> æœ¬è´¨ä¸Šæ˜¯ <code>then</code> æ–¹æ³•çš„ç‰¹ä¾‹)</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*  å®ç° finally æ–¹æ³• */</span></span><br><span class="line"><span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">finally</span> = <span class="keyword">function</span> (<span class="params">callback</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> P = <span class="variable language_">this</span>.<span class="property">constructor</span></span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">then</span>(</span><br><span class="line">    <span class="function">(<span class="params">value</span>) =&gt;</span> P.<span class="title function_">resolve</span>(<span class="title function_">callback</span>()).<span class="title function_">then</span>(<span class="function">() =&gt;</span> value),</span><br><span class="line">    <span class="function">(<span class="params">reason</span>) =&gt;</span></span><br><span class="line">      P.<span class="title function_">resolve</span>(<span class="title function_">callback</span>()).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> reason</span><br><span class="line">      &#125;)</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Promise-é™æ€æ–¹æ³•"><a href="#Promise-é™æ€æ–¹æ³•" class="headerlink" title="Promise é™æ€æ–¹æ³•"></a>Promise é™æ€æ–¹æ³•</h3><ul><li><p><code>Promise.resolve()</code></p><ul><li><p>å°†ä¼ å…¥çš„å‚æ•°è½¬ä¸º<code>Promise</code>å¯¹è±¡</p></li><li><p>å‚æ•°æ˜¯ä¸€ä¸ª <code>Promise</code> å®ä¾‹åˆ™ç›´æ¥è¿”å›</p></li><li><p>å‚æ•°æ˜¯ä¸€ä¸ª <code>thenable</code> å¯¹è±¡(å…·æœ‰ <code>then</code> æ–¹æ³•çš„å¯¹è±¡) è½¬ä¸º <code>Promise</code> å¯¹è±¡å†ç«‹å³æ‰§è¡Œ <code>thenable</code> å¯¹è±¡çš„ <code>then</code> æ–¹æ³•</p></li><li><p>å‚æ•°ä¸æ˜¯å…·æœ‰ <code>then</code> æ–¹æ³•çš„å¯¹è±¡æˆ–æ ¹æœ¬å°±ä¸æ˜¯å¯¹è±¡æ—¶è¿”å›ä¸€ä¸ª <code>fulfilled</code> çŠ¶æ€çš„æ–° <code>Promise</code> å¯¹è±¡</p><ul><li>æ²¡æœ‰å‚æ•°æ—¶è¿”å›ä¸€ä¸ª <code>fulfilled</code> çŠ¶æ€çš„æ–° <code>Promise</code> å¯¹è±¡</li></ul></li></ul></li><li><p><code>Promise.reject()</code></p><ul><li>è¿”å›ä¸€ä¸ª <code>rejected</code> çŠ¶æ€çš„æ–° <code>Promise</code> å¯¹è±¡</li></ul></li><li><p><code>Promise.all()</code></p><ul><li>å°†å¤šä¸ª <code>Promise</code> å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ <code>Promise</code> å®ä¾‹ï¼Œåªæœ‰æ‰€æœ‰çš„ <code>Promise</code> çŠ¶æ€æˆåŠŸæ‰ä¼šæˆåŠŸï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ª <code>Promise</code> çš„çŠ¶æ€å¤±è´¥å°±ä¼šå¤±è´¥</li></ul></li><li><p><code>Promise.race()</code></p><ul><li>å°†å¤šä¸ª <code>Promise</code> å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ <code>Promise</code> å®ä¾‹ï¼Œæ–°çš„ <code>Promise</code> å®ä¾‹çŠ¶æ€ä¼šæ ¹æ®æœ€å…ˆæ›´æ”¹çŠ¶æ€çš„å‚æ•°å®ä¾‹è€Œæ›´æ”¹çŠ¶æ€(å¯ä»¥è½»æ¾å®ç°è¶…æ—¶æ–¹æ³•)</li></ul></li><li><p><code>Promise.allSettled()</code>(ES2020)</p><ul><li>å°†å¤šä¸ª <code>Promise</code> å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ <code>Promise</code> å®ä¾‹ï¼Œæ–°çš„ <code>Promise</code> å®ä¾‹åªæœ‰ç­‰åˆ°æ‰€æœ‰è¿™äº›å‚æ•°å®ä¾‹éƒ½è¿”å›ç»“æœï¼Œä¸ç®¡æ˜¯ <code>fulfilled</code> è¿˜æ˜¯ <code>rejected</code> ï¼ŒåŒ…è£…å®ä¾‹æ‰ä¼šç»“æŸï¼Œä¸€æ—¦ç»“æŸï¼ŒçŠ¶æ€æ€»æ˜¯ <code>fulfilled</code></li></ul></li><li><p><code>Promise.any()</code>(ES2021)</p><ul><li>å°†å¤šä¸ª <code>Promise</code> å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ <code>Promise</code> å®ä¾‹ï¼Œåªè¦å‚æ•°å®ä¾‹æœ‰ä¸€ä¸ªå˜æˆ <code>fulfilled</code> çŠ¶æ€ï¼ŒåŒ…è£…å®ä¾‹å°±ä¼šå˜æˆ <code>fulfilled</code> çŠ¶æ€ï¼›å¦‚æœæ‰€æœ‰å‚æ•°å®ä¾‹éƒ½å˜æˆ <code>rejected</code> çŠ¶æ€ï¼ŒåŒ…è£…å®ä¾‹æ‰ä¼šå˜æˆ <code>rejected</code> çŠ¶æ€</li></ul></li></ul><p><a href="https://github.com/strawberry2002/Promise">Promise å®ç°</a> ç®€æ˜“å®ç°ã€A+ è§„èŒƒå®ç°ã€åŸå‹æ–¹æ³•ã€é™æ€æ–¹æ³•å®ç°</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ES6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å°ç¨‹åºå¸¸ç”¨é…ç½®</title>
      <link href="/2023/09/13/%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/"/>
      <url>/2023/09/13/%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/</url>
      
        <content type="html"><![CDATA[<h2 id="å¾®ä¿¡å°ç¨‹åº-request-js-å°è£…è¯·æ±‚"><a href="#å¾®ä¿¡å°ç¨‹åº-request-js-å°è£…è¯·æ±‚" class="headerlink" title="å¾®ä¿¡å°ç¨‹åº request.js å°è£…è¯·æ±‚"></a>å¾®ä¿¡å°ç¨‹åº request.js å°è£…è¯·æ±‚</h2><h3 id="è¯·æ±‚å‚æ•°options"><a href="#è¯·æ±‚å‚æ•°options" class="headerlink" title="è¯·æ±‚å‚æ•°options"></a>è¯·æ±‚å‚æ•°options</h3><p>æ ¹æ®æˆ‘ä»¬çš„ä¸šåŠ¡éœ€æ±‚ï¼Œè®¾ç½®ä»¥ä¸‹å‚æ•°ï¼Œå…¶ä»–å‚æ•°å¯æŒ‰é¡¹ç›®ä¸šåŠ¡éœ€æ±‚æ·»åŠ ã€‚</p><ul><li>url è¯·æ±‚url</li><li>method è¯·æ±‚æ–¹å¼ï¼Œé»˜è®¤<code>GET</code></li><li>data è¯·æ±‚æ•°æ®</li><li>timeout è¯·æ±‚æœ€é•¿æ—¶é—´(ms)ï¼Œé»˜è®¤20000ï¼Œå³20s</li><li>needLogin æ˜¯å¦éœ€è¦ç™»å½•ï¼Œé»˜è®¤ä¸º<code>true</code>ï¼Œéœ€è¦ç™»å½•å¹¶ä¸”æœªç™»å½•çŠ¶æ€ç›´æ¥è·³è½¬åˆ°ç™»å½•é¡µé¢</li><li>showLoading æ˜¯å¦å±•ç¤ºloadingï¼Œé»˜è®¤ä¸º<code>true</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">createRequest</span>(<span class="params">options</span>)&#123;</span><br><span class="line">    <span class="comment">// util/request.js</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> token = wx.<span class="title function_">getStorageSync</span>(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">        <span class="comment">// æœªç™»å½•çŠ¶æ€ï¼Œè·³è½¬åˆ°ç™»å½•é¡µé¢</span></span><br><span class="line">        <span class="keyword">if</span> (options.<span class="property">needLogin</span> !== <span class="literal">false</span> &amp;&amp; !token) &#123;</span><br><span class="line">        wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">            <span class="attr">title</span>: <span class="string">&#x27;è¯·å…ˆç™»å½•&#x27;</span>,</span><br><span class="line">            <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            wx.<span class="title function_">redirectTo</span>(&#123;</span><br><span class="line">            <span class="attr">url</span>: <span class="string">&#x27;/pages/login/index&#x27;</span>,</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ„å»ºè¯·æ±‚url</span></span><br><span class="line">    <span class="comment">// è¿™é‡Œæš‚æ—¶é…ç½®æœ¬åœ°ç¯å¢ƒåŸŸå</span></span><br><span class="line">    <span class="comment">// ç­‰æˆ‘ä»¬æŠŠç¯å¢ƒé…ç½®è®²äº†ï¼Œå†è¿›ä¸€æ­¥ä¼˜åŒ–</span></span><br><span class="line">    <span class="keyword">const</span> baseUrl = <span class="string">&quot;http://localhost:3000&quot;</span></span><br><span class="line">    <span class="keyword">const</span> url = <span class="string">`<span class="subst">$&#123;baseUrl&#125;</span><span class="subst">$&#123;options.url&#125;</span>`</span></span><br><span class="line">    <span class="comment">// æ„å»ºè¯·æ±‚headerï¼ŒæŠŠtokenæ”¾åˆ°header</span></span><br><span class="line">    <span class="keyword">const</span> header = &#123;</span><br><span class="line">        token</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è®¾ç½®showLoading</span></span><br><span class="line">    <span class="comment">// å› ä¸ºshowLoadingè¦é…åˆhideLoadingä½¿ç”¨ï¼Œå› æ­¤éœ€è¦è®°å½•è¿™ä¸ªå˜é‡</span></span><br><span class="line">    <span class="keyword">let</span> showLoading = <span class="literal">false</span></span><br><span class="line">    <span class="keyword">if</span> (options.<span class="property">loading</span> !== <span class="literal">false</span>) &#123;</span><br><span class="line">        showLoading = <span class="literal">true</span></span><br><span class="line">        wx.<span class="title function_">showLoading</span>(&#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;æ­£åœ¨åŠ è½½&#x27;</span>,</span><br><span class="line">        <span class="attr">mask</span>: <span class="literal">true</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å‘é€è¯·æ±‚</span></span><br><span class="line">wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">    url,</span><br><span class="line">    <span class="attr">method</span>: options.<span class="property">method</span> || <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">    <span class="attr">timeout</span>: options.<span class="property">timeout</span> || <span class="number">20000</span>,</span><br><span class="line">    header,</span><br><span class="line">    <span class="attr">data</span>: options.<span class="property">data</span> || &#123;&#125;,</span><br><span class="line">    <span class="title function_">success</span>(<span class="params">res</span>) &#123;</span><br><span class="line">        res = res.<span class="property">data</span></span><br><span class="line">        <span class="keyword">switch</span>(res.<span class="property">code</span>) &#123;</span><br><span class="line">          <span class="comment">// è¯·æ±‚æ²¡é—®é¢˜</span></span><br><span class="line">          <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">resolve</span>(res)</span><br><span class="line">          <span class="comment">// å¼‚å¸¸ä¿¡æ¯</span></span><br><span class="line">          <span class="keyword">case</span> -<span class="number">1</span>:</span><br><span class="line">            wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">              <span class="attr">title</span>: res.<span class="property">msg</span>,</span><br><span class="line">              <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">          <span class="comment">// ç™»å½•å·²å¤±æ•ˆï¼Œéœ€è¦é‡æ–°ç™»å½•</span></span><br><span class="line">          <span class="keyword">case</span> <span class="number">403</span>:</span><br><span class="line">            wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">              <span class="attr">title</span>: <span class="string">&#x27;ç™»å½•å·²å¤±æ•ˆï¼Œè¯·é‡æ–°ç™»å½•&#x27;</span>,</span><br><span class="line">              <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">              wx.<span class="title function_">redirectTo</span>(&#123;</span><br><span class="line">                <span class="attr">url</span>: <span class="string">&#x27;/pages/login/index&#x27;</span>,</span><br><span class="line">              &#125;)</span><br><span class="line">            &#125;, <span class="number">1000</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">          <span class="comment">// å…¶ä»–å¼‚å¸¸</span></span><br><span class="line">          <span class="attr">default</span>:</span><br><span class="line">            wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">              <span class="attr">title</span>: <span class="string">&#x27;æœåŠ¡å¼€å°å·®å•¦ï¼&#x27;</span>,</span><br><span class="line">              <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">fail</span>(<span class="params">res</span>) &#123;</span><br><span class="line">        wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">            <span class="attr">title</span>: <span class="string">&#x27;æœåŠ¡å¼€å°å·®å•¦ï¼&#x27;</span>,</span><br><span class="line">            <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">          &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">complete</span>(<span class="params">res</span>) &#123;</span><br><span class="line">      <span class="comment">// å¦‚æœæœ‰loadingï¼Œå°±éšè—</span></span><br><span class="line">      <span class="keyword">if</span> (showLoading) &#123;</span><br><span class="line">        wx.<span class="title function_">hideLoading</span>()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h2 id="å¾®ä¿¡å°ç¨‹åºè®¾ç½®ç¯å¢ƒå˜é‡"><a href="#å¾®ä¿¡å°ç¨‹åºè®¾ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºè®¾ç½®ç¯å¢ƒå˜é‡"></a>å¾®ä¿¡å°ç¨‹åºè®¾ç½®ç¯å¢ƒå˜é‡</h2><p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º<code>config.js</code>æ–‡ä»¶ï¼Œç”¨æ¥å­˜æ”¾æˆ‘ä»¬çš„ç¯å¢ƒå˜é‡ã€‚ä»¥è¯·æ±‚çš„åŸŸå<code>baseUrl</code>ä¸ºä¾‹ï¼Œé…ç½®ä¸åŒç¯å¢ƒçš„åŸŸåã€‚</p><p>è¿™é‡Œæˆ‘ä»¬åªé…ç½®ä¸¤ä¸ªç¯å¢ƒï¼Œ</p><ul><li><p>å¼€å‘ç¯å¢ƒ<code>develop</code></p></li><li><p>ç”Ÿäº§ç¯å¢ƒ<code>production</code></p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> env = <span class="string">&quot;develop&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é˜²æ­¢æˆ‘ä»¬åœ¨ä¸Šä¼ ä»£ç çš„æ—¶å€™ï¼Œæ²¡æœ‰å°†envæ”¹æˆproduction</span></span><br><span class="line"><span class="keyword">const</span> envVersion = wx.<span class="title function_">getAccountInfoSync</span>().<span class="property">miniProgram</span>.<span class="property">envVersion</span></span><br><span class="line"><span class="keyword">if</span> (envVersion === <span class="string">&quot;release&quot;</span> &amp;&amp; env !== <span class="string">&quot;production&quot;</span>) &#123;</span><br><span class="line">  env = <span class="string">&quot;production&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// å½“å‰ç¯å¢ƒ</span></span><br><span class="line">  env,</span><br><span class="line">  <span class="comment">// è¯·æ±‚æ¥å£åŸŸå</span></span><br><span class="line">  <span class="attr">baseUrl</span>: &#123;</span><br><span class="line">    <span class="attr">develop</span>: <span class="string">&#x27;http://localhost:3000&#x27;</span>, </span><br><span class="line">    <span class="attr">production</span>: <span class="string">&#x27;http://api.xxx.com&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ–‡ä»¶å¯¼å‡ºä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œ<code>env</code>å˜é‡æ˜¯å½“å‰çš„ç¯å¢ƒï¼Œ<code>baseUrl</code>æ˜¯ç½‘ç»œè¯·æ±‚åŸŸåï¼Œå·²æ¯ä¸ªç¯å¢ƒä½œä¸ºkeyï¼Œåˆ†åˆ«é…ç½®å‚æ•°ã€‚</p><p><strong><strong>ä¸ºäº†é˜²æ­¢æˆ‘ä»¬åœ¨ä¸Šä¼ ä»£ç çš„æ—¶å€™ï¼Œæ²¡æœ‰å°†<code>env</code>æ”¹æˆ<code>production</code>ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</strong></strong></p><p>é€šè¿‡<code>wx.getAccountInfoSync()</code>è·å–å½“å‰å°ç¨‹åºç¯å¢ƒï¼Œå¦‚æœæ˜¯releaseå¹¶ä¸”<code>env=develop</code>ï¼Œé‚£æˆ‘ä»¬å°±è®¾ç½®<code>env</code>ä¸º<code>production</code></p><p>å¾®ä¿¡å°ç¨‹åºæœ‰ä¸‰ä¸ªç‰ˆæœ¬ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><table><thead><tr><th>develop</th><th>å¼€å‘ç‰ˆï¼Œæ‰«ç é¢„è§ˆäºŒç»´ç è¿›å»å°±æ˜¯å¼€å‘ç‰ˆ</th></tr></thead><tbody><tr><td>trial</td><td>ä½“éªŒç‰ˆï¼Œä¸Šä¼ ä»£ç åè®¾ç½®ä¸ºä½“éªŒç‰ˆ</td></tr><tr><td>release</td><td>æ­£å¼ç‰ˆï¼Œä¸Šä¼ ä»£ç -æäº¤å®¡æ ¸-å‘å¸ƒï¼Œæ­£å¼ç‰ˆå°ç¨‹åºç”Ÿæ•ˆ</td></tr></tbody></table><h2 id="è·å–ç¯å¢ƒå˜é‡"><a href="#è·å–ç¯å¢ƒå˜é‡" class="headerlink" title="è·å–ç¯å¢ƒå˜é‡"></a>è·å–ç¯å¢ƒå˜é‡</h2><p>æˆ‘ä»¬åœ¨<code>app.js</code>çš„<code>App</code>å®ä¾‹åŒ–å¯¹è±¡ä¸­æ–°å»ºä¸€ä¸ª<code>getConfig</code>æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> localConfigs <span class="keyword">from</span> <span class="string">&quot;./config&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">App</span>(&#123;</span><br><span class="line">  <span class="comment">// è·å–é…ç½®</span></span><br><span class="line">  <span class="title function_">getConfig</span>(<span class="params">key = <span class="string">&quot;&quot;</span></span>) &#123;</span><br><span class="line">    <span class="comment">// ä¸æŒ‡å®škeyï¼Œè¿”å›å…¨éƒ¨</span></span><br><span class="line">    <span class="keyword">if</span> (key === <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> localConfigs</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¸å­˜åœ¨é…ç½®</span></span><br><span class="line">    <span class="keyword">if</span> (!localConfigs[key]) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">`<span class="subst">$&#123;key&#125;</span> config is no exist`</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">undefined</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é…ç½®æ˜¯å¦åŒºåˆ†ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> localConfigs[key] === <span class="string">&quot;object&quot;</span> &amp;&amp; <span class="keyword">typeof</span> localConfigs[key] !== <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="comment">// è·å–å½“å‰ç¯å¢ƒç±»å‹</span></span><br><span class="line">      <span class="keyword">const</span> env = <span class="variable language_">this</span>.<span class="title function_">getConfig</span>(<span class="string">&quot;env&quot;</span>)</span><br><span class="line">      <span class="keyword">return</span> localConfigs[key][env]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> localConfigs[key]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>é¦–å…ˆå¯¼å…¥æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Œä¹‹ååˆ¤æ–­æ˜¯å¦æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯çš„è¯å°±è¿”å›å½“å‰ç¯å¢ƒçš„å˜é‡ã€‚</p><h3 id="ä½¿ç”¨æ¡ˆä¾‹"><a href="#ä½¿ç”¨æ¡ˆä¾‹" class="headerlink" title="ä½¿ç”¨æ¡ˆä¾‹"></a>ä½¿ç”¨æ¡ˆä¾‹</h3><p><code>util/request.js</code>ä¸­ï¼Œæˆ‘ä»¬è¦è·å–<code>baseUrl</code>ç¯å¢ƒå˜é‡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–appå¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">getApp</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> baseUrl = app.<span class="title function_">getConfig</span>(<span class="string">&quot;baseUrl&quot;</span>)</span><br></pre></td></tr></table></figure><hr><h2 id="æå–èº«ä»½è¯ä¿¡æ¯"><a href="#æå–èº«ä»½è¯ä¿¡æ¯" class="headerlink" title="æå–èº«ä»½è¯ä¿¡æ¯"></a>æå–èº«ä»½è¯ä¿¡æ¯</h2><ul><li><h4 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h4><ul><li><strong>idCard:</strong> èº«ä»½è¯å·ç </li><li><strong>separator:</strong> å‡ºç”Ÿå¹´æœˆæ—¥çš„åˆ†å‰²å­—ç¬¦ï¼Œé»˜è®¤ä¸º <code>/</code></li></ul></li><li><h4 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h4><ul><li><strong>age:</strong> å¹´é¾„ï¼ˆå®å²ï¼‰</li><li><strong>birthday:</strong> å‡ºç”Ÿå¹´æœˆæ—¥</li><li><strong>gender:</strong> æ€§åˆ«ï¼ˆ0 å¥³ 1 ç”·ï¼‰</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getIdCardInfo</span>(<span class="params">idCard, separator = <span class="string">&#x27;/&#x27;</span></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    !<span class="regexp">/^[1-9]\d&#123;5&#125;(?:18|19|20)\d&#123;2&#125;(?:0[1-9]|10|11|12)(?:0[1-9]|[1-2]\d|30|31)\d&#123;3&#125;[\dXx]$/</span>.<span class="title function_">test</span>(</span><br><span class="line">      idCard</span><br><span class="line">    )</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="title class_">Error</span>(<span class="string">`<span class="subst">$&#123;idCard&#125;</span>ä¸æ˜¯ä¸€ä¸ªèº«ä»½è¯å·ç `</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æå– idCard ä¸­çš„å­—ç¬¦</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">idSubstr</span> = (<span class="params">s, e</span>) =&gt; idCard.<span class="title function_">substr</span>(s, e)</span><br><span class="line">  <span class="comment">// æ‹¼æ¥æ—¥æœŸ</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">splice</span> = (<span class="params">d</span>) =&gt; d.<span class="title function_">join</span>(separator)</span><br><span class="line">  <span class="comment">// è·å–å‡ºç”Ÿå¹´æœˆæ—¥ æ€§åˆ«ï¼ˆ0 å¥³ 1 ç”·ï¼‰</span></span><br><span class="line">  <span class="keyword">let</span> birthday, gender</span><br><span class="line">  <span class="keyword">if</span> (idCard.<span class="property">length</span> === <span class="number">18</span>) &#123;</span><br><span class="line">    birthday = <span class="title function_">splice</span>([<span class="title function_">idSubstr</span>(<span class="number">6</span>, <span class="number">4</span>), <span class="title function_">idSubstr</span>(<span class="number">10</span>, <span class="number">2</span>), <span class="title function_">idSubstr</span>(<span class="number">12</span>, <span class="number">2</span>)])</span><br><span class="line">    gender = <span class="title function_">idSubstr</span>(-<span class="number">2</span>, <span class="number">1</span>) &amp; <span class="number">1</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    birthday = <span class="title function_">splice</span>(<span class="title function_">idSubstr</span>(<span class="number">6</span>, <span class="number">2</span>), <span class="title function_">idSubstr</span>(<span class="number">8</span>, <span class="number">2</span>), <span class="title function_">idSubstr</span>(<span class="number">10</span>, <span class="number">2</span>))</span><br><span class="line">    gender = <span class="title function_">idSubstr</span>(-<span class="number">1</span>, <span class="number">1</span>) &amp; <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// è·å–å¹´é¾„ï¼ˆå®å²ï¼‰</span></span><br><span class="line">  <span class="keyword">const</span> birthDate = <span class="keyword">new</span> <span class="title class_">Date</span>(birthday)</span><br><span class="line">  <span class="keyword">const</span> newDate = <span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line">  <span class="keyword">const</span> year = newDate.<span class="title function_">getFullYear</span>()</span><br><span class="line">  <span class="keyword">let</span> age = year - birthDate.<span class="title function_">getFullYear</span>()</span><br><span class="line">  <span class="keyword">if</span> (newDate &lt; <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="title function_">splice</span>([year, birthday.<span class="title function_">substring</span>(<span class="number">5</span>)]))) &#123;</span><br><span class="line">    age--</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    age,</span><br><span class="line">    birthday,</span><br><span class="line">    gender</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¾®ä¿¡å°ç¨‹åº </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼</title>
      <link href="/2023/09/13/%E5%B8%B8%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
      <url>/2023/09/13/%E5%B8%B8%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="å¸¸ç”¨æ­£åˆ™"><a href="#å¸¸ç”¨æ­£åˆ™" class="headerlink" title="å¸¸ç”¨æ­£åˆ™"></a>å¸¸ç”¨æ­£åˆ™</h1><blockquote><p>æ”¶é›†å¼€å‘ä¸­çš„ä¸€äº›å¸¸ç”¨æ­£åˆ™ï¼Œä½¿ç”¨æ—¶å»ºè®®æ ¹æ®å®é™…éœ€æ±‚è¿›è¡Œä¿®æ”¹</p><p>ç”±äºæ ¼å¼åŒ–ä¼šåœ¨å‰é¢æ·»åŠ åˆ†å·ï¼Œæ•…é‡‡ç”¨å˜é‡å½¢å¼</p></blockquote><p><strong>æ­£åˆ™è¡¨è¾¾å¼åº”å½“ç¬¦åˆå®é™…éœ€æ±‚å³å¯ï¼Œæ— éœ€è¿‡äºè¿½æ±‚å®Œç¾</strong>ã€‚æœ‰æ—¶å€™è¿‡äºè¿½æ±‚å‡†ç¡®æ€§å¯èƒ½åè€Œç ´åå®é™…éœ€æ±‚ã€‚ä¾‹å¦‚ï¼Œæ‰‹æœºå·ã€é‚®ç®±ã€URL çš„æ­£åˆ™ï¼Œå¾ˆå¤šäººè¯•å›¾ç¼–å†™å®Œç¾çš„è¡¨è¾¾å¼ï¼Œç»“æœè¿‡äºä¸¥æ ¼ï¼Œåè€Œå¼•å‘äº†é—®é¢˜ï¼Œä»è€Œå½±å“äº†ç”¨æˆ·çš„æ­£å¸¸ä½¿ç”¨</p><p><a href="https://juejin.cn/post/6844903501034684430">JS æ­£åˆ™è¡¨è¾¾å¼å®Œæ•´æ•™ç¨‹</a></p><h2 id="éªŒè¯ç›¸å…³"><a href="#éªŒè¯ç›¸å…³" class="headerlink" title="éªŒè¯ç›¸å…³"></a>éªŒè¯ç›¸å…³</h2><h3 id="æ˜¯å¦æ˜¯é‡‘é¢ï¼ˆç²¾ç¡®åˆ°åˆ†ï¼‰"><a href="#æ˜¯å¦æ˜¯é‡‘é¢ï¼ˆç²¾ç¡®åˆ°åˆ†ï¼‰" class="headerlink" title="æ˜¯å¦æ˜¯é‡‘é¢ï¼ˆç²¾ç¡®åˆ°åˆ†ï¼‰"></a>æ˜¯å¦æ˜¯é‡‘é¢ï¼ˆç²¾ç¡®åˆ°åˆ†ï¼‰</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">MONEY_PATTERN</span> = <span class="regexp">/^(0|([1-9]\d*))(\.\d&#123;1,2&#125;)?$/</span></span><br></pre></td></tr></table></figure><blockquote><p>æ›´ä¸¥æ ¼</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">MONEY_PATTERN</span> =</span><br><span class="line">  <span class="regexp">/(?:^[1-9]([0-9]+)?(?:\.[0-9]&#123;1,2&#125;)?$)|(?:^(?:0)&#123;1&#125;$)|(?:^[0-9]\.[0-9](?:[0-9])?$)/</span></span><br></pre></td></tr></table></figure><h3 id="æ˜¯å¦æ˜¯æ‰‹æœºå·"><a href="#æ˜¯å¦æ˜¯æ‰‹æœºå·" class="headerlink" title="æ˜¯å¦æ˜¯æ‰‹æœºå·"></a>æ˜¯å¦æ˜¯æ‰‹æœºå·</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">MOBILE_PATTERN</span> = <span class="regexp">/^1\d&#123;10&#125;$/</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">MOBILE_PATTERN</span> = <span class="regexp">/^1[3-9]\d&#123;9&#125;$/</span></span><br></pre></td></tr></table></figure><h3 id="æ˜¯å¦æ˜¯é‚®ç®±å·"><a href="#æ˜¯å¦æ˜¯é‚®ç®±å·" class="headerlink" title="æ˜¯å¦æ˜¯é‚®ç®±å·"></a>æ˜¯å¦æ˜¯é‚®ç®±å·</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">EMAIL_PATTERN</span> = <span class="regexp">/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/</span></span><br></pre></td></tr></table></figure><blockquote><p>æ›´ä¸¥æ ¼çš„é‚®ç®±æ­£åˆ™ â€”â€” <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/input/email#%E5%9F%BA%E6%9C%AC%E9%AA%8C%E8%AF%81">å‚è€ƒ MDN</a></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">EMAIL_PATTERN</span> =</span><br><span class="line">  <span class="regexp">/^[a-zA-Z0-9.!#$%&amp;&#x27;*+/=?^_`&#123;|&#125;~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]&#123;0,61&#125;[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]&#123;0,61&#125;[a-zA-Z0-9])?)*$/</span></span><br></pre></td></tr></table></figure><h3 id="æ˜¯å¦æ˜¯-QQ-å·"><a href="#æ˜¯å¦æ˜¯-QQ-å·" class="headerlink" title="æ˜¯å¦æ˜¯ QQ å·"></a>æ˜¯å¦æ˜¯ QQ å·</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">QQ_NUMBER_PATTERN</span> = <span class="regexp">/^[1-9]&#123;1&#125;\d&#123;4,11&#125;$/</span></span><br></pre></td></tr></table></figure><h3 id="æ˜¯å¦æ˜¯é“¾æ¥åœ°å€"><a href="#æ˜¯å¦æ˜¯é“¾æ¥åœ°å€" class="headerlink" title="æ˜¯å¦æ˜¯é“¾æ¥åœ°å€"></a>æ˜¯å¦æ˜¯é“¾æ¥åœ°å€</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">URL_PATTERN</span> =</span><br><span class="line">  <span class="regexp">/^(https|http):\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9]+[\/=\?%\-&amp;_~`@[\]\&#x27;:+!]*([^&lt;&gt;\&quot;\&quot;])*$/</span></span><br></pre></td></tr></table></figure><h3 id="æ˜¯å¦æ˜¯èº«ä»½è¯å·ç "><a href="#æ˜¯å¦æ˜¯èº«ä»½è¯å·ç " class="headerlink" title="æ˜¯å¦æ˜¯èº«ä»½è¯å·ç "></a>æ˜¯å¦æ˜¯èº«ä»½è¯å·ç </h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">ID_CARD_NUMBER_PATTERN</span> =</span><br><span class="line">  <span class="regexp">/^[1-9]\d&#123;5&#125;(?:18|19|20)\d&#123;2&#125;(?:0[1-9]|10|11|12)(?:0[1-9]|[1-2]\d|30|31)\d&#123;3&#125;[\dXx]$/</span></span><br></pre></td></tr></table></figure><h3 id="æ˜¯å¦æ˜¯-16-è¿›åˆ¶é¢œè‰²"><a href="#æ˜¯å¦æ˜¯-16-è¿›åˆ¶é¢œè‰²" class="headerlink" title="æ˜¯å¦æ˜¯ 16 è¿›åˆ¶é¢œè‰²"></a>æ˜¯å¦æ˜¯ 16 è¿›åˆ¶é¢œè‰²</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">HEX_COLOR_PATTERN</span> = <span class="regexp">/^#?([a-fA-F0-9]&#123;6&#125;|[a-fA-F0-9]&#123;3&#125;)$/</span></span><br></pre></td></tr></table></figure><h2 id="æ ¼å¼ç›¸å…³"><a href="#æ ¼å¼ç›¸å…³" class="headerlink" title="æ ¼å¼ç›¸å…³"></a>æ ¼å¼ç›¸å…³</h2><h3 id="344-æ ¼å¼æ‰‹æœºå·"><a href="#344-æ ¼å¼æ‰‹æœºå·" class="headerlink" title="344 æ ¼å¼æ‰‹æœºå·"></a>344 æ ¼å¼æ‰‹æœºå·</h3><p><strong>ä»å·¦åˆ°å³åŒ¹é…</strong>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pattern = <span class="regexp">/(^\d&#123;3&#125;|\d&#123;4&#125;\B)/g</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¸¾ ğŸŒ°</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;15512341234&#x27;</span>.<span class="title function_">replace</span>(<span class="regexp">/(^\d&#123;3&#125;|\d&#123;4&#125;\B)/g</span>, <span class="string">&#x27;$1 &#x27;</span>)</span><br></pre></td></tr></table></figure><p><strong>ä»å³åˆ°å·¦åŒ¹é…</strong>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pattern = <span class="regexp">/\B(?=(\d&#123;4&#125;)+\b)/g</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¸¾ ğŸŒ° ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;15512341234&#x27;</span>.<span class="title function_">replace</span>(<span class="regexp">/\B(?=(\d&#123;4&#125;)+\b)/g</span>, <span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="éšè—æ‰‹å·ä¸­é—´-4-ä½"><a href="#éšè—æ‰‹å·ä¸­é—´-4-ä½" class="headerlink" title="éšè—æ‰‹å·ä¸­é—´ 4 ä½["></a>éšè—æ‰‹å·ä¸­é—´ 4 ä½[</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pattern = <span class="regexp">/(\d&#123;3&#125;)\d&#123;4&#125;(\d&#123;4&#125;)/</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¸¾ ğŸŒ° ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;15512341234&#x27;</span>.<span class="title function_">replace</span>(<span class="regexp">/(\d&#123;3&#125;)\d&#123;4&#125;(\d&#123;4&#125;)/</span>, <span class="string">&#x27;$1****$2&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ–"><a href="#æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ–" class="headerlink" title="æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ–"></a>æ•°å­—åƒåˆ†ä½æ ¼å¼åŒ–</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pattern = <span class="regexp">/(\d)(?=(\d&#123;3&#125;)+\.)/g</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¸¾ ğŸŒ° ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;5201314.1314&#x27;</span>.<span class="title function_">replace</span>(<span class="regexp">/(\d)(?=(\d&#123;3&#125;)+\.)/g</span>, <span class="string">&#x27;$1,&#x27;</span>) <span class="comment">// &#x27;5,201,314.1314&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>ä¿ç•™ä¸¤ä½å°æ•°</strong>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pattern = <span class="regexp">/(\d)(?=(\d&#123;3&#125;)+\.)/g</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¸¾ ğŸŒ° ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">;(<span class="number">5201314.1314</span>).<span class="title function_">toFixed</span>(<span class="number">2</span>).<span class="title function_">replace</span>(<span class="regexp">/\B(?=(\d&#123;3&#125;)+\b)/g</span>, <span class="string">&#x27;,&#x27;</span>) <span class="comment">// &#x27;5,201,314.13&#x27;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ­£åˆ™è¡¨è¾¾å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTP</title>
      <link href="/2023/09/13/HTTP/"/>
      <url>/2023/09/13/HTTP/</url>
      
        <content type="html"><![CDATA[<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP">HTTP</a> å…¨ç§°ä¸º HyperText Transfer Protocolï¼Œå³è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œæ˜¯ä¸€ä¸ªç”¨äºä¼ è¾“è¶…åª’ä½“æ–‡æ¡£(ä¾‹å¦‚ <code>HTML</code>)çš„åº”ç”¨å±‚åè®®</p><h1 id="HTTP-åè®®çš„ä¸»è¦ç‰¹ç‚¹"><a href="#HTTP-åè®®çš„ä¸»è¦ç‰¹ç‚¹" class="headerlink" title="HTTP åè®®çš„ä¸»è¦ç‰¹ç‚¹"></a>HTTP åè®®çš„ä¸»è¦ç‰¹ç‚¹</h1><ul><li>æ˜¯ä¸€ä¸ªåº”ç”¨å±‚åè®®</li><li><strong>éµå¾ªç»å…¸çš„â€œå®¢æˆ·ç«¯-æœåŠ¡ç«¯â€æ¨¡å‹</strong>(å®¢æˆ·ç«¯å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›å“åº”)</li><li>çµæ´»å¯æ‰©å±•<ul><li>è¯­ä¹‰ä¸Šçš„è‡ªç”±ï¼Œåªè§„å®šäº†æŠ¥æ–‡çš„åŸºæœ¬æ ¼å¼ï¼ŒæŠ¥æ–‡é‡Œçš„å„ä¸ªç»„æˆéƒ¨åˆ†å¯ä»¥ç”±å¼€å‘è€…ä»»æ„å®šåˆ¶</li><li>ä¼ è¾“æ ¼å¼çš„å¤šæ ·æ€§</li></ul></li><li><strong>æ— è¿æ¥</strong>: æ¯å®Œæˆä¸€ä¸ªè¯·æ±‚å°±æ–­å¼€è¿æ¥(HTTP&#x2F;1.1 åé»˜è®¤å¼€å¯é•¿è¿æ¥)</li><li><strong>æ— çŠ¶æ€</strong>: HTTP åè®®å¯¹äºäº‹åŠ¡å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›(æ¯ä¸ªè¯·æ±‚ä¹‹é—´ã€æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´éƒ½æ˜¯ç›¸äº’ç‹¬ç«‹æ¯«æ— å…³è”çš„)</li><li><strong>å¯é ä¼ è¾“</strong>: HTTP åè®®æ˜¯ä¸€ä¸ªå¯é çš„ä¼ è¾“åè®®(åŸºäº TCP&#x2F;IP åè®®)</li><li><strong>æ˜æ–‡ä¼ è¾“</strong>: åè®®é‡Œçš„æŠ¥æ–‡ç›´æ¥ä½¿ç”¨æ–‡æœ¬å½¢å¼ä¼ è¾“(HTTP&#x2F;2.0 åæ”¹ä¸ºäºŒè¿›åˆ¶ä¼ è¾“)</li></ul><h2 id="HTTP-åè®®çš„æ¼”å˜"><a href="#HTTP-åè®®çš„æ¼”å˜" class="headerlink" title="HTTP åè®®çš„æ¼”å˜"></a>HTTP åè®®çš„æ¼”å˜</h2><p><a href="https://mp.weixin.qq.com/s/RuHaKgwpCMvPQeEwe31k2A">HTTP åè®®æ¼”è¿›ä¸å„ç‰ˆæœ¬ç‰¹æ€§</a></p><h3 id="HTTP-0-9"><a href="#HTTP-0-9" class="headerlink" title="HTTP&#x2F;0.9"></a>HTTP&#x2F;0.9</h3><blockquote><p>1990 å¹´é—®ä¸–</p></blockquote><p>åŠŸèƒ½ç®€é™‹ï¼Œåªæœ‰ä¸€ä¸ª <code>GET</code> æ–¹æ³•ï¼Œä¸”åªæ”¯æŒçº¯æ–‡æœ¬å†…å®¹</p><h3 id="HTTP-1-0"><a href="#HTTP-1-0" class="headerlink" title="HTTP&#x2F;1.0"></a>HTTP&#x2F;1.0</h3><blockquote><p>1996 å¹´ 5 æœˆæ­£å¼å‘å¸ƒ</p></blockquote><ul><li>ä»»ä½•æ ¼å¼çš„å†…å®¹éƒ½å¯ä»¥å‘é€</li><li>è¯·æ±‚å’Œå“åº”å¢åŠ äº†å¤´ä¿¡æ¯</li><li>æ–°å¢æ–¹æ³•ï¼š<code>POST HEAD</code></li><li>æ·»åŠ äº†çŠ¶æ€ç ã€å¤šå­—ç¬¦é›†æ”¯æŒã€æƒé™ã€ç¼“å­˜ã€å†…å®¹ç¼–ç ç­‰åŠŸèƒ½</li></ul><h3 id="HTTP-1-1"><a href="#HTTP-1-1" class="headerlink" title="HTTP&#x2F;1.1"></a>HTTP&#x2F;1.1</h3><blockquote><p>1997 å¹´ 1 æœˆå‘å¸ƒï¼Œæ˜¯<strong>ç›®å‰ä¸»æµçš„ HTTP åè®®ç‰ˆæœ¬</strong></p></blockquote><ul><li><strong>é•¿è¿æ¥</strong>ï¼šTCP è¿æ¥é»˜è®¤ä¸å…³é—­å¯ä»¥è¢«å¤šä¸ªè¯·æ±‚å¤ç”¨</li><li><strong>ç®¡é“æœºåˆ¶</strong>ï¼šåœ¨åŒä¸€ä¸ª TCP é“¾æ¥é‡Œé¢ï¼Œå®¢æˆ·ç«¯å¯ä»¥åŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚</li><li><strong>åˆ†å—ä¼ è¾“ç¼–ç </strong></li><li>ç¼“å­˜å¤„ç†ï¼š<code>Cache-Control</code> å’Œ <code>Etag/If-None-Match</code></li><li>æ–­ç‚¹ç»­ä¼ </li><li>å¢åŠ äº† <code>TLS</code> æ”¯æŒï¼šæ”¯æŒ <code>HTTPS</code> ä¼ è¾“</li><li>æ–°å¢æ–¹æ³•ï¼š<code>PUT PATCH OPTIONS DELETE</code></li></ul><p>HTTP&#x2F;1.1 ç¼ºç‚¹</p><ul><li>å•è·¯è¿æ¥è¯·æ±‚ä½æ•ˆï¼šæ¯ä¸ª TCP è¿æ¥åªèƒ½å¯¹åº”ä¸€ä¸ª HTTP è¯·æ±‚</li><li>é˜Ÿå¤´é˜»å¡ï¼šå½“é¡ºåºå‘é€çš„è¯·æ±‚åºåˆ—ä¸­çš„ä¸€ä¸ªè¯·æ±‚å› ä¸ºæŸç§åŸå› è¢«é˜»å¡æ—¶ï¼Œåœ¨åé¢æ’é˜Ÿçš„æ‰€æœ‰è¯·æ±‚ä¹Ÿä¸€å¹¶è¢«é˜»å¡ï¼Œä¼šå¯¼è‡´å®¢æˆ·ç«¯è¿Ÿè¿Ÿæ”¶ä¸åˆ°æ•°æ®ã€‚</li><li>å¤´ä¿¡æ¯å†—ä½™</li><li>åªå…è®¸ç”±å®¢æˆ·ç«¯ä¸»åŠ¨å‘èµ·è¯·æ±‚</li><li>æ˜æ–‡ä¼ è¾“</li></ul><h3 id="HTTP-2-0"><a href="#HTTP-2-0" class="headerlink" title="HTTP&#x2F;2.0"></a>HTTP&#x2F;2.0</h3><blockquote><p>2015 å¹´å‘å¸ƒï¼Œä¸»è¦åŸºäº SPDY åè®®ï¼ˆ2009 å¹´è°·æ­Œå…¬å¼€äº†è‡ªè¡Œç ”å‘çš„ SPDY åè®®ï¼Œä¸»è¦è§£å†³ HTTP&#x2F;1.1 æ•ˆç‡ä¸é«˜çš„é—®é¢˜ï¼‰</p></blockquote><ul><li><strong>äºŒè¿›åˆ¶ä¼ è¾“</strong>ï¼šå¤´ä¿¡æ¯å’Œæ•°æ®ä½“éƒ½æ˜¯äºŒè¿›åˆ¶</li><li><strong>å¤šè·¯å¤ç”¨&#x2F;äºŒè¿›åˆ¶åˆ†å¸§</strong>ï¼šåœ¨ä¸€ä¸ª TCP è¿æ¥ä¸­å¯ä»¥åŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚</li><li><strong>å¤´éƒ¨å‹ç¼©</strong>ï¼ˆä½¿ç”¨ HPACK ç®—æ³•è¿›è¡Œå‹ç¼©ï¼‰</li><li><strong>æœåŠ¡å™¨æ¨é€</strong>ï¼šå…è®¸æœåŠ¡å™¨æœªç»è¯·æ±‚ä¸»åŠ¨å‘å®¢æˆ·ç«¯å‘é€èµ„æº</li><li><strong>è¯·æ±‚ä¼˜å…ˆçº§</strong></li></ul><p>HTTP&#x2F;2.0 ç¼ºç‚¹</p><ul><li>å»ºç«‹è¿æ¥æ—¶é—´é•¿ï¼ˆæœ¬è´¨ä¸Šæ˜¯ TCP çš„é—®é¢˜ï¼‰</li><li>æ²¡æœ‰å½»åº•è§£å†³é˜Ÿå¤´é˜»å¡é—®é¢˜</li><li>å¼±ç½‘ç¯å¢ƒè¡¨ç°ä¸ä½³</li></ul><h3 id="HTTP-3-0"><a href="#HTTP-3-0" class="headerlink" title="HTTP&#x2F;3.0"></a>HTTP&#x2F;3.0</h3><p>HTTP&#x2F;3.0 åˆç§°ä¸º HTTP Over QUICï¼Œå…¶å¼ƒç”¨ TCP åè®®ï¼Œæ”¹ä¸ºä½¿ç”¨åŸºäº UDP åè®®çš„ QUIC åè®®æ¥å®ç°</p><ul><li>å®ç°äº†ç±»ä¼¼ TCP çš„æµé‡æ§åˆ¶ã€ä¼ è¾“å¯é æ€§çš„åŠŸèƒ½</li><li>å®ç°äº†å¿«é€Ÿæ¡æ‰‹åŠŸèƒ½</li><li>é›†æˆäº† TLS åŠ å¯†åŠŸèƒ½</li><li>å¤šè·¯å¤ç”¨ï¼Œå½»åº•è§£å†³ TCP ä¸­é˜Ÿå¤´é˜»å¡çš„é—®é¢˜</li></ul><h2 id="HTTP-çŠ¶æ€ç "><a href="#HTTP-çŠ¶æ€ç " class="headerlink" title="HTTP çŠ¶æ€ç "></a>HTTP çŠ¶æ€ç </h2><p><code>HTTP</code> çŠ¶æ€ç çš„èŒè´£æ˜¯å½“å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯å‘é€è¯·æ±‚æ—¶ï¼Œæè¿°è¿”å›çš„è¯·æ±‚ç»“æœã€‚å€ŸåŠ©çŠ¶æ€ç ï¼Œç”¨æˆ·å¯ä»¥çŸ¥é“æœåŠ¡å™¨ç«¯æ˜¯æ­£å¸¸å¤„ç†äº†è¯·æ±‚ï¼Œè¿˜æ˜¯å‡ºç°äº†é”™è¯¯ã€‚</p><p>ä¸»è¦æœ‰ä»¥ä¸‹ <code>5</code> å“åº”ç±»åˆ«çš„çŠ¶æ€ç </p><ul><li><code>1XX</code> æ˜¯ä¿¡æ¯æ€§çŠ¶æ€ç ï¼Œè¡¨ç¤ºæ¥æ”¶çš„è¯·æ±‚æ­£åœ¨å¤„ç†</li><li><code>2XX</code> æ˜¯æˆåŠŸçŠ¶æ€ç ï¼Œè¡¨ç¤ºè¯·æ±‚æ­£å¸¸å¤„ç†å®Œæ¯•</li><li><code>3XX</code> æ˜¯é‡å®šå‘çŠ¶æ€ç ï¼Œè¡¨ç¤ºéœ€è¦è¿›è¡Œé™„åŠ æ“ä½œä»¥å®Œæˆè¯·æ±‚</li><li><code>4XX</code> æ˜¯å®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚</li><li><code>5XX</code> æ˜¯æœåŠ¡å™¨é”™è¯¯çŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨å¤„ç†è¯·æ±‚å‡ºé”™</li></ul><h3 id="2XX-æˆåŠŸ"><a href="#2XX-æˆåŠŸ" class="headerlink" title="2XX æˆåŠŸ"></a>2XX æˆåŠŸ</h3><ul><li><code>200 OK</code> è¡¨ç¤ºä»å®¢æˆ·ç«¯å‘æ¥çš„è¯·æ±‚åœ¨æœåŠ¡å™¨ç«¯è¢«æ­£å¸¸å¤„ç†</li><li><code>204 No Content</code> è¡¨ç¤ºè¯·æ±‚æˆåŠŸä½†åœ¨è¿”å›çš„å“åº”æŠ¥æ–‡ä¸­ä¸å«å®ä½“çš„ä¸»ä½“éƒ¨åˆ†</li><li><code>206 Partial Content</code> è¡¨ç¤ºå®¢æˆ·ç«¯è¿›è¡Œäº†èŒƒå›´è¯·æ±‚</li></ul><h3 id="3XX-é‡å®šå‘"><a href="#3XX-é‡å®šå‘" class="headerlink" title="3XX é‡å®šå‘"></a>3XX é‡å®šå‘</h3><ul><li><code>301 Moved Permanently</code> æ°¸ä¹…æ€§é‡å®šå‘ï¼Œè¡¨ç¤ºèµ„æºå·²è¢«åˆ†é…äº†æ–°çš„ <code>URL</code></li><li><code>302 Found</code> ä¸´æ—¶æ€§é‡å®šå‘ï¼Œè¡¨ç¤ºèµ„æºä¸´æ—¶è¢«åˆ†é…äº†æ–°çš„ <code>URL</code></li><li><code>303 See Other</code> è¡¨ç¤ºèµ„æºå­˜åœ¨ç€å¦ä¸€ä¸ª <code>URL</code>ï¼Œåº”ä½¿ç”¨ <code>GET</code> æ–¹æ³•å®šå‘è·å–è¯·æ±‚çš„èµ„æº</li><li><code>304 Not Modified</code> è¡¨ç¤ºå®¢æˆ·ç«¯å‘é€é™„å¸¦æ¡ä»¶çš„è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ç«¯å…è®¸è¯·æ±‚è®¿é—®èµ„æºä½†æœªæ»¡è¶³æ¡ä»¶çš„æƒ…å†µ</li><li><code>307 Temporary Redirect</code> ä¸´æ—¶é‡å®šå‘ï¼Œå’Œ <code>302 Found</code> æœ‰ç€ç›¸åŒçš„å«ä¹‰</li></ul><h3 id="4XX-å®¢æˆ·ç«¯é”™è¯¯"><a href="#4XX-å®¢æˆ·ç«¯é”™è¯¯" class="headerlink" title="4XX å®¢æˆ·ç«¯é”™è¯¯"></a>4XX å®¢æˆ·ç«¯é”™è¯¯</h3><ul><li><code>400 Bad Request</code> è¡¨ç¤ºè¯·æ±‚æŠ¥æ–‡ä¸­å­˜åœ¨è¯­æ³•é”™è¯¯</li><li><code>401 Unauthorized</code> è¡¨ç¤ºå‘é€çš„è¯·æ±‚éœ€è¦æœ‰é€šè¿‡ <code>HTTP</code> è®¤è¯çš„è®¤è¯ä¿¡æ¯</li><li><code>403 Forbidden</code> è¡¨ç¤ºå¯¹è¯·æ±‚èµ„æºçš„è®¿é—®è¢«æœåŠ¡å™¨æ‹’ç»</li><li><code>404 Not Found</code> è¡¨ç¤ºæœåŠ¡å™¨ä¸Šæ— æ³•æ‰¾åˆ°è¯·æ±‚çš„èµ„æº</li></ul><h3 id="5XX-æœåŠ¡å™¨é”™è¯¯"><a href="#5XX-æœåŠ¡å™¨é”™è¯¯" class="headerlink" title="5XX æœåŠ¡å™¨é”™è¯¯"></a>5XX æœåŠ¡å™¨é”™è¯¯</h3><ul><li><code>500 Internal Server Error</code> è¡¨ç¤ºæœåŠ¡å™¨ç«¯åœ¨æ‰§è¡Œè¯·æ±‚æ—¶å‘ç”Ÿäº†é”™è¯¯</li><li><code>503 Service Unavailable</code> è¡¨ç¤ºæœåŠ¡å™¨æš‚æ—¶å¤„äºè¶…è´Ÿè½½æˆ–æ­£åœ¨è¿›è¡Œåœæœºç»´æŠ¤ï¼Œç°åœ¨æ— æ³•å¤„ç†è¯·æ±‚</li></ul><h3 id="çŠ¶æ€ç "><a href="#çŠ¶æ€ç " class="headerlink" title="çŠ¶æ€ç "></a><strong>çŠ¶æ€ç </strong></h3><table><thead><tr><th>çŠ¶æ€ç </th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>200</td><td>ï¼ˆæˆåŠŸï¼‰æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚ã€‚</td></tr><tr><td>201</td><td>ï¼ˆå·²åˆ›å»ºï¼‰è¯·æ±‚æˆåŠŸå¹¶ä¸”æœåŠ¡å™¨åˆ›å»ºäº†æ–°çš„èµ„æºã€‚</td></tr><tr><td>204</td><td>ï¼ˆæ— å†…å®¹ï¼‰æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹ã€‚</td></tr><tr><td>301</td><td>ï¼ˆæ°¸ä¹…ç§»åŠ¨ï¼‰è¯·æ±‚çš„ç½‘é¡µå·²æ°¸ä¹…ç§»åŠ¨åˆ°æ–°ä½ç½®ã€‚</td></tr><tr><td>302</td><td>ï¼ˆä¸´æ—¶ç§»åŠ¨ï¼‰æœåŠ¡å™¨ç›®å‰ä»ä¸åŒçš„ä½ç½®å“åº”è¯·æ±‚ã€‚</td></tr><tr><td>400</td><td>ï¼ˆé”™è¯¯è¯·æ±‚ï¼‰æœåŠ¡å™¨ä¸ç†è§£è¯·æ±‚çš„è¯­æ³•ã€‚</td></tr><tr><td>401</td><td>ï¼ˆæœªæˆæƒï¼‰è¯·æ±‚è¦æ±‚èº«ä»½éªŒè¯ã€‚</td></tr><tr><td>403</td><td>ï¼ˆç¦æ­¢ï¼‰æ— æƒé™, æœåŠ¡å™¨æ‹’ç»è¯·æ±‚ã€‚</td></tr><tr><td>404</td><td>ï¼ˆæœªæ‰¾åˆ°ï¼‰ æœåŠ¡å™¨æ‰¾ä¸åˆ°è¯·æ±‚çš„èµ„æº</td></tr><tr><td>408</td><td>ï¼ˆè¶…æ—¶ï¼‰ è¯·æ±‚è¶…æ—¶</td></tr><tr><td>422</td><td>ï¼ˆéªŒè¯é”™è¯¯ï¼‰ è¯·æ±‚å‚æ•°æœªé€šè¿‡éªŒè¯</td></tr><tr><td>429</td><td>ï¼ˆè¢«é™åˆ¶ï¼‰è¯·æ±‚æ¬¡æ•°è¿‡å¤š</td></tr><tr><td>500</td><td>ï¼ˆæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼‰ æœåŠ¡å™¨é‡åˆ°é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ã€‚</td></tr><tr><td>501</td><td>ï¼ˆå°šæœªå®æ–½ï¼‰ æœåŠ¡å™¨ä¸å…·å¤‡å®Œæˆè¯·æ±‚çš„åŠŸèƒ½ã€‚</td></tr><tr><td>502</td><td>ï¼ˆé”™è¯¯ç½‘å…³ï¼‰ æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°æ— æ•ˆå“åº”ã€‚</td></tr><tr><td>503</td><td>ï¼ˆæœåŠ¡ä¸å¯ç”¨ï¼‰ æœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼ˆç”±äºè¶…è½½æˆ–åœæœºç»´æŠ¤ï¼‰ã€‚ é€šå¸¸ï¼Œè¿™åªæ˜¯æš‚æ—¶çŠ¶æ€ã€‚</td></tr><tr><td>504</td><td>ï¼ˆç½‘å…³è¶…æ—¶ï¼‰ æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ã€‚</td></tr><tr><td>505</td><td>ï¼ˆHTTP ç‰ˆæœ¬ä¸å—æ”¯æŒï¼‰ æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚ä¸­æ‰€ç”¨çš„ HTTP åè®®ç‰ˆæœ¬ã€‚</td></tr></tbody></table><h2 id="GET-å’Œ-POST-çš„åŒºåˆ«"><a href="#GET-å’Œ-POST-çš„åŒºåˆ«" class="headerlink" title="GET å’Œ POST çš„åŒºåˆ«"></a>GET å’Œ POST çš„åŒºåˆ«</h2><blockquote><p>å®‰å…¨æ˜¯æŒ‡è¯·æ±‚æ–¹æ³•ä¸ä¼šç ´åæœåŠ¡å™¨ä¸Šçš„èµ„æº</p><p>å¹‚ç­‰æ˜¯æŒ‡å¤šæ¬¡æ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œå…¶ç»“æœéƒ½æ˜¯ç›¸åŒçš„</p></blockquote><ul><li><p>è¯­ä¹‰ä¸Š</p><p>ï¼ˆæœ€æœ¬è´¨çš„åŒºåˆ«ï¼‰</p><ul><li><code>GET</code> æ˜¯ä»æœåŠ¡å™¨è·å–æŒ‡å®šçš„èµ„æºï¼Œ<code>GET</code> æ–¹æ³•æ˜¯å®‰å…¨ã€å¹‚ç­‰ã€å¯è¢«ç¼“å­˜çš„</li><li><code>POST</code> æ˜¯æ ¹æ®è¯·æ±‚è´Ÿè·ï¼ˆæŠ¥æ–‡ bodyï¼‰å¯¹æŒ‡å®šçš„èµ„æºåšå‡ºå¤„ç†ï¼Œå…·ä½“çš„å¤„ç†æ–¹å¼è§†èµ„æºç±»å‹è€Œä¸åŒã€‚<code>POST</code> ä¸å®‰å…¨ã€ä¸å¹‚ç­‰ã€ï¼ˆå¤§éƒ¨åˆ†å®ç°ï¼‰ä¸å¯ç¼“å­˜ã€‚</li></ul></li></ul><p>åœ¨å®é™…è¿‡ç¨‹ä¸­å¼€å‘è€…ä¸ä¸€å®šä¼šæŒ‰ç…§ RFC è§„èŒƒå®šä¹‰çš„è¯­ä¹‰æ¥å®ç° <code>GET</code> å’Œ <code>POST</code> æ–¹æ³•</p><ul><li>å¯ä»¥ç”¨ <code>GET</code> æ–¹æ³•å®ç°æ–°å¢æˆ–åˆ é™¤æ•°æ®çš„è¯·æ±‚ï¼Œè¿™æ ·å®ç°çš„ <code>GET</code> æ–¹æ³•è‡ªç„¶å°±ä¸æ˜¯å®‰å…¨å’Œå¹‚ç­‰ï¼›</li><li>å¯ä»¥ç”¨ <code>POST</code> æ–¹æ³•å®ç°æŸ¥è¯¢æ•°æ®çš„è¯·æ±‚ï¼Œè¿™æ ·å®ç°çš„ <code>POST</code> æ–¹æ³•è‡ªç„¶å°±æ˜¯å®‰å…¨å’Œå¹‚ç­‰</li></ul><p>GET è¯·æ±‚å¯ä»¥å¸¦ body å—ï¼Ÿ</p><p>RFC è§„èŒƒå¹¶æ²¡æœ‰è§„å®š <code>GET</code> è¯·æ±‚ä¸èƒ½å¸¦ bodyã€‚åªæ˜¯å› ä¸º RFC è§„èŒƒå®šä¹‰çš„ <code>GET</code> è¯·æ±‚æ˜¯è·å–èµ„æºï¼Œæ‰€ä»¥æ ¹æ®è¿™ä¸ªè¯­ä¹‰ä¸éœ€è¦ç”¨åˆ° bodyã€‚<br><strong>ç†è®ºä¸Šä»»ä½• HTTP è¯·æ±‚éƒ½å¯ä»¥å¸¦ bodyï¼Œä»»ä½• HTTP è¯·æ±‚çš„ URL ä¹Ÿå¯ä»¥æºå¸¦æŸ¥è¯¢å‚æ•°</strong></p>]]></content>
      
      
      <categories>
          
          <category> æµè§ˆå™¨ä¸ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TCP</title>
      <link href="/2023/09/13/TCP/"/>
      <url>/2023/09/13/TCP/</url>
      
        <content type="html"><![CDATA[<p>TCPï¼ˆTransmission Control Protocol ä¼ è¾“æ§åˆ¶åè®®ï¼‰æ˜¯ä¸€ä¸ª<strong>é¢å‘è¿æ¥çš„</strong>ã€<strong>å¯é çš„</strong>ã€<strong>åŸºäºå­—èŠ‚æµ</strong>çš„ä¼ è¾“å±‚é€šä¿¡åè®®</p><p>TCP è¿æ¥</p><p>TCP è¿æ¥æ˜¯ç”¨äºä¿è¯å¯é æ€§å’Œæµé‡æ§åˆ¶ç»´æŠ¤çš„æŸäº›çŠ¶æ€ä¿¡æ¯çš„ç»„åˆï¼Œè¿™äº›ä¿¡æ¯åŒ…æ‹¬ Socketã€åºåˆ—å·å’Œçª—å£å¤§å°</p><ul><li><strong>Socket</strong>ï¼šç”± IP åœ°å€å’Œç«¯å£å·ç»„æˆ</li><li><strong>åºåˆ—å·</strong>ï¼šç”¨æ¥è§£å†³ä¹±åºé—®é¢˜ç­‰</li><li><strong>çª—å£å¤§å°</strong>ï¼šç”¨æ¥åšæµé‡æ§åˆ¶</li></ul><p>TCP å››å…ƒç»„</p><ul><li>æºåœ°å€</li><li>æºç«¯å£</li><li>ç›®çš„åœ°å€</li><li>ç›®çš„ç«¯å£</li></ul><p>TCP å››å…ƒç»„å¯ä»¥å”¯ä¸€çš„ç¡®å®šä¸€ä¸ªè¿æ¥</p><h2 id="ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹"></a>ä¸‰æ¬¡æ¡æ‰‹</h2><blockquote><p>TCP è¿æ¥å»ºç«‹</p></blockquote><p><strong>ä¸‰æ¬¡æ¡æ‰‹</strong>æ˜¯æŒ‡åœ¨å»ºç«‹ä¸€ä¸ª TCP è¿æ¥æ—¶å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ€»å…±è¦<strong>å‘é€ 3 ä¸ªæ•°æ®åŒ…ä»¥ç¡®è®¤è¿æ¥çš„å»ºç«‹</strong></p><p>ä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/tcp-three-handshakes.dd478e65.png" alt="TCP ä¸‰æ¬¡æ¡æ‰‹"></p><p>æœ€å¼€å§‹æ—¶å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½å¤„äº <code>CLOSED</code> çŠ¶æ€ã€‚ç„¶åæœåŠ¡å™¨ä¸»åŠ¨ç›‘å¬æŸä¸ªç«¯å£ï¼ˆæ­¤æ—¶å¤„äº <code>LISTEN</code> çŠ¶æ€ï¼‰</p><h3 id="ç¬¬ä¸€æ¬¡æ¡æ‰‹"><a href="#ç¬¬ä¸€æ¬¡æ¡æ‰‹" class="headerlink" title="ç¬¬ä¸€æ¬¡æ¡æ‰‹"></a>ç¬¬ä¸€æ¬¡æ¡æ‰‹</h3><blockquote><p><strong>ç”±å®¢æˆ·ç«¯å‘èµ·</strong></p></blockquote><p>å®¢æˆ·ç«¯ä¼šéšæœºåˆå§‹åŒ–ä¸€ä¸ªåºåˆ—å·ï¼ˆ<code>client_isn</code>ï¼‰ç„¶åå‘é€ä¸€ä¸ªå¸¦æœ‰ <code>SYN</code> <code>seq = client_isn</code> ä¿¡æ¯çš„æ•°æ®åŒ…ã€‚å‘é€å®Œæˆåå®¢æˆ·ç«¯è¿›å…¥ <code>SYN_SEND</code> çŠ¶æ€ï¼ˆè¿æ¥å‘é€çŠ¶æ€ï¼‰</p><ul><li><code>SYN</code> æ˜¯ä¸€ä¸ªæ ‡å¿—ä½ï¼Œä¸º 1 æ—¶è¡¨ç¤ºå¸Œæœ›å»ºç«‹è¿æ¥</li><li><code>seq = client_isn</code> æ˜¯å®¢æˆ·ç«¯éšæœºåˆå§‹åŒ–çš„åºåˆ—å·ï¼ˆä¸€ä¸ª 32 ä½çš„æ— ç¬¦å·æ•°ï¼‰</li></ul><h3 id="ç¬¬äºŒæ¬¡æ¡æ‰‹"><a href="#ç¬¬äºŒæ¬¡æ¡æ‰‹" class="headerlink" title="ç¬¬äºŒæ¬¡æ¡æ‰‹"></a>ç¬¬äºŒæ¬¡æ¡æ‰‹</h3><blockquote><p><strong>ç”±æœåŠ¡å™¨å‘èµ·</strong></p></blockquote><p>æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„ <code>SYN</code> æŠ¥æ–‡åï¼Œé¦–å…ˆä¼šéšæœºåˆå§‹åŒ–è‡ªå·±çš„åºåˆ—å·ï¼ˆ<code>server_isn</code>ï¼‰ç„¶åå‘é€ä¸€ä¸ªå¸¦æœ‰ <code>SYN</code> <code>ACK</code> <code>seq = server_isn</code> <code>ack = client_isn + 1</code> ä¿¡æ¯çš„æ•°æ®åŒ…ã€‚å‘é€å®ŒæˆåæœåŠ¡å™¨è¿›å…¥ <code>SYN_RCVD</code> çŠ¶æ€ï¼ˆè¿æ¥æ”¶åˆ°çŠ¶æ€ï¼‰</p><ul><li><code>ACK</code> æ˜¯ä¸€ä¸ªæ ‡å¿—ä½ï¼Œè¡¨ç¤ºæ”¶åˆ°äº†è¯·æ±‚</li><li><code>seq = server_isn</code> æ˜¯æœåŠ¡å™¨éšæœºåˆå§‹åŒ–çš„åºåˆ—å·ï¼ˆä¸€ä¸ª 32 ä½çš„æ— ç¬¦å·æ•°ï¼‰</li><li><code>ack = client_isn + 1</code> æ˜¯ä¸€ä¸ªç¡®è®¤åº”ç­”å·ï¼Œå€¼ä¸º<strong>å®¢æˆ·ç«¯åºåˆ—å· + 1</strong></li></ul><h3 id="ç¬¬ä¸‰æ¬¡æ¡æ‰‹"><a href="#ç¬¬ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ç¬¬ä¸‰æ¬¡æ¡æ‰‹"></a>ç¬¬ä¸‰æ¬¡æ¡æ‰‹</h3><blockquote><p><strong>ç”±å®¢æˆ·ç«¯å‘èµ·</strong></p></blockquote><p>å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨æŠ¥æ–‡åï¼Œä¼šå†å‘é€ä¸€ä¸ªå¸¦æœ‰ <code>ACK</code> <code>ack = server_isn + 1</code> ä¿¡æ¯çš„æ•°æ®åŒ…ã€‚å‘é€å®Œæˆåå®¢æˆ·ç«¯è¿›å…¥ <code>ESTABLISHED</code> çŠ¶æ€ï¼ˆè¿æ¥æˆåŠŸçŠ¶æ€ï¼‰æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯å‘é€çš„åº”ç­”æŠ¥æ–‡åŒ…åä¹Ÿä¼šè¿›å…¥ <code>ESTABLISHED</code> çŠ¶æ€</p><ul><li><code>ack = server_isn + 1</code> æ˜¯ä¸€ä¸ªç¡®è®¤åº”ç­”å·ï¼Œå€¼ä¸º<strong>æœåŠ¡å™¨åºåˆ—å· + 1</strong></li></ul><p>ä¸‰æ¬¡æ¡æ‰‹å¯ä»¥ä¿è¯å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨èƒ½å¤Ÿç¡®è®¤åŒæ–¹çš„æ¥æ”¶å’Œå‘é€èƒ½åŠ›æ˜¯å¦æ­£å¸¸</p><ul><li><p>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å‘é€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SYN</span><br></pre></td></tr></table></figure><p>æŠ¥æ–‡ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ¥æ”¶è¯¥æŠ¥æ–‡</p><ul><li>å®¢æˆ·ç«¯ä»€ä¹ˆéƒ½ä¸èƒ½ç¡®è®¤</li><li>æœåŠ¡å™¨ç¡®è®¤ï¼šè‡ªå·±æ¥æ”¶æ­£å¸¸ï¼Œå¯¹æ–¹å‘é€æ­£å¸¸</li></ul></li><li><p>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨å‘é€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SYN + ACK</span><br></pre></td></tr></table></figure><p>æŠ¥æ–‡ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯æ¥æ”¶è¯¥æŠ¥æ–‡</p><ul><li>å®¢æˆ·ç«¯ç¡®è®¤ï¼šè‡ªå·±å‘é€æ­£å¸¸ã€æ¥æ”¶æ­£å¸¸ï¼Œå¯¹æ–¹å‘é€æ­£å¸¸ã€æ¥æ”¶æ­£å¸¸</li><li>æœåŠ¡å™¨ç¡®è®¤ï¼šè‡ªå·±æ¥æ”¶æ­£å¸¸ï¼Œå¯¹æ–¹å‘é€æ­£å¸¸</li></ul></li><li><p>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å‘é€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ACK</span><br></pre></td></tr></table></figure><p>æŠ¥æ–‡ç»™æœåŠ¡å™¨</p><ul><li>å®¢æˆ·ç«¯åœ¨ç¬¬äºŒæ¬¡æ¡æ‰‹æ—¶å·²ç»å®Œæˆç¡®è®¤</li><li>æœåŠ¡å™¨ç¡®è®¤ï¼šè‡ªå·±å‘é€æ­£å¸¸ï¼Œæ¥æ”¶æ­£å¸¸ï¼Œå¯¹æ–¹å‘é€æ­£å¸¸ã€æ¥æ”¶æ­£å¸¸</li></ul></li></ul><h3 id="ä¸‰æ¬¡æ¡æ‰‹çš„ä½œç”¨ï¼Ÿ"><a href="#ä¸‰æ¬¡æ¡æ‰‹çš„ä½œç”¨ï¼Ÿ" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹çš„ä½œç”¨ï¼Ÿ"></a>ä¸‰æ¬¡æ¡æ‰‹çš„ä½œç”¨ï¼Ÿ</h3><ol><li>é˜²æ­¢æ—§çš„é‡å¤è¿æ¥åˆå§‹åŒ–é€ æˆæ··ä¹±</li><li>åŒæ­¥åŒæ–¹åˆå§‹åºåˆ—å·ï¼ˆåºåˆ—å·èƒ½å¤Ÿä¿è¯æ•°æ®åŒ…ä¸é‡å¤ã€ä¸ä¸¢å¼ƒå’ŒæŒ‰åºä¼ è¾“ï¼‰</li><li>é¿å…èµ„æºæµªè´¹</li></ol><h3 id="ä¸ºä»€ä¹ˆä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹"><a href="#ä¸ºä»€ä¹ˆä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸ºä»€ä¹ˆä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹?"></a>ä¸ºä»€ä¹ˆä¸æ˜¯ä¸¤æ¬¡æ¡æ‰‹?</h3><p>ä¸¤æ¬¡æ¡æ‰‹æ— æ³•é˜²æ­¢å†å²è¿æ¥çš„å»ºç«‹ï¼Œä¼šé€ æˆåŒæ–¹èµ„æºçš„æµªè´¹ï¼Œä¹Ÿæ— æ³•å¯é çš„åŒæ­¥åŒæ–¹åºåˆ—å·</p><h3 id="ä¸ºä»€ä¹ˆä¸æ˜¯å››æ¬¡æ¡æ‰‹"><a href="#ä¸ºä»€ä¹ˆä¸æ˜¯å››æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸ºä»€ä¹ˆä¸æ˜¯å››æ¬¡æ¡æ‰‹?"></a>ä¸ºä»€ä¹ˆä¸æ˜¯å››æ¬¡æ¡æ‰‹?</h3><p>å› ä¸ºé€šè¿‡å‰ä¸‰æ¬¡å·²ç»å¯ä»¥å»ºç«‹ä¸€ä¸ªå¯é çš„è¿æ¥ï¼Œå¦‚æœå†å‘é€ç¬¬å››æ¬¡ç¡®è®¤æ¶ˆæ¯ä¼šæµªè´¹èµ„æºï¼Œæ‰€ä»¥ä¸éœ€è¦ä½¿ç”¨æ›´å¤šçš„é€šä¿¡æ¬¡æ•°</p><h3 id="ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥æºå¸¦æ•°æ®å—ï¼Ÿ"><a href="#ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥æºå¸¦æ•°æ®å—ï¼Ÿ" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥æºå¸¦æ•°æ®å—ï¼Ÿ"></a>ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥æºå¸¦æ•°æ®å—ï¼Ÿ</h3><p>ç¬¬ä¸€æ¬¡ã€ç¬¬äºŒæ¬¡æ¡æ‰‹ä¸å¯ä»¥æºå¸¦æ•°æ®ï¼Œç¬¬ä¸‰æ¬¡æ¡æ‰‹å¯ä»¥æºå¸¦æ•°æ®ï¼Œå› ä¸ºåœ¨ç¬¬ä¸‰æ¬¡æ¡æ‰‹æ—¶å®¢æˆ·ç«¯å·²ç»å¤„äºè¿æ¥çŠ¶æ€ï¼Œå·²ç»çŸ¥é“æœåŠ¡å™¨çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ˜¯æ­£å¸¸çš„</p><h2 id="å››æ¬¡æŒ¥æ‰‹"><a href="#å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="å››æ¬¡æŒ¥æ‰‹"></a>å››æ¬¡æŒ¥æ‰‹</h2><blockquote><p>TCP è¿æ¥æ–­å¼€</p></blockquote><p><strong>å››æ¬¡æŒ¥æ‰‹</strong>æ˜¯æŒ‡æ–­å¼€ä¸€ä¸ª TCP è¿æ¥æ—¶å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ€»å…±<strong>å‘é€ 4 ä¸ªåŒ…ä»¥ç¡®è®¤è¿æ¥çš„æ–­å¼€</strong><br><strong>å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åŒæ–¹éƒ½å¯ä»¥ä¸»åŠ¨æ–­å¼€è¿æ¥</strong></p><p>å››æ¬¡æŒ¥æ‰‹çš„è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/tcp-four-waves.3c9d16cd.png" alt="TCP å››æ¬¡æŒ¥æ‰‹"></p><p>æœ€å¼€å§‹æ—¶å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½å¤„äº <code>ESTABLISHED</code> çŠ¶æ€</p><h3 id="ç¬¬ä¸€æ¬¡æŒ¥æ‰‹"><a href="#ç¬¬ä¸€æ¬¡æŒ¥æ‰‹" class="headerlink" title="ç¬¬ä¸€æ¬¡æŒ¥æ‰‹"></a>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹</h3><p>å®¢æˆ·ç«¯å…ˆå‘é€ä¸€ä¸ªå¸¦æœ‰ <code>FIN=1</code> ä¿¡æ¯çš„æ•°æ®åŒ…ï¼Œç„¶åå®¢æˆ·ç«¯è¿›å…¥ <code>FIN_WAIT_1</code> çŠ¶æ€</p><h3 id="ç¬¬äºŒæ¬¡æŒ¥æ‰‹"><a href="#ç¬¬äºŒæ¬¡æŒ¥æ‰‹" class="headerlink" title="ç¬¬äºŒæ¬¡æŒ¥æ‰‹"></a>ç¬¬äºŒæ¬¡æŒ¥æ‰‹</h3><p>æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„ <code>FIN</code> æŠ¥æ–‡åï¼Œå°±å‘å®¢æˆ·ç«¯å‘é€ <code>ACK</code> åº”ç­”æŠ¥æ–‡ï¼Œç„¶åæœåŠ¡å™¨è¿›å…¥ <code>CLOSED_WAIT</code> çŠ¶æ€<br>å½“å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„ <code>ACK</code> åº”ç­”æŠ¥æ–‡åä¼šè¿›å…¥ <code>FIN_WAIT_2</code> çŠ¶æ€</p><h3 id="ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹"><a href="#ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹" class="headerlink" title="ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹["></a>ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹[</h3><p>å½“æœåŠ¡å™¨å¤„ç†å®Œæ•°æ®åï¼Œä¼šå‘å®¢æˆ·ç«¯å‘é€ <code>FIN</code> æŠ¥æ–‡ï¼Œä¹‹åæœåŠ¡å™¨è¿›å…¥ <code>LAST_ACK</code> çŠ¶æ€</p><h3 id="ç¬¬å››æ¬¡æŒ¥æ‰‹"><a href="#ç¬¬å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="ç¬¬å››æ¬¡æŒ¥æ‰‹"></a>ç¬¬å››æ¬¡æŒ¥æ‰‹</h3><p>æœåŠ¡å™¨æ”¶åˆ°æœåŠ¡å™¨çš„ <code>FIN</code> æŠ¥æ–‡åï¼Œä¼šå›å¤ä¸€ä¸ª <code>ACK</code> åº”ç­”æŠ¥æ–‡ï¼Œä¹‹åè¿›å…¥ <code>TIME_WAIT</code> çŠ¶æ€<br>æœåŠ¡å™¨æ”¶åˆ°äº† <code>ACK</code> åº”ç­”æŠ¥æ–‡åï¼Œå°±è¿›å…¥äº† <code>CLOSED</code> çŠ¶æ€ï¼ˆ<strong>æœåŠ¡å™¨å®Œæˆè¿æ¥çš„å…³é—­</strong>ï¼‰<br>å®¢æˆ·ç«¯åœ¨ç»è¿‡ <code>2MSL</code> ä¸€æ®µæ—¶é—´åä¼šè‡ªåŠ¨è¿›å…¥ <code>CLOSED</code> çŠ¶æ€ï¼ˆ<strong>å®¢æˆ·ç«¯å®Œæˆè¿æ¥çš„å…³é—­</strong>ï¼‰</p><p>ä»€ä¹ˆæ˜¯ MSL</p><p><code>MSL</code> æ˜¯ Maximum Segment Lifetimeï¼ˆ<strong>æŠ¥æ–‡æœ€å¤§ç”Ÿå­˜æ—¶é—´</strong>ï¼‰æ˜¯ä»»ä½•æŠ¥æ–‡åœ¨ç½‘ç»œä¸Šå­˜åœ¨çš„æœ€é•¿æ—¶é—´ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´æŠ¥æ–‡å°†ä¼šè¢«ä¸¢å¼ƒ</p><p><code>2MSL</code> çš„æ—¶é—´æ˜¯ä»å®¢æˆ·ç«¯æ¥æ”¶åˆ° <code>FIN</code> åå‘é€ <code>ACK</code> å¼€å§‹è®¡æ—¶çš„ã€‚å¦‚æœåœ¨ <code>TIME-WAIT</code> æ—¶é—´å†…ï¼Œå› ä¸ºå®¢æˆ·ç«¯çš„ <code>ACK</code> æ²¡æœ‰ä¼ è¾“åˆ°æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯åˆæ¥æ”¶åˆ°äº†æœåŠ¡å™¨é‡å‘çš„ <code>FIN</code> æŠ¥æ–‡ï¼Œé‚£ä¹ˆ <code>2MSL</code> æ—¶é—´å°†é‡æ–°è®¡æ—¶</p><h3 id="ä¸ºä»€ä¹ˆæŒ¥æ‰‹éœ€è¦å››æ¬¡ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæŒ¥æ‰‹éœ€è¦å››æ¬¡ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæŒ¥æ‰‹éœ€è¦å››æ¬¡ï¼Ÿ"></a>ä¸ºä»€ä¹ˆæŒ¥æ‰‹éœ€è¦å››æ¬¡ï¼Ÿ</h3><ul><li>åœ¨å…³é—­è¿æ¥æ—¶å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ <code>FIN</code> æ—¶ï¼Œä»…è¡¨ç¤ºå®¢æˆ·ç«¯ä¸å†å‘é€æ•°æ®äº†ä½†æ˜¯è¿˜èƒ½æ¥æ”¶æ•°æ®ï¼›</li><li>å½“æœåŠ¡å™¨åœ¨æ”¶åˆ°å®¢æˆ·ç«¯çš„ <code>FIN</code> æŠ¥æ–‡æ—¶ï¼Œä¼šå…ˆå›ä¸€ä¸ª <code>ACK</code> åº”ç­”æŠ¥æ–‡ï¼Œè€ŒæœåŠ¡å™¨å¯èƒ½è¿˜æœ‰æ•°æ®éœ€è¦å¤„ç†å’Œå‘é€ï¼Œç­‰æœåŠ¡å™¨ä¸å†å‘é€æ•°æ®æ—¶ï¼Œæ‰å‘é€ <code>FIN</code> æŠ¥æ–‡ç»™å®¢æˆ·ç«¯æ¥è¡¨ç¤ºåŒæ„ç°åœ¨å…³é—­è¿æ¥ã€‚</li></ul><h3 id="ä¸ºä»€ä¹ˆéœ€è¦-TIME-WAIT-çŠ¶æ€ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦-TIME-WAIT-çŠ¶æ€ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦ TIME_WAIT çŠ¶æ€ï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦ TIME_WAIT çŠ¶æ€ï¼Ÿ</h3><blockquote><p>ä¸»åŠ¨å‘èµ·å…³é—­è¿æ¥çš„ä¸€æ–¹æ‰æœ‰ <code>TIME-WAIT</code> çŠ¶æ€</p></blockquote><ol><li>é˜²æ­¢å†å²è¿æ¥ä¸­çš„æ•°æ®ï¼Œè¢«åé¢ç›¸åŒå››å…ƒç»„çš„è¿æ¥é”™è¯¯çš„æ¥æ”¶ï¼›</li><li>ä¿è¯<strong>è¢«åŠ¨å…³é—­è¿æ¥</strong>çš„ä¸€æ–¹ï¼Œèƒ½è¢«æ­£ç¡®çš„å…³é—­ï¼›</li></ol><h3 id="ä¸ºä»€ä¹ˆ-TIME-WAIT-ç­‰å¾…çš„æ—¶é—´æ˜¯-2MSLï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆ-TIME-WAIT-ç­‰å¾…çš„æ—¶é—´æ˜¯-2MSLï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆ TIME_WAIT ç­‰å¾…çš„æ—¶é—´æ˜¯ 2MSLï¼Ÿ"></a>ä¸ºä»€ä¹ˆ TIME_WAIT ç­‰å¾…çš„æ—¶é—´æ˜¯ 2MSLï¼Ÿ</h3><ol><li>ä¿è¯æœåŠ¡å™¨èƒ½æ”¶åˆ°æœ€åçš„ <code>ACK</code> åº”ç­”æŠ¥æ–‡</li><li>è®©æ­¤æ¬¡ TCP è¿æ¥ä¸­çš„æ‰€æœ‰æŠ¥æ–‡åœ¨ç½‘ç»œä¸­æ¶ˆå¤±ï¼Œä»è€Œé¿å…å‰åä¸¤ä¸ªä½¿ç”¨ç›¸åŒå››å…ƒç»„çš„è¿æ¥ä¸­çš„å‰ä¸€ä¸ªè¿æ¥çš„æŠ¥æ–‡å¹²æ‰°åä¸€ä¸ªè¿æ¥</li></ol><p>å‡å¦‚å®¢æˆ·ç«¯åœ¨é€ <code>ACK</code> åï¼Œè¿™ä¸ª <code>ACK</code> åœ¨ <code>1MSL</code> æ—¶åˆ°è¾¾æœåŠ¡å™¨ï¼Œæ­¤æ—¶æœåŠ¡å™¨åœ¨æ”¶åˆ°è¿™ä¸ª <code>ACK</code> çš„å‰ä¸€åˆ¹é‚£ï¼Œä¸€ç›´åœ¨é‡ä¼  <code>FIN</code>ï¼Œè¿™ä¸ª <code>FIN</code> æœ€åä¼šåœ¨ <code>1MSL</code> æ—¶é—´å†…æ¶ˆå¤±ã€‚å› æ­¤ä»å®¢æˆ·ç«¯å‘é€ <code>ACK</code> çš„é‚£ä¸€åˆ¹é‚£å¼€å§‹ï¼Œç­‰å¾… <code>2MSL</code> å¯ä»¥ä¿è¯å®¢æˆ·ç«¯å‘é€çš„æœ€åä¸€ä¸ª <code>ACK</code> å’ŒæœåŠ¡å™¨å‘é€çš„æœ€åä¸€ä¸ª <code>FIN</code> éƒ½åœ¨ç½‘ç»œä¸­æ¶ˆå¤±</p><h2 id="TCP-å’Œ-UDP"><a href="#TCP-å’Œ-UDP" class="headerlink" title="TCP å’Œ UDP"></a>TCP å’Œ UDP</h2><h3 id="TCP-å’Œ-UDP-çš„åŒºåˆ«"><a href="#TCP-å’Œ-UDP-çš„åŒºåˆ«" class="headerlink" title="TCP å’Œ UDP çš„åŒºåˆ«"></a>TCP å’Œ UDP çš„åŒºåˆ«</h3><ul><li><ol><li><strong>è¿æ¥</strong></li></ol><ul><li>TCP æ˜¯é¢å‘è¿æ¥çš„ä¼ è¾“å±‚åè®®ï¼Œä¼ è¾“æ•°æ®å‰å…ˆè¦å»ºç«‹è¿æ¥ï¼›</li><li>UDP æ˜¯ä¸éœ€è¦è¿æ¥ï¼Œå³åˆ»ä¼ è¾“æ•°æ®ã€‚</li></ul></li><li><ol><li><strong>æœåŠ¡å¯¹è±¡</strong></li></ol><ul><li>TCP æ˜¯ä¸€å¯¹ä¸€çš„ä¸¤ç‚¹æœåŠ¡ï¼Œå³ä¸€æ¡è¿æ¥åªæœ‰ä¸¤ä¸ªç«¯ç‚¹ï¼›</li><li>UDP æ”¯æŒä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹å¤šçš„äº¤äº’é€šä¿¡ã€‚</li></ul></li><li><ol><li><strong>å¯é æ€§</strong></li></ol><ul><li>TCP æ˜¯å¯é äº¤ä»˜æ•°æ®çš„ï¼Œæ•°æ®å¯ä»¥æ— å·®é”™ã€ä¸ä¸¢å¤±ã€ä¸é‡å¤ã€æŒ‰éœ€åˆ°è¾¾ï¼›</li><li>UDP æ˜¯å°½æœ€å¤§åŠªåŠ›äº¤ä»˜ï¼Œä¸ä¿è¯å¯é äº¤ä»˜æ•°æ®ã€‚</li></ul></li><li><ol><li><strong>æ‹¥å¡æ§åˆ¶ã€æµé‡æ§åˆ¶</strong></li></ol><ul><li>TCP æœ‰æ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶æœºåˆ¶ï¼Œä¿è¯æ•°æ®ä¼ è¾“çš„å®‰å…¨æ€§ï¼›</li><li>UDP æ²¡æœ‰æ‹¥å¡æ§åˆ¶ã€æµé‡æ§åˆ¶ï¼Œå³ä½¿ç½‘ç»œéå¸¸æ‹¥å µäº†ï¼Œä¹Ÿä¸ä¼šå½±å“ UDP çš„å‘é€é€Ÿç‡ã€‚</li></ul></li><li><ol><li><strong>é¦–éƒ¨å¼€é”€</strong></li></ol><ul><li>TCP é¦–éƒ¨é•¿åº¦è¾ƒé•¿ä¼šæœ‰ä¸€å®šçš„å¼€é”€ï¼Œé¦–éƒ¨åœ¨æ²¡æœ‰ä½¿ç”¨â€œé€‰é¡¹â€å­—æ®µæ—¶æ˜¯ 20 ä¸ªå­—èŠ‚ï¼Œå¦‚æœä½¿ç”¨äº†â€œé€‰é¡¹â€å­—æ®µåˆ™ä¼šå˜é•¿çš„ï¼›</li><li>UDP é¦–éƒ¨åªæœ‰ 8 ä¸ªå­—èŠ‚ï¼Œå¹¶ä¸”æ˜¯å›ºå®šä¸å˜çš„ï¼Œå¼€é”€è¾ƒå°ã€‚</li></ul></li><li><ol><li><strong>ä¼ è¾“æ–¹å¼</strong></li></ol><ul><li>TCP æ˜¯æµå¼ä¼ è¾“ï¼Œæ²¡æœ‰è¾¹ç•Œï¼Œä½†ä¿è¯é¡ºåºå’Œå¯é ï¼›</li><li>UDP æ˜¯ä¸€ä¸ªåŒ…ä¸€ä¸ªåŒ…çš„å‘é€ï¼Œæ˜¯æœ‰è¾¹ç•Œçš„ï¼Œä½†å¯èƒ½ä¼šä¸¢åŒ…å’Œä¹±åºã€‚</li></ul></li><li><ol><li><strong>åˆ†ç‰‡ä¸åŒ</strong></li></ol><ul><li>TCP çš„æ•°æ®å¤§å°å¦‚æœå¤§äº MSS å¤§å°ï¼Œåˆ™ä¼šåœ¨ä¼ è¾“å±‚è¿›è¡Œåˆ†ç‰‡ï¼Œç›®æ ‡ä¸»æœºæ”¶åˆ°åï¼Œä¹ŸåŒæ ·åœ¨ä¼ è¾“å±‚ç»„è£… TCP æ•°æ®åŒ…ï¼Œå¦‚æœä¸­é€”ä¸¢å¤±äº†ä¸€ä¸ªåˆ†ç‰‡ï¼Œåªéœ€è¦ä¼ è¾“ä¸¢å¤±çš„è¿™ä¸ªåˆ†ç‰‡ã€‚</li><li>UDP çš„æ•°æ®å¤§å°å¦‚æœå¤§äº MTU å¤§å°ï¼Œåˆ™ä¼šåœ¨ IP å±‚è¿›è¡Œåˆ†ç‰‡ï¼Œç›®æ ‡ä¸»æœºæ”¶åˆ°åï¼Œåœ¨ IP å±‚ç»„è£…å®Œæ•°æ®ï¼Œæ¥ç€å†ä¼ ç»™ä¼ è¾“å±‚ã€‚</li></ul></li></ul><blockquote><p>MSSï¼ˆMaximum Segment Sizï¼‰æœ€å¤§åˆ†æ®µå¤§å°ï¼šä¸€ä¸ªç½‘ç»œåŒ…ä¸­é™¤å» IP å’Œ TCP å¤´éƒ¨ä¹‹åæ‰€èƒ½å®¹çº³çš„ TCP æ•°æ®çš„æœ€å¤§é•¿åº¦ MTUï¼ˆMaximum Transmission Unitï¼‰æœ€å¤§ä¼ è¾“å•å…ƒï¼šä¸€ä¸ªç½‘ç»œåŒ…çš„æœ€å¤§é•¿åº¦ï¼ˆä»¥å¤ªç½‘ä¸­ä¸€èˆ¬ä¸º 1500 å­—èŠ‚ï¼‰</p></blockquote><h3 id="TCP-å’Œ-UDP-çš„åº”ç”¨åœºæ™¯"><a href="#TCP-å’Œ-UDP-çš„åº”ç”¨åœºæ™¯" class="headerlink" title="TCP å’Œ UDP çš„åº”ç”¨åœºæ™¯"></a>TCP å’Œ UDP çš„åº”ç”¨åœºæ™¯</h3><ul><li>TCP é¢å‘è¿æ¥ï¼Œèƒ½ä¿è¯æ•°æ®çš„å¯é æ€§äº¤ä»˜ï¼Œå› æ­¤ç»å¸¸ç”¨äºï¼š<ul><li>FTP æ–‡ä»¶ä¼ è¾“</li><li>HTTP &#x2F; HTTPS</li></ul></li><li>UDP é¢å‘æ— è¿æ¥ï¼Œå¯éšæ—¶å‘é€æ•°æ®ï¼Œå…¶æœ¬èº«çš„å¤„ç†æ—¢ç®€å•åˆé«˜æ•ˆï¼Œå› æ­¤ç»å¸¸ç”¨äºï¼š<ul><li>åŒ…æ€»é‡è¾ƒå°‘çš„é€šä¿¡ï¼Œå¦‚ DNS ã€SNMP ç­‰</li><li>è§†é¢‘ã€éŸ³é¢‘ç­‰å¤šåª’ä½“é€šä¿¡</li><li>å¹¿æ’­é€šä¿¡</li></ul></li></ul><h3 id="TCP-å’Œ-UDP-å¯ä»¥åŒæ—¶ç»‘å®šç›¸åŒçš„ç«¯å£å—ï¼Ÿ"><a href="#TCP-å’Œ-UDP-å¯ä»¥åŒæ—¶ç»‘å®šç›¸åŒçš„ç«¯å£å—ï¼Ÿ" class="headerlink" title="TCP å’Œ UDP å¯ä»¥åŒæ—¶ç»‘å®šç›¸åŒçš„ç«¯å£å—ï¼Ÿ"></a>TCP å’Œ UDP å¯ä»¥åŒæ—¶ç»‘å®šç›¸åŒçš„ç«¯å£å—ï¼Ÿ</h3><p>ä¼ è¾“å±‚çš„<strong>ç«¯å£å·</strong>æ˜¯ç”¨äºè¯†åˆ«åŒä¸€è®¡ç®—æœºä¸­åŒæ—¶é€šä¿¡çš„ä¸åŒåº”ç”¨ç¨‹åºï¼Œè€Œ TCP å’Œ UDP æ˜¯ä¸¤ä¸ªä¸åŒçš„ä¼ è¾“å±‚åè®®ï¼Œå…¶åœ¨å†…æ ¸ä¸­æ˜¯ä¸¤ä¸ªå®Œå…¨ç‹¬ç«‹çš„è½¯ä»¶æ¨¡å—ã€‚<br>å½“ä¸»æœºæ”¶åˆ°æ•°æ®åŒ…åï¼Œå¯ä»¥åœ¨ IP åŒ…å¤´çš„<strong>åè®®å·</strong>å­—æ®µçŸ¥é“è¯¥æ•°æ®åŒ…æ˜¯ TCP è¿˜æ˜¯ UDPï¼Œæ‰€ä»¥å¯ä»¥æ ¹æ®è¿™ä¸ªä¿¡æ¯ç¡®å®šé€ç»™å“ªä¸ªæ¨¡å— (TCP&#x2F;UDP) å¤„ç†ï¼Œé€ç»™ TCP&#x2F;UDP æ¨¡å—çš„æŠ¥æ–‡æ ¹æ®<strong>ç«¯å£å·</strong>ç¡®å®šé€ç»™å“ªä¸ªåº”ç”¨ç¨‹åºå¤„ç†ã€‚<br>å› æ­¤ TCP å’Œ UDP å„è‡ªçš„ç«¯å£å·æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå¦‚ TCP æœ‰ä¸€ä¸ª 80 å·ç«¯å£ï¼ŒUDP ä¹Ÿå¯ä»¥æœ‰ä¸€ä¸ª 80 å·ç«¯å£ï¼ŒäºŒè€…å¹¶ä¸å†²çªã€‚</p><h2 id="TCP-ç›¸å…³å­¦ä¹ æ–‡ç« "><a href="#TCP-ç›¸å…³å­¦ä¹ æ–‡ç« " class="headerlink" title="TCP ç›¸å…³å­¦ä¹ æ–‡ç« "></a>TCP ç›¸å…³å­¦ä¹ æ–‡ç« </h2><p><a href="https://xiaolincoding.com/network/3_tcp/tcp_interview.html">TCP ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡æŒ¥æ‰‹é¢è¯•é¢˜ â€”â€” å°æ— coding</a></p>]]></content>
      
      
      <categories>
          
          <category> æµè§ˆå™¨ä¸ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TCP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµè§ˆå™¨çŸ¥è¯†</title>
      <link href="/2023/09/13/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86/"/>
      <url>/2023/09/13/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86/</url>
      
        <content type="html"><![CDATA[<h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><h3 id="çº¿ç¨‹å’Œè¿›ç¨‹"><a href="#çº¿ç¨‹å’Œè¿›ç¨‹" class="headerlink" title="çº¿ç¨‹å’Œè¿›ç¨‹"></a>çº¿ç¨‹å’Œè¿›ç¨‹</h3><blockquote><p>è¿›ç¨‹ï¼ˆprocessï¼‰å’Œçº¿ç¨‹ï¼ˆthreadï¼‰æ˜¯æ“ä½œç³»ç»Ÿçš„åŸºæœ¬æ¦‚å¿µ</p></blockquote><p>è¿›ç¨‹æ˜¯ CPU èµ„æºåˆ†é…çš„æœ€å°å•ä½ï¼ˆæ˜¯èƒ½æ‹¥æœ‰èµ„æºå’Œç‹¬ç«‹è¿è¡Œçš„æœ€å°å•ä½ï¼‰<br>çº¿ç¨‹æ˜¯ CPU è°ƒåº¦çš„æœ€å°å•ä½ï¼ˆæ˜¯å»ºç«‹åœ¨è¿›ç¨‹åŸºç¡€ä¸Šçš„ä¸€æ¬¡ç¨‹åºè¿è¡Œå•ä½ï¼‰</p><p><strong>ä¸€ä¸ªè¿›ç¨‹å°±æ˜¯ä¸€ä¸ªç¨‹åºçš„è¿è¡Œå®ä¾‹</strong>ï¼šå¯åŠ¨ä¸€ä¸ªç¨‹åºæ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šä¸ºè¯¥ç¨‹åºåˆ›å»ºä¸€å—å†…å­˜ï¼Œç”¨æ¥å­˜æ”¾ä»£ç ã€è¿è¡Œä¸­çš„æ•°æ®å’Œä¸€ä¸ªæ‰§è¡Œä»»åŠ¡çš„ä¸»çº¿ç¨‹ï¼Œæˆ‘ä»¬æŠŠè¿™æ ·çš„ä¸€ä¸ªè¿è¡Œç¯å¢ƒå«<strong>è¿›ç¨‹</strong></p><p><strong>çº¿ç¨‹æ˜¯è¿›ç¨‹å†…çš„ä¸€ä¸ªæ‰§è¡Œå•å…ƒ</strong>ï¼šçº¿ç¨‹æ˜¯ä¸èƒ½å•ç‹¬å­˜åœ¨çš„ï¼Œæ˜¯ä¾é™„äºè¿›ç¨‹å¹¶ç”±è¿›ç¨‹æ¥å¯åŠ¨å’Œç®¡ç†çš„</p><p>è¿›ç¨‹å’Œçº¿ç¨‹çš„å…³ç³»ç‰¹ç‚¹</p><ul><li>è¿›ç¨‹æ˜¯æ‹¥æœ‰èµ„æºçš„åŸºæœ¬å•ä½ï¼›çº¿ç¨‹æ˜¯è°ƒåº¦å’Œåˆ†é…çš„åŸºæœ¬å•ä½ï¼ˆæ˜¯è¿›ç¨‹å†…çš„ä¸€ä¸ªæ‰§è¡Œå•å…ƒï¼Œä¹Ÿæ˜¯è¿›ç¨‹å†…çš„å¯è°ƒåº¦å®ä½“ï¼‰</li><li>è¿›ç¨‹ä¹‹é—´ç›¸äº’éš”ç¦»ï¼Œäº’ä¸å¹²æ‰°</li><li>ä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å¹¶å‘æ‰§è¡Œå¤šä¸ªçº¿ç¨‹</li><li>ä¸€ä¸ªçº¿ç¨‹åªèƒ½éš¶å±äºä¸€ä¸ªè¿›ç¨‹ï¼Œè€Œä¸€ä¸ªè¿›ç¨‹æ˜¯å¯ä»¥æ‹¥æœ‰å¤šä¸ªçº¿ç¨‹çš„ï¼ˆä½†è‡³å°‘æœ‰ä¸€ä¸ªä¸»çº¿ç¨‹ï¼‰</li><li>åŒä¸€è¿›ç¨‹çš„æ‰€æœ‰çº¿ç¨‹å…±äº«è¯¥è¿›ç¨‹çš„æ‰€æœ‰æ•°æ®</li><li>è¿›ç¨‹ä¸­çš„ä»»æ„ä¸€çº¿ç¨‹æ‰§è¡Œå‡ºé”™ï¼Œéƒ½ä¼šå¯¼è‡´æ•´ä¸ªè¿›ç¨‹çš„å´©æºƒ</li><li>å½“ä¸€ä¸ªè¿›ç¨‹å…³é—­ä¹‹åï¼Œæ“ä½œç³»ç»Ÿä¼šå›æ”¶è¿›ç¨‹æ‰€å ç”¨çš„å†…å­˜</li></ul><h3 id="Chrome-æ‰“å¼€ä¸€ä¸ªé¡µé¢ä¼šæœ‰å‡ ä¸ªè¿›ç¨‹ï¼Ÿ"><a href="#Chrome-æ‰“å¼€ä¸€ä¸ªé¡µé¢ä¼šæœ‰å‡ ä¸ªè¿›ç¨‹ï¼Ÿ" class="headerlink" title="Chrome æ‰“å¼€ä¸€ä¸ªé¡µé¢ä¼šæœ‰å‡ ä¸ªè¿›ç¨‹ï¼Ÿ"></a>Chrome æ‰“å¼€ä¸€ä¸ªé¡µé¢ä¼šæœ‰å‡ ä¸ªè¿›ç¨‹ï¼Ÿ</h3><blockquote><p>æœ€æ–°çš„ Chrome å¤šè¿›ç¨‹æ¶æ„å›¾</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/chrome-framework.5e7e4a3d.png" alt="Chrome å¤šè¿›ç¨‹æ¶æ„å›¾"></p><ul><li><p><strong>æµè§ˆå™¨ä¸»è¿›ç¨‹</strong>ï¼šè´Ÿè´£ç•Œé¢æ˜¾ç¤ºã€ç”¨æˆ·äº¤äº’ã€å­è¿›ç¨‹ç®¡ç†ï¼ŒåŒæ—¶æä¾›å­˜å‚¨ç­‰åŠŸèƒ½</p></li><li><p>æ¸²æŸ“è¿›ç¨‹</p><p>ï¼šè´Ÿè´£å°†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HTML</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CSS</span><br></pre></td></tr></table></figure><p>å’Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JavaScript</span><br></pre></td></tr></table></figure><p>è½¬æ¢ä¸ºç”¨æˆ·å¯ä»¥ä¸ä¹‹äº¤äº’çš„ç½‘é¡µ</p><ul><li>æ’ç‰ˆå¼•æ“ Blink å’Œ JavaScript å¼•æ“ V8 éƒ½æ˜¯è¿è¡Œåœ¨è¯¥è¿›ç¨‹ä¸­</li><li>é»˜è®¤æƒ…å†µä¸‹ Chrome ä¼šä¸ºæ¯ä¸ª Tab æ ‡ç­¾åˆ›å»ºä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹</li><li>å‡ºäºå®‰å…¨è€ƒè™‘æ¸²æŸ“è¿›ç¨‹éƒ½æ˜¯è¿è¡Œåœ¨æ²™ç®±æ¨¡å¼ä¸‹</li></ul></li><li><p><strong>GPU è¿›ç¨‹</strong>ï¼šè´Ÿè´£ç½‘é¡µã€Chrome çš„ UI ç•Œé¢çš„ç»˜åˆ¶</p></li><li><p><strong>ç½‘ç»œè¿›ç¨‹</strong>ï¼šè´Ÿè´£é¡µé¢çš„ç½‘ç»œèµ„æºåŠ è½½ï¼ˆä¹‹å‰æ˜¯ä½œä¸ºä¸€ä¸ªæ¨¡å—è¿è¡Œåœ¨æµè§ˆå™¨è¿›ç¨‹ï¼‰</p></li><li><p><strong>æ’ä»¶è¿›ç¨‹</strong>ï¼šè´Ÿè´£æ’ä»¶çš„è¿è¡Œï¼ˆå› ä¸ºæ’ä»¶æ˜“å´©æºƒæ‰€ä»¥éœ€è¦é€šè¿‡æ’ä»¶è¿›ç¨‹æ¥éš”ç¦»ï¼Œä»¥ä¿è¯æ’ä»¶å´©æºƒä¸ä¼šå¯¹æµè§ˆå™¨å’Œé¡µé¢é€ æˆå½±å“ï¼‰</p></li></ul><p><a href="https://time.geekbang.org/column/article/113513">Chrome æ¶æ„ï¼šä»…ä»…æ‰“å¼€äº† 1 ä¸ªé¡µé¢ï¼Œä¸ºä»€ä¹ˆæœ‰ 4 ä¸ªè¿›ç¨‹ï¼Ÿâ€”â€” æµè§ˆå™¨å·¥ä½œåŸç†ä¸å®è·µ</a></p><h2 id="è·¨åŸŸ"><a href="#è·¨åŸŸ" class="headerlink" title="è·¨åŸŸ"></a>è·¨åŸŸ</h2><p>è·¨åŸŸçš„åŸå›  â€”â€” æµè§ˆå™¨çš„åŒæºç­–ç•¥</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy">åŒæºç­–ç•¥</a>æ˜¯æµè§ˆå™¨ä¸€ä¸ªé‡è¦çš„å®‰å…¨ç­–ç•¥ï¼Œå®ƒç”¨äºé™åˆ¶ä¸€ä¸ª <code>origin</code> çš„æ–‡æ¡£æˆ–è€…å®ƒåŠ è½½çš„è„šæœ¬å¦‚ä½•èƒ½ä¸å¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ã€‚å®ƒèƒ½å¸®åŠ©é˜»éš”æ¶æ„æ–‡æ¡£ï¼Œå‡å°‘å¯èƒ½è¢«æ”»å‡»çš„åª’ä»‹</p><p>åŒæºçš„å®šä¹‰æ˜¯ä¸¤ä¸ª <code>URL</code> çš„ <strong>åè®®</strong>ã€<strong>åŸŸå</strong>(å­åŸŸå + ä¸»åŸŸå)ã€<strong>ç«¯å£å·</strong> éƒ½ç›¸åŒï¼Œå¦åˆ™å°±ä¼šå‡ºç°è·¨åŸŸ</p><p>åŒæºç­–ç•¥çš„é™åˆ¶èŒƒå›´</p><ol><li>é™åˆ¶è·¨æºç½‘ç»œè®¿é—®: <code>AJAX</code> è¯·æ±‚ä¸èƒ½å‘é€</li><li>é™åˆ¶è·¨æºè„šæœ¬ <code>API</code> è®¿é—®: <code>DOM</code> æ— æ³•è·å¾—</li><li>é™åˆ¶è·¨æºæ•°æ®å­˜å‚¨è®¿é—®: <code>Cookie</code> <code>LocalStorage</code> å’Œ <code>IndexDB</code> æ— æ³•è¯»å–</li></ol><p>ä¸€èˆ¬å¸¸è¯´çš„è·¨åŸŸæŒ‡ç½‘ç»œè·¨åŸŸ</p><h3 id="å¸¸ç”¨çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆ"><a href="#å¸¸ç”¨çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆ" class="headerlink" title="å¸¸ç”¨çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆ"></a>å¸¸ç”¨çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆ</h3><p>å¸¸ç”¨çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆ</p><ol><li><strong>CORS</strong></li><li><strong>JSONP</strong></li><li>Nginx åå‘ä»£ç†</li><li>WebSocket</li><li>postMessage</li><li>document.domain</li></ol><h3 id="CORS-è·¨æºèµ„æºå…±äº«"><a href="#CORS-è·¨æºèµ„æºå…±äº«" class="headerlink" title="CORS è·¨æºèµ„æºå…±äº«"></a>CORS è·¨æºèµ„æºå…±äº«</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS">CORS (è·¨æºèµ„æºå…±äº«)</a> æ˜¯ <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/HTTP">HTTP</a> çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå…è®¸æµè§ˆå™¨å‘è·¨æºæœåŠ¡å™¨å‘å‡º <code>XMLHttpRequest</code> è¯·æ±‚ï¼Œä»è€Œè§£å†³äº† <code>AJAX</code> åªèƒ½åŒæºä½¿ç”¨çš„é™åˆ¶ã€‚</p><blockquote><p><code>CORS</code> éœ€è¦æµè§ˆå™¨å’ŒæœåŠ¡å™¨åŒæ—¶æ”¯æŒï¼Œç›®å‰æ‰€æœ‰æµè§ˆå™¨å‡å·²æ”¯æŒï¼Œåªéœ€æœåŠ¡å™¨é…ç½®å³å¯ä½¿ç”¨</p></blockquote><p>æµè§ˆå™¨å°† <code>CORS</code> è¯·æ±‚åˆ†æˆä¸¤ç±»: <strong>ç®€å•è¯·æ±‚</strong>å’Œ<strong>éç®€å•è¯·æ±‚</strong></p><h4 id="ç®€å•è¯·æ±‚"><a href="#ç®€å•è¯·æ±‚" class="headerlink" title="ç®€å•è¯·æ±‚"></a>ç®€å•è¯·æ±‚</h4><p>ç®€å•è¯·æ±‚å¿…é¡»åŒæ—¶æ»¡è¶³ä»¥ä¸‹æ¡ä»¶</p><blockquote><p>æ—¥å¸¸å¼€å‘åªä¼šå…³æ³¨å‰ä¸¤ç‚¹</p></blockquote><ul><li><p>è¯·æ±‚æ–¹æ³•æ˜¯ä»¥ä¸‹ä¸‰ç§æ–¹æ³•ä¹‹ä¸€</p><ul><li><code>HEAD</code></li><li><code>GET</code></li><li><code>POST</code></li></ul></li><li><p>åªä½¿ç”¨äº†å¦‚ä¸‹çš„å®‰å…¨é¦–éƒ¨å­—æ®µï¼Œä¸å¾—äººä¸ºè®¾ç½®å…¶ä»–é¦–éƒ¨å­—æ®µ</p><ul><li><p><code>Accept</code></p></li><li><p><code>Accept-Language</code></p></li><li><p><code>Content-Language</code></p></li><li><pre><code>Content-Type<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    ä»…é™ä»¥ä¸‹ä¸‰ç§</span><br><span class="line"></span><br><span class="line">    - `application/x-www-form-urlencoded`</span><br><span class="line">    - `multipart/form-data`</span><br><span class="line">    - `text/plain`</span><br><span class="line"></span><br><span class="line">- è¯·æ±‚ä¸­çš„ä»»æ„ `XMLHttpRequestUpload` å¯¹è±¡å‡æ²¡æœ‰æ³¨å†Œä»»ä½•äº‹ä»¶ç›‘å¬å™¨(ä½¿ç”¨ `XMLHttpRequest.upload` å±æ€§è®¿é—®`XMLHttpRequestUpload` å¯¹è±¡)</span><br><span class="line"></span><br><span class="line">- è¯·æ±‚ä¸­æ²¡æœ‰ä½¿ç”¨ `ReadableStream` å¯¹è±¡</span><br><span class="line"></span><br><span class="line">##### ç®€å•è¯·æ±‚åŸºæœ¬æµç¨‹</span><br><span class="line"></span><br><span class="line">1. æµè§ˆå™¨ä¼šç›´æ¥å‘å‡º `CORS` è¯·æ±‚å¹¶åœ¨è¯·æ±‚å¤´ä¿¡æ¯ä¹‹ä¸­å¢åŠ ä¸€ä¸ª `Origin` å­—æ®µ(ç”¨æ¥è¯´æ˜æœ¬æ¬¡è¯·æ±‚æ¥è‡ªå“ªä¸ªæº(åè®® + åŸŸå + ç«¯å£))</span><br><span class="line"></span><br><span class="line">2. æœåŠ¡å™¨åˆ¤æ–­</span><br><span class="line"></span><br></pre></td></tr></table></figure> Origin <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   å­—æ®µå†³å®šæ˜¯å¦åŒæ„è¿™æ¬¡è¯·æ±‚</span><br><span class="line"></span><br><span class="line">   1. é€šè¿‡è¯·æ±‚ä¼šåœ¨å“åº”å¤´å¢åŠ  `CORS` ç›¸å…³çš„å­—æ®µ(ä»¥`Access-Control-`å¼€å¤´)</span><br><span class="line">   2. æ‹’ç»è¯·æ±‚æ—¶ä¸ä¼šå¢åŠ  `CORS` ç›¸å…³çš„å­—æ®µï¼Œæµè§ˆå™¨ä¼šæŠ›å‡ºå¼‚å¸¸</span><br><span class="line"></span><br><span class="line">ç®€å•è¯·æ±‚å“åº”å¤´ä¸­çš„ CORS å­—æ®µ</span><br><span class="line"></span><br><span class="line">- `Access-Control-Allow-Origin`: åªèƒ½æ˜¯ `*`(æ¥å—ä»»æ„åŸŸåçš„è¯·æ±‚)æˆ–è€…æ˜¯è¯·æ±‚æ—¶ `Origin` å­—æ®µçš„å€¼</span><br><span class="line">- `Access-Control-Allow-Credentials`(å¯é€‰): æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼,è¡¨ç¤ºæ˜¯å¦å…è®¸å‘é€ `Cookie`</span><br><span class="line">- `Access-Control-Expose-Headers`(å¯é€‰): `CORS` è¯·æ±‚æ—¶ `XMLHttpRequest` å¯¹è±¡çš„ `getResponseHeader()` æ–¹æ³•åªèƒ½æ‹¿åˆ° 6 ä¸ªåŸºæœ¬å­—æ®µï¼š`Cache-Controlã€Content-Languageã€Content-Typeã€Expiresã€Last-Modifiedã€Pragma`ã€‚å¦‚æœæƒ³æ‹¿åˆ°å…¶ä»–å­—æ®µå°±å¿…é¡»åœ¨ `Access-Control-Expose-Headers` é‡Œé¢æŒ‡å®š</span><br><span class="line"></span><br><span class="line">CORS ä¸­çš„ Cookie è®¾ç½®</span><br><span class="line"></span><br><span class="line">`CORS` è¯·æ±‚é»˜è®¤ä¸å‘é€ `Cookie`ï¼Œå¦‚æœéœ€è¦å‘é€éœ€è¦æ»¡è¶³å¦‚ä¸‹æ¡ä»¶</span><br><span class="line"></span><br><span class="line">- æœåŠ¡å™¨å¿…é¡»è®¾ç½® `Access-Control-Allow-Credentials: true`</span><br><span class="line">- `Access-Control-Allow-Origin` å­—æ®µä¸èƒ½ä¸º `*`</span><br><span class="line">- `AJAX` è¯·æ±‚çš„é…ç½®é¡¹éœ€è®¾ç½® `withCredentials = true`</span><br><span class="line"></span><br><span class="line">#### éç®€å•è¯·æ±‚</span><br><span class="line"></span><br><span class="line">éç®€å•è¯·æ±‚æ˜¯é‚£ç§å¯¹æœåŠ¡å™¨æœ‰ç‰¹æ®Šè¦æ±‚çš„è¯·æ±‚ï¼Œå¦‚è¯·æ±‚æ–¹æ³•æ˜¯ `PUT` æˆ– `DELETE`ï¼Œæˆ–è€… `Content-Type` å­—æ®µçš„ç±»å‹æ˜¯ `application/json`ã€‚</span><br><span class="line">éç®€å•è¯·æ±‚ä¼šåœ¨æ­£å¼é€šä¿¡ä¹‹å‰å¢åŠ ä¸€æ¬¡ `HTTP` æŸ¥è¯¢è¯·æ±‚ï¼Œç§°ä¸º**é¢„æ£€è¯·æ±‚**ï¼Œç”¨äºè·å–æœåŠ¡å™¨æ˜¯å¦å…è®¸è¯¥å®é™…è¯·æ±‚ï¼ŒåŒæ—¶é¿å…è·¨åŸŸè¯·æ±‚å¯¹æœåŠ¡å™¨çš„ç”¨æˆ·æ•°æ®äº§ç”Ÿé¢„æœŸä¹‹å¤–çš„å½±å“</span><br><span class="line"></span><br><span class="line">é¢„æ£€è¯·æ±‚</span><br><span class="line"></span><br><span class="line">é¢„æ£€è¯·æ±‚ç”¨çš„è¯·æ±‚æ–¹æ³•æ˜¯ `OPTIONS` è¡¨ç¤ºè¿™ä¸ªè¯·æ±‚æ˜¯ç”¨æ¥è¯¢é—®çš„</span><br><span class="line"></span><br><span class="line">- åœ¨é¢„æ£€è¯·æ±‚è¯·æ±‚å¤´ä¿¡æ¯é‡Œä¼šåŒ…å«å¦‚ä¸‹å­—æ®µ</span><br><span class="line">  - `Origin`: è¡¨ç¤ºæœ¬æ¬¡è¯·æ±‚æ¥è‡ªå“ªä¸ªæº</span><br><span class="line">  - `Access-Control-Request-Method`: ç”¨äºåˆ—å‡ºæµè§ˆå™¨çš„ `CORS` è¯·æ±‚ä¼šç”¨åˆ°å“ªäº› `HTTP` æ–¹æ³•</span><br><span class="line">  - `Access-Control-Request-Headers`(å¯é€‰): æŒ‡å®šæµè§ˆå™¨ `CORS` è¯·æ±‚ä¼šé¢å¤–å‘é€çš„å¤´ä¿¡æ¯å­—æ®µ</span><br><span class="line">- æœåŠ¡å™¨é€šè¿‡åä¼šåœ¨é¢„æ£€è¯·æ±‚å“åº”å¤´ä¸­è®¾ç½®å¦‚ä¸‹å­—æ®µ</span><br><span class="line">  - `Access-Control-Allow-Origin`</span><br><span class="line">  - `Access-Control-Allow-Credentials`(å¯é€‰)</span><br><span class="line">  - `Access-Control-Allow-Methods`: è¡¨ç¤ºæœåŠ¡å™¨æ”¯æŒçš„æ‰€æœ‰è·¨åŸŸè¯·æ±‚çš„æ–¹æ³•(ä¸ºäº†é¿å…å¤šæ¬¡é¢„æ£€è¯·æ±‚)</span><br><span class="line">  - `Access-Control-Allow-Headers`: è¡¨ç¤ºæœåŠ¡å™¨æ”¯æŒçš„æ‰€æœ‰å¤´ä¿¡æ¯å­—æ®µï¼Œä¸é™äºæµè§ˆå™¨åœ¨é¢„æ£€ä¸­è¯·æ±‚çš„å­—æ®µ</span><br><span class="line">  - `Access-Control-Max-Age`(å¯é€‰): ç”¨æ¥æŒ‡å®šæœ¬æ¬¡é¢„æ£€è¯·æ±‚çš„æœ‰æ•ˆæœŸå•ä½ä¸ºç§’ï¼Œåœ¨æœ‰æ•ˆæœŸå†…å°†ä¸å‘å‡ºå¦ä¸€æ¡é¢„æ£€è¯·æ±‚</span><br><span class="line"></span><br><span class="line">ä¸€æ—¦æœåŠ¡å™¨é€šè¿‡äº†é¢„æ£€è¯·æ±‚ï¼Œä»¥åæ¯æ¬¡æµè§ˆå™¨æ­£å¸¸çš„ `CORS` è¯·æ±‚ï¼Œå°±éƒ½è·Ÿç®€å•è¯·æ±‚ä¸€æ ·ä¼šæœ‰ä¸€ä¸ª `Origin` å¤´ä¿¡æ¯å­—æ®µã€‚æœåŠ¡å™¨çš„å›åº”ä¹Ÿéƒ½ä¼šæœ‰ä¸€ä¸ª `Access-Control-Allow-Origin` å¤´ä¿¡æ¯å­—æ®µ</span><br><span class="line"></span><br><span class="line">&lt;details class=&quot;details custom-block&quot; style=&quot;box-sizing: border-box; border-width: 1px; border-style: solid; border-color: var(--vp-custom-block-details-border); border-image: initial; border-radius: 8px; padding: 16px 16px 8px; line-height: 24px; font-size: var(--vp-custom-block-font-size); color: var(--vp-custom-block-details-text); background-color: var(--vp-custom-block-details-bg); margin: 16px 0px;&quot;&gt;&lt;summary style=&quot;box-sizing: border-box; touch-action: manipulation; margin: 0px 0px 8px; font-weight: 700; cursor: pointer;&quot;&gt;CORS è¯·æ±‚è¿‡ç¨‹&lt;/summary&gt;&lt;p style=&quot;box-sizing: border-box; margin: 8px 0px; overflow-wrap: break-word; line-height: 24px;&quot;&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20230913230220.png&quot; alt=&quot;CORS è¯·æ±‚è¿‡ç¨‹&quot; class=&quot;medium-zoom-image&quot; style=&quot;box-sizing: border-box; display: block; max-width: 100%; height: auto; cursor: zoom-in; transition: transform 0.3s cubic-bezier(0.2, 0, 0.2, 1) 0s !important;&quot;&gt;&lt;/p&gt;&lt;/details&gt;</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">ç›¸å…³èµ„æ–™</span><br><span class="line"></span><br><span class="line">[è·¨åŸŸèµ„æºå…±äº« CORS è¯¦è§£](http://www.ruanyifeng.com/blog/2016/04/cors.html)</span><br><span class="line"></span><br><span class="line">### JSONP</span><br><span class="line"></span><br><span class="line">`JSONP` æ˜¯åˆ©ç”¨ `&lt;script&gt;` æ ‡ç­¾æ²¡æœ‰è·¨åŸŸé™åˆ¶çš„æ¼æ´ï¼Œå½“å‰æºå¯ä»¥å¾—åˆ°ä»å…¶ä»–æ¥æºåŠ¨æ€äº§ç”Ÿçš„ `JSON` æ•°æ®</span><br><span class="line"></span><br><span class="line">**`JSONP` è¯·æ±‚è¿‡ç¨‹æµç¨‹**</span><br><span class="line"></span><br><span class="line">1. å‰ç«¯å®šä¹‰ä¸€ä¸ªè§£æçš„å›è°ƒå‡½æ•°</span><br><span class="line">2. åˆ›å»º `script` æ ‡ç­¾ï¼Œå…¶ `src` æŒ‡å‘æ¥å£åœ°å€å¹¶æ‹¼æ¥å¥½å‚æ•°å’Œå›è°ƒå‡½æ•°å</span><br><span class="line">3. åç«¯å¤„ç†æ•°æ®å¹¶å°†å…¶æ‹¼æ¥åˆ°å‰ç«¯ä¼ å…¥çš„å›è°ƒå‡½æ•°ä¸­(æ‹¼æ¥å¥½çš„æ•°æ®å¿…é¡»æ˜¯ä¸€ä¸ªåˆæ³•çš„ `JavaScript` è„šæœ¬ )</span><br><span class="line">4. æµè§ˆå™¨æ‰§è¡Œåç«¯è¿”å›çš„ `JavaScript` è„šæœ¬ä»£ç (è°ƒç”¨å®šä¹‰å¥½çš„å›è°ƒå‡½æ•°)å¹¶åˆ é™¤åˆšåˆ›å»ºçš„ `script` æ ‡ç­¾</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">function normalizeParams(params) &#123;</span><br><span class="line">  if (!params) &#123;</span><br><span class="line">    return &#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  return Object.keys(params)</span><br><span class="line">    .map((key) =&gt; `$&#123;key&#125;=$&#123;params[key]&#125;`)</span><br><span class="line">    .join(&#x27;&amp;&#x27;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function jsonp(url, params) &#123;</span><br><span class="line">  return new Promise((resolve) =&gt; &#123;</span><br><span class="line">    const callback = `jsonp_$&#123;Date.now()&#125;`</span><br><span class="line">    window[callback] = function (data) &#123;</span><br><span class="line">      resolve(data)</span><br><span class="line">      document.body.removeChild(scriptEle)</span><br><span class="line">    &#125;</span><br><span class="line">    params.cb = callback</span><br><span class="line">    const scriptEle = document.createElement(&#x27;script&#x27;)</span><br><span class="line">    scriptEle.src = `$&#123;url&#125;$&#123;url.includes(&#x27;?&#x27;) ? &#x27;&amp;&#x27; : &#x27;?&#x27;&#125;$&#123;normalizeParams(params)&#125;`</span><br><span class="line">    document.body.appendChild(scriptEle)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">jsonp(&#x27;https://www.baidu.com/sugrec&#x27;, &#123;</span><br><span class="line">  prod: &#x27;pc&#x27;,</span><br><span class="line">  wd: &#x27;è·¨åŸŸ&#x27;</span><br><span class="line">&#125;).then((res) =&gt; &#123;</span><br><span class="line">  console.log(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></code></pre></li></ul></li></ul><p>JSONP è·¨åŸŸä¼˜ç¼ºç‚¹</p><ul><li>ä¼˜ç‚¹: å®ç°ç®€å•ï¼Œå…¼å®¹æ€§å¥½</li><li>ç¼ºç‚¹<ul><li>åªæ”¯æŒ <code>GET</code> è¯·æ±‚</li><li>å®¹æ˜“é­å— <code>XSS</code> æ”»å‡»</li></ul></li></ul><p><a href="https://juejin.cn/post/6844904126246027278">äº†è§£æ›´å¤šè·¨åŸŸè§£å†³æ–¹æ¡ˆè¯·ç‚¹å‡» â€”â€” 10 ç§è·¨åŸŸè§£å†³æ–¹æ¡ˆ</a></p><h2 id="æµè§ˆå™¨ç¼“å­˜æœºåˆ¶"><a href="#æµè§ˆå™¨ç¼“å­˜æœºåˆ¶" class="headerlink" title="æµè§ˆå™¨ç¼“å­˜æœºåˆ¶"></a>æµè§ˆå™¨ç¼“å­˜æœºåˆ¶</h2><ul><li><ol><li>æµè§ˆå™¨åœ¨å‘é€è¯·æ±‚å‰å…ˆåˆ¤æ–­æ˜¯å¦å‘½ä¸­å¼ºç¼“å­˜</li></ol><ul><li>å‘½ä¸­åˆ™ä¸å‘é€è¯·æ±‚ç›´æ¥ä½¿ç”¨ç¼“å­˜ï¼Œå¦åˆ™è¿›è¡Œä¸‹ä¸€æ­¥</li></ul></li><li><ol><li>æµè§ˆå™¨å‘é€è¯·æ±‚åä¼šç”±æœåŠ¡å™¨åˆ¤æ–­æ˜¯å¦å‘½ä¸­åå•†ç¼“å­˜</li></ol><ul><li>å‘½ä¸­åˆ™ä»ç¼“å­˜è·å–èµ„æºï¼Œå¦åˆ™è¿›è¡Œä¸‹ä¸€æ­¥</li></ul></li><li><ol><li>æµè§ˆå™¨ç›´æ¥ä½¿ç”¨æœåŠ¡å™¨è¿”å›çš„èµ„æºå¹¶æ›´æ–°ç¼“å­˜</li></ol></li></ul><h3 id="å¼ºç¼“å­˜ï¼ˆ200-OKï¼‰"><a href="#å¼ºç¼“å­˜ï¼ˆ200-OKï¼‰" class="headerlink" title="å¼ºç¼“å­˜ï¼ˆ200 OKï¼‰"></a>å¼ºç¼“å­˜ï¼ˆ200 OKï¼‰</h3><ul><li><pre><code>Expires<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">æ˜¯æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨çš„ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼ˆå€¼ä¸º</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br></pre></td></tr></table></figure>GMT<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  æ—¶é—´ï¼Œå³æ ¼æ—å°¼æ²»æ—¶é—´ï¼‰</span><br><span class="line"></span><br><span class="line">  - `HTTP1.0` çš„äº§ç‰©</span><br><span class="line">  - å—æœ¬åœ°æ—¶é—´å½±å“</span><br><span class="line">  - è®¾ç½®çš„å€¼ä¸º `max-age=xxx`ï¼ˆxxx æ˜¯ ç§’ï¼‰</span><br><span class="line"></span><br><span class="line">- ```</span><br><span class="line">  Cache-Control</span><br></pre></td></tr></table></figure> ç”¨äºæ§åˆ¶ç¼“å­˜çš„è¡Œä¸º- æ˜¯ `HTTP1.1` çš„äº§ç‰©- å–å€¼  - `public`ï¼šå…è®¸è¢«å®¢æˆ·ç«¯å’Œä»£ç†æœåŠ¡å™¨ç¼“å­˜  - `private`ï¼šåªå…è®¸è¢«å®¢æˆ·ç«¯ç¼“å­˜ï¼ˆé»˜è®¤å€¼ï¼‰  - `no-cache`ï¼šå…è®¸è¢«å®¢æˆ·ç«¯å’Œä»£ç†æœåŠ¡å™¨ç¼“å­˜ï¼Œä½†åœ¨ä½¿ç”¨ç¼“å­˜æ—¶éœ€è¦ç»è¿‡åå•†ç¼“å­˜æ¥éªŒè¯å†³å®š  - `no-store`ï¼šæ‰€æœ‰å†…å®¹éƒ½ä¸ä¼šè¢«ç¼“å­˜ï¼Œå³ä¸ä½¿ç”¨å¼ºåˆ¶ç¼“å­˜ä¹Ÿä¸ä½¿ç”¨åå•†ç¼“å­˜æ¯æ¬¡è¯·æ±‚éƒ½ä¼šä¸‹è½½å®Œæ•´çš„èµ„æº  - `maxage=xxx`ï¼šè®¾ç½®å®¢æˆ·ç«¯å’Œä»£ç†æœåŠ¡å™¨çš„ç¼“å­˜æ—¶é—´ï¼Œè¡¨ç¤ºç¼“å­˜å†…å®¹å°†åœ¨ xxx ç§’åå¤±æ•ˆ  - `s-maxage=xxx`ï¼šè®¾ç½®ä»£ç†æœåŠ¡å™¨çš„ç¼“å­˜æ—¶é—´ï¼ˆä¼˜å…ˆçº§æ¯” `max-age` é«˜ï¼‰</code></pre></li></ul><p>Cache-Control æ³¨æ„ç‚¹</p><p><code>no-cache</code> åå­—å­˜åœ¨è¯¯å¯¼ï¼Œå…¶å¹¶ä¸æ˜¯ä¸ç¼“å­˜æ•°æ®ï¼Œåªæ˜¯åœ¨ä½¿ç”¨ç¼“å­˜æ—¶éœ€è¦ç»è¿‡åå•†ç¼“å­˜æ¥éªŒè¯å†³å®š<br><code>max-age=0</code> å’Œ <code>no-cache</code> æ•ˆæœä¸€è‡´</p><h4 id="ç¼“å­˜ä½ç½®"><a href="#ç¼“å­˜ä½ç½®" class="headerlink" title="ç¼“å­˜ä½ç½®"></a>ç¼“å­˜ä½ç½®</h4><ul><li>å†…å­˜ç¼“å­˜ï¼ˆmemory cacheï¼‰<ul><li>å¿«é€Ÿè¯»å–ï¼ˆå†…å­˜ç¼“å­˜å°†ç¼–è¯‘è§£æåçš„æ–‡ä»¶ï¼Œç›´æ¥å­˜å…¥è¯¥è¿›ç¨‹çš„å†…å­˜ä¸­ï¼Œå æ®è¯¥è¿›ç¨‹ä¸€å®šçš„å†…å­˜èµ„æºï¼Œä»¥æ–¹ä¾¿ä¸‹æ¬¡è¿è¡Œä½¿ç”¨æ—¶çš„å¿«é€Ÿè¯»å–ï¼‰</li><li>è¿›ç¨‹å…³é—­æ—¶æ•°æ®ä¼šè¢«æ¸…é™¤</li><li>ä¸è¯·æ±‚ç½‘ç»œèµ„æºï¼Œèµ„æºå­˜åœ¨å†…å­˜ä¸­ä¸€èˆ¬ <code>JS</code> å’Œå›¾ç‰‡æ–‡ä»¶ä¼šå­˜å…¥å†…å­˜</li><li>çŠ¶æ€ç ï¼š<code>200ï¼ˆfrom memory cacheï¼‰</code></li></ul></li><li>ç¡¬ç›˜ç¼“å­˜ï¼ˆdisk cacheï¼‰<ul><li>å†™å…¥ç¡¬ç›˜æ–‡ä»¶è¿›è¡Œ <code>I/O</code> æ“ä½œ</li><li>è¿›ç¨‹å…³é—­æ—¶æ•°æ®ä¸ä¼šè¢«æ¸…é™¤</li><li>é€Ÿåº¦æ¯” <code>memory cache</code> æ…¢</li><li>ä¸è¯·æ±‚ç½‘ç»œèµ„æºï¼Œèµ„æºå­˜åœ¨ç£ç›˜ä¸­ä¸€èˆ¬éè„šæœ¬ä¼šå­˜åœ¨ç£ç›˜ä¸­ï¼Œå¦‚ <code>css</code></li><li>çŠ¶æ€ç ï¼š<code>200ï¼ˆfrom disk cacheï¼‰</code></li></ul></li><li>ä»£ç†æœåŠ¡å™¨ç¼“å­˜ï¼ˆserver workerï¼‰<ul><li>å¯ä»¥æ‹¦æˆªå¤„ç†é¡µé¢çš„æ‰€æœ‰ç½‘ç»œè¯·æ±‚</li><li>ä»… <code>HTTPS</code> ä¸‹å¯ç”¨ã€å­˜åœ¨å…¼å®¹é—®é¢˜</li><li>çŠ¶æ€ç ï¼š<code>200ï¼ˆfrom service workerï¼‰</code></li></ul></li></ul><h3 id="åå•†ç¼“å­˜ï¼ˆ304-Not-Modifiedï¼‰"><a href="#åå•†ç¼“å­˜ï¼ˆ304-Not-Modifiedï¼‰" class="headerlink" title="åå•†ç¼“å­˜ï¼ˆ304 Not Modifiedï¼‰"></a>åå•†ç¼“å­˜ï¼ˆ304 Not Modifiedï¼‰</h3><h4 id="Last-Modified-å’Œ-If-Modified-Since"><a href="#Last-Modified-å’Œ-If-Modified-Since" class="headerlink" title="Last-Modified å’Œ If-Modified-Since"></a><code>Last-Modified</code> å’Œ <code>If-Modified-Since</code></h4><p><code>Last-Modified</code> è¡¨ç¤ºèµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´ï¼Œå€¼ä¸º <code>GMT</code> æ ¼å¼æ—¶é—´å­—ç¬¦ä¸²ï¼Œç²¾ç¡®åˆ°ç§’</p><ul><li><p>æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ä¼šåœ¨å“åº”å¤´ä¸­è¿”å›è¯·æ±‚èµ„æºçš„ä¸Šæ¬¡æ›´æ–°æ—¶é—´ <code>Last-Modified</code></p></li><li><p>å½“æµè§ˆå™¨å†æ¬¡è¯·æ±‚æ—¶ï¼Œä¼šåœ¨è¯·æ±‚å¤´ä¸­æºå¸¦ <code>If-Modified-Since</code> å€¼ä¸ºä¸Šæ¬¡è¯·æ±‚è¿”å›çš„ <code>Last-Modified</code></p></li><li><p>æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œä¼šæ ¹æ®è¯·æ±‚å¤´ä¸­çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">If-Modified-Since</span><br></pre></td></tr></table></figure><p>å’Œè¯¥èµ„æºåœ¨æœåŠ¡å™¨çš„æœ€åè¢«ä¿®æ”¹æ—¶é—´åšå¯¹æ¯”</p><ul><li>å¤§äº <code>If-Modified-Since</code> é‡æ–°è¿”å›èµ„æºæ–‡ä»¶ï¼ŒçŠ¶æ€ç ä¸º 200</li><li>å°äº <code>If-Modified-Since</code> èµ„æºæ— æ›´æ–°ç»§ç»­ä½¿ç”¨ç¼“å­˜æ–‡ä»¶ï¼ŒçŠ¶æ€ç ä¸º 304</li></ul></li></ul><p>Last-Modified å­˜åœ¨çš„é—®é¢˜</p><ul><li>æ—¶é—´ç²¾åº¦ä¸ºç§’çº§ä¼šå‡ºç°è¯¯å·®æƒ…å†µï¼Œå¯¹æ–‡ä»¶ä¿®æ”¹ç²¾åº¦æœ‰ä¸¥æ ¼è¦æ±‚çš„åœºæ™¯ä¸èƒ½æ»¡è¶³</li><li>åœ¨é›†ç¾¤æœåŠ¡å™¨ä¸Šå„ä¸ªæœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶æ—¶é—´å¯èƒ½ä¸åŒ</li><li>å¦‚æœç”¨æ—§æ–‡ä»¶è¦†ç›–æ–°æ–‡ä»¶ï¼Œå› ä¸ºæ—¶é—´æ›´å‰æµè§ˆå™¨ä¸ä¼šè¯·æ±‚æ—§æ–‡ä»¶</li><li>ç¼–è¾‘äº†æ–‡ä»¶ä½†æœªä¿®æ”¹ï¼Œä¼šå¯¼è‡´ç¼“å­˜å¤±æ•ˆ</li></ul><h4 id="ETag-å’Œ-If-None-Match"><a href="#ETag-å’Œ-If-None-Match" class="headerlink" title="ETag å’Œ If-None-Match"></a>ETag å’Œ If-None-Match</h4><p><code>ETag</code> æ˜¯æœåŠ¡å™¨é€šè¿‡ç®—æ³•å¯¹èµ„æºå†…å®¹è®¡ç®—å‡ºçš„ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ï¼ˆæ–‡ä»¶ <code>hash</code>ï¼‰å…¶æœ‰å¼ºå¼±ä¹‹åˆ†</p><ul><li><p>å¼º</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Etag</span><br></pre></td></tr></table></figure><ul><li><code>ETag: &quot;&lt;etag_value&gt;&quot;</code></li><li>èµ„æºå‘ç”Ÿä»»ä½•æ”¹å˜éƒ½ä¼šç«‹åˆ»æ›´æ–°</li><li>éš¾ç”Ÿæˆï¼Œåˆ©äºæ¯”è¾ƒ</li></ul></li><li><p>å¼±</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Etag</span><br></pre></td></tr></table></figure><p>ï¼ˆä½¿ç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">W/</span><br></pre></td></tr></table></figure><p>æ ‡è¯†ï¼‰</p><ul><li><code>ETag: W/&quot;&lt;etag_value&gt;&quot;</code></li><li>åªåœ¨èµ„æºå‘ç”Ÿæœ¬è´¨å˜åŒ–æ—¶æ›´æ–°</li><li>æ˜“ç”Ÿæˆï¼Œä¸åˆ©äºæ¯”è¾ƒ</li></ul></li></ul><h5 id="è¿‡ç¨‹"><a href="#è¿‡ç¨‹" class="headerlink" title="è¿‡ç¨‹"></a>è¿‡ç¨‹</h5><ul><li><p>æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ä¼šåœ¨å“åº”å¤´ä¸­è¿”å›å½“å‰èµ„æºæ–‡ä»¶çš„ä¸€ä¸ªå”¯ä¸€æ ‡è¯† <code>ETag</code></p></li><li><p>å½“æµè§ˆå™¨å†æ¬¡è¯·æ±‚æ—¶ï¼Œä¼šåœ¨è¯·æ±‚å¤´ä¸­æºå¸¦ <code>If-None-Match</code> å€¼ä¸ºä¸Šæ¬¡è¯·æ±‚è¿”å›çš„ <code>ETag</code></p></li><li><p>é€šè¿‡æ¥æ”¶çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ETag</span><br></pre></td></tr></table></figure><p>å’ŒæœåŠ¡å™¨é‡æ–°ç”Ÿæˆçš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ETag</span><br></pre></td></tr></table></figure><p>è¿›è¡Œå¯¹æ¯”</p><ul><li>ä¸ä¸€è‡´ é‡æ–°è¿”å›èµ„æºæ–‡ä»¶ï¼ŒçŠ¶æ€ç ä¸º 200</li><li>ä¸€è‡´ èµ„æºæ— æ›´æ–°ç»§ç»­ä½¿ç”¨ç¼“å­˜æ–‡ä»¶ï¼ŒçŠ¶æ€ç ä¸º 304</li></ul></li></ul><p>Last-Modified å’Œ Etag å¯¹æ¯”</p><ul><li>ç²¾ç¡®åº¦ä¸Šï¼š<code>Etag</code> ä¼˜äº <code>Last-Modified</code></li><li>æ€§èƒ½ä¸Šï¼š<code>Etag &lt; Last-Modified</code> æ¯æ¬¡ç”Ÿæˆ <code>ETag</code> éƒ½éœ€è¦è¿›è¡Œè¯»å†™æ“ä½œï¼Œè€Œ <code>Last-Modified</code> åªéœ€è¦è¯»å–æ“ä½œ</li><li>ä¼˜å…ˆçº§ï¼šæœåŠ¡å™¨æ ¡éªŒä¼˜å…ˆè€ƒè™‘ <code>Etag</code>ï¼ˆå…ˆåˆ¤æ–­ <code>Etag</code> æ˜¯å¦å˜åŒ–ï¼Œå¦‚æœ <code>Etag</code> æ²¡æœ‰å˜åŒ–å†åˆ¤æ–­ <code>Last-Modified</code>ï¼‰</li></ul><h3 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><table><thead><tr><th align="left">å¼ºç¼“å­˜</th><th align="left">åå•†ç¼“å­˜</th></tr></thead><tbody><tr><td align="left">ä¸å¸¸å˜åŒ–çš„æ–‡ä»¶ å¸¦ hash å€¼çš„ css js å›¾ç‰‡</td><td align="left">é¢‘ç¹å˜åŠ¨çš„æ–‡ä»¶ html æ–‡ä»¶</td></tr></tbody></table><h3 id="ç”¨æˆ·è¡Œä¸ºå¯¹ç¼“å­˜çš„å½±å“"><a href="#ç”¨æˆ·è¡Œä¸ºå¯¹ç¼“å­˜çš„å½±å“" class="headerlink" title="ç”¨æˆ·è¡Œä¸ºå¯¹ç¼“å­˜çš„å½±å“"></a>ç”¨æˆ·è¡Œä¸ºå¯¹ç¼“å­˜çš„å½±å“</h3><ul><li>åœ°å€æ è¾“å…¥<ul><li>æŸ¥æ‰¾ <code>disk cache</code>ï¼ˆç£ç›˜ç¼“å­˜ï¼‰ä¸­æ˜¯å¦æœ‰åŒ¹é…ï¼Œæœ‰åˆ™ä½¿ç”¨ç¼“å­˜ï¼Œæ²¡æœ‰åˆ™å‘é€ç½‘ç»œè¯·æ±‚</li></ul></li><li>æ™®é€šåˆ·æ–°ï¼ˆF5ï¼‰<ul><li>å› ä¸ºæµè§ˆå™¨ <code>tab</code> æ ‡ç­¾å¹¶æ²¡æœ‰å…³é—­ï¼Œå› æ­¤ <code>memory cache</code> ï¼ˆå†…å­˜ç¼“å­˜ï¼‰æ˜¯å¯ç”¨çš„ï¼Œä¼šè¢«ä¼˜å…ˆä½¿ç”¨ï¼Œå…¶æ¬¡ä½¿ç”¨ <code>disk cache</code>ï¼ˆç£ç›˜ç¼“å­˜ï¼‰</li><li>è·³è¿‡å¼ºç¼“å­˜è§„åˆ™ï¼Œç›´æ¥èµ°åå•†ç¼“å­˜</li></ul></li><li>å¼ºåˆ¶åˆ·æ–°ï¼ˆCtrl + F5ï¼‰<ul><li>æµè§ˆå™¨ä¸ä½¿ç”¨ç¼“å­˜ï¼Œå› æ­¤å‘é€çš„è¯·æ±‚å¤´éƒ¨å‡å¸¦æœ‰ <code>Cache-control: no-cache</code> ï¼ˆä¸ºäº†å…¼å®¹è¿˜å¸¦äº† <code>Pragma: no-cache</code>ï¼‰æœåŠ¡å™¨ç›´æ¥è¿”å› 200 å’Œæœ€æ–°å†…å®¹ã€‚</li><li>è·³è¿‡æ‰€æœ‰ç¼“å­˜è§„åˆ™</li></ul></li></ul><h2 id="æµè§ˆå™¨å­˜å‚¨"><a href="#æµè§ˆå™¨å­˜å‚¨" class="headerlink" title="æµè§ˆå™¨å­˜å‚¨"></a>æµè§ˆå™¨å­˜å‚¨</h2><h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><p><code>Cookie</code>ï¼ˆä¹Ÿå« <code>Web Cookie</code> æˆ–æµè§ˆå™¨ <code>Cookie</code>ï¼‰æ˜¯æœåŠ¡å™¨å‘é€åˆ°ç”¨æˆ·æµè§ˆå™¨å¹¶ä¿å­˜åœ¨æœ¬åœ°çš„ä¸€å°å—æ•°æ®ï¼Œå®ƒä¼šåœ¨æµè§ˆå™¨ä¸‹æ¬¡å‘åŒä¸€æœåŠ¡å™¨å†å‘èµ·è¯·æ±‚æ—¶è¢«æºå¸¦å¹¶å‘é€åˆ°æœåŠ¡å™¨ä¸Šã€‚é€šå¸¸ï¼Œå®ƒç”¨äºå‘ŠçŸ¥æœåŠ¡ç«¯ä¸¤ä¸ªè¯·æ±‚æ˜¯å¦æ¥è‡ªåŒä¸€æµè§ˆå™¨ï¼Œå¦‚ä¿æŒç”¨æˆ·çš„ç™»å½•çŠ¶æ€ã€‚<code>Cookie</code> ä½¿åŸºäºæ— çŠ¶æ€çš„ <code>HTTP</code> åè®®è®°å½•ç¨³å®šçš„çŠ¶æ€ä¿¡æ¯æˆä¸ºäº†å¯èƒ½ï¼Œ<code>Cookie</code> åœ¨å­˜å‚¨æ—¶æ˜¯ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜åœ¨çš„</p><p><code>Cookie</code> ä¸»è¦ç”¨äºä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢ï¼š</p><ul><li>ä¼šè¯çŠ¶æ€ç®¡ç†ï¼ˆå¦‚ç”¨æˆ·ç™»å½•çŠ¶æ€ã€è´­ç‰©è½¦ã€æ¸¸æˆåˆ†æ•°æˆ–å…¶å®ƒéœ€è¦è®°å½•çš„ä¿¡æ¯ï¼‰</li><li>ä¸ªæ€§åŒ–è®¾ç½®ï¼ˆå¦‚ç”¨æˆ·è‡ªå®šä¹‰è®¾ç½®ã€ä¸»é¢˜ç­‰ï¼‰</li><li>æµè§ˆå™¨è¡Œä¸ºè·Ÿè¸ªï¼ˆå¦‚è·Ÿè¸ªåˆ†æç”¨æˆ·è¡Œä¸ºç­‰ï¼‰</li></ul><p><code>Cookie</code> çš„æœ¬èŒå·¥ä½œå¹¶éæœ¬åœ°å­˜å‚¨ï¼Œè€Œæ˜¯â€œç»´æŒçŠ¶æ€â€ï¼Œå› å½“æ—¶å¹¶æ²¡æœ‰å…¶å®ƒåˆé€‚çš„å­˜å‚¨åŠæ³•è€Œä½œä¸ºå”¯ä¸€çš„å­˜å‚¨æ‰‹æ®µï¼Œæ‰€ä»¥ä¼šç”¨å…¶è¿›è¡Œæœ¬åœ°å­˜å‚¨</p><h4 id="Cookie-çš„ç”Ÿæˆå’Œä½¿ç”¨"><a href="#Cookie-çš„ç”Ÿæˆå’Œä½¿ç”¨" class="headerlink" title="Cookie çš„ç”Ÿæˆå’Œä½¿ç”¨"></a>Cookie çš„ç”Ÿæˆå’Œä½¿ç”¨</h4><ul><li>æœåŠ¡å™¨ç”Ÿæˆï¼Œé€šè¿‡ <code>http response header</code> ä¸­çš„ <code>set-cookie</code></li><li>åœ¨ <code>JavaScript</code> ä¸­ä½¿ç”¨ <code>document.cookie</code> è¿›è¡Œè¯»å†™</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* è¯»å– */</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* å†™å…¥ */</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&#x27;name=maomao&#x27;</span></span><br></pre></td></tr></table></figure><p>Cookie çš„ç¼ºç‚¹</p><ul><li><code>Cookie</code> æœ€å¤§åªèƒ½æœ‰ <code>4KB</code> åŒæ—¶å¤§å¤šæ•°æµè§ˆå™¨å¯¹ä¸€ä¸ªç«™ç‚¹çš„ <code>Cookie</code> ä¸ªæ•°ä¹Ÿæ˜¯æœ‰é™åˆ¶çš„</li><li>åŒä¸€ä¸ªåŸŸåä¸‹çš„æ‰€æœ‰è¯·æ±‚éƒ½ä¼šæºå¸¦ <code>Cookie</code> ä»è€Œå¸¦æ¥ä¸å¿…è¦çš„å¼€é”€å’Œå®‰å…¨é—®é¢˜</li></ul><h3 id="Web-Storage"><a href="#Web-Storage" class="headerlink" title="Web Storage"></a>Web Storage</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Storage_API">Web Storage</a>æ˜¯ <code>HTML5</code> ä¸“é—¨ä¸ºæµè§ˆå™¨å­˜å‚¨è€Œæä¾›çš„æ•°æ®å­˜å‚¨æœºåˆ¶ï¼Œå…¶å¤§å°é™åˆ¶ä¸º <code>5MB ~ 10MB</code> (<a href="http://dev-test.nemikor.com/web-storage/support-test/">å»æŸ¥çœ‹å½“å‰æµè§ˆå™¨ä¸‹ Web Storage çš„å®¹é‡é™åˆ¶</a>)ï¼Œæ•°æ®ä»…ä¿å­˜åœ¨å®¢æˆ·ç«¯ä¸ä¸æœåŠ¡å™¨è¿›è¡Œé€šä¿¡</p><p><code>Web Storage</code> æä¾›äº†ä¸¤ç§æœºåˆ¶ä¾›æˆ‘ä»¬ä½¿ç”¨</p><ul><li><code>Local Storage</code>(æœ¬åœ°å­˜å‚¨)</li><li><code>Session Storage</code>(ä¼šè¯å­˜å‚¨)</li></ul><p>LocalStorage</p><ul><li>ä¿å­˜çš„æ•°æ®é•¿æœŸå­˜åœ¨</li><li>åœ¨åŒæºçš„æ‰€æœ‰æ ‡ç­¾é¡µå’Œçª—å£ä¹‹é—´å…±äº«æ•°æ®</li></ul><p>SessionStorage</p><ul><li>æ•°æ®åªå­˜åœ¨äºå½“å‰æµè§ˆå™¨çš„æ ‡ç­¾é¡µ</li><li>åœ¨æ–°æ ‡ç­¾æˆ–çª—å£æ‰“å¼€ä¸€ä¸ªé¡µé¢æ—¶ä¼šå¤åˆ¶é¡¶çº§æµè§ˆä¼šè¯çš„ä¸Šä¸‹æ–‡ä½œä¸ºæ–°ä¼šè¯çš„ä¸Šä¸‹æ–‡<ul><li>åœ¨å½“å‰æ ‡ç­¾ä¸­æ‰“å¼€ä¸€ä¸ªåŒåŸŸä¸‹çš„é¡µé¢æ—¶ä¼šå¤åˆ¶å½“å‰æ ‡ç­¾é¡µä¸­çš„ <code>SessionStorage</code> æ•°æ®</li><li>å¤åˆ¶çš„ <code>SessionStorage</code> æ•°æ®æ˜¯ç‹¬ç«‹çš„ï¼Œä¸ä¼šç›¸äº’å½±å“(ç±»ä¼¼æ·±æ‹·è´)</li></ul></li><li>é‡æ–°åŠ è½½æˆ–æ¢å¤é¡µé¢ä»ä¼šä¿æŒåŸæ¥çš„æ•°æ®</li><li>å…³é—­å¯¹åº”æµè§ˆå™¨æ ‡ç­¾æˆ–çª—å£åæ•°æ®ä¼šè¢«æ¸…é™¤</li></ul><h4 id="API-ä½¿ç”¨"><a href="#API-ä½¿ç”¨" class="headerlink" title="API ä½¿ç”¨"></a>API ä½¿ç”¨</h4><blockquote><p>ä»¥ <code>localStorage</code> ä¸ºä¾‹</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å­˜å‚¨æ•°æ® setItem() */</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;maomao&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¯»å–æ•°æ® getItem() */</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åˆ é™¤æŒ‡å®šæ•°æ® removeItem() */</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ¸…ç©ºæ•°æ® clear() */</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">clear</span>()</span><br></pre></td></tr></table></figure><p>sessionStorage localStorage å’Œ cookie çš„åŒºåˆ«</p><ul><li>ç›¸åŒç‚¹<ul><li>éƒ½æ˜¯åœ¨å®¢æˆ·ç«¯ä¿å­˜æ•°æ®</li><li>å­˜å‚¨æ•°æ®çš„ç±»å‹éƒ½æ˜¯å­—ç¬¦ä¸²</li></ul></li><li>ä¸åŒç‚¹<ul><li>ç”Ÿå‘½å‘¨æœŸ<ul><li><code>Cookie</code>: å¯ä»¥è®¾ç½®å¤±æ•ˆæ—¶é—´(é»˜è®¤æ˜¯å…³é—­æµè§ˆå™¨åå¤±æ•ˆ)</li><li><code>localStorage</code>: é™¤éè¢«æ‰‹åŠ¨æ¸…é™¤å¦åˆ™å°†ä¼šæ°¸ä¹…ä¿å­˜</li><li><code>sessionStorage</code>: ä»…åœ¨å½“å‰æµè§ˆå™¨çš„æ ‡ç­¾é¡µä¸‹æœ‰æ•ˆï¼Œå…³é—­æ ‡ç­¾æˆ–çª—å£åå°±ä¼šè¢«æ¸…é™¤</li></ul></li><li>æ•°æ®å¤§å°<ul><li><code>Cookie</code>: 4KB</li><li><code>localStorage</code> å’Œ <code>sessionStorage</code>: <code>5MB ~ 10MB</code></li></ul></li><li>http è¯·æ±‚<ul><li><code>Cookie</code>: æ¯æ¬¡éƒ½ä¼šæºå¸¦åœ¨ <code>HTTP</code> è¯·æ±‚å¤´ä¸­</li><li><code>localStorage</code> å’Œ <code>sessionStorage</code>: ä»…åœ¨å®¢æˆ·å‚¨ä¿å­˜ä¸ä¼šä¸æœåŠ¡å™¨é€šä¿¡</li></ul></li></ul></li></ul><h3 id="IndexedDB"><a href="#IndexedDB" class="headerlink" title="IndexedDB"></a>IndexedDB</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/IndexedDB_API">IndexedDB</a> æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨æµè§ˆå™¨ä¸Šçš„éå…³ç³»å‹æ•°æ®åº“ï¼Œç”¨äº<strong>åœ¨å®¢æˆ·ç«¯å­˜å‚¨å¤§é‡ç»“æ„åŒ–æ•°æ®</strong></p><p>IndexedDB çš„ç‰¹ç‚¹</p><ul><li>å­˜å‚¨ç©ºé—´å¤§(ä¸€èˆ¬æ¥è¯´ä¸å°‘äº <code>250MB</code> ç”šè‡³æ²¡æœ‰ä¸Šé™)</li><li>æ”¯æŒå­˜å‚¨äºŒè¿›åˆ¶æ•°æ®(<code>ArrayBuffer</code> å’Œ <code>Blob</code>)</li><li>é”®å€¼å¯¹å‚¨å­˜</li><li>åŒæºé™åˆ¶</li><li>æ‰§è¡Œçš„æ“ä½œæ˜¯å¼‚æ­¥æ‰§è¡Œï¼Œä»¥å…é˜»å¡åº”ç”¨ç¨‹åº</li><li>æ˜¯ä¸€ä¸ªäº‹åŠ¡å‹æ•°æ®åº“ç³»ç»Ÿ</li></ul><h4 id="API-ä½¿ç”¨-1"><a href="#API-ä½¿ç”¨-1" class="headerlink" title="API ä½¿ç”¨"></a>API ä½¿ç”¨</h4><p>æ‰“å¼€&#x2F;åˆ›å»ºä¸€ä¸ª IndexedDB æ•°æ®åº“ï¼Œå¹¶æŒ‡å®šæ•°æ®åº“çš„ç‰ˆæœ¬å· (ç‰ˆæœ¬å·åªèƒ½ä¸ºæ•´æ•°)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> request = <span class="variable language_">window</span>.<span class="property">indexedDB</span>.<span class="title function_">open</span>(<span class="string">&#x27;myDatabase&#x27;</span>, <span class="number">1</span>)</span><br><span class="line"><span class="keyword">let</span> db</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆåŠŸå›è°ƒ</span></span><br><span class="line">request.<span class="property">onsuccess</span> = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="comment">// è·å– indexedDB å®ä¾‹</span></span><br><span class="line">  db = event.<span class="property">target</span>.<span class="property">result</span></span><br><span class="line">  <span class="comment">// ä¹Ÿå¯ä»¥ä½¿ç”¨ request.result è·å– indexedDB å®ä¾‹</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è¿æ¥ IndexedDB æˆåŠŸ&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤±è´¥å›è°ƒ</span></span><br><span class="line">request.<span class="property">onerror</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è¿æ¥ IndexedDB å¤±è´¥&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªå¯¹è±¡ä»“åº“(ç±»ä¼¼äºæ•°æ®åº“ä¸­çš„è¡¨)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// upgradeneeded äº‹ä»¶ä¼šåœ¨åˆå§‹åŒ–æ•°æ®åº“æˆ–ç‰ˆæœ¬å‘ç”Ÿæ›´æ–°æ—¶è¢«è°ƒç”¨</span></span><br><span class="line">request.<span class="property">onupgradeneeded</span> = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> db = event.<span class="property">target</span>.<span class="property">result</span></span><br><span class="line">  <span class="comment">// åˆ›å»ºå¯¹è±¡ä»“åº“å¹¶æŒ‡å®šä¸»é”®</span></span><br><span class="line">  <span class="keyword">const</span> objectStore = db.<span class="title function_">createObjectStore</span>(<span class="string">&#x27;userInfo&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">keyPath</span>: <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">    <span class="attr">autoIncrement</span>: <span class="literal">false</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;åˆ›å»ºå¯¹è±¡ä»“åº“æˆåŠŸ&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * å®šä¹‰å­˜å‚¨å¯¹è±¡çš„æ•°æ®é¡¹</span></span><br><span class="line"><span class="comment">   * ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åˆ›å»ºçš„ç´¢å¼•åç§°ï¼Œå¯ä»¥ä¸ºç©º</span></span><br><span class="line"><span class="comment">   * ç¬¬äºŒä¸ªå‚æ•°æ˜¯ç´¢å¼•ä½¿ç”¨çš„å…³é”®åç§°ï¼Œå¯ä»¥ä¸ºç©º</span></span><br><span class="line"><span class="comment">   * ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å¯é€‰é…ç½®å‚æ•°ï¼Œå¯ä»¥ä¸ä¼ ï¼Œå¸¸ç”¨å‚æ•°ä¹‹ä¸€å°±æ˜¯ unique ï¼Œè¡¨ç¤ºè¯¥å­—æ®µæ˜¯å¦å”¯ä¸€ï¼Œä¸èƒ½é‡å¤</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  objectStore.<span class="title function_">createIndex</span>(<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;id&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">unique</span>: <span class="literal">true</span></span><br><span class="line">  &#125;)</span><br><span class="line">  objectStore.<span class="title function_">createIndex</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ·»åŠ æ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºäº‹åŠ¡æŒ‡å¹¶å®šè¡¨æ ¼åç§°å’Œè¯»å†™æƒé™</span></span><br><span class="line"><span class="keyword">const</span> transaction = db.<span class="title function_">transaction</span>([<span class="string">&#x27;userInfo&#x27;</span>], <span class="string">&#x27;readwrite&#x27;</span>)</span><br><span class="line"><span class="comment">// è·å– Object Store å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> objectStore = transaction.<span class="title function_">objectStore</span>(<span class="string">&#x27;userInfo&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ·»åŠ æ•°æ® */</span></span><br><span class="line">objectStore.<span class="title function_">add</span>(&#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;test&#x27;</span> &#125;)</span><br></pre></td></tr></table></figure><p>è·å–æ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> transaction = db.<span class="title function_">transaction</span>([<span class="string">&#x27;userInfo&#x27;</span>], <span class="string">&#x27;readonly&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> objectStore = transaction.<span class="title function_">objectStore</span>(<span class="string">&#x27;userInfo&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> objectStoreRequest = objectStore.<span class="title function_">get</span>(<span class="number">1</span>)</span><br><span class="line">objectStoreRequest.<span class="property">onsuccess</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è·å–æ•°æ®&#x27;</span>, objectStoreRequest.<span class="property">result</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹æ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> transaction = db.<span class="title function_">transaction</span>([<span class="string">&#x27;userInfo&#x27;</span>], <span class="string">&#x27;readwrite&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> objectStore = transaction.<span class="title function_">objectStore</span>(<span class="string">&#x27;userInfo&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> objectStoreRequest = objectStore.<span class="title function_">get</span>(<span class="number">1</span>)</span><br><span class="line">objectStoreRequest.<span class="property">onsuccess</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> data = objectStoreRequest.<span class="property">result</span></span><br><span class="line">  data.<span class="property">name</span> = <span class="string">&#x27;maomao&#x27;</span></span><br><span class="line">  objectStore.<span class="title function_">put</span>(data)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ é™¤æ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> transaction = db.<span class="title function_">transaction</span>([<span class="string">&#x27;userInfo&#x27;</span>], <span class="string">&#x27;readwrite&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> objectStore = transaction.<span class="title function_">objectStore</span>(<span class="string">&#x27;userInfo&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> objectStoreRequest = objectStore.<span class="title function_">delete</span>(<span class="number">1</span>)</span><br><span class="line">objectStoreRequest.<span class="property">onsuccess</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;åˆ é™¤æˆåŠŸ&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ—¥å¸¸å¼€å‘ä¸­å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ç±»åº“ç®€åŒ–ä»£ç é‡</p><ul><li><a href="https://github.com/localForage/localForage">localForage</a> ä¸€ä¸ªæä¾› <code>name:value</code> çš„ç®€å•è¯­æ³•çš„å®¢æˆ·ç«¯æ•°æ®å­˜å‚¨å«ç‰‡ï¼ŒåŸºäº <code>IndexedDB</code> å®ç°ï¼Œå¹¶åœ¨ä¸æŒæ”¯ <code>IndexedDB</code> çš„æµè§ˆå™¨ä¸­è‡ªåŠ¨å›é€€åˆ° <code>WebSQL</code> å’Œ <code>localStorage</code></li><li><a href="https://github.com/dexie/Dexie.js">Dexie.js</a> å¯¹ <code>IndexedDB</code> çš„å°è£…ï¼Œé€šè¿‡æä¾›æ›´å‹å¥½å’Œç®€å•è¯­æ³•è¿›è¡Œå¿«é€Ÿçš„ç¼–ç å¼€å‘</li><li><a href="https://github.com/pouchdb/pouchdb">PouchDB</a> å¯¹ <code>IndexedDB</code> çš„å°è£…ï¼Œé€šè¿‡æä¾›æ›´å‹å¥½å’Œç®€å•è¯­æ³•è¿›è¡Œå¿«é€Ÿçš„ç¼–ç å¼€å‘</li></ul>]]></content>
      
      
      <categories>
          
          <category> æµè§ˆå™¨ä¸ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æµè§ˆå™¨çŸ¥è¯† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git ç›¸å…³æŠ€å·§</title>
      <link href="/2023/09/12/git/Git%20%E7%9B%B8%E5%85%B3%E6%8A%80%E5%B7%A7/"/>
      <url>/2023/09/12/git/Git%20%E7%9B%B8%E5%85%B3%E6%8A%80%E5%B7%A7/</url>
      
        <content type="html"><![CDATA[<p>ç›¸å…³èµ„æ–™</p><ul><li><a href="https://git-scm.com/">å®˜ç½‘</a></li><li><a href="https://learngitbranching.js.org/?locale=zh_CN">Git å­¦ä¹ æ•™ç¨‹</a></li><li><a href="https://docs.github.com/cn/get-started/getting-started-with-git">Git å…¥é—¨æŒ‡å—</a></li><li><a href="https://github.com/521xueweihan/git-tips">Git çš„å¥‡æŠ€æ·«å·§</a></li><li><a href="https://github.com/tj/git-extras">Git Extras</a> git å‘½ä»¤è¡Œæ‰©å±•å·¥å…·</li><li><a href="https://docs.github.com/cn/get-started/getting-started-with-git/configuring-git-to-handle-line-endings">é…ç½® Git å¤„ç†è¡Œç»“æŸç¬¦</a></li><li><a href="https://gitee.com/help/articles/4229">Git é…ç½®å¤šä¸ª SSH-Key</a></li><li>ä¸‹è½½ç›¸å…³<ul><li><a href="https://npmmirror.com/mirrors/git-for-windows/">Windows ç‰ˆä¸‹è½½é•œåƒ</a></li><li><a href="https://github.com/maomao1996/daily-notes/issues/7">ä½¿ç”¨ jsdelivr åŠ é€Ÿ Github ä»“åº“èµ„æº</a></li></ul></li></ul><h2 id="å¸¸ç”¨-Git-å‘½ä»¤"><a href="#å¸¸ç”¨-Git-å‘½ä»¤" class="headerlink" title="å¸¸ç”¨ Git å‘½ä»¤"></a>å¸¸ç”¨ Git å‘½ä»¤</h2><blockquote><p><code>[xxx]</code> å‡ä¸ºå¯é€‰å‚æ•°</p></blockquote><h3 id="git-clone"><a href="#git-clone" class="headerlink" title="git clone"></a>git clone</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‹·è´ä¸€ä¸ª Git ä»“åº“åˆ°æœ¬åœ°</span></span><br><span class="line">git <span class="built_in">clone</span> ä»“åº“åœ°å€</span><br><span class="line">git <span class="built_in">clone</span> ä»“åº“åœ°å€ --depth 1 <span class="comment"># åªå…‹éš†æœ€è¿‘ä¸€æ¬¡çš„ commit</span></span><br></pre></td></tr></table></figure><h3 id="git-é…ç½®"><a href="#git-é…ç½®" class="headerlink" title="git é…ç½®"></a>git é…ç½®</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰çš„ Git é…ç½®</span></span><br><span class="line">git config --list</span><br><span class="line"><span class="comment"># è®¾ç½®ä½¿ç”¨ Git æ—¶çš„ç”¨æˆ·åç§°</span></span><br><span class="line">git config [--global] user.name <span class="string">&quot;åç§°&quot;</span></span><br><span class="line"><span class="comment"># è®¾ç½®ä½¿ç”¨ Git æ—¶çš„é‚®ç®±åœ°å€</span></span><br><span class="line">git config [--global] user.email <span class="string">&quot;é‚®ç®±&quot;</span></span><br></pre></td></tr></table></figure><h3 id="git-æ–‡ä»¶æ“ä½œ"><a href="#git-æ–‡ä»¶æ“ä½œ" class="headerlink" title="git æ–‡ä»¶æ“ä½œ"></a>git æ–‡ä»¶æ“ä½œ</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº</span></span><br><span class="line">git add .</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒº</span></span><br><span class="line">git commit -m <span class="string">&quot;æäº¤ä¿¡æ¯&quot;</span></span><br><span class="line">git commit --amend <span class="comment"># å¢è¡¥æäº¤ï¼Œä½¿ç”¨ä¸Šæ¬¡çš„ commit ä¿¡æ¯ï¼Œä¸æ·»åŠ æ–°çš„ commit è®°å½•</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ˜¾ç¤ºå˜æ›´çš„æ–‡ä»¶</span></span><br><span class="line">git status</span><br><span class="line">        -s <span class="comment"># ç²¾ç®€è¾“å‡º</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åªæš‚å­˜è¢«è¿½è¸ªçš„æ–‡ä»¶</span></span><br><span class="line">git stash</span><br><span class="line">        save <span class="string">&#x27;è¯´æ˜ä¿¡æ¯&#x27;</span> <span class="comment"># æ·»åŠ è¯´æ˜ä¿¡æ¯</span></span><br><span class="line">        -u <span class="comment"># æš‚å­˜æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ stash åˆ—è¡¨</span></span><br><span class="line">git stash list</span><br><span class="line"><span class="comment"># å–å‡ºæœ€è¿‘ä¸€æ¬¡çš„ stash</span></span><br><span class="line">git stash apply</span><br><span class="line"><span class="comment"># å–å‡ºå¹¶åˆ é™¤æœ€è¿‘ä¸€æ¬¡çš„ stash</span></span><br><span class="line">git stash pop</span><br><span class="line"><span class="comment"># æ¸…ç©ºæ‰€æœ‰ stash</span></span><br><span class="line">git stash clear</span><br></pre></td></tr></table></figure><h3 id="git-åˆ†æ”¯æ“ä½œ"><a href="#git-åˆ†æ”¯æ“ä½œ" class="headerlink" title="git åˆ†æ”¯æ“ä½œ"></a>git åˆ†æ”¯æ“ä½œ</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">git branch</span><br><span class="line">        [åˆ†æ”¯å] <span class="comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯(åœç•™åœ¨å½“å‰åˆ†æ”¯)</span></span><br><span class="line">        -r <span class="comment"># åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">        -a <span class="comment"># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">        -d [åˆ†æ”¯å] <span class="comment"># åˆ é™¤åˆ†æ”¯</span></span><br><span class="line">        -D [åˆ†æ”¯å] <span class="comment"># å¼ºåˆ¶åˆ é™¤åˆ†æ”¯</span></span><br><span class="line">        -r <span class="comment"># åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªç©ºç™½åˆ†æ”¯</span></span><br><span class="line">git checkout --orphan [åˆ†æ”¯å]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤æœ¬åœ°æ‰€æœ‰åˆ†æ”¯</span></span><br><span class="line">git branch | xargs git branch -d</span><br><span class="line"><span class="comment"># æ‰¹é‡åˆ é™¤åŒ…å«æŒ‡å®šå­—ç¬¦çš„æœ¬åœ°åˆ†æ”¯ã€ä»¥ dev ä¸ºä¾‹ã€‘</span></span><br><span class="line">git branch | grep <span class="string">&#x27;dev&#x27;</span> | xargs git branch -d</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å½“å‰çš„åˆ†æ”¯å</span></span><br><span class="line">git symbolic-ref --short -q HEAD</span><br><span class="line">git rev-parse --abbrev-ref HEAD</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯</span></span><br><span class="line">git merge [åˆ†æ”¯å]</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“</span></span><br><span class="line">git remote -v</span><br><span class="line"><span class="comment"># æ·»åŠ è¿œç¨‹ä»“åº“</span></span><br><span class="line">git remote add [name] [url]</span><br><span class="line"><span class="comment"># åˆ é™¤è¿œç¨‹ä»“åº“</span></span><br><span class="line">git remote remove [name]</span><br><span class="line"><span class="comment"># æŸ¥çœ‹è¿œç¨‹ä»“åº“åœ°å€</span></span><br><span class="line">git remote get-url [name]</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å–å›è¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶</span></span><br><span class="line">git pull [remote][branch]</span><br><span class="line"><span class="comment"># ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span></span><br><span class="line">git push [remote][branch]</span><br><span class="line"><span class="comment"># å¼ºè¡Œæ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå¿½ç•¥å†²çª</span></span><br><span class="line">git push [remote] --force</span><br></pre></td></tr></table></figure><h3 id="git-æ—¥å¿—"><a href="#git-æ—¥å¿—" class="headerlink" title="git æ—¥å¿—"></a>git æ—¥å¿—</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æäº¤è¿‡çš„å®Œæ•´æ—¥å¿—</span></span><br><span class="line">git <span class="built_in">log</span></span><br><span class="line">        --oneline <span class="comment"># æŸ¥çœ‹ç²¾ç®€æ—¥å¿—ï¼ˆç²¾ç®€ç‰ˆæœ¬å·å’Œæäº¤ä¿¡æ¯ï¼‰</span></span><br><span class="line">        --pretty=oneline <span class="comment"># æŸ¥çœ‹ç²¾ç®€æ—¥å¿—ï¼ˆå®Œæ•´ç‰ˆæœ¬å·å’Œæäº¤ä¿¡æ¯ï¼‰</span></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯çš„æ‰€æœ‰æ“ä½œè®°å½•ï¼ˆåŒ…æ‹¬è¢«åˆ é™¤çš„ commit è®°å½•å’Œ reset æ“ä½œï¼‰</span></span><br><span class="line">git reflog</span><br></pre></td></tr></table></figure><h3 id="git-ç»Ÿè®¡"><a href="#git-ç»Ÿè®¡" class="headerlink" title="git ç»Ÿè®¡"></a>git ç»Ÿè®¡</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç»Ÿè®¡ä½œè€…æäº¤çš„æ¬¡æ•°</span></span><br><span class="line">git shortlog -s -n</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¡ç®—å­˜å‚¨åº“ä¸­çš„æäº¤æ€»æ•°</span></span><br><span class="line">git rev-list --all --count</span><br><span class="line"><span class="comment"># è®¡ç®—å­˜å‚¨åº“ä¸­åˆ†æ”¯æŒ‡å®šçš„æäº¤æ€»æ•°</span></span><br><span class="line">git rev-list --count [åˆ†æ”¯å]</span><br></pre></td></tr></table></figure><h3 id="git-reset"><a href="#git-reset" class="headerlink" title="git reset"></a>git reset</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ’¤é”€ commit æ“ä½œ</span></span><br><span class="line">git reset --soft HEAD~1 <span class="comment"># git reset --soft commit_id</span></span><br><span class="line"><span class="comment"># æ’¤é”€ commit å’Œ add æ“ä½œ</span></span><br><span class="line">git reset --mixed HEAD~1 <span class="comment"># git reset --mixed commit_id</span></span><br><span class="line"><span class="comment"># æ’¤é”€ commit å’Œ add æ“ä½œåŒæ—¶æ’¤é”€æœ¬åœ°å·²è¿½è¸ªå†…å®¹çš„ä¿®æ”¹</span></span><br><span class="line">git reset --hard HEAD~1 <span class="comment"># git reset --hard commit_id</span></span><br></pre></td></tr></table></figure><p><a href="https://dont-sleep-so-late.github.io/2023/09/06/git/">æŸ¥çœ‹å®Œæ•´ç‰ˆ Git å‘½ä»¤</a></p><p><a href="https://juejin.cn/post/6844904191203213326">ä¸‰å¹´ Git ä½¿ç”¨å¿ƒå¾— &amp; å¸¸è§é—®é¢˜æ•´ç†</a></p><p><a href="https://github.com/521xueweihan/git-tips">git å‘½ä»¤å¤§å…¨ github</a></p><h2 id="åˆ é™¤-Git-ä¸­çš„æ‰€æœ‰æäº¤å†å²è®°å½•"><a href="#åˆ é™¤-Git-ä¸­çš„æ‰€æœ‰æäº¤å†å²è®°å½•" class="headerlink" title="åˆ é™¤ Git ä¸­çš„æ‰€æœ‰æäº¤å†å²è®°å½•"></a>åˆ é™¤ Git ä¸­çš„æ‰€æœ‰æäº¤å†å²è®°å½•</h2><p>ä»¥ <code>master</code> åˆ†æ”¯ä¸ºä¾‹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»º orphan åˆ†æ”¯ï¼ˆä»¥ main ä¸ºä¾‹ï¼‰</span></span><br><span class="line">git checkout --orphan main</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ éœ€è¦ä¸Šä¼ æ–‡ä»¶</span></span><br><span class="line">git add .</span><br><span class="line"></span><br><span class="line"><span class="comment"># æäº¤æ›´æ”¹</span></span><br><span class="line">git commit -m <span class="string">&quot;Initial&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤éœ€è¦æ¸…ç©ºæäº¤è®°å½•çš„åˆ†æ”¯</span></span><br><span class="line">git branch -D master</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†å½“å‰åˆ†æ”¯é‡å‘½åä¸ºéœ€è¦æ¸…ç©ºæäº¤è®°å½•çš„åˆ†æ”¯å</span></span><br><span class="line">git branch -m master</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼ºåˆ¶æ›´æ–°å­˜å‚¨åº“</span></span><br><span class="line">git push -f origin master</span><br></pre></td></tr></table></figure><h2 id="åŒæ­¥-github-fork-é¡¹ç›®ä¸Šæ¸¸æ›´æ–°"><a href="#åŒæ­¥-github-fork-é¡¹ç›®ä¸Šæ¸¸æ›´æ–°" class="headerlink" title="åŒæ­¥ github fork é¡¹ç›®ä¸Šæ¸¸æ›´æ–°"></a>åŒæ­¥ github fork é¡¹ç›®ä¸Šæ¸¸æ›´æ–°</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. æ·»åŠ ä¸Šæ¸¸ä»“åº“</span></span><br><span class="line">git remote add upstream https://github.com/é¡¹ç›®åœ°å€</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. æ‹‰å–ä¸Šæ¸¸å˜åŠ¨</span></span><br><span class="line">git fetch upstream</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. åˆå¹¶(ä»¥ master ä½ç½®ä¸ºä¾‹)</span></span><br><span class="line">git rebase upstream/master</span><br><span class="line"><span class="comment"># OR</span></span><br><span class="line">git merge upstream/master</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. æ›´æ–°è¿œç¨‹ fork ä»“åº“åˆ†æ”¯(ä»¥ master ä½ç½®ä¸ºä¾‹)</span></span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure><h2 id="å°†ä»£ç æäº¤åˆ°-github-çš„-gh-pages-åˆ†æ”¯"><a href="#å°†ä»£ç æäº¤åˆ°-github-çš„-gh-pages-åˆ†æ”¯" class="headerlink" title="å°†ä»£ç æäº¤åˆ° github çš„ gh-pages åˆ†æ”¯"></a>å°†ä»£ç æäº¤åˆ° github çš„ gh-pages åˆ†æ”¯</h2><ol><li>å®‰è£… <code>gh-pages</code></li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pnpm add -D gh-pages</span><br><span class="line"><span class="comment"># OR</span></span><br><span class="line">npm install -D gh-pages</span><br></pre></td></tr></table></figure><ol><li>åœ¨ <code>package.json</code> ä¸­æ·»åŠ å¦‚ä¸‹è„šæœ¬</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;deploy&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gh-pages -d dist -m deploy&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;deploy:build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npm run build &amp;&amp; npm run deploy&quot;</span></span><br></pre></td></tr></table></figure><ol><li>è¿è¡Œ <code>deploy</code> è„šæœ¬</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pnpm deploy</span><br><span class="line"><span class="comment"># OR</span></span><br><span class="line">npm run deploy</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨-GitHub-Actions-è‡ªåŠ¨éƒ¨ç½²"><a href="#ä½¿ç”¨-GitHub-Actions-è‡ªåŠ¨éƒ¨ç½²" class="headerlink" title="ä½¿ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½²"></a>ä½¿ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½²</h2><p><a href="https://github.com/features/actions">GitHub Actions</a> æ˜¯ GitHub çš„æŒç»­é›†æˆæœåŠ¡</p><h3 id="é…ç½®-Secrets"><a href="#é…ç½®-Secrets" class="headerlink" title="é…ç½® Secrets"></a>é…ç½® Secrets</h3><blockquote><p>Action éœ€è¦æœ‰æ“ä½œä»“åº“çš„æƒé™</p></blockquote><p>GitHub å®˜æ–¹çš„å¸®åŠ©æ–‡æ¡£ï¼š<a href="https://help.github.com/cn/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line">åˆ›å»ºç”¨äºå‘½ä»¤è¡Œçš„ä¸ªäººè®¿é—®ä»¤ç‰Œ</a></p><p>æ‰“å¼€éœ€è¦é…ç½® Actions çš„ä»“åº“ï¼Œè¿›å…¥ <code>Settings/Secrets</code> é¡µé¢ï¼Œé…ç½® <code>ACCESS_TOKEN</code> å˜é‡ï¼Œå‚¨å­˜å†…å®¹ä¸ºåˆšåˆšåˆ›å»ºçš„ä¸ªäººè®¿é—®ä»¤ç‰Œ</p><h3 id="ç¼–å†™-workflow-æ–‡ä»¶"><a href="#ç¼–å†™-workflow-æ–‡ä»¶" class="headerlink" title="ç¼–å†™ workflow æ–‡ä»¶"></a>ç¼–å†™ <code>workflow</code> æ–‡ä»¶</h3><ol><li>ç‚¹å‡»ä»“åº“çš„ <code>Actions</code> æŒ‰é’®</li><li>ç‚¹å‡» <code>Set up a workflow yourself</code> æŒ‰é’®</li><li>å¤åˆ¶å¦‚ä¸‹å†…å®¹</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">GitHub</span> <span class="string">Actions</span> <span class="string">Build</span> <span class="string">and</span> <span class="string">Deploy</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è§¦å‘æ¡ä»¶: push åˆ° master åˆ†æ”¯å</span></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">master</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®ä¸Šæµ·æ—¶åŒº</span></span><br><span class="line"><span class="attr">env:</span></span><br><span class="line">  <span class="attr">TZ:</span> <span class="string">Asia/Shanghai</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»»åŠ¡</span></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build-and-deploy:</span></span><br><span class="line">    <span class="comment"># æœåŠ¡å™¨ç¯å¢ƒï¼šæœ€æ–°ç‰ˆ ubuntu</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="comment"># æ‹‰å–ä»£ç </span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">persist-credentials:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">      <span class="comment"># æ‰“åŒ…é™æ€æ–‡ä»¶</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Build</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">&amp;&amp;</span> <span class="string">npm</span> <span class="string">run</span> <span class="string">build</span></span><br><span class="line"></span><br><span class="line">      <span class="comment"># éƒ¨ç½²</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">JamesIves/github-pages-deploy-action@releases/v3</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="comment"># GitHub å¯†é’¥</span></span><br><span class="line">          <span class="attr">ACCESS_TOKEN:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.ACCESS_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="comment"># GitHub Pages è¯»å–çš„åˆ†æ”¯</span></span><br><span class="line">          <span class="attr">BRANCH:</span> <span class="string">gh-pages</span></span><br><span class="line">          <span class="comment"># é™æ€æ–‡ä»¶æ‰€åœ¨ç›®å½•</span></span><br><span class="line">          <span class="attr">FOLDER:</span> <span class="string">dist</span></span><br></pre></td></tr></table></figure><hr><p>ç›¸å…³èµ„æ–™</p><ul><li><a href="http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html">GitHub Actions å…¥é—¨æ•™ç¨‹ | é˜®ä¸€å³°</a></li><li><a href="https://docs.github.com/cn/actions/reference">GitHub Actions ä¸­æ–‡æ–‡æ¡£</a></li></ul><h2 id="git-log-æ ¼å¼åŒ–"><a href="#git-log-æ ¼å¼åŒ–" class="headerlink" title="git log æ ¼å¼åŒ–"></a><code>git log</code> æ ¼å¼åŒ–</h2><h3 id="ä¿®æ”¹é»˜è®¤æ—¶é—´æ ¼å¼"><a href="#ä¿®æ”¹é»˜è®¤æ—¶é—´æ ¼å¼" class="headerlink" title="ä¿®æ”¹é»˜è®¤æ—¶é—´æ ¼å¼"></a>ä¿®æ”¹é»˜è®¤æ—¶é—´æ ¼å¼</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global log.date iso8601</span><br></pre></td></tr></table></figure><ul><li><code>relative</code>: ç›¸å¯¹æ—¶é—´æ ¼å¼</li><li><code>local</code>: æœ¬åœ°æ ¼å¼</li><li><code>iso</code> OR <code>iso8601</code>: <code>ISO8601</code> æ ¼å¼</li><li><code>rfc</code>: <code>RFC2822</code> æ ¼å¼</li><li><code>short</code>: <code>YYYY-MM-DD</code> æ ¼å¼</li><li><code>raw</code>: æ—¶é—´æˆ³æ ¼å¼</li><li><code>default</code>: é»˜è®¤æ ¼å¼</li></ul><h3 id="è‡ªå®šä¹‰è¾“å‡ºæ ¼å¼"><a href="#è‡ªå®šä¹‰è¾“å‡ºæ ¼å¼" class="headerlink" title="è‡ªå®šä¹‰è¾“å‡ºæ ¼å¼"></a>è‡ªå®šä¹‰è¾“å‡ºæ ¼å¼</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ ¼å¼ä¸º: [commit hash] [æäº¤æ—¶é—´] [æäº¤ä¿¡æ¯] [branch tag ä¿¡æ¯] [ä½œè€…åç§°]</span></span><br><span class="line">git <span class="built_in">log</span> --pretty=<span class="string">&#x27;%C(yellow)%h%C(reset) %ad %C(green)%s%C(reset) %C(red)%d%C(reset) %C(bold blue)[%an]%C(reset)&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®åˆ«å</span></span><br><span class="line"><span class="built_in">alias</span> glogp=<span class="string">&quot;git log --pretty=&#x27;%C(yellow)%h%C(reset) %ad %C(green)%s%C(reset) %C(red)%d%C(reset) %C(bold blue)[%an]%C(reset)&#x27;&quot;</span></span><br></pre></td></tr></table></figure><ul><li><code>%C(é¢œè‰²å€¼)</code>: ä¿®æ”¹è¾“å‡ºé¢œè‰²</li><li><code>%H</code>: å®Œæ•´çš„ <code>commit hash</code></li><li><code>%h</code>: ç¼©å†™çš„ <code>commit hash</code></li><li><code>%ad</code>: æäº¤æ—¶é—´(ç»å¯¹æ—¶é—´ å¯ä»¥ä½¿ç”¨ <code>-date=</code> å®šåˆ¶æ ¼å¼)</li><li><code>%ar</code>: æäº¤æ—¶é—´(ç›¸å¯¹æ—¶é—´ æŒ‰å¤šä¹…ä¹‹å‰æ˜¾ç¤º)</li><li><code>%s</code>: <code>commit message</code></li><li><code>%d</code>: <code>branch tag</code> ä¿¡æ¯</li><li><code>%an</code>: ä½œè€…åç§°</li><li><code>%ae</code>: ä½œè€…çš„é‚®ç®±åœ°å€</li></ul><h2 id="æœ¬åœ°ä¸åŒåˆ†æ”¯å…³è”ä¸åŒçš„è¿œç¨‹ä»“åº“"><a href="#æœ¬åœ°ä¸åŒåˆ†æ”¯å…³è”ä¸åŒçš„è¿œç¨‹ä»“åº“" class="headerlink" title="æœ¬åœ°ä¸åŒåˆ†æ”¯å…³è”ä¸åŒçš„è¿œç¨‹ä»“åº“"></a>æœ¬åœ°ä¸åŒåˆ†æ”¯å…³è”ä¸åŒçš„è¿œç¨‹ä»“åº“</h2><ol><li><code>clone</code> ä»“åº“ <code>mm-notes</code>ï¼ˆé»˜è®¤çš„ <code>remote</code> ä¸º <code>origin</code>ï¼‰</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/maomao1996/mm-notes</span><br></pre></td></tr></table></figure><ol><li>æ·»åŠ è¿œç¨‹ä»“åº“ <code>daily-notes</code>ï¼ˆ<code>remote</code> å–åä¸º <code>daily-notes</code>ï¼‰</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add daily-notes http://github.com/maomao1996/daily-notes</span><br></pre></td></tr></table></figure><ol><li>æ‹‰å– <code>daily-notes</code> çš„ <code>master</code> åˆ†æ”¯åˆ°æœ¬åœ°ï¼ˆæœ¬åœ°åˆ†æ”¯åä¸º <code>notes</code>ï¼‰</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git fetch daily-notes master:notes</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¨é€æœ¬åœ°åˆ†æ”¯ notes åˆ°è¿œç¨‹ä»“åº“ daily-notes çš„ master åˆ†æ”¯</span></span><br><span class="line">git push daily-notes notes:master</span><br></pre></td></tr></table></figure><ol><li>å…³è”åˆ†æ”¯ï¼ˆæœ¬åœ°åˆ†æ”¯ <code>notes</code> å…³è”è¿œç¨‹ä»“åº“ <code>daily-notes</code> çš„ <code>master</code> åˆ†æ”¯ï¼‰</li></ol><blockquote><p>æœ¬åœ°åˆ†æ”¯å…³è”è¿œç¨‹åˆ†æ”¯åï¼Œå¯ç›´æ¥ä½¿ç”¨ <code>git push</code> å’Œ <code>git pull</code> å‘½ä»¤</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch --set-upstream-to=daily-notes/master notes</span><br></pre></td></tr></table></figure><ol><li>æå– <code>master</code> åˆ†æ”¯çš„æŒ‡å®šæäº¤åˆ° <code>notes</code> åˆ†æ”¯</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ‡æ¢åˆ° notes åˆ†æ”¯</span></span><br><span class="line">git checkout notes</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ master åˆ†æ”¯çš„ commit ä¿¡æ¯</span></span><br><span class="line">git <span class="built_in">log</span> --oneline master</span><br><span class="line"></span><br><span class="line"><span class="comment"># æå– master åˆ†æ”¯çš„æŒ‡å®šæäº¤åˆ° notes åˆ†æ”¯</span></span><br><span class="line">git cherry-pick &lt;commit <span class="built_in">hash</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¨é€åˆ°è¿œç¨‹ä»“åº“</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Gitä»“åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäº json-server å·¥å…·ï¼Œå‡†å¤‡åç«¯æ¥å£æœåŠ¡ç¯å¢ƒ</title>
      <link href="/2023/09/12/js/%E5%9F%BA%E4%BA%8E-json-server-%E5%B7%A5%E5%85%B7%EF%BC%8C%E5%87%86%E5%A4%87%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%A3%E6%9C%8D%E5%8A%A1%E7%8E%AF%E5%A2%83/"/>
      <url>/2023/09/12/js/%E5%9F%BA%E4%BA%8E-json-server-%E5%B7%A5%E5%85%B7%EF%BC%8C%E5%87%86%E5%A4%87%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%A3%E6%9C%8D%E5%8A%A1%E7%8E%AF%E5%A2%83/</url>
      
        <content type="html"><![CDATA[<h1 id="ç®€å•ä½¿ç”¨"><a href="#ç®€å•ä½¿ç”¨" class="headerlink" title="ç®€å•ä½¿ç”¨"></a>ç®€å•ä½¿ç”¨</h1><ol><li><p>å®‰è£…å…¨å±€å·¥å…·  <strong>json-server</strong> ï¼ˆå…¨å±€å·¥å…·ä»…éœ€è¦å®‰è£…ä¸€æ¬¡ï¼‰ã€<a href="https://www.npmjs.com/package/json-server">å®˜ç½‘</a>ã€‘ </p><blockquote><p><strong>npm install -g json-server æˆ– cnpm install -g json-server</strong></p></blockquote></li><li><p>ä»£ç æ ¹ç›®å½•æ–°å»ºä¸€ä¸ª db ç›®å½• </p></li><li><p>å°†èµ„æ–™ index.json ç§»å…¥ db ç›®å½• </p></li><li><p>è¿›å…¥ db ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œå¯åŠ¨åç«¯æ¥å£æœåŠ¡</p><blockquote><p><strong>json-server index.json</strong></p></blockquote></li></ol><p>æ¨èï¼š json-server â€“watch index.json (å¯ä»¥å®æ—¶ç›‘å¬ json æ–‡ä»¶çš„ä¿®æ”¹)</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20230912154329.png"></p><h1 id="å…·ä½“è¿‡ç¨‹ï¼š"><a href="#å…·ä½“è¿‡ç¨‹ï¼š" class="headerlink" title="å…·ä½“è¿‡ç¨‹ï¼š"></a>å…·ä½“è¿‡ç¨‹ï¼š</h1><blockquote><p>åœ¨é¡¹ç›®çš„åˆå§‹é˜¶æ®µï¼Œåç«¯æä¾›çš„æ¥å£æˆ–æ•°æ®å¯èƒ½æ˜¯ä¸å®Œæ•´çš„ï¼Œä½œä¸ºä¸€åå‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆï¼Œä¸å¯é¿å…çš„è¦ä½¿ç”¨mockçš„æ•°æ®ã€‚å¦‚æœæ­¤æ—¶çš„ä½ ä¸æƒ³ä½¿ç”¨ç®€å•çš„é™æ€æ•°æ®ï¼Œè€Œæ˜¯æƒ³è‡ªå·±åœ¨æœ¬åœ°å¯åŠ¨ä¸€ä¸ªserveræ¥æ¨¡æ‹Ÿè¯·æ±‚ç›¸å…³çš„æ“ä½œï¼Œé‚£ä¹ˆjson-serveræ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚<br>json-serveå¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿæ­å»ºä¸€ä¸ªmock-serveræœ¬åœ°æœåŠ¡ï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„åç¼€è·å–åˆ°ä¸åŒçš„æ•°æ®ã€‚</p></blockquote><h6 id="ä¸€ã€å‡†å¤‡å·¥ä½œ"><a href="#ä¸€ã€å‡†å¤‡å·¥ä½œ" class="headerlink" title="ä¸€ã€å‡†å¤‡å·¥ä½œ"></a>ä¸€ã€å‡†å¤‡å·¥ä½œ</h6><h6 id="1ã€å®‰è£…Node"><a href="#1ã€å®‰è£…Node" class="headerlink" title="1ã€å®‰è£…Node"></a>1ã€å®‰è£…<a href="https://so.csdn.net/so/search?q=Node&spm=1001.2101.3001.7020">Node</a></h6><p>ç”±äºjson-serveréœ€è¦é€šè¿‡Nodeå¯¹å…¶è¿›è¡Œå¯åŠ¨ï¼Œæ‰€ä»¥é¦–å…ˆè¦å®‰è£…Nodeã€‚Nodeå¯è‡ªè¡Œå®‰è£…ï¼Œåœ¨æ­¤ä¸å†è¿›è¡Œæ¼”ç¤ºã€‚</p><h6 id="2ã€å…¨å±€å®‰è£…json-server"><a href="#2ã€å…¨å±€å®‰è£…json-server" class="headerlink" title="2ã€å…¨å±€å®‰è£…json-server"></a>2ã€å…¨å±€å®‰è£…json-server</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install json-server -g</span><br></pre></td></tr></table></figure><h6 id="3ã€æŸ¥çœ‹ç‰ˆæœ¬"><a href="#3ã€æŸ¥çœ‹ç‰ˆæœ¬" class="headerlink" title="3ã€æŸ¥çœ‹ç‰ˆæœ¬"></a>3ã€æŸ¥çœ‹ç‰ˆæœ¬</h6><p>åœ¨cmdæ§åˆ¶å°ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹ç‰ˆæœ¬å·ã€‚ç”¨äºéªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">json-server -v</span><br></pre></td></tr></table></figure><h6 id="4ã€å‡†å¤‡ä¸€ä»½JSONæ–‡ä»¶"><a href="#4ã€å‡†å¤‡ä¸€ä»½JSONæ–‡ä»¶" class="headerlink" title="4ã€å‡†å¤‡ä¸€ä»½JSONæ–‡ä»¶"></a>4ã€å‡†å¤‡ä¸€ä»½JSONæ–‡ä»¶</h6><p>æˆ‘è¿™é‡Œå‡†å¤‡çš„æ˜¯ä¸€ä»½åå­—ä¸ºscore.jsonçš„æ–‡ä»¶ï¼Œç”¨äºå­˜æ”¾è™šæ‹Ÿæ•°æ®ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;scoreList&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">,</span><span class="attr">&quot;userName&quot;</span><span class="punctuation">:</span><span class="string">&quot;å¼ ä¸‰&quot;</span><span class="punctuation">,</span><span class="attr">&quot;age&quot;</span><span class="punctuation">:</span><span class="number">12</span><span class="punctuation">,</span><span class="attr">&quot;sex&quot;</span><span class="punctuation">:</span><span class="string">&quot;ç”·&quot;</span><span class="punctuation">,</span><span class="attr">&quot;score&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;yuWen&quot;</span><span class="punctuation">:</span><span class="number">10</span><span class="punctuation">,</span><span class="attr">&quot;shuXue&quot;</span><span class="punctuation">:</span><span class="number">20</span><span class="punctuation">,</span><span class="attr">&quot;yingYu&quot;</span><span class="punctuation">:</span><span class="number">30</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="number">2</span><span class="punctuation">,</span><span class="attr">&quot;userName&quot;</span><span class="punctuation">:</span><span class="string">&quot;æå››&quot;</span><span class="punctuation">,</span><span class="attr">&quot;age&quot;</span><span class="punctuation">:</span><span class="number">21</span><span class="punctuation">,</span><span class="attr">&quot;sex&quot;</span><span class="punctuation">:</span><span class="string">&quot;å¥³&quot;</span><span class="punctuation">,</span><span class="attr">&quot;score&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;yuWen&quot;</span><span class="punctuation">:</span><span class="number">12</span><span class="punctuation">,</span><span class="attr">&quot;shuXue&quot;</span><span class="punctuation">:</span><span class="number">45</span><span class="punctuation">,</span><span class="attr">&quot;yingYu&quot;</span><span class="punctuation">:</span><span class="number">37</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="number">3</span><span class="punctuation">,</span><span class="attr">&quot;userName&quot;</span><span class="punctuation">:</span><span class="string">&quot;ç‹äº”&quot;</span><span class="punctuation">,</span><span class="attr">&quot;age&quot;</span><span class="punctuation">:</span><span class="number">56</span><span class="punctuation">,</span><span class="attr">&quot;sex&quot;</span><span class="punctuation">:</span><span class="string">&quot;ç”·&quot;</span><span class="punctuation">,</span><span class="attr">&quot;score&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;yuWen&quot;</span><span class="punctuation">:</span><span class="number">12</span><span class="punctuation">,</span><span class="attr">&quot;shuXue&quot;</span><span class="punctuation">:</span><span class="number">20</span><span class="punctuation">,</span><span class="attr">&quot;yingYu&quot;</span><span class="punctuation">:</span><span class="number">30</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="number">4</span><span class="punctuation">,</span><span class="attr">&quot;userName&quot;</span><span class="punctuation">:</span><span class="string">&quot;èµµå…­&quot;</span><span class="punctuation">,</span><span class="attr">&quot;age&quot;</span><span class="punctuation">:</span><span class="number">23</span><span class="punctuation">,</span><span class="attr">&quot;sex&quot;</span><span class="punctuation">:</span><span class="string">&quot;å¥³&quot;</span><span class="punctuation">,</span><span class="attr">&quot;score&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;yuWen&quot;</span><span class="punctuation">:</span><span class="number">19</span><span class="punctuation">,</span><span class="attr">&quot;shuXue&quot;</span><span class="punctuation">:</span><span class="number">21</span><span class="punctuation">,</span><span class="attr">&quot;yingYu&quot;</span><span class="punctuation">:</span><span class="number">65</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="number">5</span><span class="punctuation">,</span><span class="attr">&quot;userName&quot;</span><span class="punctuation">:</span><span class="string">&quot;ä¸¥ä¸ƒ&quot;</span><span class="punctuation">,</span><span class="attr">&quot;age&quot;</span><span class="punctuation">:</span><span class="number">12</span><span class="punctuation">,</span><span class="attr">&quot;sex&quot;</span><span class="punctuation">:</span><span class="string">&quot;ç”·&quot;</span><span class="punctuation">,</span><span class="attr">&quot;score&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;yuWen&quot;</span><span class="punctuation">:</span><span class="number">34</span><span class="punctuation">,</span><span class="attr">&quot;shuXue&quot;</span><span class="punctuation">:</span><span class="number">67</span><span class="punctuation">,</span><span class="attr">&quot;yingYu&quot;</span><span class="punctuation">:</span><span class="number">43</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="number">6</span><span class="punctuation">,</span><span class="attr">&quot;userName&quot;</span><span class="punctuation">:</span><span class="string">&quot;æ²ˆå…«&quot;</span><span class="punctuation">,</span><span class="attr">&quot;age&quot;</span><span class="punctuation">:</span><span class="number">43</span><span class="punctuation">,</span><span class="attr">&quot;sex&quot;</span><span class="punctuation">:</span><span class="string">&quot;å¥³&quot;</span><span class="punctuation">,</span><span class="attr">&quot;score&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;yuWen&quot;</span><span class="punctuation">:</span><span class="number">56</span><span class="punctuation">,</span><span class="attr">&quot;shuXue&quot;</span><span class="punctuation">:</span><span class="number">76</span><span class="punctuation">,</span><span class="attr">&quot;yingYu&quot;</span><span class="punctuation">:</span><span class="number">30</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="number">7</span><span class="punctuation">,</span><span class="attr">&quot;userName&quot;</span><span class="punctuation">:</span><span class="string">&quot;é’±ä¹&quot;</span><span class="punctuation">,</span><span class="attr">&quot;age&quot;</span><span class="punctuation">:</span><span class="number">13</span><span class="punctuation">,</span><span class="attr">&quot;sex&quot;</span><span class="punctuation">:</span><span class="string">&quot;ç”·&quot;</span><span class="punctuation">,</span><span class="attr">&quot;score&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;yuWen&quot;</span><span class="punctuation">:</span><span class="number">24</span><span class="punctuation">,</span><span class="attr">&quot;shuXue&quot;</span><span class="punctuation">:</span><span class="number">89</span><span class="punctuation">,</span><span class="attr">&quot;yingYu&quot;</span><span class="punctuation">:</span><span class="number">30</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="number">8</span><span class="punctuation">,</span><span class="attr">&quot;userName&quot;</span><span class="punctuation">:</span><span class="string">&quot;å¼ å&quot;</span><span class="punctuation">,</span><span class="attr">&quot;age&quot;</span><span class="punctuation">:</span><span class="number">12</span><span class="punctuation">,</span><span class="attr">&quot;sex&quot;</span><span class="punctuation">:</span><span class="string">&quot;å¥³&quot;</span><span class="punctuation">,</span><span class="attr">&quot;score&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;yuWen&quot;</span><span class="punctuation">:</span><span class="number">10</span><span class="punctuation">,</span><span class="attr">&quot;shuXue&quot;</span><span class="punctuation">:</span><span class="number">54</span><span class="punctuation">,</span><span class="attr">&quot;yingYu&quot;</span><span class="punctuation">:</span><span class="number">31</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h6 id="äºŒã€å¯åŠ¨æœåŠ¡"><a href="#äºŒã€å¯åŠ¨æœåŠ¡" class="headerlink" title="äºŒã€å¯åŠ¨æœåŠ¡"></a>äºŒã€å¯åŠ¨æœåŠ¡</h6><h6 id="1ã€å¸¸ç”¨å‘½ä»¤é€‰é¡¹ï¼š"><a href="#1ã€å¸¸ç”¨å‘½ä»¤é€‰é¡¹ï¼š" class="headerlink" title="1ã€å¸¸ç”¨å‘½ä»¤é€‰é¡¹ï¼š"></a>1ã€å¸¸ç”¨å‘½ä»¤é€‰é¡¹ï¼š</h6><ul><li>â€“ watchï¼šé€šè¿‡è¯¥å‘½ä»¤å¯ä»¥å®æ—¶ç›‘æµ‹score.jsonçš„å˜åŒ–ï¼Œå¦‚æœçœç•¥è¯¥å‘½ä»¤ï¼Œå³ä½¿score.jsonå‘ç”Ÿå˜åŒ–ï¼Œåˆ·æ–°ã€æˆ–é‡æ–°å‘é€è¯·æ±‚ï¼Œä»ç„¶ä¼šè¿”å›åˆæ¬¡å¯åŠ¨æœåŠ¡æ—¶çš„æ•°æ®ã€‚ç®€å†™å½¢å¼ä¸ºï¼š-w</li><li>â€“port:æŒ‡å®šæœåŠ¡çš„ç«¯å£å·ï¼Œå¯çœç•¥ï¼Œé»˜è®¤ä¸º3000ã€‚ç®€å†™å½¢å¼ï¼š-p</li><li>â€“host:è®¾ç½®åŸŸï¼Œå¯çœç•¥ã€‚ç®€å†™å½¢å¼ï¼š-H</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">json-server --watch score.json --port 8090  --host 127.0.0.1</span><br></pre></td></tr></table></figure><p>ä¸Šæ–¹å‘½ä»¤å¯ç®€å†™ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">json-server score.json -w -p 8090 -H 127.0.0.1</span><br></pre></td></tr></table></figure><p>ä½†ï¼Œä¸€èˆ¬é€šè¿‡ä¸‹é¢å‘½ä»¤ï¼Œå³å¯å®ŒåŸºæœ¬å·¥ä½œï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">json-server -w score.json</span><br></pre></td></tr></table></figure><h6 id="2ã€å·¥ä½œåœºæ™¯å»ºè®®"><a href="#2ã€å·¥ä½œåœºæ™¯å»ºè®®" class="headerlink" title="2ã€å·¥ä½œåœºæ™¯å»ºè®®"></a>2ã€å·¥ä½œåœºæ™¯å»ºè®®</h6><p>å¦‚æœä½ å·²çŸ¥é¡¹ç›®æ¥å£åŸŸååŠç«¯å£å·ï¼Œä¸ºé¿å…åç»­æ›´æ”¹æ¥å£ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p><ul><li><p>å‡è®¾é¡¹ç›®æ¥å£åŸŸåä¸ºï¼š<code>api.zhangpeiyue.com</code>,ç«¯å£å·ä¸ºï¼š<code>80</code></p></li><li><p>è®¾ç½®hostæ˜ å°„ï¼šç”¨è®°äº‹æœ¬æ‰“å¼€<code>C:\Windows\System32\drivers\etc</code>ç›®å½•ä¸­çš„<code>hosts</code>æ–‡ä»¶ã€‚åº•éƒ¨å¢åŠ ï¼š<code>127.0.0.1 api.zhangpeiyue.com</code>ï¼Œè¯¥æ–‡ä»¶å¦‚æœä¸å…è®¸ä¿®æ”¹ï¼Œå¢åŠ ç›¸å¯¹åº”çš„æƒé™å³å¯ã€‚</p></li><li><p>å¯åŠ¨æœåŠ¡å‘½ä»¤ï¼š</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">json-server --watch score.json --port 80  --host api.zhangpeiyue.com</span><br></pre></td></tr></table></figure><p>ç”±äº80æ˜¯é»˜è®¤ç«¯å£å·ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>api.zhangpeiyue.com</code>æ¥å¯¹æ•°æ®è¿›è¡Œæ“ä½œäº†ã€‚</p><h6 id="3ã€é€šè¿‡package-jsonæ–‡ä»¶å¯åŠ¨é¡¹ç›®"><a href="#3ã€é€šè¿‡package-jsonæ–‡ä»¶å¯åŠ¨é¡¹ç›®" class="headerlink" title="3ã€é€šè¿‡package.jsonæ–‡ä»¶å¯åŠ¨é¡¹ç›®"></a>3ã€é€šè¿‡<code>package.json</code>æ–‡ä»¶å¯åŠ¨é¡¹ç›®</h6><p>å¯åŠ¨json-serveræ—¶ï¼Œ å¦‚æœè‡ªå®šä¹‰é…ç½®çš„å‚æ•°è¿‡å¤šï¼Œå®¹æ˜“å‡ºç°å‘½ä»¤æ•²é”™çš„ç°è±¡ã€‚æˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»ºä¸€ä¸ªåå­—ä¸º<code>package.json</code>çš„æ–‡ä»¶ï¼Œå†…å®¹ä¸ºï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;score&quot;</span><span class="punctuation">:</span> <span class="string">&quot;json-server --watch score.json --port 80  --host api.zhangpeiyue.com&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡<code>npm run score</code>å¯åŠ¨å³å¯ã€‚</p><h6 id="4ã€è‡ªå®šä¹‰é…ç½®æ–‡ä»¶"><a href="#4ã€è‡ªå®šä¹‰é…ç½®æ–‡ä»¶" class="headerlink" title="4ã€è‡ªå®šä¹‰é…ç½®æ–‡ä»¶"></a>4ã€è‡ªå®šä¹‰é…ç½®æ–‡ä»¶</h6><p>json-serverå…è®¸æˆ‘ä»¬æŠŠæ‰€æœ‰çš„é…ç½®æ”¾åˆ°ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶é»˜è®¤json-server.jsonã€‚é…ç½®æ–‡ä»¶çš„ä¸»è¦å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;port&quot;</span><span class="punctuation">:</span> <span class="number">80</span><span class="punctuation">,</span>  <span class="comment">// è‡ªå®šä¹‰æœåŠ¡ç›‘å¬ç«¯å£</span></span><br><span class="line">  <span class="attr">&quot;watch&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> <span class="comment">// æœåŠ¡ç›‘å¬</span></span><br><span class="line">  <span class="attr">&quot;host&quot;</span><span class="punctuation">:</span> <span class="string">&quot;api.zhangpeiyue.com&quot;</span><span class="punctuation">,</span><span class="comment">// æŒ‡å®šåŸŸ</span></span><br><span class="line">  <span class="attr">&quot;static&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./public&quot;</span><span class="punctuation">,</span> <span class="comment">// é™æ€æ–‡ä»¶ç›®å½•ï¼Œå¯ä»¥å°†é¡¹ç›®çš„HTML,JS,IMGç­‰èµ„æºæ”¾åœ¨è¿™é‡Œ</span></span><br><span class="line">  <span class="attr">&quot;read-only&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span>  <span class="comment">// æ˜¯å¦åªå…è®¸getè¯·æ±‚</span></span><br><span class="line">  <span class="attr">&quot;no-cors&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span> <span class="comment">// æ˜¯å¦å…è®¸è·¨åŸŸè®¿é—®</span></span><br><span class="line">  <span class="attr">&quot;no-gzip&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span> <span class="comment">// æ˜¯å¦å¯å‹ç¼©</span></span><br><span class="line">  <span class="attr">&quot;routes&quot;</span><span class="punctuation">:</span> <span class="string">&quot;route.json&quot;</span> <span class="comment">// è‡ªå®šä¹‰è·¯ç”±ï¼Œè¿™ä¸ªé…ç½®å¯ä»¥æš‚æ—¶çœç•¥ï¼Œåç»­ä¼šæœ‰æ‰€æ¶‰åŠ</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥é€šè¿‡<code>json-server --watch score.json</code>å¯åŠ¨é¡¹ç›®ã€‚</p><p>4ã€è¾“å‡ºç±»ä¼¼ä»¥ä¸‹å†…å®¹ï¼Œè¯´æ˜å¯åŠ¨æˆåŠŸã€‚</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy8xMjAxNTk3MC0wMmYxMDgwMDI1OTIxNjgzLnBuZw?x-oss-process=image/format,png" alt="img"></p><h6 id="5ã€å…¶å®ƒç›¸å…³å¯åŠ¨å‚æ•°"><a href="#5ã€å…¶å®ƒç›¸å…³å¯åŠ¨å‚æ•°" class="headerlink" title="5ã€å…¶å®ƒç›¸å…³å¯åŠ¨å‚æ•°"></a>5ã€å…¶å®ƒç›¸å…³å¯åŠ¨å‚æ•°</h6><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy8xMjAxNTk3MC1lODk1MDc0ZjdlMTU2NWU1LnBuZw?x-oss-process=image/format,png" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> json-server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue å®ç°å†å²æœç´¢è®°å½•</title>
      <link href="/2023/09/11/Vue/Vue-%E6%90%9C%E7%B4%A2%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95%E7%AE%A1%E7%90%86/"/>
      <url>/2023/09/11/Vue/Vue-%E6%90%9C%E7%B4%A2%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95%E7%AE%A1%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="æœç´¢-å†å²è®°å½•ç®¡ç†"><a href="#æœç´¢-å†å²è®°å½•ç®¡ç†" class="headerlink" title="æœç´¢ - å†å²è®°å½•ç®¡ç†"></a>æœç´¢ - å†å²è®°å½•ç®¡ç†</h1><p>1.æœç´¢å†å²åŸºæœ¬æ¸²æŸ“<br>2.ç‚¹å‡»æœç´¢(æ·»åŠ å†å²)<br>    ç‚¹å‡» æœç´¢æŒ‰é’®æˆ–åº•ä¸‹å†å²è®°å½•ï¼Œéƒ½èƒ½è¿›è¡Œæœç´¢<br>    â‘  è‹¥ä¹‹å‰ <strong>æ²¡æœ‰</strong> ç›¸åŒæœç´¢å…³é”®å­—ï¼Œåˆ™ç›´æ¥<strong>è¿½åŠ åˆ°æœ€å‰é¢</strong></p><p>â€‹â‘¡ è‹¥ä¹‹å‰ <strong>å·²æœ‰</strong> ç›¸åŒæœç´¢å…³é”®å­—ï¼Œå°†è¯¥åŸæœ‰å…³é”®å­—ç§»é™¤ï¼Œå†è¿½åŠ </p><p>3.æ¸…ç©ºå†å²:æ·»åŠ æ¸…ç©ºå›¾æ ‡ï¼Œå¯ä»¥æ¸…ç©ºå†å²è®°å½•</p><h2 id="æœç´¢-å†å²è®°å½•-åŸºæœ¬ç®¡ç†"><a href="#æœç´¢-å†å²è®°å½•-åŸºæœ¬ç®¡ç†" class="headerlink" title="æœç´¢ - å†å²è®°å½• - åŸºæœ¬ç®¡ç†"></a>æœç´¢ - å†å²è®°å½• - åŸºæœ¬ç®¡ç†</h2><ol><li>data ä¸­æä¾›æ•°æ®ï¼Œå’Œæœç´¢æ¡†åŒå‘ç»‘å®š (å®æ—¶è·å–ç”¨æˆ·å†…å®¹)</li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">data () &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">search</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;van-search v-model=<span class="string">&quot;search&quot;</span> show-action placeholder=<span class="string">&quot;è¯·è¾“å…¥æœç´¢å…³é”®è¯&quot;</span> clearable&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">template</span> #<span class="attr">action</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>æœç´¢<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">&lt;/van-search&gt;</span><br></pre></td></tr></table></figure><ol start="2"><li>å‡†å¤‡å‡æ•°æ®ï¼Œè¿›è¡ŒåŸºæœ¬çš„å†å²çºªå½•æ¸²æŸ“</li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">data () &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="attr">history</span>: [<span class="string">&#x27;æ‰‹æœº&#x27;</span>, <span class="string">&#x27;ç©ºè°ƒ&#x27;</span>, <span class="string">&#x27;ç™½é…’&#x27;</span>, <span class="string">&#x27;ç”µè§†&#x27;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">    </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;search-history&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;history.length &gt; 0&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  ...</span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;item in history&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;goSearch(item)&quot;</span> <span class="attr">class</span>=<span class="string">&quot;list-item&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;&#123; item &#125;&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><ol start="3"><li>ç‚¹å‡»æœç´¢ï¼Œæˆ–è€…ä¸‹é¢æœç´¢å†å²æŒ‰é’®ï¼Œéƒ½è¦è¿›è¡Œæœç´¢å†å²è®°å½•æ›´æ–° (å»é‡ï¼Œæ–°æœç´¢çš„å†…å®¹ç½®é¡¶)</li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div @click=<span class="string">&quot;goSearch(search)&quot;</span>&gt;æœç´¢&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;item in history&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;goSearch(item)&quot;</span> <span class="attr">class</span>=<span class="string">&quot;list-item&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    &#123;&#123; item &#125;&#125;</span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">goSearch (key) &#123;</span><br><span class="line">  <span class="keyword">const</span> index = <span class="variable language_">this</span>.<span class="property">history</span>.<span class="title function_">indexOf</span>(key)</span><br><span class="line">  <span class="keyword">if</span> (index !== -<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">history</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">history</span>.<span class="title function_">unshift</span>(key)</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">`/searchlist?search=<span class="subst">$&#123;key&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>æ¸…ç©ºå†å²</li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;van-icon @click=<span class="string">&quot;clear&quot;</span> name=<span class="string">&quot;delete-o&quot;</span> size=<span class="string">&quot;16&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line">clear () &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">history</span> = []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æœç´¢-å†å²è®°å½•-æŒä¹…åŒ–"><a href="#æœç´¢-å†å²è®°å½•-æŒä¹…åŒ–" class="headerlink" title="æœç´¢ - å†å²è®°å½• - æŒä¹…åŒ–"></a>æœç´¢ - å†å²è®°å½• - æŒä¹…åŒ–</h2><ol><li>æŒä¹…åŒ–åˆ°æœ¬åœ° - å°è£…æ–¹æ³•</li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">HISTORY_KEY</span> = <span class="string">&#x27;hm_history_list&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æœç´¢å†å²</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getHistoryList</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> result = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="variable constant_">HISTORY_KEY</span>)</span><br><span class="line">  <span class="keyword">return</span> result ? <span class="title class_">JSON</span>.<span class="title function_">parse</span>(result) : []</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®æœç´¢å†å²</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">setHistoryList</span> = (<span class="params">arr</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="variable constant_">HISTORY_KEY</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(arr))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>é¡µé¢ä¸­è°ƒç”¨ - å®ç°æŒä¹…åŒ–</li></ol><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">data () &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">search</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">history</span>: <span class="title function_">getHistoryList</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  goSearch (key) &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="title function_">setHistoryList</span>(<span class="variable language_">this</span>.<span class="property">history</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">`/searchlist?search=<span class="subst">$&#123;key&#125;</span>`</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  clear () &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">history</span> = []</span><br><span class="line">    <span class="title function_">setHistoryList</span>([])</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$toast</span>.<span class="title function_">success</span>(<span class="string">&#x27;æ¸…ç©ºå†å²æˆåŠŸ&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®åº“å’Œèº«ä»½è®¤è¯</title>
      <link href="/2023/09/09/nodejs/mysql/"/>
      <url>/2023/09/09/nodejs/mysql/</url>
      
        <content type="html"><![CDATA[<h2 id="Node-æ“ä½œ-mysql"><a href="#Node-æ“ä½œ-mysql" class="headerlink" title="Node æ“ä½œ mysql"></a>Node æ“ä½œ mysql</h2><h3 id="é…ç½®-mysql-æ¨¡å—"><a href="#é…ç½®-mysql-æ¨¡å—" class="headerlink" title="é…ç½® mysql æ¨¡å—"></a>é…ç½® mysql æ¨¡å—</h3><ol><li>å®‰è£… mysql æ¨¡å—</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install mysql</span><br></pre></td></tr></table></figure><ol start="2"><li>å»ºç«‹è¿æ¥</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">&#x27;mysql&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> db = mysql.<span class="title function_">createPool</span>(&#123;</span><br><span class="line">  <span class="attr">host</span>: <span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">  <span class="attr">user</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">  <span class="attr">password</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">  <span class="attr">database</span>: <span class="string">&#x27;test&#x27;</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol start="3"><li>æµ‹è¯•æ˜¯å¦æ­£å¸¸å·¥ä½œ</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="title function_">query</span>(<span class="string">&#x27;select 1&#x27;</span>, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(results)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="æ“ä½œ-mysql-æ•°æ®åº“"><a href="#æ“ä½œ-mysql-æ•°æ®åº“" class="headerlink" title="æ“ä½œ mysql æ•°æ®åº“"></a>æ“ä½œ mysql æ•°æ®åº“</h3><ol><li>æŸ¥è¯¢æ•°æ®</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="title function_">query</span>(<span class="string">&#x27;select * from users&#x27;</span>, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol start="2"><li>æ’å…¥æ•°æ®</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ? è¡¨ç¤ºå ä½ç¬¦</span></span><br><span class="line"><span class="keyword">const</span> sql = <span class="string">&#x27;insert into users values(?, ?)&#x27;</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ•°ç»„çš„å½¢å¼ä¸ºå ä½ç¬¦æŒ‡å®šå…·ä½“çš„å€¼</span></span><br><span class="line">db.<span class="title function_">query</span>(sql, [username, password], <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>)</span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">affectedRows</span> === <span class="number">1</span>) <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ’å…¥æˆåŠŸ&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å‘è¡¨ä¸­æ–°å¢æ•°æ®æ—¶ï¼Œå¦‚æœæ•°æ®å¯¹è±¡çš„æ¯ä¸ªå±æ€§å’Œæ•°æ®è¡¨çš„å­—æ®µä¸€ä¸€å¯¹åº”ï¼Œåˆ™å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼å¿«é€Ÿæ’å…¥æ•°æ®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user = &#123;<span class="attr">username</span>:<span class="string">&#x27;Bruce&#x27;</span>, <span class="attr">password</span>:<span class="string">&#x27;55520&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">const</span> sql = <span class="string">&#x27;insert into users set ?&#x27;</span></span><br><span class="line">db.<span class="title function_">query</span>(sql, user, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol start="3"><li>æ›´æ–°æ•°æ®</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sql = <span class="string">&#x27;update users set username=?, password=? where id=?&#x27;</span></span><br><span class="line">db.<span class="title function_">query</span>(sql, [username, password, id], <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å¿«æ·æ–¹å¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user = &#123;<span class="attr">id</span>:<span class="number">7</span>,<span class="attr">username</span>:<span class="string">&#x27;Bruce&#x27;</span>,<span class="attr">password</span>:<span class="string">&#x27;55520&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">const</span> sql = <span class="string">&#x27;update users set ? where id=?&#x27;</span></span><br><span class="line">db.<span class="title function_">query</span>(sql, [user, user.<span class="property">id</span>], <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol start="4"><li>åˆ é™¤æ•°æ®</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sql = <span class="string">&#x27;delete from users where id=?&#x27;</span></span><br><span class="line">db.<span class="title function_">query</span>(sql, id, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ delete è¯­å¥ä¼šçœŸæ­£åˆ é™¤æ•°æ®ï¼Œä¿é™©èµ·è§ï¼Œä½¿ç”¨æ ‡è®°åˆ é™¤çš„å½¢å¼ï¼Œæ¨¡æ‹Ÿåˆ é™¤çš„åŠ¨ä½œã€‚å³åœ¨è¡¨ä¸­è®¾ç½®çŠ¶æ€å­—æ®µï¼Œæ ‡è®°å½“å‰çš„æ•°æ®æ˜¯å¦è¢«åˆ é™¤ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="title function_">query</span>(<span class="string">&#x27;update users set status=1 where id=?&#x27;</span>, <span class="number">7</span>, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="Web-å¼€å‘æ¨¡å¼"><a href="#Web-å¼€å‘æ¨¡å¼" class="headerlink" title="Web å¼€å‘æ¨¡å¼"></a>Web å¼€å‘æ¨¡å¼</h2><h3 id="æœåŠ¡ç«¯æ¸²æŸ“"><a href="#æœåŠ¡ç«¯æ¸²æŸ“" class="headerlink" title="æœåŠ¡ç«¯æ¸²æŸ“"></a>æœåŠ¡ç«¯æ¸²æŸ“</h3><p>æœåŠ¡å™¨å‘é€ç»™å®¢æˆ·ç«¯çš„ HTML é¡µé¢ï¼Œæ˜¯åœ¨æœåŠ¡å™¨é€šè¿‡å­—ç¬¦ä¸²çš„æ‹¼æ¥åŠ¨æ€ç”Ÿæˆçš„ã€‚å› æ­¤å®¢æˆ·ç«¯ä¸éœ€è¦ä½¿ç”¨ Ajax é¢å¤–è¯·æ±‚é¡µé¢çš„æ•°æ®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/index.html&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> user = &#123; <span class="attr">name</span>: <span class="string">&#x27;Bruce&#x27;</span>, <span class="attr">age</span>: <span class="number">29</span> &#125;</span><br><span class="line">  <span class="keyword">const</span> html = <span class="string">`&lt;h1&gt;username:<span class="subst">$&#123;user.name&#125;</span>, age:<span class="subst">$&#123;user.age&#125;</span>&lt;/h1&gt;`</span></span><br><span class="line">  res.<span class="title function_">send</span>(html)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼š</p><ul><li>å‰ç«¯è€—æ—¶çŸ­ã€‚æµè§ˆå™¨åªéœ€ç›´æ¥æ¸²æŸ“é¡µé¢ï¼Œæ— éœ€é¢å¤–è¯·æ±‚æ•°æ®ã€‚</li><li>æœ‰åˆ©äº SEOã€‚æœåŠ¡å™¨å“åº”çš„æ˜¯å®Œæ•´çš„ HTML é¡µé¢å†…å®¹ï¼Œæœ‰åˆ©äºçˆ¬è™«çˆ¬å–ä¿¡æ¯ã€‚</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>å ç”¨æœåŠ¡å™¨èµ„æºã€‚æœåŠ¡å™¨éœ€è¦å®Œæˆé¡µé¢å†…å®¹çš„æ‹¼æ¥ï¼Œè‹¥è¯·æ±‚æ¯”è¾ƒå¤šï¼Œä¼šå¯¹æœåŠ¡å™¨é€ æˆä¸€å®šè®¿é—®å‹åŠ›ã€‚</li><li>ä¸åˆ©äºå‰åç«¯åˆ†ç¦»ï¼Œå¼€å‘æ•ˆç‡ä½ã€‚</li></ul><h3 id="å‰åç«¯åˆ†ç¦»"><a href="#å‰åç«¯åˆ†ç¦»" class="headerlink" title="å‰åç«¯åˆ†ç¦»"></a>å‰åç«¯åˆ†ç¦»</h3><p>å‰åç«¯åˆ†ç¦»çš„å¼€å‘æ¨¡å¼ï¼Œä¾èµ–äº Ajax æŠ€æœ¯çš„å¹¿æ³›åº”ç”¨ã€‚åç«¯åªè´Ÿè´£æä¾› API æ¥å£ï¼Œå‰ç«¯ä½¿ç”¨ Ajax è°ƒç”¨æ¥å£ã€‚</p><p>ä¼˜ç‚¹ï¼š</p><ul><li>å¼€å‘ä½“éªŒå¥½ã€‚å‰ç«¯ä¸“ä¸šé¡µé¢å¼€å‘ï¼Œåç«¯ä¸“æ³¨æ¥å£å¼€å‘ã€‚</li><li>ç”¨æˆ·ä½“éªŒå¥½ã€‚é¡µé¢å±€éƒ¨åˆ·æ–°ï¼Œæ— éœ€é‡æ–°è¯·æ±‚é¡µé¢ã€‚</li><li>å‡è½»æœåŠ¡å™¨çš„æ¸²æŸ“å‹åŠ›ã€‚é¡µé¢æœ€ç»ˆåœ¨æµè§ˆå™¨é‡Œç”Ÿæˆã€‚</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>ä¸åˆ©äº SEOã€‚å®Œæ•´çš„ HTML é¡µé¢åœ¨æµè§ˆå™¨æ‹¼æ¥å®Œæˆï¼Œå› æ­¤çˆ¬è™«æ— æ³•çˆ¬å–é¡µé¢çš„æœ‰æ•ˆä¿¡æ¯ã€‚Vueã€React ç­‰æ¡†æ¶çš„ SSRï¼ˆserver side renderï¼‰æŠ€æœ¯èƒ½è§£å†³ SEO é—®é¢˜ã€‚</li></ul><h3 id="å¦‚ä½•é€‰æ‹©"><a href="#å¦‚ä½•é€‰æ‹©" class="headerlink" title="å¦‚ä½•é€‰æ‹©"></a>å¦‚ä½•é€‰æ‹©</h3><ul><li>ä¼ä¸šçº§ç½‘ç«™ï¼Œä¸»è¦åŠŸèƒ½æ˜¯å±•ç¤ºï¼Œæ²¡æœ‰å¤æ‚äº¤äº’ï¼Œä¸”éœ€è¦è‰¯å¥½çš„ SEOï¼Œå¯è€ƒè™‘æœåŠ¡ç«¯æ¸²æŸ“</li><li>åå°ç®¡ç†é¡¹ç›®ï¼Œäº¤äº’æ€§å¼ºï¼Œæ— éœ€è€ƒè™‘ SEOï¼Œå¯ä½¿ç”¨å‰åç«¯åˆ†ç¦»</li><li>ä¸ºåŒæ—¶å…¼é¡¾é¦–é¡µæ¸²æŸ“é€Ÿåº¦å’Œå‰åç«¯åˆ†ç¦»å¼€å‘æ•ˆç‡ï¼Œå¯é‡‡ç”¨é¦–å±æœåŠ¡å™¨ç«¯æ¸²æŸ“+å…¶ä»–é¡µé¢å‰åç«¯åˆ†ç¦»çš„å¼€å‘æ¨¡å¼</li></ul><h2 id="èº«ä»½è®¤è¯"><a href="#èº«ä»½è®¤è¯" class="headerlink" title="èº«ä»½è®¤è¯"></a>èº«ä»½è®¤è¯</h2><h3 id="Session-è®¤è¯æœºåˆ¶"><a href="#Session-è®¤è¯æœºåˆ¶" class="headerlink" title="Session è®¤è¯æœºåˆ¶"></a>Session è®¤è¯æœºåˆ¶</h3><p>æœåŠ¡ç«¯æ¸²æŸ“æ¨èä½¿ç”¨ Session è®¤è¯æœºåˆ¶</p><h4 id="Session-å·¥ä½œåŸç†"><a href="#Session-å·¥ä½œåŸç†" class="headerlink" title="Session å·¥ä½œåŸç†"></a>Session å·¥ä½œåŸç†</h4><p><img src="https://raw.githubusercontent.com/dont-sleep-so-late/CDN/master/images/Session.png" alt="session"></p><h4 id="Express-ä¸­ä½¿ç”¨-Session-è®¤è¯"><a href="#Express-ä¸­ä½¿ç”¨-Session-è®¤è¯" class="headerlink" title="Express ä¸­ä½¿ç”¨ Session è®¤è¯"></a>Express ä¸­ä½¿ç”¨ Session è®¤è¯</h4><ol><li>å®‰è£… express-session ä¸­é—´ä»¶</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express-session</span><br></pre></td></tr></table></figure><ol start="2"><li>é…ç½®ä¸­é—´ä»¶</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> session = <span class="built_in">require</span>(<span class="string">&#x27;express-session&#x27;</span>)</span><br><span class="line">app.<span class="title function_">use</span>(</span><br><span class="line">  <span class="title function_">session</span>(&#123;</span><br><span class="line">    <span class="attr">secret</span>: <span class="string">&#x27;Bruce&#x27;</span>, <span class="comment">// secret çš„å€¼ä¸ºä»»æ„å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="attr">resave</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">saveUninitalized</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><ol start="3"><li>å‘ session ä¸­å­˜æ•°æ®</li></ol><p>ä¸­é—´ä»¶é…ç½®æˆåŠŸåï¼Œå¯é€šè¿‡ <code>req.session</code> è®¿é—® session å¯¹è±¡ï¼Œå­˜å‚¨ç”¨æˆ·ä¿¡æ¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/api/login&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  req.<span class="property">session</span>.<span class="property">user</span> = req.<span class="property">body</span></span><br><span class="line">  req.<span class="property">session</span>.<span class="property">isLogin</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  res.<span class="title function_">send</span>(&#123; <span class="attr">status</span>: <span class="number">0</span>, <span class="attr">msg</span>: <span class="string">&#x27;login done&#x27;</span> &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol start="4"><li>ä» session å–æ•°æ®</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/api/username&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!req.<span class="property">session</span>.<span class="property">isLogin</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">send</span>(&#123; <span class="attr">status</span>: <span class="number">1</span>, <span class="attr">msg</span>: <span class="string">&#x27;fail&#x27;</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  res.<span class="title function_">send</span>(&#123; <span class="attr">status</span>: <span class="number">0</span>, <span class="attr">msg</span>: <span class="string">&#x27;success&#x27;</span>, <span class="attr">username</span>: req.<span class="property">session</span>.<span class="property">user</span>.<span class="property">username</span> &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol start="5"><li>æ¸…ç©º session</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/api/logout&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// æ¸…ç©ºå½“å‰å®¢æˆ·ç«¯çš„sessionä¿¡æ¯</span></span><br><span class="line">  req.<span class="property">session</span>.<span class="title function_">destroy</span>()</span><br><span class="line">  res.<span class="title function_">send</span>(&#123; <span class="attr">status</span>: <span class="number">0</span>, <span class="attr">msg</span>: <span class="string">&#x27;logout done&#x27;</span> &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="JWT-è®¤è¯æœºåˆ¶"><a href="#JWT-è®¤è¯æœºåˆ¶" class="headerlink" title="JWT è®¤è¯æœºåˆ¶"></a>JWT è®¤è¯æœºåˆ¶</h3><p>å‰åç«¯åˆ†ç¦»æ¨èä½¿ç”¨ JWTï¼ˆJSON Web Tokenï¼‰è®¤è¯æœºåˆ¶ï¼Œæ˜¯ç›®å‰æœ€æµè¡Œçš„è·¨åŸŸè®¤è¯è§£å†³æ–¹æ¡ˆ</p><h4 id="JWT-å·¥ä½œåŸç†"><a href="#JWT-å·¥ä½œåŸç†" class="headerlink" title="JWT å·¥ä½œåŸç†"></a>JWT å·¥ä½œåŸç†</h4><p>Session è®¤è¯çš„å±€é™æ€§ï¼š</p><ul><li>Session è®¤è¯æœºåˆ¶éœ€è¦é…åˆ Cookie æ‰èƒ½å®ç°ã€‚ç”±äº Cookie é»˜è®¤ä¸æ”¯æŒè·¨åŸŸè®¿é—®ï¼Œæ‰€ä»¥ï¼Œå½“æ¶‰åŠåˆ°å‰ç«¯è·¨åŸŸè¯·æ±‚åç«¯æ¥å£çš„æ—¶å€™ï¼Œéœ€è¦åšå¾ˆå¤šé¢å¤–çš„é…ç½®ï¼Œæ‰èƒ½å®ç°è·¨åŸŸ Session è®¤è¯ã€‚</li><li>å½“å‰ç«¯è¯·æ±‚åç«¯æ¥å£ä¸å­˜åœ¨è·¨åŸŸé—®é¢˜çš„æ—¶å€™ï¼Œæ¨èä½¿ç”¨ Session èº«ä»½è®¤è¯æœºåˆ¶ã€‚</li><li>å½“å‰ç«¯éœ€è¦è·¨åŸŸè¯·æ±‚åç«¯æ¥å£çš„æ—¶å€™ï¼Œä¸æ¨èä½¿ç”¨ Session èº«ä»½è®¤è¯æœºåˆ¶ï¼Œæ¨èä½¿ç”¨ JWT è®¤è¯æœºåˆ¶</li></ul><p>JWT å·¥ä½œåŸç†å›¾ï¼š</p><p>ç”¨æˆ·çš„ä¿¡æ¯é€šè¿‡ Token å­—ç¬¦ä¸²çš„å½¢å¼ï¼Œä¿å­˜åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨ä¸­ã€‚æœåŠ¡å™¨é€šè¿‡è¿˜åŸ Token å­—ç¬¦ä¸²çš„å½¢å¼æ¥è®¤è¯ç”¨æˆ·çš„èº«ä»½ã€‚</p><p><img src="https://raw.githubusercontent.com/dont-sleep-so-late/CDN/master/images/JWT.png" alt="JWT"></p><p>JWT ç»„æˆéƒ¨åˆ†ï¼š</p><ul><li>Headerã€Payloadã€Signature</li><li>Payload æ˜¯çœŸæ­£çš„ç”¨æˆ·ä¿¡æ¯ï¼ŒåŠ å¯†åçš„å­—ç¬¦ä¸²</li><li>Header å’Œ Signature æ˜¯å®‰å…¨æ€§ç›¸å…³éƒ¨åˆ†ï¼Œä¿è¯ Token å®‰å…¨æ€§</li><li>ä¸‰è€…ä½¿ç”¨ <code>.</code> åˆ†éš”</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Header.Payload.Signature</span><br><span class="line"></span><br><span class="line">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTcsInVzZXJuYW1lIjoiQnJ1Y2UiLCJwYXNzd29yZCI6IiIsIm5pY2tuYW1lIjoiaGVsbG8iLCJlbWFpbCI6InNjdXRAcXEuY29tIiwidXNlcl9waWMiOiIiLCJpYXQiOjE2NDE4NjU3MzEsImV4cCI6MTY0MTkwMTczMX0.bmqzAkNSZgD8IZxRGGyVlVwGl7EGMtWitvjGD-a5U5c</span><br></pre></td></tr></table></figure><p>JWT ä½¿ç”¨æ–¹å¼ï¼š</p><ul><li>å®¢æˆ·ç«¯ä¼šæŠŠ JWT å­˜å‚¨åœ¨ localStorage æˆ– sessionStorage ä¸­</li><li>æ­¤åå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯é€šä¿¡éœ€è¦æºå¸¦ JWT è¿›è¡Œèº«ä»½è®¤è¯ï¼Œå°† JWT å­˜åœ¨ HTTP è¯·æ±‚å¤´ Authorization å­—æ®µä¸­</li><li>åŠ ä¸Š Bearer å‰ç¼€</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Authorization: Bearer &lt;token&gt;</span><br></pre></td></tr></table></figure><h4 id="Express-ä½¿ç”¨-JWT"><a href="#Express-ä½¿ç”¨-JWT" class="headerlink" title="Express ä½¿ç”¨ JWT"></a>Express ä½¿ç”¨ JWT</h4><ol><li>å®‰è£…</li></ol><ul><li>jsonwebtoken ç”¨äºç”Ÿæˆ JWT å­—ç¬¦ä¸²</li><li>express-jwt ç”¨äºå°† JWT å­—ç¬¦ä¸²è§£æè¿˜åŸæˆ JSON å¯¹è±¡</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install jsonwebtoken express-jwt</span><br></pre></td></tr></table></figure><ol start="2"><li>å®šä¹‰ secret å¯†é’¥</li></ol><ul><li>ä¸ºä¿è¯ JWT å­—ç¬¦ä¸²çš„å®‰å…¨æ€§ï¼Œé˜²æ­¢å…¶åœ¨ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­è¢«ç ´è§£ï¼Œéœ€å®šä¹‰ç”¨äºåŠ å¯†å’Œè§£å¯†çš„ secret å¯†é’¥</li><li>ç”Ÿæˆ JWT å­—ç¬¦ä¸²æ—¶ï¼Œä½¿ç”¨å¯†é’¥åŠ å¯†ä¿¡æ¯ï¼Œå¾—åˆ°åŠ å¯†å¥½çš„ JWT å­—ç¬¦ä¸²</li><li>æŠŠ JWT å­—ç¬¦ä¸²è§£æè¿˜åŸæˆ JSON å¯¹è±¡æ—¶ï¼Œä½¿ç”¨å¯†é’¥è§£å¯†</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> jwt = <span class="built_in">require</span>(<span class="string">&#x27;jsonwebtoken&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> expressJWT = <span class="built_in">require</span>(<span class="string">&#x27;express-jwt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯†é’¥ä¸ºä»»æ„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">const</span> secretKey = <span class="string">&#x27;Bruce&#x27;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>ç”Ÿæˆ JWT å­—ç¬¦ä¸²</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/api/login&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">  res.<span class="title function_">send</span>(&#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">200</span>,</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;ç™»å½•æˆåŠŸ&#x27;</span>,</span><br><span class="line">    <span class="comment">// jwt.sign() ç”Ÿæˆ JWT å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="comment">// å‚æ•°ï¼šç”¨æˆ·ä¿¡æ¯å¯¹è±¡ã€åŠ å¯†å¯†é’¥ã€é…ç½®å¯¹è±¡-tokenæœ‰æ•ˆæœŸ</span></span><br><span class="line">    <span class="comment">// å°½é‡ä¸ä¿å­˜æ•æ„Ÿä¿¡æ¯ï¼Œå› æ­¤åªæœ‰ç”¨æˆ·åï¼Œæ²¡æœ‰å¯†ç </span></span><br><span class="line">    <span class="attr">token</span>: jwt.<span class="title function_">sign</span>(&#123;<span class="attr">username</span>: userInfo.<span class="property">username</span>&#125;, secretKey, &#123;<span class="attr">expiresIn</span>: <span class="string">&#x27;10h&#x27;</span>&#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol start="4"><li>JWT å­—ç¬¦ä¸²è¿˜åŸä¸º JSON å¯¹è±¡</li></ol><ul><li>å®¢æˆ·ç«¯è®¿é—®æœ‰æƒé™çš„æ¥å£æ—¶ï¼Œéœ€é€šè¿‡è¯·æ±‚å¤´çš„ <code>Authorization</code> å­—æ®µï¼Œå°† Token å­—ç¬¦ä¸²å‘é€åˆ°æœåŠ¡å™¨è¿›è¡Œèº«ä»½è®¤è¯</li><li>æœåŠ¡å™¨å¯ä»¥é€šè¿‡ express-jwt ä¸­é—´ä»¶å°†å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„ Token è§£æè¿˜åŸæˆ JSON å¯¹è±¡</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// unless(&#123; path: [/^\/api\//] &#125;) æŒ‡å®šå“ªäº›æ¥å£æ— éœ€è®¿é—®æƒé™</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">expressJWT</span>(&#123; <span class="attr">secret</span>: secretKey &#125;).<span class="title function_">unless</span>(&#123; <span class="attr">path</span>: [<span class="regexp">/^\/api\//</span>] &#125;))</span><br></pre></td></tr></table></figure><ol start="5"><li>è·å–ç”¨æˆ·ä¿¡æ¯</li></ol><ul><li>å½“ express-jwt ä¸­é—´ä»¶é…ç½®æˆåŠŸåï¼Œå³å¯åœ¨é‚£äº›æœ‰æƒé™çš„æ¥å£ä¸­ï¼Œä½¿ç”¨ <code>req.user</code> å¯¹è±¡ï¼Œæ¥è®¿é—®ä» JWT å­—ç¬¦ä¸²ä¸­è§£æå‡ºæ¥çš„ç”¨æˆ·ä¿¡æ¯</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/admin/getinfo&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">user</span>)</span><br><span class="line">  res.<span class="title function_">send</span>(&#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">200</span>,</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;è·å–ä¿¡æ¯æˆåŠŸ&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: req.<span class="property">user</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol start="6"><li>æ•è·è§£æ JWT å¤±è´¥åäº§ç”Ÿçš„é”™è¯¯</li></ol><ul><li>å½“ä½¿ç”¨ express-jwt è§£æ Token å­—ç¬¦ä¸²æ—¶ï¼Œå¦‚æœå®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„ Token å­—ç¬¦ä¸²è¿‡æœŸæˆ–ä¸åˆæ³•ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªè§£æå¤±è´¥çš„é”™è¯¯ï¼Œå½±å“é¡¹ç›®çš„æ­£å¸¸è¿è¡Œ</li><li>é€šè¿‡ Express çš„é”™è¯¯ä¸­é—´ä»¶ï¼Œæ•è·è¿™ä¸ªé”™è¯¯å¹¶è¿›è¡Œç›¸å…³çš„å¤„ç†</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">err, req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (err.<span class="property">name</span> === <span class="string">&#x27;UnauthorizedError&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">send</span>(&#123; <span class="attr">status</span>: <span class="number">401</span>, <span class="attr">message</span>: <span class="string">&#x27;Invalid token&#x27;</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  res.<span class="title function_">send</span>(&#123; <span class="attr">status</span>: <span class="number">500</span>, <span class="attr">message</span>: <span class="string">&#x27;Unknown error&#x27;</span> &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nodejs </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤§äº‹ä»¶åå° API é¡¹ç›®</title>
      <link href="/2023/09/09/nodejs/ev_api_server/"/>
      <url>/2023/09/09/nodejs/ev_api_server/</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="https://www.showdoc.cc/escook?page_id=3707158761215217">API æ¥å£æ–‡æ¡£</a></p></blockquote><h2 id="1-é¡¹ç›®åˆå§‹åŒ–"><a href="#1-é¡¹ç›®åˆå§‹åŒ–" class="headerlink" title="1. é¡¹ç›®åˆå§‹åŒ–"></a>1. é¡¹ç›®åˆå§‹åŒ–</h2><h3 id="1-1-åˆ›å»ºé¡¹ç›®"><a href="#1-1-åˆ›å»ºé¡¹ç›®" class="headerlink" title="1.1 åˆ›å»ºé¡¹ç›®"></a>1.1 åˆ›å»ºé¡¹ç›®</h3><ol><li>æ–°å»º <code>api_server</code> æ–‡ä»¶å¤¹ä½œä¸ºé¡¹ç›®æ ¹ç›®å½•ï¼Œå¹¶åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­è¿è¡Œå¦‚ä¸‹çš„å‘½ä»¤ï¼Œåˆå§‹åŒ–åŒ…ç®¡ç†é…ç½®æ–‡ä»¶ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br></pre></td></tr></table></figure><ol start="2"><li>è¿è¡Œå¦‚ä¸‹çš„å‘½ä»¤ï¼Œå®‰è£…ç‰¹å®šç‰ˆæœ¬çš„ <code>express</code>ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i express@4.17.1</span><br></pre></td></tr></table></figure><ol start="3"><li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ–°å»º <code>app.js</code> ä½œä¸ºæ•´ä¸ªé¡¹ç›®çš„å…¥å£æ–‡ä»¶ï¼Œå¹¶åˆå§‹åŒ–å¦‚ä¸‹çš„ä»£ç ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="comment">// åˆ›å»º express çš„æœåŠ¡å™¨å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// write your code here...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨ app.listen æ–¹æ³•ï¼ŒæŒ‡å®šç«¯å£å·å¹¶å¯åŠ¨webæœåŠ¡å™¨</span></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3007</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;api server running at http://127.0.0.1:3007&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="1-2-é…ç½®-cors-è·¨åŸŸ"><a href="#1-2-é…ç½®-cors-è·¨åŸŸ" class="headerlink" title="1.2 é…ç½® cors è·¨åŸŸ"></a>1.2 é…ç½® cors è·¨åŸŸ</h3><ol><li>è¿è¡Œå¦‚ä¸‹çš„å‘½ä»¤ï¼Œå®‰è£… <code>cors</code> ä¸­é—´ä»¶ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i cors@2.8.5</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>app.js</code> ä¸­å¯¼å…¥å¹¶é…ç½® <code>cors</code> ä¸­é—´ä»¶ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cors = <span class="built_in">require</span>(<span class="string">&#x27;cors&#x27;</span>)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">cors</span>())</span><br></pre></td></tr></table></figure><h3 id="1-3-é…ç½®è§£æè¡¨å•æ•°æ®çš„ä¸­é—´ä»¶"><a href="#1-3-é…ç½®è§£æè¡¨å•æ•°æ®çš„ä¸­é—´ä»¶" class="headerlink" title="1.3 é…ç½®è§£æè¡¨å•æ•°æ®çš„ä¸­é—´ä»¶"></a>1.3 é…ç½®è§£æè¡¨å•æ•°æ®çš„ä¸­é—´ä»¶</h3><ol><li>é€šè¿‡å¦‚ä¸‹çš„ä»£ç ï¼Œé…ç½®è§£æ <code>application/x-www-form-urlencoded</code> æ ¼å¼çš„è¡¨å•æ•°æ®çš„ä¸­é—´ä»¶ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">urlencoded</span>(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;))</span><br></pre></td></tr></table></figure><h3 id="1-4-åˆå§‹åŒ–è·¯ç”±ç›¸å…³çš„æ–‡ä»¶å¤¹"><a href="#1-4-åˆå§‹åŒ–è·¯ç”±ç›¸å…³çš„æ–‡ä»¶å¤¹" class="headerlink" title="1.4 åˆå§‹åŒ–è·¯ç”±ç›¸å…³çš„æ–‡ä»¶å¤¹"></a>1.4 åˆå§‹åŒ–è·¯ç”±ç›¸å…³çš„æ–‡ä»¶å¤¹</h3><ol><li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­ï¼Œæ–°å»º <code>router</code> æ–‡ä»¶å¤¹ï¼Œç”¨æ¥å­˜æ”¾æ‰€æœ‰çš„<code>è·¯ç”±</code>æ¨¡å—</li></ol><blockquote><p>è·¯ç”±æ¨¡å—ä¸­ï¼Œåªå­˜æ”¾å®¢æˆ·ç«¯çš„è¯·æ±‚ä¸å¤„ç†å‡½æ•°ä¹‹é—´çš„æ˜ å°„å…³ç³»</p></blockquote><ol start="2"><li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­ï¼Œæ–°å»º <code>router_handler</code> æ–‡ä»¶å¤¹ï¼Œç”¨æ¥å­˜æ”¾æ‰€æœ‰çš„ <code>è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—</code></li></ol><blockquote><p>è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—ä¸­ï¼Œä¸“é—¨è´Ÿè´£å­˜æ”¾æ¯ä¸ªè·¯ç”±å¯¹åº”çš„å¤„ç†å‡½æ•°</p></blockquote><h3 id="1-5-åˆå§‹åŒ–ç”¨æˆ·è·¯ç”±æ¨¡å—"><a href="#1-5-åˆå§‹åŒ–ç”¨æˆ·è·¯ç”±æ¨¡å—" class="headerlink" title="1.5 åˆå§‹åŒ–ç”¨æˆ·è·¯ç”±æ¨¡å—"></a>1.5 åˆå§‹åŒ–ç”¨æˆ·è·¯ç”±æ¨¡å—</h3><ol><li>åœ¨ <code>router</code> æ–‡ä»¶å¤¹ä¸­ï¼Œæ–°å»º <code>user.js</code> æ–‡ä»¶ï¼Œä½œä¸ºç”¨æˆ·çš„è·¯ç”±æ¨¡å—ï¼Œå¹¶åˆå§‹åŒ–ä»£ç ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="comment">// åˆ›å»ºè·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œæ–°ç”¨æˆ·</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/reguser&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;reguser OK&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç™»å½•</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/login&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;login OK&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>app.js</code> ä¸­ï¼Œå¯¼å…¥æ³¨å†Œç”¨æˆ·è·¯ç”±æ¨¡å— ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> userRouter = <span class="built_in">require</span>(<span class="string">&#x27;./router/user&#x27;</span>)</span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/api&#x27;</span>, userRouter)</span><br></pre></td></tr></table></figure><h3 id="1-6-æŠ½ç¦»ç”¨æˆ·è·¯ç”±æ¨¡å—ä¸­çš„å¤„ç†å‡½æ•°"><a href="#1-6-æŠ½ç¦»ç”¨æˆ·è·¯ç”±æ¨¡å—ä¸­çš„å¤„ç†å‡½æ•°" class="headerlink" title="1.6 æŠ½ç¦»ç”¨æˆ·è·¯ç”±æ¨¡å—ä¸­çš„å¤„ç†å‡½æ•°"></a>1.6 æŠ½ç¦»ç”¨æˆ·è·¯ç”±æ¨¡å—ä¸­çš„å¤„ç†å‡½æ•°</h3><blockquote><p>ç›®çš„ï¼šä¸ºäº†ä¿è¯ <code>è·¯ç”±æ¨¡å—</code> çš„çº¯ç²¹æ€§ï¼Œæ‰€æœ‰çš„ <code>è·¯ç”±å¤„ç†å‡½æ•°</code>ï¼Œå¿…é¡»æŠ½ç¦»åˆ°å¯¹åº”çš„ <code>è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—</code> ä¸­</p></blockquote><ol><li>åœ¨ <code>/router_handler/user.js</code> ä¸­ï¼Œä½¿ç”¨ <code>exports</code> å¯¹è±¡ï¼Œåˆ†åˆ«å‘å¤–å…±äº«å¦‚ä¸‹ä¸¤ä¸ª <code>è·¯ç”±å¤„ç†å‡½æ•°</code> ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åœ¨è¿™é‡Œå®šä¹‰å’Œç”¨æˆ·ç›¸å…³çš„è·¯ç”±å¤„ç†å‡½æ•°ï¼Œä¾› /router/user.js æ¨¡å—è¿›è¡Œè°ƒç”¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œç”¨æˆ·çš„å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">regUser</span> = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;reguser OK&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç™»å½•çš„å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">login</span> = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;login OK&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>å°† <code>/router/user.js</code> ä¸­çš„ä»£ç ä¿®æ”¹ä¸ºå¦‚ä¸‹ç»“æ„ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å…¥ç”¨æˆ·è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> userHandler = <span class="built_in">require</span>(<span class="string">&#x27;../router_handler/user&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œæ–°ç”¨æˆ·</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/reguser&#x27;</span>, userHandler.<span class="property">regUser</span>)</span><br><span class="line"><span class="comment">// ç™»å½•</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/login&#x27;</span>, userHandler.<span class="property">login</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure><h2 id="2-ç™»å½•æ³¨å†Œ"><a href="#2-ç™»å½•æ³¨å†Œ" class="headerlink" title="2. ç™»å½•æ³¨å†Œ"></a>2. ç™»å½•æ³¨å†Œ</h2><h3 id="2-1-æ–°å»º-ev-users-è¡¨"><a href="#2-1-æ–°å»º-ev-users-è¡¨" class="headerlink" title="2.1 æ–°å»º ev_users è¡¨"></a>2.1 æ–°å»º ev_users è¡¨</h3><ol><li>åœ¨ <code>test</code> æ•°æ®åº“ä¸­ï¼Œæ–°å»º <code>ev_users</code> è¡¨å¦‚ä¸‹ï¼š</li></ol><p><img src="https://raw.githubusercontent.com/dont-sleep-so-late/CDN/master/images/ev_users.png" alt="ev_usersè¡¨ç»“æ„"></p><h3 id="2-2-å®‰è£…å¹¶é…ç½®-mysql-æ¨¡å—"><a href="#2-2-å®‰è£…å¹¶é…ç½®-mysql-æ¨¡å—" class="headerlink" title="2.2 å®‰è£…å¹¶é…ç½® mysql æ¨¡å—"></a>2.2 å®‰è£…å¹¶é…ç½® mysql æ¨¡å—</h3><blockquote><p>åœ¨ API æ¥å£é¡¹ç›®ä¸­ï¼Œéœ€è¦å®‰è£…å¹¶é…ç½® <code>mysql</code> è¿™ä¸ªç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œæ¥è¿æ¥å’Œæ“ä½œ MySQL æ•°æ®åº“</p></blockquote><ol><li>è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå®‰è£… <code>mysql</code> æ¨¡å—ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i mysql@2.18.1</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ–°å»º <code>/db/index.js</code> æ–‡ä»¶ï¼Œåœ¨æ­¤è‡ªå®šä¹‰æ¨¡å—ä¸­åˆ›å»ºæ•°æ®åº“çš„è¿æ¥å¯¹è±¡ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">&#x27;mysql&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºæ•°æ®åº“è¿æ¥å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> db = mysql.<span class="title function_">createPool</span>(&#123;</span><br><span class="line">  <span class="attr">host</span>: <span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">  <span class="attr">user</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">  <span class="attr">password</span>: <span class="string">&#x27;admin123&#x27;</span>,</span><br><span class="line">  <span class="attr">database</span>: <span class="string">&#x27;my_db_01&#x27;</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘å¤–å…±äº« db æ•°æ®åº“è¿æ¥å¯¹è±¡</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = db</span><br></pre></td></tr></table></figure><h3 id="2-3-æ³¨å†Œ"><a href="#2-3-æ³¨å†Œ" class="headerlink" title="2.3 æ³¨å†Œ"></a>2.3 æ³¨å†Œ</h3><h4 id="2-3-0-å®ç°æ­¥éª¤"><a href="#2-3-0-å®ç°æ­¥éª¤" class="headerlink" title="2.3.0 å®ç°æ­¥éª¤"></a>2.3.0 å®ç°æ­¥éª¤</h4><ol><li>æ£€æµ‹è¡¨å•æ•°æ®æ˜¯å¦åˆæ³•</li><li>æ£€æµ‹ç”¨æˆ·åæ˜¯å¦è¢«å ç”¨</li><li>å¯¹å¯†ç è¿›è¡ŒåŠ å¯†å¤„ç†</li><li>æ’å…¥æ–°ç”¨æˆ·</li></ol><h4 id="2-3-1-æ£€æµ‹è¡¨å•æ•°æ®æ˜¯å¦åˆæ³•"><a href="#2-3-1-æ£€æµ‹è¡¨å•æ•°æ®æ˜¯å¦åˆæ³•" class="headerlink" title="2.3.1 æ£€æµ‹è¡¨å•æ•°æ®æ˜¯å¦åˆæ³•"></a>2.3.1 æ£€æµ‹è¡¨å•æ•°æ®æ˜¯å¦åˆæ³•</h4><ol><li>åˆ¤æ–­ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦ä¸ºç©º</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¥æ”¶è¡¨å•æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> userinfo = req.<span class="property">body</span></span><br><span class="line"><span class="comment">// åˆ¤æ–­æ•°æ®æ˜¯å¦åˆæ³•</span></span><br><span class="line"><span class="keyword">if</span> (!userinfo.<span class="property">username</span> || !userinfo.<span class="property">password</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> res.<span class="title function_">send</span>(&#123; <span class="attr">status</span>: <span class="number">1</span>, <span class="attr">message</span>: <span class="string">&#x27;ç”¨æˆ·åæˆ–å¯†ç ä¸èƒ½ä¸ºç©ºï¼&#x27;</span> &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-3-2-æ£€æµ‹ç”¨æˆ·åæ˜¯å¦è¢«å ç”¨"><a href="#2-3-2-æ£€æµ‹ç”¨æˆ·åæ˜¯å¦è¢«å ç”¨" class="headerlink" title="2.3.2 æ£€æµ‹ç”¨æˆ·åæ˜¯å¦è¢«å ç”¨"></a>2.3.2 æ£€æµ‹ç”¨æˆ·åæ˜¯å¦è¢«å ç”¨</h4><ol><li>å¯¼å…¥æ•°æ®åº“æ“ä½œæ¨¡å—ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> db = <span class="built_in">require</span>(<span class="string">&#x27;../db/index&#x27;</span>)</span><br></pre></td></tr></table></figure><ol start="2"><li>å®šä¹‰ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sql = <span class="string">`select * from ev_users where username=?`</span></span><br></pre></td></tr></table></figure><ol start="3"><li>æ‰§è¡Œ SQL è¯­å¥å¹¶æ ¹æ®ç»“æœåˆ¤æ–­ç”¨æˆ·åæ˜¯å¦è¢«å ç”¨ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="title function_">query</span>(sql, [userinfo.<span class="property">username</span>], <span class="keyword">function</span> (<span class="params">err, results</span>) &#123;</span><br><span class="line">  <span class="comment">// æ‰§è¡Œ SQL è¯­å¥å¤±è´¥</span></span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">send</span>(&#123; <span class="attr">status</span>: <span class="number">1</span>, <span class="attr">message</span>: err.<span class="property">message</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ç”¨æˆ·åè¢«å ç”¨</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">send</span>(&#123; <span class="attr">status</span>: <span class="number">1</span>, <span class="attr">message</span>: <span class="string">&#x27;ç”¨æˆ·åè¢«å ç”¨ï¼Œè¯·æ›´æ¢å…¶ä»–ç”¨æˆ·åï¼&#x27;</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// <span class="doctag">TODO:</span> ç”¨æˆ·åå¯ç”¨ï¼Œç»§ç»­åç»­æµç¨‹...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="2-3-3-å¯¹å¯†ç è¿›è¡ŒåŠ å¯†å¤„ç†"><a href="#2-3-3-å¯¹å¯†ç è¿›è¡ŒåŠ å¯†å¤„ç†" class="headerlink" title="2.3.3 å¯¹å¯†ç è¿›è¡ŒåŠ å¯†å¤„ç†"></a>2.3.3 å¯¹å¯†ç è¿›è¡ŒåŠ å¯†å¤„ç†</h4><blockquote><p>ä¸ºäº†ä¿è¯å¯†ç çš„å®‰å…¨æ€§ï¼Œä¸å»ºè®®åœ¨æ•°æ®åº“ä»¥ <code>æ˜æ–‡</code> çš„å½¢å¼ä¿å­˜ç”¨æˆ·å¯†ç ï¼Œæ¨èå¯¹å¯†ç è¿›è¡Œ <code>åŠ å¯†å­˜å‚¨</code></p></blockquote><hr><p>åœ¨å½“å‰é¡¹ç›®ä¸­ï¼Œä½¿ç”¨ <code>bcryptjs</code> å¯¹ç”¨æˆ·å¯†ç è¿›è¡ŒåŠ å¯†ï¼Œä¼˜ç‚¹ï¼š</p><ul><li>åŠ å¯†ä¹‹åçš„å¯†ç ï¼Œ<strong>æ— æ³•è¢«é€†å‘ç ´è§£</strong></li><li>åŒä¸€æ˜æ–‡å¯†ç å¤šæ¬¡åŠ å¯†ï¼Œå¾—åˆ°çš„<strong>åŠ å¯†ç»“æœå„ä¸ç›¸åŒ</strong>ï¼Œä¿è¯äº†å®‰å…¨æ€§</li></ul><hr><ol><li>è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ <code>bcryptjs</code> ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i bcryptjs@2.4.3</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>/router_handler/user.js</code> ä¸­ï¼Œå¯¼å…¥ <code>bcryptjs</code> ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bcrypt = <span class="built_in">require</span>(<span class="string">&#x27;bcryptjs&#x27;</span>)</span><br></pre></td></tr></table></figure><ol start="3"><li>åœ¨æ³¨å†Œç”¨æˆ·çš„å¤„ç†å‡½æ•°ä¸­ï¼Œç¡®è®¤ç”¨æˆ·åå¯ç”¨ä¹‹åï¼Œè°ƒç”¨ <code>bcrypt.hashSync(æ˜æ–‡å¯†ç , éšæœºç›çš„é•¿åº¦)</code> æ–¹æ³•ï¼Œå¯¹ç”¨æˆ·çš„å¯†ç è¿›è¡ŒåŠ å¯†å¤„ç†ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¹ç”¨æˆ·çš„å¯†ç ,è¿›è¡Œ bcrype åŠ å¯†ï¼Œè¿”å›å€¼æ˜¯åŠ å¯†ä¹‹åçš„å¯†ç å­—ç¬¦ä¸²</span></span><br><span class="line">userinfo.<span class="property">password</span> = bcrypt.<span class="title function_">hashSync</span>(userinfo.<span class="property">password</span>, <span class="number">10</span>)</span><br></pre></td></tr></table></figure><h4 id="2-3-4-æ’å…¥æ–°ç”¨æˆ·"><a href="#2-3-4-æ’å…¥æ–°ç”¨æˆ·" class="headerlink" title="2.3.4 æ’å…¥æ–°ç”¨æˆ·"></a>2.3.4 æ’å…¥æ–°ç”¨æˆ·</h4><ol><li>å®šä¹‰æ’å…¥ç”¨æˆ·çš„ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sql = <span class="string">&#x27;insert into ev_users set ?&#x27;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>è°ƒç”¨ <code>db.query()</code> æ‰§è¡Œ SQL è¯­å¥ï¼Œæ’å…¥æ–°ç”¨æˆ·ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="title function_">query</span>(sql, &#123; <span class="attr">username</span>: userinfo.<span class="property">username</span>, <span class="attr">password</span>: userinfo.<span class="property">password</span> &#125;, <span class="keyword">function</span> (<span class="params">err, results</span>) &#123;</span><br><span class="line">  <span class="comment">// æ‰§è¡Œ SQL è¯­å¥å¤±è´¥</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> res.<span class="title function_">send</span>(&#123; <span class="attr">status</span>: <span class="number">1</span>, <span class="attr">message</span>: err.<span class="property">message</span> &#125;)</span><br><span class="line">  <span class="comment">// SQL è¯­å¥æ‰§è¡ŒæˆåŠŸï¼Œä½†å½±å“è¡Œæ•°ä¸ä¸º 1</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">affectedRows</span> !== <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">send</span>(&#123; <span class="attr">status</span>: <span class="number">1</span>, <span class="attr">message</span>: <span class="string">&#x27;æ³¨å†Œç”¨æˆ·å¤±è´¥ï¼Œè¯·ç¨åå†è¯•ï¼&#x27;</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æ³¨å†ŒæˆåŠŸ</span></span><br><span class="line">  res.<span class="title function_">send</span>(&#123; <span class="attr">status</span>: <span class="number">0</span>, <span class="attr">message</span>: <span class="string">&#x27;æ³¨å†ŒæˆåŠŸï¼&#x27;</span> &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="2-4-ä¼˜åŒ–-res-send-ä»£ç "><a href="#2-4-ä¼˜åŒ–-res-send-ä»£ç " class="headerlink" title="2.4 ä¼˜åŒ– res.send() ä»£ç "></a>2.4 ä¼˜åŒ– res.send() ä»£ç </h3><blockquote><p>åœ¨å¤„ç†å‡½æ•°ä¸­ï¼Œéœ€è¦å¤šæ¬¡è°ƒç”¨ <code>res.send()</code> å‘å®¢æˆ·ç«¯å“åº” <code>å¤„ç†å¤±è´¥</code> çš„ç»“æœï¼Œä¸ºäº†ç®€åŒ–ä»£ç ï¼Œå¯ä»¥æ‰‹åŠ¨å°è£…ä¸€ä¸ª res.cc() å‡½æ•°</p></blockquote><ol><li>åœ¨ <code>app.js</code> ä¸­ï¼Œæ‰€æœ‰è·¯ç”±ä¹‹å‰ï¼Œå£°æ˜ä¸€ä¸ªå…¨å±€ä¸­é—´ä»¶ï¼Œä¸º res å¯¹è±¡æŒ‚è½½ä¸€ä¸ª <code>res.cc()</code> å‡½æ•° ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å“åº”æ•°æ®çš„ä¸­é—´ä»¶</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">req, res, next</span>) &#123;</span><br><span class="line">  <span class="comment">// status = 0 ä¸ºæˆåŠŸï¼› status = 1 ä¸ºå¤±è´¥ï¼› é»˜è®¤å°† status çš„å€¼è®¾ç½®ä¸º 1ï¼Œæ–¹ä¾¿å¤„ç†å¤±è´¥çš„æƒ…å†µ</span></span><br><span class="line">  res.<span class="property">cc</span> = <span class="keyword">function</span> (<span class="params">err, status = <span class="number">1</span></span>) &#123;</span><br><span class="line">    res.<span class="title function_">send</span>(&#123;</span><br><span class="line">      <span class="comment">// çŠ¶æ€</span></span><br><span class="line">      status,</span><br><span class="line">      <span class="comment">// çŠ¶æ€æè¿°ï¼Œåˆ¤æ–­ err æ˜¯ é”™è¯¯å¯¹è±¡ è¿˜æ˜¯ å­—ç¬¦ä¸²</span></span><br><span class="line">      <span class="attr">message</span>: err <span class="keyword">instanceof</span> <span class="title class_">Error</span> ? err.<span class="property">message</span> : err,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="2-5-ä¼˜åŒ–è¡¨å•æ•°æ®éªŒè¯"><a href="#2-5-ä¼˜åŒ–è¡¨å•æ•°æ®éªŒè¯" class="headerlink" title="2.5 ä¼˜åŒ–è¡¨å•æ•°æ®éªŒè¯"></a>2.5 ä¼˜åŒ–è¡¨å•æ•°æ®éªŒè¯</h3><blockquote><p>è¡¨å•éªŒè¯çš„åŸåˆ™ï¼šå‰ç«¯éªŒè¯ä¸ºè¾…ï¼Œåç«¯éªŒè¯ä¸ºä¸»ï¼Œåç«¯<strong>æ°¸è¿œä¸è¦ç›¸ä¿¡</strong>å‰ç«¯æäº¤è¿‡æ¥çš„<strong>ä»»ä½•å†…å®¹</strong></p></blockquote><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå‰åç«¯éƒ½éœ€è¦å¯¹è¡¨å•çš„æ•°æ®è¿›è¡Œåˆæ³•æ€§çš„éªŒè¯ï¼Œè€Œä¸”ï¼Œ<strong>åç«¯åšä¸ºæ•°æ®åˆæ³•æ€§éªŒè¯çš„æœ€åä¸€ä¸ªå…³å£</strong>ï¼Œåœ¨æ‹¦æˆªéæ³•æ•°æ®æ–¹é¢ï¼Œèµ·åˆ°äº†è‡³å…³é‡è¦çš„ä½œç”¨ã€‚</p><p>å•çº¯çš„ä½¿ç”¨ <code>if...else...</code> çš„å½¢å¼å¯¹æ•°æ®åˆæ³•æ€§è¿›è¡ŒéªŒè¯ï¼Œæ•ˆç‡ä½ä¸‹ã€å‡ºé”™ç‡é«˜ã€ç»´æŠ¤æ€§å·®ã€‚å› æ­¤ï¼Œæ¨èä½¿ç”¨<strong>ç¬¬ä¸‰æ–¹æ•°æ®éªŒè¯æ¨¡å—</strong>ï¼Œæ¥é™ä½å‡ºé”™ç‡ã€æé«˜éªŒè¯çš„æ•ˆç‡ä¸å¯ç»´æŠ¤æ€§ï¼Œ<strong>è®©åç«¯ç¨‹åºå‘˜æŠŠæ›´å¤šçš„ç²¾åŠ›æ”¾åœ¨æ ¸å¿ƒä¸šåŠ¡é€»è¾‘çš„å¤„ç†ä¸Š</strong>ã€‚</p><ol><li>å®‰è£… <code>joi</code> åŒ…ï¼Œä¸ºè¡¨å•ä¸­æºå¸¦çš„æ¯ä¸ªæ•°æ®é¡¹ï¼Œå®šä¹‰éªŒè¯è§„åˆ™ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install joi</span><br></pre></td></tr></table></figure><ol start="2"><li>å®‰è£… <code>@escook/express-joi</code> ä¸­é—´ä»¶ï¼Œæ¥å®ç°è‡ªåŠ¨å¯¹è¡¨å•æ•°æ®è¿›è¡ŒéªŒè¯çš„åŠŸèƒ½ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @escook/express-joi</span><br></pre></td></tr></table></figure><ol start="3"><li>æ–°å»º <code>/schema/user.js</code> ç”¨æˆ·ä¿¡æ¯éªŒè¯è§„åˆ™æ¨¡å—ï¼Œå¹¶åˆå§‹åŒ–ä»£ç å¦‚ä¸‹ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> joi = <span class="built_in">require</span>(<span class="string">&#x27;joi&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * string() å€¼å¿…é¡»æ˜¯å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"> * alphanum() å€¼åªèƒ½æ˜¯åŒ…å« a-zA-Z0-9 çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"> * min(length) æœ€å°é•¿åº¦</span></span><br><span class="line"><span class="comment"> * max(length) æœ€å¤§é•¿åº¦</span></span><br><span class="line"><span class="comment"> * required() å€¼æ˜¯å¿…å¡«é¡¹ï¼Œä¸èƒ½ä¸º undefined</span></span><br><span class="line"><span class="comment"> * pattern(æ­£åˆ™è¡¨è¾¾å¼) å€¼å¿…é¡»ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨æˆ·åçš„éªŒè¯è§„åˆ™</span></span><br><span class="line"><span class="keyword">const</span> username = joi.<span class="title function_">string</span>().<span class="title function_">alphanum</span>().<span class="title function_">min</span>(<span class="number">1</span>).<span class="title function_">max</span>(<span class="number">10</span>).required()</span><br><span class="line"><span class="comment">// å¯†ç çš„éªŒè¯è§„åˆ™</span></span><br><span class="line"><span class="keyword">const</span> password = joi</span><br><span class="line">  .<span class="title function_">string</span>()</span><br><span class="line">  .<span class="title function_">pattern</span>(<span class="regexp">/^[\S]&#123;6,12&#125;$/</span>)</span><br><span class="line">  .required()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œå’Œç™»å½•è¡¨å•çš„éªŒè¯è§„åˆ™å¯¹è±¡</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">reg_login_schema</span> = &#123;</span><br><span class="line">  <span class="comment">// è¡¨ç¤ºéœ€è¦å¯¹ req.body ä¸­çš„æ•°æ®è¿›è¡ŒéªŒè¯</span></span><br><span class="line">  <span class="attr">body</span>: &#123;</span><br><span class="line">    username,</span><br><span class="line">    password,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>ä¿®æ”¹ <code>/router/user.js</code> ä¸­çš„ä»£ç å¦‚ä¸‹ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å…¥ç”¨æˆ·è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> userHandler = <span class="built_in">require</span>(<span class="string">&#x27;../router_handler/user&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. å¯¼å…¥éªŒè¯è¡¨å•æ•°æ®çš„ä¸­é—´ä»¶</span></span><br><span class="line"><span class="keyword">const</span> expressJoi = <span class="built_in">require</span>(<span class="string">&#x27;@escook/express-joi&#x27;</span>)</span><br><span class="line"><span class="comment">// 2. å¯¼å…¥éœ€è¦çš„éªŒè¯è§„åˆ™å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> &#123; reg_login_schema &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../schema/user&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œæ–°ç”¨æˆ·</span></span><br><span class="line"><span class="comment">// 3. åœ¨æ³¨å†Œæ–°ç”¨æˆ·çš„è·¯ç”±ä¸­ï¼Œå£°æ˜å±€éƒ¨ä¸­é—´ä»¶ï¼Œå¯¹å½“å‰è¯·æ±‚ä¸­æºå¸¦çš„æ•°æ®è¿›è¡ŒéªŒè¯</span></span><br><span class="line"><span class="comment">// 3.1 æ•°æ®éªŒè¯é€šè¿‡åï¼Œä¼šæŠŠè¿™æ¬¡è¯·æ±‚æµè½¬ç»™åé¢çš„è·¯ç”±å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="comment">// 3.2 æ•°æ®éªŒè¯å¤±è´¥åï¼Œç»ˆæ­¢åç»­ä»£ç çš„æ‰§è¡Œï¼Œå¹¶æŠ›å‡ºä¸€ä¸ªå…¨å±€çš„ Error é”™è¯¯ï¼Œè¿›å…¥å…¨å±€é”™è¯¯çº§åˆ«ä¸­é—´ä»¶ä¸­è¿›è¡Œå¤„ç†</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/reguser&#x27;</span>, <span class="title function_">expressJoi</span>(reg_login_schema), userHandler.<span class="property">regUser</span>)</span><br><span class="line"><span class="comment">// ç™»å½•</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/login&#x27;</span>, userHandler.<span class="property">login</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure><ol start="5"><li>åœ¨ <code>app.js</code> çš„å…¨å±€é”™è¯¯çº§åˆ«ä¸­é—´ä»¶ä¸­ï¼Œæ•è·éªŒè¯å¤±è´¥çš„é”™è¯¯ï¼Œå¹¶æŠŠéªŒè¯å¤±è´¥çš„ç»“æœå“åº”ç»™å®¢æˆ·ç«¯ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> joi = <span class="built_in">require</span>(<span class="string">&#x27;joi&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// é”™è¯¯ä¸­é—´ä»¶</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">err, req, res, next</span>) &#123;</span><br><span class="line">  <span class="comment">// æ•°æ®éªŒè¯å¤±è´¥</span></span><br><span class="line">  <span class="keyword">if</span> (err <span class="keyword">instanceof</span> joi.<span class="property">ValidationError</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(err)</span><br><span class="line">  <span class="comment">// æœªçŸ¥é”™è¯¯</span></span><br><span class="line">  res.<span class="title function_">cc</span>(err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="2-6-ç™»å½•"><a href="#2-6-ç™»å½•" class="headerlink" title="2.6 ç™»å½•"></a>2.6 ç™»å½•</h3><h4 id="2-6-0-å®ç°æ­¥éª¤"><a href="#2-6-0-å®ç°æ­¥éª¤" class="headerlink" title="2.6.0 å®ç°æ­¥éª¤"></a>2.6.0 å®ç°æ­¥éª¤</h4><ol><li>æ£€æµ‹è¡¨å•æ•°æ®æ˜¯å¦åˆæ³•</li><li>æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢ç”¨æˆ·çš„æ•°æ®</li><li>åˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„å¯†ç æ˜¯å¦æ­£ç¡®</li><li>ç”Ÿæˆ JWT çš„ Token å­—ç¬¦ä¸²</li></ol><h4 id="2-6-1-æ£€æµ‹ç™»å½•è¡¨å•çš„æ•°æ®æ˜¯å¦åˆæ³•"><a href="#2-6-1-æ£€æµ‹ç™»å½•è¡¨å•çš„æ•°æ®æ˜¯å¦åˆæ³•" class="headerlink" title="2.6.1 æ£€æµ‹ç™»å½•è¡¨å•çš„æ•°æ®æ˜¯å¦åˆæ³•"></a>2.6.1 æ£€æµ‹ç™»å½•è¡¨å•çš„æ•°æ®æ˜¯å¦åˆæ³•</h4><ol><li>å°† <code>/router/user.js</code> ä¸­ <code>ç™»å½•</code> çš„è·¯ç”±ä»£ç ä¿®æ”¹å¦‚ä¸‹ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç™»å½•çš„è·¯ç”±</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/login&#x27;</span>, <span class="title function_">expressJoi</span>(reg_login_schema), userHandler.<span class="property">login</span>)</span><br></pre></td></tr></table></figure><h4 id="2-6-2-æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢ç”¨æˆ·çš„æ•°æ®"><a href="#2-6-2-æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢ç”¨æˆ·çš„æ•°æ®" class="headerlink" title="2.6.2 æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢ç”¨æˆ·çš„æ•°æ®"></a>2.6.2 æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢ç”¨æˆ·çš„æ•°æ®</h4><ol><li>æ¥æ”¶è¡¨å•æ•°æ®ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> userinfo = req.<span class="property">body</span></span><br></pre></td></tr></table></figure><ol start="2"><li>å®šä¹‰ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sql = <span class="string">`select * from ev_users where username=?`</span></span><br></pre></td></tr></table></figure><ol start="3"><li>æ‰§è¡Œ SQL è¯­å¥ï¼ŒæŸ¥è¯¢ç”¨æˆ·çš„æ•°æ®ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="title function_">query</span>(sql, userinfo.<span class="property">username</span>, <span class="keyword">function</span> (<span class="params">err, results</span>) &#123;</span><br><span class="line">  <span class="comment">// æ‰§è¡Œ SQL è¯­å¥å¤±è´¥</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> res.<span class="title function_">cc</span>(err)</span><br><span class="line">  <span class="comment">// æ‰§è¡Œ SQL è¯­å¥æˆåŠŸï¼Œä½†æ˜¯æŸ¥è¯¢åˆ°æ•°æ®æ¡æ•°ä¸ç­‰äº 1</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">length</span> !== <span class="number">1</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;ç™»å½•å¤±è´¥ï¼&#x27;</span>)</span><br><span class="line">  <span class="comment">// TODOï¼šåˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„ç™»å½•å¯†ç æ˜¯å¦å’Œæ•°æ®åº“ä¸­çš„å¯†ç ä¸€è‡´</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="2-6-3-åˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„å¯†ç æ˜¯å¦æ­£ç¡®"><a href="#2-6-3-åˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„å¯†ç æ˜¯å¦æ­£ç¡®" class="headerlink" title="2.6.3 åˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„å¯†ç æ˜¯å¦æ­£ç¡®"></a>2.6.3 åˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„å¯†ç æ˜¯å¦æ­£ç¡®</h4><blockquote><p>æ ¸å¿ƒå®ç°æ€è·¯ï¼šè°ƒç”¨ <code>bcrypt.compareSync(ç”¨æˆ·æäº¤çš„å¯†ç , æ•°æ®åº“ä¸­çš„å¯†ç )</code> æ–¹æ³•æ¯”è¾ƒå¯†ç æ˜¯å¦ä¸€è‡´</p></blockquote><blockquote><p>è¿”å›å€¼æ˜¯å¸ƒå°”å€¼ï¼ˆtrue ä¸€è‡´ã€false ä¸ä¸€è‡´ï¼‰</p></blockquote><p>å…·ä½“çš„å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‹¿ç€ç”¨æˆ·è¾“å…¥çš„å¯†ç ,å’Œæ•°æ®åº“ä¸­å­˜å‚¨çš„å¯†ç è¿›è¡Œå¯¹æ¯”</span></span><br><span class="line"><span class="keyword">const</span> compareResult = bcrypt.<span class="title function_">compareSync</span>(userinfo.<span class="property">password</span>, results[<span class="number">0</span>].<span class="property">password</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœå¯¹æ¯”çš„ç»“æœç­‰äº false, åˆ™è¯æ˜ç”¨æˆ·è¾“å…¥çš„å¯†ç é”™è¯¯</span></span><br><span class="line"><span class="keyword">if</span> (!compareResult) &#123;</span><br><span class="line">  <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;ç™»å½•å¤±è´¥ï¼&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// TODOï¼šç™»å½•æˆåŠŸï¼Œç”Ÿæˆ Token å­—ç¬¦ä¸²</span></span><br></pre></td></tr></table></figure><h4 id="2-6-4-ç”Ÿæˆ-JWT-çš„-Token-å­—ç¬¦ä¸²"><a href="#2-6-4-ç”Ÿæˆ-JWT-çš„-Token-å­—ç¬¦ä¸²" class="headerlink" title="2.6.4 ç”Ÿæˆ JWT çš„ Token å­—ç¬¦ä¸²"></a>2.6.4 ç”Ÿæˆ JWT çš„ Token å­—ç¬¦ä¸²</h4><blockquote><p>æ ¸å¿ƒæ³¨æ„ç‚¹ï¼šåœ¨ç”Ÿæˆ Token å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œä¸€å®šè¦å‰”é™¤ <strong>å¯†ç </strong> å’Œ <strong>å¤´åƒ</strong> çš„å€¼</p></blockquote><ol><li>é€šè¿‡ ES6 çš„é«˜çº§è¯­æ³•ï¼Œå¿«é€Ÿå‰”é™¤ <code>å¯†ç </code> å’Œ <code>å¤´åƒ</code> çš„å€¼ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‰”é™¤å®Œæ¯•ä¹‹åï¼Œuser ä¸­åªä¿ç•™äº†ç”¨æˆ·çš„ id, username, nickname, email è¿™å››ä¸ªå±æ€§çš„å€¼</span></span><br><span class="line"><span class="keyword">const</span> user = &#123; ...results[<span class="number">0</span>], <span class="attr">password</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">user_pic</span>: <span class="string">&#x27;&#x27;</span> &#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>è¿è¡Œå¦‚ä¸‹çš„å‘½ä»¤ï¼Œå®‰è£…ç”Ÿæˆ Token å­—ç¬¦ä¸²çš„åŒ…ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i jsonwebtoken@8.5.1</span><br></pre></td></tr></table></figure><ol start="3"><li>åœ¨ <code>/router_handler/user.js</code> æ¨¡å—çš„å¤´éƒ¨åŒºåŸŸï¼Œå¯¼å…¥ <code>jsonwebtoken</code> åŒ…ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨è¿™ä¸ªåŒ…æ¥ç”Ÿæˆ Token å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">const</span> jwt = <span class="built_in">require</span>(<span class="string">&#x27;jsonwebtoken&#x27;</span>)</span><br></pre></td></tr></table></figure><ol start="4"><li>åˆ›å»º <code>config.js</code> æ–‡ä»¶ï¼Œå¹¶å‘å¤–å…±äº« <strong>åŠ å¯†</strong> å’Œ <strong>è¿˜åŸ</strong> Token çš„ <code>jwtSecretKey</code> å­—ç¬¦ä¸²ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">jwtSecretKey</span>: <span class="string">&#x27;Bruce&#x27;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="5"><li>å°†ç”¨æˆ·ä¿¡æ¯å¯¹è±¡åŠ å¯†æˆ Token å­—ç¬¦ä¸²ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">&#x27;../config&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”Ÿæˆ Token å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">const</span> tokenStr = jwt.<span class="title function_">sign</span>(user, config.<span class="property">jwtSecretKey</span>, &#123;</span><br><span class="line">  <span class="attr">expiresIn</span>: <span class="string">&#x27;10h&#x27;</span>, <span class="comment">// token æœ‰æ•ˆæœŸä¸º 10 ä¸ªå°æ—¶</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol start="6"><li>å°†ç”Ÿæˆçš„ Token å­—ç¬¦ä¸²å“åº”ç»™å®¢æˆ·ç«¯ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">res.<span class="title function_">send</span>(&#123;</span><br><span class="line">  <span class="attr">status</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="attr">message</span>: <span class="string">&#x27;ç™»å½•æˆåŠŸï¼&#x27;</span>,</span><br><span class="line">  <span class="comment">// ä¸ºäº†æ–¹ä¾¿å®¢æˆ·ç«¯ä½¿ç”¨ Tokenï¼Œåœ¨æœåŠ¡å™¨ç«¯ç›´æ¥æ‹¼æ¥ä¸Š Bearer çš„å‰ç¼€</span></span><br><span class="line">  <span class="attr">token</span>: <span class="string">&#x27;Bearer &#x27;</span> + tokenStr,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="2-7-é…ç½®è§£æ-Token-çš„ä¸­é—´ä»¶"><a href="#2-7-é…ç½®è§£æ-Token-çš„ä¸­é—´ä»¶" class="headerlink" title="2.7 é…ç½®è§£æ Token çš„ä¸­é—´ä»¶"></a>2.7 é…ç½®è§£æ Token çš„ä¸­é—´ä»¶</h3><ol><li>è¿è¡Œå¦‚ä¸‹çš„å‘½ä»¤ï¼Œå®‰è£…è§£æ Token çš„ä¸­é—´ä»¶ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i express-jwt@<span class="number">5.3</span><span class="number">.3</span></span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>app.js</code> ä¸­æ³¨å†Œè·¯ç”±ä¹‹å‰ï¼Œé…ç½®è§£æ Token çš„ä¸­é—´ä»¶ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">&#x27;./config&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£æ token çš„ä¸­é—´ä»¶</span></span><br><span class="line"><span class="keyword">const</span> expressJWT = <span class="built_in">require</span>(<span class="string">&#x27;express-jwt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ .unless(&#123; path: [/^\/api\//] &#125;) æŒ‡å®šå“ªäº›æ¥å£ä¸éœ€è¦è¿›è¡Œ Token çš„èº«ä»½è®¤è¯</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">expressJWT</span>(&#123; <span class="attr">secret</span>: config.<span class="property">jwtSecretKey</span> &#125;).<span class="title function_">unless</span>(&#123; <span class="attr">path</span>: [<span class="regexp">/^\/api\//</span>] &#125;))</span><br></pre></td></tr></table></figure><ol start="3"><li>åœ¨ <code>app.js</code> ä¸­çš„ <code>é”™è¯¯çº§åˆ«ä¸­é—´ä»¶</code> é‡Œé¢ï¼Œæ•è·å¹¶å¤„ç† Token è®¤è¯å¤±è´¥åçš„é”™è¯¯ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ä¸­é—´ä»¶</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">err, req, res, next</span>) &#123;</span><br><span class="line">  <span class="comment">// çœç•¥å…¶å®ƒä»£ç ...</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ•è·èº«ä»½è®¤è¯å¤±è´¥çš„é”™è¯¯</span></span><br><span class="line">  <span class="keyword">if</span> (err.<span class="property">name</span> === <span class="string">&#x27;UnauthorizedError&#x27;</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;èº«ä»½è®¤è¯å¤±è´¥ï¼&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æœªçŸ¥é”™è¯¯...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="3-ä¸ªäººä¸­å¿ƒ"><a href="#3-ä¸ªäººä¸­å¿ƒ" class="headerlink" title="3. ä¸ªäººä¸­å¿ƒ"></a>3. ä¸ªäººä¸­å¿ƒ</h2><h3 id="3-1-è·å–ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯"><a href="#3-1-è·å–ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯" class="headerlink" title="3.1 è·å–ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯"></a>3.1 è·å–ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯</h3><h4 id="3-1-0-å®ç°æ­¥éª¤"><a href="#3-1-0-å®ç°æ­¥éª¤" class="headerlink" title="3.1.0 å®ç°æ­¥éª¤"></a>3.1.0 å®ç°æ­¥éª¤</h4><ol><li>åˆå§‹åŒ– <strong>è·¯ç”±</strong> æ¨¡å—</li><li>åˆå§‹åŒ– <strong>è·¯ç”±å¤„ç†å‡½æ•°</strong> æ¨¡å—</li><li>è·å–ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯</li></ol><h4 id="3-1-1-åˆå§‹åŒ–è·¯ç”±æ¨¡å—"><a href="#3-1-1-åˆå§‹åŒ–è·¯ç”±æ¨¡å—" class="headerlink" title="3.1.1 åˆå§‹åŒ–è·¯ç”±æ¨¡å—"></a>3.1.1 åˆå§‹åŒ–è·¯ç”±æ¨¡å—</h4><ol><li>åˆ›å»º <code>/router/userinfo.js</code> è·¯ç”±æ¨¡å—ï¼Œå¹¶åˆå§‹åŒ–å¦‚ä¸‹çš„ä»£ç ç»“æ„ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥ express</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="comment">// åˆ›å»ºè·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/userinfo&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘å¤–å…±äº«è·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>app.js</code> ä¸­å¯¼å…¥å¹¶ä½¿ç”¨ä¸ªäººä¸­å¿ƒçš„è·¯ç”±æ¨¡å—ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥å¹¶ä½¿ç”¨ç”¨æˆ·ä¿¡æ¯è·¯ç”±æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> userinfoRouter = <span class="built_in">require</span>(<span class="string">&#x27;./router/userinfo&#x27;</span>)</span><br><span class="line"><span class="comment">// æ³¨æ„ï¼šä»¥ /my å¼€å¤´çš„æ¥å£ï¼Œéƒ½æ˜¯æœ‰æƒé™çš„æ¥å£ï¼Œéœ€è¦è¿›è¡Œ Token èº«ä»½è®¤è¯</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/my&#x27;</span>, userinfoRouter)</span><br></pre></td></tr></table></figure><h4 id="3-1-2-åˆå§‹åŒ–è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—"><a href="#3-1-2-åˆå§‹åŒ–è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—" class="headerlink" title="3.1.2 åˆå§‹åŒ–è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—"></a>3.1.2 åˆå§‹åŒ–è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—</h4><ol><li>åˆ›å»º <code>/router_handler/userinfo.js</code> è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—ï¼Œå¹¶åˆå§‹åŒ–å¦‚ä¸‹çš„ä»£ç ç»“æ„ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–ç”¨æˆ·åŸºæœ¬ä¿¡æ¯çš„å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">getUserInfo</span> = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>ä¿®æ”¹ <code>/router/userinfo.js</code> ä¸­çš„ä»£ç å¦‚ä¸‹ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å…¥ç”¨æˆ·ä¿¡æ¯çš„å¤„ç†å‡½æ•°æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> userinfo_handler = <span class="built_in">require</span>(<span class="string">&#x27;../router_handler/userinfo&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/userinfo&#x27;</span>, userinfo_handler.<span class="property">getUserInfo</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure><h4 id="3-1-3-è·å–ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯"><a href="#3-1-3-è·å–ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯" class="headerlink" title="3.1.3 è·å–ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯"></a>3.1.3 è·å–ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯</h4><ol><li>åœ¨ <code>/router_handler/userinfo.js</code> å¤´éƒ¨å¯¼å…¥æ•°æ®åº“æ“ä½œæ¨¡å—ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥æ•°æ®åº“æ“ä½œæ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> db = <span class="built_in">require</span>(<span class="string">&#x27;../db/index&#x27;</span>)</span><br></pre></td></tr></table></figure><ol start="2"><li>å®šä¹‰ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¹æ®ç”¨æˆ·çš„ idï¼ŒæŸ¥è¯¢ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯</span></span><br><span class="line"><span class="comment">// æ³¨æ„ï¼šä¸ºäº†é˜²æ­¢ç”¨æˆ·çš„å¯†ç æ³„éœ²ï¼Œéœ€è¦æ’é™¤ password å­—æ®µ</span></span><br><span class="line"><span class="keyword">const</span> sql = <span class="string">`select id, username, nickname, email, user_pic from ev_users where id=?`</span></span><br></pre></td></tr></table></figure><ol start="3"><li>è°ƒç”¨ <code>db.query()</code> æ‰§è¡Œ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ³¨æ„ï¼šreq å¯¹è±¡ä¸Šçš„ user å±æ€§ï¼Œæ˜¯ Token è§£ææˆåŠŸï¼Œexpress-jwt ä¸­é—´ä»¶å¸®æˆ‘ä»¬æŒ‚è½½ä¸Šå»çš„</span></span><br><span class="line">db.<span class="title function_">query</span>(sql, req.<span class="property">user</span>.<span class="property">id</span>, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 1. æ‰§è¡Œ SQL è¯­å¥å¤±è´¥</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> res.<span class="title function_">cc</span>(err)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2. æ‰§è¡Œ SQL è¯­å¥æˆåŠŸï¼Œä½†æ˜¯æŸ¥è¯¢åˆ°çš„æ•°æ®æ¡æ•°ä¸ç­‰äº 1</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">length</span> !== <span class="number">1</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥ï¼&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3. å°†ç”¨æˆ·ä¿¡æ¯å“åº”ç»™å®¢æˆ·ç«¯</span></span><br><span class="line">  res.<span class="title function_">send</span>(&#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;è·å–ç”¨æˆ·åŸºæœ¬ä¿¡æ¯æˆåŠŸï¼&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: results[<span class="number">0</span>],</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="3-2-æ›´æ–°ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯"><a href="#3-2-æ›´æ–°ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯" class="headerlink" title="3.2 æ›´æ–°ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯"></a>3.2 æ›´æ–°ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯</h3><h4 id="3-2-0-å®ç°æ­¥éª¤"><a href="#3-2-0-å®ç°æ­¥éª¤" class="headerlink" title="3.2.0 å®ç°æ­¥éª¤"></a>3.2.0 å®ç°æ­¥éª¤</h4><ol><li>å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°</li><li>éªŒè¯è¡¨å•æ•°æ®</li><li>å®ç°æ›´æ–°ç”¨æˆ·åŸºæœ¬ä¿¡æ¯çš„åŠŸèƒ½</li></ol><h4 id="3-2-1-å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°"><a href="#3-2-1-å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°" class="headerlink" title="3.2.1 å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°"></a>3.2.1 å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°</h4><ol><li>åœ¨ <code>/router/userinfo.js</code> æ¨¡å—ä¸­ï¼Œæ–°å¢ <code>æ›´æ–°ç”¨æˆ·åŸºæœ¬ä¿¡æ¯</code> çš„è·¯ç”±ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ›´æ–°ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/userinfo&#x27;</span>, userinfo_handler.<span class="property">updateUserInfo</span>)</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>/router_handler/userinfo.js</code> æ¨¡å—ä¸­ï¼Œå®šä¹‰å¹¶å‘å¤–å…±äº« <code>æ›´æ–°ç”¨æˆ·åŸºæœ¬ä¿¡æ¯</code> çš„è·¯ç”±å¤„ç†å‡½æ•°ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ›´æ–°ç”¨æˆ·åŸºæœ¬ä¿¡æ¯çš„å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">updateUserInfo</span> = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-2-2-éªŒè¯è¡¨å•æ•°æ®"><a href="#3-2-2-éªŒè¯è¡¨å•æ•°æ®" class="headerlink" title="3.2.2 éªŒè¯è¡¨å•æ•°æ®"></a>3.2.2 éªŒè¯è¡¨å•æ•°æ®</h4><ol><li>åœ¨ <code>/schema/user.js</code> éªŒè¯è§„åˆ™æ¨¡å—ä¸­ï¼Œå®šä¹‰ <code>id</code>ï¼Œ<code>nickname</code>ï¼Œ<code>email</code> çš„éªŒè¯è§„åˆ™å¦‚ä¸‹ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ id, nickname, emial çš„éªŒè¯è§„åˆ™</span></span><br><span class="line"><span class="keyword">const</span> id = joi.<span class="title function_">number</span>().<span class="title function_">integer</span>().<span class="title function_">min</span>(<span class="number">1</span>).required()</span><br><span class="line"><span class="keyword">const</span> nickname = joi.<span class="title function_">string</span>().required()</span><br><span class="line"><span class="keyword">const</span> email = joi.<span class="title function_">string</span>().<span class="title function_">email</span>().required()</span><br></pre></td></tr></table></figure><ol start="2"><li>å¹¶ä½¿ç”¨ <code>exports</code> å‘å¤–å…±äº«å¦‚ä¸‹çš„ <code>éªŒè¯è§„åˆ™å¯¹è±¡</code>ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éªŒè¯è§„åˆ™å¯¹è±¡ - æ›´æ–°ç”¨æˆ·åŸºæœ¬ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">update_userinfo_schema</span> = &#123;</span><br><span class="line">  <span class="attr">body</span>: &#123;</span><br><span class="line">    id,</span><br><span class="line">    nickname,</span><br><span class="line">    email,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>åœ¨ <code>/router/userinfo.js</code> æ¨¡å—ä¸­ï¼Œå¯¼å…¥éªŒè¯æ•°æ®åˆæ³•æ€§çš„ä¸­é—´ä»¶ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥éªŒè¯æ•°æ®åˆæ³•æ€§çš„ä¸­é—´ä»¶</span></span><br><span class="line"><span class="keyword">const</span> expressJoi = <span class="built_in">require</span>(<span class="string">&#x27;@escook/express-joi&#x27;</span>)</span><br></pre></td></tr></table></figure><ol start="4"><li>åœ¨ <code>/router/userinfo.js</code> æ¨¡å—ä¸­ï¼Œå¯¼å…¥éœ€è¦çš„éªŒè¯è§„åˆ™å¯¹è±¡ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥éœ€è¦çš„éªŒè¯è§„åˆ™å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> &#123; update_userinfo_schema &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../schema/user&#x27;</span>)</span><br></pre></td></tr></table></figure><ol start="5"><li>åœ¨ <code>/router/userinfo.js</code> æ¨¡å—ä¸­ï¼Œä¿®æ”¹ <code>æ›´æ–°ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯</code> çš„è·¯ç”±å¦‚ä¸‹ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ›´æ–°ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/userinfo&#x27;</span>, <span class="title function_">expressJoi</span>(update_userinfo_schema), userinfo_handler.<span class="property">updateUserInfo</span>)</span><br></pre></td></tr></table></figure><h4 id="3-2-3-å®ç°æ›´æ–°ç”¨æˆ·åŸºæœ¬ä¿¡æ¯çš„åŠŸèƒ½"><a href="#3-2-3-å®ç°æ›´æ–°ç”¨æˆ·åŸºæœ¬ä¿¡æ¯çš„åŠŸèƒ½" class="headerlink" title="3.2.3 å®ç°æ›´æ–°ç”¨æˆ·åŸºæœ¬ä¿¡æ¯çš„åŠŸèƒ½"></a>3.2.3 å®ç°æ›´æ–°ç”¨æˆ·åŸºæœ¬ä¿¡æ¯çš„åŠŸèƒ½</h4><ol><li>å®šä¹‰å¾…æ‰§è¡Œçš„ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sql = <span class="string">`update ev_users set ? where id=?`</span></span><br></pre></td></tr></table></figure><ol start="2"><li>è°ƒç”¨ <code>db.query()</code> æ‰§è¡Œ SQL è¯­å¥å¹¶ä¼ å‚ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="title function_">query</span>(sql, [req.<span class="property">body</span>, req.<span class="property">body</span>.<span class="property">id</span>], <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// æ‰§è¡Œ SQL è¯­å¥å¤±è´¥</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> res.<span class="title function_">cc</span>(err)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ‰§è¡Œ SQL è¯­å¥æˆåŠŸï¼Œä½†å½±å“è¡Œæ•°ä¸ä¸º 1</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">affectedRows</span> !== <span class="number">1</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;ä¿®æ”¹ç”¨æˆ·åŸºæœ¬ä¿¡æ¯å¤±è´¥ï¼&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯æˆåŠŸ</span></span><br><span class="line">  <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;ä¿®æ”¹ç”¨æˆ·åŸºæœ¬ä¿¡æ¯æˆåŠŸï¼&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="3-3-é‡ç½®å¯†ç "><a href="#3-3-é‡ç½®å¯†ç " class="headerlink" title="3.3 é‡ç½®å¯†ç "></a>3.3 é‡ç½®å¯†ç </h3><h4 id="3-3-0-å®ç°æ­¥éª¤"><a href="#3-3-0-å®ç°æ­¥éª¤" class="headerlink" title="3.3.0 å®ç°æ­¥éª¤"></a>3.3.0 å®ç°æ­¥éª¤</h4><ol><li>å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°</li><li>éªŒè¯è¡¨å•æ•°æ®</li><li>å®ç°é‡ç½®å¯†ç çš„åŠŸèƒ½</li></ol><h4 id="3-3-1-å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°"><a href="#3-3-1-å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°" class="headerlink" title="3.3.1 å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°"></a>3.3.1 å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°</h4><ol><li>åœ¨ <code>/router/userinfo.js</code> æ¨¡å—ä¸­ï¼Œæ–°å¢ <code>é‡ç½®å¯†ç </code> çš„è·¯ç”±ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é‡ç½®å¯†ç çš„è·¯ç”±</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/updatepwd&#x27;</span>, userinfo_handler.<span class="property">updatePassword</span>)</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>/router_handler/userinfo.js</code> æ¨¡å—ä¸­ï¼Œå®šä¹‰å¹¶å‘å¤–å…±äº« <code>é‡ç½®å¯†ç </code> çš„è·¯ç”±å¤„ç†å‡½æ•°ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é‡ç½®å¯†ç çš„å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">updatePassword</span> = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-3-2-éªŒè¯è¡¨å•æ•°æ®"><a href="#3-3-2-éªŒè¯è¡¨å•æ•°æ®" class="headerlink" title="3.3.2 éªŒè¯è¡¨å•æ•°æ®"></a>3.3.2 éªŒè¯è¡¨å•æ•°æ®</h4><blockquote><p>æ ¸å¿ƒéªŒè¯æ€è·¯ï¼šæ—§å¯†ç ä¸æ–°å¯†ç ï¼Œå¿…é¡»ç¬¦åˆå¯†ç çš„éªŒè¯è§„åˆ™ï¼Œå¹¶ä¸”æ–°å¯†ç ä¸èƒ½ä¸æ—§å¯†ç ä¸€è‡´ï¼</p></blockquote><ol><li>åœ¨ <code>/schema/user.js</code> æ¨¡å—ä¸­ï¼Œä½¿ç”¨ <code>exports</code> å‘å¤–å…±äº«å¦‚ä¸‹çš„ <code>éªŒè¯è§„åˆ™å¯¹è±¡</code>ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éªŒè¯è§„åˆ™å¯¹è±¡ - é‡ç½®å¯†ç </span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">update_password_schema</span> = &#123;</span><br><span class="line">  <span class="attr">body</span>: &#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ password è¿™ä¸ªè§„åˆ™ï¼ŒéªŒè¯ req.body.oldPwd çš„å€¼</span></span><br><span class="line">    <span class="attr">oldPwd</span>: password,</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ joi.not(joi.ref(&#x27;oldPwd&#x27;)).concat(password) è§„åˆ™ï¼ŒéªŒè¯ req.body.newPwd çš„å€¼</span></span><br><span class="line">    <span class="comment">// è§£è¯»ï¼š</span></span><br><span class="line">    <span class="comment">// 1. joi.ref(&#x27;oldPwd&#x27;) è¡¨ç¤º newPwd çš„å€¼å¿…é¡»å’Œ oldPwd çš„å€¼ä¿æŒä¸€è‡´</span></span><br><span class="line">    <span class="comment">// 2. joi.not(joi.ref(&#x27;oldPwd&#x27;)) è¡¨ç¤º newPwd çš„å€¼ä¸èƒ½ç­‰äº oldPwd çš„å€¼</span></span><br><span class="line">    <span class="comment">// 3. .concat() ç”¨äºåˆå¹¶ joi.not(joi.ref(&#x27;oldPwd&#x27;)) å’Œ password è¿™ä¸¤æ¡éªŒè¯è§„åˆ™</span></span><br><span class="line">    <span class="attr">newPwd</span>: joi.<span class="title function_">not</span>(joi.<span class="title function_">ref</span>(<span class="string">&#x27;oldPwd&#x27;</span>)).<span class="title function_">concat</span>(password),</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>/router/userinfo.js</code> æ¨¡å—ä¸­ï¼Œå¯¼å…¥éœ€è¦çš„éªŒè¯è§„åˆ™å¯¹è±¡ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥éœ€è¦çš„éªŒè¯è§„åˆ™å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> &#123; update_userinfo_schema, update_password_schema &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../schema/user&#x27;</span>)</span><br></pre></td></tr></table></figure><ol start="3"><li>å¹¶åœ¨ <code>é‡ç½®å¯†ç çš„è·¯ç”±</code> ä¸­ï¼Œä½¿ç”¨ <code>update_password_schema</code> è§„åˆ™éªŒè¯è¡¨å•çš„æ•°æ®ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/updatepwd&#x27;</span>, <span class="title function_">expressJoi</span>(update_password_schema), userinfo_handler.<span class="property">updatePassword</span>)</span><br></pre></td></tr></table></figure><h4 id="3-3-3-å®ç°é‡ç½®å¯†ç çš„åŠŸèƒ½"><a href="#3-3-3-å®ç°é‡ç½®å¯†ç çš„åŠŸèƒ½" class="headerlink" title="3.3.3 å®ç°é‡ç½®å¯†ç çš„åŠŸèƒ½"></a>3.3.3 å®ç°é‡ç½®å¯†ç çš„åŠŸèƒ½</h4><ol><li>æ ¹æ® <code>id</code> æŸ¥è¯¢ç”¨æˆ·æ˜¯å¦å­˜åœ¨ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æ ¹æ® id æŸ¥è¯¢ç”¨æˆ·æ•°æ®çš„ SQL è¯­å¥</span></span><br><span class="line"><span class="keyword">const</span> sql = <span class="string">`select * from ev_users where id=?`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡Œ SQL è¯­å¥æŸ¥è¯¢ç”¨æˆ·æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">db.<span class="title function_">query</span>(sql, req.<span class="property">user</span>.<span class="property">id</span>, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// æ‰§è¡Œ SQL è¯­å¥å¤±è´¥</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> res.<span class="title function_">cc</span>(err)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ£€æŸ¥æŒ‡å®š id çš„ç”¨æˆ·æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">length</span> !== <span class="number">1</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;ç”¨æˆ·ä¸å­˜åœ¨ï¼&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// TODOï¼šåˆ¤æ–­æäº¤çš„æ—§å¯†ç æ˜¯å¦æ­£ç¡®</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol start="2"><li>åˆ¤æ–­æäº¤çš„ <strong>æ—§å¯†ç </strong> æ˜¯å¦æ­£ç¡®ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨å¤´éƒ¨åŒºåŸŸå¯¼å…¥ bcryptjs åï¼Œ</span></span><br><span class="line"><span class="comment">// å³å¯ä½¿ç”¨ bcrypt.compareSync(æäº¤çš„å¯†ç ï¼Œæ•°æ®åº“ä¸­çš„å¯†ç ) æ–¹æ³•éªŒè¯å¯†ç æ˜¯å¦æ­£ç¡®</span></span><br><span class="line"><span class="comment">// compareSync() å‡½æ•°çš„è¿”å›å€¼ä¸ºå¸ƒå°”å€¼ï¼Œtrue è¡¨ç¤ºå¯†ç æ­£ç¡®ï¼Œfalse è¡¨ç¤ºå¯†ç é”™è¯¯</span></span><br><span class="line"><span class="keyword">const</span> bcrypt = <span class="built_in">require</span>(<span class="string">&#x27;bcryptjs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ¤æ–­æäº¤çš„æ—§å¯†ç æ˜¯å¦æ­£ç¡®</span></span><br><span class="line"><span class="keyword">const</span> compareResult = bcrypt.<span class="title function_">compareSync</span>(req.<span class="property">body</span>.<span class="property">oldPwd</span>, results[<span class="number">0</span>].<span class="property">password</span>)</span><br><span class="line"><span class="keyword">if</span> (!compareResult) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;åŸå¯†ç é”™è¯¯ï¼&#x27;</span>)</span><br></pre></td></tr></table></figure><ol start="3"><li>å¯¹æ–°å¯†ç è¿›è¡Œ <code>bcrypt</code> åŠ å¯†ä¹‹åï¼Œæ›´æ–°åˆ°æ•°æ®åº“ä¸­ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æ›´æ–°ç”¨æˆ·å¯†ç çš„ SQL è¯­å¥</span></span><br><span class="line"><span class="keyword">const</span> sql = <span class="string">`update ev_users set password=? where id=?`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹æ–°å¯†ç è¿›è¡Œ bcrypt åŠ å¯†å¤„ç†</span></span><br><span class="line"><span class="keyword">const</span> newPwd = bcrypt.<span class="title function_">hashSync</span>(req.<span class="property">body</span>.<span class="property">newPwd</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡Œ SQL è¯­å¥ï¼Œæ ¹æ® id æ›´æ–°ç”¨æˆ·çš„å¯†ç </span></span><br><span class="line">db.<span class="title function_">query</span>(sql, [newPwd, req.<span class="property">user</span>.<span class="property">id</span>], <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// SQL è¯­å¥æ‰§è¡Œå¤±è´¥</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> res.<span class="title function_">cc</span>(err)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// SQL è¯­å¥æ‰§è¡ŒæˆåŠŸï¼Œä½†æ˜¯å½±å“è¡Œæ•°ä¸ç­‰äº 1</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">affectedRows</span> !== <span class="number">1</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;æ›´æ–°å¯†ç å¤±è´¥ï¼&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ›´æ–°å¯†ç æˆåŠŸ</span></span><br><span class="line">  res.<span class="title function_">cc</span>(<span class="string">&#x27;æ›´æ–°å¯†ç æˆåŠŸï¼&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="3-4-æ›´æ–°ç”¨æˆ·å¤´åƒ"><a href="#3-4-æ›´æ–°ç”¨æˆ·å¤´åƒ" class="headerlink" title="3.4 æ›´æ–°ç”¨æˆ·å¤´åƒ"></a>3.4 æ›´æ–°ç”¨æˆ·å¤´åƒ</h3><h4 id="3-4-0-å®ç°æ­¥éª¤"><a href="#3-4-0-å®ç°æ­¥éª¤" class="headerlink" title="3.4.0 å®ç°æ­¥éª¤"></a>3.4.0 å®ç°æ­¥éª¤</h4><ol><li>å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°</li><li>éªŒè¯è¡¨å•æ•°æ®</li><li>å®ç°æ›´æ–°ç”¨æˆ·å¤´åƒçš„åŠŸèƒ½</li></ol><h4 id="3-4-1-å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°"><a href="#3-4-1-å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°" class="headerlink" title="3.4.1 å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°"></a>3.4.1 å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°</h4><ol><li>åœ¨ <code>/router/userinfo.js</code> æ¨¡å—ä¸­ï¼Œæ–°å¢ <code>æ›´æ–°ç”¨æˆ·å¤´åƒ</code> çš„è·¯ç”±ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ›´æ–°ç”¨æˆ·å¤´åƒçš„è·¯ç”±</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/update/avatar&#x27;</span>, userinfo_handler.<span class="property">updateAvatar</span>)</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>/router_handler/userinfo.js</code> æ¨¡å—ä¸­ï¼Œå®šä¹‰å¹¶å‘å¤–å…±äº« <code>æ›´æ–°ç”¨æˆ·å¤´åƒ</code> çš„è·¯ç”±å¤„ç†å‡½æ•°ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ›´æ–°ç”¨æˆ·å¤´åƒçš„å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">updateAvatar</span> = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-4-2-éªŒè¯è¡¨å•æ•°æ®"><a href="#3-4-2-éªŒè¯è¡¨å•æ•°æ®" class="headerlink" title="3.4.2 éªŒè¯è¡¨å•æ•°æ®"></a>3.4.2 éªŒè¯è¡¨å•æ•°æ®</h4><ol><li>åœ¨ <code>/schema/user.js</code> éªŒè¯è§„åˆ™æ¨¡å—ä¸­ï¼Œå®šä¹‰ <code>avatar</code> çš„éªŒè¯è§„åˆ™å¦‚ä¸‹ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dataUri() æŒ‡çš„æ˜¯å¦‚ä¸‹æ ¼å¼çš„å­—ç¬¦ä¸²æ•°æ®ï¼š</span></span><br><span class="line"><span class="comment">// data:image/png;base64,VE9PTUFOWVNFQ1JFVFM=</span></span><br><span class="line"><span class="keyword">const</span> avatar = joi.<span class="title function_">string</span>().<span class="title function_">dataUri</span>().required()</span><br></pre></td></tr></table></figure><ol start="2"><li>å¹¶ä½¿ç”¨ <code>exports</code> å‘å¤–å…±äº«å¦‚ä¸‹çš„ <code>éªŒè¯è§„åˆ™å¯¹è±¡</code>ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éªŒè¯è§„åˆ™å¯¹è±¡ - æ›´æ–°å¤´åƒ</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">update_avatar_schema</span> = &#123;</span><br><span class="line">  <span class="attr">body</span>: &#123;</span><br><span class="line">    avatar,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>åœ¨ <code>/router/userinfo.js</code> æ¨¡å—ä¸­ï¼Œå¯¼å…¥éœ€è¦çš„éªŒè¯è§„åˆ™å¯¹è±¡ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; update_avatar_schema &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../schema/user&#x27;</span>)</span><br></pre></td></tr></table></figure><ol start="4"><li>åœ¨ <code>/router/userinfo.js</code> æ¨¡å—ä¸­ï¼Œä¿®æ”¹ <code>æ›´æ–°ç”¨æˆ·å¤´åƒ</code> çš„è·¯ç”±å¦‚ä¸‹ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/update/avatar&#x27;</span>, <span class="title function_">expressJoi</span>(update_avatar_schema), userinfo_handler.<span class="property">updateAvatar</span>)</span><br></pre></td></tr></table></figure><h4 id="3-4-3-å®ç°æ›´æ–°ç”¨æˆ·å¤´åƒçš„åŠŸèƒ½"><a href="#3-4-3-å®ç°æ›´æ–°ç”¨æˆ·å¤´åƒçš„åŠŸèƒ½" class="headerlink" title="3.4.3 å®ç°æ›´æ–°ç”¨æˆ·å¤´åƒçš„åŠŸèƒ½"></a>3.4.3 å®ç°æ›´æ–°ç”¨æˆ·å¤´åƒçš„åŠŸèƒ½</h4><ol><li>å®šä¹‰æ›´æ–°ç”¨æˆ·å¤´åƒçš„ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sql = <span class="string">&#x27;update ev_users set user_pic=? where id=?&#x27;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>è°ƒç”¨ <code>db.query()</code> æ‰§è¡Œ SQL è¯­å¥ï¼Œæ›´æ–°å¯¹åº”ç”¨æˆ·çš„å¤´åƒï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="title function_">query</span>(sql, [req.<span class="property">body</span>.<span class="property">avatar</span>, req.<span class="property">user</span>.<span class="property">id</span>], <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// æ‰§è¡Œ SQL è¯­å¥å¤±è´¥</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> res.<span class="title function_">cc</span>(err)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ‰§è¡Œ SQL è¯­å¥æˆåŠŸï¼Œä½†æ˜¯å½±å“è¡Œæ•°ä¸ç­‰äº 1</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">affectedRows</span> !== <span class="number">1</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;æ›´æ–°å¤´åƒå¤±è´¥ï¼&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ›´æ–°ç”¨æˆ·å¤´åƒæˆåŠŸ</span></span><br><span class="line">  <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;æ›´æ–°å¤´åƒæˆåŠŸï¼&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="4-æ–‡ç« åˆ†ç±»ç®¡ç†"><a href="#4-æ–‡ç« åˆ†ç±»ç®¡ç†" class="headerlink" title="4. æ–‡ç« åˆ†ç±»ç®¡ç†"></a>4. æ–‡ç« åˆ†ç±»ç®¡ç†</h2><h3 id="4-1-æ–°å»º-ev-article-cate-è¡¨"><a href="#4-1-æ–°å»º-ev-article-cate-è¡¨" class="headerlink" title="4.1 æ–°å»º ev_article_cate è¡¨"></a>4.1 æ–°å»º ev_article_cate è¡¨</h3><p><img src="https://raw.githubusercontent.com/dont-sleep-so-late/CDN/master/images/ev_article_cate.png" alt="æ–‡ç« åˆ†ç±»è¡¨ç»“æ„"></p><h3 id="4-2-è·å–æ–‡ç« åˆ†ç±»åˆ—è¡¨"><a href="#4-2-è·å–æ–‡ç« åˆ†ç±»åˆ—è¡¨" class="headerlink" title="4.2 è·å–æ–‡ç« åˆ†ç±»åˆ—è¡¨"></a>4.2 è·å–æ–‡ç« åˆ†ç±»åˆ—è¡¨</h3><h4 id="4-2-0-å®ç°æ­¥éª¤"><a href="#4-2-0-å®ç°æ­¥éª¤" class="headerlink" title="4.2.0 å®ç°æ­¥éª¤"></a>4.2.0 å®ç°æ­¥éª¤</h4><ol><li>åˆå§‹åŒ–è·¯ç”±æ¨¡å—</li><li>åˆå§‹åŒ–è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—</li><li>è·å–æ–‡ç« åˆ†ç±»åˆ—è¡¨æ•°æ®</li></ol><h4 id="4-2-1-åˆå§‹åŒ–è·¯ç”±æ¨¡å—"><a href="#4-2-1-åˆå§‹åŒ–è·¯ç”±æ¨¡å—" class="headerlink" title="4.2.1 åˆå§‹åŒ–è·¯ç”±æ¨¡å—"></a>4.2.1 åˆå§‹åŒ–è·¯ç”±æ¨¡å—</h4><ol><li>åˆ›å»º <code>/router/artcate.js</code> è·¯ç”±æ¨¡å—ï¼Œå¹¶åˆå§‹åŒ–å¦‚ä¸‹çš„ä»£ç ç»“æ„ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥ express</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="comment">// åˆ›å»ºè·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ–‡ç« åˆ†ç±»çš„åˆ—è¡¨æ•°æ®</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/cates&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘å¤–å…±äº«è·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>app.js</code> ä¸­å¯¼å…¥å¹¶ä½¿ç”¨æ–‡ç« åˆ†ç±»çš„è·¯ç”±æ¨¡å—ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥å¹¶ä½¿ç”¨æ–‡ç« åˆ†ç±»è·¯ç”±æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> artCateRouter = <span class="built_in">require</span>(<span class="string">&#x27;./router/artcate&#x27;</span>)</span><br><span class="line"><span class="comment">// ä¸ºæ–‡ç« åˆ†ç±»çš„è·¯ç”±æŒ‚è½½ç»Ÿä¸€çš„è®¿é—®å‰ç¼€ /my/article</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/my/article&#x27;</span>, artCateRouter)</span><br></pre></td></tr></table></figure><h4 id="4-2-2-åˆå§‹åŒ–è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—"><a href="#4-2-2-åˆå§‹åŒ–è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—" class="headerlink" title="4.2.2 åˆå§‹åŒ–è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—"></a>4.2.2 åˆå§‹åŒ–è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—</h4><ol><li>åˆ›å»º <code>/router_handler/artcate.js</code> è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—ï¼Œå¹¶åˆå§‹åŒ–å¦‚ä¸‹çš„ä»£ç ç»“æ„ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–æ–‡ç« åˆ†ç±»åˆ—è¡¨æ•°æ®çš„å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">getArticleCates</span> = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>ä¿®æ”¹ <code>/router/artcate.js</code> ä¸­çš„ä»£ç å¦‚ä¸‹ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å…¥æ–‡ç« åˆ†ç±»çš„è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> artcate_handler = <span class="built_in">require</span>(<span class="string">&#x27;../router_handler/artcate&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ–‡ç« åˆ†ç±»çš„åˆ—è¡¨æ•°æ®</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/cates&#x27;</span>, artcate_handler.<span class="property">getArticleCates</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure><h4 id="4-2-3-è·å–æ–‡ç« åˆ†ç±»åˆ—è¡¨æ•°æ®"><a href="#4-2-3-è·å–æ–‡ç« åˆ†ç±»åˆ—è¡¨æ•°æ®" class="headerlink" title="4.2.3 è·å–æ–‡ç« åˆ†ç±»åˆ—è¡¨æ•°æ®"></a>4.2.3 è·å–æ–‡ç« åˆ†ç±»åˆ—è¡¨æ•°æ®</h4><ol><li>åœ¨ <code>/router_handler/artcate.js</code> å¤´éƒ¨å¯¼å…¥æ•°æ®åº“æ“ä½œæ¨¡å—ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥æ•°æ®åº“æ“ä½œæ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> db = <span class="built_in">require</span>(<span class="string">&#x27;../db/index&#x27;</span>)</span><br></pre></td></tr></table></figure><ol start="2"><li>å®šä¹‰ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¹æ®åˆ†ç±»çš„çŠ¶æ€ï¼Œè·å–æ‰€æœ‰æœªè¢«åˆ é™¤çš„åˆ†ç±»åˆ—è¡¨æ•°æ®</span></span><br><span class="line"><span class="comment">// is_delete ä¸º 0 è¡¨ç¤ºæ²¡æœ‰è¢« æ ‡è®°ä¸ºåˆ é™¤ çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> sql = <span class="string">&#x27;select * from ev_article_cate where is_delete=0 order by id asc&#x27;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>è°ƒç”¨ <code>db.query()</code> æ‰§è¡Œ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="title function_">query</span>(sql, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 1. æ‰§è¡Œ SQL è¯­å¥å¤±è´¥</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> res.<span class="title function_">cc</span>(err)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2. æ‰§è¡Œ SQL è¯­å¥æˆåŠŸ</span></span><br><span class="line">  res.<span class="title function_">send</span>(&#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;è·å–æ–‡ç« åˆ†ç±»åˆ—è¡¨æˆåŠŸï¼&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: results,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="4-3-æ–°å¢æ–‡ç« åˆ†ç±»"><a href="#4-3-æ–°å¢æ–‡ç« åˆ†ç±»" class="headerlink" title="4.3 æ–°å¢æ–‡ç« åˆ†ç±»"></a>4.3 æ–°å¢æ–‡ç« åˆ†ç±»</h3><h4 id="4-3-0-å®ç°æ­¥éª¤"><a href="#4-3-0-å®ç°æ­¥éª¤" class="headerlink" title="4.3.0 å®ç°æ­¥éª¤"></a>4.3.0 å®ç°æ­¥éª¤</h4><ol><li>å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°</li><li>éªŒè¯è¡¨å•æ•°æ®</li><li>æŸ¥è¯¢ <code>åˆ†ç±»åç§°</code> ä¸ <code>åˆ†ç±»åˆ«å</code> æ˜¯å¦è¢«å ç”¨</li><li>å®ç°æ–°å¢æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½</li></ol><h4 id="4-3-1-å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°"><a href="#4-3-1-å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°" class="headerlink" title="4.3.1 å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°"></a>4.3.1 å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°</h4><ol><li>åœ¨ <code>/router/artcate.js</code> æ¨¡å—ä¸­ï¼Œæ·»åŠ  <code>æ–°å¢æ–‡ç« åˆ†ç±»</code> çš„è·¯ç”±ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–°å¢æ–‡ç« åˆ†ç±»çš„è·¯ç”±</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/addcates&#x27;</span>, artcate_handler.<span class="property">addArticleCates</span>)</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>/router_handler/artcate.js</code> æ¨¡å—ä¸­ï¼Œå®šä¹‰å¹¶å‘å¤–å…±äº« <code>æ–°å¢æ–‡ç« åˆ†ç±»</code> çš„è·¯ç”±å¤„ç†å‡½æ•°ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–°å¢æ–‡ç« åˆ†ç±»çš„å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">addArticleCates</span> = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-3-2-éªŒè¯è¡¨å•æ•°æ®"><a href="#4-3-2-éªŒè¯è¡¨å•æ•°æ®" class="headerlink" title="4.3.2 éªŒè¯è¡¨å•æ•°æ®"></a>4.3.2 éªŒè¯è¡¨å•æ•°æ®</h4><ol><li>åˆ›å»º <code>/schema/artcate.js</code> æ–‡ç« åˆ†ç±»æ•°æ®éªŒè¯æ¨¡å—ï¼Œå¹¶å®šä¹‰å¦‚ä¸‹çš„éªŒè¯è§„åˆ™ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥å®šä¹‰éªŒè¯è§„åˆ™çš„æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> joi = <span class="built_in">require</span>(<span class="string">&#x27;joi&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ åˆ†ç±»åç§° å’Œ åˆ†ç±»åˆ«å çš„æ ¡éªŒè§„åˆ™</span></span><br><span class="line"><span class="keyword">const</span> name = joi.<span class="title function_">string</span>().required()</span><br><span class="line"><span class="keyword">const</span> alias = joi.<span class="title function_">string</span>().<span class="title function_">alphanum</span>().required()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ¡éªŒè§„åˆ™å¯¹è±¡ - æ·»åŠ åˆ†ç±»</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">add_cate_schema</span> = &#123;</span><br><span class="line">  <span class="attr">body</span>: &#123;</span><br><span class="line">    name,</span><br><span class="line">    alias,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>/router/artcate.js</code> æ¨¡å—ä¸­ï¼Œä½¿ç”¨ <code>add_cate_schema</code> å¯¹æ•°æ®è¿›è¡ŒéªŒè¯ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥éªŒè¯æ•°æ®çš„ä¸­é—´ä»¶</span></span><br><span class="line"><span class="keyword">const</span> expressJoi = <span class="built_in">require</span>(<span class="string">&#x27;@escook/express-joi&#x27;</span>)</span><br><span class="line"><span class="comment">// å¯¼å…¥æ–‡ç« åˆ†ç±»çš„éªŒè¯æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> &#123; add_cate_schema &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../schema/artcate&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–°å¢æ–‡ç« åˆ†ç±»çš„è·¯ç”±</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/addcates&#x27;</span>, <span class="title function_">expressJoi</span>(add_cate_schema), artcate_handler.<span class="property">addArticleCates</span>)</span><br></pre></td></tr></table></figure><h4 id="4-3-3-æŸ¥è¯¢åˆ†ç±»åç§°ä¸åˆ«åæ˜¯å¦è¢«å ç”¨"><a href="#4-3-3-æŸ¥è¯¢åˆ†ç±»åç§°ä¸åˆ«åæ˜¯å¦è¢«å ç”¨" class="headerlink" title="4.3.3 æŸ¥è¯¢åˆ†ç±»åç§°ä¸åˆ«åæ˜¯å¦è¢«å ç”¨"></a>4.3.3 æŸ¥è¯¢åˆ†ç±»åç§°ä¸åˆ«åæ˜¯å¦è¢«å ç”¨</h4><ol><li>å®šä¹‰æŸ¥é‡çš„ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æŸ¥è¯¢ åˆ†ç±»åç§° ä¸ åˆ†ç±»åˆ«å æ˜¯å¦è¢«å ç”¨çš„ SQL è¯­å¥</span></span><br><span class="line"><span class="keyword">const</span> sql = <span class="string">`select * from ev_article_cate where name=? or alias=?`</span></span><br></pre></td></tr></table></figure><ol start="2"><li>è°ƒç”¨ <code>db.query()</code> æ‰§è¡ŒæŸ¥é‡çš„æ“ä½œï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰§è¡ŒæŸ¥é‡æ“ä½œ</span></span><br><span class="line">db.<span class="title function_">query</span>(sql, [req.<span class="property">body</span>.<span class="property">name</span>, req.<span class="property">body</span>.<span class="property">alias</span>], <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// æ‰§è¡Œ SQL è¯­å¥å¤±è´¥</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> res.<span class="title function_">cc</span>(err)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ¤æ–­ åˆ†ç±»åç§° å’Œ åˆ†ç±»åˆ«å æ˜¯å¦è¢«å ç”¨</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">length</span> === <span class="number">2</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;åˆ†ç±»åç§°ä¸åˆ«åè¢«å ç”¨ï¼Œè¯·æ›´æ¢åé‡è¯•ï¼&#x27;</span>)</span><br><span class="line">  <span class="comment">// åˆ†åˆ«åˆ¤æ–­ åˆ†ç±»åç§° å’Œ åˆ†ç±»åˆ«å æ˜¯å¦è¢«å ç”¨</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">length</span> === <span class="number">1</span> &amp;&amp; results[<span class="number">0</span>].<span class="property">name</span> === req.<span class="property">body</span>.<span class="property">name</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;åˆ†ç±»åç§°è¢«å ç”¨ï¼Œè¯·æ›´æ¢åé‡è¯•ï¼&#x27;</span>)</span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">length</span> === <span class="number">1</span> &amp;&amp; results[<span class="number">0</span>].<span class="property">alias</span> === req.<span class="property">body</span>.<span class="property">alias</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;åˆ†ç±»åˆ«åè¢«å ç”¨ï¼Œè¯·æ›´æ¢åé‡è¯•ï¼&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// TODOï¼šæ–°å¢æ–‡ç« åˆ†ç±»</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="4-3-4-å®ç°æ–°å¢æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½"><a href="#4-3-4-å®ç°æ–°å¢æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½" class="headerlink" title="4.3.4 å®ç°æ–°å¢æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½"></a>4.3.4 å®ç°æ–°å¢æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½</h4><ol><li>å®šä¹‰æ–°å¢æ–‡ç« åˆ†ç±»çš„ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sql = <span class="string">`insert into ev_article_cate set ?`</span></span><br></pre></td></tr></table></figure><ol start="2"><li>è°ƒç”¨ <code>db.query()</code> æ‰§è¡Œæ–°å¢æ–‡ç« åˆ†ç±»çš„ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="title function_">query</span>(sql, req.<span class="property">body</span>, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// SQL è¯­å¥æ‰§è¡Œå¤±è´¥</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> res.<span class="title function_">cc</span>(err)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// SQL è¯­å¥æ‰§è¡ŒæˆåŠŸï¼Œä½†æ˜¯å½±å“è¡Œæ•°ä¸ç­‰äº 1</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">affectedRows</span> !== <span class="number">1</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;æ–°å¢æ–‡ç« åˆ†ç±»å¤±è´¥ï¼&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ–°å¢æ–‡ç« åˆ†ç±»æˆåŠŸ</span></span><br><span class="line">  res.<span class="title function_">cc</span>(<span class="string">&#x27;æ–°å¢æ–‡ç« åˆ†ç±»æˆåŠŸï¼&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="4-4-æ ¹æ®-Id-åˆ é™¤æ–‡ç« åˆ†ç±»"><a href="#4-4-æ ¹æ®-Id-åˆ é™¤æ–‡ç« åˆ†ç±»" class="headerlink" title="4.4 æ ¹æ® Id åˆ é™¤æ–‡ç« åˆ†ç±»"></a>4.4 æ ¹æ® Id åˆ é™¤æ–‡ç« åˆ†ç±»</h3><h4 id="4-4-0-å®ç°æ­¥éª¤"><a href="#4-4-0-å®ç°æ­¥éª¤" class="headerlink" title="4.4.0 å®ç°æ­¥éª¤"></a>4.4.0 å®ç°æ­¥éª¤</h4><ol><li>å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°</li><li>éªŒè¯è¡¨å•æ•°æ®</li><li>å®ç°åˆ é™¤æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½</li></ol><h4 id="4-4-1-å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°"><a href="#4-4-1-å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°" class="headerlink" title="4.4.1 å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°"></a>4.4.1 å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°</h4><ol><li>åœ¨ <code>/router/artcate.js</code> æ¨¡å—ä¸­ï¼Œæ·»åŠ  <code>åˆ é™¤æ–‡ç« åˆ†ç±»</code> çš„è·¯ç”±ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ é™¤æ–‡ç« åˆ†ç±»çš„è·¯ç”±</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/deletecate/:id&#x27;</span>, artcate_handler.<span class="property">deleteCateById</span>)</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>/router_handler/artcate.js</code> æ¨¡å—ä¸­ï¼Œå®šä¹‰å¹¶å‘å¤–å…±äº« <code>åˆ é™¤æ–‡ç« åˆ†ç±»</code> çš„è·¯ç”±å¤„ç†å‡½æ•°ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ é™¤æ–‡ç« åˆ†ç±»çš„å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">deleteCateById</span> = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-4-2-éªŒè¯è¡¨å•æ•°æ®"><a href="#4-4-2-éªŒè¯è¡¨å•æ•°æ®" class="headerlink" title="4.4.2 éªŒè¯è¡¨å•æ•°æ®"></a>4.4.2 éªŒè¯è¡¨å•æ•°æ®</h4><ol><li>åœ¨ <code>/schema/artcate.js</code> éªŒè¯è§„åˆ™æ¨¡å—ä¸­ï¼Œå®šä¹‰ id çš„éªŒè¯è§„åˆ™å¦‚ä¸‹ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ åˆ†ç±»Id çš„æ ¡éªŒè§„åˆ™</span></span><br><span class="line"><span class="keyword">const</span> id = joi.<span class="title function_">number</span>().<span class="title function_">integer</span>().<span class="title function_">min</span>(<span class="number">1</span>).required()</span><br></pre></td></tr></table></figure><ol start="2"><li>å¹¶ä½¿ç”¨ <code>exports</code> å‘å¤–å…±äº«å¦‚ä¸‹çš„ <code>éªŒè¯è§„åˆ™å¯¹è±¡</code>ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¡éªŒè§„åˆ™å¯¹è±¡ - åˆ é™¤åˆ†ç±»</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">delete_cate_schema</span> = &#123;</span><br><span class="line">  <span class="attr">params</span>: &#123;</span><br><span class="line">    id,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>åœ¨ <code>/router/artcate.js</code> æ¨¡å—ä¸­ï¼Œå¯¼å…¥éœ€è¦çš„éªŒè¯è§„åˆ™å¯¹è±¡ï¼Œå¹¶åœ¨è·¯ç”±ä¸­ä½¿ç”¨ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥åˆ é™¤åˆ†ç±»çš„éªŒè¯è§„åˆ™å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> &#123; delete_cate_schema &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../schema/artcate&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤æ–‡ç« åˆ†ç±»çš„è·¯ç”±</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/deletecate/:id&#x27;</span>, <span class="title function_">expressJoi</span>(delete_cate_schema), artcate_handler.<span class="property">deleteCateById</span>)</span><br></pre></td></tr></table></figure><h4 id="4-4-3-å®ç°åˆ é™¤æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½"><a href="#4-4-3-å®ç°åˆ é™¤æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½" class="headerlink" title="4.4.3 å®ç°åˆ é™¤æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½"></a>4.4.3 å®ç°åˆ é™¤æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½</h4><ol><li>å®šä¹‰åˆ é™¤æ–‡ç« åˆ†ç±»çš„ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sql = <span class="string">`update ev_article_cate set is_delete=1 where id=?`</span></span><br></pre></td></tr></table></figure><ol start="2"><li>è°ƒç”¨ <code>db.query()</code> æ‰§è¡Œåˆ é™¤æ–‡ç« åˆ†ç±»çš„ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="title function_">query</span>(sql, req.<span class="property">params</span>.<span class="property">id</span>, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// æ‰§è¡Œ SQL è¯­å¥å¤±è´¥</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> res.<span class="title function_">cc</span>(err)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// SQL è¯­å¥æ‰§è¡ŒæˆåŠŸï¼Œä½†æ˜¯å½±å“è¡Œæ•°ä¸ç­‰äº 1</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">affectedRows</span> !== <span class="number">1</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;åˆ é™¤æ–‡ç« åˆ†ç±»å¤±è´¥ï¼&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ é™¤æ–‡ç« åˆ†ç±»æˆåŠŸ</span></span><br><span class="line">  res.<span class="title function_">cc</span>(<span class="string">&#x27;åˆ é™¤æ–‡ç« åˆ†ç±»æˆåŠŸï¼&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="4-5-æ ¹æ®-Id-è·å–æ–‡ç« åˆ†ç±»æ•°æ®"><a href="#4-5-æ ¹æ®-Id-è·å–æ–‡ç« åˆ†ç±»æ•°æ®" class="headerlink" title="4.5 æ ¹æ® Id è·å–æ–‡ç« åˆ†ç±»æ•°æ®"></a>4.5 æ ¹æ® Id è·å–æ–‡ç« åˆ†ç±»æ•°æ®</h3><h4 id="4-5-0-å®ç°æ­¥éª¤"><a href="#4-5-0-å®ç°æ­¥éª¤" class="headerlink" title="4.5.0 å®ç°æ­¥éª¤"></a>4.5.0 å®ç°æ­¥éª¤</h4><ol><li>å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°</li><li>éªŒè¯è¡¨å•æ•°æ®</li><li>å®ç°è·å–æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½</li></ol><h4 id="4-5-1-å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°"><a href="#4-5-1-å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°" class="headerlink" title="4.5.1 å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°"></a>4.5.1 å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°</h4><ol><li>åœ¨ <code>/router/artcate.js</code> æ¨¡å—ä¸­ï¼Œæ·»åŠ  <code>æ ¹æ® Id è·å–æ–‡ç« åˆ†ç±»</code> çš„è·¯ç”±ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/cates/:id&#x27;</span>, artcate_handler.<span class="property">getArticleById</span>)</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>/router_handler/artcate.js</code> æ¨¡å—ä¸­ï¼Œå®šä¹‰å¹¶å‘å¤–å…±äº« <code>æ ¹æ® Id è·å–æ–‡ç« åˆ†ç±»</code> çš„è·¯ç”±å¤„ç†å‡½æ•°ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¹æ® Id è·å–æ–‡ç« åˆ†ç±»çš„å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">getArticleById</span> = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-5-2-éªŒè¯è¡¨å•æ•°æ®"><a href="#4-5-2-éªŒè¯è¡¨å•æ•°æ®" class="headerlink" title="4.5.2 éªŒè¯è¡¨å•æ•°æ®"></a>4.5.2 éªŒè¯è¡¨å•æ•°æ®</h4><ol><li>åœ¨ <code>/schema/artcate.js</code> éªŒè¯è§„åˆ™æ¨¡å—ä¸­ï¼Œä½¿ç”¨ <code>exports</code> å‘å¤–å…±äº«å¦‚ä¸‹çš„ <code>éªŒè¯è§„åˆ™å¯¹è±¡</code>ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¡éªŒè§„åˆ™å¯¹è±¡ - æ ¹æ® Id è·å–åˆ†ç±»</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">get_cate_schema</span> = &#123;</span><br><span class="line">  <span class="attr">params</span>: &#123;</span><br><span class="line">    id,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>/router/artcate.js</code> æ¨¡å—ä¸­ï¼Œå¯¼å…¥éœ€è¦çš„éªŒè¯è§„åˆ™å¯¹è±¡ï¼Œå¹¶åœ¨è·¯ç”±ä¸­ä½¿ç”¨ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥æ ¹æ® Id è·å–åˆ†ç±»çš„éªŒè¯è§„åˆ™å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> &#123; get_cate_schema &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../schema/artcate&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ¹æ® Id è·å–æ–‡ç« åˆ†ç±»çš„è·¯ç”±</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/cates/:id&#x27;</span>, <span class="title function_">expressJoi</span>(get_cate_schema), artcate_handler.<span class="property">getArticleById</span>)</span><br></pre></td></tr></table></figure><h4 id="4-5-3-å®ç°è·å–æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½"><a href="#4-5-3-å®ç°è·å–æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½" class="headerlink" title="4.5.3 å®ç°è·å–æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½"></a>4.5.3 å®ç°è·å–æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½</h4><ol><li>å®šä¹‰æ ¹æ® Id è·å–æ–‡ç« åˆ†ç±»çš„ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sql = <span class="string">`select * from ev_article_cate where id=?`</span></span><br></pre></td></tr></table></figure><ol start="2"><li>è°ƒç”¨ <code>db.query()</code> æ‰§è¡Œ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="title function_">query</span>(sql, req.<span class="property">params</span>.<span class="property">id</span>, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// æ‰§è¡Œ SQL è¯­å¥å¤±è´¥</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> res.<span class="title function_">cc</span>(err)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// SQL è¯­å¥æ‰§è¡ŒæˆåŠŸï¼Œä½†æ˜¯æ²¡æœ‰æŸ¥è¯¢åˆ°ä»»ä½•æ•°æ®</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">length</span> !== <span class="number">1</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;è·å–æ–‡ç« åˆ†ç±»æ•°æ®å¤±è´¥ï¼&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æŠŠæ•°æ®å“åº”ç»™å®¢æˆ·ç«¯</span></span><br><span class="line">  res.<span class="title function_">send</span>(&#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;è·å–æ–‡ç« åˆ†ç±»æ•°æ®æˆåŠŸï¼&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: results[<span class="number">0</span>],</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="4-6-æ ¹æ®-Id-æ›´æ–°æ–‡ç« åˆ†ç±»æ•°æ®"><a href="#4-6-æ ¹æ®-Id-æ›´æ–°æ–‡ç« åˆ†ç±»æ•°æ®" class="headerlink" title="4.6 æ ¹æ® Id æ›´æ–°æ–‡ç« åˆ†ç±»æ•°æ®"></a>4.6 æ ¹æ® Id æ›´æ–°æ–‡ç« åˆ†ç±»æ•°æ®</h3><h4 id="4-6-0-å®ç°æ­¥éª¤"><a href="#4-6-0-å®ç°æ­¥éª¤" class="headerlink" title="4.6.0 å®ç°æ­¥éª¤"></a>4.6.0 å®ç°æ­¥éª¤</h4><ol><li>å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°</li><li>éªŒè¯è¡¨å•æ•°æ®</li><li>æŸ¥è¯¢ <code>åˆ†ç±»åç§°</code> ä¸ <code>åˆ†ç±»åˆ«å</code> æ˜¯å¦è¢«å ç”¨</li><li>å®ç°æ›´æ–°æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½</li></ol><h4 id="4-6-1-å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°"><a href="#4-6-1-å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°" class="headerlink" title="4.6.1 å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°"></a>4.6.1 å®šä¹‰è·¯ç”±å’Œå¤„ç†å‡½æ•°</h4><ol><li>åœ¨ <code>/router/artcate.js</code> æ¨¡å—ä¸­ï¼Œæ·»åŠ  <code>æ›´æ–°æ–‡ç« åˆ†ç±»</code> çš„è·¯ç”±ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ›´æ–°æ–‡ç« åˆ†ç±»çš„è·¯ç”±</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/updatecate&#x27;</span>, artcate_handler.<span class="property">updateCateById</span>)</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>/router_handler/artcate.js</code> æ¨¡å—ä¸­ï¼Œå®šä¹‰å¹¶å‘å¤–å…±äº« <code>æ›´æ–°æ–‡ç« åˆ†ç±»</code> çš„è·¯ç”±å¤„ç†å‡½æ•°ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ›´æ–°æ–‡ç« åˆ†ç±»çš„å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">updateCateById</span> = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-6-2-éªŒè¯è¡¨å•æ•°æ®"><a href="#4-6-2-éªŒè¯è¡¨å•æ•°æ®" class="headerlink" title="4.6.2 éªŒè¯è¡¨å•æ•°æ®"></a>4.6.2 éªŒè¯è¡¨å•æ•°æ®</h4><ol><li>åœ¨ <code>/schema/artcate.js</code> éªŒè¯è§„åˆ™æ¨¡å—ä¸­ï¼Œä½¿ç”¨ <code>exports</code> å‘å¤–å…±äº«å¦‚ä¸‹çš„ <code>éªŒè¯è§„åˆ™å¯¹è±¡</code>ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¡éªŒè§„åˆ™å¯¹è±¡ - æ›´æ–°åˆ†ç±»</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">update_cate_schema</span> = &#123;</span><br><span class="line">  <span class="attr">body</span>: &#123;</span><br><span class="line">    <span class="title class_">Id</span>: id,</span><br><span class="line">    name,</span><br><span class="line">    alias,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>/router/artcate.js</code> æ¨¡å—ä¸­ï¼Œå¯¼å…¥éœ€è¦çš„éªŒè¯è§„åˆ™å¯¹è±¡ï¼Œå¹¶åœ¨è·¯ç”±ä¸­ä½¿ç”¨ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥æ›´æ–°æ–‡ç« åˆ†ç±»çš„éªŒè¯è§„åˆ™å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> &#123; update_cate_schema &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../schema/artcate&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›´æ–°æ–‡ç« åˆ†ç±»çš„è·¯ç”±</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/updatecate&#x27;</span>, <span class="title function_">expressJoi</span>(update_cate_schema), artcate_handler.<span class="property">updateCateById</span>)</span><br></pre></td></tr></table></figure><h4 id="4-5-4-æŸ¥è¯¢åˆ†ç±»åç§°ä¸åˆ«åæ˜¯å¦è¢«å ç”¨"><a href="#4-5-4-æŸ¥è¯¢åˆ†ç±»åç§°ä¸åˆ«åæ˜¯å¦è¢«å ç”¨" class="headerlink" title="4.5.4 æŸ¥è¯¢åˆ†ç±»åç§°ä¸åˆ«åæ˜¯å¦è¢«å ç”¨"></a>4.5.4 æŸ¥è¯¢åˆ†ç±»åç§°ä¸åˆ«åæ˜¯å¦è¢«å ç”¨</h4><ol><li>å®šä¹‰æŸ¥é‡çš„ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æŸ¥è¯¢ åˆ†ç±»åç§° ä¸ åˆ†ç±»åˆ«å æ˜¯å¦è¢«å ç”¨çš„ SQL è¯­å¥</span></span><br><span class="line"><span class="keyword">const</span> sql = <span class="string">`select * from ev_article_cate where Id&lt;&gt;? and (name=? or alias=?)`</span></span><br></pre></td></tr></table></figure><ol start="2"><li>è°ƒç”¨ <code>db.query()</code> æ‰§è¡ŒæŸ¥é‡çš„æ“ä½œï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰§è¡ŒæŸ¥é‡æ“ä½œ</span></span><br><span class="line">db.<span class="title function_">query</span>(sql, [req.<span class="property">body</span>.<span class="property">Id</span>, req.<span class="property">body</span>.<span class="property">name</span>, req.<span class="property">body</span>.<span class="property">alias</span>], <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// æ‰§è¡Œ SQL è¯­å¥å¤±è´¥</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> res.<span class="title function_">cc</span>(err)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ¤æ–­ åˆ†ç±»åç§° å’Œ åˆ†ç±»åˆ«å æ˜¯å¦è¢«å ç”¨</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">length</span> === <span class="number">2</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;åˆ†ç±»åç§°ä¸åˆ«åè¢«å ç”¨ï¼Œè¯·æ›´æ¢åé‡è¯•ï¼&#x27;</span>)</span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">length</span> === <span class="number">1</span> &amp;&amp; results[<span class="number">0</span>].<span class="property">name</span> === req.<span class="property">body</span>.<span class="property">name</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;åˆ†ç±»åç§°è¢«å ç”¨ï¼Œè¯·æ›´æ¢åé‡è¯•ï¼&#x27;</span>)</span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">length</span> === <span class="number">1</span> &amp;&amp; results[<span class="number">0</span>].<span class="property">alias</span> === req.<span class="property">body</span>.<span class="property">alias</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;åˆ†ç±»åˆ«åè¢«å ç”¨ï¼Œè¯·æ›´æ¢åé‡è¯•ï¼&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// TODOï¼šæ›´æ–°æ–‡ç« åˆ†ç±»</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="4-5-5-å®ç°æ›´æ–°æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½"><a href="#4-5-5-å®ç°æ›´æ–°æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½" class="headerlink" title="4.5.5 å®ç°æ›´æ–°æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½"></a>4.5.5 å®ç°æ›´æ–°æ–‡ç« åˆ†ç±»çš„åŠŸèƒ½</h4><ol><li>å®šä¹‰æ›´æ–°æ–‡ç« åˆ†ç±»çš„ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sql = <span class="string">`update ev_article_cate set ? where Id=?`</span></span><br></pre></td></tr></table></figure><ol start="2"><li>è°ƒç”¨ <code>db.query()</code> æ‰§è¡Œ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">db.<span class="title function_">query</span>(sql, [req.<span class="property">body</span>, req.<span class="property">body</span>.<span class="property">Id</span>], <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// æ‰§è¡Œ SQL è¯­å¥å¤±è´¥</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> res.<span class="title function_">cc</span>(err)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// SQL è¯­å¥æ‰§è¡ŒæˆåŠŸï¼Œä½†æ˜¯å½±å“è¡Œæ•°ä¸ç­‰äº 1</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">affectedRows</span> !== <span class="number">1</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;æ›´æ–°æ–‡ç« åˆ†ç±»å¤±è´¥ï¼&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ›´æ–°æ–‡ç« åˆ†ç±»æˆåŠŸ</span></span><br><span class="line">  res.<span class="title function_">cc</span>(<span class="string">&#x27;æ›´æ–°æ–‡ç« åˆ†ç±»æˆåŠŸï¼&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="5-æ–‡ç« ç®¡ç†"><a href="#5-æ–‡ç« ç®¡ç†" class="headerlink" title="5. æ–‡ç« ç®¡ç†"></a>5. æ–‡ç« ç®¡ç†</h2><h3 id="5-1-æ–°å»º-ev-articles-è¡¨"><a href="#5-1-æ–°å»º-ev-articles-è¡¨" class="headerlink" title="5.1 æ–°å»º ev_articles è¡¨"></a>5.1 æ–°å»º ev_articles è¡¨</h3><p><img src="https://raw.githubusercontent.com/dont-sleep-so-late/CDN/master/images/ev_articles.png" alt="ev_articlesè¡¨ç»“æ„"></p><h3 id="5-2-å‘å¸ƒæ–°æ–‡ç« "><a href="#5-2-å‘å¸ƒæ–°æ–‡ç« " class="headerlink" title="5.2 å‘å¸ƒæ–°æ–‡ç« "></a>5.2 å‘å¸ƒæ–°æ–‡ç« </h3><h4 id="5-2-0-å®ç°æ­¥éª¤"><a href="#5-2-0-å®ç°æ­¥éª¤" class="headerlink" title="5.2.0 å®ç°æ­¥éª¤"></a>5.2.0 å®ç°æ­¥éª¤</h4><ol><li>åˆå§‹åŒ–è·¯ç”±æ¨¡å—</li><li>åˆå§‹åŒ–è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—</li><li>ä½¿ç”¨ multer è§£æè¡¨å•æ•°æ®</li><li>éªŒè¯è¡¨å•æ•°æ®</li><li>å®ç°å‘å¸ƒæ–‡ç« çš„åŠŸèƒ½</li></ol><h4 id="5-2-1-åˆå§‹åŒ–è·¯ç”±æ¨¡å—"><a href="#5-2-1-åˆå§‹åŒ–è·¯ç”±æ¨¡å—" class="headerlink" title="5.2.1 åˆå§‹åŒ–è·¯ç”±æ¨¡å—"></a>5.2.1 åˆå§‹åŒ–è·¯ç”±æ¨¡å—</h4><ol><li>åˆ›å»º <code>/router/article.js</code> è·¯ç”±æ¨¡å—ï¼Œå¹¶åˆå§‹åŒ–å¦‚ä¸‹çš„ä»£ç ç»“æ„ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥ express</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="comment">// åˆ›å»ºè·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘å¸ƒæ–°æ–‡ç« </span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/add&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘å¤–å…±äº«è·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>app.js</code> ä¸­å¯¼å…¥å¹¶ä½¿ç”¨æ–‡ç« çš„è·¯ç”±æ¨¡å—ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥å¹¶ä½¿ç”¨æ–‡ç« è·¯ç”±æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> articleRouter = <span class="built_in">require</span>(<span class="string">&#x27;./router/article&#x27;</span>)</span><br><span class="line"><span class="comment">// ä¸ºæ–‡ç« çš„è·¯ç”±æŒ‚è½½ç»Ÿä¸€çš„è®¿é—®å‰ç¼€ /my/article</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/my/article&#x27;</span>, articleRouter)</span><br></pre></td></tr></table></figure><h4 id="5-2-2-åˆå§‹åŒ–è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—"><a href="#5-2-2-åˆå§‹åŒ–è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—" class="headerlink" title="5.2.2 åˆå§‹åŒ–è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—"></a>5.2.2 åˆå§‹åŒ–è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—</h4><ol><li>åˆ›å»º <code>/router_handler/article.js</code> è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—ï¼Œå¹¶åˆå§‹åŒ–å¦‚ä¸‹çš„ä»£ç ç»“æ„ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‘å¸ƒæ–°æ–‡ç« çš„å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">addArticle</span> = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>ä¿®æ”¹ <code>/router/article.js</code> ä¸­çš„ä»£ç å¦‚ä¸‹ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å…¥æ–‡ç« çš„è·¯ç”±å¤„ç†å‡½æ•°æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> article_handler = <span class="built_in">require</span>(<span class="string">&#x27;../router_handler/article&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘å¸ƒæ–°æ–‡ç« </span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/add&#x27;</span>, article_handler.<span class="property">addArticle</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure><h4 id="5-2-3-ä½¿ç”¨-multer-è§£æè¡¨å•æ•°æ®"><a href="#5-2-3-ä½¿ç”¨-multer-è§£æè¡¨å•æ•°æ®" class="headerlink" title="5.2.3 ä½¿ç”¨ multer è§£æè¡¨å•æ•°æ®"></a>5.2.3 ä½¿ç”¨ multer è§£æè¡¨å•æ•°æ®</h4><blockquote><p>æ³¨æ„ï¼šä½¿ç”¨ <code>express.urlencoded()</code> ä¸­é—´ä»¶æ— æ³•è§£æ <code>multipart/form-data</code> æ ¼å¼çš„è¯·æ±‚ä½“æ•°æ®ã€‚</p></blockquote><blockquote><p>å½“å‰é¡¹ç›®ï¼Œæ¨èä½¿ç”¨ multer æ¥è§£æ <code>multipart/form-data</code> æ ¼å¼çš„è¡¨å•æ•°æ®ã€‚<a href="https://www.npmjs.com/package/multer">https://www.npmjs.com/package/multer</a></p></blockquote><ol><li>è¿è¡Œå¦‚ä¸‹çš„ç»ˆç«¯å‘½ä»¤ï¼Œåœ¨é¡¹ç›®ä¸­å®‰è£… <code>multer</code>ï¼š</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i multer@1.4.2</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>/router_handler/article.js</code> æ¨¡å—ä¸­å¯¼å…¥å¹¶é…ç½® <code>multer</code>ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥è§£æ formdata æ ¼å¼è¡¨å•æ•°æ®çš„åŒ…</span></span><br><span class="line"><span class="keyword">const</span> multer = <span class="built_in">require</span>(<span class="string">&#x27;multer&#x27;</span>)</span><br><span class="line"><span class="comment">// å¯¼å…¥å¤„ç†è·¯å¾„çš„æ ¸å¿ƒæ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»º multer çš„å®ä¾‹å¯¹è±¡ï¼Œé€šè¿‡ dest å±æ€§æŒ‡å®šæ–‡ä»¶çš„å­˜æ”¾è·¯å¾„</span></span><br><span class="line"><span class="keyword">const</span> upload = <span class="title function_">multer</span>(&#123; <span class="attr">dest</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;../uploads&#x27;</span>) &#125;)</span><br></pre></td></tr></table></figure><ol start="3"><li>ä¿®æ”¹ <code>å‘å¸ƒæ–°æ–‡ç« </code> çš„è·¯ç”±å¦‚ä¸‹ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‘å¸ƒæ–°æ–‡ç« çš„è·¯ç”±</span></span><br><span class="line"><span class="comment">// upload.single() æ˜¯ä¸€ä¸ªå±€éƒ¨ç”Ÿæ•ˆçš„ä¸­é—´ä»¶ï¼Œç”¨æ¥è§£æ FormData æ ¼å¼çš„è¡¨å•æ•°æ®</span></span><br><span class="line"><span class="comment">// å°†æ–‡ä»¶ç±»å‹çš„æ•°æ®ï¼Œè§£æå¹¶æŒ‚è½½åˆ° req.file å±æ€§ä¸­</span></span><br><span class="line"><span class="comment">// å°†æ–‡æœ¬ç±»å‹çš„æ•°æ®ï¼Œè§£æå¹¶æŒ‚è½½åˆ° req.body å±æ€§ä¸­</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/add&#x27;</span>, upload.<span class="title function_">single</span>(<span class="string">&#x27;cover_img&#x27;</span>), article_handler.<span class="property">addArticle</span>)</span><br></pre></td></tr></table></figure><ol start="4"><li>åœ¨ <code>/router_handler/article.js</code> æ¨¡å—ä¸­çš„ <code>addArticle</code> å¤„ç†å‡½æ•°ä¸­ï¼Œå°† <code>multer</code> è§£æå‡ºæ¥çš„æ•°æ®è¿›è¡Œæ‰“å°ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‘å¸ƒæ–°æ–‡ç« çš„å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">addArticle</span> = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">body</span>) <span class="comment">// æ–‡æœ¬ç±»å‹çš„æ•°æ®</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;--------åˆ†å‰²çº¿----------&#x27;</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">file</span>) <span class="comment">// æ–‡ä»¶ç±»å‹çš„æ•°æ®</span></span><br><span class="line"></span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;ok&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="5-2-4-éªŒè¯è¡¨å•æ•°æ®"><a href="#5-2-4-éªŒè¯è¡¨å•æ•°æ®" class="headerlink" title="5.2.4 éªŒè¯è¡¨å•æ•°æ®"></a>5.2.4 éªŒè¯è¡¨å•æ•°æ®</h4><blockquote><p>å®ç°æ€è·¯ï¼šé€šè¿‡ express-joi <strong>è‡ªåŠ¨éªŒè¯</strong> req.body ä¸­çš„æ–‡æœ¬æ•°æ®ï¼›é€šè¿‡ if åˆ¤æ–­<strong>æ‰‹åŠ¨éªŒè¯</strong> req.file ä¸­çš„æ–‡ä»¶æ•°æ®ï¼›</p></blockquote><ol><li>åˆ›å»º <code>/schema/article.js</code> éªŒè¯è§„åˆ™æ¨¡å—ï¼Œå¹¶åˆå§‹åŒ–å¦‚ä¸‹çš„ä»£ç ç»“æ„ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥å®šä¹‰éªŒè¯è§„åˆ™çš„æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> joi = <span class="built_in">require</span>(<span class="string">&#x27;joi&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ æ ‡é¢˜ã€åˆ†ç±»Idã€å†…å®¹ã€å‘å¸ƒçŠ¶æ€ çš„éªŒè¯è§„åˆ™</span></span><br><span class="line"><span class="keyword">const</span> title = joi.<span class="title function_">string</span>().required()</span><br><span class="line"><span class="keyword">const</span> cate_id = joi.<span class="title function_">number</span>().<span class="title function_">integer</span>().<span class="title function_">min</span>(<span class="number">1</span>).required()</span><br><span class="line"><span class="keyword">const</span> content = joi.<span class="title function_">string</span>().required().<span class="title function_">allow</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> state = joi.<span class="title function_">string</span>().<span class="title function_">valid</span>(<span class="string">&#x27;å·²å‘å¸ƒ&#x27;</span>, <span class="string">&#x27;è‰ç¨¿&#x27;</span>).required()</span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯è§„åˆ™å¯¹è±¡ - å‘å¸ƒæ–‡ç« </span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">add_article_schema</span> = &#123;</span><br><span class="line">  <span class="attr">body</span>: &#123;</span><br><span class="line">    title,</span><br><span class="line">    cate_id,</span><br><span class="line">    content,</span><br><span class="line">    state,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>/router/article.js</code> æ¨¡å—ä¸­ï¼Œå¯¼å…¥éœ€è¦çš„éªŒè¯è§„åˆ™å¯¹è±¡ï¼Œå¹¶åœ¨è·¯ç”±ä¸­ä½¿ç”¨ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥éªŒè¯æ•°æ®çš„ä¸­é—´ä»¶</span></span><br><span class="line"><span class="keyword">const</span> expressJoi = <span class="built_in">require</span>(<span class="string">&#x27;@escook/express-joi&#x27;</span>)</span><br><span class="line"><span class="comment">// å¯¼å…¥æ–‡ç« çš„éªŒè¯æ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> &#123; add_article_schema &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../schema/article&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘å¸ƒæ–°æ–‡ç« çš„è·¯ç”±</span></span><br><span class="line"><span class="comment">// æ³¨æ„ï¼šåœ¨å½“å‰çš„è·¯ç”±ä¸­ï¼Œå…ˆåä½¿ç”¨äº†ä¸¤ä¸ªä¸­é—´ä»¶ï¼š</span></span><br><span class="line"><span class="comment">//       å…ˆä½¿ç”¨ multer è§£æè¡¨å•æ•°æ®</span></span><br><span class="line"><span class="comment">//       å†ä½¿ç”¨ expressJoi å¯¹è§£æçš„è¡¨å•æ•°æ®è¿›è¡ŒéªŒè¯</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/add&#x27;</span>, upload.<span class="title function_">single</span>(<span class="string">&#x27;cover_img&#x27;</span>), <span class="title function_">expressJoi</span>(add_article_schema), article_handler.<span class="property">addArticle</span>)</span><br></pre></td></tr></table></figure><ol start="3"><li>åœ¨ <code>/router_handler/article.js</code> æ¨¡å—ä¸­çš„ <code>addArticle</code> å¤„ç†å‡½æ•°ä¸­ï¼Œé€šè¿‡ <code>if</code> åˆ¤æ–­å®¢æˆ·ç«¯æ˜¯å¦æäº¤äº† <code>å°é¢å›¾ç‰‡</code>ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‘å¸ƒæ–°æ–‡ç« çš„å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">addArticle</span> = <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ‰‹åŠ¨åˆ¤æ–­æ˜¯å¦ä¸Šä¼ äº†æ–‡ç« å°é¢</span></span><br><span class="line">  <span class="keyword">if</span> (!req.<span class="property">file</span> || req.<span class="property">file</span>.<span class="property">fieldname</span> !== <span class="string">&#x27;cover_img&#x27;</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;æ–‡ç« å°é¢æ˜¯å¿…é€‰å‚æ•°ï¼&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// TODOï¼šè¡¨å•æ•°æ®åˆæ³•ï¼Œç»§ç»­åé¢çš„å¤„ç†æµç¨‹...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="5-2-5-å®ç°å‘å¸ƒæ–‡ç« çš„åŠŸèƒ½"><a href="#5-2-5-å®ç°å‘å¸ƒæ–‡ç« çš„åŠŸèƒ½" class="headerlink" title="5.2.5 å®ç°å‘å¸ƒæ–‡ç« çš„åŠŸèƒ½"></a>5.2.5 å®ç°å‘å¸ƒæ–‡ç« çš„åŠŸèƒ½</h4><ol><li>æ•´ç†è¦æ’å…¥æ•°æ®åº“çš„æ–‡ç« ä¿¡æ¯å¯¹è±¡ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥å¤„ç†è·¯å¾„çš„ path æ ¸å¿ƒæ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> articleInfo = &#123;</span><br><span class="line">  <span class="comment">// æ ‡é¢˜ã€å†…å®¹ã€çŠ¶æ€ã€æ‰€å±çš„åˆ†ç±»Id</span></span><br><span class="line">  ...req.<span class="property">body</span>,</span><br><span class="line">  <span class="comment">// æ–‡ç« å°é¢åœ¨æœåŠ¡å™¨ç«¯çš„å­˜æ”¾è·¯å¾„</span></span><br><span class="line">  <span class="attr">cover_img</span>: path.<span class="title function_">join</span>(<span class="string">&#x27;/uploads&#x27;</span>, req.<span class="property">file</span>.<span class="property">filename</span>),</span><br><span class="line">  <span class="comment">// æ–‡ç« å‘å¸ƒæ—¶é—´</span></span><br><span class="line">  <span class="attr">pub_date</span>: <span class="keyword">new</span> <span class="title class_">Date</span>(),</span><br><span class="line">  <span class="comment">// æ–‡ç« ä½œè€…çš„Id</span></span><br><span class="line">  <span class="attr">author_id</span>: req.<span class="property">user</span>.<span class="property">id</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>å®šä¹‰å‘å¸ƒæ–‡ç« çš„ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sql = <span class="string">`insert into ev_articles set ?`</span></span><br></pre></td></tr></table></figure><ol start="3"><li>è°ƒç”¨ <code>db.query()</code> æ‰§è¡Œå‘å¸ƒæ–‡ç« çš„ SQL è¯­å¥ï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥æ•°æ®åº“æ“ä½œæ¨¡å—</span></span><br><span class="line"><span class="keyword">const</span> db = <span class="built_in">require</span>(<span class="string">&#x27;../db/index&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡Œ SQL è¯­å¥</span></span><br><span class="line">db.<span class="title function_">query</span>(sql, articleInfo, <span class="function">(<span class="params">err, results</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// æ‰§è¡Œ SQL è¯­å¥å¤±è´¥</span></span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">return</span> res.<span class="title function_">cc</span>(err)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ‰§è¡Œ SQL è¯­å¥æˆåŠŸï¼Œä½†æ˜¯å½±å“è¡Œæ•°ä¸ç­‰äº 1</span></span><br><span class="line">  <span class="keyword">if</span> (results.<span class="property">affectedRows</span> !== <span class="number">1</span>) <span class="keyword">return</span> res.<span class="title function_">cc</span>(<span class="string">&#x27;å‘å¸ƒæ–‡ç« å¤±è´¥ï¼&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å‘å¸ƒæ–‡ç« æˆåŠŸ</span></span><br><span class="line">  res.<span class="title function_">cc</span>(<span class="string">&#x27;å‘å¸ƒæ–‡ç« æˆåŠŸ&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol start="4"><li>åœ¨ <code>app.js</code> ä¸­ï¼Œä½¿ç”¨ <code>express.static()</code> ä¸­é—´ä»¶ï¼Œå°† <code>uploads</code> ç›®å½•ä¸­çš„å›¾ç‰‡æ‰˜ç®¡ä¸ºé™æ€èµ„æºï¼š</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰˜ç®¡é™æ€èµ„æºæ–‡ä»¶</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/uploads&#x27;</span>, express.<span class="title function_">static</span>(<span class="string">&#x27;./uploads&#x27;</span>))</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Express</title>
      <link href="/2023/09/09/nodejs/express/"/>
      <url>/2023/09/09/nodejs/express/</url>
      
        <content type="html"><![CDATA[<p> <a href="https://www.expressjs.com.cn/">Express</a> åŸºäº Node.js å¹³å°ï¼Œå¿«é€Ÿã€å¼€æ”¾ã€æç®€çš„ Web å¼€å‘æ¡†æ¶</p><p>ç”¨äºå¿«é€Ÿåˆ›å»ºæœåŠ¡å™¨çš„ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚</p><h2 id="Express-åˆä½“éªŒ"><a href="#Express-åˆä½“éªŒ" class="headerlink" title="Express åˆä½“éªŒ"></a>Express åˆä½“éªŒ</h2><h3 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><p>å®‰è£… Expressï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express</span><br></pre></td></tr></table></figure><p>åˆ›å»ºæœåŠ¡å™¨ï¼Œç›‘å¬å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå¹¶è¿”å›å†…å®¹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="comment">// åˆ›å»º web æœåŠ¡å™¨</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬å®¢æˆ·ç«¯çš„ GET å’Œ POST è¯·æ±‚ï¼Œå¹¶å‘å®¢æˆ·ç«¯å“åº”å…·ä½“çš„å†…å®¹</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/user&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;zs&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span>, <span class="attr">gender</span>: <span class="string">&#x27;ç”·&#x27;</span> &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">app.<span class="title function_">post</span>(<span class="string">&#x27;/user&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;è¯·æ±‚æˆåŠŸ&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// é€šè¿‡ req.query å¯ä»¥è·å–åˆ°å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„æŸ¥è¯¢å‚æ•°</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">query</span>)</span><br><span class="line">  res.<span class="title function_">send</span>(req.<span class="property">query</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™é‡Œçš„ :id æ˜¯ä¸€ä¸ªåŠ¨æ€çš„å‚æ•°</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/user/:ids/:username&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// req.params æ˜¯åŠ¨æ€åŒ¹é…åˆ°çš„ URL å‚æ•°ï¼Œé»˜è®¤æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">params</span>)</span><br><span class="line">  res.<span class="title function_">send</span>(req.<span class="property">params</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">80</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;express server running at http://127.0.0.1&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="æ‰˜ç®¡é™æ€èµ„æº"><a href="#æ‰˜ç®¡é™æ€èµ„æº" class="headerlink" title="æ‰˜ç®¡é™æ€èµ„æº"></a>æ‰˜ç®¡é™æ€èµ„æº</h3><ul><li>é€šè¿‡ <code>express.static()</code> æ–¹æ³•å¯åˆ›å»ºé™æ€èµ„æºæœåŠ¡å™¨ï¼Œå‘å¤–å¼€æ”¾è®¿é—®é™æ€èµ„æºã€‚</li><li>Express åœ¨æŒ‡å®šçš„é™æ€ç›®å½•ä¸­æŸ¥æ‰¾æ–‡ä»¶ï¼Œå¹¶å¯¹å¤–æä¾›èµ„æºçš„è®¿é—®è·¯å¾„ï¼Œå­˜æ”¾é™æ€æ–‡ä»¶çš„ç›®å½•åä¸ä¼šå‡ºç°åœ¨ URL ä¸­</li><li>è®¿é—®é™æ€èµ„æºæ—¶ï¼Œä¼šæ ¹æ®æ‰˜ç®¡é¡ºåºæŸ¥æ‰¾æ–‡ä»¶</li><li>å¯ä¸ºé™æ€èµ„æºè®¿é—®è·¯å¾„æ·»åŠ å‰ç¼€</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">static</span>(<span class="string">&#x27;public&#x27;</span>))</span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">static</span>(<span class="string">&#x27;files&#x27;</span>))</span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/bruce&#x27;</span>, express.<span class="title function_">static</span>(<span class="string">&#x27;bruce&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å¯ç›´æ¥è®¿é—® public, files ç›®å½•ä¸‹çš„é™æ€èµ„æº</span></span><br><span class="line"><span class="comment">http://localhost:3000/images/bg.jpg</span></span><br><span class="line"><span class="comment">http://localhost:3000/css/style.css</span></span><br><span class="line"><span class="comment">http://localhost:3000/js/login.js</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">é€šè¿‡å¸¦æœ‰ /bruce å‰ç¼€çš„åœ°å€è®¿é—® bruce ç›®å½•ä¸‹çš„æ–‡ä»¶</span></span><br><span class="line"><span class="comment">http://localhost:8080/bruce/images/logo.png</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="Express-è·¯ç”±"><a href="#Express-è·¯ç”±" class="headerlink" title="Express è·¯ç”±"></a>Express è·¯ç”±</h2><p>åˆ›å»ºè·¯ç”±æ¨¡å—ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// router.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="comment">// åˆ›å»ºè·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‚è½½å…·ä½“è·¯ç”±</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/user/list&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;Get user list.&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/user/add&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;Add new user.&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘å¤–å¯¼å‡ºè·¯ç”±å¯¹è±¡</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure><p>æ³¨å†Œè·¯ç”±æ¨¡å—ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> router = <span class="built_in">require</span>(<span class="string">&#x27;./router&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œè·¯ç”±æ¨¡å—ï¼Œæ·»åŠ è®¿é—®å‰ç¼€</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/api&#x27;</span>, router)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">80</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;http://127.0.0.1&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="Express-ä¸­é—´ä»¶"><a href="#Express-ä¸­é—´ä»¶" class="headerlink" title="Express ä¸­é—´ä»¶"></a>Express ä¸­é—´ä»¶</h2><ul><li>ä¸­é—´ä»¶æ˜¯æŒ‡æµç¨‹çš„ä¸­é—´å¤„ç†ç¯èŠ‚</li><li>æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œå¯å…ˆè°ƒç”¨ä¸­é—´ä»¶è¿›è¡Œé¢„å¤„ç†</li><li>ä¸­é—´ä»¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒåŒ…å« <code>req, res, next</code> ä¸‰ä¸ªå‚æ•°ï¼Œ<code>next()</code> å‚æ•°æŠŠæµè½¬å…³ç³»äº¤ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶æˆ–è·¯ç”±</li></ul><p>ä¸­é—´ä»¶æ³¨æ„äº‹é¡¹ï¼›</p><ul><li>åœ¨æ³¨å†Œè·¯ç”±ä¹‹å‰æ³¨å†Œä¸­é—´ä»¶ï¼ˆé”™è¯¯çº§åˆ«ä¸­é—´ä»¶é™¤å¤–ï¼‰</li><li>ä¸­é—´ä»¶å¯è¿ç»­è°ƒç”¨å¤šä¸ª</li><li>åˆ«å¿˜è®°è°ƒç”¨ <code>next()</code> å‡½æ•°</li><li><code>next()</code> å‡½æ•°ååˆ«å†™ä»£ç </li><li>å¤šä¸ªä¸­é—´ä»¶å…±äº« <code>req</code>ã€ <code>res</code>å¯¹è±¡</li></ul><h3 id="å…¨å±€ä¸­é—´ä»¶"><a href="#å…¨å±€ä¸­é—´ä»¶" class="headerlink" title="å…¨å±€ä¸­é—´ä»¶"></a>å…¨å±€ä¸­é—´ä»¶</h3><ul><li>é€šè¿‡ <code>app.use()</code> å®šä¹‰çš„ä¸­é—´ä»¶ä¸ºå…¨å±€ä¸­é—´ä»¶</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ç¬¬ä¸€ä¸ªå…¨å±€ä¸­é—´ä»¶</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è°ƒç”¨äº†ç¬¬1ä¸ªå…¨å±€ä¸­é—´ä»¶&#x27;</span>)</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// å®šä¹‰ç¬¬äºŒä¸ªå…¨å±€ä¸­é—´ä»¶</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è°ƒç”¨äº†ç¬¬2ä¸ªå…¨å±€ä¸­é—´ä»¶&#x27;</span>)</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/user&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;User page.&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">80</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;http://127.0.0.1&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="å±€éƒ¨ä¸­é—´ä»¶"><a href="#å±€éƒ¨ä¸­é—´ä»¶" class="headerlink" title="å±€éƒ¨ä¸­é—´ä»¶"></a>å±€éƒ¨ä¸­é—´ä»¶</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ä¸­é—´ä»¶å‡½æ•°</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">mw1</span> = (<span class="params">req, res, next</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è°ƒç”¨äº†ç¬¬ä¸€ä¸ªå±€éƒ¨ç”Ÿæ•ˆçš„ä¸­é—´ä»¶&#x27;</span>)</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">mw2</span> = (<span class="params">req, res, next</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è°ƒç”¨äº†ç¬¬äºŒä¸ªå±€éƒ¨ç”Ÿæ•ˆçš„ä¸­é—´ä»¶&#x27;</span>)</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸¤ç§å®šä¹‰å±€éƒ¨ä¸­é—´ä»¶çš„æ–¹å¼</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/hello&#x27;</span>, mw2, mw1, <span class="function">(<span class="params">req, res</span>) =&gt;</span> res.<span class="title function_">send</span>(<span class="string">&#x27;hello page.&#x27;</span>))</span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/about&#x27;</span>, [mw1, mw2], <span class="function">(<span class="params">req, res</span>) =&gt;</span> res.<span class="title function_">send</span>(<span class="string">&#x27;about page.&#x27;</span>))</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/user&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> res.<span class="title function_">send</span>(<span class="string">&#x27;User page.&#x27;</span>))</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">80</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Express server running at http://127.0.0.1&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="ä¸­é—´ä»¶åˆ†ç±»"><a href="#ä¸­é—´ä»¶åˆ†ç±»" class="headerlink" title="ä¸­é—´ä»¶åˆ†ç±»"></a>ä¸­é—´ä»¶åˆ†ç±»</h3><ol><li>åº”ç”¨çº§åˆ«çš„ä¸­é—´ä»¶</li></ol><ul><li>é€šè¿‡ <code>app.use()</code> æˆ– <code>app.get()</code> æˆ– <code>app.post()</code> ï¼Œç»‘å®šåˆ° <code>app</code> å®ä¾‹ä¸Šçš„ä¸­é—´ä»¶</li></ul><ol start="2"><li>è·¯ç”±çº§åˆ«çš„ä¸­é—´ä»¶</li></ol><ul><li>ç»‘å®šåˆ° <code>express.Router()</code> å®ä¾‹ä¸Šçš„ä¸­é—´ä»¶ï¼Œå«åšè·¯ç”±çº§åˆ«çš„ä¸­é—´ä»¶ã€‚ç”¨æ³•å’Œåº”ç”¨çº§åˆ«ä¸­é—´ä»¶æ²¡æœ‰åŒºåˆ«ã€‚åº”ç”¨çº§åˆ«ä¸­é—´ä»¶æ˜¯ç»‘å®šåˆ° <code>app</code> å®ä¾‹ä¸Šï¼Œè·¯ç”±çº§åˆ«ä¸­é—´ä»¶ç»‘å®šåˆ° <code>router</code> å®ä¾‹ä¸Šã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">req, res, next</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/&#x27;</span>, router)</span><br></pre></td></tr></table></figure><ol start="3"><li>é”™è¯¯çº§åˆ«çš„ä¸­é—´ä»¶</li></ol><ul><li>ç”¨æ¥æ•è·æ•´ä¸ªé¡¹ç›®ä¸­å‘ç”Ÿçš„å¼‚å¸¸é”™è¯¯ï¼Œä»è€Œé˜²æ­¢é¡¹ç›®å¼‚å¸¸å´©æºƒçš„é—®é¢˜</li><li>é”™è¯¯çº§åˆ«ä¸­é—´ä»¶çš„å¤„ç†å‡½æ•°ä¸­ï¼Œå¿…é¡»æœ‰ 4 ä¸ªå½¢å‚ï¼Œå½¢å‚é¡ºåºä»å‰åˆ°ååˆ†åˆ«æ˜¯ <code>(err, req, res, next)</code> ã€‚</li><li>é”™è¯¯çº§åˆ«çš„ä¸­é—´ä»¶å¿…é¡»æ³¨å†Œåœ¨æ‰€æœ‰è·¯ç”±ä¹‹å</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;æœåŠ¡å™¨å†…éƒ¨å‘ç”Ÿäº†é”™è¯¯ï¼&#x27;</span>)</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;Home page.&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰é”™è¯¯çº§åˆ«çš„ä¸­é—´ä»¶ï¼Œæ•è·æ•´ä¸ªé¡¹ç›®çš„å¼‚å¸¸é”™è¯¯ï¼Œä»è€Œé˜²æ­¢ç¨‹åºçš„å´©æºƒ</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">err, req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å‘ç”Ÿäº†é”™è¯¯ï¼&#x27;</span> + err.<span class="property">message</span>)</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;Errorï¼š&#x27;</span> + err.<span class="property">message</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">80</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Express server running at http://127.0.0.1&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol start="4"><li>Express å†…ç½®ä¸­é—´ä»¶</li></ol><p>è‡ª Express 4.16.0 ç‰ˆæœ¬å¼€å§‹ï¼ŒExpress å†…ç½®äº† 3 ä¸ªå¸¸ç”¨çš„ä¸­é—´ä»¶ï¼Œæå¤§çš„æé«˜äº† Express é¡¹ç›®çš„å¼€å‘æ•ˆç‡å’Œä½“éªŒï¼š</p><ul><li><code>express.static</code> å¿«é€Ÿæ‰˜ç®¡é™æ€èµ„æºçš„å†…ç½®ä¸­é—´ä»¶ï¼Œä¾‹å¦‚ï¼š HTML æ–‡ä»¶ã€å›¾ç‰‡ã€CSS æ ·å¼ç­‰ï¼ˆæ— å…¼å®¹æ€§ï¼‰</li><li><code>express.json</code> è§£æ JSON æ ¼å¼çš„è¯·æ±‚ä½“æ•°æ®ï¼ˆæœ‰å…¼å®¹æ€§ï¼Œä»…åœ¨ 4.16.0+ ç‰ˆæœ¬ä¸­å¯ç”¨ï¼‰</li><li><code>express.urlencoded</code> è§£æ URL-encoded æ ¼å¼çš„è¯·æ±‚ä½“æ•°æ®ï¼ˆæœ‰å…¼å®¹æ€§ï¼Œä»…åœ¨ 4.16.0+ ç‰ˆæœ¬ä¸­å¯ç”¨ï¼‰</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">json</span>())</span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">urlencoded</span>(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;))</span><br></pre></td></tr></table></figure><ol start="5"><li>ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶</li></ol><h2 id="CORS-è·¨åŸŸèµ„æºå…±äº«"><a href="#CORS-è·¨åŸŸèµ„æºå…±äº«" class="headerlink" title="CORS è·¨åŸŸèµ„æºå…±äº«"></a>CORS è·¨åŸŸèµ„æºå…±äº«</h2><h3 id="cors-ä¸­é—´ä»¶è§£å†³è·¨åŸŸ"><a href="#cors-ä¸­é—´ä»¶è§£å†³è·¨åŸŸ" class="headerlink" title="cors ä¸­é—´ä»¶è§£å†³è·¨åŸŸ"></a>cors ä¸­é—´ä»¶è§£å†³è·¨åŸŸ</h3><ul><li>å®‰è£…ä¸­é—´ä»¶ï¼š<code>npm install cors</code></li><li>å¯¼å…¥ä¸­é—´ä»¶ï¼š<code>const cors = require(&#39;cors&#39;)</code></li><li>é…ç½®ä¸­é—´ä»¶ï¼š<code>app.use(cors())</code></li></ul><h3 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a>CORS</h3><ul><li>CORSï¼ˆCross-Origin Resource Sharingï¼Œè·¨åŸŸèµ„æºå…±äº«ï¼‰è§£å†³è·¨åŸŸï¼Œæ˜¯é€šè¿‡ HTTP å“åº”å¤´å†³å®šæµè§ˆå™¨æ˜¯å¦é˜»æ­¢å‰ç«¯ JS ä»£ç è·¨åŸŸè·å–èµ„æº</li><li>æµè§ˆå™¨çš„åŒæºå®‰å…¨ç­–ç•¥é»˜è®¤ä¼šé˜»æ­¢ç½‘é¡µâ€œè·¨åŸŸâ€è·å–èµ„æºã€‚ä½†å¦‚æœæ¥å£æœåŠ¡å™¨é…ç½®äº† CORS ç›¸å…³çš„ HTTP å“åº”å¤´ï¼Œå°±å¯è§£é™¤æµè§ˆå™¨ç«¯çš„è·¨åŸŸè®¿é—®é™åˆ¶</li><li>CORS ä¸»è¦åœ¨æœåŠ¡å™¨ç«¯è¿›è¡Œé…ç½®ã€‚å®¢æˆ·ç«¯æµè§ˆå™¨æ— é¡»åšä»»ä½•é¢å¤–çš„é…ç½®ï¼Œå³å¯è¯·æ±‚å¼€å¯äº† CORS çš„æ¥å£ã€‚</li><li>CORS åœ¨æµè§ˆå™¨ä¸­æœ‰å…¼å®¹æ€§ã€‚åªæœ‰æ”¯æŒ XMLHttpRequest Level2 çš„æµè§ˆå™¨ï¼Œæ‰èƒ½æ­£å¸¸è®¿é—®å¼€å¯äº† CORS çš„æœåŠ¡ç«¯æ¥å£ï¼ˆä¾‹å¦‚ï¼šIE10+ã€Chrome4+ã€FireFox3.5+ï¼‰ã€‚</li></ul><h3 id="CORS-å¸¸è§å“åº”å¤´"><a href="#CORS-å¸¸è§å“åº”å¤´" class="headerlink" title="CORS å¸¸è§å“åº”å¤´"></a>CORS å¸¸è§å“åº”å¤´</h3><ul><li><code>Access-Control-Allow-Origin</code>ï¼šåˆ¶å®šäº†å…è®¸è®¿é—®èµ„æºçš„å¤–åŸŸ URL</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="string">&#x27;http://bruceblog.io&#x27;</span>)</span><br><span class="line">res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="string">&#x27;*&#x27;</span>)</span><br></pre></td></tr></table></figure><ul><li><code>Access-Control-Allow-Headers</code></li><li>é»˜è®¤æƒ…å†µä¸‹ï¼ŒCORS ä»…æ”¯æŒå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€å¦‚ä¸‹çš„ 9 ä¸ªè¯·æ±‚å¤´ï¼š<code>Acceptã€Accept-Languageã€Content-Languageã€DPRã€Downlinkã€Save-Dataã€Viewport-Widthã€Width ã€Content-Type ï¼ˆå€¼ä»…é™äº text/plainã€multipart/form-dataã€application/x-www-form-urlencoded ä¸‰è€…ä¹‹ä¸€ï¼‰</code></li><li>å¦‚æœå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€äº†é¢å¤–çš„è¯·æ±‚å¤´ä¿¡æ¯ï¼Œåˆ™éœ€è¦åœ¨æœåŠ¡å™¨ç«¯ï¼Œé€šè¿‡ A<code>ccess-Control-Allow-Headers</code> å¯¹é¢å¤–çš„è¯·æ±‚å¤´è¿›è¡Œå£°æ˜ï¼Œå¦åˆ™è¿™æ¬¡è¯·æ±‚ä¼šå¤±è´¥ï¼</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span>, <span class="string">&#x27;Content-Type, X-Custom-Header&#x27;</span>)</span><br></pre></td></tr></table></figure><ul><li><code>Access-Control-Allow-Methods</code></li><li>é»˜è®¤æƒ…å†µä¸‹ï¼ŒCORS ä»…æ”¯æŒå®¢æˆ·ç«¯å‘èµ· GETã€POSTã€HEAD è¯·æ±‚ã€‚å¦‚æœå®¢æˆ·ç«¯å¸Œæœ›é€šè¿‡ PUTã€DELETE ç­‰æ–¹å¼è¯·æ±‚æœåŠ¡å™¨çš„èµ„æºï¼Œåˆ™éœ€è¦åœ¨æœåŠ¡å™¨ç«¯ï¼Œé€šè¿‡ <code>Access-Control-Alow-Methods</code> æ¥æŒ‡æ˜å®é™…è¯·æ±‚æ‰€å…è®¸ä½¿ç”¨çš„ HTTP æ–¹æ³•</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span>, <span class="string">&#x27;POST, GET, DELETE, HEAD&#x27;</span>)</span><br><span class="line">res.<span class="title function_">setHEader</span>(<span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span>, <span class="string">&#x27;*&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="CORS-è¯·æ±‚åˆ†ç±»"><a href="#CORS-è¯·æ±‚åˆ†ç±»" class="headerlink" title="CORS è¯·æ±‚åˆ†ç±»"></a>CORS è¯·æ±‚åˆ†ç±»</h3><h4 id="ç®€å•è¯·æ±‚"><a href="#ç®€å•è¯·æ±‚" class="headerlink" title="ç®€å•è¯·æ±‚"></a>ç®€å•è¯·æ±‚</h4><ul><li>è¯·æ±‚æ–¹å¼ï¼šGETã€POSTã€HEAD ä¸‰è€…ä¹‹ä¸€</li><li>HTTP å¤´éƒ¨ä¿¡æ¯ä¸è¶…è¿‡ä»¥ä¸‹å‡ ç§å­—æ®µï¼šæ— è‡ªå®šä¹‰å¤´éƒ¨å­—æ®µã€<code>Accept</code>ã€<code>Accept-Language</code>ã€<code>Content-Language</code>ã€<code>DPR</code>ã€<code>Downlink</code>ã€<code>Save-Data</code>ã€<code>Viewport-Width</code>ã€<code>Width</code> ã€<code>Content-Type</code>ï¼ˆåªæœ‰ä¸‰ä¸ªå€¼ <code>application/x-www-formurlencoded</code>ã€<code>multipart/form-data</code>ã€<code>text/plain</code>ï¼‰</li></ul><h4 id="é¢„æ£€è¯·æ±‚"><a href="#é¢„æ£€è¯·æ±‚" class="headerlink" title="é¢„æ£€è¯·æ±‚"></a>é¢„æ£€è¯·æ±‚</h4><ul><li>è¯·æ±‚æ–¹å¼ä¸º GETã€POSTã€HEAD ä¹‹å¤–çš„è¯·æ±‚ Method ç±»å‹</li><li>è¯·æ±‚å¤´ä¸­åŒ…å«è‡ªå®šä¹‰å¤´éƒ¨å­—æ®µ</li><li>å‘æœåŠ¡å™¨å‘é€äº† application&#x2F;json æ ¼å¼çš„æ•°æ®</li></ul><p>åœ¨æµè§ˆå™¨ä¸æœåŠ¡å™¨æ­£å¼é€šä¿¡ä¹‹å‰ï¼Œæµè§ˆå™¨ä¼šå…ˆå‘é€ OPTION è¯·æ±‚è¿›è¡Œé¢„æ£€ï¼Œä»¥è·çŸ¥æœåŠ¡å™¨æ˜¯å¦å…è®¸è¯¥å®é™…è¯·æ±‚ï¼Œæ‰€ä»¥è¿™ä¸€æ¬¡çš„ OPTION è¯·æ±‚ç§°ä¸ºâ€œé¢„æ£€è¯·æ±‚â€ã€‚æœåŠ¡å™¨æˆåŠŸå“åº”é¢„æ£€è¯·æ±‚åï¼Œæ‰ä¼šå‘é€çœŸæ­£çš„è¯·æ±‚ï¼Œå¹¶ä¸”æºå¸¦çœŸå®æ•°æ®</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Express </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NodejsåŸºç¡€</title>
      <link href="/2023/09/09/nodejs/node_basis/"/>
      <url>/2023/09/09/nodejs/node_basis/</url>
      
        <content type="html"><![CDATA[<p><a href="https://nodejs.org/en/">å®˜ç½‘ä¼ é€é—¨</a></p><h2 id="åˆè¯†-Nodejs"><a href="#åˆè¯†-Nodejs" class="headerlink" title="åˆè¯† Nodejs"></a>åˆè¯† Nodejs</h2><p>tip Node.jsÂ®<br>Node.jsÂ® is a JavaScript runtime built on Chromeâ€™s V8 JavaScript engine</p><p>Node.jsÂ® æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 å¼•æ“ çš„ JavaScript è¿è¡Œæ—¶ç¯å¢ƒ</p><ul><li>åŸºäº <a href="http://www.expressjs.com.cn/">Express æ¡†æ¶</a>ï¼Œå¯ä»¥å¿«é€Ÿæ„å»º Web åº”ç”¨</li><li>åŸºäº <a href="https://electronjs.org/">Electron æ¡†æ¶</a>ï¼Œå¯ä»¥æ„å»ºè·¨å¹³å°çš„æ¡Œé¢åº”ç”¨</li><li>åŸºäº <a href="http://restify.com/">restify æ¡†æ¶</a>ï¼Œå¯ä»¥å¿«é€Ÿæ„å»º API æ¥å£é¡¹ç›®</li><li>è¯»å†™å’Œæ“ä½œæ•°æ®åº“ã€åˆ›å»ºå®ç”¨çš„å‘½ä»¤è¡Œå·¥å…·è¾…åŠ©å‰ç«¯å¼€å‘ã€etcâ€¦</li></ul><h2 id="Buffer-ç¼“å†²åŒº"><a href="#Buffer-ç¼“å†²åŒº" class="headerlink" title="Buffer ç¼“å†²åŒº"></a>Buffer ç¼“å†²åŒº</h2><blockquote><p><a href="http://nodejs.cn/api/buffer.html">Buffer ç¼“å†²åŒºæ–‡æ¡£</a></p></blockquote><ul><li>Buffer çš„ç»“æ„ä¸æ•°ç»„ç±»ä¼¼ï¼Œæ“ä½œæ–¹æ³•ä¹Ÿä¸æ•°ç»„ç±»ä¼¼</li><li>æ•°ç»„ä¸èƒ½å­˜å‚¨äºŒè¿›åˆ¶æ–‡ä»¶ï¼ŒBuffer æ˜¯ä¸“é—¨å­˜å‚¨äºŒè¿›åˆ¶æ•°æ®çš„</li><li>Buffer å­˜å‚¨çš„æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œæ˜¾ç¤ºæ—¶ä»¥ 16 è¿›åˆ¶çš„å½¢å¼æ˜¾ç¤º</li><li>Buffer æ¯ä¸€ä¸ªå…ƒç´ èŒƒå›´æ˜¯ 00<del>ffï¼Œå³ 0</del>255ã€00000000~11111111</li><li>æ¯ä¸€ä¸ªå…ƒç´ å ç”¨ä¸€ä¸ªå­—èŠ‚å†…å­˜</li><li>Buffer æ˜¯å¯¹åº•å±‚å†…å­˜çš„ç›´æ¥æ“ä½œï¼Œå› æ­¤å¤§å°ä¸€æ—¦ç¡®å®šå°±ä¸èƒ½ä¿®æ”¹</li></ul><p>Buffer å¸¸ç”¨æ–¹æ³•ï¼š</p><ul><li><code>Buffer.from(str[, encoding])</code>ï¼šå°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸º Buffer</li><li><code>Buffer.alloc(size)</code>ï¼šåˆ›å»ºæŒ‡å®šå¤§å°çš„ Buffer</li><li><code>Buffer.alloUnsafe(size)</code>ï¼šåˆ›å»ºæŒ‡å®šå¤§å°çš„ Bufferï¼Œå¯èƒ½åŒ…å«æ•æ„Ÿæ•°æ®ï¼ˆåˆ†é…å†…å­˜æ—¶ä¸ä¼šæ¸…é™¤å†…å­˜æ®‹ç•™çš„æ•°æ®ï¼‰</li><li><code>buf.toString()</code>ï¼šå°† Buffer æ•°æ®è½¬ä¸ºå­—ç¬¦ä¸²</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;Helloå‰ç«¯&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> buf = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(str)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å ç”¨å†…å­˜çš„å¤§å°ï¼Œä¸€ä¸ªæ±‰å­—3å­—èŠ‚ 13</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf.<span class="property">length</span>)</span><br><span class="line"><span class="comment">// å­—ç¬¦ä¸²çš„é•¿åº¦ 7</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="property">length</span>)</span><br><span class="line"><span class="comment">// 8è¿›åˆ¶è¾“å‡ºç¬¬ä¸€ä¸ªå…ƒç´  145</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf[<span class="number">1</span>].<span class="title function_">toString</span>(<span class="number">8</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ª10ä¸ªå­—èŠ‚çš„buffer</span></span><br><span class="line"><span class="keyword">var</span> buf2 = <span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>)</span><br><span class="line"><span class="comment">//é€šè¿‡ç´¢å¼•ï¼Œæ¥æ“ä½œbufä¸­çš„å…ƒç´ </span></span><br><span class="line">buf2[<span class="number">0</span>] = <span class="number">88</span></span><br><span class="line">buf2[<span class="number">1</span>] = <span class="number">255</span></span><br><span class="line">buf2[<span class="number">2</span>] = <span class="number">0xaa</span></span><br><span class="line">buf2[<span class="number">3</span>] = <span class="number">255</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> buf3 = <span class="title class_">Buffer</span>.<span class="title function_">allocUnsafe</span>(<span class="number">10</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(buf3)</span><br></pre></td></tr></table></figure><h2 id="fs-æ–‡ä»¶ç³»ç»Ÿæ¨¡å—"><a href="#fs-æ–‡ä»¶ç³»ç»Ÿæ¨¡å—" class="headerlink" title="fs æ–‡ä»¶ç³»ç»Ÿæ¨¡å—"></a>fs æ–‡ä»¶ç³»ç»Ÿæ¨¡å—</h2><ul><li>fs æ¨¡å—ä¸­æ‰€æœ‰çš„æ“ä½œéƒ½æœ‰ä¸¤ç§å½¢å¼å¯ä¾›é€‰æ‹©:åŒæ­¥å’Œå¼‚æ­¥</li><li>åŒæ­¥æ–‡ä»¶ç³»ç»Ÿä¼šé˜»å¡ç¨‹åºçš„æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯é™¤éæ“ä½œå®Œæ¯•ï¼Œå¦åˆ™ä¸ä¼šå‘ä¸‹æ‰§è¡Œä»£ç </li><li>å¼‚æ­¥æ–‡ä»¶ç³»ç»Ÿä¸ä¼šé˜»å¡ç¨‹åºçš„æ‰§è¡Œï¼Œè€Œæ˜¯åœ¨æ“ä½œå®Œæˆæ—¶ï¼Œé€šè¿‡å›è°ƒå‡½æ•°å°†ç»“æœè¿”å›</li><li>å®é™…å¼€å‘å¾ˆå°‘ç”¨åŒæ­¥æ–¹å¼ï¼Œå› æ­¤åªä»‹ç»å¼‚æ­¥æ–¹å¼</li></ul><p>æ‰“å¼€æ¨¡å¼ï¼š</p><table><thead><tr><th>æ¨¡å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>r</td><td>è¯»å–æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸å­˜åœ¨æŠ›å¼‚å¸¸</td></tr><tr><td>r+</td><td>è¯»å†™æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸å­˜åœ¨æŠ›å¼‚å¸¸</td></tr><tr><td>rs</td><td>åŒæ­¥æ¨¡å¼ä¸‹æ‰“å¼€æ–‡ä»¶ç”¨äºè¯»å–</td></tr><tr><td>rs+</td><td>åŒæ­¥æ¨¡å¼ä¸‹æ‰“å¼€æ–‡ä»¶ç”¨äºè¯»å†™</td></tr><tr><td>w</td><td>å†™æ–‡ä»¶ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå­˜åœ¨åˆ™è¦†ç›–åŸæœ‰å†…å®¹</td></tr><tr><td>wx</td><td>å†™æ–‡ä»¶ï¼Œæ–‡ä»¶å­˜åœ¨æ‰“å¼€å¤±è´¥</td></tr><tr><td>w+</td><td>è¯»å†™æ–‡ä»¶ï¼Œä¸å­˜åœ¨åˆ›å»ºï¼Œå­˜åœ¨æˆªæ–­</td></tr><tr><td>wx+</td><td>è¯»å†™ï¼Œå­˜åœ¨æ‰“å¼€å¤±è´¥</td></tr><tr><td>a</td><td>è¿½åŠ ï¼Œä¸å­˜åœ¨åˆ›å»º</td></tr><tr><td>ax</td><td>è¿½åŠ ï¼Œå­˜åœ¨å¤±è´¥</td></tr><tr><td>a+</td><td>è¿½åŠ å’Œè¯»å–ï¼Œä¸å­˜åœ¨åˆ›å»º</td></tr><tr><td>ax+</td><td>è¿½åŠ å’Œè¯»å–ï¼Œå­˜åœ¨å¤±è´¥</td></tr></tbody></table><h3 id="è¯»å–æ–‡ä»¶"><a href="#è¯»å–æ–‡ä»¶" class="headerlink" title="è¯»å–æ–‡ä»¶"></a>è¯»å–æ–‡ä»¶</h3><h4 id="ç®€å•æ–‡ä»¶è¯»å–"><a href="#ç®€å•æ–‡ä»¶è¯»å–" class="headerlink" title="ç®€å•æ–‡ä»¶è¯»å–"></a>ç®€å•æ–‡ä»¶è¯»å–</h4><p>è¯­æ³•æ ¼å¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fs.<span class="title function_">readFile</span>(path[, options], callback)</span><br></pre></td></tr></table></figure><ul><li><code>path</code>ï¼šæ–‡ä»¶è·¯å¾„</li><li><code>options</code>ï¼šé…ç½®é€‰é¡¹ï¼Œè‹¥æ˜¯å­—ç¬¦ä¸²åˆ™æŒ‡å®šç¼–ç æ ¼å¼<ul><li><code>encoding</code>ï¼šç¼–ç æ ¼å¼</li><li><code>flag</code>ï¼šæ‰“å¼€æ–¹å¼</li></ul></li><li><code>callback</code>ï¼šå›è°ƒå‡½æ•°<ul><li><code>err</code>ï¼šé”™è¯¯ä¿¡æ¯</li><li><code>data</code>ï¼šè¯»å–çš„æ•°æ®ï¼Œå¦‚æœæœªæŒ‡å®šç¼–ç æ ¼å¼åˆ™è¿”å›ä¸€ä¸ª Buffer</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line">fs.<span class="title function_">readFile</span>(<span class="string">&#x27;./files/1.txt&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>, <span class="keyword">function</span>(<span class="params">err, data</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span>(err) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;failed!&#x27;</span> + err.<span class="property">message</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;content:&#x27;</span> + data)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤åˆ¶æ–‡ä»¶å†…å®¹</span></span><br><span class="line">fs.<span class="title function_">readFile</span>(<span class="string">&quot;C:/Users/ç¬”è®°.mp3&quot;</span>, <span class="keyword">function</span>(<span class="params">err, data</span>) &#123;</span><br><span class="line"><span class="keyword">if</span>(!err) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line"><span class="comment">// å°†dataå†™å…¥åˆ°æ–‡ä»¶ä¸­</span></span><br><span class="line">fs.<span class="title function_">writeFile</span>(<span class="string">&quot;C:/Users/hello.jpg&quot;</span>, data, <span class="keyword">function</span>(<span class="params">err</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(!err)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æ–‡ä»¶å†™å…¥æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125; );</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="æµå¼æ–‡ä»¶è¯»å–"><a href="#æµå¼æ–‡ä»¶è¯»å–" class="headerlink" title="æµå¼æ–‡ä»¶è¯»å–"></a>æµå¼æ–‡ä»¶è¯»å–</h4><ul><li>ç®€å•æ–‡ä»¶è¯»å–çš„æ–¹å¼ä¼šä¸€æ¬¡æ€§è¯»å–æ–‡ä»¶å†…å®¹åˆ°å†…å­˜ä¸­ï¼Œè‹¥æ–‡ä»¶è¾ƒå¤§ï¼Œä¼šå ç”¨è¿‡å¤šå†…å­˜å½±å“ç³»ç»Ÿæ€§èƒ½ï¼Œä¸”è¯»å–é€Ÿåº¦æ…¢</li><li>å¤§æ–‡ä»¶é€‚åˆç”¨æµå¼æ–‡ä»¶è¯»å–ï¼Œå®ƒä¼šåˆ†å¤šæ¬¡å°†æ–‡ä»¶è¯»å–åˆ°å†…å­˜ä¸­</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå¯è¯»æµ</span></span><br><span class="line"><span class="keyword">var</span> rs = fs.<span class="title function_">createReadStream</span>(<span class="string">&#x27;C:/Users/ç¬”è®°.mp3&#x27;</span>)</span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå¯å†™æµ</span></span><br><span class="line"><span class="keyword">var</span> ws = fs.<span class="title function_">createWriteStream</span>(<span class="string">&#x27;a.mp3&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬æµçš„å¼€å¯å’Œå…³é—­</span></span><br><span class="line"><span class="comment">// è¿™å‡ ä¸ªç›‘å¬ä¸æ˜¯å¿…é¡»çš„</span></span><br><span class="line">rs.<span class="title function_">once</span>(<span class="string">&#x27;open&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å¯è¯»æµæ‰“å¼€äº†~~&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">rs.<span class="title function_">once</span>(<span class="string">&#x27;close&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å¯è¯»æµå…³é—­äº†~~&#x27;</span>)</span><br><span class="line">  <span class="comment">//æ•°æ®è¯»å–å®Œæ¯•ï¼Œå…³é—­å¯å†™æµ</span></span><br><span class="line">  ws.<span class="title function_">end</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">ws.<span class="title function_">once</span>(<span class="string">&#x27;open&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å¯å†™æµæ‰“å¼€äº†~~&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">ws.<span class="title function_">once</span>(<span class="string">&#x27;close&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å¯å†™æµå…³é—­äº†~~&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¦è¯»å–ä¸€ä¸ªå¯è¯»æµä¸­çš„æ•°æ®ï¼Œè¦ä¸ºå¯è¯»æµç»‘å®šä¸€ä¸ªdataäº‹ä»¶ï¼Œdataäº‹ä»¶ç»‘å®šå®Œæ¯•è‡ªåŠ¨å¼€å§‹è¯»å–æ•°æ®</span></span><br><span class="line">rs.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">  <span class="comment">//å°†è¯»å–åˆ°çš„æ•°æ®å†™å…¥åˆ°å¯å†™æµä¸­</span></span><br><span class="line">  ws.<span class="title function_">write</span>(data)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ç®€ä¾¿æ–¹å¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> rs = fs.<span class="title function_">createReadStream</span>(<span class="string">&#x27;C:/Users/lilichao/Desktop/ç¬”è®°.mp3&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> ws = fs.<span class="title function_">createWriteStream</span>(<span class="string">&#x27;b.mp3&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// pipe()å¯ä»¥å°†å¯è¯»æµä¸­çš„å†…å®¹ï¼Œç›´æ¥è¾“å‡ºåˆ°å¯å†™æµä¸­</span></span><br><span class="line">rs.<span class="title function_">pipe</span>(ws)</span><br></pre></td></tr></table></figure><h3 id="å†™å…¥æ–‡ä»¶"><a href="#å†™å…¥æ–‡ä»¶" class="headerlink" title="å†™å…¥æ–‡ä»¶"></a>å†™å…¥æ–‡ä»¶</h3><h4 id="ç®€å•æ–‡ä»¶å†™å…¥"><a href="#ç®€å•æ–‡ä»¶å†™å…¥" class="headerlink" title="ç®€å•æ–‡ä»¶å†™å…¥"></a>ç®€å•æ–‡ä»¶å†™å…¥</h4><p>è¯­æ³•æ ¼å¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fs.<span class="title function_">writeFile</span>(file, data[, options], callback)</span><br></pre></td></tr></table></figure><ul><li><code>file</code>ï¼šæ–‡ä»¶è·¯å¾„</li><li><code>data</code>ï¼šå†™å…¥å†…å®¹</li><li><code>options</code>ï¼šé…ç½®é€‰é¡¹ï¼ŒåŒ…å« <code>encoding, mode, flag</code>ï¼›è‹¥æ˜¯å­—ç¬¦ä¸²åˆ™æŒ‡å®šç¼–ç æ ¼å¼</li><li><code>callback</code>ï¼šå›è°ƒå‡½æ•°</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line">fs.<span class="title function_">writeFile</span>(<span class="string">&#x27;./files/2.txt&#x27;</span>, <span class="string">&#x27;Hello Nodejs&#x27;</span>, <span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;failed!&#x27;</span> + err.<span class="property">message</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;success!&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">fs.<span class="title function_">writeFile</span>(<span class="string">&#x27;C:/Users/hello.txt&#x27;</span>, <span class="string">&#x27;é€šè¿‡ writeFile å†™å…¥çš„å†…å®¹&#x27;</span>, &#123; <span class="attr">flag</span>: <span class="string">&#x27;w&#x27;</span> &#125;, <span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!err) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å†™å…¥æˆåŠŸï¼&#x27;</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="æµå¼æ–‡ä»¶å†™å…¥"><a href="#æµå¼æ–‡ä»¶å†™å…¥" class="headerlink" title="æµå¼æ–‡ä»¶å†™å…¥"></a>æµå¼æ–‡ä»¶å†™å…¥</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒæ­¥ã€å¼‚æ­¥ã€ç®€å•æ–‡ä»¶çš„å†™å…¥éƒ½ä¸é€‚åˆå¤§æ–‡ä»¶çš„å†™å…¥ï¼Œæ€§èƒ½è¾ƒå·®ï¼Œå®¹æ˜“å¯¼è‡´å†…å­˜æº¢å‡º</span></span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå¯å†™æµ</span></span><br><span class="line"><span class="keyword">var</span> ws = fs.<span class="title function_">createWriteStream</span>(<span class="string">&#x27;hello3.txt&#x27;</span>)</span><br><span class="line"></span><br><span class="line">ws.<span class="title function_">once</span>(<span class="string">&#x27;open&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æµæ‰“å¼€äº†~~&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">ws.<span class="title function_">once</span>(<span class="string">&#x27;close&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æµå…³é—­äº†~~&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡wså‘æ–‡ä»¶ä¸­è¾“å‡ºå†…å®¹</span></span><br><span class="line">ws.<span class="title function_">write</span>(<span class="string">&#x27;é€šè¿‡å¯å†™æµå†™å…¥æ–‡ä»¶çš„å†…å®¹&#x27;</span>)</span><br><span class="line">ws.<span class="title function_">write</span>(<span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">ws.<span class="title function_">write</span>(<span class="string">&#x27;2&#x27;</span>)</span><br><span class="line">ws.<span class="title function_">write</span>(<span class="string">&#x27;3&#x27;</span>)</span><br><span class="line">ws.<span class="title function_">write</span>(<span class="string">&#x27;4&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é—­æµ</span></span><br><span class="line">ws.<span class="title function_">end</span>()</span><br></pre></td></tr></table></figure><h3 id="è·¯å¾„åŠ¨æ€æ‹¼æ¥é—®é¢˜-dirname"><a href="#è·¯å¾„åŠ¨æ€æ‹¼æ¥é—®é¢˜-dirname" class="headerlink" title="è·¯å¾„åŠ¨æ€æ‹¼æ¥é—®é¢˜ __dirname"></a>è·¯å¾„åŠ¨æ€æ‹¼æ¥é—®é¢˜ <code>__dirname</code></h3><ul><li>åœ¨ä½¿ç”¨ fs æ¨¡å—æ“ä½œæ–‡ä»¶æ—¶ï¼Œå¦‚æœæä¾›çš„æ“ä½œè·¯å¾„æ˜¯ä»¥ <code>./</code> æˆ– <code>../</code> å¼€å¤´çš„ç›¸å¯¹è·¯å¾„æ—¶ï¼Œå®¹æ˜“å‡ºç°è·¯å¾„åŠ¨æ€æ‹¼æ¥é”™è¯¯çš„é—®é¢˜</li><li>åŸå› ï¼šä»£ç åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œä¼šä»¥æ‰§è¡Œ node å‘½ä»¤æ—¶æ‰€å¤„çš„ç›®å½•ï¼ŒåŠ¨æ€æ‹¼æ¥å‡ºè¢«æ“ä½œæ–‡ä»¶çš„å®Œæ•´è·¯å¾„</li><li>è§£å†³æ–¹æ¡ˆï¼šåœ¨ä½¿ç”¨ fs æ¨¡å—æ“ä½œæ–‡ä»¶æ—¶ï¼Œç›´æ¥æä¾›å®Œæ•´çš„è·¯å¾„ï¼Œä»è€Œé˜²æ­¢è·¯å¾„åŠ¨æ€æ‹¼æ¥çš„é—®é¢˜</li><li><code>__dirname</code> è·å–æ–‡ä»¶æ‰€å¤„çš„ç»å¯¹è·¯å¾„</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fs.<span class="title function_">readFile</span>(__dirname + <span class="string">&#x27;/files/1.txt&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>, <span class="keyword">function</span>(<span class="params">err, data</span>) &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="å…¶å®ƒæ“ä½œ"><a href="#å…¶å®ƒæ“ä½œ" class="headerlink" title="å…¶å®ƒæ“ä½œ"></a>å…¶å®ƒæ“ä½œ</h3><p>éªŒè¯è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼š</p><ul><li><code>fs.exists(path, callback)</code></li><li><code>fs.existsSync(path)</code></li></ul><p>è·å–æ–‡ä»¶ä¿¡æ¯ï¼š</p><ul><li><code>fs.stat(path, callback)</code></li><li><code>fs.stat(path)</code></li></ul><p>åˆ é™¤æ–‡ä»¶ï¼š</p><ul><li><code>fs.unlink(path, callback)</code></li><li><code>fs.unlinkSync(path)</code></li></ul><p>åˆ—å‡ºæ–‡ä»¶ï¼š</p><ul><li><code>fs.readdir(path[,options], callback)</code></li><li><code>fs.readdirSync(path[, options])</code></li></ul><p>æˆªæ–­æ–‡ä»¶ï¼š</p><ul><li><code>fs.truncate(path, len, callback)</code></li><li><code>fs.truncateSync(path, len)</code></li></ul><p>å»ºç«‹ç›®å½•ï¼š</p><ul><li><code>fs.mkdir(path[, mode], callback)</code></li><li><code>fs.mkdirSync(path[, mode])</code></li></ul><p>åˆ é™¤ç›®å½•ï¼š</p><ul><li><code>fs.rmdir(path, callback)</code></li><li><code>fs.rmdirSync(path)</code></li></ul><p>é‡å‘½åæ–‡ä»¶å’Œç›®å½•ï¼š</p><ul><li><code>fs.rename(oldPath, newPath, callback)</code></li><li><code>fs.renameSync(oldPath, newPath)</code></li></ul><p>ç›‘è§†æ–‡ä»¶æ›´æ”¹ï¼š</p><ul><li><code>fs.watchFile(filename[, options], listener)</code></li></ul><h2 id="path-è·¯å¾„æ¨¡å—"><a href="#path-è·¯å¾„æ¨¡å—" class="headerlink" title="path è·¯å¾„æ¨¡å—"></a>path è·¯å¾„æ¨¡å—</h2><p>path æ¨¡å—æ˜¯ Node.js å®˜æ–¹æä¾›çš„ã€ç”¨æ¥å¤„ç†è·¯å¾„çš„æ¨¡å—ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—çš„æ–¹æ³•å’Œå±æ€§ï¼Œç”¨æ¥æ»¡è¶³ç”¨æˆ·å¯¹è·¯å¾„çš„å¤„ç†éœ€æ±‚ã€‚</p><h3 id="è·¯å¾„æ‹¼æ¥-path-join"><a href="#è·¯å¾„æ‹¼æ¥-path-join" class="headerlink" title="è·¯å¾„æ‹¼æ¥ path.join()"></a>è·¯å¾„æ‹¼æ¥ <code>path.join()</code></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨æ„ ../ ä¼šæŠµæ¶ˆå‰é¢çš„è·¯å¾„</span></span><br><span class="line"><span class="comment">// ./ ä¼šè¢«å¿½ç•¥</span></span><br><span class="line"><span class="keyword">const</span> pathStr = path.<span class="title function_">join</span>(<span class="string">&#x27;/a&#x27;</span>, <span class="string">&#x27;/b/c&#x27;</span>, <span class="string">&#x27;../../&#x27;</span>, <span class="string">&#x27;./d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pathStr) <span class="comment">// \a\d\e</span></span><br><span class="line"></span><br><span class="line">fs.<span class="title function_">readFile</span>(path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;./files/1.txt&#x27;</span>), <span class="string">&#x27;utf8&#x27;</span>, <span class="keyword">function</span> (<span class="params">err, dataStr</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(dataStr)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="è·å–è·¯å¾„ä¸­æ–‡ä»¶å-path-basename"><a href="#è·å–è·¯å¾„ä¸­æ–‡ä»¶å-path-basename" class="headerlink" title="è·å–è·¯å¾„ä¸­æ–‡ä»¶å path.basename()"></a>è·å–è·¯å¾„ä¸­æ–‡ä»¶å <code>path.basename()</code></h3><p>ä½¿ç”¨ <code>path.basename()</code> æ–¹æ³•ï¼Œå¯ä»¥è·å–è·¯å¾„ä¸­çš„æœ€åä¸€éƒ¨åˆ†ï¼Œå¸¸é€šè¿‡è¯¥æ–¹æ³•è·å–è·¯å¾„ä¸­çš„æ–‡ä»¶å</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path.<span class="title function_">basename</span>(path[, ext])</span><br></pre></td></tr></table></figure><ul><li>path: æ–‡ä»¶è·¯å¾„</li><li>ext: æ–‡ä»¶æ‰©å±•å</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„</span></span><br><span class="line"><span class="keyword">const</span> fpath = <span class="string">&#x27;/a/b/c/index.html&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fullName = path.<span class="title function_">basename</span>(fpath)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fullName) <span class="comment">// index.html</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> nameWithoutExt = path.<span class="title function_">basename</span>(fpath, <span class="string">&#x27;.html&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nameWithoutExt) <span class="comment">// index</span></span><br></pre></td></tr></table></figure><h3 id="è·å–è·¯å¾„ä¸­æ–‡ä»¶æ‰©å±•å-path-extname"><a href="#è·å–è·¯å¾„ä¸­æ–‡ä»¶æ‰©å±•å-path-extname" class="headerlink" title="è·å–è·¯å¾„ä¸­æ–‡ä»¶æ‰©å±•å path.extname()"></a>è·å–è·¯å¾„ä¸­æ–‡ä»¶æ‰©å±•å <code>path.extname()</code></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fpath = <span class="string">&#x27;/a/b/c/index.html&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fext = path.<span class="title function_">extname</span>(fpath)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fext) <span class="comment">// .html</span></span><br></pre></td></tr></table></figure><h2 id="http-æ¨¡å—"><a href="#http-æ¨¡å—" class="headerlink" title="http æ¨¡å—"></a>http æ¨¡å—</h2><p>http æ¨¡å—æ˜¯ Node.js å®˜æ–¹æä¾›çš„ã€ç”¨æ¥åˆ›å»º web æœåŠ¡å™¨çš„æ¨¡å—ã€‚</p><h3 id="åˆ›å»ºåŸºæœ¬-Web-æœåŠ¡å™¨"><a href="#åˆ›å»ºåŸºæœ¬-Web-æœåŠ¡å™¨" class="headerlink" title="åˆ›å»ºåŸºæœ¬ Web æœåŠ¡å™¨"></a>åˆ›å»ºåŸºæœ¬ Web æœåŠ¡å™¨</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»º web æœåŠ¡å™¨å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> server = http.<span class="title function_">createServer</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ºæœåŠ¡å™¨å®ä¾‹ç»‘å®š request äº‹ä»¶ï¼Œç›‘å¬å®¢æˆ·ç«¯çš„è¯·æ±‚</span></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&#x27;request&#x27;</span>, <span class="keyword">function</span> (<span class="params">req, res</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> url = req.<span class="property">url</span></span><br><span class="line">  <span class="keyword">const</span> method = req.<span class="property">method</span></span><br><span class="line">  <span class="keyword">const</span> str = <span class="string">`Your request url is <span class="subst">$&#123;url&#125;</span>, and request method is <span class="subst">$&#123;method&#125;</span>`</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(str)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è®¾ç½® Content-Type å“åº”å¤´ï¼Œè§£å†³ä¸­æ–‡ä¹±ç çš„é—®é¢˜</span></span><br><span class="line">  res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;text/html; charset=utf-8&#x27;</span>)</span><br><span class="line">  <span class="comment">// å‘å®¢æˆ·ç«¯å“åº”å†…å®¹</span></span><br><span class="line">  res.<span class="title function_">end</span>(str)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">8080</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;server running at http://127.0.0.1:8080&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="å®ç°ç®€é™‹è·¯ç”±æ•ˆæœ"><a href="#å®ç°ç®€é™‹è·¯ç”±æ•ˆæœ" class="headerlink" title="å®ç°ç®€é™‹è·¯ç”±æ•ˆæœ"></a>å®ç°ç®€é™‹è·¯ç”±æ•ˆæœ</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> server = http.<span class="title function_">createServer</span>()</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">on</span>(<span class="string">&#x27;request&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> url = req.<span class="property">url</span></span><br><span class="line">  <span class="comment">// è®¾ç½®é»˜è®¤çš„å“åº”å†…å®¹ä¸º 404 Not found</span></span><br><span class="line">  <span class="keyword">let</span> content = <span class="string">&#x27;&lt;h1&gt;404 Not found!&lt;/h1&gt;&#x27;</span></span><br><span class="line">  <span class="comment">// åˆ¤æ–­ç”¨æˆ·è¯·æ±‚çš„æ˜¯å¦ä¸º / æˆ– /index.html é¦–é¡µ</span></span><br><span class="line">  <span class="comment">// åˆ¤æ–­ç”¨æˆ·è¯·æ±‚çš„æ˜¯å¦ä¸º /about.html å…³äºé¡µé¢</span></span><br><span class="line">  <span class="keyword">if</span> (url === <span class="string">&#x27;/&#x27;</span> || url === <span class="string">&#x27;/index.html&#x27;</span>) &#123;</span><br><span class="line">    content = <span class="string">&#x27;&lt;h1&gt;é¦–é¡µ&lt;/h1&gt;&#x27;</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (url === <span class="string">&#x27;/about.html&#x27;</span>) &#123;</span><br><span class="line">    content = <span class="string">&#x27;&lt;h1&gt;å…³äºé¡µé¢&lt;/h1&gt;&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;text/html; charset=utf-8&#x27;</span>)</span><br><span class="line">  res.<span class="title function_">end</span>(content)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(<span class="number">80</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;server running at http://127.0.0.1&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="headerlink" title="æ¨¡å—åŒ–"></a>æ¨¡å—åŒ–</h2><h3 id="æ¨¡å—åŒ–æ¦‚å¿µ"><a href="#æ¨¡å—åŒ–æ¦‚å¿µ" class="headerlink" title="æ¨¡å—åŒ–æ¦‚å¿µ"></a>æ¨¡å—åŒ–æ¦‚å¿µ</h3><ul><li>æ¨¡å—åŒ–æ˜¯æŒ‡è§£å†³ä¸€ä¸ªå¤æ‚é—®é¢˜æ—¶ï¼Œè‡ªé¡¶å‘ä¸‹é€å±‚æŠŠç³»ç»Ÿåˆ’åˆ†ä¸ºè‹¥å¹²æ¨¡å—çš„è¿‡ç¨‹ï¼Œæ¨¡å—æ˜¯å¯ç»„åˆã€åˆ†è§£å’Œæ›´æ¢çš„å•å…ƒã€‚</li><li>æ¨¡å—åŒ–å¯æé«˜ä»£ç çš„å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå®ç°æŒ‰éœ€åŠ è½½ã€‚</li><li>æ¨¡å—åŒ–è§„èŒƒæ˜¯å¯¹ä»£ç è¿›è¡Œæ¨¡å—åŒ–æ‹†åˆ†å’Œç»„åˆæ—¶éœ€è¦éµå®ˆçš„è§„åˆ™ï¼Œå¦‚ä½¿ç”¨ä½•ç§è¯­æ³•æ ¼å¼å¼•ç”¨æ¨¡å—å’Œå‘å¤–æš´éœ²æˆå‘˜ã€‚</li></ul><h3 id="Node-js-ä¸­æ¨¡å—çš„åˆ†ç±»"><a href="#Node-js-ä¸­æ¨¡å—çš„åˆ†ç±»" class="headerlink" title="Node.js ä¸­æ¨¡å—çš„åˆ†ç±»"></a>Node.js ä¸­æ¨¡å—çš„åˆ†ç±»</h3><ul><li>å†…ç½®æ¨¡å—</li><li>è‡ªå®šä¹‰æ¨¡å—</li><li>ç¬¬ä¸‰æ–¹æ¨¡å—</li></ul><h3 id="Node-js-ä¸­çš„æ¨¡å—ä½œç”¨åŸŸ"><a href="#Node-js-ä¸­çš„æ¨¡å—ä½œç”¨åŸŸ" class="headerlink" title="Node.js ä¸­çš„æ¨¡å—ä½œç”¨åŸŸ"></a>Node.js ä¸­çš„æ¨¡å—ä½œç”¨åŸŸ</h3><ul><li>å’Œå‡½æ•°ä½œç”¨åŸŸç±»ä¼¼ï¼Œåœ¨è‡ªå®šä¹‰æ¨¡å—ä¸­å®šä¹‰çš„å˜é‡ã€æ–¹æ³•ç­‰æˆå‘˜ï¼Œåªèƒ½åœ¨å½“å‰æ¨¡å—å†…è¢«è®¿é—®ï¼Œè¿™ç§æ¨¡å—çº§åˆ«çš„è®¿é—®é™åˆ¶ï¼Œå«åšæ¨¡å—ä½œç”¨åŸŸ</li><li>é˜²æ­¢å…¨å±€å˜é‡æ±¡æŸ“</li></ul><h3 id="æ¨¡å—ä½œç”¨åŸŸçš„æˆå‘˜"><a href="#æ¨¡å—ä½œç”¨åŸŸçš„æˆå‘˜" class="headerlink" title="æ¨¡å—ä½œç”¨åŸŸçš„æˆå‘˜"></a>æ¨¡å—ä½œç”¨åŸŸçš„æˆå‘˜</h3><ul><li>è‡ªå®šä¹‰æ¨¡å—ä¸­éƒ½æœ‰ä¸€ä¸ª <code>module</code> å¯¹è±¡ï¼Œå­˜å‚¨äº†å’Œå½“å‰æ¨¡å—æœ‰å…³çš„ä¿¡æ¯</li><li>åœ¨è‡ªå®šä¹‰æ¨¡å—ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>module.exports</code> å¯¹è±¡ï¼Œå°†æ¨¡å—å†…çš„æˆå‘˜å…±äº«å‡ºå»ï¼Œä¾›å¤–ç•Œä½¿ç”¨ã€‚å¯¼å…¥è‡ªå®šä¹‰æ¨¡å—æ—¶ï¼Œå¾—åˆ°çš„å°±æ˜¯ <code>module.exports</code> æŒ‡å‘çš„å¯¹è±¡ã€‚</li><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>exports</code> å’Œ <code>module.exports</code> æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚æœ€ç»ˆå…±äº«çš„ç»“æœï¼Œä»¥ <code>module.exports</code> æŒ‡å‘çš„å¯¹è±¡ä¸ºå‡†ã€‚</li></ul><h3 id="CommonJS-æ¨¡å—åŒ–è§„èŒƒ"><a href="#CommonJS-æ¨¡å—åŒ–è§„èŒƒ" class="headerlink" title="CommonJS æ¨¡å—åŒ–è§„èŒƒ"></a>CommonJS æ¨¡å—åŒ–è§„èŒƒ</h3><ul><li>æ¯ä¸ªæ¨¡å—å†…éƒ¨ï¼Œ<code>module</code> å˜é‡ä»£è¡¨å½“å‰æ¨¡å—</li><li><code>module</code> å˜é‡æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œ<code>module.exports</code> æ˜¯å¯¹å¤–çš„æ¥å£</li><li>åŠ è½½æŸä¸ªæ¨¡å—å³åŠ è½½è¯¥æ¨¡å—çš„ <code>module.exports</code> å±æ€§</li></ul><h3 id="æ¨¡å—åŠ è½½æœºåˆ¶"><a href="#æ¨¡å—åŠ è½½æœºåˆ¶" class="headerlink" title="æ¨¡å—åŠ è½½æœºåˆ¶"></a>æ¨¡å—åŠ è½½æœºåˆ¶</h3><p>æ¨¡å—ç¬¬ä¸€æ¬¡åŠ è½½åä¼šè¢«ç¼“å­˜ï¼Œå³å¤šæ¬¡è°ƒç”¨ <code>require()</code> ä¸ä¼šå¯¼è‡´æ¨¡å—çš„ä»£ç è¢«æ‰§è¡Œå¤šæ¬¡ï¼Œæé«˜æ¨¡å—åŠ è½½æ•ˆç‡ã€‚</p><h4 id="å†…ç½®æ¨¡å—åŠ è½½"><a href="#å†…ç½®æ¨¡å—åŠ è½½" class="headerlink" title="å†…ç½®æ¨¡å—åŠ è½½"></a>å†…ç½®æ¨¡å—åŠ è½½</h4><p>å†…ç½®æ¨¡å—åŠ è½½ä¼˜å…ˆçº§æœ€é«˜ã€‚</p><h4 id="è‡ªå®šä¹‰æ¨¡å—åŠ è½½"><a href="#è‡ªå®šä¹‰æ¨¡å—åŠ è½½" class="headerlink" title="è‡ªå®šä¹‰æ¨¡å—åŠ è½½"></a>è‡ªå®šä¹‰æ¨¡å—åŠ è½½</h4><p>åŠ è½½è‡ªå®šä¹‰æ¨¡å—æ—¶ï¼Œè·¯å¾„è¦ä»¥ <code>./</code> æˆ– <code>../</code> å¼€å¤´ï¼Œå¦åˆ™ä¼šä½œä¸ºå†…ç½®æ¨¡å—æˆ–ç¬¬ä¸‰æ–¹æ¨¡å—åŠ è½½ã€‚</p><p>å¯¼å…¥è‡ªå®šä¹‰æ¨¡å—æ—¶ï¼Œè‹¥çœç•¥æ–‡ä»¶æ‰©å±•åï¼Œåˆ™ Node.js ä¼šæŒ‰é¡ºåºå°è¯•åŠ è½½æ–‡ä»¶ï¼š</p><ul><li>æŒ‰ç¡®åˆ‡çš„æ–‡ä»¶ååŠ è½½</li><li>è¡¥å…¨ <code>.js</code> æ‰©å±•ååŠ è½½</li><li>è¡¥å…¨ <code>.json</code> æ‰©å±•ååŠ è½½</li><li>è¡¥å…¨ <code>.node</code> æ‰©å±•ååŠ è½½</li><li>æŠ¥é”™</li></ul><h4 id="ç¬¬ä¸‰æ–¹æ¨¡å—åŠ è½½"><a href="#ç¬¬ä¸‰æ–¹æ¨¡å—åŠ è½½" class="headerlink" title="ç¬¬ä¸‰æ–¹æ¨¡å—åŠ è½½"></a>ç¬¬ä¸‰æ–¹æ¨¡å—åŠ è½½</h4><ul><li>è‹¥å¯¼å…¥ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œ Node.js ä¼šä»<strong>å½“å‰æ¨¡å—çš„çˆ¶ç›®å½•</strong>å¼€å§‹ï¼Œå°è¯•ä» <code>/node_modules</code> æ–‡ä»¶å¤¹ä¸­åŠ è½½ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚</li><li>å¦‚æœæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œåˆ™ç§»åŠ¨åˆ°å†<strong>ä¸Šä¸€å±‚çˆ¶ç›®å½•</strong>ä¸­ï¼Œè¿›è¡ŒåŠ è½½ï¼Œç›´åˆ°<strong>æ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•</strong>ã€‚</li></ul><p>ä¾‹å¦‚ï¼Œå‡è®¾åœ¨ <code>C:\Users\bruce\project\foo.js</code> æ–‡ä»¶é‡Œè°ƒç”¨äº† <code>require(&#39;tools&#39;)</code>ï¼Œåˆ™ Node.js ä¼šæŒ‰ä»¥ä¸‹é¡ºåºæŸ¥æ‰¾ï¼š</p><ul><li><code>C:\Users\bruce\project\node_modules\tools</code></li><li><code>C:\Users\bruce\node_modules\tools</code></li><li><code>C:\Users\node_modules\tools</code></li><li><code>C:\node_modules\tools</code></li></ul><h4 id="ç›®å½•ä½œä¸ºæ¨¡å—åŠ è½½"><a href="#ç›®å½•ä½œä¸ºæ¨¡å—åŠ è½½" class="headerlink" title="ç›®å½•ä½œä¸ºæ¨¡å—åŠ è½½"></a>ç›®å½•ä½œä¸ºæ¨¡å—åŠ è½½</h4><p>å½“æŠŠç›®å½•ä½œä¸ºæ¨¡å—æ ‡è¯†ç¬¦è¿›è¡ŒåŠ è½½çš„æ—¶å€™ï¼Œæœ‰ä¸‰ç§åŠ è½½æ–¹å¼ï¼š</p><ul><li>åœ¨è¢«åŠ è½½çš„ç›®å½•ä¸‹æŸ¥æ‰¾ <code>package.json</code> çš„æ–‡ä»¶ï¼Œå¹¶å¯»æ‰¾ <code>main</code> å±æ€§ï¼Œä½œä¸º <code>require()</code> åŠ è½½çš„å…¥å£</li><li>å¦‚æœæ²¡æœ‰ <code>package.json</code> æ–‡ä»¶ï¼Œæˆ–è€… <code>main</code> å…¥å£ä¸å­˜åœ¨æˆ–æ— æ³•è§£æï¼Œåˆ™ Node.js å°†ä¼šè¯•å›¾åŠ è½½ç›®å½•ä¸‹çš„ <code>index.js</code> æ–‡ä»¶ã€‚</li><li>è‹¥å¤±è´¥åˆ™æŠ¥é”™</li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>var that =this çš„ç”¨æ³•è¯¦è§£</title>
      <link href="/2023/09/08/var%20that%20=%20this%E7%9A%84%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/"/>
      <url>/2023/09/08/var%20that%20=%20this%E7%9A%84%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>åœ¨å°ç¨‹åºå¼€å‘ä¸­ï¼Œvar that &#x3D;thisçš„å£°æ˜å¾ˆå¸¸è§ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä»£ç å¦‚ä¸‹ï¼<br>ç¤ºä¾‹ä»£ç 1</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//index.js  </span></span><br><span class="line"><span class="title class_">Page</span>(&#123;  </span><br><span class="line">   </span><br><span class="line"> <span class="attr">data</span>: &#123;  </span><br><span class="line"> <span class="attr">toastHidden</span>: <span class="literal">true</span>,  </span><br><span class="line"> &#125;,  </span><br><span class="line">   </span><br><span class="line"> <span class="attr">loadData</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;  </span><br><span class="line">  <span class="keyword">var</span> that = <span class="variable language_">this</span><span class="comment">//è¿™é‡Œå£°æ˜äº†thatï¼›å°†thiså­˜åœ¨thaté‡Œé¢  </span></span><br><span class="line">  wx.<span class="title function_">request</span>(&#123;  </span><br><span class="line">   <span class="attr">url</span>: <span class="string">&#x27;test.php&#x27;</span>,  </span><br><span class="line">   <span class="attr">data</span>: &#123;<span class="attr">a</span>: <span class="string">&#x27;a&#x27;</span>, <span class="attr">b</span>: <span class="string">&#x27;b&#x27;</span>&#125;,  </span><br><span class="line">   <span class="attr">header</span>: &#123;  </span><br><span class="line">   <span class="string">&#x27;content-type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span> </span><br><span class="line">   &#125;,  </span><br><span class="line">   <span class="title function_">success</span>(<span class="params">res</span>) &#123;  </span><br><span class="line">     that.<span class="title function_">setData</span>(&#123; <span class="attr">toastHidden</span>: <span class="literal">false</span> &#125;) <span class="comment">//è¿™é‡Œä½¿ç”¨äº†thatï¼Œè¿™æ ·å°±å¯ä»¥è·å–Page(&#123;&#125;)å¯¹è±¡  </span></span><br><span class="line">   &#125;,  </span><br><span class="line">  &#125;)  </span><br><span class="line"> &#125;  </span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨ä»£ç ä¸­ç¬¬9è¡Œå£°æ˜äº†var that &#x3D;thisï¼›ç¬¬17è¡Œä½¿ç”¨äº†thatã€‚</p><p>å¦‚æœä¸å£°æ˜var that &#x3D;thisï¼Œä¸”thatæ”¹æˆthisï¼Œä»£ç å¦‚ä¸‹ï¼</p><p>ç¤ºä¾‹ä»£ç 2</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//index.js  </span></span><br><span class="line"> <span class="title class_">Page</span>(&#123;  </span><br><span class="line">  </span><br><span class="line"> <span class="attr">data</span>: &#123;  </span><br><span class="line">  <span class="attr">toastHidden</span>: <span class="literal">true</span>,  </span><br><span class="line"> &#125;,  </span><br><span class="line">  </span><br><span class="line"> <span class="attr">loadData</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;  </span><br><span class="line">  wx.<span class="title function_">request</span>(&#123;  </span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;test.php&#x27;</span>,  </span><br><span class="line">  <span class="attr">data</span>: &#123;<span class="attr">a</span>: <span class="string">&#x27;a&#x27;</span>, <span class="attr">b</span>: <span class="string">&#x27;b&#x27;</span>&#125;,  </span><br><span class="line">  <span class="attr">header</span>: &#123;  </span><br><span class="line">   <span class="string">&#x27;content-type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span> </span><br><span class="line">  &#125;,  </span><br><span class="line">  <span class="title function_">success</span>(<span class="params">res</span>) &#123;  </span><br><span class="line">   <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123; <span class="attr">toastHidden</span>: <span class="literal">false</span> &#125;)  </span><br><span class="line">   &#125;,  </span><br><span class="line">  &#125;)  </span><br><span class="line"> &#125;  </span><br><span class="line">  </span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ­¤æ—¶è¿è¡Œä»£ç å°±ä¼šæŠ¥ä»¥ä¸‹é”™è¯¯ï¼</p><p><img src="https://img-blog.csdnimg.cn/20200418225150295.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMyNTM0NDQx,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ä»æŠ¥é”™ä¸­å¾—çŸ¥setDataè¿™ä¸ªå±æ€§è¯»ä¸åˆ°ï¼Œä¸ºä½•è¯»ä¸åˆ°ï¼Ÿè¿™è·Ÿthiså…³é”®å­—çš„ä½œç”¨åŸŸæœ‰å…³ï¼</p><p>thisä½œç”¨åŸŸåˆ†æï¼š</p><p>1.åœ¨Page({})é‡Œé¢ï¼Œthiså…³é”®å­—æŒ‡ä»£Page({})æ•´ä¸ªå¯¹è±¡</p><p>2.å› æ­¤å¯ä»¥é€šè¿‡thiså…³é”®å­—è®¿é—®æˆ–è€…é‡æ–°è®¾ç½®Page({})é‡Œdataçš„å˜é‡</p><p>3.ç„¶è€Œåœ¨loadDataå‡½æ•°ä¸­ä½¿ç”¨äº†wx.request({})APIè¿™ä¸ªæ–¹æ³•å¯¼è‡´åœ¨wx.request({})é‡Œæ²¡åŠæ³•ä½¿ç”¨thisæ¥è·å–Page({})å¯¹è±¡</p><p>4.è™½ç„¶åœ¨wx.request({})é‡Œæ²¡æ³•ä½¿ç”¨thisè·å–Page({})å¯¹è±¡ï¼Œä½†æ˜¯å¯ä»¥åœ¨wx.request({})å¤–é¢å…ˆæŠŠthiså­˜åœ¨æŸä¸ªå˜é‡ä¸­ï¼Œæ‰€ä»¥å°±æœ‰äº†var that &#x3D;this è¿™ä¸ªå£°æ˜ã€‚æ­¤æ—¶thatæŒ‡ä»£Page({})æ•´ä¸ªå¯¹è±¡ï¼Œè¿™æ ·å­å°±å¯ä»¥åœ¨wx.request({})é‡Œä½¿ç”¨thatè®¿é—®æˆ–è€…é‡æ–°è®¾ç½®Page({})é‡Œdataçš„å˜é‡</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¾®ä¿¡å°ç¨‹åº </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å°ç¨‹åºæ›´æ–°æ•°ç»„æ•°æ®ï¼Œé¡µé¢å±•ç¤ºæœªåˆ·æ–°é—®é¢˜</title>
      <link href="/2023/09/08/2023-09-08-%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%9B%B4%E6%96%B0%E6%95%B0%E7%BB%84%E6%95%B0%E6%8D%AE%EF%BC%8C%E9%A1%B5%E9%9D%A2%E5%B1%95%E7%A4%BA%E6%9C%AA%E5%88%B7%E6%96%B0%E9%97%AE%E9%A2%98/"/>
      <url>/2023/09/08/2023-09-08-%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%9B%B4%E6%96%B0%E6%95%B0%E7%BB%84%E6%95%B0%E6%8D%AE%EF%BC%8C%E9%A1%B5%E9%9D%A2%E5%B1%95%E7%A4%BA%E6%9C%AA%E5%88%B7%E6%96%B0%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="å¾®ä¿¡å°ç¨‹åºæ›´æ–°æ•°ç»„æ•°æ®ï¼Œé¡µé¢å±•ç¤ºæœªåˆ·æ–°é—®é¢˜"><a href="#å¾®ä¿¡å°ç¨‹åºæ›´æ–°æ•°ç»„æ•°æ®ï¼Œé¡µé¢å±•ç¤ºæœªåˆ·æ–°é—®é¢˜" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºæ›´æ–°æ•°ç»„æ•°æ®ï¼Œé¡µé¢å±•ç¤ºæœªåˆ·æ–°é—®é¢˜"></a>å¾®ä¿¡å°ç¨‹åºæ›´æ–°æ•°ç»„æ•°æ®ï¼Œé¡µé¢å±•ç¤ºæœªåˆ·æ–°é—®é¢˜</h2><p>åœ¨å¾®ä¿¡å°ç¨‹åºä¸­ï¼Œæ•°ç»„ arraylist é‡Œé¢æœ‰å…«ä¸ªå…ƒç´ ï¼ˆæ¯ä¸ªå…ƒç´ æ˜¯å¯¹è±¡ï¼‰ï¼›ä½¿ç”¨this.setData({}) æƒ³å‘è¯¥æ•°ç»„é‡Œé¢æ·»åŠ æˆ–è€…ä¿®æ”¹ä¸€ä¸ªå…ƒç´ ï¼›æ›´æ”¹å…ƒç´ åæ•°ç»„ arraylist æ˜¯æ”¹å˜äº†ï¼Œä½†æ˜¯é¡µé¢æ²¡æœ‰é‡æ–°æ¸²æŸ“ï¼Œå…·ä½“åŸå› å¯èƒ½ä¸vueä¸­æ”¹å˜æ•°ç»„é¡µé¢ä¸æ¸²æŸ“çš„æƒ…å†µç±»ä¼¼ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–æ•°ç»„</span></span><br><span class="line"> <span class="keyword">let</span> arraylist = <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">arraylist</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿®æ”¹æ•°æ®</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">arraylist</span>[index].<span class="property">type</span>=res</span><br><span class="line"> </span><br><span class="line"><span class="comment">//æ–°å»ºä¸€ä¸ªæ•°ç»„ï¼Œåœ¨è¿›è¡ŒsetData</span></span><br><span class="line"><span class="keyword">var</span> newArraylist = <span class="variable language_">this</span>.<span class="property">arraylist</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// ä½¿ç”¨setDataé‡æ–°æ¸²æŸ“é¡µé¢ï¼Œæ”¹å˜è§†å›¾å±‚</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">    <span class="attr">leaveWordList</span>: newArraylist</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¾®ä¿¡å°ç¨‹åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å°ç¨‹åºæ›´æ–°æ•°ç»„æ•°æ®ï¼Œé¡µé¢å±•ç¤ºæœªåˆ·æ–°é—®é¢˜</title>
      <link href="/2023/09/08/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/2023-09-08-%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%9B%B4%E6%96%B0%E6%95%B0%E7%BB%84%E6%95%B0%E6%8D%AE%EF%BC%8C%E9%A1%B5%E9%9D%A2%E5%B1%95%E7%A4%BA%E6%9C%AA%E5%88%B7%E6%96%B0%E9%97%AE%E9%A2%98/"/>
      <url>/2023/09/08/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/2023-09-08-%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%9B%B4%E6%96%B0%E6%95%B0%E7%BB%84%E6%95%B0%E6%8D%AE%EF%BC%8C%E9%A1%B5%E9%9D%A2%E5%B1%95%E7%A4%BA%E6%9C%AA%E5%88%B7%E6%96%B0%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="å¾®ä¿¡å°ç¨‹åºæ›´æ–°æ•°ç»„æ•°æ®ï¼Œé¡µé¢å±•ç¤ºæœªåˆ·æ–°é—®é¢˜"><a href="#å¾®ä¿¡å°ç¨‹åºæ›´æ–°æ•°ç»„æ•°æ®ï¼Œé¡µé¢å±•ç¤ºæœªåˆ·æ–°é—®é¢˜" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºæ›´æ–°æ•°ç»„æ•°æ®ï¼Œé¡µé¢å±•ç¤ºæœªåˆ·æ–°é—®é¢˜"></a>å¾®ä¿¡å°ç¨‹åºæ›´æ–°æ•°ç»„æ•°æ®ï¼Œé¡µé¢å±•ç¤ºæœªåˆ·æ–°é—®é¢˜</h2><p>åœ¨å¾®ä¿¡å°ç¨‹åºä¸­ï¼Œæ•°ç»„ arraylist é‡Œé¢æœ‰å…«ä¸ªå…ƒç´ ï¼ˆæ¯ä¸ªå…ƒç´ æ˜¯å¯¹è±¡ï¼‰ï¼›ä½¿ç”¨this.setData({}) æƒ³å‘è¯¥æ•°ç»„é‡Œé¢æ·»åŠ æˆ–è€…ä¿®æ”¹ä¸€ä¸ªå…ƒç´ ï¼›æ›´æ”¹å…ƒç´ åæ•°ç»„ arraylist æ˜¯æ”¹å˜äº†ï¼Œä½†æ˜¯é¡µé¢æ²¡æœ‰é‡æ–°æ¸²æŸ“ï¼Œå…·ä½“åŸå› å¯èƒ½ä¸vueä¸­æ”¹å˜æ•°ç»„é¡µé¢ä¸æ¸²æŸ“çš„æƒ…å†µç±»ä¼¼ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–æ•°ç»„</span></span><br><span class="line"> <span class="keyword">let</span> arraylist = <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">arraylist</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿®æ”¹æ•°æ®</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">arraylist</span>[index].<span class="property">type</span>=res</span><br><span class="line"> </span><br><span class="line"><span class="comment">//æ–°å»ºä¸€ä¸ªæ•°ç»„ï¼Œåœ¨è¿›è¡ŒsetData</span></span><br><span class="line"><span class="keyword">var</span> newArraylist = <span class="variable language_">this</span>.<span class="property">arraylist</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// ä½¿ç”¨setDataé‡æ–°æ¸²æŸ“é¡µé¢ï¼Œæ”¹å˜è§†å›¾å±‚</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">    <span class="attr">leaveWordList</span>: newArraylist</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¾®ä¿¡å°ç¨‹åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>axiosä»‹ç»ä¸ä½¿ç”¨è¯´æ˜</title>
      <link href="/2023/09/08/js/axios%E4%BB%8B%E7%BB%8D%E4%B8%8E%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/"/>
      <url>/2023/09/08/js/axios%E4%BB%8B%E7%BB%8D%E4%B8%8E%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/</url>
      
        <content type="html"><![CDATA[<h2 id="axiosä»‹ç»ä¸ä½¿ç”¨è¯´æ˜-axiosä¸­æ–‡æ–‡æ¡£"><a href="#axiosä»‹ç»ä¸ä½¿ç”¨è¯´æ˜-axiosä¸­æ–‡æ–‡æ¡£" class="headerlink" title="axiosä»‹ç»ä¸ä½¿ç”¨è¯´æ˜ axiosä¸­æ–‡æ–‡æ¡£"></a>axiosä»‹ç»ä¸ä½¿ç”¨è¯´æ˜ axiosä¸­æ–‡æ–‡æ¡£</h2><p>æœ¬å‘¨åœ¨åšä¸€ä¸ªä½¿ç”¨vuejsçš„å‰ç«¯é¡¹ç›®ï¼Œè®¿é—®åç«¯æœåŠ¡ä½¿ç”¨axiosåº“ï¼Œè¿™é‡Œå¯¹ç…§å®˜æ–¹æ–‡æ¡£ï¼Œç®€å•è®°å½•ä¸‹ï¼Œä¹Ÿæ–¹ä¾¿å¤§å®¶å‚è€ƒã€‚</p><p>Axios æ˜¯ä¸€ä¸ªåŸºäº <a href="https://cloud.tencent.com/developer/tools/blog-entry?target=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a> çš„ HTTP åº“ï¼Œå¯ä»¥ç”¨åœ¨æµè§ˆå™¨å’Œ node.js ä¸­ã€‚githubå¼€æºåœ°å€<a href="https://cloud.tencent.com/developer/tools/blog-entry?target=https://github.com/axios/axios">https://github.com/axios/axios</a></p><h2 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h2><ul><li>åœ¨æµè§ˆå™¨ä¸­åˆ›å»º <a href="https://cloud.tencent.com/developer/tools/blog-entry?target=https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest">XMLHttpRequests</a></li><li>åœ¨ node.js åˆ™åˆ›å»º <a href="https://cloud.tencent.com/developer/tools/blog-entry?target=http://nodejs.org/api/http.html">http</a> è¯·æ±‚</li><li>æ”¯æŒ <a href="https://cloud.tencent.com/developer/tools/blog-entry?target=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a> API</li><li>æ”¯æŒæ‹¦æˆªè¯·æ±‚å’Œå“åº”</li><li>è½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ®</li><li>å–æ¶ˆè¯·æ±‚</li><li>è‡ªåŠ¨è½¬æ¢ JSON æ•°æ®</li><li>å®¢æˆ·ç«¯æ”¯æŒé˜²å¾¡ <a href="https://cloud.tencent.com/developer/tools/blog-entry?target=http://en.wikipedia.org/wiki/Cross-site_request_forgery">XSRF</a></li></ul><h2 id="æµè§ˆå™¨æ”¯æŒ"><a href="#æµè§ˆå™¨æ”¯æŒ" class="headerlink" title="æµè§ˆå™¨æ”¯æŒ"></a>æµè§ˆå™¨æ”¯æŒ</h2><p>æ”¯æŒChromeã€ç«ç‹ã€Edgeã€IE8+ç­‰æµè§ˆå™¨</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>ä½¿ç”¨ npmå®‰è£…:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install axios</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ bower:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bower install axios</span><br></pre></td></tr></table></figure><p>æˆ–è€…ç›´æ¥ä½¿ç”¨ cdn:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;https://unpkg.com/axios/dist/axios.min.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨ä¸¾ä¾‹"><a href="#ä½¿ç”¨ä¸¾ä¾‹" class="headerlink" title="ä½¿ç”¨ä¸¾ä¾‹"></a>ä½¿ç”¨ä¸¾ä¾‹</h2><p>æ‰§è¡Œ <code>GET</code> è¯·æ±‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸ºç»™å®š ID çš„ user åˆ›å»ºè¯·æ±‚</span></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;/user?ID=12345&#x27;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// GET å‚æ•°å¯ä»¥æ”¾åˆ°paramsé‡Œï¼ˆæ¨èï¼‰</span></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;/user&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">params</span>: &#123;</span><br><span class="line">      <span class="attr">ID</span>: <span class="number">12345</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿˜å¯ä»¥ä½¿ç”¨ECMAScript 2017é‡Œçš„async/awaitï¼Œæ·»åŠ  `async` keyword to your outer function/method.</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getUser</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;/user?ID=12345&#x27;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p> async&#x2F;await æ˜¯ ECMAScript 2017æ–°æä¾›çš„åŠŸèƒ½ ï¼ŒInternet Explorer å’Œä¸€äº›æ—§çš„æµè§ˆå™¨å¹¶ä¸æ”¯æŒ </p></blockquote><p>æ‰§è¡Œ <code>POST</code> è¯·æ±‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">post</span>(<span class="string">&#x27;/user&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">firstName</span>: <span class="string">&#x27;Fred&#x27;</span>,</span><br><span class="line">    <span class="attr">lastName</span>: <span class="string">&#x27;Flintstone&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå¤šä¸ªå¹¶å‘è¯·æ±‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getUserAccount</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;/user/12345&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getUserPermissions</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;/user/12345/permissions&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">axios.<span class="title function_">all</span>([<span class="title function_">getUserAccount</span>(), <span class="title function_">getUserPermissions</span>()])</span><br><span class="line">  .<span class="title function_">then</span>(axios.<span class="title function_">spread</span>(<span class="keyword">function</span> (<span class="params">acct, perms</span>) &#123;</span><br><span class="line">    <span class="comment">// ä¸¤ä¸ªè¯·æ±‚ç°åœ¨éƒ½æ‰§è¡Œå®Œæˆ</span></span><br><span class="line">  &#125;));</span><br></pre></td></tr></table></figure><h2 id="axios-API"><a href="#axios-API" class="headerlink" title="axios API"></a>axios API</h2><p>å¯ä»¥é€šè¿‡å‘ <code>axios</code> ä¼ é€’ç›¸å…³é…ç½®æ¥åˆ›å»ºè¯·æ±‚</p><h5 id="axios-config"><a href="#axios-config" class="headerlink" title="axios(config)"></a>axios(config)</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‘é€ POST è¯·æ±‚</span></span><br><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;/user/12345&#x27;</span>,</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">firstName</span>: <span class="string">&#x27;Fred&#x27;</span>,</span><br><span class="line">    <span class="attr">lastName</span>: <span class="string">&#x27;Flintstone&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//  GET è¯·æ±‚è¿œç¨‹å›¾ç‰‡</span></span><br><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">  <span class="attr">method</span>:<span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">  <span class="attr">url</span>:<span class="string">&#x27;http://bit.ly/2mTM3nY&#x27;</span>,</span><br><span class="line">  <span class="attr">responseType</span>:<span class="string">&#x27;stream&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">response</span>) &#123;</span><br><span class="line">  response.<span class="property">data</span>.<span class="title function_">pipe</span>(fs.<span class="title function_">createWriteStream</span>(<span class="string">&#x27;ada_lovelace.jpg&#x27;</span>))</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h5 id="axios-url-config"><a href="#axios-url-config" class="headerlink" title="axios(url[, config])"></a>axios(url[, config])</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‘é€ GET è¯·æ±‚ï¼ˆé»˜è®¤çš„æ–¹æ³•ï¼‰</span></span><br><span class="line"><span class="title function_">axios</span>(<span class="string">&#x27;/user/12345&#x27;</span>);</span><br></pre></td></tr></table></figure><h3 id="è¯·æ±‚æ–¹æ³•çš„åˆ«å"><a href="#è¯·æ±‚æ–¹æ³•çš„åˆ«å" class="headerlink" title="è¯·æ±‚æ–¹æ³•çš„åˆ«å"></a>è¯·æ±‚æ–¹æ³•çš„åˆ«å</h3><p>ä¸ºæ–¹ä¾¿ä½¿ç”¨ï¼Œå®˜æ–¹ä¸ºæ‰€æœ‰æ”¯æŒçš„è¯·æ±‚æ–¹æ³•æä¾›äº†åˆ«åï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨åˆ«åæ¥å‘èµ·è¯·æ±‚ï¼š</p><h5 id="axios-request-config"><a href="#axios-request-config" class="headerlink" title="axios.request(config)"></a>axios.request(config)</h5><h5 id="axios-get-url-config"><a href="#axios-get-url-config" class="headerlink" title="axios.get(url[, config])"></a>axios.get(url[, config])</h5><h5 id="axios-delete-url-config"><a href="#axios-delete-url-config" class="headerlink" title="axios.delete(url[, config])"></a>axios.delete(url[, config])</h5><h5 id="axios-head-url-config"><a href="#axios-head-url-config" class="headerlink" title="axios.head(url[, config])"></a>axios.head(url[, config])</h5><h5 id="axios-post-url-data-config"><a href="#axios-post-url-data-config" class="headerlink" title="axios.post(url[, data[, config]])"></a>axios.post(url[, data[, config]])</h5><h5 id="axios-put-url-data-config"><a href="#axios-put-url-data-config" class="headerlink" title="axios.put(url[, data[, config]])"></a>axios.put(url[, data[, config]])</h5><h5 id="axios-patch-url-data-config"><a href="#axios-patch-url-data-config" class="headerlink" title="axios.patch(url[, data[, config]])"></a>axios.patch(url[, data[, config]])</h5><h6 id="NOTE"><a href="#NOTE" class="headerlink" title="NOTE"></a>NOTE</h6><p>åœ¨ä½¿ç”¨åˆ«åæ–¹æ³•æ—¶ï¼Œ <code>url</code>ã€<code>method</code>ã€<code>data</code> è¿™äº›å±æ€§éƒ½ä¸å¿…åœ¨é…ç½®ä¸­æŒ‡å®šã€‚</p><h3 id="å¹¶å‘"><a href="#å¹¶å‘" class="headerlink" title="å¹¶å‘"></a>å¹¶å‘</h3><p>å¤„ç†å¹¶å‘è¯·æ±‚çš„åŠ©æ‰‹å‡½æ•°</p><h5 id="axios-all-iterable"><a href="#axios-all-iterable" class="headerlink" title="axios.all(iterable)"></a>axios.all(iterable)</h5><h5 id="axios-spread-callback"><a href="#axios-spread-callback" class="headerlink" title="axios.spread(callback)"></a>axios.spread(callback)</h5><h3 id="åˆ›å»ºå®ä¾‹"><a href="#åˆ›å»ºå®ä¾‹" class="headerlink" title="åˆ›å»ºå®ä¾‹"></a>åˆ›å»ºå®ä¾‹</h3><p>å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰é…ç½®æ–°å»ºä¸€ä¸ª axios å®ä¾‹</p><h5 id="axios-create-config"><a href="#axios-create-config" class="headerlink" title="axios.create([config])"></a>axios.create([config])</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> instance = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="attr">baseURL</span>: <span class="string">&#x27;https://some-domain.com/api/&#x27;</span>,</span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">1000</span>,</span><br><span class="line">  <span class="attr">headers</span>: &#123;<span class="string">&#x27;X-Custom-Header&#x27;</span>: <span class="string">&#x27;foobar&#x27;</span>&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="å®ä¾‹æ–¹æ³•"><a href="#å®ä¾‹æ–¹æ³•" class="headerlink" title="å®ä¾‹æ–¹æ³•"></a>å®ä¾‹æ–¹æ³•</h3><p>ä»¥ä¸‹æ˜¯å¯ç”¨çš„å®ä¾‹æ–¹æ³•ã€‚æŒ‡å®šçš„é…ç½®å°†ä¸å®ä¾‹çš„é…ç½®åˆå¹¶</p><h5 id="axios-request-config-1"><a href="#axios-request-config-1" class="headerlink" title="axios#request(config)"></a>axios#request(config)</h5><h5 id="axios-get-url-config-1"><a href="#axios-get-url-config-1" class="headerlink" title="axios#get(url[, config])"></a>axios#get(url[, config])</h5><h5 id="axios-delete-url-config-1"><a href="#axios-delete-url-config-1" class="headerlink" title="axios#delete(url[, config])"></a>axios#delete(url[, config])</h5><h5 id="axios-head-url-config-1"><a href="#axios-head-url-config-1" class="headerlink" title="axios#head(url[, config])"></a>axios#head(url[, config])</h5><h5 id="axios-post-url-data-config-1"><a href="#axios-post-url-data-config-1" class="headerlink" title="axios#post(url[, data[, config]])"></a>axios#post(url[, data[, config]])</h5><h5 id="axios-put-url-data-config-1"><a href="#axios-put-url-data-config-1" class="headerlink" title="axios#put(url[, data[, config]])"></a>axios#put(url[, data[, config]])</h5><h5 id="axios-patch-url-data-config-1"><a href="#axios-patch-url-data-config-1" class="headerlink" title="axios#patch(url[, data[, config]])"></a>axios#patch(url[, data[, config]])</h5><h2 id="è¯·æ±‚é…ç½®é¡¹"><a href="#è¯·æ±‚é…ç½®é¡¹" class="headerlink" title="è¯·æ±‚é…ç½®é¡¹"></a>è¯·æ±‚é…ç½®é¡¹</h2><p>ä¸‹é¢æ˜¯åˆ›å»ºè¯·æ±‚æ—¶å¯ç”¨çš„é…ç½®é€‰é¡¹ï¼Œæ³¨æ„åªæœ‰ <code>url</code> æ˜¯å¿…éœ€çš„ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®š <code>method</code>ï¼Œè¯·æ±‚å°†é»˜è®¤ä½¿ç”¨ <code>get</code> æ–¹æ³•ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// `url` æ˜¯ç”¨äºè¯·æ±‚çš„æœåŠ¡å™¨ URL</span></span><br><span class="line">  <span class="attr">url</span>: <span class="string">&quot;/user&quot;</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `method` æ˜¯åˆ›å»ºè¯·æ±‚æ—¶ä½¿ç”¨çš„æ–¹æ³•</span></span><br><span class="line">  <span class="attr">method</span>: <span class="string">&quot;get&quot;</span>, <span class="comment">// é»˜è®¤æ˜¯ get</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// `baseURL` å°†è‡ªåŠ¨åŠ åœ¨ `url` å‰é¢ï¼Œé™¤é `url` æ˜¯ä¸€ä¸ªç»å¯¹ URLã€‚</span></span><br><span class="line">  <span class="comment">// å®ƒå¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ª `baseURL` ä¾¿äºä¸º axios å®ä¾‹çš„æ–¹æ³•ä¼ é€’ç›¸å¯¹ URL</span></span><br><span class="line">  <span class="attr">baseURL</span>: <span class="string">&quot;https://some-domain.com/api/&quot;</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `transformRequest` å…è®¸åœ¨å‘æœåŠ¡å™¨å‘é€å‰ï¼Œä¿®æ”¹è¯·æ±‚æ•°æ®</span></span><br><span class="line">  <span class="comment">// åªèƒ½ç”¨åœ¨ &quot;PUT&quot;, &quot;POST&quot; å’Œ &quot;PATCH&quot; è¿™å‡ ä¸ªè¯·æ±‚æ–¹æ³•</span></span><br><span class="line">  <span class="comment">// åé¢æ•°ç»„ä¸­çš„å‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ– ArrayBufferï¼Œæˆ– Stream</span></span><br><span class="line">  <span class="attr">transformRequest</span>: [<span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="comment">// å¯¹ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç†</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> data;</span><br><span class="line">  &#125;],</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `transformResponse` åœ¨ä¼ é€’ç»™ then/catch å‰ï¼Œå…è®¸ä¿®æ”¹å“åº”æ•°æ®</span></span><br><span class="line">  <span class="attr">transformResponse</span>: [<span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="comment">// å¯¹ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç†</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> data;</span><br><span class="line">  &#125;],</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `headers` æ˜¯å³å°†è¢«å‘é€çš„è‡ªå®šä¹‰è¯·æ±‚å¤´</span></span><br><span class="line">  <span class="attr">headers</span>: &#123;<span class="string">&quot;X-Requested-With&quot;</span>: <span class="string">&quot;XMLHttpRequest&quot;</span>&#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `params` æ˜¯å³å°†ä¸è¯·æ±‚ä¸€èµ·å‘é€çš„ URL å‚æ•°</span></span><br><span class="line">  <span class="comment">// å¿…é¡»æ˜¯ä¸€ä¸ªæ— æ ¼å¼å¯¹è±¡(plain object)æˆ– URLSearchParams å¯¹è±¡</span></span><br><span class="line">  <span class="attr">params</span>: &#123;</span><br><span class="line">    <span class="attr">ID</span>: <span class="number">12345</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `paramsSerializer` æ˜¯ä¸€ä¸ªè´Ÿè´£ `params` åºåˆ—åŒ–çš„å‡½æ•°</span></span><br><span class="line">  <span class="comment">// (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)</span></span><br><span class="line">  <span class="attr">paramsSerializer</span>: <span class="keyword">function</span>(<span class="params">params</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Qs</span>.<span class="title function_">stringify</span>(params, &#123;<span class="attr">arrayFormat</span>: <span class="string">&quot;brackets&quot;</span>&#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `data` æ˜¯ä½œä¸ºè¯·æ±‚ä¸»ä½“è¢«å‘é€çš„æ•°æ®</span></span><br><span class="line">  <span class="comment">// åªé€‚ç”¨äºè¿™äº›è¯·æ±‚æ–¹æ³• &quot;PUT&quot;, &quot;POST&quot;, å’Œ &quot;PATCH&quot;</span></span><br><span class="line">  <span class="comment">// åœ¨æ²¡æœ‰è®¾ç½® `transformRequest` æ—¶ï¼Œå¿…é¡»æ˜¯ä»¥ä¸‹ç±»å‹ä¹‹ä¸€ï¼š</span></span><br><span class="line">  <span class="comment">// - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams</span></span><br><span class="line">  <span class="comment">// - æµè§ˆå™¨ä¸“å±ï¼šFormData, File, Blob</span></span><br><span class="line">  <span class="comment">// - Node ä¸“å±ï¼š Stream</span></span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">firstName</span>: <span class="string">&quot;Fred&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `timeout` æŒ‡å®šè¯·æ±‚è¶…æ—¶çš„æ¯«ç§’æ•°(0 è¡¨ç¤ºæ— è¶…æ—¶æ—¶é—´)</span></span><br><span class="line">  <span class="comment">// å¦‚æœè¯·æ±‚è¯è´¹äº†è¶…è¿‡ `timeout` çš„æ—¶é—´ï¼Œè¯·æ±‚å°†è¢«ä¸­æ–­</span></span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">1000</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `withCredentials` è¡¨ç¤ºè·¨åŸŸè¯·æ±‚æ—¶æ˜¯å¦éœ€è¦ä½¿ç”¨å‡­è¯</span></span><br><span class="line">  <span class="attr">withCredentials</span>: <span class="literal">false</span>, <span class="comment">// é»˜è®¤çš„</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// `adapter` å…è®¸è‡ªå®šä¹‰å¤„ç†è¯·æ±‚ï¼Œä»¥ä½¿æµ‹è¯•æ›´è½»æ¾</span></span><br><span class="line">  <span class="comment">// è¿”å›ä¸€ä¸ª promise å¹¶åº”ç”¨ä¸€ä¸ªæœ‰æ•ˆçš„å“åº” (æŸ¥é˜… [response docs](#response-api)).</span></span><br><span class="line">  <span class="attr">adapter</span>: <span class="keyword">function</span> (<span class="params">config</span>) &#123;</span><br><span class="line">    <span class="comment">/* ... */</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `auth` è¡¨ç¤ºåº”è¯¥ä½¿ç”¨ HTTP åŸºç¡€éªŒè¯ï¼Œå¹¶æä¾›å‡­æ®</span></span><br><span class="line">  <span class="comment">// è¿™å°†è®¾ç½®ä¸€ä¸ª `Authorization` å¤´ï¼Œè¦†å†™æ‰ç°æœ‰çš„ä»»æ„ä½¿ç”¨ `headers` è®¾ç½®çš„è‡ªå®šä¹‰ `Authorization`å¤´</span></span><br><span class="line">  <span class="attr">auth</span>: &#123;</span><br><span class="line">    <span class="attr">username</span>: <span class="string">&quot;janedoe&quot;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&quot;s00pers3cret&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `responseType` è¡¨ç¤ºæœåŠ¡å™¨å“åº”çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥æ˜¯ &quot;arraybuffer&quot;, &quot;blob&quot;, &quot;document&quot;, &quot;json&quot;, &quot;text&quot;, &quot;stream&quot;</span></span><br><span class="line">  <span class="attr">responseType</span>: <span class="string">&quot;json&quot;</span>, <span class="comment">// é»˜è®¤çš„</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// `xsrfCookieName` æ˜¯ç”¨ä½œ xsrf token çš„å€¼çš„cookieçš„åç§°</span></span><br><span class="line">  <span class="attr">xsrfCookieName</span>: <span class="string">&quot;XSRF-TOKEN&quot;</span>, <span class="comment">// default</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// `xsrfHeaderName` æ˜¯æ‰¿è½½ xsrf token çš„å€¼çš„ HTTP å¤´çš„åç§°</span></span><br><span class="line">  <span class="attr">xsrfHeaderName</span>: <span class="string">&quot;X-XSRF-TOKEN&quot;</span>, <span class="comment">// é»˜è®¤çš„</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// `onUploadProgress` å…è®¸ä¸ºä¸Šä¼ å¤„ç†è¿›åº¦äº‹ä»¶</span></span><br><span class="line">  <span class="attr">onUploadProgress</span>: <span class="keyword">function</span> (<span class="params">progressEvent</span>) &#123;</span><br><span class="line">    <span class="comment">// å¯¹åŸç”Ÿè¿›åº¦äº‹ä»¶çš„å¤„ç†</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `onDownloadProgress` å…è®¸ä¸ºä¸‹è½½å¤„ç†è¿›åº¦äº‹ä»¶</span></span><br><span class="line">  <span class="attr">onDownloadProgress</span>: <span class="keyword">function</span> (<span class="params">progressEvent</span>) &#123;</span><br><span class="line">    <span class="comment">// å¯¹åŸç”Ÿè¿›åº¦äº‹ä»¶çš„å¤„ç†</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `maxContentLength` å®šä¹‰å…è®¸çš„å“åº”å†…å®¹çš„æœ€å¤§å°ºå¯¸</span></span><br><span class="line">  <span class="attr">maxContentLength</span>: <span class="number">2000</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `validateStatus` å®šä¹‰å¯¹äºç»™å®šçš„HTTP å“åº”çŠ¶æ€ç æ˜¯ resolve æˆ– reject  promise ã€‚å¦‚æœ `validateStatus` è¿”å› `true` (æˆ–è€…è®¾ç½®ä¸º `null` æˆ– `undefined`)ï¼Œpromise å°†è¢« resolve; å¦åˆ™ï¼Œpromise å°†è¢« rejecte</span></span><br><span class="line">  <span class="attr">validateStatus</span>: <span class="keyword">function</span> (<span class="params">status</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> status &amp;gt;= <span class="number">200</span> &amp;amp;&amp;amp; status &amp;lt; <span class="number">300</span>; <span class="comment">// é»˜è®¤çš„</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `maxRedirects` å®šä¹‰åœ¨ node.js ä¸­ follow çš„æœ€å¤§é‡å®šå‘æ•°ç›®</span></span><br><span class="line">  <span class="comment">// å¦‚æœè®¾ç½®ä¸º0ï¼Œå°†ä¸ä¼š follow ä»»ä½•é‡å®šå‘</span></span><br><span class="line">  <span class="attr">maxRedirects</span>: <span class="number">5</span>, <span class="comment">// é»˜è®¤çš„</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// `httpAgent` å’Œ `httpsAgent` åˆ†åˆ«åœ¨ node.js ä¸­ç”¨äºå®šä¹‰åœ¨æ‰§è¡Œ http å’Œ https æ—¶ä½¿ç”¨çš„è‡ªå®šä¹‰ä»£ç†ã€‚å…è®¸åƒè¿™æ ·é…ç½®é€‰é¡¹ï¼š</span></span><br><span class="line">  <span class="comment">// `keepAlive` é»˜è®¤æ²¡æœ‰å¯ç”¨</span></span><br><span class="line">  <span class="attr">httpAgent</span>: <span class="keyword">new</span> http.<span class="title class_">Agent</span>(&#123; <span class="attr">keepAlive</span>: <span class="literal">true</span> &#125;),</span><br><span class="line">  <span class="attr">httpsAgent</span>: <span class="keyword">new</span> https.<span class="title class_">Agent</span>(&#123; <span class="attr">keepAlive</span>: <span class="literal">true</span> &#125;),</span><br><span class="line"></span><br><span class="line">  <span class="comment">// &quot;proxy&quot; å®šä¹‰ä»£ç†æœåŠ¡å™¨çš„ä¸»æœºåç§°å’Œç«¯å£</span></span><br><span class="line">  <span class="comment">// `auth` è¡¨ç¤º HTTP åŸºç¡€éªŒè¯åº”å½“ç”¨äºè¿æ¥ä»£ç†ï¼Œå¹¶æä¾›å‡­æ®</span></span><br><span class="line">  <span class="comment">// è¿™å°†ä¼šè®¾ç½®ä¸€ä¸ª `Proxy-Authorization` å¤´ï¼Œè¦†å†™æ‰å·²æœ‰çš„é€šè¿‡ä½¿ç”¨ `header` è®¾ç½®çš„è‡ªå®šä¹‰ `Proxy-Authorization` å¤´ã€‚</span></span><br><span class="line">  <span class="attr">proxy</span>: &#123;</span><br><span class="line">    <span class="attr">host</span>: <span class="string">&quot;127.0.0.1&quot;</span>,</span><br><span class="line">    <span class="attr">port</span>: <span class="number">9000</span>,</span><br><span class="line">    <span class="attr">auth</span>: : &#123;</span><br><span class="line">      <span class="attr">username</span>: <span class="string">&quot;mikeymike&quot;</span>,</span><br><span class="line">      <span class="attr">password</span>: <span class="string">&quot;rapunz3l&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `cancelToken` æŒ‡å®šç”¨äºå–æ¶ˆè¯·æ±‚çš„ cancel token</span></span><br><span class="line">  <span class="comment">// ï¼ˆæŸ¥çœ‹åé¢çš„ Cancellation è¿™èŠ‚äº†è§£æ›´å¤šï¼‰</span></span><br><span class="line">  <span class="attr">cancelToken</span>: <span class="keyword">new</span> <span class="title class_">CancelToken</span>(<span class="keyword">function</span> (<span class="params">cancel</span>) &#123;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å“åº”ç»“æ„"><a href="#å“åº”ç»“æ„" class="headerlink" title="å“åº”ç»“æ„"></a>å“åº”ç»“æ„</h2><p>axiosè¯·æ±‚çš„å“åº”åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// `data` ç”±æœåŠ¡å™¨æä¾›çš„å“åº”</span></span><br><span class="line">  <span class="attr">data</span>: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `status`  HTTP çŠ¶æ€ç </span></span><br><span class="line">  <span class="attr">status</span>: <span class="number">200</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `statusText` æ¥è‡ªæœåŠ¡å™¨å“åº”çš„ HTTP çŠ¶æ€ä¿¡æ¯</span></span><br><span class="line">  <span class="attr">statusText</span>: <span class="string">&quot;OK&quot;</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `headers` æœåŠ¡å™¨å“åº”çš„å¤´</span></span><br><span class="line">  <span class="attr">headers</span>: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `config` æ˜¯ä¸ºè¯·æ±‚æä¾›çš„é…ç½®ä¿¡æ¯</span></span><br><span class="line">  <span class="attr">config</span>: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>then</code> æ—¶ï¼Œä¼šæ¥æ”¶ä¸‹é¢è¿™æ ·çš„å“åº”ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">get</span>(<span class="string">&quot;/user/12345&quot;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response.<span class="property">data</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response.<span class="property">status</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response.<span class="property">statusText</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response.<span class="property">headers</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response.<span class="property">config</span>);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>åœ¨ä½¿ç”¨ <code>catch</code> æ—¶ï¼Œæˆ–ä¼ é€’ <a href="https://cloud.tencent.com/developer/tools/blog-entry?target=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then">rejection callback</a> ä½œä¸º <code>then</code> çš„ç¬¬äºŒä¸ªå‚æ•°æ—¶ï¼Œå“åº”å¯ä»¥é€šè¿‡ <code>error</code> å¯¹è±¡å¯è¢«ä½¿ç”¨ï¼Œæ­£å¦‚åœ¨<a href="https://cloud.tencent.com/developer/tools/blog-entry?target=http://www.cnblogs.com/%23handling-errors">é”™è¯¯å¤„ç†</a>è¿™ä¸€èŠ‚æ‰€è®²ã€‚</p><h2 id="é…ç½®çš„é»˜è®¤å€¼-defaults"><a href="#é…ç½®çš„é»˜è®¤å€¼-defaults" class="headerlink" title="é…ç½®çš„é»˜è®¤å€¼&#x2F;defaults"></a>é…ç½®çš„é»˜è®¤å€¼&#x2F;defaults</h2><p>ä½ å¯ä»¥æŒ‡å®šå°†è¢«ç”¨åœ¨å„ä¸ªè¯·æ±‚çš„é…ç½®é»˜è®¤å€¼</p><h3 id="å…¨å±€çš„-axios-é»˜è®¤å€¼"><a href="#å…¨å±€çš„-axios-é»˜è®¤å€¼" class="headerlink" title="å…¨å±€çš„ axios é»˜è®¤å€¼"></a>å…¨å±€çš„ axios é»˜è®¤å€¼</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="property">defaults</span>.<span class="property">baseURL</span> = <span class="string">&quot;https://api.example.com&quot;</span>;</span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">headers</span>.<span class="property">common</span>[<span class="string">&quot;Authorization&quot;</span>] = <span class="variable constant_">AUTH_TOKEN</span>;</span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">headers</span>.<span class="property">post</span>[<span class="string">&quot;Content-Type&quot;</span>] = <span class="string">&quot;application/x-www-form-urlencoded&quot;</span>;</span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰å®ä¾‹é»˜è®¤å€¼"><a href="#è‡ªå®šä¹‰å®ä¾‹é»˜è®¤å€¼" class="headerlink" title="è‡ªå®šä¹‰å®ä¾‹é»˜è®¤å€¼"></a>è‡ªå®šä¹‰å®ä¾‹é»˜è®¤å€¼</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå®ä¾‹æ—¶è®¾ç½®é…ç½®çš„é»˜è®¤å€¼</span></span><br><span class="line"><span class="keyword">var</span> instance = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="attr">baseURL</span>: <span class="string">&quot;https://api.example.com&quot;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨å®ä¾‹å·²åˆ›å»ºåä¿®æ”¹é»˜è®¤å€¼</span></span><br><span class="line">instance.<span class="property">defaults</span>.<span class="property">headers</span>.<span class="property">common</span>[<span class="string">&quot;Authorization&quot;</span>] = <span class="variable constant_">AUTH_TOKEN</span>;</span><br></pre></td></tr></table></figure><h3 id="é…ç½®çš„ä¼˜å…ˆçº§"><a href="#é…ç½®çš„ä¼˜å…ˆçº§" class="headerlink" title="é…ç½®çš„ä¼˜å…ˆçº§"></a>é…ç½®çš„ä¼˜å…ˆçº§</h3><p>é…ç½®ä¼šä»¥ä¸€ä¸ªä¼˜å…ˆé¡ºåºè¿›è¡Œåˆå¹¶ã€‚</p><p>è¯·æ±‚çš„config &gt; å®ä¾‹çš„ <code>defaults</code> å±æ€§ &gt; åº“é»˜è®¤å€¼ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ç”±åº“æä¾›çš„é…ç½®çš„é»˜è®¤å€¼æ¥åˆ›å»ºå®ä¾‹</span></span><br><span class="line"><span class="comment">// æ­¤æ—¶è¶…æ—¶é…ç½®çš„é»˜è®¤å€¼æ˜¯ `0`</span></span><br><span class="line"><span class="keyword">var</span> instance = axios.<span class="title function_">create</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¦†å†™åº“çš„è¶…æ—¶é»˜è®¤å€¼</span></span><br><span class="line"><span class="comment">// ç°åœ¨ï¼Œåœ¨è¶…æ—¶å‰ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½ä¼šç­‰å¾… 2.5 ç§’</span></span><br><span class="line">instance.<span class="property">defaults</span>.<span class="property">timeout</span> = <span class="number">2500</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ºå·²çŸ¥éœ€è¦èŠ±è´¹å¾ˆé•¿æ—¶é—´çš„è¯·æ±‚è¦†å†™è¶…æ—¶è®¾ç½®</span></span><br><span class="line">instance.<span class="title function_">get</span>(<span class="string">&quot;/longRequest&quot;</span>, &#123;</span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">5000</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="æ‹¦æˆªå™¨"><a href="#æ‹¦æˆªå™¨" class="headerlink" title="æ‹¦æˆªå™¨"></a>æ‹¦æˆªå™¨</h2><p>å¯ä»¥è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼Œåœ¨åœ¨è¯·æ±‚æˆ–å“åº”è¢« <code>then</code> æˆ– <code>catch</code> å¤„ç†å‰æ‹¦æˆªå®ƒä»¬ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">config</span>) &#123;</span><br><span class="line">    <span class="comment">// åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšäº›ä»€ä¹ˆ</span></span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="comment">// å¯¹è¯·æ±‚é”™è¯¯åšäº›ä»€ä¹ˆ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ å“åº”æ‹¦æˆªå™¨</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="comment">// å¯¹å“åº”æ•°æ®åšç‚¹ä»€ä¹ˆ</span></span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">  &#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="comment">// å¯¹å“åº”é”™è¯¯åšç‚¹ä»€ä¹ˆ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æƒ³åœ¨ç¨åç§»é™¤æ‹¦æˆªå™¨ï¼Œå¯ä»¥è¿™æ ·ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myInterceptor = axios.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;<span class="comment">/*...*/</span>&#125;);</span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">eject</span>(myInterceptor);</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä¸ºè‡ªå®šä¹‰ axios å®ä¾‹æ·»åŠ æ‹¦æˆªå™¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> instance = axios.<span class="title function_">create</span>();</span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;<span class="comment">/*...*/</span>&#125;);</span><br></pre></td></tr></table></figure><h2 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">get</span>(<span class="string">&quot;/user/12345&quot;</span>)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (error.<span class="property">response</span>) &#123;</span><br><span class="line">      <span class="comment">// è¯·æ±‚å·²å‘å‡ºï¼Œä½†æœåŠ¡å™¨å“åº”çš„çŠ¶æ€ç ä¸åœ¨ 2xx èŒƒå›´å†…</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(error.<span class="property">response</span>.<span class="property">data</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(error.<span class="property">response</span>.<span class="property">status</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(error.<span class="property">response</span>.<span class="property">headers</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// Something happened in setting up the request that triggered an Error</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Error&quot;</span>, error.<span class="property">message</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error.<span class="property">config</span>);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ <code>validateStatus</code> é…ç½®é€‰é¡¹å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰ HTTP çŠ¶æ€ç çš„é”™è¯¯èŒƒå›´ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">get</span>(<span class="string">&quot;/user/12345&quot;</span>, &#123;</span><br><span class="line">  <span class="attr">validateStatus</span>: <span class="keyword">function</span> (<span class="params">status</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> status &lt; <span class="number">500</span>; <span class="comment">// çŠ¶æ€ç åœ¨å¤§äºæˆ–ç­‰äº500æ—¶æ‰ä¼š reject</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="å–æ¶ˆè¯·æ±‚"><a href="#å–æ¶ˆè¯·æ±‚" class="headerlink" title="å–æ¶ˆè¯·æ±‚"></a>å–æ¶ˆè¯·æ±‚</h2><p>ä½¿ç”¨ <em>cancel token</em> å–æ¶ˆè¯·æ±‚</p><blockquote><p> Axios çš„ cancel token API åŸºäº<a href="https://cloud.tencent.com/developer/tools/blog-entry?target=https://github.com/tc39/proposal-cancelable-promises">cancelable promises proposal</a> </p></blockquote><p>å¯ä»¥ä½¿ç”¨ <code>CancelToken.source</code> å·¥å‚æ–¹æ³•åˆ›å»º cancel tokenï¼Œåƒè¿™æ ·ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">CancelToken</span> = axios.<span class="property">CancelToken</span>;</span><br><span class="line"><span class="keyword">const</span> source = <span class="title class_">CancelToken</span>.<span class="title function_">source</span>();</span><br><span class="line"></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;/user/12345&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">cancelToken</span>: source.<span class="property">token</span></span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="keyword">function</span>(<span class="params">thrown</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (axios.<span class="title function_">isCancel</span>(thrown)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Request canceled&#x27;</span>, thrown.<span class="property">message</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// handle error</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">axios.<span class="title function_">post</span>(<span class="string">&#x27;/user/12345&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;new name&#x27;</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">  <span class="attr">cancelToken</span>: source.<span class="property">token</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// cancel the request (the message parameter is optional)</span></span><br><span class="line">source.<span class="title function_">cancel</span>(<span class="string">&#x27;Operation canceled by the user.&#x27;</span>);</span><br></pre></td></tr></table></figure><p>è¿˜å¯ä»¥é€šè¿‡ä¼ é€’ä¸€ä¸ª executor å‡½æ•°åˆ° <code>CancelToken</code> çš„æ„é€ å‡½æ•°æ¥åˆ›å»º cancel tokenï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">CancelToken</span> = axios.<span class="property">CancelToken</span>;</span><br><span class="line"><span class="keyword">var</span> cancel;</span><br><span class="line"></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&quot;/user/12345&quot;</span>, &#123;</span><br><span class="line">  <span class="attr">cancelToken</span>: <span class="keyword">new</span> <span class="title class_">CancelToken</span>(<span class="keyword">function</span> <span class="title function_">executor</span>(<span class="params">c</span>) &#123;</span><br><span class="line">    <span class="comment">// executor å‡½æ•°æ¥æ”¶ä¸€ä¸ª cancel å‡½æ•°ä½œä¸ºå‚æ•°</span></span><br><span class="line">    cancel = c;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å–æ¶ˆè¯·æ±‚</span></span><br><span class="line"><span class="title function_">cancel</span>();</span><br></pre></td></tr></table></figure><p>Note : å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ª cancel token å–æ¶ˆå¤šä¸ªè¯·æ±‚</p><h2 id="è¯·æ±‚æ—¶ä½¿ç”¨-application-x-www-form-urlencoded"><a href="#è¯·æ±‚æ—¶ä½¿ç”¨-application-x-www-form-urlencoded" class="headerlink" title="è¯·æ±‚æ—¶ä½¿ç”¨ application&#x2F;x-www-form-urlencoded"></a>è¯·æ±‚æ—¶ä½¿ç”¨ application&#x2F;x-www-form-urlencoded</h2><p>axiosä¼šé»˜è®¤åºåˆ—åŒ– JavaScript å¯¹è±¡ä¸º JSON. å¦‚æœæƒ³ä½¿ç”¨ application&#x2F;x-www-form-urlencoded æ ¼å¼ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„é…ç½®.</p><h3 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨"></a>æµè§ˆå™¨</h3><p>åœ¨æµè§ˆå™¨ç¯å¢ƒï¼Œä½ å¯ä»¥ä½¿ç”¨ URLSearchParams API ï¼š:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> params = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>();</span><br><span class="line">params.<span class="title function_">append</span>(<span class="string">&#x27;param1&#x27;</span>, <span class="string">&#x27;value1&#x27;</span>);</span><br><span class="line">params.<span class="title function_">append</span>(<span class="string">&#x27;param2&#x27;</span>, <span class="string">&#x27;value2&#x27;</span>);</span><br><span class="line">axios.<span class="title function_">post</span>(<span class="string">&#x27;/foo&#x27;</span>, params);</span><br></pre></td></tr></table></figure><blockquote><p> URLSearchParamsä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨å‡æ”¯æŒ </p></blockquote><p>é™¤æ­¤ä¹‹å¤–ï¼Œä½ å¯ä»¥ä½¿ç”¨qsåº“æ¥ç¼–ç æ•°æ®:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> qs = <span class="built_in">require</span>(<span class="string">&#x27;qs&#x27;</span>);</span><br><span class="line">axios.<span class="title function_">post</span>(<span class="string">&#x27;/foo&#x27;</span>, qs.<span class="title function_">stringify</span>(&#123; <span class="string">&#x27;bar&#x27;</span>: <span class="number">123</span> &#125;));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Or in another way (ES6),</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> qs <span class="keyword">from</span> <span class="string">&#x27;qs&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> data = &#123; <span class="string">&#x27;bar&#x27;</span>: <span class="number">123</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">  <span class="attr">headers</span>: &#123; <span class="string">&#x27;content-type&#x27;</span>: <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span> &#125;,</span><br><span class="line">  <span class="attr">data</span>: qs.<span class="title function_">stringify</span>(data),</span><br><span class="line">  url,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">axios</span>(options);</span><br></pre></td></tr></table></figure><h3 id="Node-jsç¯å¢ƒ"><a href="#Node-jsç¯å¢ƒ" class="headerlink" title="Node.jsç¯å¢ƒ"></a>Node.jsç¯å¢ƒ</h3><p>åœ¨ node.jsé‡Œ, å¯ä»¥ä½¿ç”¨ querystring module:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> querystring = <span class="built_in">require</span>(<span class="string">&#x27;querystring&#x27;</span>);</span><br><span class="line">axios.<span class="title function_">post</span>(<span class="string">&#x27;http://something.com/&#x27;</span>, querystring.<span class="title function_">stringify</span>(&#123; <span class="attr">foo</span>: <span class="string">&#x27;bar&#x27;</span> &#125;));</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼ŒåŒæµè§ˆå™¨ä¸€æ ·ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ qs library.</p><h2 id="Promises"><a href="#Promises" class="headerlink" title="Promises"></a>Promises</h2><p>axios ä¾èµ–åŸç”Ÿçš„ ES6 Promise å®ç°è€Œ<a href="https://cloud.tencent.com/developer/tools/blog-entry?target=http://caniuse.com/promises">è¢«æ”¯æŒ</a>. å¦‚æœä½ çš„ç¯å¢ƒä¸æ”¯æŒ ES6 Promiseï¼Œä½ å¯ä»¥ä½¿ç”¨ <a href="https://cloud.tencent.com/developer/tools/blog-entry?target=https://github.com/jakearchibald/es6-promise">polyfill</a>.</p><h2 id="TypeScriptæ”¯æŒ"><a href="#TypeScriptæ”¯æŒ" class="headerlink" title="TypeScriptæ”¯æŒ"></a>TypeScriptæ”¯æŒ</h2><p>axios åŒ…å« <a href="https://cloud.tencent.com/developer/tools/blog-entry?target=http://typescriptlang.org/">TypeScript</a> definitions.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&quot;/user?ID=12345&quot;</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> axios </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue ç»„ä»¶ä¹‹é—´ä¼ é€’æ•°æ®</title>
      <link href="/2023/09/08/Vue/vue%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE/"/>
      <url>/2023/09/08/Vue/vue%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="vueç»„ä»¶é—´é€šä¿¡"><a href="#vueç»„ä»¶é—´é€šä¿¡" class="headerlink" title="vueç»„ä»¶é—´é€šä¿¡"></a>vueç»„ä»¶é—´é€šä¿¡</h1><p>ç»„ä»¶æ˜¯ vue.js æœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œè€Œç»„ä»¶å®ä¾‹çš„ä½œç”¨åŸŸæ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œè¿™å°±æ„å‘³ç€ä¸åŒç»„ä»¶ä¹‹é—´çš„æ•°æ®æ— æ³•ç›¸äº’å¼•ç”¨ã€‚å¦‚ä½•ä¼ é€’æ•°æ®ä¹Ÿæˆäº†ç»„ä»¶çš„é‡è¦çŸ¥è¯†ç‚¹ä¹‹ä¸€ã€‚</p><h2 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h2><p>ç»„ä»¶ä¸ç»„ä»¶ä¹‹é—´ï¼Œè¿˜å­˜åœ¨ç€ä¸åŒçš„å…³ç³»ã€‚çˆ¶å­å…³ç³»ä¸å…„å¼Ÿå…³ç³»ï¼ˆä¸æ˜¯çˆ¶å­çš„éƒ½æš‚ç§°ä¸ºå…„å¼Ÿå§ï¼‰ã€‚</p><h3 id="çˆ¶å­ç»„ä»¶"><a href="#çˆ¶å­ç»„ä»¶" class="headerlink" title="çˆ¶å­ç»„ä»¶"></a>çˆ¶å­ç»„ä»¶</h3><p>çˆ¶å­å…³ç³»å³æ˜¯ç»„ä»¶ A åœ¨å®ƒçš„æ¨¡æ¿ä¸­ä½¿ç”¨äº†ç»„ä»¶ Bï¼Œé‚£ä¹ˆç»„ä»¶ A å°±æ˜¯çˆ¶ç»„ä»¶ï¼Œç»„ä»¶ B å°±æ˜¯å­ç»„ä»¶ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ³¨å†Œä¸€ä¸ªå­ç»„ä»¶</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;child&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">text</span>: <span class="string">&#x27;æˆ‘æ˜¯fatherçš„å­ç»„ä»¶ï¼&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">template</span>: <span class="string">&#x27;&lt;span&gt;&#123;&#123; text &#125;&#125;&lt;/span&gt;&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// æ³¨å†Œä¸€ä¸ªçˆ¶ç»„ä»¶</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;father&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">template</span>: <span class="string">&#x27;&lt;div&gt;&lt;child&gt;&lt;/child&gt;&lt;/div&gt;&#x27;</span>  <span class="comment">// åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨äº†childç»„ä»¶</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ç›´æ¥ä½¿ç”¨ father ç»„ä»¶çš„æ—¶å€™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">father</span>&gt;</span><span class="tag">&lt;/<span class="name">father</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>é¡µé¢ä¸­å°±ä¼šæ¸²æŸ“å‡º ï¼šæˆ‘æ˜¯fatherçš„å­ç»„ä»¶ï¼</p><p>father ç»„ä»¶åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨äº† child ç»„ä»¶ï¼Œæ‰€ä»¥å®ƒå°±æ˜¯çˆ¶ç»„ä»¶ï¼Œchild ç»„ä»¶è¢«ä½¿ç”¨ï¼Œæ‰€ä»¥ child ç»„ä»¶å°±æ˜¯å­ç»„ä»¶ã€‚</p><h3 id="å…„å¼Ÿç»„ä»¶"><a href="#å…„å¼Ÿç»„ä»¶" class="headerlink" title="å…„å¼Ÿç»„ä»¶"></a>å…„å¼Ÿç»„ä»¶</h3><p>ä¸¤ä¸ªç»„ä»¶äº’ä¸å¼•ç”¨ï¼Œåˆ™ä¸ºå…„å¼Ÿç»„ä»¶ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;brother1&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">template</span>: <span class="string">&#x27;&lt;div&gt;æˆ‘æ˜¯å¤§å“¥&lt;/div&gt;&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;brother2&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">template</span>: <span class="string">&#x27;&lt;div&gt;æˆ‘æ˜¯å°å¼Ÿ&lt;/div&gt;&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ç»„ä»¶çš„æ—¶å€™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">brother1</span>&gt;</span><span class="tag">&lt;/<span class="name">brother1</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">brother2</span>&gt;</span><span class="tag">&lt;/<span class="name">brother2</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>é¡µé¢ä¸­å°±ä¼šæ¸²æŸ“å‡º ï¼š</p><p>æˆ‘æ˜¯å¤§å“¥</p><p>æˆ‘æ˜¯å°å¼Ÿ</p><h2 id="Prop-çˆ¶ä¼ å­"><a href="#Prop-çˆ¶ä¼ å­" class="headerlink" title="Prop(çˆ¶ä¼ å­)"></a>Prop(çˆ¶ä¼ å­)</h2><p>å­ç»„ä»¶æƒ³è¦ä½¿ç”¨çˆ¶ç»„ä»¶çš„æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡å­ç»„ä»¶çš„ props é€‰é¡¹æ¥è·å¾—çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„æ•°æ®ã€‚ä»¥ä¸‹æˆ‘ä½¿ç”¨åœ¨ .vue æ–‡ä»¶ä¸­çš„æ ¼å¼æ¥å†™ä¾‹å­ã€‚</p><h3 id="å¦‚ä½•ä¼ é€’æ•°æ®"><a href="#å¦‚ä½•ä¼ é€’æ•°æ®" class="headerlink" title="å¦‚ä½•ä¼ é€’æ•°æ®"></a>å¦‚ä½•ä¼ é€’æ•°æ®</h3><p>åœ¨çˆ¶ç»„ä»¶ father.vue ä¸­å¼•ç”¨å­ç»„ä»¶ child.vueï¼ŒæŠŠ name çš„å€¼ä¼ ç»™ child ç»„ä»¶ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">        // message å®šä¹‰åœ¨å­ç»„ä»¶çš„ props ä¸­</span><br><span class="line">        &lt;child :message=&quot;name&quot;&gt;&lt;/child&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    import child from &#x27;./child.vue&#x27;;</span><br><span class="line">    export default &#123;</span><br><span class="line">        components: &#123;</span><br><span class="line">            child</span><br><span class="line">        &#125;,</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                name: &#x27;linxin&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>åœ¨å­ç»„ä»¶ child.vue ä¸­çš„ props é€‰é¡¹ä¸­å£°æ˜å®ƒæœŸå¾…è·å¾—çš„æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;span&gt;Hello &#123;&#123;message&#125;&#125;&lt;/span&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        // åœ¨ props ä¸­å£°æ˜è·å–çˆ¶ç»„ä»¶çš„æ•°æ®é€šè¿‡ message ä¼ è¿‡æ¥</span><br><span class="line">        props: [&#x27;message&#x27;]</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆé¡µé¢ä¸­å°±ä¼šæ¸²æŸ“å‡ºï¼šHello linxin</p><h3 id="å•å‘æ•°æ®æµ"><a href="#å•å‘æ•°æ®æµ" class="headerlink" title="å•å‘æ•°æ®æµ"></a>å•å‘æ•°æ®æµ</h3><p>å½“çˆ¶ç»„ä»¶çš„ name å‘ç”Ÿæ”¹å˜ï¼Œå­ç»„ä»¶ä¹Ÿä¼šè‡ªåŠ¨åœ°æ›´æ–°è§†å›¾ã€‚ä½†æ˜¯åœ¨å­ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬ä¸è¦å»ä¿®æ”¹ propã€‚å¦‚æœä½ å¿…é¡»è¦ä¿®æ”¹åˆ°è¿™äº›æ•°æ®ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š</p><p>æ–¹æ³•ä¸€ï¼šæŠŠ prop èµ‹å€¼ç»™ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œç„¶åéœ€è¦ä¿®æ”¹çš„è¯å°±ä¿®æ”¹è¿™ä¸ªå±€éƒ¨å˜é‡ï¼Œè€Œä¸å½±å“ prop</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">newMessage</span>: <span class="literal">null</span></span><br><span class="line">        &#125; </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">props</span>: [<span class="string">&#x27;message&#x27;</span>],</span><br><span class="line">    <span class="title function_">created</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">newMessage</span> = <span class="variable language_">this</span>.<span class="property">message</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–¹æ³•äºŒï¼šåœ¨è®¡ç®—å±æ€§ä¸­å¯¹ prop è¿›è¡Œå¤„ç†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">props</span>: [<span class="string">&#x27;message&#x27;</span>],</span><br><span class="line">    <span class="attr">computed</span>: &#123;</span><br><span class="line">        <span class="title function_">newMessage</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">newMessage</span> + <span class="string">&#x27; å“ˆå“ˆå“ˆ&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è‡ªå®šä¹‰äº‹ä»¶-emit-å­ä¼ çˆ¶"><a href="#è‡ªå®šä¹‰äº‹ä»¶-emit-å­ä¼ çˆ¶" class="headerlink" title="è‡ªå®šä¹‰äº‹ä»¶$emit(å­ä¼ çˆ¶)"></a>è‡ªå®šä¹‰äº‹ä»¶$emit(å­ä¼ çˆ¶)</h2><p>prop æ˜¯å•å‘ç»‘å®šçš„ï¼šå½“çˆ¶ç»„ä»¶çš„å±æ€§å˜åŒ–æ—¶ï¼Œå°†ä¼ å¯¼ç»™å­ç»„ä»¶ï¼Œä½†æ˜¯ä¸ä¼šåè¿‡æ¥ã€‚ä¿®æ”¹å­ç»„ä»¶çš„ prop å€¼ï¼Œæ˜¯ä¸ä¼šä¼ å›ç»™çˆ¶ç»„ä»¶å»æ›´æ–°è§†å›¾çš„ã€‚é‚£ä¹ˆå­ç»„ä»¶è¦å¦‚ä½•å»ä¸çˆ¶ç»„ä»¶é€šè®¯å‘¢ï¼Ÿ</p><p>é‚£å°±æ˜¯è‡ªå®šä¹‰äº‹ä»¶ã€‚é€šè¿‡åœ¨çˆ¶ç»„ä»¶ $on(eventName) ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶ï¼Œå½“å­ç»„ä»¶é‡Œ $emit(eventName) è§¦å‘è¯¥è‡ªå®šä¹‰äº‹ä»¶çš„æ—¶å€™ï¼Œçˆ¶ç»„ä»¶æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚</p><ul><li>$emit ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶ï¼Œå½“è¿™ä¸ªäº‹ä»¶è¢«æ‰§è¡Œçš„æ—¶å€™å°±ä¼šå°†å‚æ•°ä¼ é€’ç»™çˆ¶ç»„ä»¶ï¼Œè€Œçˆ¶ç»„ä»¶é€šè¿‡v-onç›‘å¬å¹¶æ¥æ”¶å‚æ•°</li></ul><p>æ¯”å¦‚åœ¨çˆ¶ç»„ä»¶ä¸­æ§åˆ¶ä¸€ä¸ªå¼¹æ¡†å­ç»„ä»¶çš„æ˜¾ç¤ºï¼Œåœ¨å­ç»„ä»¶ä¸­æŒ‰ä¸‹å…³é—­ä¹‹åï¼Œå‘Šè¯‰çˆ¶ç»„ä»¶å»éšè—å®ƒï¼Œç„¶åçˆ¶ç»„ä»¶å°±æ‰§è¡Œæ“ä½œéšè—å¼¹æ¡†ã€‚</p><p>çˆ¶ç»„ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;app&quot;&gt;</span><br><span class="line">        // hide ä¸ºè‡ªå®šä¹‰äº‹ä»¶ï¼Œåå­—å¯ä»¥è‡ªå·±éšä¾¿èµ·ï¼Œä¸èƒ½æœ‰å¤§å†™å­—æ¯ï¼Œå¯ä»¥ä½¿ç”¨çŸ­æ¨ªçº¿</span><br><span class="line">        // @hide ç›‘å¬å­ç»„ä»¶è§¦å‘ hide äº‹ä»¶ï¼Œåˆ™ä¼šæ‰§è¡Œ hideDialog æ–¹æ³•</span><br><span class="line">        &lt;dialog :is-show=&quot;show&quot; @hide=&quot;hideDialog&quot;&gt;&lt;/dialog&gt;</span><br><span class="line">        &lt;button @click=&quot;showDialog&quot;&gt;æ˜¾ç¤ºå¼¹æ¡†&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    import dialog from &#x27;./dialog.vue&#x27;;</span><br><span class="line">    export default &#123;</span><br><span class="line">        components: &#123; dialog &#125;,</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                show: false</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            showDialog() &#123;</span><br><span class="line">                this.show = true;</span><br><span class="line">            &#125;,</span><br><span class="line">            hideDialog() &#123;</span><br><span class="line">                this.show = false;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>åœ¨å­ç»„ä»¶ dialog.vue ä¸­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;dialog&quot; v-show=&quot;isShow&quot;&gt;</span><br><span class="line">        &lt;p&gt;è¿™é‡Œæ˜¯å¼¹æ¡†å­ç»„ä»¶&lt;/p&gt;</span><br><span class="line">        &lt;button @click=&quot;toHide&quot;&gt;å…³é—­å¼¹æ¡†&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        // é©¼å³°å¼å‘½åçš„ prop éœ€è¦è½¬æ¢ä¸ºç›¸å¯¹åº”çš„çŸ­æ¨ªçº¿éš”å¼€å¼ is-show</span><br><span class="line">        props: [&#x27;isShow&#x27;],</span><br><span class="line">        methods: &#123;</span><br><span class="line">            toHide()&#123;</span><br><span class="line">                // $emit æ–¹æ³•è§¦å‘çˆ¶ç»„ä»¶çš„ç›‘å¬äº‹ä»¶</span><br><span class="line">                this.$emit(&#x27;hideDialog&#x27;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å®ç°äº†çˆ¶å­ç»„ä»¶ä¹‹é—´çš„ç›¸äº’é€šè®¯ã€‚</p><h2 id="ref-refs"><a href="#ref-refs" class="headerlink" title="ref &#x2F; $refs"></a>ref &#x2F; $refs</h2><p>è¿™ç§æ–¹å¼ä¹Ÿæ˜¯å®ç°çˆ¶å­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡</p><p>refï¼šè¿™ä¸ªå±æ€§ç”¨åœ¨å­ç»„ä»¶ä¸Šï¼Œå®ƒçš„ç”¨ç”¨å°±æŒ‡å‘äº†å­ç»„ä»¶çš„å®ä¾‹ï¼Œå¯ä»¥é€šè¿‡å®ä¾‹æ¥è®¿é—®ç»„ä»¶çš„æ•°æ®å’Œæ–¹æ³•</p><p><strong>ç”¨æ³•ï¼š</strong></p><p>åœ¨å­ç»„ä»¶ä¸­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;JavaScript&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    sayHello () &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>åœ¨çˆ¶ç»„ä»¶ä¸­ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">child</span> <span class="attr">ref</span>=<span class="string">&quot;child&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component-a</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">import</span> child <span class="keyword">from</span> <span class="string">&#x27;./child.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">components</span>: &#123; child &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    mounted () &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">child</span>.<span class="property">name</span>);  <span class="comment">// JavaScript</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">child</span>.<span class="title function_">sayHello</span>();  <span class="comment">// hello</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Event-Busï¼ˆ-emit-onï¼‰"><a href="#Event-Busï¼ˆ-emit-onï¼‰" class="headerlink" title="Event Busï¼ˆ$emit &#x2F; $onï¼‰"></a>Event Busï¼ˆ$emit &#x2F; $onï¼‰</h2><p><strong>ä¸€ç§å¯ä»¥åœ¨ä»»æ„ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼</strong>ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒå¿…é¡»æ»¡è¶³ä»¥ä¸‹æ¡ä»¶</p><ol><li>æ‰€æœ‰çš„ç»„ä»¶å¯¹è±¡éƒ½å¿…é¡»èƒ½çœ‹è§ä»– </li><li>è¿™ä¸ªå¯¹è±¡å¿…é¡»èƒ½å¤Ÿä½¿ç”¨ <strong>$on</strong> <strong>$emit</strong> <strong>$off</strong> æ–¹æ³•å»ç»‘å®šã€è§¦å‘å’Œè§£ç»‘äº‹ä»¶</li></ol><p>eventBus äº‹ä»¶æ€»çº¿é€‚ç”¨äº<strong>çˆ¶å­ç»„ä»¶ã€éçˆ¶å­ç»„ä»¶</strong>ç­‰ä¹‹é—´çš„é€šä¿¡ï¼Œä½¿ç”¨æ­¥éª¤å¦‚ä¸‹ï¼š</p><p>ä½¿ç”¨æ­¥éª¤</p><ol><li>å®šä¹‰å…¨å±€äº‹ä»¶æ€»çº¿</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºvm</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line"><span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line"><span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line"><span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span> <span class="comment">//å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿</span></span><br><span class="line">&#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>ä½¿ç”¨äº‹ä»¶æ€»çº¿ </li><li>a.æ¥æ”¶æ•°æ®ï¼šAç»„ä»¶æƒ³æ¥æ”¶æ•°æ®ï¼Œåˆ™åœ¨Aç»„ä»¶ä¸­ç»™ <strong>$bus</strong> ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼Œäº‹ä»¶çš„å›è°ƒç•™åœ¨Aç»„ä»¶è‡ªèº«</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line"><span class="title function_">methods</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="title function_">demo</span>(<span class="params">data</span>)&#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$bus</span>.$on(<span class="string">&#x27;xxx&#x27;</span>,<span class="variable language_">this</span>.<span class="property">demo</span>) <span class="comment">//å­ç»„ä»¶</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>â€‹b. æä¾›æ•°æ®ï¼šthis.$bus.$emit(â€˜äº‹ä»¶åâ€™,è¿”å›çš„æ•°æ®) &#x2F;&#x2F;çˆ¶ç»„ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line"><span class="title function_">sendStudentName</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$bus</span>.$emit(<span class="string">&#x27;hello&#x27;</span>,data)</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>â€‹æœ€å¥½åœ¨ <strong>beforeDestroy</strong> é’©å­ä¸­ï¼Œç”¨ $off(â€˜äº‹ä»¶åâ€™) å»è§£ç»‘å½“å‰ç»„ä»¶æ‰€ç”¨åˆ°çš„äº‹ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$bus</span>.$off(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h2 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h2><ul><li><p>stateï¼šç”¨äºæ•°æ®çš„å­˜å‚¨ï¼Œæ˜¯storeä¸­çš„å”¯ä¸€æ•°æ®æº</p></li><li><p>gettersï¼šå¦‚vueä¸­çš„è®¡ç®—å±æ€§ä¸€æ ·ï¼ŒåŸºäºstateæ•°æ®çš„äºŒæ¬¡åŒ…è£…ï¼Œå¸¸ç”¨äºæ•°æ®çš„ç­›é€‰å’Œå¤šä¸ªæ•°æ®çš„ç›¸å…³æ€§è®¡ç®—</p></li><li><p>mutationsï¼šç±»ä¼¼å‡½æ•°ï¼Œæ”¹å˜stateæ•°æ®çš„å”¯ä¸€é€”å¾„ï¼Œä¸”ä¸èƒ½ç”¨äºå¤„ç†å¼‚æ­¥äº‹ä»¶</p></li><li><p>actionsï¼šç±»ä¼¼äºmutationï¼Œç”¨äºæäº¤mutationæ¥æ”¹å˜çŠ¶æ€ï¼Œè€Œä¸ç›´æ¥å˜æ›´çŠ¶æ€ï¼Œå¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œ</p></li><li><p>modulesï¼šç±»ä¼¼äºå‘½åç©ºé—´ï¼Œç”¨äºé¡¹ç›®ä¸­å°†å„ä¸ªæ¨¡å—çš„çŠ¶æ€åˆ†å¼€å®šä¹‰å’Œæ“ä½œï¼Œä¾¿äºç»´æŠ¤</p></li><li><h3 id="Vuexä½¿ç”¨æ­¥éª¤ï¼š"><a href="#Vuexä½¿ç”¨æ­¥éª¤ï¼š" class="headerlink" title="Vuexä½¿ç”¨æ­¥éª¤ï¼š"></a><strong>Vuexä½¿ç”¨æ­¥éª¤ï¼š</strong></h3><h4 id="ï¼ˆ1ï¼‰è¿™é‡Œæˆ‘ä»¬å…ˆæ–°å»º-storeæ–‡ä»¶å¤¹ï¼Œ-å¯¹Vuexè¿›è¡Œä¸€äº›å°è£…å¤„ç†"><a href="#ï¼ˆ1ï¼‰è¿™é‡Œæˆ‘ä»¬å…ˆæ–°å»º-storeæ–‡ä»¶å¤¹ï¼Œ-å¯¹Vuexè¿›è¡Œä¸€äº›å°è£…å¤„ç†" class="headerlink" title="ï¼ˆ1ï¼‰è¿™é‡Œæˆ‘ä»¬å…ˆæ–°å»º storeæ–‡ä»¶å¤¹ï¼Œ å¯¹Vuexè¿›è¡Œä¸€äº›å°è£…å¤„ç†"></a><strong>ï¼ˆ1ï¼‰è¿™é‡Œæˆ‘ä»¬å…ˆæ–°å»º storeæ–‡ä»¶å¤¹ï¼Œ å¯¹Vuexè¿›è¡Œä¸€äº›å°è£…å¤„ç†</strong></h4><p>åœ¨ store æ–‡ä»¶å¤¹ä¸‹æ·»åŠ  index.js æ–‡ä»¶(src&#x2F;store&#x2F;index.js)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//å¼•å…¥Vueæ ¸å¿ƒåº“</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//å¼•å…¥Vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">//åº”ç”¨Vuexæ’ä»¶</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"><span class="comment">//å‡†å¤‡actionså¯¹è±¡â€”â€”å“åº”ç»„ä»¶ä¸­ç”¨æˆ·çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;&#125;</span><br><span class="line"><span class="comment">//å‡†å¤‡mutationså¯¹è±¡â€”â€”ä¿®æ”¹stateä¸­çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;&#125;</span><br><span class="line"><span class="comment">//å‡†å¤‡stateå¯¹è±¡â€”â€”ä¿å­˜å…·ä½“çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;&#125;</span><br><span class="line"><span class="comment">//åˆ›å»ºå¹¶æš´éœ²store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ2ï¼‰åœ¨-store-æ–‡ä»¶å¤¹ä¸‹æ·»åŠ -module-æ–‡ä»¶å¤¹ï¼Œåœ¨moduleæ–‡ä»¶å¤¹å†æ–°å»º-user-js-æ–‡ä»¶"><a href="#ï¼ˆ2ï¼‰åœ¨-store-æ–‡ä»¶å¤¹ä¸‹æ·»åŠ -module-æ–‡ä»¶å¤¹ï¼Œåœ¨moduleæ–‡ä»¶å¤¹å†æ–°å»º-user-js-æ–‡ä»¶" class="headerlink" title="ï¼ˆ2ï¼‰åœ¨ store æ–‡ä»¶å¤¹ä¸‹æ·»åŠ  module æ–‡ä»¶å¤¹ï¼Œåœ¨moduleæ–‡ä»¶å¤¹å†æ–°å»º user.js æ–‡ä»¶"></a><strong>ï¼ˆ2ï¼‰åœ¨ store æ–‡ä»¶å¤¹ä¸‹æ·»åŠ  <code>module</code> æ–‡ä»¶å¤¹ï¼Œåœ¨moduleæ–‡ä»¶å¤¹å†æ–°å»º <code>user.js</code> æ–‡ä»¶</strong></h4><p>â€‹åˆå§‹åŒ–æ•°æ®ã€é…ç½®actionsã€é…ç½®mutationsï¼Œæ“ä½œæ–‡ä»¶store.js</p></li></ul><ol><li><p>ç»„ä»¶ä¸­è¯»å–vuexä¸­çš„æ•°æ®ï¼š$store.state.sum</p></li><li><p>ç»„ä»¶ä¸­ä¿®æ”¹vuexä¸­çš„æ•°æ®ï¼š$store.dispatch(â€˜actionä¸­çš„æ–¹æ³•åâ€™,æ•°æ®)æˆ– $store.commit(â€˜mutationsä¸­çš„æ–¹æ³•åâ€™,æ•°æ®)</p></li><li><p>å¤‡æ³¨ï¼šè‹¥æ²¡æœ‰ç½‘ç»œè¯·æ±‚æˆ–å…¶ä»–ä¸šåŠ¡é€»è¾‘ï¼Œç»„ä»¶ä¸­ä¹Ÿå¯ä»¥è¶Šè¿‡actionsï¼Œå³ä¸å†™dispatchï¼Œç›´æ¥ç¼–å†™commit</p></li></ol><h4 id="3-åœ¨main-jsä¸­åˆ›å»ºvmæ—¶ä¼ å…¥storeé…ç½®é¡¹"><a href="#3-åœ¨main-jsä¸­åˆ›å»ºvmæ—¶ä¼ å…¥storeé…ç½®é¡¹" class="headerlink" title="**(3) åœ¨main.jsä¸­åˆ›å»ºvmæ—¶ä¼ å…¥storeé…ç½®é¡¹ **"></a>**(3) åœ¨main.jsä¸­åˆ›å»ºvmæ—¶ä¼ å…¥storeé…ç½®é¡¹ **</h4>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼•å…¥store</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line">......</span><br><span class="line"><span class="comment">//åˆ›å»ºvm</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    store</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="æ³¨æ„ï¼š"><a href="#æ³¨æ„ï¼š" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h4><p>  <strong>commit  æ˜¯æ“ä½œ  mutations</strong></p><p>  <strong>dispatch  æ˜¯æ“ä½œ  actions</strong></p><h4 id="ä¾‹å­ï¼š"><a href="#ä¾‹å­ï¼š" class="headerlink" title="ä¾‹å­ï¼š"></a><strong>ä¾‹å­ï¼š</strong></h4><p>  <strong>ï¼ˆ1ï¼‰src&#x2F;store&#x2F;index.js</strong></p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯¥æ–‡ä»¶ç”¨äºåˆ›å»ºVuexä¸­æœ€ä¸ºæ ¸å¿ƒçš„store</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//å¼•å…¥Vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">//åº”ç”¨Vuexæ’ä»¶</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"><span class="comment">//å‡†å¤‡actionsâ€”â€”ç”¨äºå“åº”ç»„ä»¶ä¸­çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">    <span class="comment">/* jia(context,value)&#123;</span></span><br><span class="line"><span class="comment">        console.log(&#x27;actionsä¸­çš„jiaè¢«è°ƒç”¨äº†&#x27;)</span></span><br><span class="line"><span class="comment">        context.commit(&#x27;JIA&#x27;,value)</span></span><br><span class="line"><span class="comment">    &#125;,</span></span><br><span class="line"><span class="comment">    jian(context,value)&#123;</span></span><br><span class="line"><span class="comment">        console.log(&#x27;actionsä¸­çš„jianè¢«è°ƒç”¨äº†&#x27;) </span></span><br><span class="line"><span class="comment">        context.commit(&#x27;JIAN&#x27;,value)</span></span><br><span class="line"><span class="comment">  &#125;, */</span></span><br><span class="line">    <span class="title function_">jiaOdd</span>(<span class="params">context,value</span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;actionsä¸­çš„jiaOddè¢«è°ƒç”¨äº†&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span>(context.<span class="property">state</span>.<span class="property">sum</span> % <span class="number">2</span>)&#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&#x27;JIA&#x27;</span>,value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">jiaWait</span>(<span class="params">context,value</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;actionsä¸­çš„jiaWaitè¢«è°ƒç”¨äº†&#x27;</span>)</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&#x27;JIA&#x27;</span>,value)</span><br><span class="line">        &#125;,<span class="number">500</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å‡†å¤‡mutationsâ€”â€”ç”¨äºæ“ä½œæ•°æ®ï¼ˆstateï¼‰</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="title function_">JIA</span>(<span class="params">state,value</span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutationsä¸­çš„JIAè¢«è°ƒç”¨äº†&#x27;</span>)</span><br><span class="line">        state.<span class="property">sum</span> += value</span><br><span class="line">  &#125;,</span><br><span class="line">    <span class="title function_">JIAN</span>(<span class="params">state,value</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutationsä¸­çš„JIANè¢«è°ƒç”¨äº†&#x27;</span>)</span><br><span class="line">        state.<span class="property">sum</span> -= value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å‡†å¤‡stateâ€”â€”ç”¨äºå­˜å‚¨æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">    <span class="attr">sum</span>:<span class="number">0</span> <span class="comment">//å½“å‰çš„å’Œ</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åˆ›å»ºå¹¶æš´éœ²store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>  <strong>ï¼ˆ2ï¼‰Count.vue</strong></p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>å½“å‰æ±‚å’Œä¸ºï¼š&#123;&#123;$store.state.sum&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model.number</span>=<span class="string">&quot;n&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;decrement&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;incrementOdd&quot;</span>&gt;</span>å½“å‰æ±‚å’Œä¸ºå¥‡æ•°å†åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;incrementWait&quot;</span>&gt;</span>ç­‰ä¸€ç­‰å†åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">name</span>:<span class="string">&#x27;Count&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">n</span>:<span class="number">1</span>, <span class="comment">//ç”¨æˆ·é€‰æ‹©çš„æ•°å­—</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">increment</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">// commit æ˜¯æ“ä½œ mutations</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;JIA&#x27;</span>,<span class="variable language_">this</span>.<span class="property">n</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">decrement</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">// commit æ˜¯æ“ä½œ mutations</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;JIAN&#x27;</span>,<span class="variable language_">this</span>.<span class="property">n</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">incrementOdd</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">// dispatch æ˜¯æ“ä½œ actions</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;jiaOdd&#x27;</span>,<span class="variable language_">this</span>.<span class="property">n</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">incrementWait</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">// dispatch æ˜¯æ“ä½œ actions</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;jiaWait&#x27;</span>,<span class="variable language_">this</span>.<span class="property">n</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Count&#x27;</span>,<span class="variable language_">this</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;css&quot;</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-tag">button</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">margin-left</span>: <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="localStorage-sessionStorage"><a href="#localStorage-sessionStorage" class="headerlink" title="localStorage &#x2F; sessionStorage"></a>localStorage &#x2F; sessionStorage</h2><p>è¿™ç§é€šä¿¡æ¯”è¾ƒç®€å•,ç¼ºç‚¹æ˜¯æ•°æ®å’ŒçŠ¶æ€æ¯”è¾ƒæ··ä¹±,ä¸å¤ªå®¹æ˜“ç»´æŠ¤ã€‚</p><ul><li>é€šè¿‡<code>window.localStorage.getItem(key)</code>è·å–æ•°æ®</li><li>é€šè¿‡<code>window.localStorage.setItem(key,value)</code>å­˜å‚¨æ•°æ®</li></ul><p><strong>æ³¨æ„ç”¨<code>JSON.parse()</code> &#x2F; <code>JSON.stringify()</code> åšæ•°æ®æ ¼å¼è½¬æ¢ï¼Œ localStorage &#x2F; sessionStorageå¯ä»¥ç»“åˆvuex, å®ç°<code>æ•°æ®çš„æŒä¹…ä¿å­˜</code>,åŒæ—¶ä½¿ç”¨vuexè§£å†³æ•°æ®å’ŒçŠ¶æ€æ··ä¹±é—®é¢˜.</strong></p><h2 id="è‡ªå·±å®ç°ç®€å•çš„-Store-æ¨¡å¼"><a href="#è‡ªå·±å®ç°ç®€å•çš„-Store-æ¨¡å¼" class="headerlink" title="è‡ªå·±å®ç°ç®€å•çš„ Store æ¨¡å¼"></a>è‡ªå·±å®ç°ç®€å•çš„ Store æ¨¡å¼</h2><p>å¯¹äºå°å‹çš„é¡¹ç›®ï¼Œé€šä¿¡ååˆ†ç®€å•ï¼Œè¿™æ—¶ä½¿ç”¨ Vuex åè€Œä¼šæ˜¾å¾—å†—ä½™å’Œç¹çï¼Œè¿™ç§æƒ…å†µæœ€å¥½ä¸è¦ä½¿ç”¨ Vuexï¼Œå¯ä»¥è‡ªå·±åœ¨é¡¹ç›®ä¸­å®ç°ç®€å•çš„ Storeã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// store.js</span></span><br><span class="line"><span class="keyword">const</span> store = &#123;</span><br><span class="line">  <span class="attr">debug</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">author</span>: <span class="string">&#x27;yushihu!&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  setAuthorAction (newValue) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">debug</span>) <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;setAuthorAction triggered with&#x27;</span>, newValue)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">author</span> = newValue</span><br><span class="line">  &#125;,</span><br><span class="line">  deleteAuthorAction () &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">debug</span>) <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;deleteAuthorAction triggered&#x27;</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">author</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Vueç»„ä»¶é—´é€šä¿¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git è‘µèŠ±å®å…¸</title>
      <link href="/2023/09/06/git/git/"/>
      <url>/2023/09/06/git/git/</url>
      
        <content type="html"><![CDATA[<h2 id="è´¦æˆ·é…ç½®"><a href="#è´¦æˆ·é…ç½®" class="headerlink" title="è´¦æˆ·é…ç½®"></a>è´¦æˆ·é…ç½®</h2><ol><li>é…ç½®å…¨å±€è´¦æˆ·ï¼Œå¯¹æ‰€æœ‰ Git ä»“åº“æœ‰æ•ˆ</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&#x27;Your Name&#x27;</span></span><br><span class="line">git config --global user.email <span class="string">&#x27;Your Email&#x27;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>é…ç½®å±€éƒ¨è´¦æˆ·ï¼Œåªå¯¹å½“å‰ Git ä»“åº“æœ‰æ•ˆ</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --<span class="built_in">local</span> user.name <span class="string">&#x27;Your Name&#x27;</span></span><br><span class="line">git config --<span class="built_in">local</span> user.email <span class="string">&#x27;Your Email&#x27;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>æŸ¥çœ‹å…¨å±€é…ç½®</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global --list</span><br></pre></td></tr></table></figure><ol start="4"><li>æŸ¥çœ‹å±€éƒ¨é…ç½®</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --<span class="built_in">local</span> --list</span><br></pre></td></tr></table></figure><h2 id="ç”Ÿæˆssh-å¯†é’¥"><a href="#ç”Ÿæˆssh-å¯†é’¥" class="headerlink" title="ç”Ÿæˆssh å¯†é’¥"></a>ç”Ÿæˆssh å¯†é’¥</h2><p>è¿æ¥åˆ°githubä»“åº“ï¼Œå…¬é’¥æ–‡ä»¶å­˜æ”¾åœ¨C:&#x2F;ç”¨æˆ·æ–‡ä»¶å¤¹&#x2F;.ssh&#x2F;id_rsa.pub</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;ä½ çš„é‚®ç®±&quot;</span></span><br><span class="line">ssh -T git@github.com   //æµ‹è¯•è¿æ¥å‘½ä»¤</span><br></pre></td></tr></table></figure><h2 id="æœ¬åœ°åŸºæœ¬æ“ä½œ"><a href="#æœ¬åœ°åŸºæœ¬æ“ä½œ" class="headerlink" title="æœ¬åœ°åŸºæœ¬æ“ä½œ"></a>æœ¬åœ°åŸºæœ¬æ“ä½œ</h2><h3 id="åˆå§‹åŒ–æœ¬åœ°åº“"><a href="#åˆå§‹åŒ–æœ¬åœ°åº“" class="headerlink" title="åˆå§‹åŒ–æœ¬åœ°åº“"></a>åˆå§‹åŒ–æœ¬åœ°åº“</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹çŠ¶æ€"><a href="#æŸ¥çœ‹çŠ¶æ€" class="headerlink" title="æŸ¥çœ‹çŠ¶æ€"></a>æŸ¥çœ‹çŠ¶æ€</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ æš‚å­˜åŒº-git-add"><a href="#æ·»åŠ æš‚å­˜åŒº-git-add" class="headerlink" title="æ·»åŠ æš‚å­˜åŒº git add"></a>æ·»åŠ æš‚å­˜åŒº git add</h3><ul><li>å°†å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸‹æ‰€æœ‰å˜æ›´æ·»åŠ åˆ°æš‚å­˜åŒº</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br></pre></td></tr></table></figure><ul><li>å°†æœ¬åœ°åº“æ‰€æœ‰å˜æ›´æ·»åŠ åˆ°æš‚å­˜åŒº</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add -A</span><br></pre></td></tr></table></figure><ul><li>æŒ‡å®šæ–‡ä»¶æ·»åŠ æš‚å­˜åŒº</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add file1 file2 ...</span><br></pre></td></tr></table></figure><h3 id="æäº¤æœ¬åœ°åº“-git-commit"><a href="#æäº¤æœ¬åœ°åº“-git-commit" class="headerlink" title="æäº¤æœ¬åœ°åº“ git commit"></a>æäº¤æœ¬åœ°åº“ git commit</h3><ul><li>æäº¤æ‰€æœ‰å˜æ›´</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git commit</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">git commit -m <span class="string">&#x27;æ—¥å¿—ä¿¡æ¯&#x27;</span> -a</span><br></pre></td></tr></table></figure><ul><li>æäº¤å½“å‰ç›®å½•åŠå…¶å­ç›®å½•çš„å˜æ›´</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&#x27;æ—¥å¿—ä¿¡æ¯&#x27;</span> .</span><br></pre></td></tr></table></figure><ul><li>æäº¤æŒ‡å®šæ–‡ä»¶</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&#x27;æ—¥å¿—ä¿¡æ¯&#x27;</span> fileName</span><br></pre></td></tr></table></figure><h2 id="æ¯”è¾ƒå·®å¼‚-git-diff"><a href="#æ¯”è¾ƒå·®å¼‚-git-diff" class="headerlink" title="æ¯”è¾ƒå·®å¼‚ git diff"></a>æ¯”è¾ƒå·®å¼‚ git diff</h2><ol><li>æ¯”è¾ƒå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„æ‰€æœ‰å·®å¼‚ï¼Œåªèƒ½æŸ¥çœ‹æ—§æ–‡ä»¶çš„å˜æ›´ï¼ˆåŒ…æ‹¬ä¿®æ”¹å’Œåˆ é™¤ï¼‰ï¼Œä¸èƒ½æŸ¥çœ‹æ–°æ–‡ä»¶ï¼ˆå› ä¸ºæ–°æ–‡ä»¶è¿˜ä¸ºè¢« git è¿½è¸ªï¼‰</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff</span><br></pre></td></tr></table></figure><ol start="2"><li>æ¯”è¾ƒæŒ‡å®šæ–‡ä»¶å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„å·®å¼‚</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff fileName</span><br></pre></td></tr></table></figure><ol start="3"><li>æ¯”è¾ƒæš‚å­˜åŒºå’Œ HEAD çš„æ‰€æœ‰å·®å¼‚</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff --cached</span><br></pre></td></tr></table></figure><ol start="4"><li>æ¯”è¾ƒæŒ‡å®šæ–‡ä»¶æš‚å­˜åŒºå’Œ HEAD çš„å·®å¼‚</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff --cached fileName</span><br></pre></td></tr></table></figure><ol start="5"><li>æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬çš„å·®å¼‚</li></ol><ul><li>ä»¥å‰è€…ä¸ºåŸºå‡†çœ‹åè€…çš„å˜åŒ–</li><li>HEAD è¡¨ç¤ºæœ€åä¸€æ¬¡ commit å¯¹åº”çš„ç‰ˆæœ¬ï¼ŒHEAD~1 å¾€å‰ä¸€ä¸ªç‰ˆæœ¬</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff ç‰ˆæœ¬å·1 ç‰ˆæœ¬å·2</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git diff HEAD~1 HEAD</span><br><span class="line">git diff HEAD~2 HEAD</span><br></pre></td></tr></table></figure><ol start="6"><li>æ¯”è¾ƒä¸¤ä¸ªåˆ†æ”¯æŒ‡å®šæ–‡ä»¶çš„å·®å¼‚</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff åˆ†æ”¯1 åˆ†æ”¯2 fileName</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹æ—¥å¿—ä¿¡æ¯-git-log"><a href="#æŸ¥çœ‹æ—¥å¿—ä¿¡æ¯-git-log" class="headerlink" title="æŸ¥çœ‹æ—¥å¿—ä¿¡æ¯ git log"></a>æŸ¥çœ‹æ—¥å¿—ä¿¡æ¯ git log</h2><ol><li>æŸ¥çœ‹ç®€è¦æ—¥å¿—ä¿¡æ¯</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reflog</span><br></pre></td></tr></table></figure><ol start="2"><li>æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ä¿¡æ¯</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br></pre></td></tr></table></figure><ol start="3"><li>æŸ¥çœ‹æç®€æ—¥å¿—ä¿¡æ¯</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --oneline</span><br></pre></td></tr></table></figure><ol start="4"><li>æŸ¥çœ‹æœ€è¿‘ n æ¬¡çš„ç‰ˆæœ¬ä¿¡æ¯</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> -n</span><br></pre></td></tr></table></figure><ol start="5"><li>æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯çš„ç‰ˆæœ¬å†å²</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --all</span><br></pre></td></tr></table></figure><ol start="6"><li>ä»¥å›¾å½¢å½¢å¼å±•ç¤ºç‰ˆæœ¬å†å²</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --graph</span><br></pre></td></tr></table></figure><ol start="7"><li>æŸ¥çœ‹æ¶‰åŠåˆ°æŒ‡å®šæ–‡ä»¶çš„ commit è®°å½•</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> fileName</span><br></pre></td></tr></table></figure><ol start="8"><li>æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶æ¯ä¸€è¡Œä¿®æ”¹å¯¹åº”çš„ commit è®°å½•å’Œä½œè€…</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git blame fileName</span><br></pre></td></tr></table></figure><h2 id="åˆ†æ”¯å‘½ä»¤"><a href="#åˆ†æ”¯å‘½ä»¤" class="headerlink" title="åˆ†æ”¯å‘½ä»¤"></a>åˆ†æ”¯å‘½ä»¤</h2><h3 id="åˆ›å»ºåˆ†æ”¯"><a href="#åˆ›å»ºåˆ†æ”¯" class="headerlink" title="åˆ›å»ºåˆ†æ”¯"></a>åˆ›å»ºåˆ†æ”¯</h3><ul><li>åŸºäºå½“å‰åˆ†æ”¯åˆ›å»ºåˆ†æ”¯</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch æ–°åˆ†æ”¯</span><br></pre></td></tr></table></figure><ul><li>åŸºäºæŒ‡å®šåˆ†æ”¯åˆ›å»ºåˆ†æ”¯</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch æ–°åˆ†æ”¯ å·²æœ‰åˆ†æ”¯</span><br></pre></td></tr></table></figure><ul><li>åŸºäºæŸä¸ª commit åˆ›å»ºåˆ†æ”¯</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch æ–°åˆ†æ”¯ commitID</span><br></pre></td></tr></table></figure><ul><li>åŸºäºå½“å‰åˆ†æ”¯åˆ›å»ºåˆ†æ”¯å¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b æ–°åˆ†æ”¯</span><br></pre></td></tr></table></figure><ul><li>åŸºäºè¿œç¨‹åˆ†æ”¯åˆ›å»ºæ–°åˆ†æ”¯</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b æ–°åˆ†æ”¯ åˆ«å/è¿œç¨‹åˆ†æ”¯å</span><br><span class="line">git checkout -b test_2023 origin/test_2023</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯"><a href="#æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯" class="headerlink" title="æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯"></a>æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -v</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤åˆ†æ”¯"><a href="#åˆ é™¤åˆ†æ”¯" class="headerlink" title="åˆ é™¤åˆ†æ”¯"></a>åˆ é™¤åˆ†æ”¯</h3><ul><li>å®‰å…¨åˆ é™¤æœ¬åœ°åˆ†æ”¯</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d åˆ†æ”¯</span><br></pre></td></tr></table></figure><ul><li>å¼ºåˆ¶åˆ é™¤æœ¬åœ°åˆ†æ”¯</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -D åˆ†æ”¯</span><br></pre></td></tr></table></figure><h3 id="åˆ‡æ¢åˆ†æ”¯"><a href="#åˆ‡æ¢åˆ†æ”¯" class="headerlink" title="åˆ‡æ¢åˆ†æ”¯"></a>åˆ‡æ¢åˆ†æ”¯</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout åˆ†æ”¯å</span><br></pre></td></tr></table></figure><h2 id="åˆå¹¶åˆ†æ”¯"><a href="#åˆå¹¶åˆ†æ”¯" class="headerlink" title="åˆå¹¶åˆ†æ”¯"></a>åˆå¹¶åˆ†æ”¯</h2><h3 id="åˆå¹¶æœ¬åœ°åˆ†æ”¯"><a href="#åˆå¹¶æœ¬åœ°åˆ†æ”¯" class="headerlink" title="åˆå¹¶æœ¬åœ°åˆ†æ”¯"></a>åˆå¹¶æœ¬åœ°åˆ†æ”¯</h3><p><code>merge</code> å’Œ <code>rebase</code>çš„åŒºåˆ«æœ‰å¾…å­¦ä¹ å®è·µ :worried:</p><ol><li>å°† A åˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ï¼Œä¸”ä¸º merge åˆ›å»º commit</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge A</span><br></pre></td></tr></table></figure><ol start="2"><li>å°† A åˆ†æ”¯åˆå¹¶åˆ° B åˆ†æ”¯ï¼Œä¸”ä¸º merge åˆ›å»º commit</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge A B</span><br></pre></td></tr></table></figure><ol start="3"><li>æŠŠå½“å‰åˆ†â½€åŸºäº B åˆ†â½€åš rebaseï¼Œä»¥ä¾¿æŠŠ B åˆ†â½€åˆâ¼Šåˆ°å½“å‰åˆ†â½€</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase B</span><br></pre></td></tr></table></figure><ol start="4"><li>æŠŠ A åˆ†â½€åŸºäº B åˆ†â½€åš rebaseï¼Œä»¥ä¾¿æŠŠ B åˆ†â½€åˆâ¼Šåˆ° A åˆ†â½€</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase B A</span><br></pre></td></tr></table></figure><h3 id="åˆå¹¶è¿œç¨‹ä»“åº“åˆ†æ”¯"><a href="#åˆå¹¶è¿œç¨‹ä»“åº“åˆ†æ”¯" class="headerlink" title="åˆå¹¶è¿œç¨‹ä»“åº“åˆ†æ”¯"></a>åˆå¹¶è¿œç¨‹ä»“åº“åˆ†æ”¯</h3><ol><li>å°†è¿œç¨‹æŒ‡å®šåˆ†æ”¯ä¸æœ¬åœ°å½“å‰åˆ†æ”¯åˆå¹¶ã€‚å¯ç”¨äºåœ¨åˆå¹¶åˆ°å›¢é˜Ÿå…¬å…±åˆ†æ”¯ä¹‹å‰è§£å†³å†²çªé—®é¢˜ï¼Œåœ¨æœ¬åœ°åˆå¹¶å…¬å…±åˆ†æ”¯å…ˆè§£å†³æ‰å†²çªã€‚</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge --no-ff origin/develop_2023-03-12</span><br></pre></td></tr></table></figure><h2 id="ç‰ˆæœ¬ç©¿æ¢­ä¸å›æ»š"><a href="#ç‰ˆæœ¬ç©¿æ¢­ä¸å›æ»š" class="headerlink" title="ç‰ˆæœ¬ç©¿æ¢­ä¸å›æ»š"></a>ç‰ˆæœ¬ç©¿æ¢­ä¸å›æ»š</h2><ol><li>å·¥ä½œåŒºæŒ‡å®šæ–‡ä»¶æ¢å¤æˆå’Œæš‚å­˜åŒºä¸€æ ·</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git checkout file1 file2 ...</span><br><span class="line"></span><br><span class="line"><span class="comment"># tips in the Git sh</span></span><br><span class="line"><span class="comment"># use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory</span></span><br><span class="line">git restore file1 file2 ...</span><br></pre></td></tr></table></figure><ol start="2"><li>æš‚å­˜åŒºæŒ‡å®šæ–‡ä»¶æ¢å¤æˆå’Œ HEAD ä¸€æ ·</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git reset file1 file2 ...</span><br><span class="line"></span><br><span class="line"><span class="comment"># tips in the Git sh</span></span><br><span class="line"><span class="comment"># use &quot;git restore --staged &lt;file&gt;...&quot; to unstage</span></span><br><span class="line">git restore --staged file1 file2 ...</span><br></pre></td></tr></table></figure><ol start="3"><li>å·¥ä½œåŒºå’Œæš‚å­˜åŒºæ‰€æœ‰æ–‡ä»¶æ¢å¤æˆå’Œ HEAD ä¸€æ ·</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard</span><br></pre></td></tr></table></figure><ol start="4"><li>å·¥ä½œåŒºå’Œæš‚å­˜åŒºæ‰€æœ‰æ–‡ä»¶æ¢å¤æˆå’ŒæŒ‡å®šç‰ˆæœ¬ä¸€æ ·</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard ç‰ˆæœ¬å·</span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹-commit-è®°å½•"><a href="#ä¿®æ”¹-commit-è®°å½•" class="headerlink" title="ä¿®æ”¹ commit è®°å½•"></a>ä¿®æ”¹ commit è®°å½•</h2><ol><li>å¾€æœ€åä¸€æ¬¡ commit è¿½åŠ è®°å½•ï¼Œè€Œä¸æ–°å»º commit - <a href="https://segmentfault.com/a/1190000038535534">reference</a></li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit --amend</span><br></pre></td></tr></table></figure><ol start="2"><li>åˆå¹¶ commit è®°å½• - <a href="https://www.jianshu.com/p/4a8f4af4e803">reference</a></li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase -i HEAD~2</span><br></pre></td></tr></table></figure><h2 id="è¿œç¨‹ä»“åº“äº¤äº’"><a href="#è¿œç¨‹ä»“åº“äº¤äº’" class="headerlink" title="è¿œç¨‹ä»“åº“äº¤äº’"></a>è¿œç¨‹ä»“åº“äº¤äº’</h2><h3 id="git-remote"><a href="#git-remote" class="headerlink" title="git remote"></a>git remote</h3><ol><li>æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“åœ°å€åˆ«å</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br></pre></td></tr></table></figure><ol start="2"><li>ä¸ºè¿œç¨‹ä»“åº“èµ·åˆ«å</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add åˆ«å åœ°å€</span><br></pre></td></tr></table></figure><ol start="3"><li>åˆ é™¤è¿œç¨‹ä»“åº“åˆ«å</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote remove åˆ«å</span><br></pre></td></tr></table></figure><ol start="4"><li>ä¿®æ”¹åˆ«å</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote rename æ—§å æ–°å</span><br></pre></td></tr></table></figure><h3 id="git-clone"><a href="#git-clone" class="headerlink" title="git clone"></a>git clone</h3><ol><li>å…‹éš†è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> åœ°å€</span><br></pre></td></tr></table></figure><ol start="2"><li>å…‹éš†è¿œç¨‹ä»“åº“æŒ‡å®šåˆ†æ”¯åˆ°æœ¬åœ°</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b è¿œç¨‹ä»“åº“åˆ†æ”¯å åœ°å€</span><br></pre></td></tr></table></figure><h3 id="git-pull"><a href="#git-pull" class="headerlink" title="git pull"></a>git pull</h3><ol><li>æ‹‰å–è¿œç¨‹åˆ†æ”¯ï¼Œå¹¶ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull åˆ«å åˆ†æ”¯å</span><br></pre></td></tr></table></figure><h3 id="git-push"><a href="#git-push" class="headerlink" title="git push"></a>git push</h3><ol><li>æ¨é€æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°ä»“åº“æŒ‡å®šåˆ†æ”¯</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push åˆ«å æœ¬åœ°åˆ†æ”¯:è¿œç¨‹åˆ†æ”¯</span><br></pre></td></tr></table></figure><ol start="2"><li>å¦‚æœè¿œç¨‹åˆ†æ”¯è¢«çœç•¥ï¼Œè¡¨ç¤ºå°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°ä¸ä¹‹å­˜åœ¨è¿½è¸ªå…³ç³»çš„è¿œç¨‹åˆ†æ”¯ï¼ˆé€šå¸¸ä¸¤è€…åŒåï¼‰ï¼Œå¦‚æœè¯¥è¿œç¨‹åˆ†æ”¯ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè¢«æ–°å»º</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure><ol start="3"><li>å¦‚æœçœç•¥æœ¬åœ°åˆ†æ”¯åï¼Œç­‰åŒäºæ¨é€ä¸€ä¸ªç©ºçš„æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹åˆ†æ”¯ï¼Œè¡¨ç¤ºåˆ é™¤æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ï¼Œç­‰åŒäº</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git push origin :master</span><br><span class="line"><span class="comment"># ç­‰åŒäº</span></span><br><span class="line">git push origin --delete master</span><br></pre></td></tr></table></figure><ol start="4"><li>å¼ºåˆ¶æ¨é€</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push --force origin master</span><br></pre></td></tr></table></figure><ol start="5"><li>ç›´æ¥ä½¿ç”¨ä»“åº“åœ°å€æ¨é€ï¼Œæ— éœ€èµ·åˆ«å</li></ol><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push git@github.com:&lt;USERNAME&gt;/&lt;REPO&gt;.git master:main</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Gitä»“åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3</title>
      <link href="/2023/09/06/Vue/vue3/"/>
      <url>/2023/09/06/Vue/vue3/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue3"><a href="#Vue3" class="headerlink" title="Vue3"></a>Vue3</h1><p><a href="https://v3.cn.vuejs.org/">å®˜ç½‘ä¼ é€é—¨</a></p><h2 id="Vue3-çš„å˜åŒ–"><a href="#Vue3-çš„å˜åŒ–" class="headerlink" title="Vue3 çš„å˜åŒ–"></a>Vue3 çš„å˜åŒ–</h2><p><strong><em>æ€§èƒ½çš„æå‡</em></strong></p><ul><li>æ‰“åŒ…å¤§å°å‡å°‘ 41%</li><li>åˆæ¬¡æ¸²æŸ“å¿« 55%, æ›´æ–°æ¸²æŸ“å¿« 133%</li><li>å†…å­˜å‡å°‘ 54%</li></ul><p><strong><em>æºç çš„å‡çº§</em></strong></p><ul><li>ä½¿ç”¨ Proxy ä»£æ›¿ defineProperty å®ç°å“åº”å¼</li><li>é‡å†™è™šæ‹Ÿ DOM çš„å®ç°å’Œ Tree-Shaking</li></ul><p><strong><em>æ‹¥æŠ± TypeScript</em></strong></p><ul><li>Vue3 å¯ä»¥æ›´å¥½çš„æ”¯æŒ TypeScript</li></ul><p><strong><em>æ–°çš„ç‰¹æ€§</em></strong></p><ol><li>Composition APIï¼ˆç»„åˆ APIï¼‰</li></ol><ul><li>setup é…ç½®</li><li>ref ä¸ reactive</li><li>watch ä¸ watchEffect</li><li>provide ä¸ inject</li><li>â€¦â€¦</li></ul><ol start="2"><li>æ–°çš„å†…ç½®ç»„ä»¶</li></ol><ul><li>Fragment</li><li>Teleport</li><li>Suspense</li></ul><ol start="3"><li>å…¶ä»–æ”¹å˜</li></ol><ul><li>æ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­</li><li>data é€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•°</li><li>ç§»é™¤ keyCode æ”¯æŒä½œä¸º v-on çš„ä¿®é¥°ç¬¦</li><li>â€¦â€¦</li></ul><h2 id="åˆ›å»º-Vue3-å·¥ç¨‹"><a href="#åˆ›å»º-Vue3-å·¥ç¨‹" class="headerlink" title="åˆ›å»º Vue3 å·¥ç¨‹"></a>åˆ›å»º Vue3 å·¥ç¨‹</h2><h3 id="vite-å’Œ-vue-cli-å¯¹æ¯”"><a href="#vite-å’Œ-vue-cli-å¯¹æ¯”" class="headerlink" title="vite å’Œ vue-cli å¯¹æ¯”"></a>vite å’Œ vue-cli å¯¹æ¯”</h3><table><thead><tr><th></th><th>vite</th><th>vue-cli</th></tr></thead><tbody><tr><td>æ”¯æŒçš„ vue ç‰ˆæœ¬</td><td>ä»…æ”¯æŒ vue3.x</td><td>æ”¯æŒ 2.x å’Œ 3.x</td></tr><tr><td>æ˜¯å¦åŸºäº webpack</td><td>å¦</td><td>æ˜¯</td></tr><tr><td>è¿è¡Œé€Ÿåº¦</td><td>å¿«</td><td>è¾ƒæ…¢</td></tr><tr><td>åŠŸèƒ½å®Œæ•´åº¦</td><td>å°è€Œå·§</td><td>å¤§è€Œå…¨</td></tr><tr><td>æ˜¯å¦å»ºè®®ä¼ä¸šçº§å¼€å‘ä½¿ç”¨</td><td>æš‚ä¸å»ºè®®</td><td>å»ºè®®</td></tr></tbody></table><h3 id="ä½¿ç”¨-vue-cli-åˆ›å»º"><a href="#ä½¿ç”¨-vue-cli-åˆ›å»º" class="headerlink" title="ä½¿ç”¨ vue-cli åˆ›å»º"></a>ä½¿ç”¨ vue-cli åˆ›å»º</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">### æŸ¥çœ‹ @vue/cli ç‰ˆæœ¬ï¼Œç¡®ä¿ @vue/cli ç‰ˆæœ¬åœ¨4.5.0ä»¥ä¸Š</span></span><br><span class="line">vue --version</span><br><span class="line"><span class="comment">### å®‰è£…æˆ–è€…å‡çº§ @vue/cli</span></span><br><span class="line">npm install -g @vue/cli</span><br><span class="line"><span class="comment">### åˆ›å»º</span></span><br><span class="line">vue create vue_test</span><br><span class="line"><span class="comment">### å¯åŠ¨</span></span><br><span class="line"><span class="built_in">cd</span> vue_test</span><br><span class="line">npm run serve</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-vite-åˆ›å»º"><a href="#ä½¿ç”¨-vite-åˆ›å»º" class="headerlink" title="ä½¿ç”¨ vite åˆ›å»º"></a>ä½¿ç”¨ vite åˆ›å»º</h3><ul><li><a href="https://vitejs.cn/">vite</a>ï¼šæ–°ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·</li><li>ä¼˜åŠ¿ï¼š<ul><li>å¼€å‘ç¯å¢ƒä¸­ï¼Œæ— éœ€æ‰“åŒ…æ“ä½œï¼Œå¯å¿«é€Ÿå†·å¯åŠ¨ï¼ˆwebpack æ¯æ¬¡è¿è¡Œé¡¹ç›®éƒ½è¦æ‰“åŒ…ï¼‰</li><li>è½»é‡å¿«é€Ÿçš„çƒ­é‡è½½ HMRï¼ˆæ›´æ”¹ä»£ç å±€éƒ¨åˆ·æ–°ï¼Œwebpack ä¹Ÿè¡Œï¼Œä½† vite æ›´è½»é‡ï¼‰</li><li>çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘ï¼Œæ— éœ€ç­‰å¾…æ•´ä¸ªåº”ç”¨ç¼–è¯‘å®Œæˆ</li></ul></li><li>ä¼ ç»Ÿæ„å»º ä¸ vite æ„å»ºå¯¹æ¯”ï¼ˆvite ç°ç”¨ç°åˆ†æï¼ŒæŒ‰éœ€å¯¼å…¥ï¼Œå› æ­¤é¡¹ç›®å¯åŠ¨æ›´å¿«ï¼‰</li></ul><p><img src="https://raw.githubusercontent.com/dont-sleep-so-late/CDN/master/images/bundle.png" alt="Bundle"></p><p><img src="https://raw.githubusercontent.com/dont-sleep-so-late/CDN/master/images/ESM.png" alt="ESM"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm init vite-app é¡¹ç›®åç§°</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> é¡¹ç›®åç§°</span><br><span class="line">npm install</span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure><h2 id="Vue3-é¡¹ç›®ç»“æ„"><a href="#Vue3-é¡¹ç›®ç»“æ„" class="headerlink" title="Vue3 é¡¹ç›®ç»“æ„"></a>Vue3 é¡¹ç›®ç»“æ„</h2><p>Vue3 ä¸­ <code>main.js</code> ä»£ç æœ‰æ‰€æ”¹å˜ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸å†å¼•å…¥ Vue æ„é€ å‡½æ•°ï¼Œè€Œæ˜¯å¼•å…¥ createApp å·¥å‚å‡½æ•°</span></span><br><span class="line"><span class="comment">// createAppå‡½æ•°ï¼šåˆ›å»º vue çš„ SPA å®ä¾‹</span></span><br><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºåº”ç”¨å®ä¾‹å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p>Vue3 æ”¯æŒå®šä¹‰å¤šä¸ªæ ¹èŠ‚ç‚¹ï¼Œç»„ä»¶çš„ <code>&lt;template&gt;</code> æ”¯æŒå®šä¹‰å¤šä¸ªæ ¹èŠ‚ç‚¹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ ¹èŠ‚ç‚¹<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ ¹èŠ‚ç‚¹<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å¸¸ç”¨-Composition-API"><a href="#å¸¸ç”¨-Composition-API" class="headerlink" title="å¸¸ç”¨ Composition API"></a>å¸¸ç”¨ Composition API</h2><h3 id="setup"><a href="#setup" class="headerlink" title="setup"></a>setup</h3><ul><li>setup æ˜¯ Vue3 ä¸­ä¸€ä¸ªæ–°çš„é…ç½®é¡¹ï¼Œå€¼ä¸ºå‡½æ•°</li><li>ç»„ä»¶ä¸­ä½¿ç”¨çš„æ•°æ®ã€æ–¹æ³•ç­‰éƒ½è¦é…ç½®åœ¨ setup ä¸­</li><li>setup å‡½æ•°ä¸¤ç§è¿”å›å€¼ï¼š<ul><li>è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­çš„å±æ€§ã€æ–¹æ³•å¯åœ¨æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨</li><li>è¿”å›ä¸€ä¸ªæ¸²æŸ“å‡½æ•°ï¼Œå¯è‡ªå®šä¹‰æ¸²æŸ“å†…å®¹</li></ul></li><li>setup å‡½æ•°çš„å‚æ•°ï¼š<ul><li>propsï¼šå€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«äº†ç»„ä»¶å¤–éƒ¨ä¼ è¿›æ¥ï¼Œä¸”ç»„ä»¶å†…éƒ¨å£°æ˜æ¥æ”¶çš„å±æ€§</li><li>contextï¼šä¸Šä¸‹æ–‡å¯¹è±¡<ul><li><code>attrs</code>ï¼šå€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«äº†ç»„ä»¶å¤–éƒ¨ä¼ è¿›æ¥ï¼Œä¸”ç»„ä»¶å†…éƒ¨æ²¡æœ‰å£°æ˜æ¥æ”¶çš„å±æ€§ï¼Œç›¸å½“äº <code>this.$attrs</code></li><li><code>slots</code>ï¼šæ”¶åˆ°çš„æ’æ§½å†…å®¹ï¼Œç›¸å½“äº <code>this.$slots</code></li><li><code>emit</code>ï¼šè§¦å‘è‡ªå®šä¹‰äº‹ä»¶çš„å‡½æ•°ï¼Œç›¸å½“äº <code>this.$emit</code></li></ul></li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ²¡é”™ï¼Œæ¸²æŸ“å‡½æ•°å°±å« h</span></span><br><span class="line"><span class="keyword">import</span> &#123; h &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span><br><span class="line">  <span class="attr">props</span>: [<span class="string">&#x27;title&#x27;</span>],</span><br><span class="line">  <span class="comment">// Vue3 éœ€è¦å£°æ˜è‡ªå®šä¹‰äº‹ä»¶ï¼Œè™½ç„¶ä¸å£°æ˜ä¹Ÿèƒ½è¿è¡Œ</span></span><br><span class="line">  <span class="attr">emits</span>: [<span class="string">&#x27;changeCount&#x27;</span>],</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¿”å›å‡½æ•°</span></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  setup() &#123;</span></span><br><span class="line"><span class="comment">    return () =&gt; h(&#x27;h1&#x27;, &#x27;Hello&#x27;)</span></span><br><span class="line"><span class="comment">  &#125;,</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¿”å›å¯¹è±¡</span></span><br><span class="line">  <span class="title function_">setup</span>(<span class="params">props, context</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> name = <span class="string">&#x27;Vue3&#x27;</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">sayHello</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">      context.<span class="title function_">emit</span>(<span class="string">&#x27;changeCount&#x27;</span>, <span class="number">888</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      name,</span><br><span class="line">      sayHello,</span><br><span class="line">      test,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š</p><ul><li>setup åœ¨ <code>beforeCreate</code> é’©å­ä¹‹å‰æ‰§è¡Œï¼Œ<code>this</code> ä¸º <code>undefined</code></li><li>setup ä¸è¦å’Œ Vue2 é…ç½®æ··ç”¨ã€‚Vue2 çš„é…ç½®å¯ä»¥è®¿é—®åˆ° setup çš„å±æ€§æ–¹æ³•ï¼Œåè¿‡æ¥ä¸è¡Œï¼›å¦‚æœ‰é‡åï¼Œsetup ä¼˜å…ˆ</li><li>setup ä¸èƒ½æ˜¯ async å‡½æ•°ï¼Œå› ä¸º async å‡½æ•°è¿”å›çš„æ˜¯ promise ä¸æ˜¯å¯¹è±¡ï¼Œä¼šå¯¼è‡´æ¨¡æ¿æ— æ³•è®¿é—®å±æ€§æ–¹æ³•</li><li>è‹¥è¦è¿”å› promise å®ä¾‹ï¼Œéœ€è¦ <code>Suspense</code> å’Œå¼‚æ­¥ç»„ä»¶çš„é…åˆ</li></ul><h3 id="ref-å‡½æ•°"><a href="#ref-å‡½æ•°" class="headerlink" title="ref å‡½æ•°"></a>ref å‡½æ•°</h3><p>ä½œç”¨ï¼šå®šä¹‰å“åº”å¼æ•°æ®</p><p>è¯­æ³•ï¼š<code>const name = ref(initValue)</code></p><ul><li><code>ref</code> å‡½æ•°è¿”å›ä¸€ä¸ª <code>RefImpl</code>(reference implement) å®ä¾‹å¯¹è±¡ï¼Œå…¨ç§°å¼•ç”¨å®ç°çš„å®ä¾‹å¯¹è±¡</li><li>å®ƒåŒ…å«å“åº”å¼æ•°æ®ï¼Œç®€ç§°å¼•ç”¨å¯¹è±¡ã€reference å¯¹è±¡ã€ref å¯¹è±¡</li><li>JS è®¿é—®æ•°æ®ï¼š<code>name.value</code></li><li>æ¨¡æ¿è®¿é—®æ•°æ®ï¼š<code>&lt;div&gt;&#123;&#123; name &#125;&#125;&lt;/div&gt;</code></li></ul><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li><code>ref</code> å‡½æ•°å¯ä»¥æ¥æ”¶åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹</li><li>åŸºæœ¬ç±»å‹æ•°æ®çš„å“åº”å¼è¿˜æ˜¯é  <code>Object.defineProperty()</code> å®Œæˆ</li><li>å¯¹è±¡ç±»å‹æ•°æ®ä½¿ç”¨ ES6 çš„ Proxy å®ç°å“åº”å¼ï¼ŒVue3 æŠŠç›¸å…³æ“ä½œå°è£…åœ¨ <code>reactive</code> å‡½æ•°ä¸­</li><li>æŒ‰ç…§ä¹‹å‰çš„åŠæ³•ï¼Œå¯¹äºå¯¹è±¡æ•°æ®ï¼Œåº”è¯¥éå†æ¯ä¸€å±‚çš„å±æ€§æ·»åŠ  <code>getter</code> ã€<code>setter</code>ï¼Œä½† Vue3 ä½¿ç”¨ Proxy æŠŠå†…éƒ¨æ•°æ®ä¸€å£æ°”ç›‘æµ‹äº†</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; jobInfo.type &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> name = <span class="title function_">ref</span>(<span class="string">&#x27;Vue3&#x27;</span>)</span><br><span class="line">    <span class="keyword">let</span> jobInfo = <span class="title function_">ref</span>(&#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;frontend&#x27;</span>,</span><br><span class="line">      <span class="attr">salary</span>: <span class="string">&#x27;40w&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">changeInfo</span>(<span class="params"></span>) &#123;</span><br><span class="line">      name.<span class="property">value</span> = <span class="string">&#x27;é±¿é±¼ä¸&#x27;</span></span><br><span class="line">      <span class="comment">// jobInfo æ˜¯ RefImpl å®ä¾‹</span></span><br><span class="line">      <span class="comment">// jobInfo.value æ˜¯ Proxy å®ä¾‹å¯¹è±¡</span></span><br><span class="line">      jobInfo.<span class="property">value</span>.<span class="property">salary</span> = <span class="string">&#x27;50w&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      name,</span><br><span class="line">      jobInfo,</span><br><span class="line">      changeInfo,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="reactive-å‡½æ•°"><a href="#reactive-å‡½æ•°" class="headerlink" title="reactive å‡½æ•°"></a>reactive å‡½æ•°</h3><ul><li>å®šä¹‰å¼•ç”¨ç±»å‹çš„å“åº”å¼æ•°æ®ï¼Œä¸å¯ç”¨äº jibenleixingshuju</li><li><code>const ä»£ç†å¯¹è±¡ = reactive(æºå¯¹è±¡)</code> æ¥æ”¶å¯¹è±¡æˆ–æ•°ç»„ï¼Œè¿”å›ä»£ç†å¯¹è±¡ï¼ˆProxy çš„å®ä¾‹å¯¹è±¡ï¼‰</li><li><code>reactive</code> çš„å“åº”å¼æ˜¯æ·±åº¦çš„</li><li>åŸºäº ES6 çš„ Proxy å®ç°ï¼Œé€šè¿‡ä»£ç†å¯¹è±¡æ“ä½œæºå¯¹è±¡å†…éƒ¨æ•°æ®</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; reactive &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> person = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;Vue3&#x27;</span>,</span><br><span class="line">      <span class="attr">sex</span>: <span class="string">&#x27;unknown&#x27;</span>,</span><br><span class="line">      <span class="attr">info</span>: &#123;</span><br><span class="line">        <span class="attr">school</span>: <span class="string">&#x27;Oxford&#x27;</span>,</span><br><span class="line">        <span class="attr">major</span>: <span class="string">&#x27;computer&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> color = <span class="title function_">reactive</span>([<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">changeInfo</span>(<span class="params"></span>) &#123;</span><br><span class="line">      person.<span class="property">info</span>.<span class="property">major</span> = <span class="string">&#x27;art&#x27;</span></span><br><span class="line">      color[<span class="number">0</span>] = <span class="string">&#x27;yellow&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      person,</span><br><span class="line">      color,</span><br><span class="line">      changeInfo,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ref-VS-reactive"><a href="#ref-VS-reactive" class="headerlink" title="ref VS reactive"></a>ref VS reactive</h3><p>å®šä¹‰æ•°æ®ï¼š</p><ul><li>ref ç”¨äºå®šä¹‰åŸºæœ¬ç±»å‹æ•°æ®</li><li>reactive ç”¨äºå®šä¹‰å¯¹è±¡æˆ–æ•°ç»„ç±»å‹æ•°æ®</li><li>ref ä¹Ÿå¯å®šä¹‰å¯¹è±¡æˆ–æ•°ç»„ç±»å‹æ•°æ®ï¼Œå†…éƒ¨é€šè¿‡ reactive è½¬ä¸ºä»£ç†å¯¹è±¡</li><li>ä¸€èˆ¬ä½¿ç”¨ reactive å‡½æ•°ï¼Œå¯ä»¥æŠŠæ‰€æœ‰æ•°æ®å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡</li></ul><p>åŸç†ï¼š</p><ul><li>ref é€šè¿‡ <code>Object.defineProperty()</code> å®ç°å“åº”å¼</li><li>reactive é€šè¿‡ Proxy å®ç°å“åº”å¼ï¼ŒReflect æ“ä½œæºå¯¹è±¡æ•°æ®</li></ul><p>ä½¿ç”¨è§’åº¦ï¼š</p><ul><li>ref å®šä¹‰æ•°æ®ï¼Œè®¿é—®æ•°æ®éœ€è¦ <code>.value</code>ï¼Œæ¨¡æ¿ä¸­ä¸éœ€è¦</li><li>reactive å®šä¹‰çš„æ•°æ®ï¼Œéƒ½ä¸éœ€è¦</li></ul><h3 id="Vue3-å“åº”å¼åŸç†"><a href="#Vue3-å“åº”å¼åŸç†" class="headerlink" title="Vue3 å“åº”å¼åŸç†"></a>Vue3 å“åº”å¼åŸç†</h3><ul><li>é€šè¿‡ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy">Proxy</a> ä»£ç†ï¼Œæ‹¦æˆªå¯¹å¯¹è±¡å±æ€§çš„æ“ä½œï¼ŒåŒ…æ‹¬å¢åˆ æ”¹æŸ¥</li><li>é€šè¿‡ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect">Reflect</a> åå°„ï¼Œå¯¹æºå¯¹è±¡çš„å±æ€§è¿›è¡Œæ“ä½œ</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> originPerson = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Lily&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">22</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = <span class="keyword">new</span> <span class="title class_">Proxy</span>(originPerson, &#123;</span><br><span class="line">  <span class="comment">// æ‹¦æˆªå¢åŠ å’ŒæŸ¥è¯¢æ“ä½œ</span></span><br><span class="line">  <span class="title function_">get</span>(<span class="params">target, prop</span>) &#123;</span><br><span class="line">    <span class="comment">// è¯»å–æºå¯¹è±¡çš„å±æ€§</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">get</span>(originPerson, prop)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// æ‹¦æˆªä¿®æ”¹æ“ä½œ</span></span><br><span class="line">  <span class="title function_">set</span>(<span class="params">target, prop, value</span>) &#123;</span><br><span class="line">    <span class="comment">// ä¿®æ”¹æºå¯¹è±¡çš„å±æ€§</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">set</span>(target, prop, value)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// æ‹¦æˆªåˆ é™¤æ“ä½œ</span></span><br><span class="line">  <span class="title function_">deleteProperty</span>(<span class="params">target, prop</span>) &#123;</span><br><span class="line">    <span class="comment">// åˆ é™¤æºå¯¹è±¡çš„å±æ€§</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">deleteProperty</span>(target, prop)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">name</span>)</span><br><span class="line">person.<span class="property">age</span> = <span class="number">33</span></span><br><span class="line">person.<span class="property">sex</span> = <span class="string">&#x27;unknown&#x27;</span></span><br><span class="line"><span class="keyword">delete</span> person.<span class="property">age</span></span><br></pre></td></tr></table></figure><h3 id="computed-å‡½æ•°"><a href="#computed-å‡½æ•°" class="headerlink" title="computed å‡½æ•°"></a>computed å‡½æ•°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; reactive, computed &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> person = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">      <span class="attr">firstName</span>: <span class="string">&#x27;Cai&#x27;</span>,</span><br><span class="line">      <span class="attr">lastName</span>: <span class="string">&#x27;QP&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¡ç®—å±æ€§ç®€å†™å½¢å¼</span></span><br><span class="line">    person.<span class="property">fullName</span> = <span class="title function_">computed</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> person.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + person.<span class="property">lastName</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¡ç®—å±æ€§å®Œæ•´å½¢å¼</span></span><br><span class="line">    person.<span class="property">fullName</span> = <span class="title function_">computed</span>(&#123;</span><br><span class="line">      <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> person.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + person.<span class="property">lastName</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">set</span>(<span class="params">value</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> arr = value.<span class="title function_">split</span>(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">        person.<span class="property">firstName</span> = arr[<span class="number">0</span>]</span><br><span class="line">        person.<span class="property">lastName</span> = arr[<span class="number">1</span>]</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      person,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="watch-å‡½æ•°"><a href="#watch-å‡½æ•°" class="headerlink" title="watch å‡½æ•°"></a>watch å‡½æ•°</h3><p>:::tip Vue3 <code>watch</code> èƒ½ä¾¦å¬çš„ä¸œè¥¿<br>A watch source can only be a getter&#x2F;effect function, a ref, a reactive object, or an array of these types<br>:::</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref, reactive, watch &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®</span></span><br><span class="line"><span class="keyword">let</span> sum = <span class="title function_">ref</span>(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">let</span> msg = <span class="title function_">ref</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> person = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Vue3&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attr">info</span>: &#123;</span><br><span class="line">    <span class="attr">job</span>: &#123;</span><br><span class="line">      <span class="attr">salary</span>: <span class="number">40</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong><em>ä¾¦å¬ ref å®šä¹‰çš„å“åº”å¼æ•°æ®ï¼š</em></strong></p><ul><li>æ³¨æ„ä¸è¦å†™æˆ <code>sum.value</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‚æ•°ï¼šä¾¦å¬çš„æ•°æ®ï¼Œå›è°ƒï¼Œå…¶ä»–é…ç½®</span></span><br><span class="line"><span class="title function_">watch</span>(</span><br><span class="line">  sum,</span><br><span class="line">  <span class="function">(<span class="params">newVal, oldVal</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(newVal, oldVal)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123; <span class="attr">immediate</span>: <span class="literal">true</span> &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><strong><em>ä¾¦å¬å¤šä¸ª ref å®šä¹‰çš„å“åº”å¼æ•°æ®ï¼š</em></strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// newValï¼ŒoldVal ä¹Ÿæ˜¯æ•°ç»„</span></span><br><span class="line"><span class="title function_">watch</span>([sum, msg], <span class="function">(<span class="params">newVal, oldVal</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(newVal, oldVal)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong><em>ä¾¦å¬ ref å®šä¹‰çš„å¯¹è±¡ç±»å‹æ•°æ®ï¼š</em></strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨ ref å®šä¹‰å¯¹è±¡ç±»å‹æ•°æ®</span></span><br><span class="line"><span class="keyword">let</span> person = <span class="title function_">ref</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Vue3&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attr">info</span>: &#123;</span><br><span class="line">    <span class="attr">job</span>: &#123;</span><br><span class="line">      <span class="attr">salary</span>: <span class="number">40</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼€å¯æ·±åº¦ç›‘å¬æ‰æœ‰æ•ˆï¼Œæ­¤æ—¶ç›‘å¬çš„æ˜¯ RefImpl å®ä¾‹</span></span><br><span class="line"><span class="comment">// Ref å®ä¾‹çš„ value æ˜¯ Proxy å¯¹è±¡ï¼Œå­˜çš„æ˜¯åœ°å€</span></span><br><span class="line"><span class="comment">// å› æ­¤æ— æ³•ç›‘å¬ person å†…éƒ¨å±æ€§çš„å˜åŒ–</span></span><br><span class="line"><span class="title function_">watch</span>(person, <span class="function">(<span class="params">newVal, oldVal</span>) =&gt;</span> &#123; ... &#125;, &#123; <span class="attr">deep</span>:<span class="literal">true</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™ä¸ªå’Œ â€œä¾¦å¬ reactive å‡½æ•°ç›´æ¥è¿”å›çš„é‚£ä¸€æ•´å¨å“åº”å¼æ•°æ®â€ æ•ˆæœä¸€è‡´</span></span><br><span class="line"><span class="title function_">watch</span>(person.<span class="property">value</span>, <span class="function">(<span class="params">newVal, oldVal</span>) =&gt;</span> &#123;...&#125;)</span><br></pre></td></tr></table></figure><p><strong><em>ä¾¦å¬ reactive å‡½æ•°ç›´æ¥è¿”å›çš„é‚£ä¸€æ•´å¨å“åº”å¼æ•°æ®ï¼š</em></strong></p><ul><li>oldVal æ˜¯é”™è¯¯çš„ï¼å’Œ newVal çš„å€¼ä¸€æ ·</li><li>å¼ºåˆ¶å¼€å¯äº†æ·±åº¦ä¾¦å¬ï¼Œ<code>deep</code> é…ç½®ä¸ç”Ÿæ•ˆï¼</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">watch</span>(</span><br><span class="line">  person,</span><br><span class="line">  <span class="function">(<span class="params">newVal, oldVal</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(newVal, oldVal)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123; <span class="attr">immediate</span>: <span class="literal">true</span>, <span class="attr">deep</span>: <span class="literal">false</span> &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><strong><em>ä¾¦å¬ reactive å®šä¹‰çš„å“åº”å¼æ•°æ®æŸä¸ªå±æ€§ï¼š</em></strong></p><ul><li>å¦‚æœæ˜¯ <code>() =&gt; person.info</code> oldVal ä¹Ÿæ˜¯é”™è¯¯çš„ï¼</li><li><code>() =&gt; person.name</code> oldVal æ˜¯æ­£ç¡®çš„ï¼Œä½•æ—¶å¯¹ä½•æ—¶é”™è‡ªå·±ç¢ç£¨å§ï¼</li><li>æ­¤å¤„æ²¡æœ‰å¼ºåˆ¶å¼€å¯æ·±åº¦ç›‘å¬</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¦‚æœç›‘è§†çš„å±æ€§è¿˜æ˜¯å¯¹è±¡ï¼Œåˆ™éœ€è¦å¼€å¯æ·±åº¦ç›‘å¬</span></span><br><span class="line"><span class="title function_">watch</span>(</span><br><span class="line">  <span class="function">() =&gt;</span> person.<span class="property">info</span>,</span><br><span class="line">  <span class="function">(<span class="params">newVal, oldVal</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(newVal, oldVal)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123; <span class="attr">deep</span>: <span class="literal">true</span> &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><strong><em>ä¾¦å¬ reactive å®šä¹‰çš„å“åº”å¼æ•°æ®å¤šä¸ªå±æ€§ï¼š</em></strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">watch</span>(</span><br><span class="line">  [<span class="function">() =&gt;</span> person.<span class="property">name</span>, <span class="function">() =&gt;</span> person.<span class="property">info</span>],</span><br><span class="line">  <span class="function">(<span class="params">newVal, oldVal</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(newVal, oldVal)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123; <span class="attr">deep</span>: <span class="literal">true</span> &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="watchEffect-å‡½æ•°"><a href="#watchEffect-å‡½æ•°" class="headerlink" title="watchEffect å‡½æ•°"></a>watchEffect å‡½æ•°</h3><ul><li><code>watchEffect</code> ä¸éœ€è¦æŒ‡æ˜ç›‘å¬å“ªä¸ªå±æ€§ï¼Œå›è°ƒé‡Œç”¨åˆ°å“ªä¸ªå±æ€§ï¼Œå°±è‡ªåŠ¨ç›‘å¬å“ªä¸ªå±æ€§</li><li><code>computed</code> æ³¨é‡è®¡ç®—çš„å€¼ï¼Œå³å›è°ƒå‡½æ•°çš„è¿”å›å€¼ï¼Œå› æ­¤å¿…é¡»æœ‰è¿”å›å€¼</li><li><code>watchEffect</code> æ›´æ³¨é‡è¿‡ç¨‹ï¼Œå³å›è°ƒå‡½æ•°çš„å‡½æ•°ä½“ï¼Œå› æ­¤å¯æ²¡æœ‰è¿”å›å€¼</li><li><code>watchEffect</code> æ²¡æœ‰å¼€å¯æ·±åº¦ç›‘å¬ï¼Œä¹Ÿä¸èƒ½å¼€å¯æ·±åº¦ç›‘å¬ï¼</li><li><code>watchEffect</code> å†…éƒ¨è‡ªè¡Œä¿®æ”¹æ•°æ®ï¼Œä¸ä¼šé‡æ–°è°ƒç”¨å›è°ƒï¼Œå› æ­¤ä¸ä¼šå‡ºç°é€’å½’è°ƒç”¨</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å›è°ƒä¸­ç”¨åˆ°çš„æ•°æ®åªè¦å‘ç”Ÿå˜åŒ–ï¼Œåˆ™ç›´æ¥é‡æ–°æ‰§è¡Œå›è°ƒ</span></span><br><span class="line"><span class="title function_">watchEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> total = sum.<span class="property">value</span></span><br><span class="line">  <span class="keyword">let</span> p = person</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;watchEffect...&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h3><p>æ³¨æ„å’Œ <code>vue2.x</code> çš„ç”Ÿå‘½å‘¨æœŸå›¾ä½œå¯¹æ¯”ï¼Œ<code>beforeDestroy</code> å’Œ <code>destroyed</code> å˜ä¸º <code>beforeUnmount</code> å’Œ <code>unmounted</code> ã€‚</p><p><img src="https://raw.githubusercontent.com/dont-sleep-so-late/CDN/master/images/lifecycle.svg" alt="vu3-lifecycle"></p><p>Vue3 ä¹Ÿæä¾›äº† Composition API å½¢å¼çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä¸ Vue2 ä¸­é’©å­å¯¹åº”å…³ç³»å¦‚ä¸‹ï¼š</p><ul><li><code>beforeCreate</code>&#x3D;&#x3D;&#x3D;&gt;<code>setup()</code></li><li><code>created</code>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>setup()</code></li><li><code>beforeMount</code> &#x3D;&#x3D;&#x3D;&gt;<code>onBeforeMount</code></li><li><code>mounted</code>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>onMounted</code></li><li><code>beforeUpdate</code>&#x3D;&#x3D;&#x3D;&gt;<code>onBeforeUpdate</code></li><li><code>updated</code> &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>onUpdated</code></li><li><code>beforeUnmount</code>Â &#x3D;&#x3D;&gt;<code>onBeforeUnmount</code></li><li><code>unmounted</code> &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>onUnmounted</code></li></ul><p>è‹¥å’Œé…ç½®é¡¹ç”Ÿå‘½é’©å­ä¸€èµ·ä½¿ç”¨ï¼Œåˆ™ç»„åˆå¼ä¼šæ¯”é…ç½®é¡¹çš„å…ˆæ‰§è¡Œï¼Œå¦‚ <code>onBeforeMount</code> å…ˆäº <code>beforeMount</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onBeforeMount, onMounted, onBeforeUpdate, onUpdated, onBeforeUnmount, onUnmounted &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;---setup---&#x27;</span>)</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="title function_">ref</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//é€šè¿‡ç»„åˆå¼APIçš„å½¢å¼å»ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸé’©å­</span></span><br><span class="line">  <span class="title function_">onBeforeMount</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;---onBeforeMount---&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="title function_">onMounted</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;---onMounted---&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="title function_">onBeforeUpdate</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;---onBeforeUpdate---&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="title function_">onUpdated</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;---onUpdated---&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="title function_">onBeforeUnmount</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;---onBeforeUnmount---&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="title function_">onUnmounted</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;---onUnmounted---&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;sum&#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="hook-å‡½æ•°"><a href="#hook-å‡½æ•°" class="headerlink" title="hook å‡½æ•°"></a>hook å‡½æ•°</h3><ul><li>hook æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠ setup å‡½æ•°çš„ Composition API è¿›è¡Œäº†å°è£…</li><li>ç±»ä¼¼ Vue2 çš„ Mixinï¼Œèƒ½å¤ç”¨ä»£ç ï¼Œè®© setup é‡Œçš„é€»è¾‘æ›´æ¸…æ™°</li><li>hook æ”¾åœ¨ hooks æ–‡ä»¶å¤¹ä¸­ï¼Œä¸€ä¸ªæ–‡ä»¶å¯¹åº”ä¸€ä¸ªåŠŸèƒ½æ¨¡å—ï¼Œä»¥ <code>useXxx</code> å‘½å</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hooks/usePoint.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; reactive, onMounted, onBeforeUnmount &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">//å®ç°é¼ æ ‡â€œæ‰“ç‚¹â€ç›¸å…³çš„æ•°æ®</span></span><br><span class="line">  <span class="keyword">let</span> point = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">y</span>: <span class="number">0</span>,</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//å®ç°é¼ æ ‡â€œæ‰“ç‚¹â€ç›¸å…³çš„æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">savePoint</span>(<span class="params">event</span>) &#123;</span><br><span class="line">    point.<span class="property">x</span> = event.<span class="property">pageX</span></span><br><span class="line">    point.<span class="property">y</span> = event.<span class="property">pageY</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//å®ç°é¼ æ ‡â€œæ‰“ç‚¹â€ç›¸å…³çš„ç”Ÿå‘½å‘¨æœŸé’©å­</span></span><br><span class="line">  <span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, savePoint)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">onBeforeUnmount</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;click&#x27;</span>, savePoint)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> point</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ hook</span></span><br><span class="line"><span class="keyword">import</span> usePoint <span class="keyword">from</span> <span class="string">&#x27;../hooks/usePoint.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> point = <span class="title function_">usePoint</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123; point &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="toRef-å‡½æ•°"><a href="#toRef-å‡½æ•°" class="headerlink" title="toRef å‡½æ•°"></a>toRef å‡½æ•°</h3><ul><li>åˆ›å»ºä¸€ä¸ª RefImpl å®ä¾‹å¯¹è±¡ï¼Œå…¶ value å€¼æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡çš„æŸä¸ªå±æ€§ï¼Œä¿®æ”¹ value å€¼ä¼šä¿®æ”¹æºå¯¹è±¡å¯¹åº”çš„å±æ€§</li><li>åº”ç”¨ï¼šéœ€è¦æŠŠå“åº”å¼å¯¹è±¡çš„æŸä¸ªå±æ€§å•ç‹¬æä¾›ç»™å¤–éƒ¨ä½¿ç”¨</li><li>æ‰¹é‡åˆ›å»ºï¼š<code>toRefs</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;reactive, toRef, toRefs&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> person = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Vue3&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">    <span class="attr">info</span>: &#123;</span><br><span class="line">      <span class="attr">job</span>: &#123;</span><br><span class="line">        <span class="attr">salary</span>: <span class="number">40</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="comment">// æ³¨æ„ä¸èƒ½å†™æˆ ref(person.name)ï¼Œè¿™å’Œæºå¯¹è±¡æ˜¯å‰²è£‚å¼€çš„</span></span><br><span class="line">    <span class="attr">name</span>: <span class="title function_">toRef</span>(person, <span class="string">&#x27;name&#x27;</span>),</span><br><span class="line">    <span class="attr">salary</span>: <span class="title function_">toRef</span>(person.<span class="property">info</span>.<span class="property">job</span>, <span class="string">&#x27;salary&#x27;</span>)</span><br><span class="line">    <span class="comment">// or</span></span><br><span class="line">    ...<span class="title function_">toRefs</span>(person)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…¶å®ƒ-Composition-API"><a href="#å…¶å®ƒ-Composition-API" class="headerlink" title="å…¶å®ƒ Composition API"></a>å…¶å®ƒ Composition API</h2><h3 id="shallowReactive-shallowRef"><a href="#shallowReactive-shallowRef" class="headerlink" title="shallowReactive &amp; shallowRef"></a>shallowReactive &amp; shallowRef</h3><ul><li><code>shallowReactive</code>ï¼šåªå¤„ç†å¯¹è±¡æœ€å¤–å±‚å±æ€§çš„å“åº”å¼ï¼Œå³æµ…å“åº”å¼</li><li><code>shallowRef</code>ï¼šåŸºæœ¬æ•°æ®ç±»å‹å’Œ <code>ref</code> ç›¸åŒï¼Œå¯¹è±¡æ•°æ®ä¸å†ä¼šè°ƒç”¨ <code>reactive</code>ï¼Œå› æ­¤åªæœ‰å¯¹è±¡å¼•ç”¨æ”¹å˜äº†æ‰æ˜¯å“åº”å¼çš„</li><li>è‹¥ä¸€ä¸ªå¯¹è±¡æ•°æ®ï¼Œç»“æ„å¾ˆæ·±ï¼Œä½†åªæœ‰æœ€å¤–å±‚å±æ€§å˜åŒ–ï¼Œå¯ç”¨ <code>shallowReactive</code></li><li>è‹¥ä¸€ä¸ªå¯¹è±¡æ•°æ®ï¼Œå±æ€§ä¸ä¼šæ”¹å˜ï¼Œè€Œæ˜¯ä½¿ç”¨æ–°å¯¹è±¡æ›¿æ¢ï¼Œå¯ç”¨ <code>shallowRef</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; shallowReactive, shallowRef &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> person = <span class="title function_">shallowReactive</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Vue3&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">21</span>,</span><br><span class="line">    <span class="attr">info</span>: &#123;</span><br><span class="line">      <span class="attr">job</span>: &#123;</span><br><span class="line">        <span class="attr">salary</span>: <span class="number">22</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">let</span> x = <span class="title function_">shallowRef</span>(&#123;</span><br><span class="line">    <span class="attr">y</span>: <span class="number">0</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    person,</span><br><span class="line">    x</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="readonly-shallowReadonly"><a href="#readonly-shallowReadonly" class="headerlink" title="readonly &amp; shallowReadonly"></a>readonly &amp; shallowReadonly</h3><ul><li><code>readonly</code>: è®©ä¸€ä¸ªå“åº”å¼æ•°æ®å˜ä¸ºåªè¯»çš„ï¼ˆæ·±åªè¯»ï¼‰</li><li><code>shallowReadonly</code>ï¼šè®©ä¸€ä¸ªå“åº”å¼æ•°æ®å˜ä¸ºåªè¯»çš„ï¼ˆæµ…åªè¯»ï¼‰</li><li>åº”ç”¨åœºæ™¯: ä¸å¸Œæœ›æ•°æ®è¢«ä¿®æ”¹æ—¶ï¼Œå¦‚ä½ ç”¨äº†åˆ«äººçš„å“åº”å¼æ•°æ®ï¼Œä½†æ˜¯åˆ«äººä¸å¸Œæœ›ä½ ä¿®æ”¹æ—¶</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="title function_">ref</span>(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">let</span> person = <span class="title function_">reactive</span>(&#123;...&#125;)</span><br><span class="line"></span><br><span class="line">  sum = <span class="title function_">readonly</span>(sum)</span><br><span class="line">  person = <span class="title function_">shallowReadonly</span>(person)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    sum,</span><br><span class="line">    person</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="toRaw-markRaw"><a href="#toRaw-markRaw" class="headerlink" title="toRaw &amp; markRaw"></a>toRaw &amp; markRaw</h3><p><code>toRaw</code>ï¼š</p><ul><li>å°†ä¸€ä¸ªç”± <code>reactive</code> ç”Ÿæˆçš„å“åº”å¼å¯¹è±¡è½¬ä¸ºæ™®é€šå¯¹è±¡</li><li>ç”¨äºè¯»å–å“åº”å¼å¯¹è±¡å¯¹åº”çš„æ™®é€šå¯¹è±¡ï¼Œå¯¹è¯¥æ™®é€šå¯¹è±¡çš„æ“ä½œä¸ä¼šå¼•èµ·é¡µé¢æ›´æ–°</li></ul><p><code>markRaw</code>ï¼š</p><ul><li>æ ‡è®°ä¸€ä¸ªå¯¹è±¡ï¼Œè®©å…¶ä¸æˆä¸ºå“åº”å¼å¯¹è±¡</li><li>æœ‰äº›å€¼ä¸åº”è®¾ç½®ä¸ºå“åº”å¼ï¼Œæ¯”å¦‚å¤æ‚çš„ç¬¬ä¸‰æ–¹åº“</li><li>å½“æ¸²æŸ“å¤æ‚ä¸”ä¸å˜çš„æ•°æ®æ—¶ï¼Œè·³è¿‡å“åº”å¼è½¬æ¢å¯æé«˜æ€§èƒ½</li></ul><p>æ³¨æ„ï¼šä»…ä»…è®©æ•°æ®å˜ä¸ºéå“åº”å¼çš„ï¼Œæ•°æ®å˜çš„ä¾æ—§å˜ï¼Œåªæ˜¯æ²¡å¼•èµ·é¡µé¢æ›´æ–°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">showRawPerson</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> p = <span class="title function_">toRaw</span>(person);</span><br><span class="line">    p.<span class="property">age</span>++;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(p);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(person);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">addCar</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> car = &#123; <span class="attr">name</span>: <span class="string">&quot;å¥”é©°&quot;</span>, <span class="attr">price</span>: <span class="number">40</span> &#125;;</span><br><span class="line">    person.<span class="property">car</span> = <span class="title function_">markRaw</span>(car);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="customRef"><a href="#customRef" class="headerlink" title="customRef"></a>customRef</h3><p>åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ refï¼Œå¹¶å¯¹å…¶ä¾èµ–é¡¹è·Ÿè¸ªå’Œæ›´æ–°è§¦å‘è¿›è¡Œæ˜¾å¼æ§åˆ¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;keyword&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; keyword &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref, customRef &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Demo&#x27;</span>,</span><br><span class="line">  <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// è‡ªå®šä¹‰ myRef</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">myRef</span>(<span class="params">value, delay</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> timer</span><br><span class="line">      <span class="comment">// é€šè¿‡customRefå»å®ç°è‡ªå®šä¹‰</span></span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">customRef</span>(<span class="function">(<span class="params">track, trigger</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">//å‘Šè¯‰Vueè¿™ä¸ªvalueå€¼æ˜¯éœ€è¦è¢«â€œè¿½è¸ªâ€çš„</span></span><br><span class="line">            <span class="title function_">track</span>()</span><br><span class="line">            <span class="keyword">return</span> value</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="title function_">set</span>(<span class="params">newValue</span>) &#123;</span><br><span class="line">            <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">              value = newValue</span><br><span class="line">              <span class="comment">// å‘Šè¯‰Vueå»æ›´æ–°ç•Œé¢</span></span><br><span class="line">              <span class="title function_">trigger</span>()</span><br><span class="line">            &#125;, delay)</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> keyword = <span class="title function_">myRef</span>(<span class="string">&#x27;hello&#x27;</span>, <span class="number">500</span>)</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      keyword,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="provide-inject"><a href="#provide-inject" class="headerlink" title="provide &#x2F; inject"></a>provide &#x2F; inject</h3><p>å®ç°ç¥–å…ˆç»„ä»¶ä¸åä»£ç»„ä»¶ä¹‹é—´é€šä¿¡ã€‚</p><p><img src="https://raw.githubusercontent.com/dont-sleep-so-late/CDN/master/images/provide-inject.png" alt="provide-inject"></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¥–å…ˆç»„ä»¶ä¼ é€’æ•°æ®</span></span><br><span class="line"><span class="keyword">import</span> &#123; provide, reactive, ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> car = <span class="title function_">reactive</span>(&#123;...&#125;)</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="title function_">ref</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">provide</span>(<span class="string">&#x27;sum&#x27;</span>, sum)</span><br><span class="line">  <span class="title function_">provide</span>(<span class="string">&#x27;car&#x27;</span>, car)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åä»£ç»„ä»¶æ¥æ”¶æ•°æ®</span></span><br><span class="line"><span class="keyword">import</span> &#123; inject &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> car = <span class="title function_">inject</span>(<span class="string">&#x27;car&#x27;</span>)</span><br><span class="line">  <span class="keyword">const</span> sum = <span class="title function_">inject</span>(<span class="string">&#x27;sum&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> &#123; car, sum &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å“åº”å¼æ•°æ®çš„åˆ¤æ–­"><a href="#å“åº”å¼æ•°æ®çš„åˆ¤æ–­" class="headerlink" title="å“åº”å¼æ•°æ®çš„åˆ¤æ–­"></a>å“åº”å¼æ•°æ®çš„åˆ¤æ–­</h3><ul><li><code>isRef</code>: æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºä¸€ä¸ª <code>ref</code> å¯¹è±¡</li><li><code>isReactive</code>: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± <code>reactive</code> åˆ›å»ºçš„å“åº”å¼ä»£ç†</li><li><code>isReadonly</code>: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± <code>readonly</code> åˆ›å»ºçš„åªè¯»ä»£ç†</li><li><code>isProxy</code>: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± <code>reactive</code> æˆ–è€… <code>readonly</code> æ–¹æ³•åˆ›å»ºçš„ä»£ç†</li></ul><h2 id="Compositon-API-çš„ä¼˜åŠ¿"><a href="#Compositon-API-çš„ä¼˜åŠ¿" class="headerlink" title="Compositon API çš„ä¼˜åŠ¿"></a>Compositon API çš„ä¼˜åŠ¿</h2><p><strong><em>Options API å­˜åœ¨çš„é—®é¢˜</em></strong></p><p>ä½¿ç”¨ä¼ ç»Ÿ Options API ä¸­ï¼Œæ–°å¢æˆ–è€…ä¿®æ”¹ä¸€ä¸ªéœ€æ±‚ï¼Œå°±éœ€è¦åˆ†åˆ«åœ¨ dataï¼Œmethodsï¼Œcomputed ç­‰åœ°æ–¹ä¿®æ”¹ã€‚</p><div style="display:flex;">    <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f84e4e2c02424d9a99862ade0a2e4114~tplv-k3u1fbpfcp-watermark.image" style="zoom:45%;" />    &nbsp;    <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5ac7e20d1784887a826f6360768a368~tplv-k3u1fbpfcp-watermark.image" style="zoom:50%;" /></div><p><strong><em>Composition API çš„ä¼˜åŠ¿</em></strong></p><p>å¯ä»¥æ›´åŠ ä¼˜é›…åœ°ç»„ç»‡ä»£ç ã€å‡½æ•°ï¼Œè®©ç›¸å…³åŠŸèƒ½çš„ä»£ç æ›´åŠ æœ‰åºçš„ç»„ç»‡åœ¨ä¸€èµ·ã€‚è¯´ç™½äº†å°±æ˜¯è®©åŒä¸€ä¸ªåŠŸèƒ½çš„ä»£ç æ•´åˆåˆ°ä¸€èµ·ï¼Œæ—¥åä¿®æ”¹ä»£ç ç›´æ¥æ‰¾å¯¹åº”çš„åŠŸèƒ½æ¨¡å—ã€‚</p><div style="display:flex;margin-left: -30px">    <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc0be8211fc54b6c941c036791ba4efe~tplv-k3u1fbpfcp-watermark.image" style="zoom:50%;" />    &nbsp;    <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6cc55165c0e34069a75fe36f8712eb80~tplv-k3u1fbpfcp-watermark.image" style="zoom:50%;" /></div><h2 id="æ–°çš„ç»„ä»¶"><a href="#æ–°çš„ç»„ä»¶" class="headerlink" title="æ–°çš„ç»„ä»¶"></a>æ–°çš„ç»„ä»¶</h2><h3 id="Fragment"><a href="#Fragment" class="headerlink" title="Fragment"></a>Fragment</h3><ul><li>åœ¨ Vue2 ä¸­: ç»„ä»¶å¿…é¡»æœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾</li><li>åœ¨ Vue3 ä¸­: ç»„ä»¶å¯ä»¥æ²¡æœ‰æ ¹æ ‡ç­¾, å†…éƒ¨ä¼šå°†å¤šä¸ªæ ‡ç­¾åŒ…å«åœ¨ä¸€ä¸ª <code>Fragment</code> è™šæ‹Ÿå…ƒç´ ä¸­</li><li>å¥½å¤„: å‡å°‘æ ‡ç­¾å±‚çº§, å‡å°å†…å­˜å ç”¨</li></ul><h3 id="Teleport"><a href="#Teleport" class="headerlink" title="Teleport"></a>Teleport</h3><ul><li>å°†åŒ…è£¹çš„ HTML ç»“æ„ç§»åŠ¨åˆ°æŒ‡å®šå…ƒç´ çš„æœ«å°¾</li><li><code>to</code> å±æ€§ä¸º CSS é€‰æ‹©å™¨</li></ul><p>ç®€æ˜“çš„æ¨¡æ€æ¡†æ•ˆæœï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">teleport</span> <span class="attr">to</span>=<span class="string">&quot;#root&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;isShow&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mask&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dialog&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h3</span>&gt;</span>æˆ‘æ˜¯ä¸€ä¸ªå¼¹çª—<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;isShow = false&quot;</span>&gt;</span>å…³é—­å¼¹çª—<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">teleport</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mask</span> &#123;</span><br><span class="line">  <span class="comment">/* é®ç½©å±‚é“ºæ»¡çª—å£ */</span></span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.dialog</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Suspense"><a href="#Suspense" class="headerlink" title="Suspense"></a>Suspense</h3><p>ç­‰å¾…å¼‚æ­¥ç»„ä»¶æ—¶æ¸²æŸ“é¢å¤–å†…å®¹ï¼Œè®©ç”¨æˆ·ä½“éªŒæ›´å¥½</p><p>å¼‚æ­¥å¼•å…¥ç»„ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineAsyncComponent &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Child</span> = <span class="title function_">defineAsyncComponent</span>(<span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;./components/Child.vue&#x27;</span>))</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>Suspense</code> åŒ…è£¹ç»„ä»¶ï¼Œå®é™…ä¸Šæ˜¯å¾€æ’æ§½å¡«å……å†…å®¹ï¼Œ<code>default</code> æ’æ§½å¡«å……ç»„ä»¶å†…å®¹ï¼Œ<code>fallback</code> æ’æ§½å¡«å……ç»„ä»¶åŠ è½½æ—¶æ˜¾ç¤ºçš„å†…å®¹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Suspense</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:default</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Child</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:fallback</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>åŠ è½½ä¸­ï¼Œè¯·ç¨ç­‰...<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Suspense</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œè‹¥ <code>Child</code> ç»„ä»¶çš„ <code>setup</code> å‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œä¹Ÿèƒ½æ¸²æŸ“ <code>fallback</code> é‡Œçš„å†…å®¹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="title function_">ref</span>(<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(&#123;sum&#125;)</span><br><span class="line">    &#125;, <span class="number">3000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–æ”¹å˜"><a href="#å…¶ä»–æ”¹å˜" class="headerlink" title="å…¶ä»–æ”¹å˜"></a>å…¶ä»–æ”¹å˜</h2><ul><li>å…¨å±€ API çš„è½¬ç§»</li></ul><p>Vue3 å°†å…¨å±€çš„ APIï¼Œå³ï¼š<code>Vue.xxx</code> è°ƒæ•´åˆ°åº”ç”¨å®ä¾‹ <code>app</code> ä¸Šï¼š</p><table><thead><tr><th>Vue2 å…¨å±€ API</th><th>Vue3 å®ä¾‹ API</th></tr></thead><tbody><tr><td>Vue.config.xxx</td><td>app.config.xxx</td></tr><tr><td>Vue.config.productionTip</td><td>ç§»é™¤</td></tr><tr><td>Vue.component</td><td>app.component</td></tr><tr><td>Vue.directive</td><td>app.directive</td></tr><tr><td>Vue.mixin</td><td>app.mixin</td></tr><tr><td>Vue.use</td><td>app.use</td></tr><tr><td>Vue.prototype</td><td>app.config.globalProperties</td></tr></tbody></table><ul><li><p><code>data</code> é€‰é¡¹åº”å§‹ç»ˆè¢«å£°æ˜ä¸ºä¸€ä¸ªå‡½æ•°</p></li><li><p>è¿‡æ¸¡ç±»åçš„æ›´æ”¹ï¼š</p></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Vue2 */</span></span><br><span class="line"><span class="selector-class">.v-enter</span>,</span><br><span class="line"><span class="selector-class">.v-leave-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.v-leave</span>,</span><br><span class="line"><span class="selector-class">.v-enter-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Vue3 */</span></span><br><span class="line"><span class="selector-class">.v-enter-from</span>,</span><br><span class="line"><span class="selector-class">.v-leave-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.v-leave-from</span>,</span><br><span class="line"><span class="selector-class">.v-enter-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç§»é™¤ <code>keyCode</code> ä½œä¸º <code>v-on</code> çš„ä¿®é¥°ç¬¦ï¼ŒåŒæ—¶ä¹Ÿä¸å†æ”¯æŒ <code>config.keyCodes</code></li><li>ç§»é™¤ <code>v-on.native</code>ä¿®é¥°ç¬¦ï¼Œå­ç»„ä»¶æ²¡æœ‰åœ¨ <code>emits: [&#39;close&#39;]</code> å£°æ˜çš„è‡ªå®šä¹‰äº‹ä»¶ä½œä¸ºåŸç”Ÿäº‹ä»¶å¤„ç†</li><li>ç§»é™¤è¿‡æ»¤å™¨ <code>filter</code></li><li>â€¦</li></ul><h2 id="ç»„ä»¶ä¸Šçš„-v-model"><a href="#ç»„ä»¶ä¸Šçš„-v-model" class="headerlink" title="ç»„ä»¶ä¸Šçš„ v-model"></a>ç»„ä»¶ä¸Šçš„ v-model</h2><p>å½“éœ€è¦ç»´æŠ¤ç»„ä»¶å†…å¤–æ•°æ®çš„åŒæ­¥æ—¶ï¼Œå¯ä»¥åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ <code>v-model</code> æŒ‡ä»¤ã€‚</p><p>çˆ¶ç»„ä»¶ä¼ å€¼ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- çˆ¶ç»„ä»¶ä¼ å€¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">my-counter</span> <span class="attr">v-model:number</span>=<span class="string">&quot;count&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">my-counter</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å­ç»„ä»¶åœ¨ <code>emits</code> èŠ‚ç‚¹å£°æ˜è‡ªå®šä¹‰äº‹ä»¶ï¼Œæ ¼å¼ä¸º <code>update:xxx</code> ï¼Œè°ƒç”¨ <code>$emit</code> è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">props</span>: [<span class="string">&#x27;number&#x27;</span>],</span><br><span class="line">  <span class="attr">emits</span>: [<span class="string">&#x27;update:number&#x27;</span>],</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">add</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;update:number&#x27;</span>, <span class="variable language_">this</span>.<span class="property">number</span>++)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œåœ¨ <code>vue3</code> ä¸­ <code>props</code> å±æ€§åŒæ ·æ˜¯åªè¯»çš„ï¼Œä¸Šé¢ <code>this.number++</code> å¹¶æ²¡æœ‰ä¿®æ”¹ <code>number</code> çš„å€¼ã€‚</p><p>å…¶å®é€šè¿‡ <code>v-bind</code> ä¼ å€¼å’Œç›‘å¬è‡ªå®šä¹‰äº‹ä»¶çš„æ–¹å¼èƒ½å®ç°å’Œ <code>v-model</code> ç›¸åŒçš„æ•ˆæœã€‚</p><h2 id="EventBus"><a href="#EventBus" class="headerlink" title="EventBus"></a>EventBus</h2><p>å€ŸåŠ©äºç¬¬ä¸‰æ–¹çš„åŒ… <code>mitt</code> æ¥åˆ›å»º <code>eventBus</code> å¯¹è±¡ï¼Œä»è€Œå®ç°å…„å¼Ÿç»„ä»¶ä¹‹é—´çš„æ•°æ®å…±äº«ã€‚</p><p>å®‰è£… <code>mitt</code> ä¾èµ–åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install mitt@2.1.0</span><br></pre></td></tr></table></figure><p>åˆ›å»ºå…¬å…±çš„ <code>eventBus</code> æ¨¡å—ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> mitt <span class="keyword">from</span> <span class="string">&#x27;mitt&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»º EventBus å®ä¾‹å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> bus = <span class="title function_">mitt</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> bus</span><br></pre></td></tr></table></figure><p>æ•°æ®æ¥æ”¶æ–¹è°ƒç”¨ <code>bus.on()</code> ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> bus <span class="keyword">from</span> <span class="string">&#x27;./eventBus.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">count</span>: <span class="number">0</span> &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    bus.<span class="title function_">on</span>(<span class="string">&#x27;countChange&#x27;</span>, <span class="function">(<span class="params">count</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">count</span> = count</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•°æ®æ¥å‘é€æ–¹è°ƒç”¨ <code>bus.emit()</code> è§¦å‘äº‹ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> bus <span class="keyword">from</span> <span class="string">&#x27;./eventBus.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">cout</span>: <span class="number">0</span> &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">addCount</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">count</span>++</span><br><span class="line">      bus.<span class="title function_">emit</span>(<span class="string">&#x27;countChange&#x27;</span>, <span class="variable language_">this</span>.<span class="property">count</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="vue-3-x-å…¨å±€é…ç½®-axios"><a href="#vue-3-x-å…¨å±€é…ç½®-axios" class="headerlink" title="vue 3.x å…¨å±€é…ç½® axios"></a>vue 3.x å…¨å±€é…ç½® axios</h2><p>å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œå‡ ä¹æ¯ä¸ªç»„ä»¶ä¸­éƒ½ä¼šä½¿ç”¨ <code>axios</code> å‘èµ·æ•°æ®è¯·æ±‚ã€‚æ­¤æ—¶ä¼šé‡åˆ°å¦‚ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li>æ¯ä¸ªç»„ä»¶ä¸­éƒ½éœ€è¦å¯¼å…¥ <code>axios</code>ï¼ˆä»£ç è‡ƒè‚¿ï¼‰</li><li>æ¯æ¬¡å‘è¯·æ±‚éƒ½éœ€è¦å¡«å†™å®Œæ•´çš„è¯·æ±‚è·¯å¾„ï¼ˆä¸åˆ©äºåæœŸçš„ç»´æŠ¤ï¼‰</li></ul><p>åœ¨ <code>main.js</code> æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é…ç½®è¯·æ±‚æ ¹è·¯å¾„</span></span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">baseURL</span> = <span class="string">&#x27;http://api.com&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å°† axios æŒ‚è½½ä¸º app å…¨å±€è‡ªå®šä¹‰å±æ€§</span></span><br><span class="line"><span class="comment">// æ¯ä¸ªç»„ä»¶å¯é€šè¿‡ this.$http è®¿é—®åˆ° axios</span></span><br><span class="line">app.<span class="property">config</span>.<span class="property">globalProperties</span>.<span class="property">$http</span> = axios</span><br></pre></td></tr></table></figure><p>ç»„ä»¶è°ƒç”¨ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$http</span>.<span class="title function_">get</span>(<span class="string">&#x27;/users&#x27;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue Router</title>
      <link href="/2023/09/06/Vue/vue_router/"/>
      <url>/2023/09/06/Vue/vue_router/</url>
      
        <content type="html"><![CDATA[<p><a href="https://router.vuejs.org/zh/">å®˜ç½‘ä¼ é€é—¨</a></p><h2 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h2><h3 id="ä½•ä¸ºè·¯ç”±"><a href="#ä½•ä¸ºè·¯ç”±" class="headerlink" title="ä½•ä¸ºè·¯ç”±"></a>ä½•ä¸ºè·¯ç”±</h3><ul><li>ä¸€ç»„è·¯ç”±å³ä¸€ç»„æ˜ å°„å…³ç³»ï¼ˆkey-valueï¼‰</li><li>key ä¸ºè·¯å¾„ï¼Œvalue å¯èƒ½æ˜¯ function æˆ– component</li></ul><h3 id="å‰ç«¯è·¯ç”±"><a href="#å‰ç«¯è·¯ç”±" class="headerlink" title="å‰ç«¯è·¯ç”±"></a>å‰ç«¯è·¯ç”±</h3><p>å‰ç«¯è·¯ç”±å³åœ°å€å’Œç»„ä»¶ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼ˆä»¥ä¸‹å·²å“ˆå¸Œæ¨¡å¼ä¸ºä¾‹ï¼‰ã€‚</p><p>å‰ç«¯è·¯ç”±ç®€æ˜“å·¥ä½œæ–¹å¼ï¼š</p><ol><li>ç”¨æˆ·ç‚¹å‡»äº†é¡µé¢ä¸Šçš„è·¯ç”±é“¾æ¥</li><li>URL åœ°å€çš„ Hash å€¼å‘ç”Ÿå˜åŒ–</li><li>å‰ç«¯è·¯ç”±ç›‘å¬åˆ° Hash å€¼çš„å˜åŒ–</li><li>å‰ç«¯è·¯ç”±æ¸²æŸ“ Hash åœ°å€å¯¹åº”çš„ç»„ä»¶</li></ol><p>å®ç°ç®€æ˜“çš„å‰ç«¯è·¯ç”±ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- a é“¾æ¥æ·»åŠ å¯¹åº” Hash å€¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#/home&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#/movie&quot;</span>&gt;</span>Movie<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#/about&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- åŠ¨æ€æ¸²æŸ“ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;compName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">compName</span>: <span class="string">&#x27;Home&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ç›‘å¬ Hash åœ°å€æ”¹å˜ï¼Œåˆ‡æ¢ç»„ä»¶</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">onhashchange</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">switch</span>(location.<span class="property">hash</span>) &#123;</span><br><span class="line">        <span class="attr">case</span>: <span class="string">&#x27;#/home&#x27;</span>:</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">compName</span> = <span class="string">&#x27;Home&#x27;</span></span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">        <span class="attr">case</span>: <span class="string">&#x27;#/movie&#x27;</span>:</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">compName</span> = <span class="string">&#x27;Movie&#x27;</span></span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">        <span class="attr">case</span>: <span class="string">&#x27;#/about&#x27;</span>:</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">compName</span> = <span class="string">&#x27;About&#x27;</span></span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åç«¯è·¯ç”±"><a href="#åç«¯è·¯ç”±" class="headerlink" title="åç«¯è·¯ç”±"></a>åç«¯è·¯ç”±</h3><ul><li>åç«¯è·¯ç”±æ˜¯æŒ‡è¯·æ±‚æ–¹å¼ã€è¯·æ±‚åœ°å€ä¸ <code>function</code> å¤„ç†å‡½æ•°ä¹‹é—´çš„å¯¹åº”å…³ç³»</li><li>æœåŠ¡å™¨æ”¶åˆ°ä¸€ä¸ªè¯·æ±‚ï¼Œæ ¹æ®è¯·æ±‚æ–¹å¼ã€è·¯å¾„åŒ¹é…å¯¹åº”çš„å‡½æ•°å¤„ç†è¯·æ±‚ï¼Œè¿”å›å“åº”æ•°æ®</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/userlist&#x27;</span>, <span class="keyword">function</span>(<span class="params">req, res</span>) &#123;...&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure><h2 id="å•é¡µé¢åº”ç”¨ç¨‹åº-SPA"><a href="#å•é¡µé¢åº”ç”¨ç¨‹åº-SPA" class="headerlink" title="å•é¡µé¢åº”ç”¨ç¨‹åº SPA"></a>å•é¡µé¢åº”ç”¨ç¨‹åº SPA</h2><p>å•é¡µé¢åº”ç”¨ç¨‹åºå°†æ‰€æœ‰çš„åŠŸèƒ½å±€é™äºä¸€ä¸ª web é¡µé¢ä¸­ï¼Œä»…åœ¨è¯¥ web é¡µé¢åˆå§‹åŒ–æ—¶åŠ è½½ç›¸åº”çš„èµ„æºï¼ˆ HTMLã€JavaScript å’Œ CSSï¼‰ã€‚<br>ä¸€æ—¦é¡µé¢åŠ è½½å®Œæˆäº†ï¼ŒSPA ä¸ä¼šå› ä¸ºç”¨æˆ·çš„æ“ä½œè€Œè¿›è¡Œé¡µé¢çš„é‡æ–°åŠ è½½æˆ–è·³è½¬ã€‚è€Œæ˜¯åˆ©ç”¨ JavaScript åŠ¨æ€åœ°å˜æ¢ HTML çš„å†…å®¹ï¼Œä»è€Œå®ç°é¡µé¢ä¸ç”¨æˆ·çš„äº¤äº’ã€‚</p><p>SPA çš„ä¼˜ç‚¹ï¼š</p><ul><li>è‰¯å¥½çš„äº¤äº’ä½“éªŒ<ul><li>å†…å®¹çš„æ”¹å˜ä¸éœ€è¦é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢</li><li>æ•°æ®é€šè¿‡ <code>Ajax</code> å¼‚æ­¥è·å–</li><li>æ²¡æœ‰é¡µé¢è·³è½¬ï¼Œä¸ä¼šå‡ºç°ç™½å±ç°è±¡</li></ul></li><li>è‰¯å¥½çš„å‰åç›¾å·¥ä½œåˆ†ç¦»æ¨¡å¼<ul><li>åç«¯ä¸“æ³¨äºæä¾› API æ¥å£ï¼Œæ›´æ˜“å®ç°æ¥å£å¤ç”¨</li><li>å‰ç«¯ä¸“æ³¨é¡µé¢æ¸²æŸ“ï¼Œæ›´åˆ©äºå‰ç«¯å·¥ç¨‹åŒ–å‘å±•</li></ul></li><li>å‡è½»æœåŠ¡å™¨å‹åŠ›<ul><li>æœåŠ¡å™¨åªæä¾›æ•°æ®ï¼Œä¸è´Ÿè´£é¡µé¢çš„åˆæˆä¸é€»è¾‘å¤„ç†ï¼Œååèƒ½åŠ›ä¼šæé«˜</li></ul></li></ul><p>SPA çš„ç¼ºç‚¹ï¼š</p><ul><li>é¦–å±åŠ è½½æ…¢ï¼šå¯ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½ã€ä»£ç å‹ç¼©ã€CDN åŠ é€Ÿã€ç½‘ç»œä¼ è¾“å‹ç¼©</li><li>ä¸åˆ©äº SEO ï¼šSSR æœåŠ¡å™¨ç«¯æ¸²æŸ“</li></ul><h2 id="vue-router-åˆä½“éªŒ"><a href="#vue-router-åˆä½“éªŒ" class="headerlink" title="vue-router åˆä½“éªŒ"></a>vue-router åˆä½“éªŒ</h2><p>å®‰è£… <code>vue-router</code>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router@3.5.2 -S</span><br></pre></td></tr></table></figure><p>åˆ›å»ºè·¯ç”±æ¨¡å—ï¼Œåœ¨ <code>src</code> æºä»£ç ç›®å½•ä¸‹ï¼Œæ–°å»º <code>router/index.js</code> è·¯ç”±æ¨¡å—ï¼Œåˆå§‹åŒ–ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;@/component/Home.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About</span> <span class="keyword">from</span> <span class="string">&#x27;@/component/About.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Movie</span> <span class="keyword">from</span> <span class="string">&#x27;@/component/Movie.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠŠ VueRouter å®‰è£…ä¸º Vue çš„æ’ä»¶</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯ç”±åŒ¹é…è§„åˆ™</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Home</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>, <span class="attr">component</span>: <span class="title class_">About</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&#x27;/movie&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Movie</span> &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºè·¯ç”±å®ä¾‹å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  routes,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure><p>åœ¨ <code>main.js</code> æ–‡ä»¶ä¸­å¯¼å…¥å¹¶æŒ‚è½½è·¯ç”±æ¨¡å—ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router/index.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  router,</span><br><span class="line">  <span class="attr">render</span>: <span class="function">(<span class="params">h</span>) =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p>åœ¨ç»„ä»¶ä¸­å£°æ˜è·¯ç”±é“¾æ¥å’Œå ä½ç¬¦ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;app-container&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è·¯ç”±é“¾æ¥ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/home&quot;</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>å…³äº<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/movie&quot;</span>&gt;</span>ç”µå½±<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- è·¯ç”±å‡ºå£ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>ç»„ä»¶åˆ†ä¸ºè·¯ç”±ç»„ä»¶å’Œä¸€èˆ¬ç»„ä»¶ï¼Œå‰è€…æ”¾åœ¨ <code>pages(æˆ–views)</code> æ–‡ä»¶å¤¹ï¼Œåè€…æ”¾åœ¨ <code>components</code> æ–‡ä»¶å¤¹</li><li>æ¯ä¸ªç»„ä»¶éƒ½æœ‰ <code>$route</code> å±æ€§ï¼Œå­˜å‚¨ç€ç»„ä»¶çš„è·¯ç”±è§„åˆ™ä¿¡æ¯</li><li><code>$router</code> æ˜¯è·¯ç”±å™¨å¯¹è±¡ï¼Œæ•´ä¸ª SPA åªæœ‰ä¸€ä¸ª</li></ul><h2 id="å£°æ˜å¼å¯¼èˆª"><a href="#å£°æ˜å¼å¯¼èˆª" class="headerlink" title="å£°æ˜å¼å¯¼èˆª"></a>å£°æ˜å¼å¯¼èˆª</h2><p><code>&lt;router-link&gt;</code> 4 ä¸ªå¸¸ç”¨å±æ€§ï¼š</p><ol><li><code>to</code> å±æ€§</li></ol><ul><li>ç”¨äºæŒ‡å®šè·³è½¬è·¯ç”±</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="2"><li><code>tag</code> å±æ€§</li></ol><ul><li>æŒ‡æ˜ <code>&lt;router-link&gt;</code> æœ€ç»ˆè¢«æ¸²æŸ“ä¸ºä½•ç§æ ‡ç­¾ï¼Œé»˜è®¤æ˜¯ a æ ‡ç­¾</li><li>æ¸²æŸ“ä¸ºå…¶ä»–æ ‡ç­¾ä¹Ÿä¼šç›‘å¬ç‚¹å‡»ï¼Œè§¦å‘å¯¼èˆª</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span> <span class="attr">tag</span>=<span class="string">&quot;li&quot;</span>&gt;</span>tag<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>tag<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="3"><li><code>replace</code> å±æ€§</li></ol><ul><li>è·¯ç”±è·³è½¬ä¸ä¼šå¢åŠ æ–°çš„å†å²è®°å½•ï¼Œè€Œæ˜¯æ›¿æ¢å½“å‰å†å²è®°å½•</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span> <span class="attr">replace</span>&gt;</span>About<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="4"><li><code>active-class</code> å±æ€§</li></ol><ul><li>æŒ‡æ˜è·¯ç”±è¢«æ¿€æ´»æ—¶æ·»åŠ çš„ç±»åï¼Œé»˜è®¤ä¸º <code>router-link-active</code></li><li>è¯¦è§<a href="#%E8%B7%AF%E7%94%B1%E9%AB%98%E4%BA%AE">è·¯ç”±é«˜äº®</a></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="è·¯ç”±é«˜äº®"><a href="#è·¯ç”±é«˜äº®" class="headerlink" title="è·¯ç”±é«˜äº®"></a>è·¯ç”±é«˜äº®</h2><p>è¢«æ¿€æ´»çš„è·¯ç”±é“¾æ¥ï¼Œé»˜è®¤ä¼šæ·»åŠ  <code>router-link-active</code> çš„ç±»åã€‚å¯æ®æ­¤ä¸ºæ¿€æ´»çš„è·¯ç”±é“¾æ¥è®¾ç½®é«˜äº®çš„æ ·å¼ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.router-link-active</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">background-color</span>: pink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®šä¹‰è·¯ç”±æ¨¡å—æ—¶å¯ä»¥è‡ªå®šä¹‰è·¯ç”±é“¾æ¥è¢«æ¿€æ´»æ—¶æ·»åŠ çš„ç±»åï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="comment">// é»˜è®¤çš„ router-link-active ä¼šè¢«è¦†ç›–</span></span><br><span class="line">  <span class="attr">linkActiveClass</span>: <span class="string">&#x27;active-hello&#x27;</span>,</span><br><span class="line">  routes,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å£°æ˜è·¯ç”±é“¾æ¥æ—¶ä¹Ÿå¯ç”¨ <code>active-class</code> å±æ€§è‡ªå®šä¹‰æ¿€æ´»ç±»åï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- router-link-active ä¼šè¢«è¦†ç›–ä¸º active --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="è·¯ç”±é‡å®šå‘"><a href="#è·¯ç”±é‡å®šå‘" class="headerlink" title="è·¯ç”±é‡å®šå‘"></a>è·¯ç”±é‡å®šå‘</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  <span class="comment">// è®¿é—® / è·³è½¬åˆ° /home</span></span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>, <span class="attr">redirect</span>: <span class="string">&#x27;/home&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>, <span class="attr">component</span>: <span class="string">&#x27;Home&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>, <span class="attr">component</span>: <span class="string">&#x27;About&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&#x27;/movie&#x27;</span>, <span class="attr">component</span>: <span class="string">&#x27;Movie&#x27;</span> &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  routes,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure><h2 id="åµŒå¥—è·¯ç”±"><a href="#åµŒå¥—è·¯ç”±" class="headerlink" title="åµŒå¥—è·¯ç”±"></a>åµŒå¥—è·¯ç”±</h2><p><code>About</code> ç»„ä»¶ä¸­å£°æ˜å­è·¯ç”±é“¾æ¥å’Œå­è·¯ç”±å ä½ç¬¦ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;about-container&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è¦æŠŠçˆ¶è·¯ç”±å¯«ä¸Š --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about/tab1&quot;</span>&gt;</span>tab1<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about/tab2&quot;</span>&gt;</span>tab2<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡ <code>children</code> å±æ€§å£°æ˜å­è·¯ç”±è§„åˆ™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="string">&#x27;About&#x27;</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">      <span class="comment">// æ³¨æ„ä¸è¦å†™æˆ /tab1</span></span><br><span class="line">      &#123; <span class="attr">path</span>: <span class="string">&#x27;tab1&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Tab1</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">path</span>: <span class="string">&#x27;tab2&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Tab2</span> &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h2 id="ç¼–ç¨‹å¼å¯¼èˆª"><a href="#ç¼–ç¨‹å¼å¯¼èˆª" class="headerlink" title="ç¼–ç¨‹å¼å¯¼èˆª"></a>ç¼–ç¨‹å¼å¯¼èˆª</h2><p>å£°æ˜å¼å¯¼èˆªï¼š</p><ul><li>é€šè¿‡ç‚¹å‡»é“¾æ¥å®ç°å¯¼èˆª</li><li>å¦‚æ™®é€šç½‘é¡µç‚¹å‡» <code>a</code> é“¾æ¥ï¼Œ<code>vue</code> ç‚¹å‡» <code>&lt;router-link&gt;</code></li></ul><p>ç¼–ç¨‹å¼å¯¼èˆªï¼š</p><ul><li>é€šè¿‡è°ƒç”¨ API å®ç°å¯¼èˆª</li><li>æ™®é€šç½‘é¡µé€šè¿‡ <code>location.href</code> çš„æ–¹å¼è·³è½¬é¡µé¢ä¹Ÿæ˜¯ç¼–ç¨‹å¼å¯¼èˆª</li></ul><p><code>vue-router</code> ä¸­å®ç°ç¼–ç¨‹å¼å¯¼èˆªçš„ API ï¼š</p><ul><li><code>this.$router.push(&#39;hashåœ°å€&#39;)</code> ï¼šè·³è½¬åˆ°æŒ‡å®šé¡µé¢ï¼Œå¹¶å¢åŠ ä¸€æ¡å†å²è®°å½•</li><li><code>this.$router.replace(&#39;hashåœ°å€&#39;)</code> ï¼šè·³è½¬é¡µé¢ï¼Œä½†ä¸ä¼šæ–°å¢å†å²è®°å½•ï¼Œè€Œæ˜¯æ›¿æ¢å½“å‰çš„å†å²è®°å½•</li><li><code>this.$router.go(æ•°å€¼)</code> ï¼šå†å²è®°å½•å‰è¿›æˆ–åé€€ï¼Œç›¸å½“äºç‚¹å‡»æµè§ˆå™¨å‰è¿›åé€€ç®­å¤´</li><li><code>this.$router.forward()</code> ï¼šå‰è¿›ä¸€æ­¥</li><li><code>this.$router.back()</code> ï¼šåé€€ä¸€æ­¥</li></ul><h2 id="å‘½åè·¯ç”±"><a href="#å‘½åè·¯ç”±" class="headerlink" title="å‘½åè·¯ç”±"></a>å‘½åè·¯ç”±</h2><p>ç»™è·¯ç”±å‘½åï¼ŒæŸäº›æƒ…å†µå¯ç®€åŒ–è·¯ç”±è·³è½¬å†™æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;about&#x27;</span>,</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">About</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123; name: &#x27;about&#x27;&#125; &quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123; name: &#x27;about&#x27;, query: &#123; id: 1, title: &#x27;hello&#x27; &#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="è·¯ç”±ä¼ å‚"><a href="#è·¯ç”±ä¼ å‚" class="headerlink" title="è·¯ç”±ä¼ å‚"></a>è·¯ç”±ä¼ å‚</h2><h3 id="query-å‚æ•°"><a href="#query-å‚æ•°" class="headerlink" title="query å‚æ•°"></a>query å‚æ•°</h3><p>ä¼ é€’å‚æ•°ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å­—ç¬¦ä¸²å†™æ³• --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;`/home/detail?id=$&#123;id&#125;&amp;title=$&#123;title&#125;`&quot;</span>&gt;</span>å­—ç¬¦ä¸²å†™æ³•<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¯¹è±¡å†™æ³• --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:to</span>=<span class="string">&quot;&#123;</span></span></span><br><span class="line"><span class="string"><span class="tag">    path: &#x27;/home/detail&#x27;,</span></span></span><br><span class="line"><span class="string"><span class="tag">    query: &#123;</span></span></span><br><span class="line"><span class="string"><span class="tag">      id: 1,</span></span></span><br><span class="line"><span class="string"><span class="tag">      title: &#x27;hello&#x27;,</span></span></span><br><span class="line"><span class="string"><span class="tag">    &#125;</span></span></span><br><span class="line"><span class="string"><span class="tag">  &#125;&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  å¯¹è±¡å†™æ³•</span><br><span class="line"><span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">`/home/detail?id=<span class="subst">$&#123;id&#125;</span>&amp;title=<span class="subst">$&#123;title&#125;</span>`</span>)</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123; <span class="attr">path</span>: <span class="string">&#x27;/home/detail&#x27;</span>, <span class="attr">query</span>: &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">title</span>: <span class="string">&#x27;query&#x27;</span> &#125; &#125;)</span><br></pre></td></tr></table></figure><p>æ¥æ”¶å‚æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span>.<span class="property">id</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span>.<span class="property">title</span></span><br></pre></td></tr></table></figure><h3 id="params-å‚æ•°ï¼ˆåŠ¨æ€è·¯ç”±ï¼‰"><a href="#params-å‚æ•°ï¼ˆåŠ¨æ€è·¯ç”±ï¼‰" class="headerlink" title="params å‚æ•°ï¼ˆåŠ¨æ€è·¯ç”±ï¼‰"></a>params å‚æ•°ï¼ˆåŠ¨æ€è·¯ç”±ï¼‰</h3><p>åŠ¨æ€è·¯ç”±æ˜¯æŠŠ Hash åœ°å€ä¸­å¯å˜çš„éƒ¨åˆ†å®šä¹‰ä¸ºå‚æ•°é¡¹ï¼Œä»è€Œæé«˜è·¯ç”±è§„åˆ™çš„å¤ç”¨æ€§ã€‚</p><p>å£°æ˜ params å‚æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰åŠ¨æ€è·¯ç”±å‚æ•°</span></span><br><span class="line">&#123; <span class="attr">path</span>: <span class="string">&#x27;/movie/:id/:age&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Movie</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸‹ç±»ä¼¼çš„è·¯ç”±è§„åˆ™éƒ½èƒ½åˆå¹¶ä¸ºä¸Šè¿°è§„åˆ™ï¼Œå¤ç”¨æ€§å¾—åˆ°æé«˜</span></span><br><span class="line">&#123; <span class="attr">path</span>: <span class="string">&#x27;/movie/1/21&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Movie</span> &#125;</span><br><span class="line">&#123; <span class="attr">path</span>: <span class="string">&#x27;/movie/2/22&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Movie</span> &#125;</span><br><span class="line">&#123; <span class="attr">path</span>: <span class="string">&#x27;/movie/3/23&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Movie</span> &#125;</span><br></pre></td></tr></table></figure><p>ä¼ é€’ params å‚æ•°ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;/movie/1/21&quot;</span>&gt;</span>å­—ç¬¦ä¸²å†™æ³•<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¯¹è±¡å†™æ³•åªèƒ½å’Œ name æ­é…ä½¿ç”¨ï¼Œä¸èƒ½å’Œ path æ­é… --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:to</span>=<span class="string">&quot;&#123;</span></span></span><br><span class="line"><span class="string"><span class="tag">  name: &#x27;movie&#x27;,</span></span></span><br><span class="line"><span class="string"><span class="tag">  params: &#123;</span></span></span><br><span class="line"><span class="string"><span class="tag">    id: 1,</span></span></span><br><span class="line"><span class="string"><span class="tag">    age: 21</span></span></span><br><span class="line"><span class="string"><span class="tag">  &#125;</span></span></span><br><span class="line"><span class="string"><span class="tag">&#125;&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  å¯¹è±¡å†™æ³•</span><br><span class="line"><span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- query å’Œ params å¯ä»¥ä¸€èµ·ç”¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;`/movie/1/21?id=$&#123;id&#125;`&quot;</span>&gt;</span>å­—ç¬¦ä¸²å†™æ³•<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span></span></span><br><span class="line"><span class="tag">  <span class="attr">:to</span>=<span class="string">&quot;&#123;</span></span></span><br><span class="line"><span class="string"><span class="tag">    name:&#x27;movie&#x27;, </span></span></span><br><span class="line"><span class="string"><span class="tag">    params: &#123;id:1, age:21&#125;, </span></span></span><br><span class="line"><span class="string"><span class="tag">    query: &#123;school: &#x27;love&#x27;&#125;</span></span></span><br><span class="line"><span class="string"><span class="tag">  &#125;&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  å¯¹è±¡å†™æ³•</span><br><span class="line"><span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">`/movie/1/21?id=<span class="subst">$&#123;id&#125;</span>`</span>)</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;movie&#x27;</span>, <span class="attr">params</span>: &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">age</span>: <span class="number">21</span> &#125;, <span class="attr">query</span>: &#123; <span class="attr">school</span>: <span class="string">&#x27;love&#x27;</span> &#125; &#125;)</span><br></pre></td></tr></table></figure><p>æ¥æ”¶ params å‚æ•°ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;movie-container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Movieç»„ä»¶ï¼Œå‚æ•°å€¼ï¼š&#123;&#123; this.$route.params.id &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="è·¯ç”±çš„-props-é…ç½®"><a href="#è·¯ç”±çš„-props-é…ç½®" class="headerlink" title="è·¯ç”±çš„ props é…ç½®"></a>è·¯ç”±çš„ props é…ç½®</h3><p>ç®€åŒ–è·¯ç”±ç»„ä»¶æ¥æ”¶å‚æ•°ã€‚</p><p>åœ¨è·¯ç”±è§„åˆ™ä¸­å¼€å¯ <code>props</code> ä¼ å‚ï¼Œç»„ä»¶å¯ä»¥ä½¿ç”¨ <code>props</code> æ¥æ”¶è·¯ç”±å‚æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;/movie/:id/:title&#x27;</span>,</span><br><span class="line">  <span class="attr">component</span>: <span class="title class_">Movie</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ–¹å¼ä¸€ï¼šè¯¥å¯¹è±¡ä¸­çš„æ‰€æœ‰ key-value éƒ½ä¼šä»¥ props çš„å½¢å¼ä¼ ç»™ç»„ä»¶</span></span><br><span class="line">  <span class="comment">// è¯¥æ–¹å¼æ˜¯å†™æ­»çš„ï¼Œå°‘ç”¨</span></span><br><span class="line">  <span class="attr">props</span>: &#123;<span class="attr">id</span>: <span class="number">666</span>, <span class="attr">title</span>: <span class="string">&#x27;hello&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ–¹å¼äºŒï¼šæŠŠ params å‚æ•°ä»¥ props çš„å½¢å¼ä¼ ç»™ç»„ä»¶</span></span><br><span class="line">  <span class="comment">// åªèƒ½æ¥æ”¶ params å‚æ•°</span></span><br><span class="line">  <span class="attr">props</span>: <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ–¹å¼ä¸‰ï¼šå‡½æ•°å†™æ³•ï¼Œå•¥éƒ½èƒ½ä¼ </span></span><br><span class="line">  <span class="title function_">props</span>(<span class="params">$route</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">id</span>: $route.<span class="property">query</span>.<span class="property">id</span>,</span><br><span class="line">      <span class="attr">title</span>: $route.<span class="property">params</span>.<span class="property">title</span>,</span><br><span class="line">      <span class="attr">age</span>: <span class="number">21</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»„ä»¶æ¥æ”¶å‚æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨ props æ¥æ”¶è·¯ç”±è§„åˆ™çš„å‚æ•°é¡¹</span></span><br><span class="line">  <span class="attr">props</span>: [<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;title&#x27;</span>],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Movieç»„ä»¶ï¼Œå‚æ•°å€¼ï¼š&#123;&#123; id &#125;&#125;ï¼Œé¢˜ç›®ï¼š&#123;&#123; title &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="è·¯ç”±ä¼ å‚æ³¨æ„äº‹é¡¹"><a href="#è·¯ç”±ä¼ å‚æ³¨æ„äº‹é¡¹" class="headerlink" title="è·¯ç”±ä¼ å‚æ³¨æ„äº‹é¡¹"></a>è·¯ç”±ä¼ å‚æ³¨æ„äº‹é¡¹</h3><ol><li>path ä¸èƒ½å’Œ params ä¸€èµ·ä½¿ç”¨ã€‚path+queryã€name+query&#x2F;params éƒ½è¡Œ</li><li>å¦‚ä½•æŒ‡å®š params å‚æ•°å¯ä¼ å¯ä¸ä¼ ï¼Ÿ</li></ol><ul><li>è‹¥å£°æ˜äº† params å‚æ•° <code>path: &#39;/movie/:title&#39;</code>ï¼Œé»˜è®¤æ˜¯å¿…é¡»è¦ä¼ é€’ params å‚æ•°çš„ï¼Œå¦åˆ™ URL ä¼šå‡ºç°é—®é¢˜</li><li>æŒ‡å®š params å‚æ•°å¯ä¸ä¼ ï¼š<code>path: &#39;/movie/:title?&#39;</code></li></ul><ol start="3"><li>å·²æŒ‡æ˜ params å‚æ•°å¯ä¼ å¯ä¸ä¼ ï¼Œä½†å¦‚æœä¼ é€’ç©ºä¸²ï¼Œå¦‚ä½•è§£å†³ï¼Ÿ</li></ol><ul><li>ä¼ é€’ç©ºä¸²ï¼ŒURL ä¹Ÿä¼šå‡ºç°é—®é¢˜</li><li>æ–¹æ³•ï¼šä½¿ç”¨ <code>undefined</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;search&#x27;</span>, <span class="attr">params</span>: &#123; <span class="attr">keyword</span>: <span class="string">&#x27;&#x27;</span> &#125;, <span class="attr">query</span>: &#123; <span class="attr">key</span>: <span class="variable language_">this</span>.<span class="property">key</span> &#125; &#125;)</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;search&#x27;</span>, <span class="attr">params</span>: &#123; <span class="attr">keyword</span>: <span class="string">&#x27;&#x27;</span> || <span class="literal">undefined</span> &#125;, <span class="attr">query</span>: &#123; <span class="attr">key</span>: <span class="variable language_">this</span>.<span class="property">key</span> &#125; &#125;)</span><br></pre></td></tr></table></figure><h2 id="è·¯ç”±å…ƒä¿¡æ¯-meta"><a href="#è·¯ç”±å…ƒä¿¡æ¯-meta" class="headerlink" title="è·¯ç”±å…ƒä¿¡æ¯ meta"></a>è·¯ç”±å…ƒä¿¡æ¯ meta</h2><p>åœ¨ <code>meta</code> ä¸­å¯ä»¥ä¸ºè·¯ç”±æ·»åŠ è‡ªå®šä¹‰ä¿¡æ¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;about&#x27;</span>,</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">About</span>,</span><br><span class="line">    <span class="attr">meta</span>: &#123; <span class="attr">title</span>: <span class="string">&#x27;hello&#x27;</span>, <span class="attr">isAuth</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h2 id="è·¯ç”±å®ˆå«"><a href="#è·¯ç”±å®ˆå«" class="headerlink" title="è·¯ç”±å®ˆå«"></a>è·¯ç”±å®ˆå«</h2><p>:::tip è·¯ç”±å®ˆå«<br>ä½œç”¨ï¼šå¯¹è·¯ç”±è¿›è¡Œæƒé™æ§åˆ¶ã€‚</p><p>åˆ†ç±»ï¼šå…¨å±€å®ˆå«ã€ç‹¬äº«å®ˆå«ã€ç»„ä»¶å†…å®ˆå«<br>:::</p><h3 id="å…¨å±€å®ˆå«"><a href="#å…¨å±€å®ˆå«" class="headerlink" title="å…¨å±€å®ˆå«"></a>å…¨å±€å®ˆå«</h3><ul><li>å…¨å±€å‰ç½®å®ˆå«ï¼š<code>beforeEach()</code></li><li>å…¨å±€åç½®å®ˆå«ï¼š<code>afterEach()</code></li></ul><p>å®ˆå«å›è°ƒå‡½æ•° 3 ä¸ªå½¢å‚ï¼š</p><ul><li><code>to</code> ï¼šå°†è¦è®¿é—®çš„è·¯ç”±çš„ä¿¡æ¯å¯¹è±¡ï¼Œå³ <code>$route</code></li><li><code>from</code> ï¼šå°†è¦ç¦»å¼€çš„è·¯ç”±çš„ä¿¡æ¯å¯¹è±¡</li><li><code>next</code> ï¼šæ”¾è¡Œå‡½æ•°ï¼ˆåç½®å®ˆå«æ²¡æœ‰ï¼‰</li></ul><p><code>next</code> å‡½æ•° 3 ç§è°ƒç”¨æ–¹å¼ï¼š</p><ul><li>ç›´æ¥æ”¾è¡Œï¼š<code>next()</code></li><li>å¼ºåˆ¶è·³è½¬åˆ°å…¶ä»–è·¯ç”±ï¼š<code>next(/login)</code></li><li>é˜»æ­¢æœ¬æ¬¡è·³è½¬ï¼š<code>next(false)</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;...&#125;)</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(to.<span class="property">path</span> === <span class="string">&#x27;/main&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> token = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(token) &#123;</span><br><span class="line">      <span class="title function_">next</span>()</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">next</span>(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">next</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">to,<span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">title</span>) &#123;</span><br><span class="line">    <span class="comment">// ä¿®æ”¹ç½‘é¡µæ ‡é¢˜</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">title</span> = to.<span class="property">meta</span>.<span class="property">title</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;vue_test&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="ç‹¬äº«è·¯ç”±å®ˆå«"><a href="#ç‹¬äº«è·¯ç”±å®ˆå«" class="headerlink" title="ç‹¬äº«è·¯ç”±å®ˆå«"></a>ç‹¬äº«è·¯ç”±å®ˆå«</h3><ul><li>æŸä¸€æ¡è·¯ç”±è§„åˆ™ç‹¬äº«çš„å®ˆå«</li><li>ç‹¬äº«å®ˆå«åªä¸€ä¸ª</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">path</span>: <span class="string">&#x27;about&#x27;</span>,</span><br><span class="line">  <span class="attr">component</span>: <span class="title class_">About</span>,</span><br><span class="line">  <span class="title function_">beforeEnter</span>(<span class="params">to, <span class="keyword">from</span> ,next</span>) &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç»„ä»¶å†…è·¯ç”±å®ˆå«"><a href="#ç»„ä»¶å†…è·¯ç”±å®ˆå«" class="headerlink" title="ç»„ä»¶å†…è·¯ç”±å®ˆå«"></a>ç»„ä»¶å†…è·¯ç”±å®ˆå«</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;About&#x27;</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¿›å…¥å®ˆå«ï¼šé€šè¿‡è·¯ç”±è§„åˆ™ï¼Œè¿›å…¥è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨</span></span><br><span class="line">  <span class="title function_">beforeRouteEnter</span>(<span class="params">to, <span class="keyword">from</span>, next</span>) &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç¦»å¼€å®ˆå«ï¼šé€šè¿‡è·¯ç”±è§„åˆ™ï¼Œç¦»å¼€è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨</span></span><br><span class="line">  beforeRouteLeave (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å„ä¸ªå®ˆå«æ‰§è¡Œé¡ºåº"><a href="#å„ä¸ªå®ˆå«æ‰§è¡Œé¡ºåº" class="headerlink" title="å„ä¸ªå®ˆå«æ‰§è¡Œé¡ºåº"></a>å„ä¸ªå®ˆå«æ‰§è¡Œé¡ºåº</h3><p>ä» <code>About</code> ç»„ä»¶é€šè¿‡è·¯ç”±è§„åˆ™è¿›å…¥ <code>Home</code> ç»„ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">About-beforeRouteLeave</span><br><span class="line">beforeEach</span><br><span class="line">Home-beforeEnter</span><br><span class="line">Home-beforeRouteEnter</span><br><span class="line">afterEach</span><br><span class="line">Homeç»„ä»¶ç”Ÿå‘½å‘¨æœŸå¼€å§‹</span><br></pre></td></tr></table></figure><h2 id="vue-router-4-x"><a href="#vue-router-4-x" class="headerlink" title="vue-router 4.x"></a>vue-router 4.x</h2><p>ç›®å‰ <code>vue-router</code> æœ‰ <code>3.x</code> å’Œ <code>4.x</code> ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå‰è€…åªèƒ½åœ¨ <code>vue2.x</code> ä¸­ä½¿ç”¨ï¼Œåè€…åªèƒ½åœ¨ <code>vue3.x</code> ä¸­ä½¿ç”¨ã€‚</p><p>ä¸‹é¢æ˜¯ <code>vue-router 4.x</code> åˆä½“éªŒï¼š</p><p>å®‰è£… <code>vue-router 4.x</code> ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router@next -S</span><br></pre></td></tr></table></figure><p>åˆ›å»ºè·¯ç”±æ¨¡å—ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä» vue-router æŒ‰éœ€å¯¼å…¥ä¸¤ä¸ªæ–¹æ³•</span></span><br><span class="line"><span class="comment">// createRouterï¼šåˆ›å»ºè·¯ç”±å®ä¾‹å¯¹è±¡</span></span><br><span class="line"><span class="comment">// createWebHashHistoryï¼šæŒ‡å®šè·¯ç”±å·¥ä½œæ¨¡å¼ä¸º hash æ¨¡å¼</span></span><br><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHashHistory &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="attr">history</span>: <span class="title function_">createWebHashHistory</span>(),</span><br><span class="line">  <span class="attr">routes</span>: [&#123; <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Home</span> &#125;],</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure><p><code>main.js</code> å¯¼å…¥å¹¶æŒ‚è½½è·¯ç”±æ¨¡å—ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./index.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Router </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vuex</title>
      <link href="/2023/09/06/Vue/vuex/"/>
      <url>/2023/09/06/Vue/vuex/</url>
      
        <content type="html"><![CDATA[<p><a href="https://vuex.vuejs.org/zh/">å®˜ç½‘ä¼ é€é—¨</a></p><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>ä½•ä¸º Vuex ï¼Ÿ</p><p>Vuex ä¸“é—¨åœ¨ Vue ä¸­å®ç°é›†ä¸­å¼çŠ¶æ€ï¼ˆæ•°æ®ï¼‰ç®¡ç†çš„ä¸€ä¸ª Vue æ’ä»¶ï¼Œå¯¹ Vue åº”ç”¨ä¸­å¤šä¸ªç»„ä»¶çš„å…±äº«çŠ¶æ€è¿›è¡Œé›†ä¸­å¼çš„ç®¡ç†ï¼Œä¹Ÿæ˜¯ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡</p><p>ä½•æ—¶ç”¨ Vuex ï¼Ÿ</p><ul><li>å¤šä¸ªç»„ä»¶ä¾èµ–äºåŒä¸€çŠ¶æ€</li><li>æ¥è‡ªä¸åŒç»„ä»¶çš„è¡Œä¸ºéœ€è¦å˜æ›´åŒä¸€çŠ¶æ€</li></ul><p>Vuex å·¥ä½œåŸç†å›¾ï¼š</p><p><img src="https://raw.githubusercontent.com/dont-sleep-so-late/CDN/master/images/vuex.png" alt="Vuexå·¥ä½œåŸç†"></p><p>å®˜æ–¹ Vuex é¡¹ç›®ç»“æ„ç¤ºä¾‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ index.html</span><br><span class="line">â”œâ”€â”€ main.js</span><br><span class="line">â”œâ”€â”€ api</span><br><span class="line">â”‚   â””â”€â”€ ... # æŠ½å–å‡ºAPIè¯·æ±‚</span><br><span class="line">â”œâ”€â”€ components</span><br><span class="line">â”‚   â”œâ”€â”€ App.vue</span><br><span class="line">â”‚   â””â”€â”€ ...</span><br><span class="line">â””â”€â”€ store</span><br><span class="line">    â”œâ”€â”€ index.js          # ç»„è£…æ¨¡å—å¹¶å¯¼å‡º store çš„åœ°æ–¹</span><br><span class="line">    â”œâ”€â”€ actions.js        # æ ¹çº§åˆ«çš„ action</span><br><span class="line">    â”œâ”€â”€ mutations.js      # æ ¹çº§åˆ«çš„ mutation</span><br><span class="line">    â””â”€â”€ modules</span><br><span class="line">        â”œâ”€â”€ cart.js       # è´­ç‰©è½¦æ¨¡å—</span><br><span class="line">        â””â”€â”€ products.js   # äº§å“æ¨¡å—</span><br></pre></td></tr></table></figure><h2 id="Vuex-æ ¸å¿ƒæ¦‚å¿µ"><a href="#Vuex-æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="Vuex æ ¸å¿ƒæ¦‚å¿µ"></a>Vuex æ ¸å¿ƒæ¦‚å¿µ</h2><h3 id="state"><a href="#state" class="headerlink" title="state"></a>state</h3><ul><li>Vuex ç®¡ç†çš„çŠ¶æ€å¯¹è±¡</li><li>å”¯ä¸€çš„</li></ul><h3 id="actions"><a href="#actions" class="headerlink" title="actions"></a>actions</h3><ul><li>å€¼ä¸ºä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«å¤šä¸ªå“åº”ç”¨æˆ·åŠ¨ä½œçš„å›è°ƒå‡½æ•°</li><li>é€šè¿‡ <code>commit()</code>è§¦å‘ mutation ä¸­å‡½æ•°çš„è°ƒç”¨ï¼Œé—´æ¥æ›´æ–° state</li><li>å¯åŒ…å«å¼‚æ­¥ä»£ç </li></ul><h3 id="mutations"><a href="#mutations" class="headerlink" title="mutations"></a>mutations</h3><ul><li>å€¼ä¸ºä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«å¤šä¸ªç›´æ¥æ›´æ–° state çš„æ–¹æ³•</li><li>ä¸èƒ½å†™å¼‚æ­¥ä»£ç ï¼Œåªèƒ½å•çº¯åœ°æ“ä½œ state</li></ul><h3 id="getters"><a href="#getters" class="headerlink" title="getters"></a>getters</h3><ul><li>å€¼ä¸ºä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«å¤šä¸ªç”¨äºè¿”å›æ•°æ®çš„å‡½æ•°</li><li>ç±»ä¼¼äºè®¡ç®—å±æ€§ï¼Œgetters è¿”å›çš„æ•°æ®ä¾èµ–äº state çš„æ•°æ®</li></ul><h3 id="modules"><a href="#modules" class="headerlink" title="modules"></a>modules</h3><ul><li>ä¸€ä¸ª module æ˜¯ä¸€ä¸ª store çš„é…ç½®å¯¹è±¡ï¼Œä¸ä¸€ä¸ªç»„ä»¶å¯¹åº”</li></ul><h2 id="æ­å»º-Vuex-ç¯å¢ƒ"><a href="#æ­å»º-Vuex-ç¯å¢ƒ" class="headerlink" title="æ­å»º Vuex ç¯å¢ƒ"></a>æ­å»º Vuex ç¯å¢ƒ</h2><p>å®‰è£… Vuexï¼š<code>npm install vuex@3 --save</code></p><p>:::warning<br>æ³¨æ„ï¼šVue2 å®‰è£… Vuex3ï¼ŒVue3 å®‰è£… Vuex4ï¼Œç‰ˆæœ¬éœ€å¯¹åº”ã€‚<br>:::</p><p>åˆ›å»ºæ–‡ä»¶ <code>src/store/index.js</code> ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> actions = &#123;&#125;</span><br><span class="line"><span class="keyword">const</span> mutations = &#123;&#125;</span><br><span class="line"><span class="keyword">const</span> state = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  actions,</span><br><span class="line">  mutations,</span><br><span class="line">  state,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><code>main.js</code> é…ç½® <code>store</code> ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  store,</span><br><span class="line">  <span class="attr">render</span>: <span class="function">(<span class="params">h</span>) =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h2><p>ç»„ä»¶å®ä¾‹ä¸ <code>Actions</code> å’Œ <code>Mutations</code> å¯¹è¯ï¼š</p><ul><li>è‹¥æ²¡æœ‰ç½‘ç»œè¯·æ±‚æˆ–å…¶ä»–ä¸šåŠ¡é€»è¾‘ï¼Œç»„ä»¶ä¸­ä¹Ÿå¯ä»¥è¶Šè¿‡ <code>actions</code> ï¼Œå³ä¸å†™<code>dispatch</code>ï¼Œç›´æ¥ç¼–å†™<code>commit</code>ï¼š</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;ADD&#x27;</span>, <span class="variable language_">this</span>.<span class="property">number</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">incrementOdd</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;addOdd&#x27;</span>, <span class="variable language_">this</span>.<span class="property">number</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">incrementAsync</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;addAsync&#x27;</span>, <span class="variable language_">this</span>.<span class="property">number</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®šä¹‰ <code>Actions</code> å’Œ <code>Mutations</code>ï¼š</p><ul><li><code>context</code> æ˜¯ä¸€ä¸ªè¿·ä½ ç‰ˆçš„ <code>store</code>ï¼Œå¯è®¿é—® <code>dispatch</code>, <code>commit</code> æ–¹æ³•å’Œ <code>state</code></li><li><code>mutations</code> çš„åŠ¨ä½œç±»å‹ä¸€èˆ¬ç”¨å¤§å†™ï¼Œä¸ <code>actions</code> åŒºåˆ†</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">  <span class="comment">// context æ˜¯ä¸€ä¸ªè¿·ä½ ç‰ˆçš„ store</span></span><br><span class="line">  <span class="comment">// å¯è®¿é—® dispatch, commit æ–¹æ³•å’Œ state</span></span><br><span class="line">  <span class="title function_">addOdd</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (context.<span class="property">state</span>.<span class="property">sum</span> % <span class="number">2</span> !== <span class="number">0</span>) &#123;</span><br><span class="line">      context.<span class="title function_">commit</span>(<span class="string">&#x27;ADD&#x27;</span>, value)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">addAsync</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      context.<span class="title function_">commit</span>(<span class="string">&#x27;ADD&#x27;</span>, value)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">  <span class="comment">// mutations çš„åŠ¨ä½œç±»å‹ä¸€èˆ¬ç”¨å¤§å†™ï¼Œä¸ actions åŒºåˆ†</span></span><br><span class="line">  <span class="title function_">ADD</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">    state.<span class="property">sum</span> += value</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">  <span class="attr">sum</span>: <span class="number">0</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  actions,</span><br><span class="line">  mutations,</span><br><span class="line">  state,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ç»„ä»¶è®¿é—® Vuex çš„æ•°æ®ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; $store.state.sum &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="getters-çš„ä½¿ç”¨"><a href="#getters-çš„ä½¿ç”¨" class="headerlink" title="getters çš„ä½¿ç”¨"></a>getters çš„ä½¿ç”¨</h2><ul><li>å½“ <code>state</code> ä¸­çš„æ•°æ®éœ€è¦ç»è¿‡åŠ å·¥åå†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>getters</code> åŠ å·¥</li><li>å®ƒä¸æ˜¯å¿…é¡»çš„ï¼Œå½“åŠ å·¥é€»è¾‘å¤æ‚ä¸”éœ€è¦å¤ç”¨æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨</li><li><code>state</code> ä¸ <code>getters</code> çš„å…³ç³»æœ‰ç‚¹åƒ <code>data</code> å’Œ <code>computed</code> çš„å…³ç³»</li><li>ç»„ä»¶è¯»å–ï¼š<code>$store.getters.bigSum</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line">  <span class="title function_">bigSum</span>(<span class="params">state</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> state.<span class="property">sum</span> * <span class="number">10</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  actions,</span><br><span class="line">  mutations,</span><br><span class="line">  state,</span><br><span class="line">  getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="å››ä¸ª-mapXxx-æ–¹æ³•"><a href="#å››ä¸ª-mapXxx-æ–¹æ³•" class="headerlink" title="å››ä¸ª mapXxx æ–¹æ³•"></a>å››ä¸ª mapXxx æ–¹æ³•</h2><h3 id="mapState"><a href="#mapState" class="headerlink" title="mapState()"></a>mapState()</h3><ul><li>å°† <code>state</code> çŠ¶æ€æ˜ å°„ä¸ºè®¡ç®—å±æ€§</li><li>å¯¹è±¡å†™æ³•ï¼šé”®ä¸ºè‡ªå–çš„è®¡ç®—å±æ€§åï¼Œå€¼ä¸ºå¯¹åº”çš„çŠ¶æ€ï¼ˆå¿…é¡»ä¸ºå­—ç¬¦ä¸²ï¼‰</li><li>æ•°ç»„å†™æ³•ï¼šå½“é”®å€¼åŒåï¼Œå¯ç›´æ¥å†™çŠ¶æ€åï¼ˆå­—ç¬¦ä¸²ï¼‰</li><li>å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼š<code>&#123;sum: f, price: f&#125;</code></li><li>æ³¨æ„å¯¹è±¡çš„ <code>...&#123;&#125;</code> å±•å¼€å†™æ³•</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapState &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">  <span class="comment">// æ‰‹åŠ¨å†™æ³•</span></span><br><span class="line">  <span class="title function_">sum</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">sum</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">price</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">price</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¯¹è±¡å†™æ³•</span></span><br><span class="line">  ...<span class="title function_">mapState</span>(&#123;<span class="attr">sum</span>: <span class="string">&#x27;sum&#x27;</span>, <span class="attr">price</span>: <span class="string">&#x27;price&#x27;</span>&#125;),</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ•°ç»„å†™æ³•</span></span><br><span class="line">  ...<span class="title function_">mapState</span>([<span class="string">&#x27;sum&#x27;</span>, <span class="string">&#x27;price&#x27;</span>])</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="mapGetters"><a href="#mapGetters" class="headerlink" title="mapGetters"></a>mapGetters</h3><ul><li>å°† <code>getters</code> çš„æ•°æ®æ˜ å°„ä¸ºè®¡ç®—å±æ€§</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">  <span class="title function_">bigSum</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>.<span class="property">bigSum</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">double</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>.<span class="property">double</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¯¹è±¡å†™æ³•</span></span><br><span class="line">  ...<span class="title function_">mapGetters</span>(&#123;<span class="attr">bigSum</span>: <span class="string">&#x27;bigSum&#x27;</span>, <span class="attr">double</span>: <span class="string">&#x27;double&#x27;</span>&#125;),</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ•°ç»„å†™æ³•</span></span><br><span class="line">  ...<span class="title function_">mapGetters</span>([<span class="string">&#x27;bigSum&#x27;</span>, <span class="string">&#x27;double&#x27;</span>]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="mapActions"><a href="#mapActions" class="headerlink" title="mapActions"></a>mapActions</h3><ul><li>ç”Ÿæˆä¸ <code>actions</code> å¯¹è¯çš„å‡½æ•°ï¼Œå³åŒ…å« <code>$store.dispatch()</code></li><li><code>mapActions</code> ç”Ÿæˆçš„å‡½æ•°ä¸ä¼šä¼ å…¥å‚æ•°ï¼Œéœ€è¦åœ¨è°ƒç”¨æ—¶æ‰‹åŠ¨ä¼ å…¥æ•°æ®ï¼Œä¸ä¼ å‚é»˜è®¤ä¼ å…¥ <code>$event</code></li><li>æ•°ç»„å†™æ³•è¦æ³¨æ„å‡½æ•°åå’Œ <code>actions</code> åŠ¨ä½œç±»å‹åŒåï¼Œè°ƒç”¨æ—¶å‹¿å†™é”™</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapActions &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="comment">// æ‰‹åŠ¨å†™æ³•</span></span><br><span class="line">  <span class="title function_">incrementOdd</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;addOdd&#x27;</span>, <span class="variable language_">this</span>.<span class="property">number</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">incrementAsync</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;addAsync&#x27;</span>, <span class="variable language_">this</span>.<span class="property">number</span>)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¯¹è±¡å†™æ³•</span></span><br><span class="line">  ...<span class="title function_">mapActions</span>(&#123;<span class="attr">incrementOdd</span>: <span class="string">&#x27;addOdd&#x27;</span>, <span class="attr">incrementAsync</span>: <span class="string">&#x27;addAsync&#x27;</span>&#125;),</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ•°ç»„å†™æ³•</span></span><br><span class="line">  ...<span class="title function_">mapActions</span>([<span class="string">&#x27;addOdd&#x27;</span>, <span class="string">&#x27;addAsync&#x27;</span>]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;incrementOdd(number)&quot;</span>&gt;</span>å¥‡æ•°+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="mapMutations"><a href="#mapMutations" class="headerlink" title="mapMutations"></a>mapMutations</h3><ul><li>ç”Ÿæˆä¸ <code>mutations</code> å¯¹è¯çš„å‡½æ•°ï¼Œå³åŒ…å« <code>$store.commit()</code></li><li>åŒæ ·æ³¨æ„ä¼ é€’å‚æ•°ï¼Œä»¥åŠæ•°ç»„å½¢å¼å‡½æ•°åçš„é—®é¢˜</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapMutations &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;ADD&#x27;</span>, <span class="variable language_">this</span>.<span class="property">number</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">decrement</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;SUB&#x27;</span>, <span class="variable language_">this</span>.<span class="property">number</span>)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¯¹è±¡å†™æ³•</span></span><br><span class="line">  ...<span class="title function_">mapMutations</span>(&#123;<span class="attr">increment</span>: <span class="string">&#x27;ADD&#x27;</span>, <span class="attr">decrement</span>: <span class="string">&#x27;SUB&#x27;</span>&#125;),</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ•°ç»„å†™æ³•</span></span><br><span class="line">  ...<span class="title function_">mapMutations</span>([<span class="string">&#x27;ADD&#x27;</span>, <span class="string">&#x27;SUB&#x27;</span>]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Vuex-æ¨¡å—åŒ–-å‘½åç©ºé—´"><a href="#Vuex-æ¨¡å—åŒ–-å‘½åç©ºé—´" class="headerlink" title="Vuex æ¨¡å—åŒ–&amp;å‘½åç©ºé—´"></a>Vuex æ¨¡å—åŒ–&amp;å‘½åç©ºé—´</h2><p>è®©ä»£ç æ›´å¥½ç»´æŠ¤ï¼Œè®©å¤šç§æ•°æ®åˆ†ç±»æ›´åŠ æ˜ç¡®ï¼Œæ¯ä¸€ç±»æ•°æ®åŠå…¶ç›¸å…³æ“ä½œå¯¹åº”ä¸€ä¸ª <code>store</code> ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/store/index.js</span></span><br><span class="line"><span class="keyword">const</span> countAbout = &#123;</span><br><span class="line">  <span class="comment">// å¼€å¯å‘½åç©ºé—´</span></span><br><span class="line">  <span class="attr">namespaced</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">sum</span>: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;...&#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;...&#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="title function_">bigSum</span>(<span class="params">state</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">sum</span> * <span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> personAbout = &#123;</span><br><span class="line">  <span class="comment">// å¼€å¯å‘½åç©ºé—´</span></span><br><span class="line">  <span class="attr">namespaced</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">personList</span>: []</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;...&#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;...&#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">modules</span>: &#123;</span><br><span class="line">    countAbout,</span><br><span class="line">    personAbout</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è¯»å– <code>state</code> æ•°æ®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç›´æ¥è¯»å–</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">personAbout</span>.<span class="property">personList</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// mapState è¯»å–</span></span><br><span class="line">...<span class="title function_">mapState</span>(<span class="string">&#x27;countAbout&#x27;</span>,[<span class="string">&#x27;sum&#x27;</span>,<span class="string">&#x27;school&#x27;</span>]),</span><br></pre></td></tr></table></figure><p>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è¯»å– <code>getters</code> æ•°æ®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç›´æ¥è¯»å–</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>[<span class="string">&#x27;countAbout/bigSum&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// mapGetters è¯»å–ï¼š</span></span><br><span class="line">...<span class="title function_">mapGetters</span>(<span class="string">&#x27;countAbout&#x27;</span>,[<span class="string">&#x27;bigSum&#x27;</span>])</span><br></pre></td></tr></table></figure><p>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è°ƒç”¨ <code>dispatch</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç›´æ¥ dispatch</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;countAbout/addODdd&#x27;</span>, <span class="variable language_">this</span>.<span class="property">number</span>)</span><br><span class="line"><span class="comment">// å€ŸåŠ© mapActions</span></span><br><span class="line">...<span class="title function_">mapActions</span>(<span class="string">&#x27;countAbout&#x27;</span>, &#123;<span class="attr">incrementOdd</span>:<span class="string">&#x27;addOdd&#x27;</span>, <span class="attr">incrementWait</span>:<span class="string">&#x27;addAsync&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure><p>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è°ƒç”¨ <code>commit</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç›´æ¥ commit</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;personAbout/ADD_PERSON&#x27;</span>, person)</span><br><span class="line"><span class="comment">// å€ŸåŠ© mapMutations</span></span><br><span class="line">...<span class="title function_">mapMutations</span>(<span class="string">&#x27;countAbout&#x27;</span>,&#123;<span class="attr">increment</span>:<span class="string">&#x27;ADD&#x27;</span>,<span class="attr">decrement</span>:<span class="string">&#x27;SUB&#x27;</span>&#125;),</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Vuex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue ç½‘ç»œè¯·æ±‚</title>
      <link href="/2023/09/06/Vue/vue_network_request/"/>
      <url>/2023/09/06/Vue/vue_network_request/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue-ç½‘ç»œè¯·æ±‚"><a href="#Vue-ç½‘ç»œè¯·æ±‚" class="headerlink" title="Vue ç½‘ç»œè¯·æ±‚"></a>Vue ç½‘ç»œè¯·æ±‚</h1><h2 id="Vue-è„šæ‰‹æ¶é…ç½®ä»£ç†"><a href="#Vue-è„šæ‰‹æ¶é…ç½®ä»£ç†" class="headerlink" title="Vue è„šæ‰‹æ¶é…ç½®ä»£ç†"></a>Vue è„šæ‰‹æ¶é…ç½®ä»£ç†</h2><h3 id="é…ç½®å•ä¸ªä»£ç†"><a href="#é…ç½®å•ä¸ªä»£ç†" class="headerlink" title="é…ç½®å•ä¸ªä»£ç†"></a>é…ç½®å•ä¸ªä»£ç†</h3><p>åœ¨ <code>vue.config.js</code> ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">devServer</span>: &#123;</span><br><span class="line">  <span class="attr">proxy</span>: <span class="string">&#x27;http://localhost:5000&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œè¯·æ±‚èµ„æºæ—¶ç›´æ¥å‘ç»™å‰ç«¯ï¼ˆ8080ï¼‰å³å¯ã€‚</li><li>ç¼ºç‚¹ï¼šä¸èƒ½é…ç½®å¤šä¸ªä»£ç†ï¼Œä¸èƒ½çµæ´»çš„æ§åˆ¶è¯·æ±‚æ˜¯å¦èµ°ä»£ç†ã€‚</li><li>å·¥ä½œæ–¹å¼ï¼šè‹¥æŒ‰ç…§ä¸Šè¿°é…ç½®ä»£ç†ï¼Œå½“è¯·æ±‚äº†å‰ç«¯ä¸å­˜åœ¨çš„èµ„æºæ—¶ï¼Œé‚£ä¹ˆè¯¥è¯·æ±‚ä¼šè½¬å‘ç»™æœåŠ¡å™¨ ï¼ˆä¼˜å…ˆåŒ¹é…å‰ç«¯èµ„æºï¼‰</li></ul><h3 id="é…ç½®å¤šä¸ªä»£ç†"><a href="#é…ç½®å¤šä¸ªä»£ç†" class="headerlink" title="é…ç½®å¤šä¸ªä»£ç†"></a>é…ç½®å¤šä¸ªä»£ç†</h3><p>ç¼–å†™ <code>vue.config.js</code> é…ç½®å…·ä½“ä»£ç†è§„åˆ™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;/api1&#x27;</span>: &#123;</span><br><span class="line">        <span class="comment">// åŒ¹é…æ‰€æœ‰ä»¥ &#x27;/api1&#x27;å¼€å¤´çš„è¯·æ±‚è·¯å¾„</span></span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:5000&#x27;</span>, <span class="comment">// ä»£ç†ç›®æ ‡çš„åŸºç¡€è·¯å¾„</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="comment">// æŠŠè·¯å¾„çš„ /api1 æ›¿æ¢ä¸ºç©ºä¸²</span></span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123; <span class="string">&#x27;^/api1&#x27;</span>: <span class="string">&#x27;&#x27;</span> &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">&#x27;/api2&#x27;</span>: &#123;</span><br><span class="line">        <span class="comment">// åŒ¹é…æ‰€æœ‰ä»¥ &#x27;/api2&#x27;å¼€å¤´çš„è¯·æ±‚è·¯å¾„</span></span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:5001&#x27;</span>,</span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123; <span class="string">&#x27;^/api2&#x27;</span>: <span class="string">&#x27;&#x27;</span> &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">changeOrigin è®¾ç½®ä¸º true æ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„ hostï¼šlocalhost:5000</span></span><br><span class="line"><span class="comment">changeOrigin è®¾ç½®ä¸º false æ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„ hostï¼šlocalhost:8080</span></span><br><span class="line"><span class="comment">changeOrigin é»˜è®¤ä¸º true</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><ul><li>ä¼˜ç‚¹ï¼šå¯ä»¥é…ç½®å¤šä¸ªä»£ç†ï¼Œä¸”å¯ä»¥çµæ´»çš„æ§åˆ¶è¯·æ±‚æ˜¯å¦èµ°ä»£ç†ã€‚</li><li>ç¼ºç‚¹ï¼šé…ç½®ç•¥å¾®ç¹çï¼Œè¯·æ±‚èµ„æºæ—¶å¿…é¡»åŠ å‰ç¼€</li></ul><h2 id="vue-2-x-å…¨å±€é…ç½®-axios"><a href="#vue-2-x-å…¨å±€é…ç½®-axios" class="headerlink" title="vue 2.x å…¨å±€é…ç½® axios"></a>vue 2.x å…¨å±€é…ç½® axios</h2><p>å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œå‡ ä¹æ¯ä¸ªç»„ä»¶ä¸­éƒ½ä¼šä½¿ç”¨ <code>axios</code> å‘èµ·æ•°æ®è¯·æ±‚ã€‚æ­¤æ—¶ä¼šé‡åˆ°å¦‚ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li>æ¯ä¸ªç»„ä»¶ä¸­éƒ½éœ€è¦å¯¼å…¥ <code>axios</code>ï¼ˆä»£ç è‡ƒè‚¿ï¼‰</li><li>æ¯æ¬¡å‘è¯·æ±‚éƒ½éœ€è¦å¡«å†™å®Œæ•´çš„è¯·æ±‚è·¯å¾„ï¼ˆä¸åˆ©äºåæœŸçš„ç»´æŠ¤ï¼‰</li></ul><p>åœ¨ <code>main.js</code> æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é…ç½®è¯·æ±‚æ ¹è·¯å¾„</span></span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">baseURL</span> = <span class="string">&#x27;http://api.com&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠŠ axios æŒ‚è½½åˆ° Vue åŸå‹ä¸Š</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$http</span> = aixos</span><br></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼šæ¯ä¸ªç»„ä»¶å¯ä»¥é€šè¿‡ <code>this.$http.get</code> ç›´æ¥å‘èµ·è¯·æ±‚ï¼Œæ— éœ€å†å¯¼å…¥ <code>axios</code> ï¼›è‹¥æ ¹è·¯å¾„å‘ç”Ÿæ”¹å˜ï¼Œåªéœ€ä¿®æ”¹ <code>axios.defaults.baseURL</code> ï¼Œæœ‰åˆ©äºä»£ç ç»´æŠ¤ã€‚</p><p>ç¼ºç‚¹ï¼šæ— æ³•å®ç° <code>API</code> çš„å¤ç”¨ã€‚å³å¤šä¸ªç»„ä»¶éœ€è¦å¯¹åŒä¸€ä¸ªæ¥å£å‘èµ·è¯·æ±‚ï¼Œé‚£ä¹ˆæ¯ä¸ªç»„ä»¶éƒ½éœ€è¦é‡å¤ä¹¦å†™ <code>this.$http.get(&#39;/users&#39;)</code> ç±»ä¼¼çš„ä»£ç ï¼Œé€ æˆå†—ä½™ã€‚ï¼ˆè§†é¢‘ä¸Šçš„è¯´æ³•ï¼Œä¸ªäººè®¤ä¸ºçœŸæ­£çš„ç¼ºç‚¹æ˜¯å¦‚æœå­˜åœ¨å¤šä¸ªæ ¹è·¯å¾„ï¼Œè¿™ç§æ–¹å¼æ— æ³•è§£å†³ï¼Œæ‰€ä»¥æ‰ä¼šæœ‰ä¸‹é¢çš„æ”¹è¿›æ–¹å¼ã€‚ï¼‰</p><p>æ”¹è¿›ï¼šå¯¹äºæ¯ä¸€ä¸ªæ ¹è·¯å¾„ï¼Œç‹¬ç«‹å°è£…ä¸€ä¸ª <code>request.js</code> æ¨¡å—ï¼Œç»„ä»¶å¯¼å…¥æ‰€éœ€æ ¹è·¯å¾„å¯¹åº”çš„ <code>axios</code> è¿›è¡Œä½¿ç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»º axios å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> request = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="attr">baseURL</span>: <span class="string">&#x27;http://api.taobao.com&#x27;</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> request</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Vueç½‘ç»œè¯·æ±‚ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue è„šæ‰‹æ¶</title>
      <link href="/2023/09/06/Vue/vue_cli/"/>
      <url>/2023/09/06/Vue/vue_cli/</url>
      
        <content type="html"><![CDATA[<p><a href="https://cli.vuejs.org/zh/">å®˜ç½‘ä¼ é€é—¨</a></p><h2 id="åˆ›å»º-Vue-é¡¹ç›®"><a href="#åˆ›å»º-Vue-é¡¹ç›®" class="headerlink" title="åˆ›å»º Vue é¡¹ç›®"></a>åˆ›å»º Vue é¡¹ç›®</h2><ul><li>å…¨å±€å®‰è£… vue è„šæ‰‹æ¶ï¼š<code>npm i -g @vue/cli</code></li><li>åˆ›å»ºé¡¹ç›®ï¼š<code>vue create project-name</code></li><li>è¿è¡Œé¡¹ç›®ï¼š<code>npm run serve</code></li><li>æš´éœ² webpack é…ç½®ï¼š<code>vue inspect &gt; output.js</code></li></ul><h2 id="Vue-è„šæ‰‹æ¶é¡¹ç›®ç»“æ„"><a href="#Vue-è„šæ‰‹æ¶é¡¹ç›®ç»“æ„" class="headerlink" title="Vue è„šæ‰‹æ¶é¡¹ç›®ç»“æ„"></a>Vue è„šæ‰‹æ¶é¡¹ç›®ç»“æ„</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ node_modules</span><br><span class="line">â”œâ”€â”€ public</span><br><span class="line">â”‚ â”œâ”€â”€ favicon.ico: é¡µç­¾å›¾æ ‡</span><br><span class="line">â”‚ â””â”€â”€ index.html: ä¸»é¡µé¢</span><br><span class="line">â”œâ”€â”€ src</span><br><span class="line">â”‚ â”œâ”€â”€ assets: å­˜æ”¾é™æ€èµ„æº</span><br><span class="line">â”‚ â”‚ â””â”€â”€ logo.png</span><br><span class="line">â”‚ â”‚â”€â”€ component: å­˜æ”¾ç»„ä»¶</span><br><span class="line">â”‚ â”‚ â””â”€â”€ HelloWorld.vue</span><br><span class="line">â”‚ â”‚â”€â”€ App.vue: æ±‡æ€»æ‰€æœ‰ç»„ä»¶</span><br><span class="line">â”‚ â”‚â”€â”€ main.js: å…¥å£æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ .gitignore: git ç‰ˆæœ¬ç®¡åˆ¶å¿½ç•¥çš„é…ç½®</span><br><span class="line">â”œâ”€â”€ babel.config.js: babel çš„é…ç½®æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ package.json: åº”ç”¨åŒ…é…ç½®æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ README.md: åº”ç”¨æè¿°æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ package-lock.jsonï¼šåŒ…ç‰ˆæœ¬æ§åˆ¶æ–‡ä»¶</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/dont-sleep-so-late/CDN/master/images/vue-cli.png" alt="Vueè„šæ‰‹æ¶é¡¹ç›®ç»“æ„"></p><p><code>index.html</code> ä»£ç åˆ†æï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é’ˆå¯¹IEæµè§ˆå™¨çš„ä¸€ä¸ªç‰¹æ®Šé…ç½®ï¼Œå«ä¹‰æ˜¯è®©IEæµè§ˆå™¨ä»¥æœ€é«˜çš„æ¸²æŸ“çº§åˆ«æ¸²æŸ“é¡µé¢ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¼€å¯ç§»åŠ¨ç«¯çš„ç†æƒ³è§†å£ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;%= BASE_URL %&gt; è¡¨ç¤º public æ–‡ä»¶å¤¹è·¯å¾„ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&lt;%= BASE_URL %&gt;favicon.ico&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ‹¿ package-lock.json çš„ name ä½œä¸ºæ ‡é¢˜ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>&lt;%= htmlWebpackPlugin.options.title %&gt;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å½“æµè§ˆå™¨ä¸æ”¯æŒjsæ—¶noscriptä¸­çš„å…ƒç´ å°±ä¼šè¢«æ¸²æŸ“ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">noscript</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">strong</span>&gt;</span>We&#x27;re sorry but &lt;%= htmlWebpackPlugin.options.title %&gt; doesn&#x27;t work properly without JavaScript enabled. Please enable it to continue.<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å®¹å™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- built files will be auto injected --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ä¸åŒç‰ˆæœ¬çš„-Vue-ä¸-render-å‡½æ•°"><a href="#ä¸åŒç‰ˆæœ¬çš„-Vue-ä¸-render-å‡½æ•°" class="headerlink" title="ä¸åŒç‰ˆæœ¬çš„ Vue ä¸ render å‡½æ•°"></a>ä¸åŒç‰ˆæœ¬çš„ Vue ä¸ <code>render</code> å‡½æ•°</h2><ol><li><code>vue.js</code> ä¸ <code>vue.runtime.xxx.js</code> çš„åŒºåˆ«ï¼š</li></ol><ul><li><code>import Vue from &#39;vue&#39;</code> é»˜è®¤å¯¼å…¥ <code>vue.runtime.esm.js</code></li><li><code>vue.js</code> æ˜¯å®Œæ•´ç‰ˆçš„ Vueï¼ŒåŒ…å«ï¼šæ ¸å¿ƒåŠŸèƒ½ + æ¨¡æ¿è§£æå™¨</li><li><code>vue.runtime.xxx.js</code> æ˜¯è¿è¡Œç‰ˆçš„ Vueï¼ŒåªåŒ…å«ï¼šæ ¸å¿ƒåŠŸèƒ½ï¼›æ²¡æœ‰æ¨¡æ¿è§£æå™¨</li></ul><ol start="2"><li><code>vue.runtime.xxx.js</code> æ²¡æœ‰æ¨¡æ¿è§£æå™¨ï¼Œæ•…ä¸èƒ½ä½¿ç”¨ <code>template</code> é…ç½®é¡¹ï¼Œéœ€ä½¿ç”¨ <code>render</code> å‡½æ•°æ¥æ”¶åˆ°çš„ <code>createElement</code> å‡½æ•°å»æŒ‡å®šå…·ä½“å†…å®¹</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.js&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// render()</span></span><br><span class="line"><span class="attr">render</span>: <span class="keyword">function</span>(<span class="params">createElement</span>) &#123;</span><br><span class="line">  <span class="comment">// åˆ›å»ºå…ƒç´ </span></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">createElement</span>(<span class="string">&#x27;h1&#x27;</span>, <span class="string">&#x27;Hello Vue&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="attr">render</span>: <span class="function"><span class="params">createElement</span> =&gt;</span> <span class="title function_">createElement</span>(<span class="title class_">App</span>)</span><br></pre></td></tr></table></figure><h2 id="vue-config-js-é…ç½®æ–‡ä»¶"><a href="#vue-config-js-é…ç½®æ–‡ä»¶" class="headerlink" title="vue.config.js é…ç½®æ–‡ä»¶"></a>vue.config.js é…ç½®æ–‡ä»¶</h2><ol><li>ä½¿ç”¨ <code>vue inspect &gt; output.js</code> å¯ä»¥æŸ¥çœ‹åˆ° Vue è„šæ‰‹æ¶çš„é»˜è®¤é…ç½®ã€‚</li><li>ä½¿ç”¨ <code>vue.config.js</code> å¯ä»¥å¯¹è„šæ‰‹æ¶è¿›è¡Œä¸ªæ€§åŒ–å®šåˆ¶ï¼Œ<a href="https://cli.vuejs.org/zh/config/">è¯¦æƒ…</a></li></ol><h2 id="TodoList-æ¡ˆä¾‹æ€»ç»“"><a href="#TodoList-æ¡ˆä¾‹æ€»ç»“" class="headerlink" title="TodoList æ¡ˆä¾‹æ€»ç»“"></a>TodoList æ¡ˆä¾‹æ€»ç»“</h2><ol><li>ç»„ä»¶åŒ–ç¼–ç æµç¨‹ï¼š</li></ol><ul><li>æ‹†åˆ†é™æ€ç»„ä»¶ï¼šç»„ä»¶è¦æŒ‰ç…§åŠŸèƒ½ç‚¹æ‹†åˆ†ï¼Œå‘½åä¸è¦ä¸ html å…ƒç´ å†²çªã€‚</li><li>å®ç°åŠ¨æ€ç»„ä»¶ï¼šè€ƒè™‘å¥½æ•°æ®çš„å­˜æ”¾ä½ç½®ï¼Œæ•°æ®æ˜¯ä¸€ä¸ªç»„ä»¶åœ¨ç”¨ï¼Œè¿˜æ˜¯ä¸€äº›ç»„ä»¶åœ¨ç”¨ï¼š<ul><li>ä¸€ä¸ªç»„ä»¶åœ¨ç”¨ï¼šæ”¾åœ¨ç»„ä»¶è‡ªèº«å³å¯</li><li>ä¸€äº›ç»„ä»¶åœ¨ç”¨ï¼šæ”¾åœ¨ä»–ä»¬å…±åŒçš„çˆ¶ç»„ä»¶ä¸Šï¼ˆçŠ¶æ€æå‡ï¼‰</li></ul></li><li>å®ç°äº¤äº’ï¼šä»ç»‘å®šäº‹ä»¶å¼€å§‹ã€‚</li></ul><ol start="2"><li><code>props</code> é€‚ç”¨äºï¼š</li></ol><ul><li>çˆ¶ &#x3D;&#x3D;&gt; å­</li><li>å­ &#x3D;&#x3D;&gt; çˆ¶ï¼ˆè¦æ±‚çˆ¶å…ˆç»™å­ä¸€ä¸ªå‡½æ•°ï¼‰</li></ul><ol start="3"><li><p><code>v-model</code> ç»‘å®šçš„å€¼ä¸èƒ½æ˜¯ <code>props</code> ä¼ è¿‡æ¥çš„å€¼ï¼Œå› ä¸º <code>props</code> æ˜¯ä¸å¯ä»¥ä¿®æ”¹çš„ï¼</p></li><li><p><code>props</code> ä¼ è¿‡æ¥çš„è‹¥æ˜¯å¯¹è±¡ç±»å‹çš„å€¼ï¼Œä¿®æ”¹å¯¹è±¡ä¸­çš„å±æ€§æ—¶ Vue ä¸ä¼šæŠ¥é”™ï¼Œä½†ä¸æ¨è</p></li></ol><h2 id="ä¸€äº›ç¬¬ä¸‰æ–¹åŒ…"><a href="#ä¸€äº›ç¬¬ä¸‰æ–¹åŒ…" class="headerlink" title="ä¸€äº›ç¬¬ä¸‰æ–¹åŒ…"></a>ä¸€äº›ç¬¬ä¸‰æ–¹åŒ…</h2><ul><li><a href="https://gitee.com/mirrors/nanoid#nano-id">nanoid</a></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install nanoid</span><br><span class="line"></span><br><span class="line">import &#123; nanoid &#125; from nanoid</span><br><span class="line"></span><br><span class="line">model.id = nanoid()</span><br></pre></td></tr></table></figure><ul><li><a href="https://dayjs.fenxianglu.cn/">dayjs</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Vueè„šæ‰‹æ¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue ç»„ä»¶è¿›é˜¶</title>
      <link href="/2023/09/06/Vue/vue_component_advanced/"/>
      <url>/2023/09/06/Vue/vue_component_advanced/</url>
      
        <content type="html"><![CDATA[<h2 id="åŠ¨æ€ç»„ä»¶"><a href="#åŠ¨æ€ç»„ä»¶" class="headerlink" title="åŠ¨æ€ç»„ä»¶"></a>åŠ¨æ€ç»„ä»¶</h2><p>vue æä¾›äº†å†…ç½®çš„ <code>&lt;component&gt;</code> ç»„ä»¶ç”¨äºåŠ¨æ€åˆ‡æ¢ç»„ä»¶ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é€šè¿‡ is å±æ€§æŒ‡å®šè¦æ¸²æŸ“çš„ç»„ä»¶ï¼Œä¼ é€’çš„æ˜¯å­—ç¬¦ä¸² --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;comName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;comName = &#x27;Left&#x27;&quot;</span>&gt;</span>å±•ç¤ºLeftç»„ä»¶<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;comName = &#x27;Right&#x27;&quot;</span>&gt;</span>å±•ç¤ºRightç»„ä»¶<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="keep-alive"><a href="#keep-alive" class="headerlink" title="keep-alive"></a>keep-alive</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ‡æ¢åŠ¨æ€ç»„ä»¶æ—¶æ— æ³•ä¿æŒç»„ä»¶çš„çŠ¶æ€ã€‚æ­¤æ—¶å¯ä»¥ä½¿ç”¨ vue å†…ç½®çš„ <code>&lt;keep-alive&gt;</code> ç»„ä»¶ä¿æŒåŠ¨æ€ç»„ä»¶çš„çŠ¶æ€ï¼Œå¯¹è¢«åŒ…è£¹çš„ç»„ä»¶è¿›è¡ŒçŠ¶æ€ç¼“å­˜ã€‚</p><p>è¢« <code>&lt;keep-alive&gt;</code> åŒ…è£¹çš„ç»„ä»¶ä¼šå¤šå‡ºä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼šå½“ç»„ä»¶è¢«æ¿€æ´»æ—¶ï¼Œè§¦å‘ <code>activated</code> é’©å­ï¼›å½“ç»„ä»¶è¢«ç¼“å­˜æ—¶ï¼Œè§¦å‘ <code>deactivated</code> é’©å­ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;comName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>&lt;keep-alive&gt;</code> çš„ <code>include</code> å’Œ <code>exclude</code> å±æ€§ï¼Œåˆ†åˆ«ç”¨äºæŒ‡æ˜å“ªäº›ç»„ä»¶è¦ç¼“å­˜ã€å“ªäº›ç»„ä»¶ä¸è¦ç¼“å­˜ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">include</span>=<span class="string">&quot;Left, Right&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;comName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">:include</span>=<span class="string">&quot;[&#x27;News&#x27;, &#x27;Message&#x27;]&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ’æ§½"><a href="#æ’æ§½" class="headerlink" title="æ’æ§½"></a>æ’æ§½</h2><h3 id="ä½•ä¸ºæ’æ§½"><a href="#ä½•ä¸ºæ’æ§½" class="headerlink" title="ä½•ä¸ºæ’æ§½"></a>ä½•ä¸ºæ’æ§½</h3><p>æ’æ§½å¯ä»¥ç†è§£ä¸ºç»„ä»¶å°è£…æœŸé—´ï¼Œä¸ºç”¨æˆ·é¢„ç•™çš„<strong>å†…å®¹å ä½ç¬¦</strong>ã€‚å®ƒæ˜¯ vue ä¸ºç»„ä»¶å°è£…è€…æä¾›çš„èƒ½åŠ›ï¼Œå…è®¸å¼€å‘è€…åœ¨å°è£…ç»„ä»¶æ—¶ï¼ŒæŠŠ<strong>ä¸ç¡®å®šçš„ã€å¸Œæœ›ç”±ç”¨æˆ·æŒ‡å®šçš„éƒ¨åˆ†</strong>å®šä¹‰ä¸ºæ’æ§½ã€‚</p><h3 id="æ’æ§½åŸºæœ¬ç”¨æ³•"><a href="#æ’æ§½åŸºæœ¬ç”¨æ³•" class="headerlink" title="æ’æ§½åŸºæœ¬ç”¨æ³•"></a>æ’æ§½åŸºæœ¬ç”¨æ³•</h3><p>åŸºç¡€ä½¿ç”¨ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å­ç»„ä»¶ä¸­é¢„ç•™æ’æ§½ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;contianer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>è¿™æ˜¯å­ç»„ä»¶<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- çˆ¶ç»„ä»¶ä½¿ç”¨å­ç»„ä»¶æ—¶ï¼Œå‘æ’æ§½å¡«å……å†…å®¹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">child-comp</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>å¡«å……åˆ°æ’æ§½çš„å†…å®¹<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">child-comp</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœå­ç»„ä»¶æ²¡æœ‰é¢„ç•™æ’æ§½ï¼Œé‚£ä¹ˆçˆ¶ç»„ä»¶å¡«å……ç»™å­ç»„ä»¶çš„è‡ªå®šä¹‰å†…å®¹ä¼šè¢«ä¸¢å¼ƒï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å­ç»„ä»¶æ²¡æœ‰é¢„ç•™æ’æ§½ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;contianer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>è¿™æ˜¯å­ç»„ä»¶<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- çˆ¶ç»„ä»¶çš„è‡ªå®šä¹‰å†…å®¹ä¼šè¢«ä¸¢å¼ƒ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">child-comp</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™æ®µè‡ªå®šä¹‰å†…å®¹ä¼šè¢«ä¸¢å¼ƒ<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">child-comp</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å­ç»„ä»¶å¯ä»¥ä¸ºæ’æ§½æä¾›<strong>åå¤‡å†…å®¹</strong>ï¼Œå½“çˆ¶ç»„ä»¶æ²¡æœ‰æä¾›è‡ªå®šä¹‰å†…å®¹æ—¶ï¼Œåå¤‡å†…å®¹å°±ä¼šç”Ÿæ•ˆã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å­ç»„ä»¶æä¾›åå¤‡å†…å®¹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;contianer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>è¿™æ˜¯å­ç»„ä»¶<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span>&gt;</span>è¿™æ˜¯åå¤‡å†…å®¹ï¼Œçˆ¶ç»„ä»¶æ²¡æœ‰æä¾›è‡ªå®šä¹‰å†…å®¹å°±ä¼šç”Ÿæ•ˆ<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- çˆ¶ç»„ä»¶æ²¡æœ‰æä¾›è‡ªå®šä¹‰å†…å®¹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">child-comp</span>&gt;</span> <span class="tag">&lt;/<span class="name">child-comp</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å…·åæ’æ§½"><a href="#å…·åæ’æ§½" class="headerlink" title="å…·åæ’æ§½"></a>å…·åæ’æ§½</h3><p>ç»„ä»¶åœ¨é¢„ç•™æ’æ§½æ—¶å¯ä»¥è®¾ç½® <code>name</code> å±æ€§ï¼Œä¸ºæ’æ§½æŒ‡å®šåç§°ï¼Œè¿™ç§æœ‰å…·ä½“åç§°çš„æ’æ§½å°±å«å…·åæ’æ§½ã€‚<br>æ²¡æœ‰è®¾ç½® <code>name</code> åç§°çš„æ’æ§½é»˜è®¤åç§°ä¸º <code>default</code> ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å­ç»„ä»¶é¢„ç•™å¤šä¸ªå…·åæ’æ§½ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;contianer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>è¿™æ˜¯å­ç»„ä»¶<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;title&quot;</span>&gt;</span>title å…·åæ’æ§½<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;content&quot;</span>&gt;</span>content å…·åæ’æ§½<span class="tag">&lt;/<span class="name">slot</span>&gt;</span>&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span>&gt;</span>æ²¡æœ‰è®¾ç½® name åç§°åˆ™é»˜è®¤ä¸º default<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;default&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>çˆ¶ç»„ä»¶å‘å…·åæ’æ§½æä¾›è‡ªå®šä¹‰å†…å®¹</p><ul><li>æ–°çš„å†™æ³•ï¼šåŒ…è£¹ä¸€ä¸ª <code>&lt;template&gt;</code> æ ‡ç­¾ï¼ŒåŒæ—¶åœ¨ <code>&lt;template&gt;</code> ä¸­é€šè¿‡ <code>v-slot:åç§°</code> æŒ‡æ˜æ’æ§½çš„åç§°ã€‚ç®€å†™å½¢å¼ä¸º <code>#åç§°</code> ï¼Œä¸” <code>v-slot</code> åªèƒ½ä½¿ç”¨åœ¨ <code>&lt;template&gt;</code> å’Œç»„ä»¶æ ‡ç­¾ä¸Šï¼Œæ™®é€š HTML æ ‡ç­¾ä¸è¡Œ</li><li>æ—§çš„å†™æ³•ï¼š<code>slot=&quot;åç§°&quot;</code> æŒ‡æ˜æ’æ§½åç§°</li><li>å¦‚æœä¸æŒ‡å®šæ’æ§½åç§°ï¼Œé‚£ä¹ˆè‡ªå®šä¹‰å†…å®¹ä¼šè¢«å¡«å……åˆ°æ‰€æœ‰çš„ <code>default</code> æ’æ§½å½“ä¸­</li><li>åŒä¸€æ’æ§½å¡«å……å¤šä¸ªå†…å®¹ï¼Œæ˜¯è¿½åŠ ä¸æ˜¯è¦†ç›–</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- çˆ¶ç»„ä»¶å‘å…·åæ’æ§½æä¾›è‡ªå®šä¹‰å†…å®¹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">child-comp</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">slot</span>=<span class="string">&quot;title&quot;</span>&gt;</span>ã€Šèµ æ±ªä¼¦ã€‹<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ã€Šé™å¤œæ€ã€‹<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- ç®€å†™å½¢å¼ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> #<span class="attr">content</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>åºŠå‰æ˜æœˆå…‰ï¼Œç–‘æ˜¯åœ°ä¸Šéœœã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>ä¸¾å¤´æœ›æ˜æœˆï¼Œä½å¤´æ€æ•…ä¹¡ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™æ®µå†…å®¹æ²¡æœ‰æŒ‡å®šåç§°ï¼Œä¼šè¢«å¡«å……åˆ°æ‰€æœ‰ default æ’æ§½ä¸­ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">child-comp</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ä½œç”¨åŸŸæ’æ§½"><a href="#ä½œç”¨åŸŸæ’æ§½" class="headerlink" title="ä½œç”¨åŸŸæ’æ§½"></a>ä½œç”¨åŸŸæ’æ§½</h3><ul><li>ç»„ä»¶å¯ä»¥ä¸ºæ’æ§½ç»‘å®šè‡ªå®šä¹‰å±æ€§ <code>props</code> ï¼Œè¿™ç§æ’æ§½å«ä½œç”¨åŸŸæ’æ§½</li><li>ç†è§£ï¼šæ•°æ®åœ¨ç»„ä»¶çš„è‡ªèº«ï¼Œä½†æ ¹æ®æ•°æ®ç”Ÿæˆçš„ç»“æ„éœ€è¦ç»„ä»¶çš„ä½¿ç”¨è€…æ¥å†³å®š</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å­ç»„ä»¶ä¸ºæ’æ§½ç»‘å®š props æ•°æ® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">slot</span> <span class="attr">v-for</span>=<span class="string">&quot;item in list&quot;</span> <span class="attr">:user</span>=<span class="string">&quot;item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">list</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">          <span class="attr">name</span>: <span class="string">&#x27;Lily&#x27;</span>,</span><br><span class="line">          <span class="attr">state</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">id</span>: <span class="number">2</span>,</span><br><span class="line">          <span class="attr">name</span>: <span class="string">&#x27;Ben&#x27;</span>,</span><br><span class="line">          <span class="attr">state</span>: <span class="literal">false</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">id</span>: <span class="number">3</span>,</span><br><span class="line">          <span class="attr">name</span>: <span class="string">&#x27;Water&#x27;</span>,</span><br><span class="line">          <span class="attr">state</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çˆ¶ç»„ä»¶å‘æ’æ§½æä¾›è‡ªå®šä¹‰å†…å®¹æ—¶ï¼Œå¯ä»¥æ¥æ”¶ä½œç”¨åŸŸæ’æ§½æä¾›çš„æ•°æ®ï¼š</p><ul><li>æ—§å†™æ³•ï¼š<code>scope=&quot;scope&quot;</code> ã€<code>slot-scope=&quot;scope&quot;</code></li><li>æ–°å†™æ³•ï¼š<code>v-slot:default=&quot;scope&quot;</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">child-comp</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>ä½œç”¨åŸŸæ’æ§½æä¾›çš„æ•°æ®ï¼š&#123;&#123; scope &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scope&quot;</span> <span class="attr">slot</span>=<span class="string">&quot;default&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; scope &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">child-comp</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­æ¥æ”¶åˆ°çš„æ•°æ® <code>scope</code> æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// scope çš„å†…å®¹</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&#x27;user&#x27;</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;id&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Lily&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;state&#x27;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ¥æ”¶ä½œç”¨åŸŸæ’æ§½æä¾›çš„æ•°æ®æ—¶å¯ä»¥ä½¿ç”¨è§£æ„èµ‹å€¼ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">child-comp</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;&#123;user&#125;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>idï¼š&#123;&#123; user.id &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>nameï¼š&#123;&#123; user.name &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>stateï¼š&#123;&#123; user.state &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">child-comp</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="è‡ªå®šä¹‰æŒ‡ä»¤"><a href="#è‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="è‡ªå®šä¹‰æŒ‡ä»¤"></a>è‡ªå®šä¹‰æŒ‡ä»¤</h2><h3 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h3><ul><li>ç§æœ‰è‡ªå®šä¹‰æŒ‡ä»¤ï¼šåœ¨ç»„ä»¶çš„ <code>directives</code> èŠ‚ç‚¹å£°æ˜</li><li>å…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤ï¼šåœ¨ <code>main.js</code> æ–‡ä»¶ä¸­å£°æ˜</li></ul><h3 id="å®Œæ•´å†™æ³•"><a href="#å®Œæ•´å†™æ³•" class="headerlink" title="å®Œæ•´å†™æ³•"></a>å®Œæ•´å†™æ³•</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-focus</span>=<span class="string">&quot;content&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">content</span>: <span class="number">666</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">directives</span>: &#123;</span><br><span class="line">  <span class="attr">focus</span>: &#123;</span><br><span class="line">    <span class="comment">// æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶æ‰§è¡Œï¼Œæ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line">    <span class="title function_">bind</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">      el.<span class="property">value</span> = binding.<span class="property">value</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŒ‡ä»¤æ‰€åœ¨å…ƒç´ æ’å…¥é¡µé¢æ—¶æ‰§è¡Œï¼Œæ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line">    <span class="title function_">inserted</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">      <span class="comment">// ä¸€è¿›å…¥é¡µé¢è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹</span></span><br><span class="line">      el.<span class="title function_">focus</span>()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŒ‡ä»¤æ‰€åœ¨å…ƒç´ é‡æ–°è§£æï¼ˆä¸ªäººè§‰å¾—ä¸åº”æ˜¯æ¸²æŸ“ï¼Œè€Œæ˜¯è§£æï¼Œé‡æ–°è§£æä¸ä¸€å®šé‡æ–°æ¸²æŸ“ï¼‰æ—¶æ‰§è¡Œï¼Œæ‰§è¡Œ 0+N æ¬¡</span></span><br><span class="line">    <span class="title function_">update</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">      el.<span class="property">value</span> = binding.<span class="property">value</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¨å±€å†™æ³•</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;focus&#x27;</span>, &#123;</span><br><span class="line">  <span class="title function_">bind</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">    el.<span class="property">value</span> = binding.<span class="property">value</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">inserted</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">    el.<span class="title function_">focus</span>()</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">update</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">    el.<span class="property">value</span> = binding.<span class="property">value</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="ç®€å†™å½¢å¼"><a href="#ç®€å†™å½¢å¼" class="headerlink" title="ç®€å†™å½¢å¼"></a>ç®€å†™å½¢å¼</h3><ul><li>å½“ <code>bind</code> å‡½æ•°å’Œ <code>update</code> å‡½æ•°é‡Œçš„é€»è¾‘å®Œå…¨ç›¸åŒæ—¶ï¼Œå¯ä»¥ç®€å†™</li><li>ä¸éœ€è¦å®šä¹‰ <code>inserted</code> å‡½æ•°æ‰ä½¿ç”¨ç®€å†™å½¢å¼</li><li>å› æ­¤ç®€å†™å½¢å¼çš„è°ƒç”¨æ—¶æœºï¼šåˆæ¬¡ç»‘å®šå’Œ DOM æ›´æ–°ï¼ˆæŒ‡ä»¤æ‰€åœ¨æ¨¡æ¿è¢«é‡æ–°è§£æï¼‰</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-color</span>=<span class="string">&quot;&#x27;red&#x27;&quot;</span>&gt;</span>ç®€å†™å½¢å¼<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">directives</span>: &#123;</span><br><span class="line">  <span class="title function_">color</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">    el.<span class="property">style</span>.<span class="property">color</span> = binding.<span class="property">value</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¨å±€å†™æ³•</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;color&#x27;</span>, <span class="function">(<span class="params">el, binding</span>) =&gt;</span> &#123;</span><br><span class="line">  el.<span class="property">style</span>.<span class="property">color</span> = binding.<span class="property">value</span></span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul><li>è‡ªå®šä¹‰æŒ‡ä»¤ä½¿ç”¨æ—¶éœ€è¦æ·»åŠ  <code>v-</code> å‰ç¼€</li><li>æŒ‡ä»¤åå¦‚æœæ˜¯å¤šä¸ªå•è¯ï¼Œè¦ä½¿ç”¨ <code>kebab-case</code> çŸ­æ¨ªçº¿å‘½åæ–¹å¼ï¼Œä¸è¦ç”¨ <code>camelCase</code> é©¼å³°å‘½å</li><li>è‡ªå®šä¹‰æŒ‡ä»¤ä¸‰ä¸ªå‡½æ•°é‡Œçš„ <code>this</code> æŒ‡å‘ <code>window</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-big-number</span>=<span class="string">&quot;n&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">n</span>: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">directives</span>: &#123;</span><br><span class="line">  <span class="comment">// æ·»åŠ å¼•å·æ‰æ˜¯å¯¹è±¡é”®åå®Œæ•´å†™æ³•</span></span><br><span class="line">  <span class="comment">// å¹³æ—¶ä¸åŠ å¼•å·éƒ½æ˜¯ç®€å†™å½¢å¼</span></span><br><span class="line">  <span class="comment">// é‡åˆ°çŸ­æ¨ªçº¿çš„é”®åå°±å¿…é¡»æ·»åŠ å¼•å·</span></span><br><span class="line">  <span class="string">&#x27;big-number&#x27;</span>: &#123;</span><br><span class="line">    <span class="title function_">bind</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// Window</span></span><br><span class="line">      el.<span class="property">innerText</span> = binding.<span class="property">value</span> * <span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Mixin-æ··å…¥"><a href="#Mixin-æ··å…¥" class="headerlink" title="Mixin æ··å…¥"></a>Mixin æ··å…¥</h2><ul><li>Mixin å¯ä»¥æŠŠå¤šä¸ªç»„ä»¶å…±ç”¨çš„é…ç½®æå–æˆä¸€ä¸ªæ··å…¥å¯¹è±¡</li><li>æ··å…¥å’Œç»„ä»¶è‡ªèº«çš„é…ç½®ä¼šåˆå¹¶</li><li><code>data</code> ã€<code>methods</code> è‹¥å†²çªä»¥è‡ªèº«ä¸ºå‡†</li><li>å¯¹äºç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œæ‰§è¡ŒåŠ¨ä½œä¼šåˆå¹¶ï¼Œä¸”å…ˆæ‰§è¡Œ Mixin é‡Œçš„åŠ¨ä½œ</li></ul><p>å®šä¹‰æ··å…¥ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// mixin.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mixin = &#123;</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">showName</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello mixin&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mixin2 = &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">x</span>: <span class="number">100</span>,</span><br><span class="line">      <span class="attr">y</span>: <span class="number">200</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨å±€éƒ¨æ··å…¥ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mixin, mixin2 &#125; <span class="keyword">from</span> <span class="string">&#x27;../mixin.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;School&#x27;</span>,</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">schoolName</span>: <span class="string">&#x27;åŒ—å¤§&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mixins</span>: [mixin, mixin2],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨å…¨å±€æ··å…¥ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; mixin, mixin2 &#125; <span class="keyword">from</span> <span class="string">&#x27;./mixin.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">mixin</span>(mixin)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">mixin</span>(mixin2)</span><br></pre></td></tr></table></figure><h2 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h2><ul><li>ç”¨äºå¢å¼º Vue</li><li>æœ¬è´¨æ˜¯åŒ…å« <code>install</code> æ–¹æ³•çš„ä¸€å¯¹è±¡ï¼Œ<code>install</code> ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ Vue æ„é€ å‡½æ•°ï¼Œç¬¬äºŒä¸ªä»¥åçš„å‚æ•°æ˜¯æ’ä»¶ä½¿ç”¨è€…ä¼ é€’çš„æ•°æ®</li></ul><p>å®šä¹‰æ’ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// plugins.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">install</span>(<span class="params">Vue, ...rest</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(rest)</span><br><span class="line"></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="title function_">filter</span>(...)</span><br><span class="line">    <span class="title class_">Vue</span>.<span class="title function_">directive</span>(...)</span><br><span class="line">    <span class="title class_">Vue</span>.<span class="title function_">mixin</span>(...)</span><br><span class="line"></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myProperty</span> = <span class="string">&#x27;plugins&#x27;</span></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myMethod</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ’ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> plugins <span class="keyword">from</span> <span class="string">&#x27;./plugins.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(plugins, <span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure><h2 id="nextTick"><a href="#nextTick" class="headerlink" title="$nextTick"></a>$nextTick</h2><ul><li>è¯­æ³•ï¼š<code>this.$nextTick(å›è°ƒå‡½æ•°)</code></li><li>ä½œç”¨ï¼šåœ¨ä¸‹ä¸€æ¬¡ DOM æ›´æ–°ç»“æŸåæ‰§è¡Œå…¶æŒ‡å®šçš„å›è°ƒ</li><li>ä»€ä¹ˆæ—¶å€™ç”¨ï¼šå½“æ”¹å˜æ•°æ®åï¼Œè¦åŸºäºæ›´æ–°åçš„ DOM è¿›è¡Œæ“ä½œæ—¶ï¼Œè¦åœ¨ <code>nextTick</code> æŒ‡å®šçš„å›è°ƒå‡½æ•°ä¸­æ‰§è¡Œ</li><li>ç»„ä»¶çš„ <code>$nextTick(cb)</code> æ–¹æ³•ï¼Œä¼šæŠŠ cb å›è°ƒæ¨è¿Ÿåˆ°ä¸‹ä¸€ä¸ª DOM æ›´æ–°å‘¨æœŸä¹‹åæ‰§è¡Œï¼Œå³åœ¨ DOM æ›´æ–°å®Œæˆåå†æ‰§è¡Œå›è°ƒï¼Œä»è€Œä¿è¯ cb å›è°ƒå¯ä»¥è·å–æœ€æ–°çš„ DOM å…ƒç´ </li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="title function_">showInput</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">inputVisible</span> = <span class="literal">true</span></span><br><span class="line">    <span class="comment">// å¯¹è¾“å…¥æ¡†çš„æ“ä½œæ¨è¿Ÿåˆ° DOM æ›´æ–°å®Œæˆä¹‹å</span></span><br><span class="line">    <span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">input</span>.<span class="title function_">focus</span>()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Vueç»„ä»¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue ç»„ä»¶åŒ–ç¼–ç¨‹</title>
      <link href="/2023/09/06/Vue/vue_component_coding/"/>
      <url>/2023/09/06/Vue/vue_component_coding/</url>
      
        <content type="html"><![CDATA[<p>:::tip ç»„ä»¶<br>å®ç°åº”ç”¨å±€éƒ¨åŠŸèƒ½ä»£ç å’Œèµ„æºçš„é›†åˆ<br>:::</p><h2 id="éå•æ–‡ä»¶ç»„ä»¶"><a href="#éå•æ–‡ä»¶ç»„ä»¶" class="headerlink" title="éå•æ–‡ä»¶ç»„ä»¶"></a>éå•æ–‡ä»¶ç»„ä»¶</h2><p>éå•æ–‡ä»¶ç»„ä»¶å³æ‰€æœ‰ç»„ä»¶å†™åœ¨åŒä¸€ä¸ªæ–‡ä»¶é‡Œã€‚</p><h3 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><p>å®šä¹‰ç»„ä»¶ï¼š</p><ul><li>ä½¿ç”¨ <code>Vue.extend(options)</code> åˆ›å»ºï¼Œå’Œ <code>new Vue(options)</code> çš„åŒºåˆ«ï¼›<ul><li><code>el</code> ä¸å†™ï¼Œæœ€ç»ˆæ‰€æœ‰çš„ç»„ä»¶éƒ½è¦ç»è¿‡ vm çš„ç®¡ç†ï¼Œç”± vm çš„ <code>el</code> å†³å®šæœåŠ¡å“ªä¸ªå®¹å™¨</li><li><code>data</code> å¿…é¡»å†™æˆå‡½æ•°ï¼Œé¿å…ç»„ä»¶è¢«å¤ç”¨æ—¶ï¼Œæ•°æ®å­˜åœ¨å¼•ç”¨å…³ç³»</li><li>ä½¿ç”¨ <code>template</code> èŠ‚ç‚¹å¯é…ç½®ç»„ä»¶ç»“æ„</li></ul></li></ul><p>æ³¨å†Œç»„ä»¶ï¼›</p><ul><li>å±€éƒ¨æ³¨å†Œï¼š<code>components</code> é€‰é¡¹</li><li>å…¨å±€æ³¨å†Œï¼š<code>Vue.component(&#39;ç»„ä»¶å&#39;,ç»„ä»¶)</code></li></ul><p>ä½¿ç”¨ç»„ä»¶ï¼š<code>&lt;school&gt;&lt;/school&gt;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">school</span>&gt;</span><span class="tag">&lt;/<span class="name">school</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»º student ç»„ä»¶</span></span><br><span class="line"><span class="keyword">const</span> student = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span><br><span class="line">  <span class="attr">template</span>: <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;div&gt;</span></span><br><span class="line"><span class="string">      &lt;h2&gt;å­¦ç”Ÿå§“åï¼š&#123;&#123;studentName&#125;&#125;&lt;/h2&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  `</span>,</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">studentName</span>: <span class="string">&#x27;å¼ ä¸‰&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»º hello ç»„ä»¶</span></span><br><span class="line"><span class="keyword">const</span> hello = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span><br><span class="line">  <span class="attr">template</span>: <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;div&gt;</span></span><br><span class="line"><span class="string">      &lt;h2&gt;&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  `</span>,</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;Tom&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»º school ç»„ä»¶</span></span><br><span class="line"><span class="keyword">const</span> school = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;school&#x27;</span>,</span><br><span class="line">  <span class="attr">template</span>: <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;div&gt;</span></span><br><span class="line"><span class="string">      &lt;h2&gt;å­¦æ ¡åç§°ï¼š&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span></span><br><span class="line"><span class="string">      &lt;student&gt;&lt;/student&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  `</span>,</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;åŒ—äº¬å¤§å­¦&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ç»„ä»¶åµŒå¥—</span></span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    student,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¨å±€æ³¨å†Œ</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;hello&#x27;</span>, hello)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">  <span class="comment">// å±€éƒ¨æ³¨å†Œ</span></span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    school,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ol><li>ç»„ä»¶å</li></ol><ul><li>ä¸€ä¸ªå•è¯ï¼šschool, School</li><li>å¤šä¸ªå•è¯ï¼šmy-school, MySchool(éœ€è¦ vue-cli æ”¯æŒ)</li></ul><ol start="2"><li>ä½¿ç”¨ç»„ä»¶</li></ol><ul><li><code>&lt;school&gt;&lt;/school&gt;</code></li><li><code>&lt;school /&gt;</code> (éœ€è¦ vue-cli æ”¯æŒ)</li></ul><ol start="3"><li><code>const school = Vue.extend(options)</code> å¯ç®€å†™ä¸º <code>const school = options</code>ã€‚è¿™æ˜¯è„šæ‰‹æ¶é‡Œ <code>&lt;script&gt;</code> ä»£ç çš„ç®€å†™æ¥æºã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">HelloWorld</span> <span class="keyword">from</span> <span class="string">&#x27;./components/HelloWorld.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="title class_">HelloWorld</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®Œæ•´å†™æ³•</span></span><br><span class="line"><span class="keyword">const</span> vc = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="title class_">HelloWorld</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> vc</span><br></pre></td></tr></table></figure><h3 id="å…³äº-VueComponent-æ„é€ å‡½æ•°"><a href="#å…³äº-VueComponent-æ„é€ å‡½æ•°" class="headerlink" title="å…³äº VueComponent æ„é€ å‡½æ•°"></a>å…³äº VueComponent æ„é€ å‡½æ•°</h3><ol><li>ç»„ä»¶æœ¬è´¨æ˜¯ä¸€ä¸ªåä¸º <code>VueComponent</code> çš„æ„é€ å‡½æ•°ï¼Œä¸æ˜¯ç¨‹åºå‘˜å®šä¹‰çš„ï¼Œæ˜¯ <code>Vue.extend</code> ç”Ÿæˆçš„</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> school = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;...&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">dir</span>(school) <span class="comment">//Æ’ VueComponent (options)</span></span><br></pre></td></tr></table></figure><ol start="2"><li><p>ä½¿ç”¨ç»„ä»¶æ—¶ï¼ŒVue è‡ªåŠ¨åˆ›å»ºç»„ä»¶å®ä¾‹å¯¹è±¡ï¼Œå³ <code>new VueComponent(options)</code> æ˜¯ Vue åšçš„</p></li><li><p>æ¯æ¬¡è°ƒç”¨ <code>Vue.extend</code>ï¼Œè¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªå…¨æ–°çš„ <code>VueComponent</code> æ„é€ å‡½æ•°</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> school = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;...&#125;)</span><br><span class="line"><span class="keyword">const</span> student = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;...&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(school === student) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><ol start="4"><li><p>ç»„ä»¶çš„ <code>this</code> æŒ‡å‘ <code>VueComponent</code> å®ä¾‹å¯¹è±¡ï¼Œè€Œé Vue å®ä¾‹å¯¹è±¡</p></li><li><p>é‡è¦çš„å†…ç½®å…³ç³»ï¼š<code>VueComponent.prototype.__proto__ === Vue.prototype</code> ï¼Œè¿™ä¸ªæ”¹åŠ¨ä½¿å¾—ç»„ä»¶å®ä¾‹å¯¹è±¡å¾—ä»¥è®¿é—® Vue åŸå‹ä¸Šçš„å±æ€§æ–¹æ³•</p></li></ol><p><img src="https://raw.githubusercontent.com/dont-sleep-so-late/CDN/master/images/VueComponent.png" alt="VueComponent"></p><h2 id="å•æ–‡ä»¶ç»„ä»¶"><a href="#å•æ–‡ä»¶ç»„ä»¶" class="headerlink" title="å•æ–‡ä»¶ç»„ä»¶"></a>å•æ–‡ä»¶ç»„ä»¶</h2><p>å•æ–‡ä»¶ç»„ä»¶å³ <code>.vue</code> æ–‡ä»¶</p><h2 id="scoped-è§£å†³æ ·å¼å†²çª"><a href="#scoped-è§£å†³æ ·å¼å†²çª" class="headerlink" title="scoped è§£å†³æ ·å¼å†²çª"></a>scoped è§£å†³æ ·å¼å†²çª</h2><ul><li>åŸç†ï¼šä¸ºå½“å‰ç»„ä»¶æ‰€æœ‰ DOM å…ƒç´ åˆ†é…å”¯ä¸€çš„è‡ªå®šä¹‰å±æ€§ï¼Œå†™æ ·å¼æ—¶ä½¿ç”¨å±æ€§é€‰æ‹©å™¨é˜²æ­¢æ ·å¼å†²çªé—®é¢˜</li><li><code>scoped</code> åªç»™å­ç»„ä»¶æœ€å¤–å±‚çš„ div æ·»åŠ äº†è‡ªå®šä¹‰å±æ€§ <code>[data-v-xxx]</code> ï¼Œå­ç»„ä»¶å†…éƒ¨çš„æ ‡ç­¾å¹¶æ²¡æœ‰æ·»åŠ ã€‚å› æ­¤çˆ¶ç»„ä»¶åªèƒ½ä¿®æ”¹å­ç»„ä»¶æœ€å¤–å±‚çš„ div æ ·å¼ï¼Œä¿®æ”¹å­ç»„ä»¶å†…å±‚å…ƒç´ çš„æ ·å¼æ˜¯ä¸å¯è¡Œçš„</li><li>è‹¥æƒ³è®©æŸäº›æ ·å¼å¯¹å­ç»„ä»¶ç”Ÿæ•ˆï¼Œéœ€ä½¿ç”¨ <code>/deep/</code> æ·±åº¦é€‰æ‹©å™¨</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ç»†ç»†å“å‘³ */</span></span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line"><span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="comment">/* ä¸åŠ  /deep/ï¼Œé€‰æ‹©å™¨æ ¼å¼ä¸º .title[data-v-052242de] */</span></span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/deep/ <span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="comment">/* åŠ  /deep/ï¼Œé€‰æ‹©å™¨æ ¼å¼ä¸º [data-v-052242de] .title */</span></span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="ç»„ä»¶é€šä¿¡"><a href="#ç»„ä»¶é€šä¿¡" class="headerlink" title="ç»„ä»¶é€šä¿¡"></a>ç»„ä»¶é€šä¿¡</h2><h3 id="è‡ªå®šä¹‰å±æ€§-props"><a href="#è‡ªå®šä¹‰å±æ€§-props" class="headerlink" title="è‡ªå®šä¹‰å±æ€§ props"></a>è‡ªå®šä¹‰å±æ€§ props</h3><blockquote><p>çˆ¶ä¼ å­ã€å­ä¼ çˆ¶</p></blockquote><p><code>props</code> éªŒè¯ï¼š</p><ul><li>åŸºç¡€ç±»å‹æ£€æŸ¥ï¼š<code>String, Number, Boolean, Array, Object, Date, Function, Symbol</code></li><li>å¤šä¸ªå¯èƒ½çš„ç±»å‹</li><li>å¿…å¡«é¡¹æ£€æŸ¥</li><li><a href="https://www.cnblogs.com/mmzuo-798/p/15188014.html">é»˜è®¤å€¼</a></li><li>è‡ªå®šä¹‰éªŒè¯å‡½æ•° <code>validator</code></li><li><code>props</code> æ˜¯åªè¯»çš„ï¼Œè‹¥æ˜¯å¯¹è±¡ï¼Œå¯¹è±¡å†…éƒ¨çš„ä¿®æ”¹ä¸æŠ¥é”™ï¼Œä½†ä¸æ¨èã€‚è‹¥éœ€ä¿®æ”¹ï¼Œåˆ™æŠŠ <code>props</code> å†…å®¹æ‹·è´ä¸€ä»½åˆ° <code>data</code> è¿›è¡Œä¿®æ”¹</li></ul><p><strong><em>çˆ¶ä¼ å­ï¼š</em></strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- è‹¥ props å±æ€§ä½¿ç”¨é©¼å³°å‘½åæ³•ï¼Œå¯ä½¿ç”¨é©¼å³°å½¢å¼æˆ–çŸ­æ¨ªçº¿åˆ†éš”å½¢å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Son</span> <span class="attr">:num</span>=<span class="string">&quot;count&quot;</span> <span class="attr">:msg</span>=<span class="string">&quot;message&quot;</span> <span class="attr">:pub-time</span>=<span class="string">&quot;time&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Son</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å­ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„å€¼ï¼š&#123;&#123; num &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„å€¼ï¼š&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„å½¢å¼</span></span><br><span class="line"><span class="attr">props</span>: [<span class="string">&#x27;num&#x27;</span>, <span class="string">&#x27;msg&#x27;</span>, <span class="string">&#x27;pubTime&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»…é™åˆ¶ç±»å‹</span></span><br><span class="line"><span class="attr">props</span>: &#123;</span><br><span class="line">  <span class="attr">num</span>: <span class="title class_">Number</span>,</span><br><span class="line">  <span class="attr">msg</span>: <span class="title class_">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹è±¡å½¢å¼</span></span><br><span class="line"><span class="attr">props</span>: &#123;</span><br><span class="line">  <span class="attr">num</span>: &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="title class_">Number</span>,</span><br><span class="line">    <span class="attr">default</span>: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">msg</span>: &#123;</span><br><span class="line">    <span class="attr">type</span>: [<span class="title class_">String</span>, <span class="title class_">Number</span>],</span><br><span class="line">    <span class="attr">required</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="title function_">validator</span>(<span class="params">value</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> value === <span class="string">&#x27;hello&#x27;</span> || value === <span class="number">1</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">default</span>: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong><em>å­ä¼ çˆ¶ï¼š</em></strong></p><ul><li>çˆ¶ç»„ä»¶é€šè¿‡ <code>props</code> ç»™å­ç»„ä»¶ä¼ é€’å‡½æ•°ï¼Œå­ç»„ä»¶è°ƒç”¨è¯¥å‡½æ•°å³å¯ä¿®æ”¹çˆ¶ç»„ä»¶çš„æ•°æ®</li><li>ç»„ä»¶ <code>methods</code> é‡Œå‡½æ•°çš„ this å§‹ç»ˆæŒ‡å‘è¯¥ç»„ä»¶å®ä¾‹ï¼Œå¯ç†è§£ä¸º Vue åº•å±‚å¯¹è¿™äº›å‡½æ•°åšäº†<code>bind</code>å¤„ç†</li><li>é€šè¿‡<code>bind</code>ä¿®æ”¹ this æŒ‡å‘åçš„æ–°å‡½æ•°ï¼Œå…¶ this æŒ‡å‘ä¸èƒ½å†æ¬¡ä¿®æ”¹ã€‚<a href="https://v2.cn.vuejs.org/v2/api/#methods">å®˜ç½‘è¯´æ˜</a></li><li><a href="https://segmentfault.com/q/1010000015951625">æ€å¦æ–‡ç« </a></li><li>ä¸æ¨èè¯¥æ–¹å¼è¿›è¡Œå­ä¼ çˆ¶ï¼Œæ¨èä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Son</span> <span class="attr">:addCount</span>=<span class="string">&quot;addCount&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Son</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">count</span>: <span class="number">1</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">addCount</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">count</span>++</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">props</span>: [<span class="string">&#x27;addCount&#x27;</span>],</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">add</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">addCount</span>()</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰äº‹ä»¶"><a href="#è‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="è‡ªå®šä¹‰äº‹ä»¶"></a>è‡ªå®šä¹‰äº‹ä»¶</h3><blockquote><p>è‡ªå®šä¹‰äº‹ä»¶å¯ç”¨äºå®ç°å­ä¼ çˆ¶</p></blockquote><p>å­ç»„ä»¶è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼Œå¹¶ä¼ é€’æ•°æ®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­ç»„ä»¶</span></span><br><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="title function_">add</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">count</span> += <span class="number">1</span></span><br><span class="line">    <span class="variable language_">this</span>.$emit(<span class="string">&#x27;count-change&#x27;</span>, <span class="variable language_">this</span>.<span class="property">count</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çˆ¶ç»„ä»¶ç›‘å¬å­ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶ï¼Œå¹¶è°ƒç”¨å›è°ƒå‡½æ•°å¤„ç†æ•°æ®ï¼š</p><ul><li>çˆ¶ç»„ä»¶é€šè¿‡ <code>this.$refs.xxx.$on(&#39;äº‹ä»¶åç§°&#39;,å›è°ƒ)</code> ç›‘å¬å­ç»„ä»¶è‡ªå®šä¹‰äº‹ä»¶æ—¶ï¼Œå›è°ƒå‡½æ•°è¦ä¹ˆé…ç½®åœ¨ <code>methods</code> ä¸­ï¼Œè¦ä¹ˆç”¨ç®­å¤´å‡½æ•°ï¼Œå¦åˆ™ this æŒ‡å‘ä¼šå‡ºé—®é¢˜</li><li>ç»„ä»¶ä¸Šä¹Ÿå¯ä»¥ç»‘å®šåŸç”Ÿ DOM äº‹ä»¶ï¼Œéœ€è¦ä½¿ç”¨ <code>native</code> ä¿®é¥°ç¬¦</li><li>è‹¥æƒ³è®©è‡ªå®šä¹‰äº‹ä»¶åªè§¦å‘ä¸€æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨ <code>once</code> ä¿®é¥°ç¬¦ï¼Œæˆ– <code>$once</code> æ–¹æ³•</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ–¹å¼ä¸€ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Son</span> @<span class="attr">count-change</span>=<span class="string">&quot;getNewCount&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Son</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Son</span> @<span class="attr">count-change.once</span>=<span class="string">&quot;getNewCount&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Son</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ–¹å¼äºŒ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Son</span> <span class="attr">ref</span>=<span class="string">&quot;sonRef&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Son</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ç›‘å¬å­ç»„ä»¶åŸç”Ÿ DOM äº‹ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Son</span> @<span class="attr">click.native</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Son</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">father</span>: <span class="number">1</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">getNewCount</span>(<span class="params">val</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">father</span> = val</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// æ–¹å¼äºŒ</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">sonRef</span>.$on(<span class="string">&#x27;count-change&#x27;</span>, <span class="variable language_">this</span>.<span class="property">getNewCount</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">sonRef</span>.$once(<span class="string">&#x27;count-change&#x27;</span>, <span class="variable language_">this</span>.<span class="property">getNewCount</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æˆ–</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">sonRef</span>.$on(<span class="string">&#x27;count-change&#x27;</span>, <span class="function">(<span class="params">val</span>) =&gt;</span> (<span class="variable language_">this</span>.<span class="property">father</span> = val))</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶<code>this.$off()</code>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è§£ç»‘å•ä¸ªè‡ªå®šä¹‰äº‹ä»¶</span></span><br><span class="line"><span class="variable language_">this</span>.$off(<span class="string">&#x27;count-change&#x27;</span>)</span><br><span class="line"><span class="comment">// è§£ç»‘å¤šä¸ªè‡ªå®šä¹‰äº‹ä»¶</span></span><br><span class="line"><span class="variable language_">this</span>.$off([<span class="string">&#x27;count-change&#x27;</span>, <span class="string">&#x27;add&#x27;</span>])</span><br><span class="line"><span class="comment">// è§£ç»‘æ‰€æœ‰è‡ªå®šä¹‰äº‹ä»¶</span></span><br><span class="line"><span class="variable language_">this</span>.$off()</span><br></pre></td></tr></table></figure><h3 id="EventBus-å…¨å±€äº‹ä»¶æ€»çº¿"><a href="#EventBus-å…¨å±€äº‹ä»¶æ€»çº¿" class="headerlink" title="EventBus å…¨å±€äº‹ä»¶æ€»çº¿"></a>EventBus å…¨å±€äº‹ä»¶æ€»çº¿</h3><p>:::tip æ€æƒ³<br>å¼„ä¸€ä¸ªæ‰€æœ‰ç»„ä»¶å®ä¾‹éƒ½èƒ½è®¿é—®åˆ°çš„ Vue å®ä¾‹å¯¹è±¡ï¼ŒVue åŸå‹ä¸ŠåŒ…å«äº‹ä»¶å¤„ç†çš„ç›¸å…³æ–¹æ³•ï¼ŒåŒ…æ‹¬ <code>$on, $emit, $off, $once</code><br>:::</p><p><strong><em>æ–¹å¼ä¸€</em></strong></p><p>å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ•°æ®æ¥æ”¶æ–¹ä¸ºè‡ªå®šä¹‰äº‹ä»¶ç»‘å®šå›è°ƒå‡½æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">handleData</span>(<span class="params"></span>) &#123;...&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$bus</span>.$on(<span class="string">&#x27;share&#x27;</span>, <span class="variable language_">this</span>.<span class="property">handleData</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ç»„ä»¶é”€æ¯ï¼Œè§£ç»‘äº‹ä»¶</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$bus</span>.$off(<span class="string">&#x27;share&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•°æ®å‘é€æ–¹è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">sendData</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$bus</span>.$emit(<span class="string">&#x27;share&#x27;</span>, <span class="number">666</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong><em>æ–¹å¼äºŒ</em></strong></p><p>åˆ›å»º eventBus.js æ¨¡å—ï¼Œå¹¶å‘å¤–å…±äº«ä¸€ä¸ª Vue çš„å®ä¾‹å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// eventBus.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vue</span>()</span><br></pre></td></tr></table></figure><p>åœ¨æ•°æ®å‘é€æ–¹ï¼Œè°ƒç”¨ <code>bus.$emit(&#39;äº‹ä»¶åç§°&#39;, è¦å‘é€çš„æ•°æ®)</code> æ–¹æ³•è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°æ®å‘é€æ–¹</span></span><br><span class="line"><span class="keyword">import</span> bus <span class="keyword">from</span> <span class="string">&#x27;./eventBus.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;hello&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">sendData</span>(<span class="params"></span>) &#123;</span><br><span class="line">      bus.$emit(<span class="string">&#x27;share&#x27;</span>, <span class="variable language_">this</span>.<span class="property">message</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ•°æ®æ¥æ”¶æ–¹ï¼Œé€šè¿‡ <code>bus.$on(&#39;äº‹ä»¶åç§°&#39;, äº‹ä»¶å¤„ç†å‡½æ•°)</code> ä¸ºè‡ªå®šä¹‰äº‹ä»¶æ³¨å†Œäº‹ä»¶å¤„ç†å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°æ®æ¥æ”¶æ–¹</span></span><br><span class="line"><span class="keyword">import</span> bus <span class="keyword">from</span> <span class="string">&#x27;./eventBus.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">msg</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ç»†èŠ‚1ï¼šåœ¨ created é’©å­ä¸­æ³¨å†Œå‡½æ•°</span></span><br><span class="line">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ç»†èŠ‚2ï¼šä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œåˆ™ this æŒ‡å‘è¯¥ç»„ä»¶è€Œé bus</span></span><br><span class="line">    bus.$on(<span class="string">&#x27;share&#x27;</span>, <span class="function">(<span class="params">val</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">msg</span> = val</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ"><a href="#æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ" class="headerlink" title="æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ"></a>æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ</h3><p>:::tip<br>ä¸å…¨å±€äº‹ä»¶æ€»çº¿å¾ˆç›¸ä¼¼ï¼Œå› æ­¤ä¸€èˆ¬ç”¨äº‹ä»¶æ€»çº¿ï¼Œä¸ç”¨è¿™ä¸ª<br>:::</p><p>å®‰è£…ç¬¬ä¸‰æ–¹åº“ <code>PubSubJS</code> ï¼š<code>npm install -S pubsub.js</code></p><p>è®¢é˜…æ¶ˆæ¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pubsub <span class="keyword">from</span> <span class="string">&#x27;pubsub-js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">handleData</span>(<span class="params">messageName, data</span>) &#123;...&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">pubId</span> = pubsub.<span class="title function_">subscribe</span>(<span class="string">&#x27;share&#x27;</span>, <span class="variable language_">this</span>.<span class="property">handleData</span>)</span><br><span class="line">    <span class="comment">// or</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">pubId</span> = pubsub.<span class="title function_">subscribe</span>(<span class="string">&#x27;share&#x27;</span>, <span class="function">(<span class="params">messageName, data</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ç»„ä»¶é”€æ¯ï¼Œå–æ¶ˆè®¢é˜…</span></span><br><span class="line">    pubsub.<span class="title function_">unsubscribe</span>(<span class="variable language_">this</span>.<span class="property">pubId</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‘å¸ƒæ¶ˆæ¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pubsub <span class="keyword">from</span> <span class="string">&#x27;pubsub-js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">sendData</span>(<span class="params"></span>) &#123;</span><br><span class="line">      pubsub.<span class="title function_">publish</span>(<span class="string">&#x27;share&#x27;</span>, <span class="number">666</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ref-refs"><a href="#ref-refs" class="headerlink" title="ref &#x2F; $refs"></a>ref &#x2F; $refs</h3><p><code>ref</code> ç”¨äºç»™ DOM å…ƒç´ æˆ–å­ç»„ä»¶æ³¨å†Œå¼•ç”¨ä¿¡æ¯ã€‚æ¯ä¸ª vue å®ä¾‹éƒ½æœ‰ <code>$refs</code> å¯¹è±¡ï¼Œé‡Œé¢å­˜å‚¨ç€ DOM å…ƒç´ æˆ–å­ç»„ä»¶çš„å¼•ç”¨ã€‚é€šè¿‡è¯¥æ–¹å¼å¯ä»¥è·å–åˆ° DOM å…ƒç´ æˆ–å­ç»„ä»¶å®ä¾‹ã€‚</p><blockquote><p>å¯ä»¥çˆ¶ä¼ å­ï¼Œä¹Ÿèƒ½å­ä¼ çˆ¶ã€‚å­ä¼ çˆ¶è¦å’Œè‡ªå®šä¹‰äº‹ä»¶æ­é…ä½¿ç”¨ã€‚</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¼•ç”¨ DOM å…ƒç´  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">ref</span>=<span class="string">&quot;pp&quot;</span>&gt;</span>è¿™æ˜¯æ®µè½<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;getRef&quot;</span>&gt;</span>è·å– DOM å…ƒç´ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¼•ç”¨å­ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">son</span> <span class="attr">ref</span>=<span class="string">&quot;sonRef&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">son</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;getComponent&quot;</span>&gt;</span>è·å–å­ç»„ä»¶å®ä¾‹å¼•ç”¨<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="title function_">getRef</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// è·å–å…ƒç´ çš„å¼•ç”¨</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">pp</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">pp</span>.<span class="property">style</span>.<span class="property">color</span> = <span class="string">&#x27;red&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">getComponent</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">sonRef</span>)</span><br><span class="line">    <span class="comment">// å¯ä»¥è®¿é—®å­ç»„ä»¶çš„æ•°æ®å’Œæ–¹æ³•</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">sonRef</span>.<span class="property">count</span> = <span class="number">1</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">sonRef</span>.<span class="title function_">add</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»„ä»¶çš„ <code>$nextTick(cb)</code> æ–¹æ³•ï¼Œä¼šæŠŠ cb å›è°ƒæ¨è¿Ÿåˆ°ä¸‹ä¸€ä¸ª DOM æ›´æ–°å‘¨æœŸä¹‹åæ‰§è¡Œï¼Œå³åœ¨ DOM æ›´æ–°å®Œæˆåå†æ‰§è¡Œå›è°ƒï¼Œä»è€Œä¿è¯ cb å›è°ƒå¯ä»¥è·å–æœ€æ–°çš„ DOM å…ƒç´ ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="title function_">showInput</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">inputVisible</span> = <span class="literal">true</span></span><br><span class="line">    <span class="comment">// å¯¹è¾“å…¥æ¡†çš„æ“ä½œæ¨è¿Ÿåˆ° DOM æ›´æ–°å®Œæˆä¹‹å</span></span><br><span class="line">    <span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">input</span>.<span class="title function_">focus</span>()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Vueç»„ä»¶åŒ–ç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue æ ¸å¿ƒåŸºç¡€</title>
      <link href="/2023/09/06/Vue/vue_core_basis/"/>
      <url>/2023/09/06/Vue/vue_core_basis/</url>
      
        <content type="html"><![CDATA[<p><a href="https://v2.cn.vuejs.org/">å®˜ç½‘ä¼ é€é—¨</a></p><h1 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h1><p>Vue æ˜¯åŠ¨æ€æ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼ JavaScript æ¡†æ¶ <br><br>Vue å€Ÿé‰´ Angular çš„æ¨¡æ¿å’Œæ•°æ®ç»‘å®šæŠ€æœ¯ï¼ŒReact çš„ç»„ä»¶åŒ–å’Œè™šæ‹Ÿ DOM æŠ€æœ¯</p><h2 id="æ•°æ®ä»£ç†"><a href="#æ•°æ®ä»£ç†" class="headerlink" title="æ•°æ®ä»£ç†"></a>æ•°æ®ä»£ç†</h2><h3 id="Object-defineProperty-çš„ä½¿ç”¨"><a href="#Object-defineProperty-çš„ä½¿ç”¨" class="headerlink" title="Object.defineProperty() çš„ä½¿ç”¨"></a><code>Object.defineProperty()</code> çš„ä½¿ç”¨</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Vue&#x27;</span>,</span><br><span class="line">  <span class="attr">sex</span>: <span class="string">&#x27;none&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> number = <span class="number">19</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é…ç½®ä¸€</span></span><br><span class="line"><span class="comment">// å‚æ•°ï¼šå¯¹è±¡ã€å±æ€§åã€é…ç½®</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(person, <span class="string">&#x27;age&#x27;</span>, &#123;</span><br><span class="line">  <span class="comment">// å±æ€§å€¼</span></span><br><span class="line">  <span class="attr">value</span>: <span class="number">21</span>,</span><br><span class="line">  <span class="comment">// å±æ€§æ˜¯å¦å¯ä¿®æ”¹</span></span><br><span class="line">  <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// å±æ€§æ˜¯å¦å¯æšä¸¾ï¼ˆéå†ï¼‰</span></span><br><span class="line">  <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// å±æ€§æ˜¯å¦å¯åˆ é™¤</span></span><br><span class="line">  <span class="attr">configurable</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">keys</span>(person)</span><br><span class="line"></span><br><span class="line"><span class="comment">// é…ç½®äºŒ</span></span><br><span class="line"><span class="comment">// getterã€setter ä¸èƒ½å’Œ valueã€writable åŒæ—¶æŒ‡å®š</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(person, <span class="string">&#x27;age&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">enumberable</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">configurable</span>: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">  <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;age å±æ€§è¢«è¯»å–&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> number</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">set</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;age å±æ€§è¢«ä¿®æ”¹&#x27;</span>, value)</span><br><span class="line">    number = value</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="ä½•ä¸ºæ•°æ®ä»£ç†"><a href="#ä½•ä¸ºæ•°æ®ä»£ç†" class="headerlink" title="ä½•ä¸ºæ•°æ®ä»£ç†"></a>ä½•ä¸ºæ•°æ®ä»£ç†</h3><p>æ•°æ®ä»£ç†ï¼šé€šè¿‡ä¸€ä¸ªå¯¹è±¡å¯¹å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§è¿›è¡Œæ“ä½œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">a</span>: <span class="number">21</span> &#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123; <span class="attr">b</span>: <span class="number">10</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj2, <span class="string">&#x27;a&#x27;</span>, &#123;</span><br><span class="line">  <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> obj.<span class="property">a</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">set</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    obj.<span class="property">a</span> = value</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">obj2.<span class="property">a</span> <span class="comment">// 21</span></span><br><span class="line">obj2.<span class="property">a</span> = <span class="number">1000</span></span><br><span class="line">obj.<span class="property">a</span> <span class="comment">// 1000</span></span><br></pre></td></tr></table></figure><h3 id="Vue-ä¸­çš„æ•°æ®ä»£ç†"><a href="#Vue-ä¸­çš„æ•°æ®ä»£ç†" class="headerlink" title="Vue ä¸­çš„æ•°æ®ä»£ç†"></a>Vue ä¸­çš„æ•°æ®ä»£ç†</h3><p><img src="https://raw.githubusercontent.com/dont-sleep-so-late/CDN/master/images/%E6%95%B0%E6%8D%AE%E4%BB%A3%E7%90%86.png" alt="æ•°æ®ä»£ç†"></p><p>Vue ä¸­é€šè¿‡ vm å®ä¾‹å¯¹è±¡ä»£ç†å¯¹ data å¯¹è±¡å±æ€§çš„æ“ä½œï¼Œè®©æˆ‘ä»¬æ›´æ–¹ä¾¿æ“ä½œ data ä¸­çš„æ•°æ®ã€‚</p><p>data ä¸­çš„æ•°æ®å®é™…ä¸Šè¢«å­˜åœ¨ <code>vm._data</code> å±æ€§ä¸Šï¼Œå¦‚æœä¸è¿›è¡Œä»£ç†ï¼Œä½¿ç”¨èµ·æ¥å¾ˆä¸æ–¹ä¾¿ã€‚</p><p>é€šè¿‡ <code>Object.defineProperty()</code> ç»™ vm æ·»åŠ å±æ€§ï¼Œå¹¶ä¸”æŒ‡å®š getter å’Œ setterï¼Œé€šè¿‡ getter å’Œ setter è®¿é—®å’Œä¿®æ”¹ data å¯¹åº”æ˜¯å±æ€§ã€‚</p><h2 id="Vue-ç›‘æµ‹æ•°æ®çš„åŸç†"><a href="#Vue-ç›‘æµ‹æ•°æ®çš„åŸç†" class="headerlink" title="Vue ç›‘æµ‹æ•°æ®çš„åŸç†"></a>Vue ç›‘æµ‹æ•°æ®çš„åŸç†</h2><p>:::info ç›‘æµ‹æ•°æ®<br>ç›‘æµ‹æ•°æ®ï¼Œå³ Vue æ˜¯å¦‚ä½•ç›‘å¬æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œä»è€Œé‡æ–°è§£ææ¨¡æ¿æ¸²æŸ“é¡µé¢çš„ã€‚Vue ä¼šç›‘æµ‹ data ä¸­æ‰€æœ‰å±‚çº§çš„æ•°æ®ã€‚<br>:::</p><h3 id="Vue-ç›‘æµ‹å¯¹è±¡æ•°æ®"><a href="#Vue-ç›‘æµ‹å¯¹è±¡æ•°æ®" class="headerlink" title="Vue ç›‘æµ‹å¯¹è±¡æ•°æ®"></a>Vue ç›‘æµ‹å¯¹è±¡æ•°æ®</h3><ul><li>åŸç†ï¼šé€šè¿‡ <code>Object.defineProperty()</code> ä¸ºå±æ€§æ·»åŠ  <code>getter</code>ã€<code>setter</code> ï¼Œå¯¹å±æ€§çš„è¯»å–ã€ä¿®æ”¹è¿›è¡Œæ‹¦æˆªï¼Œå³æ•°æ®åŠ«æŒ</li><li>å­˜åœ¨é—®é¢˜ï¼š<ul><li>å¯¹è±¡æ–°å¢åŠ çš„å±æ€§ï¼Œé»˜è®¤ä¸åšå“åº”å¼å¤„ç†</li><li>å¯¹è±¡åˆ é™¤å±æ€§ï¼Œä¹Ÿä¸æ˜¯å“åº”å¼çš„</li></ul></li><li>è§£å†³åŠæ³•ï¼Œä½¿ç”¨å¦‚ä¸‹ <a href="https://v2.cn.vuejs.org/v2/api/#Vue-set">API</a> ï¼š<ul><li><code>Vue.set(target, propertyName/index, value)</code></li><li><code>vm.$set(target, propertyName/index, value)</code></li><li><code>Vue.delete(target, propertyName/index)</code></li><li><code>vm.$delete(target, propertyName/index)</code></li></ul></li><li><code>Vue.set()</code> å’Œ <code>vm.$set()</code> ä¸èƒ½ç»™ vm æˆ– vm çš„æ ¹æ•°æ®å¯¹è±¡æ·»åŠ å±æ€§ï¼ˆå³ dataï¼‰</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç®€å•æ¨¡æ‹Ÿå®ç°å¯¹è±¡çš„æ•°æ®ç›‘æµ‹ï¼ŒVue æ›´å®Œå–„</span></span><br><span class="line"><span class="comment">// Vue é€šè¿‡ vm.name å³å¯ä¿®æ”¹</span></span><br><span class="line"><span class="comment">// Vue å®ç°æ·±å±‚ç›‘å¬</span></span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Vue&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">99</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Observer</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> keys = <span class="title class_">Object</span>.<span class="title function_">keys</span>(obj)</span><br><span class="line"></span><br><span class="line">  keys.<span class="title function_">forEach</span>(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(<span class="variable language_">this</span>, key, &#123;</span><br><span class="line">      <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> obj[key]</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="title function_">set</span>(<span class="params">value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ•°æ®è¢«ä¿®æ”¹ï¼Œé‡æ–°è§£ææ¨¡æ¿...&#x27;</span>)</span><br><span class="line">        obj[key] = value</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> vm = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> observer = <span class="keyword">new</span> <span class="title class_">Observer</span>(person)</span><br><span class="line">vm.<span class="property">_data</span> = observer</span><br></pre></td></tr></table></figure><h3 id="Vue-ç›‘æµ‹æ•°ç»„"><a href="#Vue-ç›‘æµ‹æ•°ç»„" class="headerlink" title="Vue ç›‘æµ‹æ•°ç»„"></a>Vue ç›‘æµ‹æ•°ç»„</h3><ul><li>åŸç†ï¼šé€šè¿‡é‡å†™æ•°ç»„çš„ API å®ç°æ‹¦æˆªï¼š<code>push()ã€pop()ã€shift()ã€unshift()ã€splice()ã€sort()ã€reverse()</code></li><li>7 ä¸ª API ä¹‹æ‰€ä»¥æ˜¯å“åº”å¼çš„ï¼Œæ˜¯å› ä¸º Vue å¯¹è¿™äº›æ–¹æ³•è¿›è¡Œäº†<a href="https://v2.cn.vuejs.org/v2/guide/list.html#%E6%95%B0%E7%BB%84%E6%9B%B4%E6%96%B0%E6%A3%80%E6%B5%8B">åŒ…è£¹</a>ï¼Œå³äºŒæ¬¡å°è£…ã€‚åšäº†ä¸¤ä»¶äº‹ï¼šè°ƒç”¨å¯¹åº”çš„åŸç”Ÿæ–¹æ³•æ›´æ–°æ•°ç»„ &amp; é‡æ–°è§£ææ¨¡æ¿æ›´æ–°é¡µé¢</li><li>å­˜åœ¨é—®é¢˜ï¼š<ul><li>ç›´æ¥é€šè¿‡æ•°ç»„ä¸‹æ ‡ä¿®æ”¹æ˜¯<a href="https://v2.cn.vuejs.org/v2/guide/reactivity.html#%E5%AF%B9%E4%BA%8E%E6%95%B0%E7%BB%84">éå“åº”å¼çš„</a></li></ul></li><li>è§£å†³åŠæ³•ï¼š<ul><li>ä½¿ç”¨ 7 ä¸ª API ä¿®æ”¹æ•°ç»„</li><li><code>Vue.set()</code>ã€<code>vm.$set()</code></li><li><code>Vue.delete()</code>ã€<code>vm.$delete()</code></li></ul></li></ul><p><a href="https://segmentfault.com/a/1190000015783546">æ€å¦æ–‡ç« </a>{link&#x3D;card}</p><h2 id="æ’å€¼è¯­æ³•"><a href="#æ’å€¼è¯­æ³•" class="headerlink" title="æ’å€¼è¯­æ³•"></a>æ’å€¼è¯­æ³•</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>ç”¨æˆ·åï¼š&#123;&#123; username &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>å¯†ç &#123;&#123; password &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &#123;&#123;&#125;&#125; æ”¯æŒç®€ JS è¡¨è¾¾å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; flag ? 111 : 000&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">username</span>: <span class="string">&#x27;docsify&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="number">55520</span>,</span><br><span class="line">    <span class="attr">flag</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å±æ€§ç»‘å®šæŒ‡ä»¤-v-bind"><a href="#å±æ€§ç»‘å®šæŒ‡ä»¤-v-bind" class="headerlink" title="å±æ€§ç»‘å®šæŒ‡ä»¤ v-bind"></a>å±æ€§ç»‘å®šæŒ‡ä»¤ v-bind</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-bind:placeholder</span>=<span class="string">&quot;desc&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- v-bind ç®€å†™å½¢å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;url&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;è¿™æ˜¯ä¸€å¼ å›¾ç‰‡&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- v-bind æ”¯æŒ JS è¡¨è¾¾å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:id</span>=<span class="string">&quot;&#x27;hello&#x27; + 1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">desc</span>: <span class="string">&#x27;è¯·è¾“å…¥ç”¨æˆ·å&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;www.baidu.com&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;hello&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŒå‘ç»‘å®šæŒ‡ä»¤-v-model"><a href="#åŒå‘ç»‘å®šæŒ‡ä»¤-v-model" class="headerlink" title="åŒå‘ç»‘å®šæŒ‡ä»¤ v-model"></a>åŒå‘ç»‘å®šæŒ‡ä»¤ v-model</h2><p><code>v-model</code> ç”¨äºè¡¨å•å…ƒç´ å¦‚ <code>input</code>ï¼Œ<code>textarea</code>ï¼Œ<code>select</code> ã€‚</p><h3 id="v-model-åŸºç¡€ç”¨æ³•"><a href="#v-model-åŸºç¡€ç”¨æ³•" class="headerlink" title="v-model åŸºç¡€ç”¨æ³•"></a>v-model åŸºç¡€ç”¨æ³•</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; username &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model:value</span>=<span class="string">&quot;username&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;username&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; province &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;province&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>åŒ—äº¬<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>ä¸Šæµ·<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>å¹¿å·<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="v-model-æŒ‡ä»¤ä¿®é¥°ç¬¦"><a href="#v-model-æŒ‡ä»¤ä¿®é¥°ç¬¦" class="headerlink" title="v-model æŒ‡ä»¤ä¿®é¥°ç¬¦"></a>v-model æŒ‡ä»¤ä¿®é¥°ç¬¦</h3><table><thead><tr><th>ä¿®é¥°ç¬¦</th><th>ä½œç”¨</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>.number</td><td>å°†ç”¨æˆ·è¾“å…¥è½¬ä¸ºæ•°å€¼ç±»å‹</td><td><code>&lt;input v-model.number=&quot;age&quot; /&gt;</code></td></tr><tr><td>.trim</td><td>åˆ é™¤è¾“å…¥çš„é¦–å°¾ç©ºç™½å­—ç¬¦</td><td><code>&lt;input v-model.trim=&quot;msg&quot;&gt;</code></td></tr><tr><td>.lazy</td><td>å½“å¤±å»ç„¦ç‚¹æ—¶ï¼Œæ‰æ›´æ–°æ•°æ®ï¼Œç±»ä¼¼é˜²æŠ–</td><td><code>&lt;input v-model.lazy=&quot;msg&quot;&gt;</code></td></tr></tbody></table><h3 id="v-model-æ”¶é›†è¡¨å•æ•°æ®"><a href="#v-model-æ”¶é›†è¡¨å•æ•°æ®" class="headerlink" title="v-model æ”¶é›†è¡¨å•æ•°æ®"></a>v-model æ”¶é›†è¡¨å•æ•°æ®</h3><ul><li><code>&lt;input type=&quot;text&quot;/&gt;</code> ï¼Œæ”¶é›†çš„æ˜¯ <code>value</code> å€¼ï¼Œç”¨æˆ·è¾“å…¥çš„å°±æ˜¯ <code>value</code> å€¼ã€‚</li><li><code>&lt;input type=&quot;radio&quot;/&gt;</code> ï¼Œæ”¶é›†çš„æ˜¯ <code>value</code> å€¼ï¼Œä¸”è¦ç»™æ ‡ç­¾é…ç½® <code>value</code> å€¼ã€‚</li><li><code>&lt;input type=&quot;checkbox&quot;/&gt;</code><ul><li>æ²¡æœ‰é…ç½® <code>value</code> å±æ€§ï¼Œæ”¶é›†çš„å°±æ˜¯ <code>checked</code></li><li>é…ç½®äº† <code>value</code> å±æ€§:<ul><li><code>v-model</code> çš„åˆå§‹å€¼æ˜¯éæ•°ç»„ï¼Œé‚£ä¹ˆæ”¶é›†çš„å°±æ˜¯ <code>checked</code></li><li><code>v-model</code> çš„åˆå§‹å€¼æ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆæ”¶é›†çš„çš„å°±æ˜¯ <code>value</code> ç»„æˆçš„æ•°ç»„</li></ul></li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> @<span class="attr">submit.prevent</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span><br><span class="line">    è´¦å·ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.trim</span>=<span class="string">&quot;userInfo.account&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.password&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    å¹´é¾„ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.number</span>=<span class="string">&quot;userInfo.age&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    æ€§åˆ«ï¼š ç”·<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;male&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    å¥³<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;female&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    çˆ±å¥½ï¼š å­¦ä¹ <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;study&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    æ‰“æ¸¸æˆ<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;game&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    åƒé¥­<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;eat&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    æ‰€å±æ ¡åŒº</span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.city&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©æ ¡åŒº<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;beijing&quot;</span>&gt;</span>åŒ—äº¬<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;shanghai&quot;</span>&gt;</span>ä¸Šæµ·<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;shenzhen&quot;</span>&gt;</span>æ·±åœ³<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;wuhan&quot;</span>&gt;</span>æ­¦æ±‰<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    å…¶ä»–ä¿¡æ¯ï¼š</span><br><span class="line">    <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">v-model.lazy</span>=<span class="string">&quot;userInfo.other&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;userInfo.agree&quot;</span> /&gt;</span>é˜…è¯»æ¥å—åè®®</span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">userInfo</span>:&#123;</span><br><span class="line">      <span class="attr">account</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">password</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">age</span>:<span class="number">18</span>,</span><br><span class="line">      <span class="attr">sex</span>:<span class="string">&#x27;female&#x27;</span>,</span><br><span class="line">      <span class="attr">hobby</span>:[],</span><br><span class="line">      <span class="attr">city</span>:<span class="string">&#x27;beijing&#x27;</span>,</span><br><span class="line">      <span class="attr">other</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">agree</span>:<span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="title function_">demo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="variable language_">this</span>.<span class="property">userInfo</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äº‹ä»¶ç»‘å®šæŒ‡ä»¤-v-on"><a href="#äº‹ä»¶ç»‘å®šæŒ‡ä»¤-v-on" class="headerlink" title="äº‹ä»¶ç»‘å®šæŒ‡ä»¤ v-on"></a>äº‹ä»¶ç»‘å®šæŒ‡ä»¤ v-on</h2><h3 id="v-on-åŸºç¡€ç”¨æ³•"><a href="#v-on-åŸºç¡€ç”¨æ³•" class="headerlink" title="v-on åŸºç¡€ç”¨æ³•"></a>v-on åŸºç¡€ç”¨æ³•</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>countçš„å€¼ï¼š&#123;&#123; count &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- v-on ç¼©å†™å½¢å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="title function_">add</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">count</span>++</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="äº‹ä»¶å‚æ•°å¯¹è±¡"><a href="#äº‹ä»¶å‚æ•°å¯¹è±¡" class="headerlink" title="äº‹ä»¶å‚æ•°å¯¹è±¡"></a>äº‹ä»¶å‚æ•°å¯¹è±¡</h3><p>å¦‚æœäº‹ä»¶å¤„ç†å‡½æ•°æ²¡æœ‰ä¼ å‚ï¼Œåˆ™é»˜è®¤ä¼šä¼ ä¸€ä¸ªæ—¶é—´å‚æ•°å¯¹è±¡ <code>$event</code> ï¼Œé€šè¿‡å®ƒå¯ä»¥è·å–è§¦å‘äº‹ä»¶çš„å…ƒç´ ï¼Œå¹¶è¿›è¡Œç›¸å…³æ“ä½œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="title function_">add</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    e.<span class="property">target</span>.<span class="property">style</span>.<span class="property">backgroundColor</span> = <span class="string">&#x27;red&#x27;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">count</span>++</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœäº‹ä»¶å¤„ç†å‡½æ•°ä¼ é€’å‚æ•°äº†ï¼Œåˆ™é»˜è®¤çš„ <code>$event</code> ä¼šè¢«è¦†ç›–ï¼Œéœ€è¦æ‰‹åŠ¨è¿›è¡Œä¼ é€’ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add(2, $event)&quot;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="title function_">add</span>(<span class="params">step, e</span>) &#123;</span><br><span class="line">    e.<span class="property">target</span>.<span class="property">style</span>.<span class="property">backgroundColor</span> = <span class="string">&#x27;red&#x27;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">count</span> += step</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="äº‹ä»¶ä¿®é¥°ç¬¦"><a href="#äº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="äº‹ä»¶ä¿®é¥°ç¬¦"></a>äº‹ä»¶ä¿®é¥°ç¬¦</h3><table><thead><tr><th>äº‹ä»¶ä¿®é¥°ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>.prevent</strong></td><td>é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œå¦‚ a é“¾æ¥è·³è½¬ã€è¡¨å•æäº¤</td></tr><tr><td><strong>.stop</strong></td><td>é˜»æ­¢äº‹ä»¶å†’æ³¡</td></tr><tr><td>.once</td><td>ç»‘å®šçš„äº‹ä»¶åªè§¦å‘ 1 æ¬¡</td></tr><tr><td>.capture</td><td>ä»¥æ•è·æ¨¡å¼è§¦å‘äº‹ä»¶å¤„ç†å‡½æ•°</td></tr><tr><td>.self</td><td>åªæœ‰åœ¨ <code>event.target</code> æ˜¯å½“å‰å…ƒç´ è‡ªèº«æ—¶è§¦å‘äº‹ä»¶å¤„ç†å‡½æ•°</td></tr><tr><td>.passive</td><td>äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºç«‹å³æ‰§è¡Œï¼Œæ— éœ€ç­‰å¾…äº‹ä»¶å›è°ƒæ‰§è¡Œå®Œæ¯•</td></tr></tbody></table><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;www.baidu.com&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;fn&quot;</span>&gt;</span>é˜»æ­¢é“¾æ¥è·³è½¬<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> @<span class="attr">click.stop</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span>é˜»æ­¢äº‹ä»¶å†’æ³¡<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- .passive ï¼šå¦‚ `onwheel` é¼ æ ‡æ»šè½®äº‹ä»¶ï¼Œæ˜¯å…ˆæ‰§è¡Œäº‹ä»¶çš„å›è°ƒå†è¿›è¡Œæ»šåŠ¨ã€‚ --&gt;</span></span><br><span class="line"></span><br><span class="line">å¦‚æœå›è°ƒæ¯”è¾ƒè€—æ—¶ï¼Œé‚£ä¹ˆä¼šç­‰ä¸€æ®µæ—¶é—´æ‰å‘ç”Ÿæ»šåŠ¨ã€‚ æ·»åŠ  .passive åï¼Œåˆ™å…ˆè¿›è¡Œæ»šåŠ¨å†æ‰§è¡Œå›è°ƒã€‚</span><br></pre></td></tr></table></figure><h3 id="æŒ‰é”®ä¿®é¥°ç¬¦"><a href="#æŒ‰é”®ä¿®é¥°ç¬¦" class="headerlink" title="æŒ‰é”®ä¿®é¥°ç¬¦"></a>æŒ‰é”®ä¿®é¥°ç¬¦</h3><ol><li>Vue ä¸­å¸¸ç”¨çš„æŒ‰é”®åˆ«åï¼š</li></ol><ul><li>å›è½¦ &#x3D;&gt; enter</li><li>åˆ é™¤ &#x3D;&gt; delete (æ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®)</li><li>é€€å‡º &#x3D;&gt; esc</li><li>ç©ºæ ¼ &#x3D;&gt; space</li><li>æ¢è¡Œ &#x3D;&gt; tab (ç‰¹æ®Šï¼Œå¿…é¡»é…åˆ keydown å»ä½¿ç”¨)</li><li>ä¸Š &#x3D;&gt; up</li><li>ä¸‹ &#x3D;&gt; down</li><li>å·¦ &#x3D;&gt; left</li><li>å³ &#x3D;&gt; right</li></ul><ol start="2"><li><p>Vue æœªæä¾›åˆ«åçš„æŒ‰é”®ï¼Œå¯ä»¥ä½¿ç”¨æŒ‰é”®åŸå§‹çš„ <code>key</code> å€¼å»ç»‘å®šï¼Œä½†æ³¨æ„è¦è½¬ä¸º kebab-caseï¼ˆçŸ­æ¨ªçº¿å‘½åï¼‰</p></li><li><p>ç³»ç»Ÿä¿®é¥°é”®ï¼ˆç”¨æ³•ç‰¹æ®Šï¼‰ï¼šctrlã€altã€shiftã€metaï¼ˆå³ win é”®ï¼‰</p></li></ol><ul><li>é…åˆ keyup ä½¿ç”¨ï¼šæŒ‰ä¸‹ä¿®é¥°é”®çš„åŒæ—¶ï¼Œå†æŒ‰ä¸‹å…¶ä»–é”®ï¼Œéšåé‡Šæ”¾å…¶ä»–é”®ï¼Œäº‹ä»¶æ‰è¢«è§¦å‘ã€‚</li><li>é…åˆ keydown ä½¿ç”¨ï¼šæ­£å¸¸è§¦å‘äº‹ä»¶ã€‚</li></ul><ol start="4"><li><p>å¯ä½¿ç”¨ keyCode å»æŒ‡å®šå…·ä½“çš„æŒ‰é”®ï¼Œæ­¤æ³•ä¸æ¨èï¼Œå› ä¸º keyCode ä»¥åå¯èƒ½åºŸé™¤</p></li><li><p><code>Vue.config.keyCodes.è‡ªå®šä¹‰é”®å = é”®ç </code> ï¼Œå¯ä»¥å»å®šåˆ¶æŒ‰é”®åˆ«å</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;submit&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keyup.esc</span>=<span class="string">&quot;back&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keydown.tab</span>=<span class="string">&quot;showInfo&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keyup.caps-lock</span>=<span class="string">&quot;showInfo&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keyup.huiche</span>=<span class="string">&quot;showInfo&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keyup.13</span>=<span class="string">&quot;showInfo&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">  Vue.config.keyCodes.huiche = 13</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ¡ä»¶æ¸²æŸ“æŒ‡ä»¤"><a href="#æ¡ä»¶æ¸²æŸ“æŒ‡ä»¤" class="headerlink" title="æ¡ä»¶æ¸²æŸ“æŒ‡ä»¤"></a>æ¡ä»¶æ¸²æŸ“æŒ‡ä»¤</h2><h3 id="åŸºç¡€ç”¨æ³•"><a href="#åŸºç¡€ç”¨æ³•" class="headerlink" title="åŸºç¡€ç”¨æ³•"></a>åŸºç¡€ç”¨æ³•</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;status === 200&quot;</span>&gt;</span>success<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else-if</span>=<span class="string">&quot;status === 201&quot;</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else</span>&gt;</span>yyy<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">&quot;status === 404&quot;</span>&gt;</span>error<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- template åªèƒ½å’Œ v-if æ­é…ä½¿ç”¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">&quot;status === 200&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>111<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>222<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>333<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="v-if-å’Œ-v-show-çš„åŒºåˆ«"><a href="#v-if-å’Œ-v-show-çš„åŒºåˆ«" class="headerlink" title="v-if å’Œ v-show çš„åŒºåˆ«"></a>v-if å’Œ v-show çš„åŒºåˆ«</h3><p>å®ç°åŸç†ä¸åŒï¼š</p><ul><li><code>v-if</code> é€šè¿‡åˆ›å»ºæˆ–åˆ é™¤ DOM å…ƒç´ æ¥æ§åˆ¶å…ƒç´ çš„æ˜¾ç¤ºä¸éšè—</li><li><code>v-show</code> é€šè¿‡æ·»åŠ æˆ–åˆ é™¤å…ƒç´ çš„ <code>style=&quot;display: none&quot;</code> æ ·å¼æ¥æ§åˆ¶å…ƒç´ çš„æ˜¾ç¤ºä¸éšè—</li></ul><p>æ€§èƒ½æ¶ˆè€—ä¸åŒï¼š</p><ul><li><code>v-if</code> åˆ‡æ¢å¼€é”€æ›´é«˜ï¼Œå¦‚æœè¿è¡Œæ—¶æ¡ä»¶å¾ˆå°‘æ”¹å˜ï¼Œä½¿ç”¨ <code>v-if</code> æ›´å¥½</li><li><code>v-show</code> åˆå§‹æ¸²æŸ“å¼€é”€æ›´é«˜ï¼Œå¦‚æœåˆ‡æ¢é¢‘ç¹ï¼Œä½¿ç”¨ <code>v-show</code> æ›´å¥½</li></ul><h2 id="åˆ—è¡¨æ¸²æŸ“æŒ‡ä»¤-v-for"><a href="#åˆ—è¡¨æ¸²æŸ“æŒ‡ä»¤-v-for" class="headerlink" title="åˆ—è¡¨æ¸²æŸ“æŒ‡ä»¤ v-for"></a>åˆ—è¡¨æ¸²æŸ“æŒ‡ä»¤ v-for</h2><h3 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- éå†æ•°ç»„ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in list&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- éå†å¯¹è±¡ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value, key) in obj&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;key&quot;</span>&gt;</span>&#123;&#123; key &#125;&#125; - &#123;&#123; value &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- éå†å­—ç¬¦ä¸² --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(char, index) in str&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span>&#123;&#123; index &#125;&#125; - &#123;&#123; char &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- éå†æ¬¡æ•° --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(number, index) in 5&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span>&#123;&#123; index &#125;&#125; - &#123;&#123; number &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">list</span>: [...],</span><br><span class="line">    <span class="attr">obj</span>: &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;Bruce&#x27;</span>,</span><br><span class="line">      <span class="attr">age</span>: <span class="number">88</span>,</span><br><span class="line">      <span class="attr">sex</span>: <span class="string">&#x27;unknown&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">str</span>: <span class="string">&#x27;hello vue&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="key-çš„ä½œç”¨"><a href="#key-çš„ä½œç”¨" class="headerlink" title="key çš„ä½œç”¨"></a><code>key</code> çš„ä½œç”¨</h3><p><strong><code>key</code> çš„ä½œç”¨ï¼š</strong></p><ul><li>å½“åˆ—è¡¨çš„æ•°æ®å˜åŒ–æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œvue ä¼šå°½å¯èƒ½çš„å¤ç”¨å·²å­˜åœ¨çš„ DOM å…ƒç´ ï¼Œä»è€Œæå‡æ¸²æŸ“çš„æ€§èƒ½ã€‚ä½†è¿™ç§é»˜è®¤çš„æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼Œä¼šå¯¼è‡´æœ‰çŠ¶æ€çš„åˆ—è¡¨æ— æ³•è¢«æ­£ç¡®æ›´æ–°ã€‚</li><li>ä¸ºäº†ç»™ vue ä¸€ä¸ªæç¤ºï¼Œä»¥ä¾¿å®ƒèƒ½è·Ÿè¸ªæ¯ä¸ªèŠ‚ç‚¹çš„èº«ä»½ï¼Œä»è€Œåœ¨ä¿è¯æœ‰çŠ¶æ€çš„åˆ—è¡¨è¢«æ­£ç¡®æ›´æ–°çš„å‰æä¸‹ï¼Œæå‡æ¸²æŸ“çš„æ€§èƒ½ã€‚æ­¤æ—¶ï¼Œéœ€è¦ä¸ºæ¯é¡¹æä¾›ä¸€ä¸ªå”¯ä¸€çš„ key å±æ€§ã€‚</li><li><code>key</code> æ˜¯è™šæ‹Ÿ DOM å¯¹è±¡çš„æ ‡è¯†ï¼Œå¯æé«˜é¡µé¢æ›´æ–°æ¸²æŸ“çš„æ•ˆç‡ã€‚å½“æ•°æ®å˜åŒ–æ—¶ï¼ŒVue ä¼šæ ¹æ®æ–°æ•°æ®ç”Ÿæˆæ–°çš„è™šæ‹Ÿ DOMï¼Œéšåè¿›è¡Œæ–°æ—§è™šæ‹Ÿ DOM çš„å·®å¼‚æ¯”è¾ƒ</li></ul><p><strong>æ¯”è¾ƒè§„åˆ™</strong></p><ul><li>æ—§è™šæ‹Ÿ DOM æ‰¾åˆ°å’Œæ–°è™šæ‹Ÿ DOM ç›¸åŒçš„ keyï¼š<ul><li>è‹¥å†…å®¹æ²¡å˜ï¼Œç›´æ¥å¤ç”¨çœŸå® DOM</li><li>è‹¥å†…å®¹æ”¹å˜ï¼Œç”Ÿæˆæ–°çš„çœŸå® DOMï¼Œæ›¿æ¢æ—§çš„çœŸå® DOM</li></ul></li><li>æ—§è™šæ‹Ÿ DOM æœªæ‰¾åˆ°å’Œæ–°è™šæ‹Ÿ DOM ç›¸åŒçš„ keyï¼šåˆ›å»ºæ–°çš„çœŸå® DOMï¼Œæ¸²æŸ“åˆ°é¡µé¢</li></ul><p><strong><code>key</code> çš„æ³¨æ„äº‹é¡¹ï¼š</strong></p><ul><li>key çš„å€¼åªèƒ½æ˜¯<strong>å­—ç¬¦ä¸²</strong>æˆ–<strong>æ•°å­—</strong>ç±»å‹</li><li>key çš„å€¼å¿…é¡»å…·æœ‰å”¯ä¸€æ€§ï¼ˆå³ï¼škey çš„å€¼ä¸èƒ½é‡å¤ï¼‰</li><li>å»ºè®®æŠŠæ•°æ®é¡¹ id å±æ€§çš„å€¼ä½œä¸º key çš„å€¼ï¼ˆå› ä¸º id å±æ€§çš„å€¼å…·æœ‰å”¯ä¸€æ€§ï¼‰</li><li>ä½¿ç”¨ index çš„å€¼å½“ä½œ key çš„å€¼æ²¡æœ‰æ„ä¹‰ï¼ˆå› ä¸º index çš„å€¼ä¸å…·æœ‰å”¯ä¸€æ€§ï¼‰</li><li>å»ºè®®ä½¿ç”¨ v-for æŒ‡ä»¤æ—¶ä¸€å®šè¦æŒ‡å®š key çš„å€¼ï¼ˆæ—¢æå‡æ€§èƒ½ã€åˆé˜²æ­¢åˆ—è¡¨çŠ¶æ€ç´Šä¹±ï¼‰</li></ul><p><img src="https://raw.githubusercontent.com/dont-sleep-so-late/CDN/master/images/key.png" alt="keyçš„ä½œç”¨"></p><h2 id="å…¶å®ƒå†…ç½®æŒ‡ä»¤"><a href="#å…¶å®ƒå†…ç½®æŒ‡ä»¤" class="headerlink" title="å…¶å®ƒå†…ç½®æŒ‡ä»¤"></a>å…¶å®ƒå†…ç½®æŒ‡ä»¤</h2><h3 id="v-text"><a href="#v-text" class="headerlink" title="v-text"></a>v-text</h3><p><code>v-text</code> æŒ‡ä»¤ä¼šè¦†ç›–å…ƒç´ é»˜è®¤å€¼ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-text</span>=<span class="string">&quot;username&quot;</span>&gt;</span>è¿™æ®µå†…å®¹ä¼šè¢«è¦†ç›–<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> &#123; <span class="attr">username</span>: <span class="string">&quot;Bruce&quot;</span> &#125; &#125;</span><br></pre></td></tr></table></figure><h3 id="v-html"><a href="#v-html" class="headerlink" title="v-html"></a>v-html</h3><p>:::warning å®‰å…¨é—®é¢˜<br>v-html å­˜åœ¨å®‰å…¨é—®é¢˜ï¼Œå®¹æ˜“å¯¼è‡´ XSS æ”»å‡»<br>:::</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-html</span>=<span class="string">&quot;desc&quot;</span>&gt;</span>åŸæœ¬å†…å®¹è¢«è¦†ç›–<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">desc</span>: <span class="string">&#x27;&lt;h1 style=&quot;color: red&quot;&gt;çº¢è‰²æ ‡é¢˜&lt;/h1&gt;&#x27;</span>ï¼Œ</span><br><span class="line">    <span class="attr">str</span>: <span class="string">&#x27;&lt;a href=&quot;http://www.baidu.com?&quot;+document.cookie&gt;å…„å¼Ÿæˆ‘æ‰¾åˆ°ä½ æƒ³è¦çš„èµ„æºäº†ï¼Œå¿«æ¥ï¼&lt;/a&gt;&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="v-cloak"><a href="#v-cloak" class="headerlink" title="v-cloak"></a>v-cloak</h3><ul><li>æœ¬è´¨æ˜¯ä¸€ä¸ªç‰¹æ®Šå±æ€§ï¼ŒVue å®ä¾‹åˆ›å»ºå®Œæ¯•å¹¶æ¥ç®¡å®¹å™¨åï¼Œä¼šåˆ é™¤ <code>v-cloak</code> å±æ€§</li><li>ä½¿ç”¨ CSS é…åˆ <code>v-cloak</code> å¯è§£å†³ç½‘é€Ÿæ…¢æ—¶é¡µé¢å±•ç¤º  çš„é—®é¢˜</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[v-cloak]</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-cloak</span>&gt;</span>&#123;&#123; username &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="v-once"><a href="#v-once" class="headerlink" title="v-once"></a>v-once</h3><ul><li><code>v-once</code> æ‰€åœ¨èŠ‚ç‚¹åˆæ¬¡æ¸²æŸ“åå°±æˆä¸ºé™æ€å†…å®¹</li><li>å³æ•°æ®å˜åŒ–ä¸ä¼šå¼•èµ· <code>v-once</code> æ‰€åœ¨èŠ‚ç‚¹å†…å®¹çš„æ›´æ–°ï¼Œå¯ç”¨äºä¼˜åŒ–æ€§èƒ½</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-once</span>&gt;</span>åˆæ¬¡çš„å†…å®¹ï¼š&#123;&#123; content &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>æœ€æ–°çš„å†…å®¹ï¼š&#123;&#123; content &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="v-pre"><a href="#v-pre" class="headerlink" title="v-pre"></a>v-pre</h3><ul><li>è·³è¿‡æ‰€åœ¨èŠ‚ç‚¹çš„ç¼–è¯‘è¿‡ç¨‹</li><li>æ²¡æœ‰ä½¿ç”¨æ’å€¼è¯­æ³•ç­‰ç‰¹æ®Šè¯­æ³•çš„èŠ‚ç‚¹ï¼Œå¯ç”¨å…¶è·³è¿‡ç¼–è¯‘è¿‡ç¨‹ï¼ŒåŠ å¿«ç¼–è¯‘</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-pre</span>&gt;</span>Vue å†…ç½®æŒ‡ä»¤<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>ç”¨æˆ·åï¼š&#123;&#123; username &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h2><ul><li>è¿‡æ»¤å™¨å¸¸ç”¨äºæ–‡æœ¬çš„æ ¼å¼åŒ–ï¼Œå¯ç”¨åœ¨æ’å€¼è¡¨è¾¾å¼å’Œ <code>v-bind</code> å±æ€§ç»‘å®šã€‚</li><li>è¿‡æ»¤å™¨åªåœ¨ <code>vue 2.x</code> å’Œ <code>vue 1.x</code> ä¸­æ”¯æŒï¼Œ<code>vue 3.x</code> åºŸå¼ƒäº†è¿‡æ»¤å™¨ï¼Œå®˜æ–¹å»ºè®®ä½¿ç”¨è®¡ç®—å±æ€§æˆ–æ–¹æ³•ä»£æ›¿è¿‡æ»¤å™¨ã€‚</li></ul><h3 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åœ¨ JS è¡¨è¾¾å¼å°¾éƒ¨é€šè¿‡ç®¡é“ç¬¦è¿›è¡Œè°ƒç”¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; message | capitalize &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:id</span>=<span class="string">&quot;rawId | formatId&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ç§æœ‰è¿‡æ»¤å™¨</span></span><br><span class="line"><span class="attr">filters</span>: &#123;</span><br><span class="line">  <span class="title function_">capitalize</span>(<span class="params">str</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> str.<span class="title function_">charAt</span>(<span class="number">0</span>).<span class="title function_">toUpperCase</span>() + str.<span class="title function_">slice</span>(<span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨ main.js ä¸­å®šä¹‰å…¨å±€è¿‡æ»¤å™¨</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">filter</span>(<span class="string">&#x27;capitalize&#x27;</span>, <span class="function">(<span class="params">str</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> str.<span class="title function_">charAt</span>(<span class="number">0</span>).<span class="title function_">toUpperCase</span>() + str.<span class="title function_">slice</span>(<span class="number">1</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å¦‚æœç§æœ‰è¿‡æ»¤å™¨å’Œå…¨å±€è¿‡æ»¤å™¨å†²çªï¼ŒæŒ‰ç…§å°±è¿‘åŸåˆ™è°ƒç”¨ç§æœ‰è¿‡æ»¤å™¨ã€‚</p><h3 id="è¿ç»­è°ƒç”¨å¤šä¸ªè¿‡æ»¤å™¨"><a href="#è¿ç»­è°ƒç”¨å¤šä¸ªè¿‡æ»¤å™¨" class="headerlink" title="è¿ç»­è°ƒç”¨å¤šä¸ªè¿‡æ»¤å™¨"></a>è¿ç»­è°ƒç”¨å¤šä¸ªè¿‡æ»¤å™¨</h3><p>è¿‡æ»¤å™¨ä»å·¦å¾€å³è°ƒç”¨ï¼Œå‰ä¸€ä¸ªè¿‡æ»¤å™¨çš„ç»“æœäº¤ç»™ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨ç»§ç»­å¤„ç†ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; text | capitalize | maxLength &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="è¿‡æ»¤å™¨ä¼ å‚"><a href="#è¿‡æ»¤å™¨ä¼ å‚" class="headerlink" title="è¿‡æ»¤å™¨ä¼ å‚"></a>è¿‡æ»¤å™¨ä¼ å‚</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; message | myFilter(arg1, arg2) &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œéƒ½æ˜¯ç®¡é“ç¬¦å‰çš„å€¼</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">filter</span>(<span class="string">&#x27;myFilter&#x27;</span>, <span class="function">(<span class="params">value, arg1, arg2</span>) =&gt;</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="computed-è®¡ç®—å±æ€§"><a href="#computed-è®¡ç®—å±æ€§" class="headerlink" title="computed è®¡ç®—å±æ€§"></a>computed è®¡ç®—å±æ€§</h2><ul><li>å®šä¹‰ï¼šä½¿ç”¨çš„å±æ€§ä¸å­˜åœ¨ï¼Œè¦é€šè¿‡å·²æœ‰å±æ€§è®¡ç®—å¾—åˆ°</li><li>åŸç†ï¼šåº•å±‚ä½¿ç”¨äº† <code>Object.defineProperty()</code> æä¾›çš„ getter å’Œ setter</li><li>getter ä½•æ—¶æ‰§è¡Œï¼š<ul><li>åˆæ¬¡è¯»å–æ—¶æ‰§è¡Œä¸€æ¬¡</li><li>ä¾èµ–çš„æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶æ‰§è¡Œ</li></ul></li><li>ä¼˜ç‚¹ï¼šä¸ <code>methods</code> ç›¸æ¯”ï¼Œæœ‰ç¼“å­˜æœºåˆ¶ï¼Œæ•ˆç‡æ›´é«˜</li><li>è‹¥è®¡ç®—å±æ€§è¦ä¿®æ”¹ï¼Œå¿…é¡»å£°æ˜ setter å“åº”ä¿®æ”¹ï¼Œä¸” setter ä¸­è¦å¼•èµ·ä¾èµ–çš„æ•°æ®å‘ç”Ÿæ”¹å˜</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; fullName &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®Œæ•´å†™æ³•</span></span><br><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">  <span class="attr">fullName</span>: &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// è®¡ç®—å±æ€§ä¾èµ–äºå·²æœ‰å±æ€§å¾—åˆ°</span></span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">value</span>) &#123;</span><br><span class="line">      <span class="comment">// setter ä¸­è¦å¼•èµ·ä¾èµ–æ•°æ®çš„å˜åŒ–</span></span><br><span class="line">      <span class="keyword">const</span> arr = value.<span class="title function_">split</span>(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">firstName</span> = arr[<span class="number">0</span>]</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">lastName</span> = arr[<span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®€å†™å½¢å¼</span></span><br><span class="line"><span class="comment">// åªæœ‰æ˜ç¡®è®¡ç®—å±æ€§ä¸éœ€è¦è¢«ä¿®æ”¹æ—¶ï¼Œæ‰èƒ½ç”¨ç®€å†™å½¢å¼ï¼Œå³æ²¡æœ‰ setter</span></span><br><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">  <span class="title function_">fullName</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="watch-ä¾¦å¬å™¨"><a href="#watch-ä¾¦å¬å™¨" class="headerlink" title="watch ä¾¦å¬å™¨"></a>watch ä¾¦å¬å™¨</h2><p><code>watch</code> ä¾¦å¬å™¨å…è®¸å¼€å‘è€…ç›‘è§†æ•°æ®çš„å˜åŒ–ï¼Œé’ˆå¯¹æ•°æ®çš„å˜åŒ–åšç‰¹å®šçš„æ“ä½œã€‚</p><p>:::tip watch vs computed<br>ä¾¦å¬å™¨å¯ä»¥ç›‘å¬æ™®é€šå±æ€§å’Œè®¡ç®—å±æ€§</p><p><code>computed</code> èƒ½å®Œæˆçš„åŠŸèƒ½ï¼Œ<code>watch</code> ä¹Ÿèƒ½</p><p><code>watch</code> èƒ½å®Œæˆçš„åŠŸèƒ½ï¼Œ<code>computed</code> ä¸ä¸€å®šï¼Œå¦‚å¼‚æ­¥æ“ä½œ<br>:::</p><ul><li>Vue ç®¡ç†çš„å‡½æ•°å†™æˆæ™®é€šå‡½æ•°ï¼Œä½¿å…¶ <code>this</code> æŒ‡å‘ vue å®ä¾‹å¯¹è±¡</li><li>ä¸è¢« Vue ç®¡ç†çš„å‡½æ•°å†™æˆç®­å¤´å‡½æ•°ï¼ˆå®šæ—¶å™¨å›è°ƒã€<code>ajax</code> å›è°ƒã€<code>Promise</code> å›è°ƒï¼‰ï¼Œè¿™æ ·å…¶ <code>this</code> æ‰æ˜¯ vue å®ä¾‹å¯¹è±¡</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// watch ç®€å†™å½¢å¼</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">username</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">watch</span>: &#123;</span><br><span class="line">    <span class="title function_">username</span>(<span class="params">newVal, oldVal</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ–°å€¼: &#x27;</span>, newVal)</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ—§å€¼: &#x27;</span>, oldVal)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç»„ä»¶åœ¨åˆæ¬¡åŠ è½½å®Œæ¯•åä¸ä¼šè°ƒç”¨ <code>watch</code> ä¾¦å¬å™¨ã€‚å¦‚æœæƒ³è®© <code>watch</code> ä¾¦å¬å™¨ç«‹å³è¢«è°ƒç”¨ï¼Œéœ€è¦ä½¿ç”¨ <code>immediate</code> é€‰é¡¹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">watch</span>: &#123;</span><br><span class="line">  <span class="comment">// å¯¹è±¡å½¢å¼çš„ä¾¦å¬å™¨</span></span><br><span class="line">  <span class="attr">username</span>: &#123;</span><br><span class="line">    <span class="comment">// handler å±æ€§æ˜¯å›ºå®šå†™æ³•</span></span><br><span class="line">    <span class="title function_">handler</span>(<span class="params">newVal, oldVal</span>) &#123;</span><br><span class="line">      ...</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">immediate</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ <code>watch</code> ä¾¦å¬çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœå¯¹è±¡ä¸­çš„å±æ€§å€¼å‘ç”Ÿäº†å˜åŒ–ï¼Œåˆ™æ— æ³•è¢«ç›‘å¬åˆ°ã€‚æ­¤æ—¶éœ€è¦ä½¿ç”¨ <code>deep</code> é€‰é¡¹è¿›è¡Œ<strong>æ·±åº¦ç›‘å¬</strong>ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">info</span>: &#123; <span class="attr">username</span>: <span class="string">&#x27;admin&#x27;</span> &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">watch</span>: &#123;</span><br><span class="line">    <span class="attr">info</span>: &#123;</span><br><span class="line">      <span class="title function_">handler</span>(<span class="params">newVal</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(newVal)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">deep</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‹¥åªæƒ³ç›‘å¬å¯¹è±¡é‡Œå•ä¸ªå±æ€§çš„å˜åŒ–ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">info</span>: &#123; <span class="attr">username</span>: <span class="string">&#x27;admin&#x27;</span> &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">watch</span>: &#123;</span><br><span class="line">    <span class="comment">// è®°å¾—åŠ å¼•å·</span></span><br><span class="line">    <span class="string">&#x27;info.username&#x27;</span>: &#123;</span><br><span class="line">      <span class="title function_">handler</span>(<span class="params">newVal</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(newVal)</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡ Vue å®ä¾‹çš„ <code>$watch</code> ç›‘å¬ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;...&#125;)</span><br><span class="line"></span><br><span class="line">vm.$watch(<span class="string">&#x27;isHot&#x27;</span>,&#123;</span><br><span class="line">  <span class="attr">immediate</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">deep</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="title function_">handler</span>(<span class="params">newValue,oldValue</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(newValue, oldValue)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">vm.$watch(<span class="string">&#x27;isHot&#x27;</span>,<span class="keyword">function</span>(<span class="params">newValue,oldValue</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(newValue, oldValue)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="åŠ¨æ€ç»‘å®š-class-å’Œ-style"><a href="#åŠ¨æ€ç»‘å®š-class-å’Œ-style" class="headerlink" title="åŠ¨æ€ç»‘å®š class å’Œ style"></a>åŠ¨æ€ç»‘å®š class å’Œ style</h2><p>é€šè¿‡åŠ¨æ€ç»‘å®š <code>class</code> å±æ€§å’Œè¡Œå†… <code>style</code> æ ·å¼ï¼Œå¯åŠ¨æ€æ“ä½œå…ƒç´ æ ·å¼ã€‚</p><h3 id="åŠ¨æ€ç»‘å®š-class-ç±»å"><a href="#åŠ¨æ€ç»‘å®š-class-ç±»å" class="headerlink" title="åŠ¨æ€ç»‘å®š class ç±»å"></a>åŠ¨æ€ç»‘å®š class ç±»å</h3><ul><li>å­—ç¬¦ä¸²å†™æ³•ï¼šç±»åä¸ç¡®å®šï¼Œè¦åŠ¨æ€è·å–</li><li>å¯¹è±¡å†™æ³•ï¼šè¦ç»‘å®šå¤šä¸ªæ ·å¼ï¼Œä¸ªæ•°ä¸ç¡®å®šï¼Œåå­—ä¹Ÿä¸ç¡®å®š</li><li>æ•°ç»„å†™æ³•ï¼šè¦ç»‘å®šå¤šä¸ªæ ·å¼ï¼Œä¸ªæ•°ç¡®å®šï¼Œåå­—ä¹Ÿç¡®å®šï¼Œä½†ä¸ç¡®å®šç”¨ä¸ç”¨</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  <span class="selector-class">.happy</span> &#123;</span><br><span class="line">    ...;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.sad</span> &#123;</span><br><span class="line">    ...;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;mood&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;changeMood&quot;</span>&gt;</span>å­—ç¬¦ä¸²å†™æ³•<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;arr&quot;</span>&gt;</span>æ•°ç»„å†™æ³•<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;basic&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;classObj&quot;</span>&gt;</span>å¯¹è±¡å†™æ³•<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">mood</span>: <span class="string">&#x27;happy&#x27;</span>,</span><br><span class="line">      <span class="attr">arr</span>: [<span class="string">&#x27;happy&#x27;</span>, <span class="string">&#x27;sad&#x27;</span>],</span><br><span class="line">      <span class="attr">classObj</span>: &#123;</span><br><span class="line">        <span class="attr">happy</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">sad</span>: <span class="literal">false</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">changeMood</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">mood</span> = <span class="string">&#x27;sad&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŠ¨æ€ç»‘å®š-style-æ ·å¼"><a href="#åŠ¨æ€ç»‘å®š-style-æ ·å¼" class="headerlink" title="åŠ¨æ€ç»‘å®š style æ ·å¼"></a>åŠ¨æ€ç»‘å®š style æ ·å¼</h3><p><code>css</code> å±æ€§åæ—¢å¯ä»¥ç”¨é©¼å³°å½¢å¼ï¼Œä¹Ÿèƒ½ç”¨çŸ­æ¨ªçº¿å½¢å¼ï¼ˆéœ€è¦ä½¿ç”¨å¼•å·æ‹¬èµ·æ¥ï¼‰ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;color: active, fontSize: fsize + &#x27;px&#x27;, &#x27;background-color&#x27;: bgcolor&#125;&quot;</span>&gt;</span>å¯¹è±¡å†™æ³•<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">&quot;styleObj&quot;</span>&gt;</span>å¯¹è±¡å†™æ³•<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">&quot;[styleObj, styleObj2]&quot;</span>&gt;</span>æ•°ç»„å†™æ³•ï¼ˆç”¨å¾—å°‘ï¼‰<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">active</span>: <span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">    <span class="attr">fsize</span>: <span class="number">30</span>,</span><br><span class="line">    <span class="attr">bgcolor</span>: <span class="string">&#x27;yellow&#x27;</span>,</span><br><span class="line">    <span class="attr">styleObj</span>: &#123;</span><br><span class="line">      <span class="attr">color</span>: <span class="string">&#x27;active&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;font-size&#x27;</span>: <span class="string">&#x27;20px&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">styleObj2</span>: &#123;</span><br><span class="line">      <span class="attr">backgroundColor</span>: <span class="string">&#x27;yellow&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="vue-ç”Ÿå‘½å‘¨æœŸ"><a href="#vue-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="vue ç”Ÿå‘½å‘¨æœŸ"></a>vue ç”Ÿå‘½å‘¨æœŸ</h2><p>vue ç”Ÿå‘½å‘¨æœŸæ˜¯æŒ‡ä¸€ä¸ªç»„ä»¶ä»åˆ›å»ºã€è¿è¡Œã€é”€æ¯çš„æ•´ä¸ªè¿‡ç¨‹ã€‚æ¯ä¸ªé˜¶æ®µå¯¹åº”ç€ä¸åŒçš„ç”Ÿå‘½å‘¨æœŸé’©å­ã€‚</p><p>ç”Ÿå‘½å‘¨æœŸé’©å­ä¹Ÿå¯ç†è§£ä¸ºï¼šVue åœ¨ç‰¹å®šçš„æ—¶åˆ»è°ƒç”¨ç‰¹å®šçš„å‡½æ•°ã€‚</p><p>é™¤äº†å›¾ä¸­ 8 ä¸ªé’©å­ï¼Œè¿˜æœ‰ <code>nextTick</code>ï¼Œ<code>activated</code>ï¼Œ<code>deactivated</code></p><p>å…³äºé”€æ¯è¿‡ç¨‹ï¼š</p><ul><li>é”€æ¯åå€ŸåŠ© Vue å¼€å‘è€…å·¥å…·çœ‹ä¸åˆ°ä»»ä½•ä¿¡æ¯ã€‚</li><li>é”€æ¯åè‡ªå®šä¹‰äº‹ä»¶ä¼šå¤±æ•ˆï¼Œä½†åŸç”Ÿ DOM äº‹ä»¶ä¾ç„¶æœ‰æ•ˆã€‚</li><li>ä¸€èˆ¬ä¸åœ¨ <code>beforeDestroy</code> æ“ä½œæ•°æ®ï¼Œå› ä¸ºå³ä¾¿æ“ä½œæ•°æ®ï¼Œä¹Ÿä¸ä¼šå†è§¦å‘æ›´æ–°æµç¨‹</li></ul><p><img src="https://raw.githubusercontent.com/dont-sleep-so-late/CDN/master/images/lifecycle2.png" alt="ç”Ÿå‘½å‘¨æœŸå›¾2"><br><img src="https://raw.githubusercontent.com/dont-sleep-so-late/CDN/master/images/lifecycle.png" alt="ç”Ÿå‘½å‘¨æœŸå›¾"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Vueæ ¸å¿ƒåŸºç¡€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS æ¨¡å—åŒ–</title>
      <link href="/2023/09/06/js/js_modules/"/>
      <url>/2023/09/06/js/js_modules/</url>
      
        <content type="html"><![CDATA[<h2 id="æ¨¡å—åŒ–æ¦‚å¿µ"><a href="#æ¨¡å—åŒ–æ¦‚å¿µ" class="headerlink" title="æ¨¡å—åŒ–æ¦‚å¿µ"></a>æ¨¡å—åŒ–æ¦‚å¿µ</h2><ul><li>æ¨¡å—åŒ–æ˜¯æŒ‡è§£å†³ä¸€ä¸ªå¤æ‚é—®é¢˜æ—¶ï¼Œè‡ªé¡¶å‘ä¸‹é€å±‚æŠŠç³»ç»Ÿåˆ’åˆ†ä¸ºè‹¥å¹²æ¨¡å—çš„è¿‡ç¨‹ï¼Œæ¨¡å—æ˜¯å¯ç»„åˆã€åˆ†è§£å’Œæ›´æ¢çš„å•å…ƒã€‚</li><li>æ¨¡å—åŒ–å¯æé«˜ä»£ç çš„å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå®ç°æŒ‰éœ€åŠ è½½ã€‚</li><li>æ¨¡å—åŒ–è§„èŒƒæ˜¯å¯¹ä»£ç è¿›è¡Œæ¨¡å—åŒ–æ‹†åˆ†å’Œç»„åˆæ—¶éœ€è¦éµå®ˆçš„è§„åˆ™ï¼Œå¦‚ä½¿ç”¨ä½•ç§è¯­æ³•æ ¼å¼å¼•ç”¨æ¨¡å—å’Œå‘å¤–æš´éœ²æˆå‘˜ã€‚</li></ul><h2 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h2><p>æ¯ä¸ªæ¨¡å—å†…éƒ¨éƒ½æœ‰ä¸€ä¸ª <code>module</code> å˜é‡ä»£è¡¨å½“å‰æ¨¡å—ï¼Œå­˜å‚¨ç›¸å…³ä¿¡æ¯ã€‚</p><p>é€šè¿‡ <code>module.exports</code> å¯¹è±¡æŠŠæ¨¡å—å†…éƒ¨æˆå‘˜å…±äº«å‡ºå»ï¼Œä¾›å¤–ç•Œä½¿ç”¨ã€‚åŠ è½½æ¨¡å—å¾—åˆ°çš„å°±æ˜¯ <code>module.exports</code> æŒ‡å‘çš„å¯¹è±¡ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>exports</code> å’Œ <code>module.exports</code> æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚æœ€ç»ˆå¯¼å‡ºçš„ç»“æœä»¥ <code>module.exports</code> æŒ‡å‘çš„å¯¹è±¡ä¸ºå‡†ã€‚</p><p>Nodejs ç”¨çš„æ˜¯ CommonJS æ¨¡å—åŒ–è§„èŒƒã€‚</p><h3 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// m1.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="string">&#x27;module1&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// m2.js</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">name</span> = <span class="string">&#x27;Bruce&#x27;</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">age</span> = <span class="number">11</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// m3.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">car</span>: <span class="string">&#x27;Benz&#x27;</span>,</span><br><span class="line">  <span class="attr">price</span>: <span class="number">50</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Benz&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">50</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// app.js</span></span><br><span class="line"><span class="keyword">const</span> m1 = <span class="built_in">require</span>(<span class="string">&#x27;./src/m1&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> m2 = <span class="built_in">require</span>(<span class="string">&#x27;./src/m2&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> m3 = <span class="built_in">require</span>(<span class="string">&#x27;./src/m3&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> axios = <span class="built_in">require</span>(<span class="string">&#x27;axios&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(m1) <span class="comment">// &#x27;module1&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(m2) <span class="comment">// &#123;name: &#x27;Bruce&#x27;, age: 11&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(m3) <span class="comment">// &#123;car: &#x27;Benz&#x27;, price: 50&#125;</span></span><br></pre></td></tr></table></figure><h3 id="åŠ è½½æœºåˆ¶"><a href="#åŠ è½½æœºåˆ¶" class="headerlink" title="åŠ è½½æœºåˆ¶"></a>åŠ è½½æœºåˆ¶</h3><h4 id="é‡å¤åŠ è½½"><a href="#é‡å¤åŠ è½½" class="headerlink" title="é‡å¤åŠ è½½"></a>é‡å¤åŠ è½½</h4><p>æ¨¡å—ç¬¬ä¸€æ¬¡åŠ è½½åä¼šè¢«ç¼“å­˜ï¼Œå³å¤šæ¬¡è°ƒç”¨ <code>require()</code> ä¸ä¼šå¯¼è‡´æ¨¡å—çš„ä»£ç è¢«æ‰§è¡Œå¤šæ¬¡ï¼Œæé«˜æ¨¡å—åŠ è½½æ•ˆç‡ï¼Œä¸”æ¨¡å—æ˜¯å•ä¾‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// m3.js</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;m3&#x27;</span>)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">car</span>: <span class="string">&#x27;Benz&#x27;</span>,</span><br><span class="line">  <span class="attr">price</span>: <span class="number">50</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// app.js</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="built_in">require</span>(<span class="string">&#x27;./src/m3&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> b = <span class="built_in">require</span>(<span class="string">&#x27;./src/m3&#x27;</span>) <span class="comment">// m3 åªä¼šæ‰“å°ä¸€æ¬¡</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a === b) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>å¯åˆ é™¤æ¨¡å—ç¼“å­˜ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ é™¤æŒ‡å®šæ¨¡å—çš„ç¼“å­˜</span></span><br><span class="line"><span class="keyword">delete</span> <span class="built_in">require</span>.<span class="property">cache</span>[<span class="built_in">require</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;./src/m3&#x27;</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤æ‰€æœ‰æ¨¡å—çš„ç¼“å­˜</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">keys</span>(<span class="built_in">require</span>.<span class="property">cache</span>).<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">key</span>) &#123;</span><br><span class="line">  <span class="keyword">delete</span> <span class="built_in">require</span>.<span class="property">cache</span>[key]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="å†…ç½®æ¨¡å—åŠ è½½"><a href="#å†…ç½®æ¨¡å—åŠ è½½" class="headerlink" title="å†…ç½®æ¨¡å—åŠ è½½"></a>å†…ç½®æ¨¡å—åŠ è½½</h4><p>å†…ç½®æ¨¡å—åŠ è½½ä¼˜å…ˆçº§æœ€é«˜ã€‚</p><h4 id="è‡ªå®šä¹‰æ¨¡å—åŠ è½½"><a href="#è‡ªå®šä¹‰æ¨¡å—åŠ è½½" class="headerlink" title="è‡ªå®šä¹‰æ¨¡å—åŠ è½½"></a>è‡ªå®šä¹‰æ¨¡å—åŠ è½½</h4><p>åŠ è½½è‡ªå®šä¹‰æ¨¡å—æ—¶ï¼Œè·¯å¾„è¦ä»¥ <code>./</code> æˆ– <code>../</code> å¼€å¤´ï¼Œå¦åˆ™ä¼šä½œä¸ºå†…ç½®æ¨¡å—æˆ–ç¬¬ä¸‰æ–¹æ¨¡å—åŠ è½½ã€‚</p><p>å¯¼å…¥è‡ªå®šä¹‰æ¨¡å—æ—¶ï¼Œè‹¥çœç•¥æ–‡ä»¶æ‰©å±•åï¼Œåˆ™ Node.js ä¼šæŒ‰é¡ºåºå°è¯•åŠ è½½æ–‡ä»¶ï¼š</p><ul><li>æŒ‰ç¡®åˆ‡çš„æ–‡ä»¶ååŠ è½½</li><li>è¡¥å…¨ <code>.js</code> æ‰©å±•ååŠ è½½</li><li>è¡¥å…¨ <code>.json</code> æ‰©å±•ååŠ è½½</li><li>è¡¥å…¨ <code>.node</code> æ‰©å±•ååŠ è½½</li><li>æŠ¥é”™</li></ul><h4 id="ç¬¬ä¸‰æ–¹æ¨¡å—åŠ è½½"><a href="#ç¬¬ä¸‰æ–¹æ¨¡å—åŠ è½½" class="headerlink" title="ç¬¬ä¸‰æ–¹æ¨¡å—åŠ è½½"></a>ç¬¬ä¸‰æ–¹æ¨¡å—åŠ è½½</h4><ul><li>è‹¥å¯¼å…¥ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œ Node.js ä¼šä»<strong>å½“å‰æ¨¡å—çš„çˆ¶ç›®å½•</strong>å¼€å§‹ï¼Œå°è¯•ä» <code>/node_modules</code> æ–‡ä»¶å¤¹ä¸­åŠ è½½ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚</li><li>å¦‚æœæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œåˆ™ç§»åŠ¨åˆ°å†<strong>ä¸Šä¸€å±‚çˆ¶ç›®å½•</strong>ä¸­ï¼Œè¿›è¡ŒåŠ è½½ï¼Œç›´åˆ°<strong>æ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•</strong>ã€‚</li></ul><p>ä¾‹å¦‚ï¼Œå‡è®¾åœ¨ <code>C:\Users\bruce\project\foo.js</code> æ–‡ä»¶é‡Œè°ƒç”¨äº† <code>require(&#39;tools&#39;)</code>ï¼Œåˆ™ Node.js ä¼šæŒ‰ä»¥ä¸‹é¡ºåºæŸ¥æ‰¾ï¼š</p><ul><li><code>C:\Users\bruce\project\node_modules\tools</code></li><li><code>C:\Users\bruce\node_modules\tools</code></li><li><code>C:\Users\node_modules\tools</code></li><li><code>C:\node_modules\tools</code></li></ul><h4 id="ç›®å½•ä½œä¸ºæ¨¡å—åŠ è½½"><a href="#ç›®å½•ä½œä¸ºæ¨¡å—åŠ è½½" class="headerlink" title="ç›®å½•ä½œä¸ºæ¨¡å—åŠ è½½"></a>ç›®å½•ä½œä¸ºæ¨¡å—åŠ è½½</h4><p>å½“æŠŠç›®å½•ä½œä¸ºæ¨¡å—æ ‡è¯†ç¬¦è¿›è¡ŒåŠ è½½çš„æ—¶å€™ï¼Œæœ‰ä¸‰ç§åŠ è½½æ–¹å¼ï¼š</p><ul><li>åœ¨è¢«åŠ è½½çš„ç›®å½•ä¸‹æŸ¥æ‰¾ <code>package.json</code> çš„æ–‡ä»¶ï¼Œå¹¶å¯»æ‰¾ <code>main</code> å±æ€§ï¼Œä½œä¸º <code>require()</code> åŠ è½½çš„å…¥å£</li><li>å¦‚æœæ²¡æœ‰ <code>package.json</code> æ–‡ä»¶ï¼Œæˆ–è€… <code>main</code> å…¥å£ä¸å­˜åœ¨æˆ–æ— æ³•è§£æï¼Œåˆ™ Node.js å°†ä¼šè¯•å›¾åŠ è½½ç›®å½•ä¸‹çš„ <code>index.js</code> æ–‡ä»¶ã€‚</li><li>è‹¥å¤±è´¥åˆ™æŠ¥é”™</li></ul><h3 id="æµè§ˆå™¨ç©-CommonJS"><a href="#æµè§ˆå™¨ç©-CommonJS" class="headerlink" title="æµè§ˆå™¨ç© CommonJS"></a>æµè§ˆå™¨ç© CommonJS</h3><p>æ„å»ºé¡¹ç›®ç»“æ„ï¼š</p><pre><code>â”œâ”€â”€ dist # æ‰“åŒ…æ–‡ä»¶æ‰€åœ¨ç›®å½•â”œâ”€â”€ srcâ”‚   â”œâ”€â”€ m1.jsâ”‚   â”œâ”€â”€ m2.jsâ”‚   â””â”€â”€ m3.jsâ”œâ”€â”€ app.jsâ”œâ”€â”€ index.htmlâ””â”€â”€ package.json</code></pre><p>å®‰è£… <a href="https://browserify.org/">browserify</a>ï¼Œå®ƒæŠŠ CommonJS è¯­æ³•è½¬æ¢æˆæµè§ˆå™¨èƒ½æ‰§è¡Œçš„ä»£ç ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å…ˆå…¨å±€å®‰è£…</span></span><br><span class="line">npm install -g browserify</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å†å±€éƒ¨å®‰è£…</span></span><br><span class="line">npm install browserify --save-dev</span><br></pre></td></tr></table></figure><p>æ‰“åŒ…ä»£ç ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">browserify src/app.js -o dist/bundle.js</span><br></pre></td></tr></table></figure><p>é¡µé¢å¼•å…¥æ‰“åŒ…å¥½çš„ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./dist/bundle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ES6-æ¨¡å—"><a href="#ES6-æ¨¡å—" class="headerlink" title="ES6 æ¨¡å—"></a>ES6 æ¨¡å—</h2><p>ES6 ä½¿ç”¨ <code>export</code> å’Œ <code>import</code> å¯¼å‡ºå’Œå¯¼å…¥æ¨¡å—ã€‚</p><h3 id="å¯¼å‡ºæ¨¡å—"><a href="#å¯¼å‡ºæ¨¡å—" class="headerlink" title="å¯¼å‡ºæ¨¡å—"></a>å¯¼å‡ºæ¨¡å—</h3><p>ä¸€ä¸ªæ¨¡å—å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ JS æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å†…çš„å˜é‡å¤–éƒ¨æ— æ³•è·å–ã€‚è‹¥å¸Œæœ›èƒ½è®©å¤–éƒ¨è·å–æ¨¡å—å†…çš„å˜é‡ï¼Œåˆ™è¦ç”¨ <code>export</code> å…³é”®å­—æš´éœ²å˜é‡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ†åˆ«æš´éœ²ï¼ˆå‘½åè¡Œå†…å¯¼å‡ºï¼‰</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> age = <span class="number">66</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> name = <span class="string">&#x27;Bruce&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">sayHello</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello from m1.js&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»Ÿä¸€æš´éœ²ï¼ˆå‘½åå­å¥å¯¼å‡ºï¼‰</span></span><br><span class="line"><span class="keyword">let</span> book = <span class="string">&#x27;çº¢å®ä¹¦&#x27;</span></span><br><span class="line"><span class="keyword">let</span> price = <span class="number">129</span></span><br><span class="line"><span class="keyword">let</span> bookInfo = &#123;</span><br><span class="line">  <span class="attr">author</span>: <span class="string">&#x27;Matt Frisbie&#x27;</span>,</span><br><span class="line">  <span class="attr">translator</span>: <span class="string">&#x27;ææ¾å³°&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¯ä»¥ä½¿ç”¨ as å…³é”®å­—é‡å‘½åï¼Œæ”¹åååŸæ¥çš„åå­—å°±ä¸èƒ½ç”¨äº†</span></span><br><span class="line"><span class="keyword">export</span> &#123; book, price, bookInfo <span class="keyword">as</span> bookMessage &#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é»˜è®¤æš´éœ²ï¼ˆé»˜è®¤å¯¼å‡ºï¼‰</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">  <span class="attr">edition</span>: <span class="number">4</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªæ¨¡å—åªèƒ½æœ‰ä¸€ä¸ªé»˜è®¤å¯¼å‡ºï¼Œé‡å¤çš„é»˜è®¤å¯¼å‡ºä¼šå‡ºé”™ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SyntaxError</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">age</span>: <span class="number">44</span> &#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> obj</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Modules&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é»˜è®¤æš´éœ²å’Œç»Ÿä¸€æš´éœ²å¯ä»¥ç»„åˆåˆ°ä¸€èµ·ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = <span class="string">&#x27;foo&#x27;</span></span><br><span class="line"><span class="keyword">const</span> bar = <span class="string">&#x27;bar&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// foo æ˜¯é»˜è®¤æš´éœ²ï¼Œbar æ˜¯ç»Ÿä¸€æš´éœ²</span></span><br><span class="line"><span class="keyword">export</span> &#123; foo <span class="keyword">as</span> <span class="keyword">default</span>, bar &#125;</span><br></pre></td></tr></table></figure><p>æœ¬è´¨ä¸Šé»˜è®¤æš´éœ²æ˜¯å¯¼å‡ºåä¸º <code>default</code> çš„å˜é‡ï¼Œå¯¼å…¥çš„æ—¶å€™å¯ä»¥ä»»æ„å–åã€‚å› æ­¤åé¢ä¸èƒ½è·Ÿå˜é‡å£°æ˜è¯­å¥ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç­‰åŒ</span></span><br><span class="line"><span class="keyword">export</span> &#123; foo <span class="keyword">as</span> <span class="keyword">default</span> &#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> foo</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒ</span></span><br><span class="line"><span class="keyword">import</span> xxx <span class="keyword">from</span> <span class="string">&#x27;module.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="keyword">default</span> <span class="keyword">as</span> xxx&#125; <span class="keyword">from</span> <span class="string">&#x27;module.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">let</span> a = <span class="number">1</span></span><br></pre></td></tr></table></figure><p>ä¸‰ç§å¯¼å‡ºæ–¹å¼å¯ä»¥åœ¨åŒä¸€ä¸ªæ¨¡å—åŒæ—¶ä½¿ç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é»˜è®¤æš´éœ²</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">  <span class="attr">edition</span>: <span class="number">4</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»Ÿä¸€æš´éœ²</span></span><br><span class="line"><span class="keyword">let</span> bar = <span class="number">666</span></span><br><span class="line"><span class="keyword">let</span> foo = <span class="string">&#x27;foo&#x27;</span></span><br><span class="line"><span class="keyword">export</span> &#123; bar, foo &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ†åˆ«æš´éœ²</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> msg = <span class="string">&#x27;good&#x27;</span></span><br></pre></td></tr></table></figure><p><code>export</code> å¯¼å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ï¼Œå¯¼å…¥å€¼ä¼šéšå¯¼å‡ºå€¼çš„å˜åŒ–è€Œæ”¹å˜ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡æ¥å£å¯å¾—åˆ°æ¨¡å—å†…éƒ¨å®æ—¶çš„å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// m1.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> name = <span class="string">&#x27;Bruce&#x27;</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  name = <span class="string">&#x27;good&#x27;</span></span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; name &#125; <span class="keyword">from</span> <span class="string">&#x27;./m1.js&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name) <span class="comment">// &#x27;Bruce&#x27;</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line">&#125;, <span class="number">1500</span>) <span class="comment">// &#x27;good&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="å¯¼å…¥æ¨¡å—"><a href="#å¯¼å…¥æ¨¡å—" class="headerlink" title="å¯¼å…¥æ¨¡å—"></a>å¯¼å…¥æ¨¡å—</h3><p>ä½¿ç”¨ <code>import</code> å…³é”®å­—å¯¼å…¥æ¨¡å—ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¼å…¥é€šè¿‡åˆ†åˆ«æš´éœ²å’Œç»Ÿä¸€æš´éœ²å¯¼å‡ºçš„æ¥å£</span></span><br><span class="line"><span class="keyword">import</span> &#123; name, age, sayHello &#125; <span class="keyword">from</span> <span class="string">&#x27;./m1.js&#x27;</span></span><br><span class="line"><span class="comment">// å¯¼å…¥é€šè¿‡é»˜è®¤æš´éœ²å¯¼å‡ºçš„æ¥å£ï¼Œå˜é‡åè‡ªå–</span></span><br><span class="line"><span class="keyword">import</span> defaultValue <span class="keyword">from</span> <span class="string">&#x27;./m3.js&#x27;</span></span><br><span class="line"><span class="comment">// æ··åˆå¯¼å‡ºçš„æ¥å£</span></span><br><span class="line"><span class="keyword">import</span> defaultValue, &#123; book, price, bookInfo &#125; <span class="keyword">from</span> <span class="string">&#x27;./m3.js&#x27;</span></span><br></pre></td></tr></table></figure><p>å¯¼å…¥æ¨¡å—æ—¶å¯ä»¥å¯¹å˜é‡é‡å‘½åã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; bookInfo <span class="keyword">as</span> bookMessage &#125; <span class="keyword">from</span> <span class="string">&#x27;./m2.js&#x27;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨ <code>*</code> è¿›è¡Œæ¨¡å—çš„æ•´ä½“å¯¼å…¥ï¼Œæ­¤æ—¶å¿…é¡»è¿›è¡Œé‡å‘½åã€‚<code>*</code> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€æœ‰å¯¼å…¥å€¼éƒ½ä¿å­˜åœ¨è¿™ä¸ªå¯¹è±¡ä¸Šã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> person <span class="keyword">from</span> <span class="string">&#x27;./m1.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">name</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">age</span>)</span><br><span class="line">person.<span class="title function_">sayHello</span>()</span><br></pre></td></tr></table></figure><p><code>import</code> å‘½ä»¤ä¼šæå‡åˆ°æ¨¡å—é¡¶éƒ¨å†æ‰§è¡Œï¼Œå®ƒæ˜¯åœ¨ç¼–è¯‘é˜¶æ®µæ‰§è¡Œçš„ï¼Œåœ¨ä»£ç è¿è¡Œä¹‹å‰ã€‚</p><p>ç”±äºå®ƒæ˜¯é™æ€æ‰§è¡Œï¼Œå› æ­¤æ— æ³•ä½¿ç”¨åœ¨è¿è¡Œæ—¶æ‰èƒ½å¾—åˆ°ç»“æœçš„ç»“æ„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸ä¼šæŠ¥é”™ï¼Œæ­£å¸¸è¿è¡Œ</span></span><br><span class="line"><span class="title function_">sayHello</span>()</span><br><span class="line"><span class="keyword">import</span> &#123; sayHello &#125; <span class="keyword">from</span> <span class="string">&#x27;./m1.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="string">&#x27;say&#x27;</span> + <span class="string">&#x27;Hello&#x27;</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./m1.js&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="æµè§ˆå™¨ç©-ES6-æ¨¡å—"><a href="#æµè§ˆå™¨ç©-ES6-æ¨¡å—" class="headerlink" title="æµè§ˆå™¨ç© ES6 æ¨¡å—"></a>æµè§ˆå™¨ç© ES6 æ¨¡å—</h3><p>æ„å»ºé¡¹ç›®ç»“æ„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ lib # è½¬ç æ–‡ä»¶æ‰€åœ¨ç›®å½•</span><br><span class="line">â”œâ”€â”€ src</span><br><span class="line">â”‚   â”œâ”€â”€ m1.js</span><br><span class="line">â”‚   â”œâ”€â”€ m2.js</span><br><span class="line">â”‚   â”œâ”€â”€ m3.js</span><br><span class="line">â”‚   â””â”€â”€ app.js</span><br><span class="line">â”œâ”€â”€ babel.config.json</span><br><span class="line">â”œâ”€â”€ index.html</span><br><span class="line">â””â”€â”€ package.json</span><br></pre></td></tr></table></figure><p>å®‰è£… <a href="https://www.babeljs.cn/">Babel</a> è½¬ç å™¨ï¼Œå®ƒå¯å°† ES6 è¯­æ³•è½¬æˆ ES5 è¯­æ³•ï¼Œè®©æµè§ˆå™¨å¾—ä»¥æ‰§è¡Œã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev @babel/core @babel/cli @babel/preset-env</span><br></pre></td></tr></table></figure><p>åœ¨ <code>babel.config.json</code> æ–‡ä»¶é…ç½® <code>Babel</code>ã€‚<code>presets</code> å­—æ®µè®¾ç½®è½¬ç è§„åˆ™ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;presets&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;@babel/env&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>å°† <code>src</code> çš„ä»£ç ç¼–è¯‘åˆ° <code>lib</code> ç›®å½•ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./node_modules/.bin/babel src --out-dir lib</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘åçš„ä»£ç è¿˜åŒ…å« <code>require</code> ç­‰ CommonJS å…³é”®å­—ï¼Œæµè§ˆå™¨è¿˜ä¸èƒ½è¯†åˆ«ï¼Œå› æ­¤è¿˜éœ€è¦å®‰è£… <a href="https://browserify.org/">browserify</a> è¿›è¡ŒäºŒæ¬¡è½¬æ¢ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g browserify</span><br></pre></td></tr></table></figure><p>æ‰“åŒ…ä»£ç ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">browserify lib/app.js -o lib/bundle.js</span><br></pre></td></tr></table></figure><p>é¡µé¢å¼•å…¥æ‰“åŒ…å¥½çš„ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/bundle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨æµè§ˆå™¨è‡ªç”±ç© ES6 æ¨¡å—äº†ï¼:slightly_smiling_face:</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> JS æ¨¡å—åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµè§ˆå™¨æœ¬åœ°å­˜å‚¨ Web Storage</title>
      <link href="/2023/09/06/js/webstorage/"/>
      <url>/2023/09/06/js/webstorage/</url>
      
        <content type="html"><![CDATA[<p>:::tip æµè§ˆå™¨æœ¬åœ°å­˜å‚¨<br>æµè§ˆå™¨æœ¬åœ°å­˜å‚¨åŒ…æ‹¬ä¸¤ä¸ªå¯¹è±¡ï¼š<code>sessionStorage</code> å’Œ <code>localStorage</code>ï¼Œå®ƒä»¬éƒ½æ˜¯ <code>Storage</code> çš„å®ä¾‹å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">localStorage</span> <span class="keyword">instanceof</span> <span class="title class_">Storage</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>:::</p><h2 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h2><p>è®¿é—®æ•°æ®ï¼š<code>getItem()</code></p><p>æ·»åŠ ã€ä¿®æ”¹æ•°æ®ï¼š<code>setItem()</code></p><p>åˆ é™¤æ•°æ®ï¼š<code>removeItem()</code></p><p>æ¸…ç©ºæ•°æ®ï¼š<code>clear()</code></p><p>è·å–ç»™å®šä½ç½®çš„é”®åï¼š<code>key()</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»¥ localStorage ä¸ºä¾‹ï¼ŒsessionStorage éƒ½ä¸€æ ·</span></span><br><span class="line"><span class="comment">// æ·»åŠ æ•°æ®</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;BruceBlog&#x27;</span>)</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;age&#x27;</span>, <span class="number">2333</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿®æ”¹æ•°æ®</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;age&#x27;</span>, <span class="number">520</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯»å–æ•°æ®</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;age&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤æ•°æ®</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸…ç©ºæ•°æ®</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">clear</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// éå†æ‰€æœ‰å€¼ï¼Œä¸çŸ¥é“æ˜¯æŒ‰ä»€ä¹ˆé¡ºåºæ’åˆ—çš„</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">localStorage</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> key = <span class="variable language_">localStorage</span>.<span class="title function_">key</span>(i)</span><br><span class="line">  <span class="keyword">let</span> value = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(key)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`key: <span class="subst">$&#123;key&#125;</span>, value: <span class="subst">$&#123;value&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><p>åªèƒ½å¤Ÿå­˜å‚¨å­—ç¬¦ä¸²ï¼Œä¸æ˜¯å­—ç¬¦ä¸²çš„ä¼šè°ƒç”¨ <code>toString()</code> æ–¹æ³•è½¬æˆå­—ç¬¦ä¸²ã€‚</p><p>å¦‚æœæƒ³è¦å­˜å‚¨å¯¹è±¡ï¼Œéœ€è¦ä½¿ç”¨ <code>JSON.stringify()</code> è½¬æˆ JSON å­—ç¬¦ä¸²å†å­˜å‚¨ï¼Œä»¥åå†ç”¨ <code>JSON.parse()</code> è¿˜åŸæˆå¯¹è±¡ã€‚</p><p>å¦‚æœæ— æ³•è½¬æˆå­—ç¬¦ä¸²ï¼Œåˆ™ä¼šæŠ¥é”™ã€‚æ¯”å¦‚ <code>Symbol</code> ç±»å‹çš„å˜é‡æ— æ³•è½¬æˆå­—ç¬¦ä¸²ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">book</span>: <span class="string">&#x27;HTTP&#x27;</span>, <span class="attr">price</span>: <span class="number">46</span> &#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(obj, <span class="string">&#x27;object&#x27;</span>) <span class="comment">// &#x27;[object Object]&#x27;: &#x27;object&#x27;</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;func&#x27;</span>, fn) <span class="comment">// &#x27;func&#x27;: &#x27;function fn() &#123;&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;info&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj)) <span class="comment">// &#x27;info&#x27;: &#x27;&#123;\&quot;book\&quot;:\&quot;HTTP\&quot;,\&quot;price\&quot;:46&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(obj2) <span class="comment">// &#x27;object&#x27;ï¼Œobj2 ä¼šè¢«è½¬æˆ &#x27;[object Object]&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;symbol&#x27;</span>, <span class="title class_">Symbol</span>(<span class="number">666</span>)) <span class="comment">// Uncaught TypeError: Cannot convert a Symbol value to a string</span></span><br></pre></td></tr></table></figure><h2 id="sessionStorage-ä¸-localStorage-å¯¹æ¯”"><a href="#sessionStorage-ä¸-localStorage-å¯¹æ¯”" class="headerlink" title="sessionStorage ä¸ localStorage å¯¹æ¯”"></a><code>sessionStorage</code> ä¸ <code>localStorage</code> å¯¹æ¯”</h2><p><code>sessionStorage</code> æ˜¯è·¨ä¼šè¯å­˜å‚¨æœºåˆ¶ï¼Œ<code>localStorage</code> æ˜¯æ°¸ä¹…å­˜å‚¨æœºåˆ¶ã€‚</p><p>ä½œç”¨æ—¶é—´ï¼š<code>sessionStorage</code> åœ¨çª—å£å…³é—­åå°±ä¼šå¤±æ•ˆï¼Œ<code>localStorage</code> æ˜¯æ°¸ä¹…å­˜å‚¨ï¼Œé™¤éæ‰‹åŠ¨é€šè¿‡ JS åˆ é™¤æˆ–æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ã€‚</p><p>ä½œç”¨èŒƒå›´ï¼š<code>sessionStorage</code> çš„æ•°æ®åªèƒ½åœ¨<strong>åŒæº</strong>ï¼ˆåè®®åŸŸåç«¯å£å·ç›¸åŒï¼‰ã€<strong>åŒä¸€ä¸ªçª—å£</strong>å…±äº«ï¼Œ<code>localStorage</code> çš„æ•°æ®åœ¨<strong>åŒæºã€ä¸åŒçª—å£å…±äº«ï¼ˆåŒä¸€ä¸ªæµè§ˆå™¨ï¼‰</strong>ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> JS WebStorage </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript æ•°ç»„</title>
      <link href="/2023/09/06/js/array/"/>
      <url>/2023/09/06/js/array/</url>
      
        <content type="html"><![CDATA[<h2 id="æ•°ç»„æ–¹æ³•"><a href="#æ•°ç»„æ–¹æ³•" class="headerlink" title="æ•°ç»„æ–¹æ³•"></a>æ•°ç»„æ–¹æ³•</h2><h3 id="æ•°ç»„æ“ä½œ"><a href="#æ•°ç»„æ“ä½œ" class="headerlink" title="æ•°ç»„æ“ä½œ"></a>æ•°ç»„æ“ä½œ</h3><h4 id="push"><a href="#push" class="headerlink" title="push()"></a><code>push()</code></h4><p>å‘æ•°ç»„æœ«å°¾æ·»åŠ å…ƒç´ ï¼Œè¿”å›æ–°æ•°ç»„é•¿åº¦</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">520</span>, <span class="number">55520</span>, <span class="number">521</span>]</span><br><span class="line"><span class="comment">// æ·»åŠ å•ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="keyword">let</span> newLen = arr.<span class="title function_">push</span>(<span class="number">666</span>)</span><br><span class="line"><span class="comment">// æ·»åŠ å¤šä¸ªå…ƒç´ </span></span><br><span class="line">arr.<span class="title function_">push</span>(<span class="number">2333</span>, <span class="string">&#x27;BruceBlog&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="pop"><a href="#pop" class="headerlink" title="pop()"></a><code>pop()</code></h4><p>æ•°ç»„æœ«å°¾åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›è¢«åˆ é™¤çš„å…ƒç´ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">520</span>, <span class="number">55520</span>, <span class="number">521</span>]</span><br><span class="line"><span class="keyword">let</span> el = arr.<span class="title function_">pop</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„æ²¡æœ‰å…ƒç´ è¿”å› undefined</span></span><br><span class="line">arr = []</span><br><span class="line">arr.<span class="title function_">pop</span>()</span><br></pre></td></tr></table></figure><h4 id="unshift"><a href="#unshift" class="headerlink" title="unshift()"></a><code>unshift()</code></h4><p>æ•°ç»„å¤´éƒ¨æ·»åŠ å…ƒç´ ï¼Œè¿”å›æ–°æ•°ç»„é•¿åº¦</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">520</span>, <span class="number">55520</span>, <span class="number">521</span>]</span><br><span class="line"><span class="comment">// æ·»åŠ å•ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="keyword">let</span> newLen = arr.<span class="title function_">unshift</span>(<span class="number">666</span>)</span><br><span class="line"><span class="comment">// æ·»åŠ å¤šä¸ªå…ƒç´ </span></span><br><span class="line">arr.<span class="title function_">unshift</span>(<span class="number">2333</span>, <span class="string">&#x27;BruceBlog&#x27;</span>) <span class="comment">// [2333, &#x27;BruceBlog&#x27;, 666, 520, 55520, 521]</span></span><br></pre></td></tr></table></figure><h4 id="shift"><a href="#shift" class="headerlink" title="shift()"></a><code>shift()</code></h4><p>æ•°ç»„å¤´éƒ¨åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›è¢«åˆ é™¤çš„å…ƒç´ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">520</span>, <span class="number">55520</span>, <span class="number">521</span>]</span><br><span class="line"><span class="keyword">let</span> el = arr.<span class="title function_">shift</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„æ²¡æœ‰å…ƒç´ è¿”å› undefined</span></span><br><span class="line">arr = []</span><br><span class="line">arr.<span class="title function_">shift</span>()</span><br></pre></td></tr></table></figure><h4 id="splice"><a href="#splice" class="headerlink" title="splice()"></a><code>splice()</code></h4><p>å¯ç»™æ•°ç»„åˆ é™¤ã€æ·»åŠ ã€æ›¿æ¢å…ƒç´ ï¼Œæ”¹å˜åŸæ•°ç»„</p><p>è¿”å›è¢«åˆ é™¤å…ƒç´ ç»„æˆçš„æ•°ç»„ï¼Œæ²¡æœ‰åˆ é™¤å…ƒç´ åˆ™ä¸ºç©ºæ•°ç»„</p><p>å‚æ•°ï¼šæ“ä½œèµ·å§‹ä½ç½®ã€åˆ é™¤çš„å…ƒç´ ä¸ªæ•°ã€æ·»åŠ çš„å…ƒç´ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;JS&#x27;</span>, <span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;C++&#x27;</span>, <span class="string">&#x27;PHP&#x27;</span>]</span><br><span class="line"><span class="keyword">let</span> res = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤å…ƒç´ </span></span><br><span class="line"><span class="comment">// [&#x27;JS&#x27;, &#x27;PHP&#x27;], [&#x27;Java&#x27;, &#x27;C++&#x27;]</span></span><br><span class="line">res = arr.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ å…ƒç´ </span></span><br><span class="line"><span class="comment">// [&#x27;Python&#x27;, &#x27;TS&#x27;, &#x27;JS&#x27;, &#x27;PHP&#x27;], []</span></span><br><span class="line">res = arr.<span class="title function_">splice</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;TS&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›¿æ¢å…ƒç´ ï¼ˆåˆ é™¤å…ƒç´ çš„åŒæ—¶æ·»åŠ æ–°å…ƒç´ ï¼‰</span></span><br><span class="line"><span class="comment">// [&#x27;Python&#x27;, &#x27;C&#x27;, &#x27;Go&#x27;]</span></span><br><span class="line">arr.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">3</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;Go&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„æ’åº"><a href="#æ•°ç»„æ’åº" class="headerlink" title="æ•°ç»„æ’åº"></a>æ•°ç»„æ’åº</h3><h4 id="sort"><a href="#sort" class="headerlink" title="sort()"></a><code>sort()</code></h4><p>å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œä¿®æ”¹åŸæ•°ç»„ï¼Œè¿”å›æ’åºåçš„æ•°ç»„ã€‚</p><p>é»˜è®¤æŒ‰å­—ç¬¦ä¸²é¡ºåºå‡åºæ’åºã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">0</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">25</span>]</span><br><span class="line"><span class="comment">// [0, 10, 2, 25, 8]</span></span><br><span class="line"><span class="keyword">let</span> res = arr.<span class="title function_">sort</span>()</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line">res === arr</span><br></pre></td></tr></table></figure><p><code>sort()</code> æ–¹æ³•å¯ä¼ å…¥ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ï¼Œè‡ªå®šä¹‰æ¯”è¾ƒè§„åˆ™ã€‚</p><p>æ¯”è¾ƒå‡½æ•°ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼šæ–°æ•°å’Œæ—§æ•°ã€‚è¿”å›æ­£æ•°åˆ™æ–°æ•°æ’åœ¨æ—§æ•°ä¹‹åï¼Œè¿”å›è´Ÿå€¼åˆ™æ–°æ•°æ’åœ¨æ—§æ•°ä¹‹å‰ï¼Œè¿”å› 0 åˆ™ç›¸ç­‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">compareAsc</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a - b</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">compareDes</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> b - a</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">compareRandom</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0.5</span> - <span class="title class_">Math</span>.<span class="title function_">random</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">0</span>, <span class="number">52</span>, <span class="number">8</span>, <span class="number">25</span>, <span class="number">10</span>]</span><br><span class="line"><span class="comment">// [0, 8, 10, 25, 52]</span></span><br><span class="line">arr.<span class="title function_">sort</span>(compareAsc)</span><br><span class="line"></span><br><span class="line"><span class="comment">// [52, 25, 10, 8, 0]</span></span><br><span class="line">arr.<span class="title function_">sort</span>(compareDes)</span><br><span class="line"></span><br><span class="line"><span class="comment">// éšæœºæ’åºæ•°ç»„</span></span><br><span class="line">arr.<span class="title function_">sort</span>(compareRandom)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ¹æ®å¯¹è±¡å±æ€§æ’åº</span></span><br><span class="line"><span class="keyword">let</span> cars = [</span><br><span class="line">  &#123; <span class="attr">type</span>: <span class="string">&#x27;Benz&#x27;</span>, <span class="attr">year</span>: <span class="number">2021</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">type</span>: <span class="string">&#x27;Lexus&#x27;</span>, <span class="attr">year</span>: <span class="number">2022</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">type</span>: <span class="string">&#x27;BMW&#x27;</span>, <span class="attr">year</span>: <span class="number">2023</span> &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">cars.<span class="title function_">sort</span>(<span class="keyword">function</span> (<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> x = a.<span class="property">type</span>.<span class="title function_">toLowerCase</span>()</span><br><span class="line">  <span class="keyword">let</span> y = b.<span class="property">type</span>.<span class="title function_">toLowerCase</span>()</span><br><span class="line">  <span class="keyword">if</span> (x &lt; y) &#123;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (x &gt; y) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="reverse"><a href="#reverse" class="headerlink" title="reverse()"></a><code>reverse()</code></h4><p>åè½¬æ•°ç»„ï¼Œæ”¹å˜åŸæ•°ç»„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>, <span class="string">&#x27;green&#x27;</span>]</span><br><span class="line"><span class="comment">// [&#x27;green&#x27;, &#x27;blue&#x27;, &#x27;red&#x27;]</span></span><br><span class="line">arr.<span class="title function_">reverse</span>()</span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„è¿­ä»£"><a href="#æ•°ç»„è¿­ä»£" class="headerlink" title="æ•°ç»„è¿­ä»£"></a>æ•°ç»„è¿­ä»£</h3><h4 id="forEach"><a href="#forEach" class="headerlink" title="forEach()"></a><code>forEach()</code></h4><p>éå†æ•°ç»„ï¼Œå¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¼ å…¥çš„å‡½æ•°ã€‚ç›¸å½“äºä½¿ç”¨ <code>for</code> å¾ªç¯éå†æ•°ç»„ã€‚</p><p><code>forEach()</code> æ²¡æœ‰è¿”å›å€¼ï¼Œä¸ä¼šæ”¹å˜åŸæ•°ç»„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">44</span>, <span class="number">3</span>, <span class="number">2</span>]</span><br><span class="line"><span class="keyword">let</span> count = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> res = arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  count += item</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// count: 50</span></span><br><span class="line"><span class="comment">// res: undefined</span></span><br></pre></td></tr></table></figure><h4 id="filter"><a href="#filter" class="headerlink" title="filter()"></a><code>filter()</code></h4><p>è¿‡æ»¤æ•°ç»„ï¼Œè¿”å›ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ç»„æˆçš„æ–°æ•°ç»„ã€‚ä¸æ”¹å˜åŸæ•°ç»„ã€‚</p><p>ä¼ å…¥ä¸€ä¸ªç­›é€‰å‡½æ•°ï¼Œç­›é€‰å‡½æ•° 3 ä¸ªå‚æ•°ï¼šå…ƒç´ ã€ç´¢å¼•ã€æ•°ç»„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">5</span>, <span class="number">23</span>, <span class="number">66</span>, <span class="number">520</span>, <span class="number">77</span>]</span><br><span class="line"><span class="keyword">let</span> res = arr.<span class="title function_">filter</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> item &gt; <span class="number">50</span>)</span><br><span class="line"><span class="comment">// [66, 520, 77]</span></span><br></pre></td></tr></table></figure><h4 id="map"><a href="#map" class="headerlink" title="map()"></a><code>map()</code></h4><p>å¯¹æ•°ç»„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¼ å…¥çš„å‡½æ•°ï¼Œè¿”å›æ¯ä¸ªæ‰§è¡Œç»“æœç»„æˆçš„æ•°ç»„ã€‚ä¸æ”¹å˜åŸæ•°ç»„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>]</span><br><span class="line"><span class="keyword">let</span> res = arr.<span class="title function_">map</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> item * <span class="number">3</span>)</span><br><span class="line"><span class="comment">// [3, 9, 15, 21]</span></span><br></pre></td></tr></table></figure><h4 id="every"><a href="#every" class="headerlink" title="every()"></a><code>every()</code></h4><p>æ£€æŸ¥æ•°ç»„æ¯ä¸ªå…ƒç´ æ˜¯å¦éƒ½æ»¡è¶³æ¡ä»¶ï¼Œè‹¥éƒ½è¿”å› <code>true</code>ï¼Œåˆ™ <code>every()</code> æ–¹æ³•è¿”å› <code>true</code>ã€‚è‹¥æœ‰ä¸€ä¸ªå…ƒç´ è¿”å› <code>false</code>ï¼Œåˆ™ <code>every()</code> æ–¹æ³•è¿”å› <code>false</code>ã€‚</p><p>ä¸€æ—¦é‡åˆ°å…ƒç´ è¿”å› <code>false</code>ï¼Œåˆ™<strong>åœæ­¢åç»­éå†</strong>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">arr.<span class="title function_">every</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> item &lt; <span class="number">2</span>) <span class="comment">// false</span></span><br><span class="line">arr.<span class="title function_">every</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> item &gt; <span class="number">0</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h4 id="some"><a href="#some" class="headerlink" title="some()"></a><code>some()</code></h4><p>æ£€æŸ¥æ•°ç»„æ˜¯å¦å­˜åœ¨å…ƒç´ æ»¡è¶³æ¡ä»¶ï¼Œè‹¥æœ‰ä¸€ä¸ªå…ƒç´ è¿”å› <code>true</code>ï¼Œåˆ™ <code>some()</code> æ–¹æ³•è¿”å› <code>true</code>ã€‚</p><p>ä¸€æ—¦é‡åˆ°å…ƒç´ è¿”å› <code>true</code>ï¼Œåˆ™<strong>åœæ­¢åç»­éå†</strong>ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]</span><br><span class="line">arr.<span class="title function_">some</span>(<span class="function">(<span class="params">item, index, arr</span>) =&gt;</span> item === <span class="number">6</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h4 id="reduce"><a href="#reduce" class="headerlink" title="reduce()"></a><code>reduce()</code></h4><p>éå†æ•°ç»„ï¼Œç”Ÿæˆä¸€ä¸ªæœ€ç»ˆè¿”å›å€¼ï¼Œå¯ç”¨äºæ¡ä»¶ç»Ÿè®¡ã€‚</p><p><code>reduce()</code> æ–¹æ³•å¯ä¼ å…¥ 2 ä¸ªå‚æ•°ï¼šå½’å¹¶å‡½æ•°ã€åˆå§‹å€¼ã€‚å…¶ä¸­åˆå§‹å€¼å¯é€‰ï¼Œè‹¥ä¸ä¼ ï¼Œåˆ™é»˜è®¤åˆå§‹å€¼ä¸ºæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä»æ•°ç»„ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹éå†ã€‚</p><p>å½’å¹¶å‡½æ•°å¯ä¼ å…¥ 4 ä¸ªå‚æ•°ï¼šä¸Šä¸€ä¸ªå½’å¹¶å€¼ã€å…ƒç´ ã€ç´¢å¼•ã€æ•°ç»„æœ¬èº«ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„å…ƒç´ ç´¯åŠ </span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">pre, cur, index, arr</span>) =&gt;</span> pre + cur) <span class="comment">// 15</span></span><br><span class="line">arr.<span class="title function_">reduce</span>(<span class="function">(<span class="params">pre, cur, index, arr</span>) =&gt;</span> pre + cur, <span class="number">10</span>) <span class="comment">// 25</span></span><br></pre></td></tr></table></figure><h4 id="reduceRight"><a href="#reduceRight" class="headerlink" title="reduceRight()"></a><code>reduceRight()</code></h4><p>æ•ˆæœä¸ <code>reduce()</code> æ–¹æ³•ç›¸åŒï¼Œåªæ˜¯æ–¹å‘ç›¸åï¼Œä»å³å¾€å·¦éå†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> JS array </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>grid å¸ƒå±€</title>
      <link href="/2023/09/06/CSS/grid/"/>
      <url>/2023/09/06/CSS/grid/</url>
      
        <content type="html"><![CDATA[<h1 id="grid-å¸ƒå±€"><a href="#grid-å¸ƒå±€" class="headerlink" title="grid å¸ƒå±€"></a>grid å¸ƒå±€</h1><p>:::warning grid å¸ƒå±€<br>æœ€ç‰›é€¼çš„ CSS å¸ƒå±€æ–¹å¼<br>:::</p><h2 id="grid-å¸ƒå±€æ¦‚è¿°"><a href="#grid-å¸ƒå±€æ¦‚è¿°" class="headerlink" title="grid å¸ƒå±€æ¦‚è¿°"></a>grid å¸ƒå±€æ¦‚è¿°</h2><p><code>flex</code> å¼¹æ€§å¸ƒå±€æ˜¯ä¸€ç»´å¸ƒå±€ï¼Œ<code>grid</code> ç½‘æ ¼å¸ƒå±€æ˜¯äºŒç»´å¸ƒå±€ã€‚</p><p>å¼€å¯æ–¹å¼ï¼šå…ƒç´ æ·»åŠ  <code>display: grid</code> æˆ– <code>display: inline-grid</code> ã€‚</p><p>å¼€å¯ <code>grid</code> å¸ƒå±€çš„å…ƒç´ ï¼Œç§°ä¸ºå®¹å™¨ï¼Œå…¶å­å…ƒç´ å˜æˆå®¹å™¨æˆå‘˜ï¼Œç§°ä¸º <code>grid</code> é¡¹ç›®ã€‚</p><p><code>grid</code> å¸ƒå±€åŸç†ï¼šé€šè¿‡è®¾ç½®å®¹å™¨å’Œé¡¹ç›®çš„å±æ€§ï¼Œæ¥æ§åˆ¶å­ç›’å­çš„ä½ç½®å’Œæ’åˆ—æ–¹å¼ã€‚</p><h2 id="grid-å¸ƒå±€å®¹å™¨ç›’å­å¸¸è§å±æ€§"><a href="#grid-å¸ƒå±€å®¹å™¨ç›’å­å¸¸è§å±æ€§" class="headerlink" title="grid å¸ƒå±€å®¹å™¨ç›’å­å¸¸è§å±æ€§"></a>grid å¸ƒå±€å®¹å™¨ç›’å­å¸¸è§å±æ€§</h2><h3 id="display"><a href="#display" class="headerlink" title="display"></a>display</h3><p>åˆ›å»º <code>grid</code> å¸ƒå±€å®¹å™¨ã€‚</p><table><thead><tr><th>å±æ€§å€¼</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>grid</td><td>å®¹å™¨å…ƒç´ ä¸ºå—çº§å…ƒç´ </td></tr><tr><td>inline-grid</td><td>å®¹å™¨å…ƒç´ ä¸ºè¡Œå†…å…ƒç´ </td></tr></tbody></table><h3 id="grid-template-columns-grid-template-rows"><a href="#grid-template-columns-grid-template-rows" class="headerlink" title="grid-template-columns &amp; grid-template-rows"></a>grid-template-columns &amp; grid-template-rows</h3><p><code>grid-template-columns</code> è®¾ç½®åˆ—å®½ï¼Œ<code>grid-template-rows</code> è®¾ç½®è¡Œé«˜ã€‚ç”¨æ³•ç±»ä¼¼ï¼Œä»¥å‰è€…ä¸ºä¾‹è¿›è¡Œè¯´æ˜ã€‚</p><h4 id="è®¾ç½®å›ºå®šåˆ—å®½è¡Œé«˜"><a href="#è®¾ç½®å›ºå®šåˆ—å®½è¡Œé«˜" class="headerlink" title="è®¾ç½®å›ºå®šåˆ—å®½è¡Œé«˜"></a>è®¾ç½®å›ºå®šåˆ—å®½è¡Œé«˜</h4><p><code>grid-template-columns: 30px 40px 50px</code> è¡¨ç¤ºä¸€å…±ä¸‰åˆ—ï¼Œåˆ—å®½åˆ†åˆ«ä¸º 30px 40px 50pxã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="comment">/*  ä¸€å…±ä¸‰åˆ—ï¼Œåˆ—å®½åˆ†åˆ«ä¸º 30px 40px 50px */</span></span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">30px</span> <span class="number">40px</span> <span class="number">50px</span>;</span><br><span class="line">  <span class="comment">/*  ä¸€å…±ä¸¤è¡Œï¼Œè¡Œé«˜åˆ†åˆ«ä¸º 30px 40px 50px  */</span></span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">30px</span> <span class="number">40px</span> <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="repeat"><a href="#repeat" class="headerlink" title="repeat()"></a>repeat()</h4><p>è§åçŸ¥ä¹‰ï¼Œé‡å¤å£°æ˜ã€‚</p><p>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºé‡å¤ä¸ªæ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå®½åº¦æˆ–é«˜åº¦ã€‚</p><p><code>grid-template-columns: repeat(3, 50px)</code> è¡¨ç¤ºä¸€å…±ä¸‰åˆ—ï¼Œåˆ—å®½ä¸º 50pxã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="comment">/* grid-template-columns: 50px 50px 50px; */</span></span><br><span class="line">  <span class="comment">/* ä¸€å…±ä¸‰åˆ—ï¼Œåˆ—å®½ä¸º 50px */</span></span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">3</span>, <span class="number">50px</span>);</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">30px</span> <span class="number">40px</span> <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="auto-fill"><a href="#auto-fill" class="headerlink" title="auto-fill"></a>auto-fill</h4><p>å°½å¯èƒ½å¡«æ»¡æ¯ä¸€è¡Œæˆ–æ¯ä¸€åˆ—ã€‚åªè¦ç½‘æ ¼å®¹å™¨å¤Ÿå¤§ï¼Œå°½å¯èƒ½å®¹çº³æ›´å¤šå•å…ƒæ ¼ã€‚</p><p><code>grid-template-columns: repeat(auto-fill, 50px)</code> è¡¨ç¤ºæ¯åˆ—å®½åº¦ä¸º 50pxï¼Œæ•°é‡ä¸å›ºå®šï¼Œæ¯ä¸€è¡Œå°½é‡å®¹çº³æ›´å¤šåˆ—ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="comment">/* æ¯åˆ—å®½åº¦ä¸º 50pxï¼Œæ•°é‡ä¸å›ºå®šï¼Œæ¯ä¸€è¡Œå°½é‡å®¹çº³æ›´å¤šåˆ— */</span></span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(auto-fill, <span class="number">50px</span>);</span><br><span class="line">  <span class="comment">/* æ¯è¡Œé«˜åº¦ä¸º 30pxï¼Œæ•°é‡ä¸å›ºå®šï¼Œæ¯ä¸€åˆ—å°½é‡å®¹çº³æ›´å¤šè¡Œ */</span></span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="built_in">repeat</span>(auto-fill, <span class="number">30px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="fr"><a href="#fr" class="headerlink" title="fr"></a>fr</h4><p><code>fr</code> æŒ‡æ˜å å®¹å™¨å‰©ä½™ç©ºé—´çš„ä»½æ•°ï¼Œç±»ä¼¼äº <code>flex</code> å¸ƒå±€çš„ <code>flex-grow</code> å±æ€§ã€‚</p><p><code>grid-template-columns: 30px 1fr 2fr</code> è¡¨ç¤ºç¬¬ä¸€åˆ—å®½åº¦ä¸º 30pxï¼Œç¬¬äºŒåˆ—å’Œç¬¬ä¸‰åˆ—åˆ†åˆ«å å‰©ä½™å®½åº¦çš„ 1&#x2F;3ã€2&#x2F;3</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="comment">/* ç¬¬ä¸€åˆ—å®½åº¦ä¸º 30pxï¼Œç¬¬äºŒåˆ—å’Œç¬¬ä¸‰åˆ—åˆ†åˆ«å å‰©ä½™å®½åº¦çš„ 1/3ã€2/3 */</span></span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">30px</span> <span class="number">1</span>fr <span class="number">2</span>fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="minmax"><a href="#minmax" class="headerlink" title="minmax()"></a>minmax()</h4><p>è®¾ç½®å•å…ƒæ ¼æœ€å°å’Œæœ€å¤§çš„å®½åº¦æˆ–é«˜åº¦ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="comment">/* æœ€å° 40pxï¼Œä½†ä¸èƒ½å¤§äºç¬¬äºŒåˆ—å®½åº¦çš„ 2 å€ */</span></span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">30px</span> <span class="number">1</span>fr <span class="built_in">minmax</span>(<span class="number">40px</span>, <span class="number">2</span>fr);</span><br><span class="line">  <span class="comment">/* è‡³å°‘ 120pxï¼Œè¿˜æœ‰ç©ºä½™åˆ™ä¸€èµ·ç­‰åˆ† */</span></span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(auto-fill, <span class="built_in">minmax</span>(<span class="number">120px</span>, <span class="number">1</span>fr));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="auto"><a href="#auto" class="headerlink" title="auto"></a>auto</h4><p>ç”±æµè§ˆå™¨å†³å®šå…·ä½“çš„å®½åº¦æˆ–é«˜åº¦ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="comment">/* ç¬¬äºŒåˆ—çš„å®½åº¦ç”±æµè§ˆå™¨å†³å®š */</span></span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">30px</span> auto <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="row-gap"><a href="#row-gap" class="headerlink" title="row-gap"></a>row-gap</h3><p>è®¾ç½®è¡Œé—´è·ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">row-gap</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="column-gap"><a href="#column-gap" class="headerlink" title="column-gap"></a>column-gap</h3><p>è®¾ç½®åˆ—é—´è·ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">column-gap</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="gap"><a href="#gap" class="headerlink" title="gap"></a>gap</h3><p><code>row-gap</code> å’Œ <code>column-gap</code> çš„ç®€å†™å½¢å¼ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="comment">/* è¡Œé—´è· 10pxï¼Œåˆ—é—´è· 20px */</span></span><br><span class="line">  <span class="attribute">gap</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="justify-content"><a href="#justify-content" class="headerlink" title="justify-content"></a>justify-content</h3><p>è®¾ç½®å•å…ƒæ ¼é¡¹ç›®åœ¨ç½‘æ ¼å®¹å™¨é‡Œçš„æ°´å¹³æ’åˆ—æ–¹å¼ï¼Œç±»ä¼¼ <code>flex</code> å¸ƒå±€çš„ <code>justify-content</code> å±æ€§ã€‚</p><table><thead><tr><th>å±æ€§å€¼</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>start</td><td>ä»å¤´å¼€å§‹</td></tr><tr><td>end</td><td>ä»å°¾éƒ¨å¼€å§‹</td></tr><tr><td>center</td><td>æ°´å¹³å±…ä¸­</td></tr><tr><td>space-around</td><td>å¹³åˆ†å‰©ä½™ç©ºé—´</td></tr><tr><td>space-between</td><td>ä¸¤ä¾§å•å…ƒæ ¼è´´è¾¹ï¼Œå†å¹³åˆ†å‰©ä½™ç©ºé—´</td></tr><tr><td>space-evenly</td><td>å•å…ƒæ ¼ä¹‹é—´ç­‰é—´è·ï¼Œä¸”ä¸¤ä¾§å•å…ƒæ ¼å’Œå®¹å™¨ä¹Ÿæ˜¯ç›¸åŒçš„è·ç¦»</td></tr><tr><td>stretch</td><td>å•å…ƒæ ¼æ²¡æŒ‡å®šåˆ—å®½ï¼Œæ‹‰ä¼¸å æ»¡æ•´è¡Œ</td></tr></tbody></table><p><code>space-around</code>ã€<code>space-between</code>ã€<code>space-evenly</code> æ¼”ç¤ºæ¡ˆä¾‹<a href="https://juejin.cn/post/6854573220306255880">å›¾ç‰‡</a>ï¼š<br><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/7/26/173895927ba770c4~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp" alt="justify-content"></p><h3 id="align-content"><a href="#align-content" class="headerlink" title="align-content"></a>align-content</h3><p>è®¾ç½®å•å…ƒæ ¼é¡¹ç›®åœ¨ç½‘æ ¼å®¹å™¨é‡Œçš„ç«–ç›´æ–¹å‘çš„æ’åˆ—æ–¹å¼ï¼Œç±»ä¼¼ <code>flex</code> å¸ƒå±€çš„ <code>align-items</code> å±æ€§ã€‚</p><p>å±æ€§å€¼å’Œ <code>justify-content</code> ç›¸åŒã€‚</p><h3 id="grid-auto-rows"><a href="#grid-auto-rows" class="headerlink" title="grid-auto-rows"></a>grid-auto-rows</h3><p>è®¾ç½®é™¤äº† <code>grid-template-row</code> å®šä¹‰çš„è¡Œä»¥å¤–çš„è¡Œçš„é«˜åº¦ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="comment">/* ç¬¬ä¸€å’Œç¬¬äºŒè¡Œé«˜åº¦ä¸º 30pxã€40px */</span></span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">30px</span> <span class="number">40px</span>;</span><br><span class="line">  <span class="comment">/* å…¶ä»–è¡Œçš„é«˜åº¦éƒ½ä¸º 60px */</span></span><br><span class="line">  <span class="attribute">grid-auto-rows</span>: <span class="number">60px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="grid-auto-columns"><a href="#grid-auto-columns" class="headerlink" title="grid-auto-columns"></a>grid-auto-columns</h3><p>è®¾ç½®é™¤äº† <code>grid-template-columns</code> å®šä¹‰çš„åˆ—ä»¥å¤–çš„åˆ—çš„å®½åº¦ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="comment">/* ç¬¬ä¸€å’Œç¬¬äºŒåˆ—å®½åº¦ä¸º 30pxã€40px */</span></span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">30px</span> <span class="number">40px</span>;</span><br><span class="line">  <span class="comment">/* å…¶ä»–åˆ—çš„å®½åº¦éƒ½ä¸º 60px */</span></span><br><span class="line">  <span class="attribute">grid-auto-columns</span>: <span class="number">60px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="grid-å¸ƒå±€å…¼å®¹æ€§"><a href="#grid-å¸ƒå±€å…¼å®¹æ€§" class="headerlink" title="grid å¸ƒå±€å…¼å®¹æ€§"></a>grid å¸ƒå±€å…¼å®¹æ€§</h2><p><img src="https://raw.githubusercontent.com/dont-sleep-so-late/CDN/master/images/grid_compatibility.png" alt="grid å¸ƒå±€å…¼å®¹æ€§"></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> CSS grid </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾å JavaScript</title>
      <link href="/2023/09/06/js/what_is_js/"/>
      <url>/2023/09/06/js/what_is_js/</url>
      
        <content type="html"><![CDATA[<h2 id="JavaScript-å’Œ-ECMAScript"><a href="#JavaScript-å’Œ-ECMAScript" class="headerlink" title="JavaScript å’Œ ECMAScript"></a>JavaScript å’Œ ECMAScript</h2><p>ECMAScript æ˜¯ JavaScript è¯­è¨€çš„<strong>å›½é™…æ ‡å‡†</strong>ï¼ŒJavaScript æ˜¯ ECMAScript çš„<strong>ä¸€ç§å®ç°</strong>ï¼ˆAdobe ActionScript å’Œ JScript åŒæ ·å®ç°äº† ECMAScriptï¼‰ã€‚</p><p>ECMAScript æ˜¯æ¬§æ´²è®¡ç®—æœºåˆ¶é€ å•†åä¼š ECMAï¼ˆEuropean Computer Manufacturers Associationï¼‰å‘å¸ƒçš„æµè§ˆå™¨è„šæœ¬è¯­è¨€æ ‡å‡†ã€‚å®ƒæ˜¯ 262 å·æ ‡å‡†æ–‡ä»¶ï¼Œåˆå« ECMA-262ã€‚</p><p>ECMAScript å®šä¹‰äº†è¯­è¨€åœ¨è¯­æ³•ã€ç±»å‹ã€è¯­å¥ã€å…³é”®å­—ã€ä¿ç•™å­—ã€æ“ä½œç¬¦ã€å…¨å±€å¯¹è±¡çš„è§„èŒƒã€‚</p><p>JavaScript å¹¶ä¸ä»…é™äº ECMAScriptã€‚åœ¨æµè§ˆå™¨ä¸­ï¼ŒJavaScript åŒ…æ‹¬ ECMAScriptã€æ–‡æ¡£å¯¹è±¡æ¨¡å‹ DOMã€æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ BOMã€‚</p><p>æ—¥å¸¸å·¥ä½œä¸­è®¤ä¸º JavaScript å’Œ ECMAScript æ˜¯åŒä¹‰è¯ï¼Œä¹Ÿæ‡’å¾—åšåŒºåˆ†äº†ã€‚</p><h2 id="ES5-å’Œ-ES6"><a href="#ES5-å’Œ-ES6" class="headerlink" title="ES5 å’Œ ES6"></a>ES5 å’Œ ES6</h2><p>è¿™ä¸»è¦æ˜¯ ECMAScript ç‰ˆæœ¬å‘½åæ–¹å¼çš„æ”¹å˜ã€‚</p><p>ä¸€å¼€å§‹ ECMAScript ä½¿ç”¨ç‰ˆæœ¬å·è¿›è¡Œå‘½åï¼ŒECMAScript 1.0 ç§°ä¸º ES1ï¼ŒECMAScript 2.0 ç§°ä¸º ES2ã€‚</p><p>ä» ES6 å¼€å§‹ï¼Œæ ‡å‡†å§”å‘˜ä¼šå†³å®šäºæ¯å¹´ 6 æœˆä»½å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œå¹¶ä¸”ä»¥å¹´ä»½è¿›è¡Œå‘½åã€‚2015 å¹´ 6 æœˆå‘å¸ƒäº† ECMAScript 2015ï¼ˆES2015ï¼‰ï¼Œè‹¥æŒ‰ç…§ç‰ˆæœ¬å·å³ä¸º ES6ã€‚</p><p>ç°åœ¨ ES6 æ³›æŒ‡ ECMAScript 5.1 ä¹‹åçš„ ECMAScript æ ‡å‡†ã€‚ES6 æ˜¯ä¸ªåˆ†æ°´å²­ï¼Œæ–°å¢äº†ä¸€å¤§æ‰¹ç‰¹æ€§ã€‚</p><h2 id="ECMAScript-å†å²ç‰ˆæœ¬"><a href="#ECMAScript-å†å²ç‰ˆæœ¬" class="headerlink" title="ECMAScript å†å²ç‰ˆæœ¬"></a>ECMAScript å†å²ç‰ˆæœ¬</h2><p>1997 å¹´å‘å¸ƒ ES1ï¼Œ1998 å¹´å‘å¸ƒ ES2ï¼Œ1999 å¹´å‘å¸ƒ ES3ã€‚ES3 å®šä¹‰äº† JavaScript çš„åŸºæœ¬è¯­æ³•ï¼Œæ ‡å¿—ç€ JavaScript çœŸæ­£æˆä¸ºä¸€é—¨è¯­è¨€ã€‚</p><p>ES4 ç”±äºæ”¹åŠ¨å¤ªå¤§è€Œæ²¡æœ‰é€šè¿‡ã€‚å ECMAScript 3.1 æ”¹ä¸º ECMAScript 5.0ï¼ˆES5ï¼‰ï¼Œäº 2009 å¹´ 12 æœˆæ­£å¼å‘å¸ƒï¼Œç°åœ¨å­¦çš„æœ€å¤šçš„å°±æ˜¯è¿™ä¸ªç‰ˆæœ¬ã€‚</p><p>2015 å¹´ 6 æœˆå‘å¸ƒ ECMAScript 6ï¼ˆES6ã€ES2015ï¼‰ã€‚</p><p>2016 å¹´ 6 æœˆå‘å¸ƒ ECMAScript 7ï¼ˆES7ã€ES2016ï¼‰ã€‚</p><p>2017 å¹´ 6 æœˆå‘å¸ƒ ECMAScript 8ï¼ˆES8ã€ES2017ï¼‰ã€‚</p><p>2018 å¹´ 6 æœˆå‘å¸ƒ ECMAScript 9ï¼ˆES9ã€ES2018ï¼‰ã€‚</p><p>2019 å¹´ 6 æœˆå‘å¸ƒ ECMAScript 10ï¼ˆES10ã€ES2019ï¼‰ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello Less</title>
      <link href="/2023/09/06/CSS/less/"/>
      <url>/2023/09/06/CSS/less/</url>
      
        <content type="html"><![CDATA[<h2 id="tip-Less"><a href="#tip-Less" class="headerlink" title="tip Less"></a>tip Less</h2><p>Itâ€™s CSS, with just a little more.</p><p><a href="https://less.bootcss.com/">Learn More</a></p><h2 id="What-is-Less"><a href="#What-is-Less" class="headerlink" title="What is Less"></a>What is Less</h2><p>Less(Leaner Style Sheets ç²¾ç®€æ ·å¼è¡¨) æ˜¯ä¸€ç§åŠ¨æ€æ ·å¼è¯­è¨€ï¼Œå±äº css é¢„å¤„ç†å™¨çš„èŒƒç•´ï¼Œå®ƒæ‰©å±•äº† CSS è¯­è¨€ï¼Œå¢åŠ äº†å˜é‡ã€Mixinã€å‡½æ•°ç­‰ç‰¹æ€§ï¼Œä½¿ CSS æ›´æ˜“ç»´æŠ¤å’Œæ‰©å±•ï¼ŒLess æ—¢å¯ä»¥åœ¨ å®¢æˆ·ç«¯ ä¸Šè¿è¡Œ ï¼Œä¹Ÿå¯ä»¥å€ŸåŠ© Node.js åœ¨æœåŠ¡ç«¯è¿è¡Œã€‚</p><p>Less ç¼–è¯‘å·¥å…·ï¼š</p><ul><li><a href="http://koala-app.com/index.html">Koala</a></li><li>vscode çš„ Easy LESS æ’ä»¶</li></ul><h2 id="æ³¨é‡Š-Comments"><a href="#æ³¨é‡Š-Comments" class="headerlink" title="æ³¨é‡Š(Comments)"></a>æ³¨é‡Š(Comments)</h2><ul><li>å¤šè¡Œæ³¨é‡Šä¿ç•™</li><li>å•è¡Œæ³¨é‡Šä¸è¢«ä¿ç•™åœ¨ç¼–è¯‘ç”Ÿæˆçš„ CSS ä¸­</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * ä¸€ä¸ªå—æ³¨é‡Š</span></span><br><span class="line"><span class="comment"> * style comment! </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™ä¸€è¡Œè¢«æ³¨é‡Šæ‰äº†ï¼</span></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å˜é‡-Variables"><a href="#å˜é‡-Variables" class="headerlink" title="å˜é‡(Variables)"></a>å˜é‡(Variables)</h2><h3 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><ul><li>@ å£°æ˜å˜é‡ï¼Œä½œä¸ºæ™®é€šå±æ€§å€¼ä½¿ç”¨</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@width:</span> <span class="number">50px</span>;</span><br><span class="line"><span class="variable">@height:</span> <span class="number">100px</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="variable">@width</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="variable">@height</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å˜é‡æ’å€¼-Variable-Interpolation"><a href="#å˜é‡æ’å€¼-Variable-Interpolation" class="headerlink" title="å˜é‡æ’å€¼(Variable Interpolation)"></a>å˜é‡æ’å€¼(Variable Interpolation)</h3><ul><li>å˜é‡ç”¨äºé€‰æ‹©å™¨åã€å±æ€§åã€URLã€<code>@import</code>è¯­å¥</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@my-selector:</span> banner;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éœ€è¦æ·»åŠ  &#123;&#125;</span></span><br><span class="line"><span class="selector-class">.@&#123;my-selector&#125;</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@property:</span> color;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.widget</span> &#123;</span><br><span class="line">  @&#123;property&#125;: <span class="selector-id">#0ee</span>;</span><br><span class="line">  <span class="selector-tag">background-</span><span class="variable">@&#123;property&#125;</span>: <span class="selector-id">#999</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Variables</span></span><br><span class="line"><span class="variable">@images:</span> <span class="string">&#x27;../img&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#444</span>;</span><br><span class="line">  <span class="attribute">background</span>: url(<span class="string">&#x27;@&#123;images&#125;/white-sand.png&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Variables</span></span><br><span class="line"><span class="variable">@themes:</span> <span class="string">&#x27;../../src/themes&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Usage</span></span><br><span class="line"><span class="keyword">@import</span> <span class="string">&#x27;@&#123;themes&#125;/tidal-wave.less&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="å»¶è¿ŸåŠ è½½-Lazy-Evaluation"><a href="#å»¶è¿ŸåŠ è½½-Lazy-Evaluation" class="headerlink" title="å»¶è¿ŸåŠ è½½(Lazy Evaluation)"></a>å»¶è¿ŸåŠ è½½(Lazy Evaluation)</h3><p>:::tip Lazy Evaluation<br>When defining a variable twice, the last definition of the variable is used, searching from the current scope upwards.<br>:::</p><p>å½“ä¸€ä¸ªå˜é‡è¢«å£°æ˜å¤šæ¬¡ï¼Œä¼šå–æœ€åä¸€æ¬¡çš„å€¼ï¼Œå¹¶ä»å½“å‰ä½œç”¨åŸŸå¾€å¤–å¯»æ‰¾å˜é‡ã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@var:</span> <span class="number">0</span>;</span><br><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">  <span class="variable">@var:</span> <span class="number">1</span>;</span><br><span class="line">  <span class="selector-class">.brass</span> &#123;</span><br><span class="line">    <span class="variable">@var:</span> <span class="number">2</span>;</span><br><span class="line">    three: @var;</span><br><span class="line">    <span class="variable">@var:</span> <span class="number">3</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  one: @var;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">  one: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.class</span> <span class="selector-class">.brass</span> &#123;</span><br><span class="line">  three: <span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å±æ€§åå˜é‡-Properties-as-Variables"><a href="#å±æ€§åå˜é‡-Properties-as-Variables" class="headerlink" title="å±æ€§åå˜é‡(Properties as Variables)"></a>å±æ€§åå˜é‡(Properties as Variables)</h3><p>:::tip Properties as Variables<br>You can easily treat properties like variables using the $prop syntax<br>:::</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.widget</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#efefef</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: $color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.widget</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#efefef</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#efefef</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åµŒå¥—-Nesting"><a href="#åµŒå¥—-Nesting" class="headerlink" title="åµŒå¥—(Nesting)"></a>åµŒå¥—(Nesting)</h2><p>Less æä¾›äº†ä½¿ç”¨åµŒå¥—(nesting)ä»£æ›¿å±‚å æˆ–ä¸å±‚å ç»“åˆä½¿ç”¨çš„èƒ½åŠ›</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#header</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">  <span class="selector-class">.navigation</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.logo</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#header</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.navigation</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-class">.logo</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="çˆ¶é€‰æ‹©å™¨-Parent-Selectors"><a href="#çˆ¶é€‰æ‹©å™¨-Parent-Selectors" class="headerlink" title="çˆ¶é€‰æ‹©å™¨ (Parent Selectors)"></a>çˆ¶é€‰æ‹©å™¨ (Parent Selectors)</h2><p>åœ¨åµŒå¥—è§„åˆ™ä¸­ï¼Œ <code>&amp;</code> è¡¨ç¤ºçˆ¶é€‰æ‹©å™¨ï¼Œå¸¸ç”¨äºç»™ç°æœ‰é€‰æ‹©å™¨æ·»åŠ ä¼ªç±»ã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">  <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: blue;</span><br><span class="line">    <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">color</span>: green;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.header</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰ <code>&amp;</code>ï¼Œä¼šè¢«ç¼–è¯‘æˆåä»£é€‰æ‹©å™¨ <code>a :hover</code>ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œ<code>&amp;</code> è¿˜èƒ½ç”¨äºç”Ÿæˆé‡å¤ç±»åï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.button</span> &#123;</span><br><span class="line">  <span class="selector-tag">&amp;</span><span class="selector-tag">-ok</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: url(<span class="string">&#x27;ok.png&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">&amp;</span><span class="selector-tag">-cancel</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: url(<span class="string">&#x27;cancel.png&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">&amp;</span><span class="selector-tag">-custom</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: url(<span class="string">&#x27;custom.png&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.button-ok</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;ok.png&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.button-cancel</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;cancel.png&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.button-custom</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;custom.png&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ··åˆ-Mixins"><a href="#æ··åˆ-Mixins" class="headerlink" title="æ··åˆ(Mixins)"></a>æ··åˆ(Mixins)</h2><p>æ··åˆ(Mixin)æ˜¯ä¸€ç§å°†ä¸€ç»„å±æ€§ä»ä¸€ä¸ªè§„åˆ™é›†åŒ…å«(æˆ–æ··å…¥)åˆ°å¦ä¸€ä¸ªè§„åˆ™é›†çš„æ–¹å¼ï¼Œå¯ç†è§£ä¸ºå¤åˆ¶ç²˜è´´ã€‚</p><h3 id="æ™®é€šæ··åˆ"><a href="#æ™®é€šæ··åˆ" class="headerlink" title="æ™®é€šæ··åˆ"></a>æ™®é€šæ··åˆ</h3><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.bordered</span> &#123;</span><br><span class="line">  <span class="attribute">border-top</span>: dotted <span class="number">1px</span> black;</span><br><span class="line">  <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#menu</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#111</span>;</span><br><span class="line">  <span class="selector-class">.bordered</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.post</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="selector-class">.bordered</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.bordered</span> &#123;</span><br><span class="line">  <span class="attribute">border-top</span>: dotted <span class="number">1px</span> black;</span><br><span class="line">  <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#menu</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#111</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: dotted <span class="number">1px</span> black;</span><br><span class="line">  <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> black;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.post</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="attribute">border-top</span>: dotted <span class="number">1px</span> black;</span><br><span class="line">  <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¸¦å‚æ•°çš„æ··åˆ-Parametric-Mixins"><a href="#å¸¦å‚æ•°çš„æ··åˆ-Parametric-Mixins" class="headerlink" title="å¸¦å‚æ•°çš„æ··åˆ(Parametric Mixins)"></a>å¸¦å‚æ•°çš„æ··åˆ(Parametric Mixins)</h3><ol><li>æ··åˆå¸¦å‚æ•°ï¼Œå‚æ•°éœ€è¦æŒ‰é¡ºåºä¼ é€’</li></ol><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.border</span>(<span class="variable">@width</span>, <span class="variable">@style</span>, <span class="variable">@color</span>) &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="variable">@width</span> <span class="variable">@style</span> <span class="variable">@color</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="selector-class">.border</span>(<span class="number">1px</span>, solid, <span class="number">#ccc</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>æ··åˆå¸¦å‚æ•°å¹¶æœ‰é»˜è®¤å€¼</li></ol><ul><li>éœ€æ³¨æ„çš„æ˜¯ï¼Œå°±ç®—æœ‰é»˜è®¤å€¼ï¼Œä¹Ÿè¦æŒ‰é¡ºåºä¼ é€’</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.border</span>(<span class="variable">@width</span>, <span class="variable">@style</span>, <span class="variable">@color</span>: <span class="number">#ccc</span>) &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="variable">@width</span> <span class="variable">@style</span> <span class="variable">@color</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="selector-class">.border</span>(<span class="number">1px</span>, solid);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼šå‡ºé”™</span></span><br><span class="line"><span class="selector-class">.border</span>(<span class="variable">@width</span>: <span class="number">1px</span>, <span class="variable">@style</span>, <span class="variable">@color</span>) &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="variable">@width</span> <span class="variable">@style</span> <span class="variable">@color</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="selector-class">.border</span>(solid, <span class="number">#ccc</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‘½åå‚æ•°"><a href="#å‘½åå‚æ•°" class="headerlink" title="å‘½åå‚æ•°"></a>å‘½åå‚æ•°</h3><p>å¯ä»¥åœ¨å‘æ··åˆä¼ å‚æ˜¯æŒ‡å®šå‚æ•°åç§°ï¼Œä»è€Œä¸éœ€è¦æŒ‰é¡ºåºä¼ å…¥</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.border</span>(<span class="variable">@width</span>, <span class="variable">@style</span>, <span class="variable">@color</span>: <span class="number">#ccc</span>) &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="variable">@width</span> <span class="variable">@style</span> <span class="variable">@color</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="selector-class">.border</span>(<span class="variable">@style</span>: solid, <span class="variable">@color</span>: red, <span class="variable">@width</span>: <span class="number">100px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="arguments-å˜é‡"><a href="#arguments-å˜é‡" class="headerlink" title="@arguments å˜é‡"></a>@arguments å˜é‡</h3><p><code>@arguments</code> å˜é‡åŒ…å«äº†ä¼ å…¥çš„æ‰€æœ‰å‚æ•°</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box-shadow</span>(<span class="variable">@x</span>: <span class="number">0</span>, <span class="variable">@y</span>: <span class="number">0</span>, <span class="variable">@blur</span>: <span class="number">1px</span>, <span class="variable">@color</span>: <span class="number">#000</span>) &#123;</span><br><span class="line">  -webkit-<span class="attribute">box-shadow</span>: <span class="variable">@arguments</span>;</span><br><span class="line">  -moz-<span class="attribute">box-shadow</span>: <span class="variable">@arguments</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="variable">@arguments</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.big-block</span> &#123;</span><br><span class="line">  <span class="selector-class">.box-shadow</span>(<span class="number">2px</span>, <span class="number">5px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.big-block</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">box-shadow</span>: <span class="number">2px</span> <span class="number">5px</span> <span class="number">1px</span> <span class="number">#000</span>;</span><br><span class="line">  -moz-<span class="attribute">box-shadow</span>: <span class="number">2px</span> <span class="number">5px</span> <span class="number">1px</span> <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">2px</span> <span class="number">5px</span> <span class="number">1px</span> <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŒ¹é…æ¨¡å¼-Pattern-matching"><a href="#åŒ¹é…æ¨¡å¼-Pattern-matching" class="headerlink" title="åŒ¹é…æ¨¡å¼(Pattern-matching)"></a>åŒ¹é…æ¨¡å¼(Pattern-matching)</h3><p>åœ¨å¤šä¸ªç›¸åŒçš„æ··åˆä¸­(å‚æ•°ä¸ªæ•°å¿…é¡»ç›¸åŒ)ï¼ŒåŒ¹é…ç‰¹å®šçš„æ··åˆã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mixin</span>(dark, <span class="variable">@color</span>) &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">darken</span>(<span class="variable">@color</span>, <span class="number">10%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.mixin</span>(light, <span class="variable">@color</span>) &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">lighten</span>(<span class="variable">@color</span>, <span class="number">10%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// @_ è¡¨ç¤ºåŒ¹é…æ‰€æœ‰</span></span><br><span class="line"><span class="selector-class">.mixin</span>(<span class="variable">@_</span>, <span class="variable">@color</span>) &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">@switch:</span> light;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">  <span class="selector-class">.mixin</span>(<span class="variable">@switch</span>, <span class="number">#888</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.class</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#a2a2a2</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è¿ç®—-Operations"><a href="#è¿ç®—-Operations" class="headerlink" title="è¿ç®—(Operations)"></a>è¿ç®—(Operations)</h2><ul><li>è®¡ç®—ç»“æœä»¥æ“ä½œæ•°æœ€å·¦ä¾§çš„å•ä½ç±»å‹ä¸ºå‡†</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@conversion-1:</span> <span class="number">5cm</span> + <span class="number">10mm</span>; <span class="comment">// 6cm</span></span><br><span class="line"><span class="variable">@conversion-2:</span> <span class="number">2</span> - <span class="number">3cm</span> - <span class="number">5mm</span>; <span class="comment">// -1.5cm</span></span><br><span class="line"><span class="variable">@conversion-3:</span> <span class="number">3.1</span> * <span class="number">2cm</span>; <span class="comment">// 6.2cm</span></span><br><span class="line"><span class="variable">@conversion-4:</span> <span class="number">4px</span> / <span class="number">2</span>; <span class="comment">// 4px / 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// conversion is impossible</span></span><br><span class="line"><span class="variable">@incompatible-units:</span> <span class="number">1cm</span> - <span class="number">1px</span>; <span class="comment">// 0.97354167cm</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// example with variables</span></span><br><span class="line"><span class="variable">@base:</span> <span class="number">5%</span>;</span><br><span class="line"><span class="variable">@filler:</span> <span class="variable">@base</span> * <span class="number">2</span>; <span class="comment">// 10%</span></span><br><span class="line"><span class="variable">@other:</span> <span class="variable">@base</span> + <span class="variable">@filler</span>; <span class="comment">// 15%</span></span><br><span class="line"></span><br><span class="line"><span class="variable">@color:</span> <span class="number">#224488</span> / <span class="number">2</span>; <span class="comment">// #112244</span></span><br><span class="line"><span class="attribute">background-color</span>: <span class="number">#112244</span> + <span class="number">#111</span>; <span class="comment">// #223355</span></span><br></pre></td></tr></table></figure><h2 id="ç»§æ‰¿-Extend"><a href="#ç»§æ‰¿-Extend" class="headerlink" title="ç»§æ‰¿(Extend)"></a>ç»§æ‰¿(Extend)</h2><h3 id="Extend-Syntax"><a href="#Extend-Syntax" class="headerlink" title="Extend Syntax"></a>Extend Syntax</h3><ul><li>ç»§æ‰¿å¯è®©å¤šä¸ªé€‰æ‹©å™¨åº”ç”¨åŒä¸€ç»„å±æ€§ï¼Œæœ€ç»ˆç¼–è¯‘ä¸ºå¹¶é›†é€‰æ‹©å™¨</li><li>å…¶æ€§èƒ½æ¯”æ··åˆé«˜ï¼Œä½†çµæ´»æ€§æ¯”æ··åˆä½</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">nav</span> <span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="selector-tag">&amp;</span>:<span class="selector-tag">extend</span>(.inline);</span><br><span class="line">  <span class="attribute">background</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.inline</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">nav</span> <span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.inline</span>,</span><br><span class="line"><span class="selector-tag">nav</span> <span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Extend-â€œallâ€"><a href="#Extend-â€œallâ€" class="headerlink" title="Extend â€œallâ€"></a>Extend â€œallâ€</h3><p>:::tip Extend â€œallâ€<br>When you specify the all keyword last in an extend argument it tells Less to match that selector as part of another selector. The selector will be copied and the matched part of the selector only will then be replaced with the extend, making a new selector.</p><p>You can think of this mode of operation as essentially doing a non-destructive search and replace<br>:::</p><ul><li>å¯ç†è§£ä¸ºæŠŠ <code>all</code> å‰çš„é€‰æ‹©å™¨å‡ºç°çš„åœ°æ–¹å…¨éƒ½æ›¿æ¢ä¸º <code>extend</code> å‰çš„é€‰æ‹©å™¨</li><li>å³æŠŠ <code>.test</code> æ›¿æ¢ä¸º <code>.replacement</code> ç”Ÿæˆä¸€ä¸ªæ–°çš„é€‰æ‹©å™¨åº”ç”¨æ ·å¼ï¼Œä¸”ä¸ç ´ååŸæœ‰çš„é€‰æ‹©å™¨</li></ul><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.a</span><span class="selector-class">.b</span><span class="selector-class">.test</span>,</span><br><span class="line"><span class="selector-class">.test</span><span class="selector-class">.c</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: orange;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.test</span> &#123;</span><br><span class="line">  <span class="selector-tag">&amp;</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: green;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.replacement</span>:<span class="selector-tag">extend</span>(.test all) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.a</span><span class="selector-class">.b</span><span class="selector-class">.test</span>,</span><br><span class="line"><span class="selector-class">.test</span><span class="selector-class">.c</span>,</span><br><span class="line"><span class="selector-class">.a</span><span class="selector-class">.b</span><span class="selector-class">.replacement</span>,</span><br><span class="line"><span class="selector-class">.replacement</span><span class="selector-class">.c</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: orange;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.test</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-class">.replacement</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é¿å…ç¼–è¯‘"><a href="#é¿å…ç¼–è¯‘" class="headerlink" title="é¿å…ç¼–è¯‘"></a>é¿å…ç¼–è¯‘</h2><p>é€šè¿‡åŠ å¼•å·å¯ä»¥é¿å… Less ç¼–è¯‘ï¼Œç›´æ¥æŠŠå†…å®¹è¾“å‡ºåˆ° CSS ä¸­</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.banner</span> <span class="selector-class">.inline</span> <span class="selector-class">.header</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="string">&#x27;100px + 100px&#x27;</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span> + <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.banner</span> <span class="selector-class">.inline</span> <span class="selector-class">.header</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="string">&#x27;100px + 100px&#x27;</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> CSS Less </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>flex å¸ƒå±€</title>
      <link href="/2023/09/06/CSS/flex/"/>
      <url>/2023/09/06/CSS/flex/</url>
      
        <content type="html"><![CDATA[<h2 id="flex-å¸ƒå±€åŸç†"><a href="#flex-å¸ƒå±€åŸç†" class="headerlink" title="flex å¸ƒå±€åŸç†"></a>flex å¸ƒå±€åŸç†</h2><p>å…¨ç§° flexible boxï¼Œå¼¹æ€§å¸ƒå±€ã€‚</p><p>å¦‚ä½•å¼€å¯ï¼šä¸ºå…ƒç´ æ·»åŠ  <code>display: flex</code>ã€‚</p><p>å¼€å¯ flex å¸ƒå±€çš„å…ƒç´ ï¼Œç§°ä¸º flex å®¹å™¨ï¼ˆflex containerï¼‰ï¼Œå…¶å­å…ƒç´ æˆä¸ºå®¹å™¨æˆå‘˜ï¼Œç§°ä¸º flex é¡¹ç›®ã€‚</p><p>flex å¸ƒå±€åŸç†ï¼šé€šè¿‡ç»™çˆ¶ç›’å­æ·»åŠ  <code>display: flex</code>ï¼Œæ¥æ§åˆ¶ç›’å­çš„ä½ç½®å’Œæ’åˆ—æ–¹å¼ã€‚</p><h2 id="flex-å¸ƒå±€çˆ¶ç›’å­å¸¸è§å±æ€§"><a href="#flex-å¸ƒå±€çˆ¶ç›’å­å¸¸è§å±æ€§" class="headerlink" title="flex å¸ƒå±€çˆ¶ç›’å­å¸¸è§å±æ€§"></a>flex å¸ƒå±€çˆ¶ç›’å­å¸¸è§å±æ€§</h2><h3 id="flex-direction"><a href="#flex-direction" class="headerlink" title="flex-direction"></a><code>flex-direction</code></h3><p>è®¾ç½®ä¸»è½´æ–¹å‘</p><table><thead><tr><th>å±æ€§å€¼</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>row</td><td>é»˜è®¤å€¼ï¼Œä»å·¦åˆ°å³</td></tr><tr><td>row-reverse</td><td>ä»å³åˆ°å·¦</td></tr><tr><td>column</td><td>ä»ä¸Šåˆ°ä¸‹</td></tr><tr><td>column-reverse</td><td>ä»ä¸‹åˆ°ä¸Š</td></tr></tbody></table><h3 id="justify-content"><a href="#justify-content" class="headerlink" title="justify-content"></a><code>justify-content</code></h3><p>è®¾ç½®ä¸»è½´å­å…ƒç´ æ’åˆ—æ–¹å¼</p><table><thead><tr><th>å±æ€§å€¼</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>flex-start</td><td>é»˜è®¤å€¼ï¼Œä»å¤´å¼€å§‹</td></tr><tr><td>flex-end</td><td>ä»å°¾éƒ¨å¼€å§‹</td></tr><tr><td>center</td><td>å±…ä¸­</td></tr><tr><td>space-around</td><td>å¹³åˆ†å‰©ä½™ç©ºé—´</td></tr><tr><td>space-between</td><td>ä¸¤ä¾§å­å…ƒç´ è´´è¾¹ï¼Œå†å¹³åˆ†å‰©ä½™ç©ºé—´</td></tr></tbody></table><h3 id="flex-wrap"><a href="#flex-wrap" class="headerlink" title="flex-wrap"></a><code>flex-wrap</code></h3><p>è®¾ç½®å­å…ƒç´ æ˜¯å¦æ¢è¡Œ</p><p>é»˜è®¤ä¸æ¢è¡Œï¼Œè‹¥å­ç›’å­å®½åº¦å’Œå¤§äºçˆ¶ç›’å­ï¼Œåˆ™ä¼šæ”¶ç¼©ï¼</p><table><thead><tr><th>å±æ€§å€¼</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>wrap</td><td>æ¢è¡Œ</td></tr><tr><td>nowrap</td><td>é»˜è®¤å€¼ï¼Œä¸æ¢è¡Œ</td></tr></tbody></table><h3 id="align-items"><a href="#align-items" class="headerlink" title="align-items"></a><code>align-items</code></h3><p>è®¾ç½®å­å…ƒç´ åœ¨ä¾§è½´ä¸Šçš„æ’åˆ—æ–¹å¼ï¼ˆå­å…ƒç´ å•è¡Œï¼‰</p><table><thead><tr><th>å±æ€§å€¼</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>flex-start</td><td>ä¾§è½´å¤´éƒ¨å¼€å§‹</td></tr><tr><td>flex-end</td><td>ä¾§è½´å°¾éƒ¨å¼€å§‹</td></tr><tr><td>center</td><td>ä¾§è½´å±…ä¸­</td></tr><tr><td>stretch</td><td>é»˜è®¤å€¼ï¼Œæ‹‰ä¼¸ï¼ˆæ‹‰æ»¡æ•´ä¸ªä¾§è½´ï¼‰ï¼Œè‹¥å­å…ƒç´ è®¾ç½®äº†é«˜åº¦åˆ™å¤±æ•ˆ</td></tr></tbody></table><h3 id="align-content"><a href="#align-content" class="headerlink" title="align-content"></a><code>align-content</code></h3><p>è®¾ç½®å­å…ƒç´ åœ¨ä¾§è½´ä¸Šçš„æ’åˆ—æ–¹å¼ï¼ˆå­å…ƒç´ å¤šè¡Œï¼‰</p><table><thead><tr><th>å±æ€§å€¼</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>flex-start</td><td>é»˜è®¤å€¼ï¼Œä¾§è½´å¤´éƒ¨å¼€å§‹</td></tr><tr><td>flex-end</td><td>ä¾§è½´å°¾éƒ¨å¼€å§‹</td></tr><tr><td>center</td><td>ä¾§è½´å±…ä¸­</td></tr><tr><td>stretch</td><td>å­å…ƒç´ é«˜åº¦å¹³åˆ†çˆ¶å…ƒç´ é«˜åº¦ï¼ˆéœ€è¦å­å…ƒç´ æ²¡æœ‰è®¾ç½®é«˜åº¦ï¼‰</td></tr><tr><td>space-around</td><td>å¹³åˆ†ä¾§è½´ç©ºé—´</td></tr><tr><td>space-between</td><td>ä¾§è½´ä¸¤ä¾§è´´è¾¹å†å¹³åˆ†å‰©ä½™ç©ºé—´</td></tr></tbody></table><h3 id="flex-flow"><a href="#flex-flow" class="headerlink" title="flex-flow"></a><code>flex-flow</code></h3><p><code>flex-direction</code> ä¸ <code>flex-wrap</code> å±æ€§çš„å¤åˆå†™æ³•</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">son &#123;</span><br><span class="line">  <span class="attribute">flex-flow</span>: row wrap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="flex-å¸ƒå±€å­ç›’å­å¸¸è§å±æ€§"><a href="#flex-å¸ƒå±€å­ç›’å­å¸¸è§å±æ€§" class="headerlink" title="flex å¸ƒå±€å­ç›’å­å¸¸è§å±æ€§"></a>flex å¸ƒå±€å­ç›’å­å¸¸è§å±æ€§</h2><h3 id="flex"><a href="#flex" class="headerlink" title="flex"></a><code>flex</code></h3><p><code>flex</code> å±æ€§å…¶å®æ˜¯ <code>flex-grow</code>ã€<code>flex-shrink</code>ã€<code>flex-basis</code> ä¸‰ä¸ªå±æ€§çš„ç®€å†™ã€‚</p><p><code>flex-grow</code> å±æ€§å€¼ä¸ºä¸€ä¸ªæ•°å­—ï¼Œç”¨äºè®¾ç½®å¼¹æ€§ç›’å­çš„æ‰©å±•æ¯”ä¾‹ï¼Œå³ç›’å­å å‰©ä½™ç©ºé—´çš„ä»½æ•°ï¼Œé»˜è®¤ä¸º 0ã€‚å¸¸è§çš„ <code>flex: 1</code> æ˜¯ <code>flex-grow</code> ä¸º 1ã€‚</p><p><code>flex-shrink</code> å±æ€§å€¼ä¸ºä¸€ä¸ªæ•°å­—ï¼Œç”¨äºè®¾ç½®ç›’å­çš„æ”¶ç¼©æ¯”ä¾‹ï¼Œå½“å­ç›’å­çš„å®½åº¦ä¹‹å’Œå¤§äºçˆ¶ç›’å­æ—¶æ‰ä¼šæ”¶ç¼©ã€‚</p><p><code>flex-basis</code> ç”¨äºè®¾ç½®å­ç›’å­çš„åˆå§‹é•¿åº¦ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">33.33%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="align-self"><a href="#align-self" class="headerlink" title="align-self"></a><code>align-self</code></h3><p>å•ç‹¬è®¾ç½®æŸä¸ªå­ç›’å­åœ¨ä¾§è½´çš„æ’åˆ—æ–¹å¼ï¼Œå®ƒä¼šè¦†ç›– <code>align-items</code> å±æ€§ã€‚é»˜è®¤å€¼ä¸º <code>auto</code>ï¼Œè¡¨ç¤ºç»§æ‰¿çˆ¶ç›’å­çš„ <code>align-items</code> å±æ€§ï¼Œå…¶ä½™å±æ€§å€¼ä¸ <code>align-items</code> ç›¸åŒã€‚</p><h3 id="order"><a href="#order" class="headerlink" title="order"></a><code>order</code></h3><p>å®šä¹‰å­ç›’å­åœ¨<strong>ä¸»è½´</strong>ä¸Šçš„æ’åˆ—é¡ºåºã€‚é»˜è®¤å€¼ä¸º 0ï¼Œå€¼è¶Šå°è¶Šé å‰ï¼Œå¯ä»¥ä¸ºè´Ÿæ•°ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line">  <span class="attribute">order</span>: -<span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> CSS flex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS é‚£äº›äº‹å„¿</title>
      <link href="/2023/09/06/CSS/css/"/>
      <url>/2023/09/06/CSS/css/</url>
      
        <content type="html"><![CDATA[<h2 id="CSS-é€‰æ‹©å™¨"><a href="#CSS-é€‰æ‹©å™¨" class="headerlink" title="CSS é€‰æ‹©å™¨"></a>CSS é€‰æ‹©å™¨</h2><h3 id="æ ‡ç­¾é€‰æ‹©å™¨"><a href="#æ ‡ç­¾é€‰æ‹©å™¨" class="headerlink" title="æ ‡ç­¾é€‰æ‹©å™¨"></a>æ ‡ç­¾é€‰æ‹©å™¨</h3><ul><li>é€šè¿‡æ ‡ç­¾åé€‰æ‹©å…ƒç´ </li><li>ä¼˜ç‚¹ï¼šå¯å¿«é€Ÿä¸ºåŒç±»å‹æ ‡ç­¾ç»Ÿä¸€è®¾ç½®æ ·å¼</li><li>ç¼ºç‚¹ï¼šä¸èƒ½æ¶‰åŠå·®å¼‚åŒ–æ ·å¼ï¼Œåªèƒ½é€‰æ‹©å…¨éƒ¨æ ‡ç­¾</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç±»é€‰æ‹©å™¨"><a href="#ç±»é€‰æ‹©å™¨" class="headerlink" title="ç±»é€‰æ‹©å™¨"></a>ç±»é€‰æ‹©å™¨</h3><ul><li>é€šè¿‡ç±»åé€‰æ‹©å…ƒç´ </li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: pink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="id-é€‰æ‹©å™¨"><a href="#id-é€‰æ‹©å™¨" class="headerlink" title="id é€‰æ‹©å™¨"></a>id é€‰æ‹©å™¨</h3><ul><li>é€šè¿‡å…ƒç´  id å±æ€§é€‰æ‹©å…ƒç´ </li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#md</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é€šé…ç¬¦é€‰æ‹©å™¨"><a href="#é€šé…ç¬¦é€‰æ‹©å™¨" class="headerlink" title="é€šé…ç¬¦é€‰æ‹©å™¨"></a>é€šé…ç¬¦é€‰æ‹©å™¨</h3><ul><li>é€‰æ‹©é¡µé¢æ‰€æœ‰å…ƒç´ </li><li>ç”¨äºæ¸…é™¤å†…å¤–è¾¹è·</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç›¸é‚»é€‰æ‹©å™¨"><a href="#ç›¸é‚»é€‰æ‹©å™¨" class="headerlink" title="ç›¸é‚»é€‰æ‹©å™¨"></a>ç›¸é‚»é€‰æ‹©å™¨</h3><ul><li>é€‰æ‹©æ‰€æœ‰æŒ‡å®šå…ƒç´ çš„ç›¸é‚»åä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>h1-2<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>p0 è¢«é€‰ä¸­<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;good&quot;</span>&gt;</span>h1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>p1 è¢«é€‰ä¸­<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>p2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> + <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åä»£é€‰æ‹©å™¨"><a href="#åä»£é€‰æ‹©å™¨" class="headerlink" title="åä»£é€‰æ‹©å™¨"></a>åä»£é€‰æ‹©å™¨</h3><ul><li>åœ¨æ‰€æœ‰åä»£èŠ‚ç‚¹ä¸­é€‰</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å­é€‰æ‹©å™¨"><a href="#å­é€‰æ‹©å™¨" class="headerlink" title="å­é€‰æ‹©å™¨"></a>å­é€‰æ‹©å™¨</h3><ul><li>åªåœ¨äº²å„¿å­ä¸­é€‰</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &gt; <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¹¶é›†é€‰æ‹©å™¨"><a href="#å¹¶é›†é€‰æ‹©å™¨" class="headerlink" title="å¹¶é›†é€‰æ‹©å™¨"></a>å¹¶é›†é€‰æ‹©å™¨</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span>,</span><br><span class="line"><span class="selector-tag">h2</span>,</span><br><span class="line"><span class="selector-tag">h3</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="äº¤é›†é€‰æ‹©å™¨"><a href="#äº¤é›†é€‰æ‹©å™¨" class="headerlink" title="äº¤é›†é€‰æ‹©å™¨"></a>äº¤é›†é€‰æ‹©å™¨</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* goodç±»çš„på…ƒç´  */</span></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.good</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: yellow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¼ªç±»é€‰æ‹©å™¨"><a href="#ä¼ªç±»é€‰æ‹©å™¨" class="headerlink" title="ä¼ªç±»é€‰æ‹©å™¨"></a>ä¼ªç±»é€‰æ‹©å™¨</h3><ul><li>æ ¹æ®å…ƒç´ çŠ¶æ€æˆ–æ‰€å¤„ DOM ç»“æ„é€‰æ‹©å…ƒç´ </li></ul><h4 id="åŠ¨æ€ä¼ªç±»é€‰æ‹©å™¨"><a href="#åŠ¨æ€ä¼ªç±»é€‰æ‹©å™¨" class="headerlink" title="åŠ¨æ€ä¼ªç±»é€‰æ‹©å™¨"></a>åŠ¨æ€ä¼ªç±»é€‰æ‹©å™¨</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">æŒ‰è¿™ä¸ªé¡ºåºå£°æ˜</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:link</span> é“¾æ¥ä¸€å¼€å§‹çš„æ ·å¼</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:visited</span> é“¾æ¥è®¿é—®åçš„æ ·å¼</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> å…‰æ ‡ç»è¿‡é“¾æ¥çš„æ ·å¼</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:active</span> é“¾æ¥è¢«æŒ‰ä¸‹æ—¶çš„æ ·å¼</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">:focus</span> ç”¨äºé€‰æ‹©è·å–ç„¦ç‚¹çš„è¡¨å•å…ƒç´ ï¼Œä¸€èˆ¬é’ˆå¯¹è¡¨å•å…ƒç´ è€Œè¨€</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:focus</span></span><br><span class="line"><span class="selector-tag">textarea</span><span class="selector-pseudo">:focus</span></span><br></pre></td></tr></table></figure><h4 id="ç»“æ„ä¼ªç±»é€‰æ‹©å™¨-C3"><a href="#ç»“æ„ä¼ªç±»é€‰æ‹©å™¨-C3" class="headerlink" title="ç»“æ„ä¼ªç±»é€‰æ‹©å™¨(C3)"></a>ç»“æ„ä¼ªç±»é€‰æ‹©å™¨(C3)</h4><table><thead><tr><th>é€‰æ‹©ç¬¦</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>E:first-child</td><td>ç¬¬ä¸€ä¸ªå­å…ƒç´  E</td></tr><tr><td>E:last-child</td><td>æœ€åä¸€ä¸ªå­å…ƒç´  E</td></tr><tr><td>E:nth-child(n)</td><td>ç¬¬ n ä¸ªå­å…ƒç´  E</td></tr><tr><td>E:first-of-type</td><td>æŒ‡å®šå…ƒç´  E çš„ç¬¬ä¸€ä¸ª</td></tr><tr><td>E:last-of-type</td><td>æŒ‡å®šå…ƒç´  E çš„æœ€åä¸€ä¸ª</td></tr><tr><td>E:nth-of-type(n)</td><td>æŒ‡å®šå…ƒç´  E çš„ç¬¬ n ä¸ª</td></tr></tbody></table><ul><li>n å¯ä»¥æ˜¯æ•°å­—ã€å…³é”®å­—ï¼ˆevenï¼Œoddï¼‰ã€å…¬å¼ï¼ˆn ä» 0 å¼€å§‹ï¼‰</li><li>nth-child å…ˆæ‰¾çˆ¶äº²çš„ç¬¬ n ä¸ªå­©å­ï¼Œå†çœ‹æ˜¯å¦ä¸ºå…ƒç´  Eï¼Œæ˜¯æˆåŠŸï¼Œå¦å¤±è´¥</li><li>nth-of-type æ˜¯ç›´æ¥æ‰¾ç¬¬ n ä¸ª Eï¼Œå¿½ç•¥å…¶ä»–é E çš„å…ƒç´ </li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>3<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>4<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å•¥éƒ½é€‰ä¸åˆ° */</span></span><br><span class="line"><span class="selector-tag">div</span> &gt; <span class="selector-tag">p</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>) &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* é€‰åˆ°2å·pæ ‡ç­¾ */</span></span><br><span class="line"><span class="selector-tag">div</span> &gt; <span class="selector-tag">p</span><span class="selector-pseudo">:nth-of-type</span>(<span class="number">2</span>) &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å±æ€§é€‰æ‹©å™¨-C3"><a href="#å±æ€§é€‰æ‹©å™¨-C3" class="headerlink" title="å±æ€§é€‰æ‹©å™¨(C3)"></a>å±æ€§é€‰æ‹©å™¨(C3)</h3><table><thead><tr><th>é€‰æ‹©ç¬¦</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>E[att]</td><td>é€‰æ‹©å…·æœ‰ att å±æ€§çš„ E å…ƒç´ </td></tr><tr><td>E[att&#x3D;â€valâ€]</td><td>é€‰æ‹©å…·æœ‰ att å±æ€§ä¸”å±æ€§å€¼ç­‰äº val çš„ E å…ƒç´ </td></tr><tr><td>E[att^&#x3D;â€valâ€]</td><td>é€‰æ‹©å…·æœ‰ att å±æ€§ä¸”å±æ€§å€¼ä»¥ val å¼€å¤´çš„ E å…ƒç´ </td></tr><tr><td>E[att$&#x3D;â€valâ€]</td><td>é€‰æ‹©å…·æœ‰ att å±æ€§ä¸”å±æ€§å€¼ä»¥ val ç»“å°¾çš„ E å…ƒç´ </td></tr><tr><td>E[att*&#x3D;â€valâ€]</td><td>é€‰æ‹©å…·æœ‰ att å±æ€§ä¸”å±æ€§å€¼å«æœ‰ val çš„ E å…ƒç´ </td></tr></tbody></table><h3 id="ä¼ªå…ƒç´ é€‰æ‹©å™¨-C3"><a href="#ä¼ªå…ƒç´ é€‰æ‹©å™¨-C3" class="headerlink" title="ä¼ªå…ƒç´ é€‰æ‹©å™¨(C3)"></a>ä¼ªå…ƒç´ é€‰æ‹©å™¨(C3)</h3><ul><li>ä¼ªå…ƒç´ é€‰æ‹©å™¨åˆ©ç”¨ CSS åˆ›å»ºæ–°æ ‡ç­¾å…ƒç´ ï¼Œè€Œä¸éœ€è¦ HTML æ ‡ç­¾ï¼Œä»è€Œç®€åŒ– HTML ç»“æ„</li><li>before å’Œ after åˆ›å»ºäº†ä¸€ä¸ªè¡Œå†…å…ƒç´ ï¼Œåœ¨ DOM æ ‘ä¸­æ— æ³•æ‰¾åˆ°ï¼Œæ•…ä¸ºä¼ªå…ƒç´ </li><li>å¿…é¡»æœ‰ content å±æ€§</li></ul><table><thead><tr><th>é€‰æ‹©å™¨</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>::before</td><td>åœ¨å…ƒç´ å†…éƒ¨å‰é¢æ’å…¥å†…å®¹</td></tr><tr><td>::after</td><td>åœ¨å…ƒç´ å†…éƒ¨åé¢æ’å…¥å†…å®¹</td></tr></tbody></table><p>ä¼ªå…ƒç´ å­—ä½“å›¾æ ‡</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;\e91e&#x27;</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>ã€é¢å¤–æ ‡ç­¾æ³•ï¼ˆéš”å¢™æ³•ï¼‰</span><br><span class="line">åœ¨æµ®åŠ¨å…ƒç´ åé¢æ·»åŠ ä¸€ä¸ªå—çº§æ ‡ç­¾ï¼ˆå¦‚<span class="selector-tag">div</span>ï¼‰ï¼Œå¹¶è®¾ç½® <span class="attribute">clear</span>: both</span><br><span class="line"></span><br><span class="line">&lt;div style=<span class="string">&quot;clear:both&quot;</span> &gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>ã€çˆ¶çº§å…ƒç´ æ·»åŠ overflowï¼Œå°†å…¶å±æ€§å€¼è®¾ç½®ä¸º hiddenã€ auto æˆ– scroll</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>ã€çˆ¶çº§æ·»åŠ afterä¼ªå…ƒç´ </span><br><span class="line">.clearfix:after &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;&quot;</span>; å¿…é¡»è¦æœ‰<span class="attribute">content</span>å±æ€§</span><br><span class="line">  <span class="attribute">display</span>: block; å—çº§å…ƒç´ </span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>; ä¸è¦çœ‹è§è¯¥å…ƒç´ </span><br><span class="line">  <span class="attribute">clear</span>: both; æ ¸å¿ƒä»£ç æ¸…é™¤æµ®åŠ¨</span><br><span class="line">  <span class="attribute">visibility</span>: hidden; ä¸è¦çœ‹è§è¯¥å…ƒç´ </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearfix</span> &#123; <span class="comment">/* IE6ã€ 7 ä¸“æœ‰ */</span></span><br><span class="line">  *zoom: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>ã€çˆ¶çº§å…ƒç´ æ·»åŠ åŒä¼ªå…ƒç´ </span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:before</span>,<span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>:<span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="attribute">display</span>:table; è½¬æ¢ä¸ºå—çº§å…ƒç´ å¹¶ä¸€è¡Œæ˜¾ç¤º</span><br><span class="line">&#125; .</span><br><span class="line">clearfix<span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">clear</span>:both;</span><br><span class="line">&#125; .</span><br><span class="line">clearfix &#123;</span><br><span class="line">  *zoom:<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://juejin.cn/post/6976646049456717838">ç›¸å…³é“¾æ¥</a></p><h2 id="CSS-Modules"><a href="#CSS-Modules" class="headerlink" title="CSS Modules"></a>CSS Modules</h2><p>CSS ä¸æ˜¯ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯ä¸€ç§ç½‘é¡µæ ·å¼æè¿°çš„æ‰‹æ®µã€‚</p><p>ä½†ç¨‹åºå‘˜å¸Œæœ›å°†å…¶æ”¹é€ å¾—åƒç¼–ç¨‹è¯­è¨€ï¼Œäºæ˜¯ scssã€less å‡ºç°äº†ã€‚</p><p>è€Œ CSS Modules ä¸º CSS å¢åŠ äº†<strong>å±€éƒ¨ä½œç”¨åŸŸ</strong>å’Œ<strong>æ¨¡å—ä¾èµ–</strong>ä¸¤ä¸ªåŠŸèƒ½ã€‚</p><h3 id="å±€éƒ¨ä½œç”¨åŸŸ"><a href="#å±€éƒ¨ä½œç”¨åŸŸ" class="headerlink" title="å±€éƒ¨ä½œç”¨åŸŸ"></a>å±€éƒ¨ä½œç”¨åŸŸ</h3><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒCSS æ˜¯å…¨å±€ç”Ÿæ•ˆçš„ï¼Œæ¯ä¸ªç»„ä»¶çš„æ ·å¼éƒ½ä¼šå¯¹å…¨å±€èµ·ä½œç”¨ã€‚</p><p>è¦äº§ç”Ÿå±€éƒ¨ä½œç”¨åŸŸï¼Œå³é¿å…æ ·å¼å†²çªï¼Œå°±æ˜¯ä½¿ç”¨å”¯ä¸€çš„ç±»åã€‚</p><p>ä½†æˆ‘ä»¬æ— æ³•ä¿è¯è‡ªå·±çš„ç±»åä¸ä¼šä¸åˆ«äººé‡å¤ã€‚</p><p>æ­¤æ—¶ï¼ŒCSS Modules å°±æœ‰ç”¨æ­¦ä¹‹åœ°äº†ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> style <span class="keyword">from</span> <span class="string">&#x27;./App.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">className</span>=<span class="string">&#123;style.title&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      Hello World</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>style.title</code> ä¼šè¢«æ„å»ºå·¥å…·ç¼–è¯‘æˆå“ˆå¸Œå­—ç¬¦ä¸²</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;_3zyde4l1yATCOkgn-DBWEL&quot;</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">._3zyde4l1yATCOkgn-DBWEL &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œç±»åå°±æ˜¯å”¯ä¸€çš„äº†ã€‚</p><h4 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><p><a href="http://www.ruanyifeng.com/blog/2016/06/css_modules.html">CSS Modules ç”¨æ³•æ•™ç¨‹</a></p><h2 id="CSS-éšè—å…ƒç´ -see-no-evil"><a href="#CSS-éšè—å…ƒç´ -see-no-evil" class="headerlink" title="CSS éšè—å…ƒç´  :see_no_evil"></a>CSS éšè—å…ƒç´  :see_no_evil</h2><h4 id="1ã€è®¾ç½®-display-none"><a href="#1ã€è®¾ç½®-display-none" class="headerlink" title="1ã€è®¾ç½® display: none"></a>1ã€è®¾ç½® <code>display: none</code></h4><ul><li>éšè—å…ƒç´ ä¸å†å æœ‰åŸæ¥ä½ç½®ï¼Œå› æ­¤ä¼šå¯¼è‡´é¡µé¢å¸ƒå±€æ”¹å˜ï¼Œå¼•èµ·é‡æ’</li><li>å­å…ƒç´ æ— æ³•é€šè¿‡è®¾ç½® <code>display: block</code> å®ç°åéšè—</li><li>éšè—å…ƒç´ ç»‘å®šçš„äº‹ä»¶ä¸ä¼šè§¦å‘</li></ul><h4 id="2ã€è®¾ç½®-visibility-hidden"><a href="#2ã€è®¾ç½®-visibility-hidden" class="headerlink" title="2ã€è®¾ç½® visibility: hidden"></a>2ã€è®¾ç½® <code>visibility: hidden</code></h4><ul><li>éšè—å…ƒç´ å æœ‰åŸæ¥ä½ç½®ï¼Œå®ç°çš„æ˜¯è§†è§‰ä¸Šçš„éšè—</li><li>å­å…ƒç´ å¯é€šè¿‡è®¾ç½® <code>visibility: visible</code> æ˜¾ç¤ºè‡ªå·±</li><li>éšè—å…ƒç´ ç»‘å®šçš„äº‹ä»¶ä¸ä¼šè§¦å‘ï¼Œå¦‚ç‚¹å‡»äº‹ä»¶</li></ul><h4 id="3ã€è®¾ç½®-opacity-0"><a href="#3ã€è®¾ç½®-opacity-0" class="headerlink" title="3ã€è®¾ç½® opacity: 0"></a>3ã€è®¾ç½® <code>opacity: 0</code></h4><ul><li>é€šè¿‡è®¾ç½®é€æ˜åº¦ä¸º 0 æ¥éšè—å…ƒç´ ï¼Œå› æ­¤å æœ‰åŸæ¥ä½ç½®</li><li>å­å…ƒç´ æ— æ³•é€šè¿‡è®¾ç½® <code>opacity: 1</code> æ˜¾ç¤ºè‡ªå·±</li><li><code>opacity: 0</code> çš„å…ƒç´ ä»ç„¶èƒ½è§¦å‘å·²ç»‘å®šçš„äº‹ä»¶</li></ul><h4 id="4ã€åˆ©ç”¨ç»å¯¹å®šä½-position-absolute"><a href="#4ã€åˆ©ç”¨ç»å¯¹å®šä½-position-absolute" class="headerlink" title="4ã€åˆ©ç”¨ç»å¯¹å®šä½ position: absolute"></a>4ã€åˆ©ç”¨ç»å¯¹å®šä½ <code>position: absolute</code></h4><ul><li>å°† <code>top</code> å’Œ <code>left</code> è®¾ç½®ä¸ºè¶³å¤Ÿå¤§çš„è´Ÿæ•°ï¼Œä½¿å…¶ç¦»å¼€å±å¹•ï¼Œå³å¯å®ç°éšè—æ•ˆæœ</li><li>åªè¦æˆ‘è·‘å¾—å¤Ÿè¿œï¼Œä½ å°±çœ‹ä¸åˆ°æˆ‘ :stuck_out_tongue_winking_eye:</li><li>ç»å¯¹å®šä½çš„å…ƒç´ æ˜¯è„±æ ‡çš„ï¼Œä¸ä¼šå½±å“é¡µé¢å¸ƒå±€</li></ul><h4 id="ç›¸å…³é“¾æ¥-1"><a href="#ç›¸å…³é“¾æ¥-1" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><p><a href="https://www.html.cn/qa/css3/14720.html">css éšè—å…ƒç´ çš„å‡ ç§æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿ</a></p><h2 id="CSS-å®šä½"><a href="#CSS-å®šä½" class="headerlink" title="CSS å®šä½"></a>CSS å®šä½</h2><h3 id="é™æ€å®šä½-static"><a href="#é™æ€å®šä½-static" class="headerlink" title="é™æ€å®šä½ static"></a>é™æ€å®šä½ static</h3><p>é»˜è®¤å®šä½ï¼Œç›¸å½“äºæ²¡æœ‰å®šä½ã€‚</p><h3 id="ç›¸å¯¹å®šä½-relative"><a href="#ç›¸å¯¹å®šä½-relative" class="headerlink" title="ç›¸å¯¹å®šä½ relative"></a>ç›¸å¯¹å®šä½ relative</h3><ul><li>ç›¸å¯¹äºå…ƒç´ åŸæœ¬çš„ä½ç½®è¿›è¡Œåç§»</li><li>å…ƒç´ ä¼šæµ®èµ·æ¥ï¼Œè„±ç¦»æ ‡å‡†æµï¼Œä½†ä»ç„¶å æ®åŸæœ¬çš„ä½ç½®</li></ul><h3 id="ç»å¯¹å®šä½-absolute"><a href="#ç»å¯¹å®šä½-absolute" class="headerlink" title="ç»å¯¹å®šä½ absolute"></a>ç»å¯¹å®šä½ absolute</h3><ul><li>ç›¸å¯¹äºæœ€è¿‘çš„å…·æœ‰å®šä½å±æ€§çš„çˆ¶å…ƒç´ è¿›è¡Œåç§»ï¼Œè‹¥æ²¡æœ‰ï¼Œåˆ™ç›¸å¯¹äº <code>body</code> è¿›è¡Œåç§»</li><li>å…ƒç´ è„±ç¦»æ ‡å‡†æµï¼Œä¸”ä¸å æ®åŸæœ¬çš„ä½ç½®</li><li>é€šå¸¸æ˜¯â€œå­ç»çˆ¶ç›¸â€</li></ul><h3 id="å›ºå®šå®šä½-fixed"><a href="#å›ºå®šå®šä½-fixed" class="headerlink" title="å›ºå®šå®šä½ fixed"></a>å›ºå®šå®šä½ fixed</h3><ul><li>ç›¸å¯¹äºæµè§ˆå™¨çª—å£è¿›è¡Œåç§»</li><li>ä¸ä¼šéšç€æµè§ˆå™¨çª—å£çš„æ»šåŠ¨è€Œæ»šåŠ¨</li><li>å¯ç”¨äºåˆ›å»ºå›ºå®šå¤´éƒ¨ã€åº•éƒ¨</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// åˆ›å»ºå…¨å±é®ç½©</span><br><span class="line"><span class="selector-class">.mask</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.25</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç›¸å…³é“¾æ¥-2"><a href="#ç›¸å…³é“¾æ¥-2" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><p><a href="https://blog.csdn.net/weixin_38055381/article/details/81558288">CSS çš„å‡ ç§å®šä½è¯¦è§£</a></p><h2 id="CSS-global"><a href="#CSS-global" class="headerlink" title="CSS :global"></a>CSS <code>:global</code></h2><p>åœ¨ CSS å±€éƒ¨ä½œç”¨åŸŸè¦†ç›–é»˜è®¤æ ·å¼ã€‚</p><p>å¦‚è¦†ç›– Ant Design ç»„ä»¶çš„é»˜è®¤æ ·å¼ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// index<span class="selector-class">.module</span><span class="selector-class">.scss</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">:global &#123;</span><br><span class="line">  // antd çš„é»˜è®¤æ ·å¼è¢«è¦†ç›–</span><br><span class="line">  <span class="selector-class">.ant-form-head</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Form</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;antd&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">&#x27;./index.module.scss&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">const</span> <span class="title function_">Hello</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Form</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;styles.father&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Form</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç›¸å…³é“¾æ¥-3"><a href="#ç›¸å…³é“¾æ¥-3" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><p><a href="https://blog.csdn.net/qq_36209248/article/details/90603474">CSS ä¸­çš„ global</a></p><h2 id="CSS-å±æ€§æµè§ˆå™¨ç§æœ‰å‰ç¼€"><a href="#CSS-å±æ€§æµè§ˆå™¨ç§æœ‰å‰ç¼€" class="headerlink" title="CSS å±æ€§æµè§ˆå™¨ç§æœ‰å‰ç¼€"></a>CSS å±æ€§æµè§ˆå™¨ç§æœ‰å‰ç¼€</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Google Chromeã€Safariï¼š-webkit-</span><br><span class="line">Firefoxï¼š-moz-</span><br><span class="line">IEï¼š-ms-</span><br><span class="line">Operaï¼š-o-</span><br></pre></td></tr></table></figure><p>ç§æœ‰å‰ç¼€æ˜¯ä¸ºäº†å…¼å®¹è€ç‰ˆæœ¬çš„æµè§ˆå™¨ã€‚</p><p>ä»€ä¹ˆæ˜¯å…¼å®¹ï¼Ÿå¯ä»¥ç®€å•ç†è§£ä¸ºä¸€æ®µä»£ç åœ¨æ–°çš„æµè§ˆå™¨èƒ½æ­£å¸¸è¿è¡Œï¼Œåœ¨è€ç‰ˆæœ¬çš„æµè§ˆå™¨ä¹Ÿèƒ½æ­£å¸¸è¿è¡Œã€‚</p><p>å¯¹äºä¸€äº›æ–°çš„ CSS å±æ€§ï¼Œè€æµè§ˆå™¨å¯èƒ½è¿è¡Œå¼‚å¸¸ï¼Œé€šè¿‡æ·»åŠ ç§æœ‰å‰ç¼€ï¼Œè®©è¿™ä¸ªå±æ€§åªåœ¨æŒ‡å®šå†…æ ¸çš„æµè§ˆå™¨ç”Ÿæ•ˆï¼Œè€æµè§ˆå™¨å°±å¿½ç•¥è¿™ä¸ªå±æ€§ã€‚</p><p>ç­‰åˆ°è¯¥å±æ€§æˆç†Ÿã€æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒåï¼Œå°±å¯ä»¥å»æ‰ç§æœ‰å‰ç¼€ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">  -webkit-text-stroke: <span class="number">2px</span> red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç›¸å…³é“¾æ¥-4"><a href="#ç›¸å…³é“¾æ¥-4" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h4><p><a href="https://blog.csdn.net/Dreammin/article/details/104663120">æµè§ˆå™¨çš„ç§æœ‰å‰ç¼€ç†è§£</a></p><p><a href="https://blog.csdn.net/wyx100/article/details/50450728">-mozã€-msã€-webkit æµè§ˆå™¨ç§æœ‰å‰ç¼€è¯¦è§£ï¼Œä½œç”¨ã€å‡ºå¤„</a></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML</title>
      <link href="/2023/09/06/HTML/html/"/>
      <url>/2023/09/06/HTML/html/</url>
      
        <content type="html"><![CDATA[<h1 id="âœHTML"><a href="#âœHTML" class="headerlink" title="âœHTML"></a>âœHTML</h1><h1 id="âœç›®å½•æ€»è§ˆ"><a href="#âœç›®å½•æ€»è§ˆ" class="headerlink" title="âœç›®å½•æ€»è§ˆ"></a>âœç›®å½•æ€»è§ˆ</h1><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20240306151957.png"></p><h1 id="1ã€VSæ’ä»¶æ¨èğŸ”¥"><a href="#1ã€VSæ’ä»¶æ¨èğŸ”¥" class="headerlink" title="1ã€VSæ’ä»¶æ¨èğŸ”¥"></a>1ã€VSæ’ä»¶æ¨èğŸ”¥</h1><table><thead><tr><th>æ’ä»¶</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Chinese</td><td>ä¸­æ–‡è¯­è¨€åŒ…</td></tr><tr><td>Open in Browser</td><td>å³å‡»é€‰æ‹©æµè§ˆå™¨æ‰“å¼€htmlæ–‡ä»¶</td></tr><tr><td>JS-CSS-HTML Formatter</td><td>æ¯æ¬¡ä¿å­˜ï¼Œéƒ½ä¼šæ ¼å¼åŒ–ä»£ç </td></tr><tr><td>Auto Rename Tag</td><td>è‡ªåŠ¨é‡å‘½åé…å¯¹çš„HTML&#x2F;XMLæ ‡ç­¾</td></tr><tr><td>CSS Peek</td><td>è¿½è¸ªè‡³æ ·å¼</td></tr><tr><td>escook-theme</td><td>é»‘é©¬åˆ˜é¾™å½¬è€å¸ˆä¸»é¢˜</td></tr><tr><td>Community Material Theme</td><td>è®¾ç½®é¢œè‰²ä¸»é¢˜</td></tr><tr><td>Live Server</td><td>è‡ªåŠ¨ç›‘æµ‹ä»£ç ä¿®æ”¹å¹¶åœ¨æµè§ˆå™¨å“åº”</td></tr><tr><td>vscode-icons</td><td>è®¾ç½®æ–‡ä»¶å›¾æ ‡ä½œä¸»é¢˜</td></tr></tbody></table><h1 id="2ã€-åŸºæœ¬ç»“æ„æ ‡ç­¾ğŸ”¥"><a href="#2ã€-åŸºæœ¬ç»“æ„æ ‡ç­¾ğŸ”¥" class="headerlink" title="2ã€ åŸºæœ¬ç»“æ„æ ‡ç­¾ğŸ”¥"></a>2ã€ åŸºæœ¬ç»“æ„æ ‡ç­¾ğŸ”¥</h1><table><thead><tr><th>æ ‡ç­¾å</th><th>å®šä¹‰</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>&lt;html&gt;&lt;/html&gt;</code></td><td>HTMLæ ‡ç­¾</td><td>é¡µé¢ä¸­çš„æœ€å¤§çš„æ ‡ç­¾ï¼Œæˆ‘ä»¬ç§°ä¸ºæ ¹æ ‡ç­¾</td></tr><tr><td><code>&lt;head&gt;&lt;head&gt;</code></td><td>æ–‡æ¡£çš„å¤´éƒ¨</td><td>æ³¨æ„åœ¨headæ ‡ç­¾ä¸­æˆ‘ä»¬å¿…é¡»è¦è®¾ç½®çš„æ ‡ç­¾æ˜¯title</td></tr><tr><td><code>&lt;title&gt;&lt;/title&gt;</code></td><td>æ–‡æ¡£çš„æ ‡é¢˜</td><td>è®©é¡µé¢æ‹¥æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„ç½‘é¡µæ ‡é¢˜</td></tr><tr><td><code>&lt;body&gt;&lt;/body&gt;</code></td><td>æ–‡æ¡£çš„ä¸»ä½“</td><td>å…ƒç´ åŒ…å«æ–‡æ¡£çš„æ‰€æœ‰å†…å®¹ï¼Œé¡µé¢å†…å®¹åŸºæœ¬éƒ½æ˜¯æ”¾åˆ°bodyé‡Œé¢çš„</td></tr></tbody></table><ol><li>HTML æ ‡ç­¾æ˜¯ç”±å°–æ‹¬å·åŒ…å›´çš„å…³é”®è¯ï¼Œä¾‹å¦‚ <code>&lt;html&gt;</code></li><li>HTML æ ‡ç­¾é€šå¸¸æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œä¾‹å¦‚ <code>&lt;html&gt;</code>å’Œ<code>&lt;/html&gt;</code> ï¼Œæˆ‘ä»¬ç§°ä¸ºåŒæ ‡ç­¾ã€‚æ ‡ç­¾å¯¹ä¸­çš„ç¬¬ä¸€ä¸ªæ ‡ç­¾æ˜¯å¼€å§‹æ ‡ç­¾ï¼Œç¬¬äºŒä¸ªæ ‡ç­¾æ˜¯ç»“æŸæ ‡ç­¾ã€‚</li><li>æœ‰äº›ç‰¹æ®Šçš„æ ‡ç­¾å¿…é¡»æ˜¯å•ä¸ªæ ‡ç­¾ï¼ˆæå°‘æƒ…å†µï¼‰ï¼Œä¾‹å¦‚<code>&lt;br /&gt;</code>ï¼Œæˆ‘ä»¬ç§°ä¸ºå•æ ‡ç­¾ã€‚</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    </span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="2-1ã€æ–‡æ¡£ç±»å‹å£°æ˜æ ‡ç­¾"><a href="#2-1ã€æ–‡æ¡£ç±»å‹å£°æ˜æ ‡ç­¾" class="headerlink" title="2.1ã€æ–‡æ¡£ç±»å‹å£°æ˜æ ‡ç­¾"></a>2.1ã€æ–‡æ¡£ç±»å‹å£°æ˜æ ‡ç­¾</h2><ul><li><code>&lt;!DOCTYPE&gt;</code>æ–‡æ¡£ç±»å‹å£°æ˜ï¼Œä½œç”¨å°±æ˜¯å‘Šè¯‰æµè§ˆå™¨ä½¿ç”¨å“ªç§HTMLç‰ˆæœ¬æ¥æ˜¾ç¤ºç½‘é¡µã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>è¿™å¥ä»£ç çš„æ„æ€æ˜¯: å½“å‰é¡µé¢é‡‡å–çš„æ˜¯ HTML5 ç‰ˆæœ¬æ¥æ˜¾ç¤ºç½‘é¡µ.</li><li>æ³¨æ„ï¼š</li><li><code>&lt;!DOCTYPE&gt;</code> å£°æ˜ä½äºæ–‡æ¡£ä¸­çš„æœ€å‰é¢çš„ä½ç½®ï¼Œå¤„äº <code>&lt;html&gt;</code> æ ‡ç­¾ä¹‹å‰ã€‚</li><li><code>&lt;!DOCTYPE&gt;</code> ä¸æ˜¯ä¸€ä¸ª HTML æ ‡ç­¾ï¼Œå®ƒå°±æ˜¯æ–‡æ¡£ç±»å‹å£°æ˜æ ‡ç­¾ã€‚</li></ul><h2 id="2-2ã€langè¯­è¨€ç§ç±»"><a href="#2-2ã€langè¯­è¨€ç§ç±»" class="headerlink" title="2.2ã€langè¯­è¨€ç§ç±»"></a>2.2ã€langè¯­è¨€ç§ç±»</h2><p>ç”¨æ¥å®šä¹‰å½“å‰æ–‡æ¡£æ˜¾ç¤ºçš„è¯­è¨€</p><ul><li>en å®šä¹‰è¯­è¨€ä¸ºè‹±è¯­</li><li>zh-CN å®šä¹‰è¯­è¨€ä¸ºä¸­æ–‡</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="2-3ã€å­—ç¬¦é›†"><a href="#2-3ã€å­—ç¬¦é›†" class="headerlink" title="2.3ã€å­—ç¬¦é›†"></a>2.3ã€å­—ç¬¦é›†</h2><p>åœ¨<code>&lt;head&gt;</code>æ ‡ç­¾å†…ï¼Œå¯ä»¥é€šè¿‡<code>&lt;meta&gt;</code> æ ‡ç­¾çš„ charset å±æ€§æ¥è§„å®š HTML æ–‡æ¡£åº”è¯¥ä½¿ç”¨å“ªç§å­—ç¬¦ç¼–ç ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta charset = &quot;UTF-8&quot; /&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>charset å¸¸ç”¨çš„å€¼æœ‰ï¼šï¼šGB2312 ã€BIG5 ã€GBK å’Œ UTF-8ï¼Œå…¶ä¸­ UTF-8 ä¹Ÿè¢«ç§°ä¸ºä¸‡å›½ç ï¼ŒåŸºæœ¬åŒ…å«äº†å…¨ä¸–ç•Œæ‰€æœ‰å›½å®¶éœ€è¦ç”¨åˆ°çš„å­—ç¬¦</li></ul><h1 id="3ã€æ ‡ç­¾ğŸ”¥"><a href="#3ã€æ ‡ç­¾ğŸ”¥" class="headerlink" title="3ã€æ ‡ç­¾ğŸ”¥"></a>3ã€æ ‡ç­¾ğŸ”¥</h1><h2 id="3-1ã€æ ‡é¢˜æ ‡ç­¾ğŸ”¥"><a href="#3-1ã€æ ‡é¢˜æ ‡ç­¾ğŸ”¥" class="headerlink" title="3.1ã€æ ‡é¢˜æ ‡ç­¾ğŸ”¥"></a>3.1ã€æ ‡é¢˜æ ‡ç­¾ğŸ”¥</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h1&gt; ä¸€çº§æ ‡é¢˜&lt;/h1&gt;</span><br><span class="line">    &lt;h2&gt; äºŒçº§æ ‡é¢˜&lt;/h2&gt;</span><br><span class="line">    &lt;h3&gt; ä¸‰çº§æ ‡é¢˜&lt;/h3&gt;</span><br><span class="line">    &lt;h4&gt; å››çº§æ ‡é¢˜&lt;/h4&gt;</span><br><span class="line">    &lt;h5&gt; äº”çº§æ ‡é¢˜&lt;/h5&gt;</span><br><span class="line">    &lt;h6&gt; å…­çº§æ ‡é¢˜&lt;/h6&gt;</span><br><span class="line">    ------ç§¦æ™“</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>åŠ äº†æ ‡é¢˜çš„æ–‡å­—ä¼šå˜çš„åŠ ç²—ï¼Œå­—å·ä¹Ÿä¼šä¾æ¬¡å˜å¤§</li><li>ä¸€ä¸ªæ ‡é¢˜ç‹¬å ä¸€è¡Œ</li></ul><h2 id="3-2ã€æ®µè½æ ‡ç­¾ğŸ”¥"><a href="#3-2ã€æ®µè½æ ‡ç­¾ğŸ”¥" class="headerlink" title="3.2ã€æ®µè½æ ‡ç­¾ğŸ”¥"></a>3.2ã€æ®µè½æ ‡ç­¾ğŸ”¥</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;æ®µè½æ ‡ç­¾&lt;/p&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>paragraph çš„ç¼©å†™</li><li>æ–‡æœ¬åœ¨ä¸€ä¸ªæ®µè½è¿™ç§ä¼šæ ¹æ®æµè§ˆå™¨çª—å£çš„å¤§å°è¿›è¡Œè‡ªåŠ¨æ¢è¡Œ</li><li>æ®µè½å’Œæ®µè½ä¹‹é—´ä¿æœ‰ç©ºéš™</li></ul><h2 id="3-3ã€æ¢è¡Œæ ‡ç­¾ğŸ”¥"><a href="#3-3ã€æ¢è¡Œæ ‡ç­¾ğŸ”¥" class="headerlink" title="3.3ã€æ¢è¡Œæ ‡ç­¾ğŸ”¥"></a>3.3ã€æ¢è¡Œæ ‡ç­¾ğŸ”¥</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;br /&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><code>&lt;br /&gt;</code> æ˜¯ä¸ªå•æ ‡ç­¾</li><li><code>&lt;br /&gt;</code> æ ‡ç­¾åªæ˜¯ç®€å•çš„å¼€å§‹æ–°çš„ä¸€è¡Œï¼Œè·Ÿæ®µè½ä¸ä¸€æ ·ï¼Œæ®µè½ä¹‹é—´ä¼šæ’å…¥ä¸€äº›å‚ç›´çš„é—´è·ã€‚</li></ul><h2 id="3-4ã€æ–‡æœ¬æ ¼å¼åŒ–æ ‡ç­¾"><a href="#3-4ã€æ–‡æœ¬æ ¼å¼åŒ–æ ‡ç­¾" class="headerlink" title="3.4ã€æ–‡æœ¬æ ¼å¼åŒ–æ ‡ç­¾"></a>3.4ã€æ–‡æœ¬æ ¼å¼åŒ–æ ‡ç­¾</h2><ul><li>ä¸ºæ–‡å­—è®¾ç½®<strong>ç²—ä½“ã€æ–œä½“ã€ä¸‹åˆ’çº¿</strong>ç­‰æ•ˆæœ</li></ul><table><thead><tr><th>è¯­ä¹‰</th><th>æ ‡ç­¾</th></tr></thead><tbody><tr><td>åŠ ç²—</td><td><code>&lt;strong&gt;&lt;/strong&gt;</code></td></tr><tr><td>å€¾æ–œ</td><td><code>&lt;em&gt;&lt;em&gt;</code></td></tr><tr><td>åˆ é™¤çº¿</td><td><code>&lt;del&gt;&lt;/del&gt;</code></td></tr><tr><td>ä¸‹åˆ’çº¿</td><td><code>&lt;ins&gt;&lt;/ins&gt;</code></td></tr></tbody></table><ul><li>é‡ç‚¹è®°å¿† åŠ ç²— å’Œ å€¾æ–œ</li></ul><h2 id="3-5ã€ç›’å­æ ‡ç­¾ğŸ”¥"><a href="#3-5ã€ç›’å­æ ‡ç­¾ğŸ”¥" class="headerlink" title="3.5ã€ç›’å­æ ‡ç­¾ğŸ”¥"></a>3.5ã€ç›’å­æ ‡ç­¾ğŸ”¥</h2><ul><li><code>&lt;div&gt;&lt;/div&gt;</code> :ä¸€è¡Œåªèƒ½æ”¾ä¸€ä¸ªå¤§ç›’å­</li><li><code>&lt;span&gt;&lt;/span&gt;</code> : ä¸€è¡Œå¯ä»¥æ”¾å¤šä¸ªå°ç›’å­</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;è¿™æ˜¯å¤´éƒ¨&lt;/div&gt;</span><br><span class="line">&lt;span&gt;ä»Šæ—¥ä»·æ ¼&lt;/span&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-6ã€å›¾åƒæ ‡ç­¾ğŸ”¥"><a href="#3-6ã€å›¾åƒæ ‡ç­¾ğŸ”¥" class="headerlink" title="3.6ã€å›¾åƒæ ‡ç­¾ğŸ”¥"></a>3.6ã€å›¾åƒæ ‡ç­¾ğŸ”¥</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;pink1.jpg&quot; alt=&quot;æˆ‘æ˜¯æ—æ™“&quot;  title=&quot;æˆ‘æ˜¯æ—æ™“&quot; /&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><code>src</code>æ˜¯<code>&lt;img&gt;</code>æ ‡ç­¾çš„å¿…é¡»å±æ€§ï¼Œå®ƒç”¨äºæŒ‡å®šå›¾åƒæ–‡ä»¶çš„è·¯å¾„å’Œæ–‡ä»¶</li></ul><table><thead><tr><th>å±æ€§</th><th>å±æ€§å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>src</td><td>å›¾ç‰‡è·¯å¾„</td><td>å¿…é¡»å±æ€§</td></tr><tr><td>alt</td><td>æ–‡æœ¬</td><td>æ›¿æ¢æ–‡æœ¬ï¼ˆå½“å›¾ç‰‡ä¸èƒ½æ˜¾ç¤ºæ—¶å€™æ˜¾ç¤ºçš„æ–‡å­—ï¼‰</td></tr><tr><td>title</td><td>æ–‡æœ¬</td><td>æç¤ºæ–‡æœ¬ï¼ˆé¼ æ ‡æ”¾åˆ°å›¾åƒä¸Šï¼Œæ˜¾ç¤ºçš„æ–‡å­—ï¼‰</td></tr></tbody></table><h2 id="3-7ã€è·¯å¾„ğŸ”¥"><a href="#3-7ã€è·¯å¾„ğŸ”¥" class="headerlink" title="3.7ã€è·¯å¾„ğŸ”¥"></a>3.7ã€è·¯å¾„ğŸ”¥</h2><h3 id="3-7-1ã€ç›¸å¯¹è·¯å¾„ğŸ”¥"><a href="#3-7-1ã€ç›¸å¯¹è·¯å¾„ğŸ”¥" class="headerlink" title="3.7.1ã€ç›¸å¯¹è·¯å¾„ğŸ”¥"></a>3.7.1ã€ç›¸å¯¹è·¯å¾„ğŸ”¥</h3><table><thead><tr><th>ç›¸å¯¹è·¯å¾„åˆ†ç±»</th><th>ç¬¦å·</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>åŒä¸€çº§è·¯å¾„</td><td></td><td>å›¾å½¢æ–‡ä»¶ä½äº HTML æ–‡ä»¶åŒä¸€çº§ å¦‚<code>&lt;img src=&quot;1.png&quot;&gt;</code></td></tr><tr><td>ä¸‹ä¸€çº§è·¯å¾„</td><td>&#x2F;</td><td>å›¾å½¢æ–‡ä»¶ä½äº HTML æ–‡ä»¶ä¸‹ä¸€çº§ å¦‚ <code>&lt;img src=&quot;images/1.png&quot;&gt;</code></td></tr><tr><td>ä¸Šä¸€çº§è·¯å¾„</td><td>â€¦&#x2F;</td><td>å›¾å½¢æ–‡ä»¶ä½äº HTML æ–‡ä»¶ä¸Šä¸€çº§ å¦‚ <code>&lt;img src=&quot;../1.png&quot;&gt;</code></td></tr></tbody></table><h3 id="3-7-2ã€ç»å¯¹è·¯å¾„ğŸ”¥"><a href="#3-7-2ã€ç»å¯¹è·¯å¾„ğŸ”¥" class="headerlink" title="3.7.2ã€ç»å¯¹è·¯å¾„ğŸ”¥"></a>3.7.2ã€ç»å¯¹è·¯å¾„ğŸ”¥</h3><ul><li>ç»å¯¹è·¯å¾„ï¼šæ˜¯æŒ‡ç›®å½•ä¸‹çš„ç»å¯¹ä½ç½®ï¼Œç›´æ¥åˆ°è¾¾ç›®æ ‡ä½ç½®ï¼Œé€šå¸¸æ˜¯ä»ç›˜ç¬¦å¼€å§‹çš„è·¯å¾„ã€‚</li></ul><h2 id="3-8ã€è¶…é“¾æ¥æ ‡ç­¾ğŸ”¥"><a href="#3-8ã€è¶…é“¾æ¥æ ‡ç­¾ğŸ”¥" class="headerlink" title="3.8ã€è¶…é“¾æ¥æ ‡ç­¾ğŸ”¥"></a>3.8ã€è¶…é“¾æ¥æ ‡ç­¾ğŸ”¥</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;è·³è½¬ç›®æ ‡&quot; target=&quot;ç›®æ ‡çª—å£çš„å¼¹å‡ºæ–¹å¼&quot;&gt;æ–‡æœ¬æˆ–å›¾åƒ&lt;/a&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><table><thead><tr><th>å±æ€§</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>href</td><td>ç”¨äºæŒ‡å®šé“¾æ¥ç›®æ ‡çš„urlåœ°å€ã€‚å¿…é¡»å±æ€§</td></tr><tr><td>target</td><td>ç”¨äºæŒ‡å®šè¿æ¥é¡µé¢çš„æ‰“å¼€æ–¹å¼ã€‚<code>_self</code>ä¸ºé»˜è®¤å€¼ï¼Œ<code>_blank</code>ä¸ºåœ¨æ–°çª—å£ä¸­æ‰“å¼€</td></tr></tbody></table><ul><li>å¦‚æœ href é‡Œé¢åœ°å€æ˜¯ä¸€ä¸ªæ–‡ä»¶æˆ–è€…å‹ç¼©åŒ…ï¼Œä¼šä¸‹è½½è¿™ä¸ªæ–‡ä»¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;img.zip&quot;&gt;&lt;/a&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-9ã€é”šç‚¹é“¾æ¥"><a href="#3-9ã€é”šç‚¹é“¾æ¥" class="headerlink" title="3.9ã€é”šç‚¹é“¾æ¥"></a>3.9ã€é”šç‚¹é“¾æ¥</h2><p>ä½œç”¨ï¼šç‚¹å‡»é“¾æ¥ï¼Œå¯ä»¥å¿«é€Ÿå®šä½åˆ°é¡µé¢ä¸­çš„æŸä¸ªä½ç½®</p><ul><li>åœ¨é“¾æ¥æ–‡æœ¬çš„<code>href</code>å±æ€§ä¸­ï¼Œè®¾ç½®å±æ€§å€¼ä¸º <strong>#åå­—</strong></li><li>æ‰¾åˆ°ç›®æ ‡ä½ç½®æ ‡ç­¾ï¼Œé‡Œé¢æ·»åŠ ä¸€ä¸ª <strong>idå±æ€§&#x3D;åˆšæ‰çš„åå­—</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href = &quot;#two&quot;&gt;ç¬¬äºŒå­£&lt;/a&gt;</span><br><span class="line">&lt;h3 id = &quot;two&quot;&gt;ç¬¬äºŒå­£ä»‹ç»&lt;/h3&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-10ã€æ³¨é‡ŠğŸ”¥"><a href="#3-10ã€æ³¨é‡ŠğŸ”¥" class="headerlink" title="3.10ã€æ³¨é‡ŠğŸ”¥"></a>3.10ã€æ³¨é‡ŠğŸ”¥</h2><ul><li>æ³¨é‡Šå¿«æ·é”®ä¸º <code>ctrl + /</code></li><li>æ³¨é‡Šä»¥ <code>&lt;!--</code> å¼€å§‹ï¼Œä»¥<code>--&gt;</code> ç»“æŸ</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--  æ³¨é‡Šè¯­å¥--&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-11ã€ç‰¹æ®Šå­—ç¬¦"><a href="#3-11ã€ç‰¹æ®Šå­—ç¬¦" class="headerlink" title="3.11ã€ç‰¹æ®Šå­—ç¬¦"></a>3.11ã€ç‰¹æ®Šå­—ç¬¦</h2><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20240306152022.png"></p><p>é‡ç‚¹è®°ä½ï¼šç©ºæ ¼ã€å¤§äºå·ã€å°äºå· è¿™ä¸‰ä¸ªï¼Œå…¶ä½™çš„ä½¿ç”¨çš„å¾ˆå°‘ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨å›å¤´æŸ¥é˜…å³å¯</p><h2 id="3-12ã€è¡¨æ ¼æ ‡ç­¾ğŸ”¥"><a href="#3-12ã€è¡¨æ ¼æ ‡ç­¾ğŸ”¥" class="headerlink" title="3.12ã€è¡¨æ ¼æ ‡ç­¾ğŸ”¥"></a>3.12ã€è¡¨æ ¼æ ‡ç­¾ğŸ”¥</h2><ul><li><code>table</code> ç”¨æ¥å®šä¹‰è¡¨æ ¼çš„æ ‡ç­¾</li><li><code>tr</code> ç”¨æ¥å®šä¹‰è¡¨æ ¼ä¸­çš„è¡Œï¼Œå¿…é¡»åµŒå¥—åœ¨<code>&lt;table&gt;&lt;/table&gt;</code> æ ‡ç­¾ä¸­</li><li><code>td</code> ç”¨æ¥å®šä¹‰è¡¨æ ¼ä¸­çš„å•å…ƒæ ¼ï¼Œå¿…é¡»åµŒå¥—åœ¨<code>&lt;tr&gt;&lt;/tr&gt;</code> æ ‡ç­¾ä¸­</li><li><code>th</code> ç”¨æ¥å®šä¹‰è¡¨æ ¼ä¸­çš„è¡¨å¤´ï¼Œè¡¨å¤´å•å…ƒæ ¼é‡Œé¢çš„å†…å®¹åŠ ç²—å±…ä¸­æ˜¾ç¤º</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;table&gt;</span><br><span class="line">        &lt;tr&gt;  &lt;th&gt;å§“å&lt;/th&gt;     &lt;th&gt;æ€§åˆ«&lt;/th&gt;    &lt;th&gt;å¹´é¾„&lt;/th&gt;        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;  &lt;td&gt;æ—æ™“&lt;/td&gt;     &lt;td&gt;ç”·&lt;/td&gt;     &lt;td&gt;18&lt;/td&gt;          &lt;/tr&gt;  </span><br><span class="line">        &lt;tr&gt;  &lt;td&gt;æ—æ™“&lt;/td&gt;     &lt;td&gt;ç”·&lt;/td&gt;     &lt;td&gt;18&lt;/td&gt;          &lt;/tr&gt;        </span><br><span class="line">        &lt;tr&gt;  &lt;td&gt;æ—æ™“&lt;/td&gt;     &lt;td&gt;ç”·&lt;/td&gt;     &lt;td&gt;18&lt;/td&gt;          &lt;/tr&gt;                        </span><br><span class="line">    &lt;/table&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-12ã€è¡¨æ ¼å±æ€§"><a href="#3-12ã€è¡¨æ ¼å±æ€§" class="headerlink" title="3.12ã€è¡¨æ ¼å±æ€§"></a>3.12ã€è¡¨æ ¼å±æ€§</h2><p>è¡¨æ ¼æ ‡ç­¾çš„å±æ€§å®é™…å¼€å‘å¹¶ä¸å¸¸ç”¨ï¼Œå› ä¸ºåŸºæœ¬éƒ½æ˜¯é€šè¿‡åé¢çš„CSSæ¥è®¾ç½®çš„</p><table><thead><tr><th>å±æ€§å</th><th>å±æ€§å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>align</td><td>left,center,right</td><td>è§„å®šè¡¨æ ¼ç›¸å¯¹å‘¨å›´å…ƒç´ çš„å¯¹é½æ–¹å¼</td></tr><tr><td>border</td><td>1æˆ–è€…â€™â€™ â€˜â€™</td><td>è§„å®šè¡¨æ ¼å•å…ƒæ˜¯å¦æ‹¥æœ‰è¾¹æ¡†ï¼Œé»˜è®¤ä¸ºâ€ â€œï¼Œè¡¨ç¤ºæ²¡æœ‰è¾¹æ¡†</td></tr><tr><td>cellpadding</td><td>åƒç´ å€¼</td><td>è§„å®šå•å…ƒè¾¹æ²¿ä¸å…¶å†…å®¹ä¹‹é—´çš„ç©ºç™½ï¼Œé»˜è®¤1åƒç´ </td></tr><tr><td>cellspacing</td><td>åƒç´ å€¼</td><td>è§„å®šå•å…ƒæ ¼ä¹‹é—´çš„ç©ºç™½ï¼Œé»˜è®¤2åƒç´ </td></tr><tr><td>width</td><td>åƒç´ å€¼æˆ–ç™¾åˆ†æ¯”</td><td>è§„å®šè¡¨æ ¼çš„å®½åº¦</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;table align=center border=&quot;1&quot; cellpadding=&quot;20&quot; cellspacing=&quot;0&quot; width=&quot;500&quot;&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-12-1ã€è¡¨æ ¼ç»“æ„æ ‡ç­¾"><a href="#3-12-1ã€è¡¨æ ¼ç»“æ„æ ‡ç­¾" class="headerlink" title="3.12.1ã€è¡¨æ ¼ç»“æ„æ ‡ç­¾"></a>3.12.1ã€è¡¨æ ¼ç»“æ„æ ‡ç­¾</h3><p>ä¸ºäº†æ›´å¥½çš„è¡¨ç¤ºè¡¨æ ¼çš„è¯­ä¹‰ï¼Œå¯ä»¥å°†è¡¨æ ¼åˆ†å‰²æˆ è¡¨æ ¼å¤´éƒ¨ å’Œè¡¨æ ¼ä¸»ä½“ä¸¤å¤§éƒ¨åˆ†</p><ul><li>ç”¨ <code>&lt;thead&gt;&lt;/thead&gt;</code> æ ‡ç­¾è¡¨ç¤ºè¡¨æ ¼çš„å¤´éƒ¨åŒºåŸŸï¼Œ<code>&lt;thead&gt;</code>å†…éƒ¨å¿…é¡»æ‹¥æœ‰<code>&lt;tr&gt;</code>æ ‡ç­¾ï¼Œä¸€èˆ¬æ˜¯ä½äºç¬¬ä¸€è¡Œ</li><li>ç”¨<code>&lt;tbody&gt;&lt;/tbody&gt;</code> æ ‡ç­¾è¡¨ç¤ºè¡¨æ ¼çš„ä¸»ä½“åŒºåŸŸï¼Œä¸»è¦æ˜¯ç”¨äºæ”¾æ•°æ®æœ¬ä½“</li><li>ä»¥ä¸Šæ ‡ç­¾éƒ½æ˜¯æ”¾åœ¨<code>&lt;table&gt;&lt;/table&gt;</code>æ ‡ç­¾ä¸­</li></ul><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20240306152123.png"></p><h3 id="3-12-2ã€åˆå¹¶å•å…ƒæ ¼"><a href="#3-12-2ã€åˆå¹¶å•å…ƒæ ¼" class="headerlink" title="3.12.2ã€åˆå¹¶å•å…ƒæ ¼"></a>3.12.2ã€åˆå¹¶å•å…ƒæ ¼</h3><ul><li>è·¨è¡Œåˆå¹¶ï¼š<code>rowspan=â€œåˆå¹¶å•å…ƒæ ¼çš„ä¸ªæ•°â€</code></li><li>è·¨åˆ—åˆå¹¶ï¼š<code>colspan=&quot;åˆå¹¶å•å…ƒæ ¼çš„ä¸ªæ•°&quot;</code></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;td colspan = &quot;2&quot;&gt;&lt;/td&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-13ã€åˆ—è¡¨æ ‡ç­¾ğŸ”¥"><a href="#3-13ã€åˆ—è¡¨æ ‡ç­¾ğŸ”¥" class="headerlink" title="3.13ã€åˆ—è¡¨æ ‡ç­¾ğŸ”¥"></a>3.13ã€åˆ—è¡¨æ ‡ç­¾ğŸ”¥</h2><ul><li>æ— åºåˆ—è¡¨ï¼š<code>&lt;ul&gt;</code></li><li>æœ‰åºåˆ—è¡¨ï¼š<code>&lt;ol&gt;</code></li><li>è‡ªå®šä¹‰åˆ—è¡¨ï¼š<code>&lt;dl&gt;</code></li></ul><table><thead><tr><th>æ ‡ç­¾å</th><th>å®šä¹‰</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>&lt;ul&gt;&lt;/ul&gt;</code></td><td>æ— åºåˆ—è¡¨</td><td>é‡Œé¢åªèƒ½åŒ…å«liï¼Œæ²¡æœ‰é¡ºåºã€‚lié‡Œé¢å¯ä»¥åŒ…å«ä»»ä½•æ ‡ç­¾</td></tr><tr><td><code>&lt;ol&gt;&lt;/ol&gt;</code></td><td>æœ‰åºåˆ—è¡¨</td><td>é‡Œé¢åªèƒ½åŒ…å«liï¼Œæœ‰é¡ºåº</td></tr><tr><td><code>&lt;dl&gt;&lt;/dl&gt;</code></td><td>è‡ªå®šä¹‰åˆ—è¡¨</td><td>é‡Œé¢åªèƒ½åŒ…å«dtå’Œddï¼Œdtå’Œddé‡Œé¢å¯ä»¥æ”¾ä»»ä½•æ ‡ç­¾</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;dl&gt;</span><br><span class="line">     &lt;dt&gt;å…³æ³¨æˆ‘ä»¬&lt;/dt&gt;</span><br><span class="line">     &lt;dd&gt;æ–°æµªå¾®åš&lt;/dd&gt;</span><br><span class="line">     &lt;dd&gt;è”ç³»æˆ‘ä»¬&lt;/dd&gt;</span><br><span class="line">&lt;/dl&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-14ã€è¡¨å•æ ‡ç­¾ğŸ”¥"><a href="#3-14ã€è¡¨å•æ ‡ç­¾ğŸ”¥" class="headerlink" title="3.14ã€è¡¨å•æ ‡ç­¾ğŸ”¥"></a>3.14ã€è¡¨å•æ ‡ç­¾ğŸ”¥</h2><p>ä¸€ä¸ªå®Œæ•´çš„è¡¨å•é€šå¸¸ç”±<strong>è¡¨å•åŸŸï¼Œè¡¨å•æ§ä»¶ï¼ˆè¡¨å•å…ƒç´ ï¼‰å’Œæç¤ºä¿¡æ¯</strong>3éƒ¨åˆ†ç»„æˆ</p><p><img src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20240306152140.png"></p><h3 id="3-14-1ã€è¡¨å•åŸŸğŸ”¥"><a href="#3-14-1ã€è¡¨å•åŸŸğŸ”¥" class="headerlink" title="3.14.1ã€è¡¨å•åŸŸğŸ”¥"></a>3.14.1ã€è¡¨å•åŸŸğŸ”¥</h3><ul><li><p>è¡¨å•åŸŸæ˜¯ä¸€ä¸ªåŒ…å«è¡¨å•å…ƒç´ çš„åŒºåŸŸ</p></li><li><p><code>&lt;form&gt;&lt;/from&gt;</code>æ ‡ç­¾ç”¨äºå®šä¹‰è¡¨å•åŸŸï¼Œä¼šæŠŠå®ƒèŒƒå›´å†…çš„è¡¨å•å…ƒç´ ä¿¡æ¯æäº¤ç»™æœåŠ¡å™¨</p></li></ul><table><thead><tr><th>å±æ€§</th><th>å±æ€§å€¼</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>action</td><td>urlåœ°å€</td><td>ç”¨äºæŒ‡å®šæ¥æ”¶å¹¶å¤„ç†è¡¨å•æ•°æ®çš„æœåŠ¡å™¨ç¨‹åºçš„urlåœ°å€</td></tr><tr><td>method</td><td>get&#x2F;post</td><td>ç”¨äºè®¾ç½®è¡¨å•æ•°æ®çš„æäº¤æ–¹å¼ï¼Œå…¶å–å€¼ä¸ºgetæˆ–post</td></tr><tr><td>name</td><td>åç§°</td><td>ç”¨äºæŒ‡å®šè¡¨å•çš„åç§°ï¼Œä»¥åŒºåˆ†åŒä¸€ä¸ªé¡µé¢ä¸­çš„å¤šä¸ªè¡¨å•åŸŸ</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action=&quot;urlåœ°å€&quot; method=&quot;æäº¤æ–¹å¼&quot; name=&quot;è¡¨å•åŸŸçš„åç§°&quot;&gt;</span><br><span class="line">    </span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-14-2ã€è¡¨å•æ§ä»¶-è¡¨å•å…ƒç´ -ğŸ”¥"><a href="#3-14-2ã€è¡¨å•æ§ä»¶-è¡¨å•å…ƒç´ -ğŸ”¥" class="headerlink" title="3.14.2ã€è¡¨å•æ§ä»¶(è¡¨å•å…ƒç´ )ğŸ”¥"></a>3.14.2ã€è¡¨å•æ§ä»¶(è¡¨å•å…ƒç´ )ğŸ”¥</h3><h4 id="â‘ inputè¾“å…¥è¡¨å•å…ƒç´ ğŸ”¥"><a href="#â‘ inputè¾“å…¥è¡¨å•å…ƒç´ ğŸ”¥" class="headerlink" title="â‘ inputè¾“å…¥è¡¨å•å…ƒç´ ğŸ”¥"></a>â‘ inputè¾“å…¥è¡¨å•å…ƒç´ ğŸ”¥</h4><ul><li><code>input</code>è¾“å…¥è¡¨å•å…ƒç´ </li><li><code>input</code>æ˜¯ä¸ªå•æ ‡ç­¾ï¼Œ<code>type</code> å±æ€§è®¾ç½®ä¸åŒçš„å±æ€§ç”¨æ¥æŒ‡å®šä¸åŒçš„æ§ä»¶ç±»å‹(æ–‡æœ¬å­—æ®µã€å¤é€‰æ¡†ã€å•é€‰æŒ‰é’®ã€æŒ‰é’®ç­‰)</li></ul><p>type å±æ€§çš„å±æ€§å€¼åŠæè¿°å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å±æ€§å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>button</td><td>å®šä¹‰å¯ç‚¹å‡»æŒ‰é’®(å¤šæ•°æƒ…å†µä¸‹ï¼Œç”¨äºé€šè¿‡JavaScriptå¯åŠ¨è„šæœ¬)</td></tr><tr><td>checkbox</td><td>å®šä¹‰å¤é€‰æ¡†</td></tr><tr><td>file</td><td>å®šä¹‰è¾“å…¥å­—æ®µå’Œâ€æµè§ˆâ€æŒ‰é’®ï¼Œä¾›æ–‡ä»¶ä¸Šä¼ ã€‚</td></tr><tr><td>hidden</td><td>å®šä¹‰éšè—çš„è¾“å…¥å­—æ®µ</td></tr><tr><td>image</td><td>å®šä¹‰å›¾åƒå½¢å¼çš„æäº¤æŒ‰é’®</td></tr><tr><td>password</td><td>å®šä¹‰å¯†ç å­—æ®µã€‚è¯¥å­—æ®µä¸­çš„å­—ç¬¦è¢«æ©ç </td></tr><tr><td>radio</td><td>å®šä¹‰å•é€‰æŒ‰é’®</td></tr><tr><td>reset</td><td>å®šä¹‰é‡ç½®æŒ‰é’®ã€‚é‡ç½®æŒ‰é’®ä¼šæ¸…æ¥šè¡¨å•ä¸­çš„æ‰€æœ‰æ•°æ®ã€‚</td></tr><tr><td>submit</td><td>å®šä¹‰æäº¤æŒ‰é’®ã€‚æäº¤æŒ‰é’®ä¼šæŠŠè¡¨å•æ•°æ®å‘é€åˆ°æœåŠ¡å™¨ã€‚</td></tr><tr><td>text</td><td>å®šä¹‰å•è¡Œçš„è¾“å…¥å­—æ®µï¼Œç”¨æˆ·å¯åœ¨å…¶ä¸­è¾“å…¥æ–‡æœ¬ã€‚é»˜è®¤å®½åº¦ä¸º 20 ä¸ªå­—ç¬¦ã€‚</td></tr></tbody></table><p>é™¤ type å±æ€§å¤–ï¼Œ<code>&lt;input&gt;</code> æ ‡ç­¾è¿˜æœ‰å¾ˆå¤šå…¶ä»–å¾ˆå¤šå±æ€§ï¼Œå…¶å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å±æ€§</th><th>å±æ€§å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>name</td><td>ç”±ç”¨æˆ·è‡ªå®šä¹‰</td><td>å®šä¹‰ input å…ƒç´ çš„åç§°</td></tr><tr><td>value</td><td>ç”±ç”¨æˆ·è‡ªå®šä¹‰</td><td>è§„å®š input å…ƒç´ çš„å€¼</td></tr><tr><td>checked</td><td>checked</td><td>è§„å®šæ­¤ input å…ƒç´ é¦–æ¬¡åŠ è½½æ—¶åº”å½“è¢«é€‰ä¸­</td></tr><tr><td>maxlength</td><td>æ­£æ•´æ•°</td><td>è§„å®šè¾“å…¥å­—æ®µä¸­å­—ç¬¦çš„æœ€å¤§é•¿åº¦</td></tr></tbody></table><ul><li>name å’Œ value æ˜¯æ¯ä¸ªè¡¨å•å…ƒç´ éƒ½æœ‰çš„å±æ€§å€¼ï¼Œä¸»è¦ç»™åç«¯äººå‘˜ä½¿ç”¨ã€‚</li><li>name æ˜¯è¡¨å•å…ƒç´ çš„åå­—ï¼Œè¦æ±‚ å•é€‰æ¡†å’Œå¤é€‰æ¡†è¦æœ‰ç›¸åŒçš„nameå€¼</li><li>checked å±æ€§ä¸»è¦é’ˆå¯¹äºå•é€‰æ¡†å’Œå¤é€‰æ¡†ï¼Œä¸»è¦ä½œç”¨æ˜¯ä¸€æ‰“å¼€é¡µé¢ï¼Œå°±å¯ä»¥é»˜è®¤é€‰ä¸­æŸä¸ªè¡¨å•å…ƒç´ </li></ul><h4 id="â‘¡æ–‡æœ¬æ¡†ä¸å¯†ç æ¡†ğŸ”¥"><a href="#â‘¡æ–‡æœ¬æ¡†ä¸å¯†ç æ¡†ğŸ”¥" class="headerlink" title="â‘¡æ–‡æœ¬æ¡†ä¸å¯†ç æ¡†ğŸ”¥"></a>â‘¡æ–‡æœ¬æ¡†ä¸å¯†ç æ¡†ğŸ”¥</h4><ul><li><code>type</code> å±æ€§è®¾ç½®ä¸º text æ˜¯æ–‡æœ¬æ¡†</li><li><code>type</code> å±æ€§è®¾ç½®ä¸º password æ˜¯å¯†ç æ¡†</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;form&gt;</span><br><span class="line">        ç”¨æˆ·åï¼š&lt;input type=&quot;text&quot;&gt; &lt;br/&gt; </span><br><span class="line">        å¯†ç ï¼š&lt;input type=&quot;password&quot;&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="â‘¢å•é€‰æ¡†å’Œå¤é€‰æ¡†ğŸ”¥"><a href="#â‘¢å•é€‰æ¡†å’Œå¤é€‰æ¡†ğŸ”¥" class="headerlink" title="â‘¢å•é€‰æ¡†å’Œå¤é€‰æ¡†ğŸ”¥"></a>â‘¢å•é€‰æ¡†å’Œå¤é€‰æ¡†ğŸ”¥</h4><ul><li><code>type</code> å±æ€§è®¾ç½®ä¸º radio æ˜¯å•é€‰æ¡†</li><li><code>type</code> å±æ€§è®¾ç½®ä¸º checkbox æ˜¯å¤é€‰æ¡†</li><li>name æ˜¯è¡¨å•å…ƒç´ çš„åå­—ï¼Œè¦æ±‚ å•é€‰æ¡†å’Œå¤é€‰æ¡†è¦æœ‰ç›¸åŒçš„nameå€¼</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;form&gt;</span><br><span class="line">        ç”¨æˆ·åï¼š&lt;input type=&quot;text&quot;&gt; &lt;br&gt; </span><br><span class="line">        å¯†ç ï¼š&lt;input type=&quot;password&quot;&gt; &lt;br&gt; </span><br><span class="line">        &lt;!-- radioæ˜¯å•é€‰æ¡†ï¼Œå¯ä»¥å¤šé€‰ä¸€ --&gt;</span><br><span class="line">        æ€§åˆ«ï¼šç”·&lt;input type=&quot;radio&quot;&gt; å¥³ &lt;input type=&quot;radio&quot;&gt;</span><br><span class="line">        &lt;!-- checkboxæ˜¯å¤šé€‰æ¡†ï¼Œå¯ä»¥å¤šé€‰ --&gt;</span><br><span class="line">        çˆ±å¥½ï¼šåƒé¥­&lt;input type=&quot;checkbox&quot;&gt;  ç¡è§‰&lt;input type=&quot;checkbox&quot;&gt;   æ‰“æ¸¸æˆ&lt;input type=&quot;checkbox&quot;&gt; </span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="â‘£nameå’Œvalueå±æ€§ğŸ”¥"><a href="#â‘£nameå’Œvalueå±æ€§ğŸ”¥" class="headerlink" title="â‘£nameå’Œvalueå±æ€§ğŸ”¥"></a>â‘£nameå’Œvalueå±æ€§ğŸ”¥</h4><ul><li>nameå±æ€§ï¼šå½“å‰inputè¡¨å•çš„åå­—ï¼Œåå°å¯ä»¥é€šè¿‡è¿™ä¸ªnameå±æ€§æ‰¾åˆ°è¿™ä¸ªè¡¨å•ï¼Œnameçš„ä¸»è¦ä½œç”¨å°±æ˜¯ç”¨äºåŒºåˆ«ä¸åŒçš„è¡¨å•</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;form&gt;</span><br><span class="line">        ç”¨æˆ·åï¼š&lt;input type=&quot;text&quot; value=&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;&gt; &lt;br&gt; </span><br><span class="line">        å¯†ç ï¼š&lt;input type=&quot;password&quot;&gt; &lt;br&gt; </span><br><span class="line">        &lt;!-- radioæ˜¯å•é€‰æ¡†ï¼Œå¯ä»¥å¤šé€‰ä¸€ --&gt;</span><br><span class="line">        &lt;!-- nameæ˜¯è¡¨å•å…ƒç´ çš„åå­—ï¼Œè¿™é‡Œçš„æ€§åˆ«å•é€‰æŒ‰é’®å¿…é¡»æœ‰ç›¸åŒçš„åå­—nameï¼Œæ‰èƒ½å®ç°å¤šé€‰ä¸€ --&gt;</span><br><span class="line">        æ€§åˆ«ï¼šç”·&lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;ç”·&quot;&gt; å¥³ &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;å¥³&quot;&gt;</span><br><span class="line">        &lt;!-- checkboxæ˜¯å¤šé€‰æ¡†ï¼Œå¯ä»¥å¤šé€‰ --&gt;</span><br><span class="line">        çˆ±å¥½ï¼šåƒé¥­&lt;input type=&quot;checkbox&quot; name=&quot;habby&quot; value=&quot;åƒé¥­&quot;&gt;  ç¡è§‰&lt;input type=&quot;checkbox&quot; name=&quot;habby&quot; value=&quot;ç¡è§‰&quot;&gt;   æ‰“æ¸¸æˆ&lt;input type=&quot;checkbox&quot; name=&quot;habby&quot; value=&quot;æ‰“æ¸¸æˆ&quot;&gt; </span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>æ³¨æ„ï¼šå•é€‰æ¡†å’Œå¤é€‰æ¡†nameå¿…é¡»ä¸€è‡´ï¼Œvalueå¯ä»¥ä¸ä¸€æ ·</li></ul><h4 id="â‘¤checkedå’ŒmaxlengthğŸ”¥"><a href="#â‘¤checkedå’ŒmaxlengthğŸ”¥" class="headerlink" title="â‘¤checkedå’ŒmaxlengthğŸ”¥"></a>â‘¤checkedå’ŒmaxlengthğŸ”¥</h4><ul><li>å•é€‰æŒ‰é’®å’Œå¤é€‰æ¡†å¯ä»¥è®¾ç½®<strong>checked</strong> å±æ€§</li><li>å½“é¡µé¢æ‰“å¼€æ—¶å€™å°±å¯ä»¥é»˜è®¤é€‰ä¸­è¿™ä¸ªæŒ‰é’®</li><li>å•é€‰æ¡†åªèƒ½ç»™å…¶ä¸­ä¸€ä¸ªåŠ checkedï¼Œå¤é€‰æ¡†å¯ä»¥å¤šåŠ </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">æ€§åˆ«:ç”·&lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;ç”·&quot; checked=&quot;checked&quot;&gt; å¥³ &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;å¥³&quot;&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><code>maxlength</code>:è§„å®šæœ€å¤šè¾“å…¥å¤šå°‘ä¸ªå­—ç¬¦</li></ul><h4 id="â‘¥submitå’ŒresetğŸ”¥"><a href="#â‘¥submitå’ŒresetğŸ”¥" class="headerlink" title="â‘¥submitå’ŒresetğŸ”¥"></a>â‘¥submitå’ŒresetğŸ”¥</h4><ul><li><code>type</code> å±æ€§è®¾ç½®ä¸ºsubmitï¼šæäº¤æŒ‰é’®ä¼šæŠŠè¡¨å•æ•°æ®å‘é€åˆ°æœåŠ¡å™¨</li><li>``type` å±æ€§è®¾ç½®ä¸ºresetï¼šé‡ç½®æŒ‰é’®ä¼šæ¸…é™¤è¡¨å•ä¸­çš„æ‰€æœ‰æ•°æ®</li></ul><h4 id="â‘¦buttonå’Œæ–‡ä»¶åŸŸğŸ”¥"><a href="#â‘¦buttonå’Œæ–‡ä»¶åŸŸğŸ”¥" class="headerlink" title="â‘¦buttonå’Œæ–‡ä»¶åŸŸğŸ”¥"></a>â‘¦buttonå’Œæ–‡ä»¶åŸŸğŸ”¥</h4><ul><li><code>type</code> å±æ€§è®¾ç½®ä¸ºbuttonï¼šæ˜¯ä¸€ä¸ªæŒ‰é’®</li><li><code>type</code> å±æ€§è®¾ç½®ä¸ºfileï¼šæ˜¯ä¸€ä¸ªæ–‡ä»¶åŸŸï¼Œå¯ä»¥ä¸Šä¼ æ–‡ä»¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;button&quot; value=&quot;è·å–çŸ­ä¿¡éªŒè¯ç &quot;&gt; &lt;br&gt;</span><br><span class="line">    &lt;!-- æ–‡ä»¶åŸŸï¼šä¸Šä¼ æ–‡ä»¶ä½¿ç”¨çš„ --&gt;</span><br><span class="line">    ä¸Šä¼ å¤´åƒï¼š&lt;input type=&quot;file&quot;&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="â‘§labelğŸ”¥"><a href="#â‘§labelğŸ”¥" class="headerlink" title="â‘§labelğŸ”¥"></a>â‘§labelğŸ”¥</h4><ul><li><code>label</code>æ ‡ç­¾ç”¨äºç»‘å®šä¸€ä¸ªè¡¨å•å…ƒç´ ï¼Œå½“ç‚¹å‡»<code>&lt;lable&gt;</code>æ ‡ç­¾å†…çš„æ–‡æœ¬æ—¶ï¼Œæµè§ˆå™¨å°±ä¼šè‡ªåŠ¨å°†ç„¦ç‚¹(å…‰æ ‡)è½¬åˆ°è¡¨å•å…ƒç´ ä¸Šï¼Œç”¨æ¥å¢åŠ ç”¨æˆ·ä½“éªŒ</li><li><code>label</code>æ ‡ç­¾çš„ forå±æ€§ åº”å½“ä¸ç›¸å…³å…ƒç´ çš„id å±æ€§ç›¸åŒ</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;label for=&quot;sex&quot;&gt; ç”· &lt;/lable&gt;</span><br><span class="line">&lt;input type=&quot;radio&quot; name=&quot;sex&quot; id=&quot;sex&quot; /&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-14-3ã€selectä¸‹æ‹‰è¡¨å•å…ƒç´ ğŸ”¥"><a href="#3-14-3ã€selectä¸‹æ‹‰è¡¨å•å…ƒç´ ğŸ”¥" class="headerlink" title="3.14.3ã€selectä¸‹æ‹‰è¡¨å•å…ƒç´ ğŸ”¥"></a>3.14.3ã€selectä¸‹æ‹‰è¡¨å•å…ƒç´ ğŸ”¥</h3><ul><li>ä¸‹æ‹‰è¡¨å•å…ƒç´ </li><li><code>&lt;select&gt;</code>ä¸­è‡³å°‘åŒ…å«ä¸€å¯¹<code>&lt;option&gt;</code></li><li>åœ¨<code>&lt;option&gt;</code>ä¸­å®šä¹‰ <code>selected=&quot;selected&quot;</code> æ—¶ï¼Œå½“å‰é¡¹å³ä¸ºé»˜è®¤é€‰ä¸­é¡¹ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;select&gt;</span><br><span class="line">       &lt;option selected=&quot;selected&quot;&gt;é€‰é¡¹1&lt;/option&gt;</span><br><span class="line">       &lt;option&gt;é€‰é¡¹2&lt;/option&gt;</span><br><span class="line">       &lt;option&gt;é€‰é¡¹3&lt;/option&gt;</span><br><span class="line">       ...</span><br><span class="line">&lt;/select&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-14-4ã€textareaæ–‡æœ¬åŸŸå…ƒç´ ğŸ”¥"><a href="#3-14-4ã€textareaæ–‡æœ¬åŸŸå…ƒç´ ğŸ”¥" class="headerlink" title="3.14.4ã€textareaæ–‡æœ¬åŸŸå…ƒç´ ğŸ”¥"></a>3.14.4ã€textareaæ–‡æœ¬åŸŸå…ƒç´ ğŸ”¥</h3><ul><li>ç”¨äºå®šä¹‰å¤šè¡Œæ–‡æœ¬è¾“å…¥çš„æ§ä»¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;textarea&gt;</span><br><span class="line">    æ–‡æœ¬å†…å®¹</span><br><span class="line">&lt;/textarea&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>cols &#x3D; â€œæ¯è¡Œä¸­çš„å­—ç¬¦æ•°â€ ï¼Œ rows &#x3D; â€œæ˜¾ç¤ºçš„å‡½æ•°â€ï¼Œæˆ‘ä»¬åœ¨å®é™…å¼€å‘ä¸­ä¸ä¼šä½¿ç”¨ï¼Œéƒ½æ˜¯ç”¨CSSæ¥æ”¹å˜å¤§å°</li></ul><h2 id="3-15ã€è¡¨å•å…ƒç´ æ€»ç»“"><a href="#3-15ã€è¡¨å•å…ƒç´ æ€»ç»“" class="headerlink" title="3.15ã€è¡¨å•å…ƒç´ æ€»ç»“"></a>3.15ã€è¡¨å•å…ƒç´ æ€»ç»“</h2><p>è¡¨å•å…ƒç´ æˆ‘ä»¬å­¦äº†ä¸‰å¤§ç»„</p><ul><li><p>input è¾“å…¥è¡¨å•å…ƒç´ </p></li><li><p>select ä¸‹æ‹‰è¡¨å•å…ƒç´ </p></li><li><p>textarea æ–‡æœ¬åŸŸè¡¨å•å…ƒç´ </p></li></ul><p>è¿™ä¸‰ç»„è¡¨å•å…ƒç´ éƒ½åº”è¯¥åŒ…å«åœ¨ form è¡¨å•åŸŸé‡Œé¢ï¼Œå¹¶ä¸”æœ‰ name å±æ€§</p><p>æœ¬æ–‡è½¬è‡ª <a href="https://blog.csdn.net/Augenstern_QXL/article/details/115419453">https://blog.csdn.net/Augenstern_QXL&#x2F;article&#x2F;details&#x2F;115419453</a><br>ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯æ–‡ç« </title>
      <link href="/2023/09/05/%E5%89%8D%E7%AB%AF%E6%96%87%E7%AB%A0/"/>
      <url>/2023/09/05/%E5%89%8D%E7%AB%AF%E6%96%87%E7%AB%A0/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰ç«¯ä½“ç³»æ¢³ç†"><a href="#å‰ç«¯ä½“ç³»æ¢³ç†" class="headerlink" title="å‰ç«¯ä½“ç³»æ¢³ç†"></a>å‰ç«¯ä½“ç³»æ¢³ç†</h2><p><a href="https://segmentfault.com/a/1190000013662126">ä»è¾“å…¥ URL åˆ°é¡µé¢åŠ è½½çš„è¿‡ç¨‹ï¼Ÿå¦‚ä½•ç”±ä¸€é“é¢˜å®Œå–„è‡ªå·±çš„å‰ç«¯çŸ¥è¯†ä½“ç³»ï¼</a></p><h2 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨"></a>æµè§ˆå™¨</h2><p><a href="https://www.cnblogs.com/chenyoumei/p/9156849.html">æµè§ˆå™¨æ¸²æŸ“é¡µé¢çš„åŸç†å’Œæµç¨‹</a></p><p><a href="https://segmentfault.com/a/1190000014383214">V8 å¼•æ“åƒåœ¾å›æ”¶</a></p><h2 id="HTML-CSS"><a href="#HTML-CSS" class="headerlink" title="HTML &amp;&amp; CSS"></a>HTML &amp;&amp; CSS</h2><p><a href="https://www.jianshu.com/p/f5ffd5e014a9">script æ ‡ç­¾ async å’Œ defer åŒºåˆ«</a><br><a href="https://www.jianshu.com/p/9a463d50e441">CSS ç»˜åˆ¶ä¸‰è§’å½¢</a></p><h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><p><a href="https://www.cnblogs.com/wangfupeng1988/p/3977924.html">æ·±å…¥ç†è§£ javascript åŸå‹å’Œé—­åŒ…</a><br><a href="https://zhuanlan.zhihu.com/p/26229293">æ·±å…¥æµ…å‡º Javascript äº‹ä»¶å¾ªç¯æœºåˆ¶(ä¸Š)</a><br><a href="https://zhuanlan.zhihu.com/p/46068171">æ·±å…¥ç†è§£ JavaScript çš„äº‹ä»¶å¾ªç¯</a><br><a href="https://zhuanlan.zhihu.com/p/72507900">å¦‚ä½•è§£é‡Š Event Loop é¢è¯•å®˜æ‰æ»¡æ„ï¼Ÿ</a><br><a href="https://www.cnblogs.com/lhb25/archive/2011/09/06/javascript-scope-chain.html">ç†è§£ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾</a></p><h2 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h2><p><a href="https://www.cnblogs.com/canfoo/p/6891868.html">Vue åŒå‘ç»‘å®šåŸç†åŠå®ç°</a><br><a href="https://blog.csdn.net/w993263495/article/details/85030839">Vuejs å¦‚ä½•å®ç°åŒå‘ç»‘å®š</a><br><a href="https://segmentfault.com/a/1190000006599500">å‰–æ Vue åŸç†&amp;å®ç°åŒå‘ç»‘å®š MVVM</a><br><a href="https://www.cnblogs.com/lgt-hello-world/p/12620073.html">vue ç”Ÿå‘½å‘¨æœŸ</a><br><a href="https://www.jianshu.com/p/7af8554d8f08">v-if ä¸ v-show çš„åŒºåˆ«</a></p><h2 id="è®¡ç®—æœºç½‘ç»œ"><a href="#è®¡ç®—æœºç½‘ç»œ" class="headerlink" title="è®¡ç®—æœºç½‘ç»œ"></a>è®¡ç®—æœºç½‘ç»œ</h2><p><a href="https://www.pianshen.com/article/68431265749/">TCP ä¸‰æ¬¡æ¡æ‰‹æœ€åä¸€æ¬¡å¤±è´¥æ€ä¹ˆåŠ</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> å‰ç«¯å¼€å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…¶ä»–æ–‡ç« </title>
      <link href="/2023/09/05/%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/"/>
      <url>/2023/09/05/%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.jianshu.com/p/97ba64888894">Postman æ•™ç¨‹</a></p><h2 id="æˆ‘çˆ±-GTA"><a href="#æˆ‘çˆ±-GTA" class="headerlink" title="æˆ‘çˆ± GTA"></a>æˆ‘çˆ± GTA</h2><p><a href="https://zhidao.baidu.com/question/1900115355228272460.html">GTA åœ£å®‰åœ°åˆ—æ–¯ç§˜ç±</a></p><h2 id="é˜¿é‡Œäº‘éƒ¨ç½²-Node"><a href="#é˜¿é‡Œäº‘éƒ¨ç½²-Node" class="headerlink" title="é˜¿é‡Œäº‘éƒ¨ç½² Node"></a>é˜¿é‡Œäº‘éƒ¨ç½² Node</h2><p><a href="https://developer.aliyun.com/article/80217">å¦‚ä½•å¿«é€Ÿéƒ¨ç½² Node.js é¡¹ç›®</a><br><a href="https://blog.csdn.net/weixin_43503511/article/details/86670345">ä¸ºé˜¿é‡Œäº‘æœåŠ¡å™¨ ECS å®ä¾‹å®‰è£… Nodejs</a></p><h2 id="æˆ‘çˆ±-MATLAB"><a href="#æˆ‘çˆ±-MATLAB" class="headerlink" title="æˆ‘çˆ± MATLAB"></a>æˆ‘çˆ± MATLAB</h2><p><a href="https://www.ilovematlab.cn/">MATLAB ä¸­æ–‡è®ºå›</a><br><a href="https://blog.csdn.net/qq_44868807/article/details/106628113">MATLABâ€”GUI æ–°æ‰‹å…¥é—¨æ•™ç¨‹</a><br><a href="https://www.bilibili.com/video/BV1o5411W7dF">MATLAB GUI ç•Œé¢è®¾è®¡ æ•°å­—å›¾åƒå¤„ç†</a></p><h2 id="Python-Keras-æ·±åº¦å­¦ä¹ "><a href="#Python-Keras-æ·±åº¦å­¦ä¹ " class="headerlink" title="Python &amp; Keras æ·±åº¦å­¦ä¹ "></a>Python &amp; Keras æ·±åº¦å­¦ä¹ </h2><p>å¤šæ ‡ç­¾åˆ†ç±»å™¨ï¼š</p><p><a href="https://www.pyimagesearch.com/2018/05/07/multi-label-classification-with-keras/">Multi-label classification with Keras</a><br><a href="https://www.pyimagesearch.com/2018/04/16/keras-and-convolutional-neural-networks-cnns/">Keras and Convolutional Neural Networks (CNNs)</a><br><a href="https://www.pyimagesearch.com/2018/04/09/how-to-quickly-build-a-deep-learning-image-dataset/">How to (quickly) build a deep learning image dataset</a><br><a href="https://blog.csdn.net/lc013/article/details/100033158">åŸºäº Keras çš„å¤šæ ‡ç­¾å›¾åƒåˆ†ç±»å™¨</a><br><a href="https://blog.csdn.net/tMb8Z9Vdm66wH68VX1/article/details/81090757">æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Keras è¿›è¡Œå¤šæ ‡ç­¾åˆ†ç±»</a><br><a href="https://blog.csdn.net/qq_37764129/article/details/100853805">å¤šæ ‡ç­¾åˆ†ç±»ï¼ˆåŸºäº Kerasï¼‰</a><br><a href="https://blog.csdn.net/lly1122334/article/details/88806913">ä½¿ç”¨ Keras è¿›è¡Œå•æ¨¡å‹å¤šæ ‡ç­¾åˆ†ç±»</a><br><a href="https://blog.csdn.net/tMb8Z9Vdm66wH68VX1/article/details/81713585">æ•™ä½ ç”¨ Keras å’Œ CNN å»ºç«‹æ¨¡å‹è¯†åˆ«ç¥å¥‡å®è´</a></p><p>æ·±åº¦å­¦ä¹ ï¼š</p><p><a href="https://blog.csdn.net/qq_15192373/article/details/89552498">One-Hot ç‹¬çƒ­ç¼–ç </a><br><a href="https://blog.csdn.net/zziahgf/article/details/79614822">VGGNet é˜…è¯»ç†è§£</a><br><a href="https://blog.csdn.net/u013181595/article/details/80974210">VGGNet ä»‹ç»</a></p><p>Keras æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼š</p><p><a href="https://keras-zh.readthedocs.io/">Keras ä¸­æ–‡æ–‡æ¡£</a><br><a href="https://www.bilibili.com/video/BV1gE411R7jd">Keras æ·±åº¦å­¦ä¹ ç®€æ˜æ•™ç¨‹</a><br><a href="https://www.jianshu.com/p/c98a24cfa821/">Keras æ·±åº¦å­¦ä¹ æ•°æ®é›†</a><br><a href="https://blog.csdn.net/weixin_43935696/article/details/112214007">keras.layers.BatchNormalization è§£æ</a><br><a href="https://www.jianshu.com/p/a3f3033a7379">Keras ä¸­çš„ Embedding ç®€å•ç†è§£</a><br><a href="https://blog.csdn.net/moyu123456789/article/details/83444140">Keras ä¸­ to_categorical å‡½æ•°è§£æ</a><br><a href="https://blog.csdn.net/qq_29676179/article/details/118001025">Keras ç”¨ fit è®­ç»ƒæ¨¡å‹æ—¶,batch_sizeï¼Œsteps_per_epoch çš„å«ä¹‰</a><br><a href="https://blog.csdn.net/weixin_40244676/article/details/105091539">model.fit()è¯¦è§£</a><br><a href="https://blog.csdn.net/qq_27825451/article/details/90056896">Keras å›¾åƒé¢„å¤„ç†-ImageDataGenerator ç±»</a><br><a href="https://www.pythonheidong.com/blog/article/430947/349baf46280172a88c55/">Keras.preprocessing.image ä¸­çš„ img_to_array</a><br><a href="https://www.cnblogs.com/zhibei/p/12070046.html">sigmoid å’Œ softmax çš„åº”ç”¨æ„ä¹‰åŒºåˆ«</a><br><a href="https://www.yisu.com/zixun/231984.html">å¦‚ä½•ç†è§£ K.image_data_format() &#x3D;&#x3D; â€˜channels_firstâ€™</a><br><a href="https://blog.csdn.net/lovebyz/article/details/77712003">Keras-text.Tokenizerï¼šæ–‡æœ¬ä¸åºåˆ—é¢„å¤„ç†</a><br><a href="https://blog.csdn.net/wcy23580/article/details/84957471">åºåˆ—é¢„å¤„ç† pad_sequences()åºåˆ—å¡«å……</a></p><p>Python æ¨¡å—ï¼š</p><p><a href="http://www.weixueyuan.net/a/633.html">Python pickle æ¨¡å—çš„ç”¨æ³•</a><br><a href="https://www.cnblogs.com/Yanjy-OnlyOne/p/11288098.html">sklearn çš„ train_test_split()å‡½æ•°å‚æ•°å«ä¹‰</a><br><a href="https://blog.csdn.net/Einstellung/article/details/90634159">imutils ç”¨æ³•</a><br><a href="https://zhuanlan.zhihu.com/p/56922793">argparse æ¨¡å—ç”¨æ³•å®ä¾‹è¯¦è§£</a><br><a href="https://blog.csdn.net/u012052268/article/details/77720645/">æ ‡ç­¾äºŒå€¼åŒ– LabelBinarizer</a><br><a href="https://blog.csdn.net/qq_41185868/article/details/79675875">CV2 åº“</a></p><p>å®é™…æ“ä½œï¼š</p><p><a href="https://www.cnblogs.com/thewaytotheway/p/12847260.html">ä½¿ç”¨ pip å®‰è£… Opencv</a><br><a href="https://www.cnblogs.com/Qi77/p/12514730.html">Python å®‰è£… gensim</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘ç«™æ¨è</title>
      <link href="/2023/09/05/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/"/>
      <url>/2023/09/05/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/%E7%BD%91%E7%AB%99%E6%8E%A8%E8%8D%90/</url>
      
        <content type="html"><![CDATA[<div class="flink"><div class="flink-name">æ¨èåšå®¢</div> <div class="flink-list"><div class="flexcard-flink-list">              <a href="https://blog.anheyu.com/" title="å®‰çŸ¥é±¼" target="_blank" class="flink-list-card cf-friends-link">                <div class="wrapper cover">                    <img class="no-lightbox cover fadeIn" src="https://npm.elemecdn.com/anzhiyu-theme-static@1.1.6/img/blog.anheyu.com.jpg" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="å®‰çŸ¥é±¼" />                </div>                <div class="info">                  <img class="no-lightbox cf-friends-avatar flink-avatar" src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="å®‰çŸ¥é±¼"/>                  <span class="flink-sitename cf-friends-name">å®‰çŸ¥é±¼</span>                </div>              </a>              <a href="https://brucecqm.github.io/bruceblogpages/" title="BruceBlog" target="_blank" class="flink-list-card cf-friends-link">                <div class="wrapper cover">                    <img class="no-lightbox cover fadeIn" src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20230925195944.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="BruceBlog" />                </div>                <div class="info">                  <img class="no-lightbox cf-friends-avatar flink-avatar" src="https://brucecqm.github.io/bruceblogpages/logo.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="BruceBlog"/>                  <span class="flink-sitename cf-friends-name">BruceBlog</span>                </div>              </a>              <a href="https://notes.fe-mm.com/" title="èŒ‚èŒ‚ç‰©è¯­" target="_blank" class="flink-list-card cf-friends-link">                <div class="wrapper cover">                    <img class="no-lightbox cover fadeIn" src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20230925200137.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="èŒ‚èŒ‚ç‰©è¯­" />                </div>                <div class="info">                  <img class="no-lightbox cf-friends-avatar flink-avatar" src="https://notes.fe-mm.com/logo.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="èŒ‚èŒ‚ç‰©è¯­"/>                  <span class="flink-sitename cf-friends-name">èŒ‚èŒ‚ç‰©è¯­</span>                </div>              </a></div></div><div class="flink-name">æ¨èé¡¹ç›®</div> <div class="flink-list"><div class="flexcard-flink-list">              <a href="https://www.bilibili.com/video/BV1go4y1M7Fa" title="æ ¡å›­è¯¾è¡¨å¾®ä¿¡å°ç¨‹åº" target="_blank" class="flink-list-card cf-friends-link">                <div class="wrapper cover">                    <img class="no-lightbox cover fadeIn" src="https://i0.hdslb.com/bfs/archive/4918a74b55f5f45274a6ae5d481d01b27f516a07.jpg" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="æ ¡å›­è¯¾è¡¨å¾®ä¿¡å°ç¨‹åº" />                </div>                <div class="info">                  <img class="no-lightbox cf-friends-avatar flink-avatar" src="undefined" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="æ ¡å›­è¯¾è¡¨å¾®ä¿¡å°ç¨‹åº"/>                  <span class="flink-sitename cf-friends-name">æ ¡å›­è¯¾è¡¨å¾®ä¿¡å°ç¨‹åº</span>                </div>              </a></div></div><div class="flink-name">PPT</div><div class="flink-desc">å€¼å¾—æ¨èçš„ç½‘ç«™</div> <div class="flink-list"><div class="anzhiyu-flink-list">            <div class="flink-list-item">              <a href="https://ishare.iask.sina.com.cn/" title="çˆ±é—®æ–‡åº“" class="cf-friends-link" target="_blank">                <div class="flink-item-icon">                  <img class="no-lightbox cf-friends-avatar" src="https://ishare.iask.sina.com.cn/images/index/logo.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="çˆ±é—®æ–‡åº“" />                </div>                <div class="flink-item-info">                  <div class="flink-item-name">çˆ±é—®æ–‡åº“</div>                  <div class="flink-item-desc" title="è§†é¢‘ç½‘ç«™">è§†é¢‘ç½‘ç«™</div>                </div>              </a>            </div>            <div class="flink-list-item">              <a href="https://gamma.app/" title="Gamma" class="cf-friends-link" target="_blank">                <div class="flink-item-icon">                  <img class="no-lightbox cf-friends-avatar" src="https://assets.website-files.com/62e823626cd4fdd0e5dc1527/62e823626cd4fdc26bdc1576_Gamma.svg" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Gamma" />                </div>                <div class="flink-item-info">                  <div class="flink-item-name">Gamma</div>                  <div class="flink-item-desc" title="è¿™æ˜¯ä¸€ä¸ªå…³äºAIç”ŸæˆPPTçš„ç½‘ç«™">è¿™æ˜¯ä¸€ä¸ªå…³äºAIç”ŸæˆPPTçš„ç½‘ç«™</div>                </div>              </a>            </div>            <div class="flink-list-item">              <a href="https://www.woodo.cn/" title="å¾çˆ±å¹»ç¯ç‰‡" class="cf-friends-link" target="_blank">                <div class="flink-item-icon">                  <img class="no-lightbox cf-friends-avatar" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDhweCIgaGVpZ2h0PSI0OHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+MTwvdGl0bGU+CiAgICA8ZyBpZD0i5o6n5Lu2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i5a+86Iiq5qCPIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjQwLjAwMDAwMCwgLTIwLjAwMDAwMCkiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSIxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNDAuMDAwMDAwLCAyMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMy42LDAgQzQxLjU1MjkwMDQsMCA0OCw2LjQ0NzA5OTYgNDgsMTQuNCBMNDgsMzMuNiBDNDgsNDEuNTUyOTAwNCA0MS41NTI5MDA0LDQ4IDMzLjYsNDggTDE0LjQsNDggQzYuNDQ3MDk5Niw0OCAwLDQxLjU1MjkwMDQgMCwzMy42IEwwLDE0LjQgQzAsNi40NDcwOTk2IDYuNDQ3MDk5NiwwIDE0LjQsMCBMMzMuNiwwIFoiIGlkPSLlvaLnirbnu5PlkIgtcGF0aCIgZmlsbD0iIzBEN0JGNiI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTMwLjc0OTQ1NzEsMTUuODQgTDI4LjI2MjQwMzMsMTUuODQgQzI4LjEyMTE5NDIsMTUuODQgMjcuOTgzMDE4LDE1Ljg2MTEwNjQgMjcuODUwODY4MywxNS45MDAyNzU3IEwyNy44NTA4NjgzLDE1LjkwMDI3NTcgTDI3LjgxMTgzMzgsMTUuOTEyMzMwOCBDMjcuMjk1MTMwNCwxNi4wMzI4ODIxIDI2Ljg2ODYyNzYsMTYuMzUyNDAyNCAyNi42MDcyODIzLDE2LjgxMzU0MDcgTDI2LjYwNzI4MjMsMTYuODEzNTQwNyBMMTguOTc3ODUxOCwzMC4wNzU2NDY3IEMxOC43MjI0OTM2LDMwLjUxNTcxODIgMTguNjUzNTYzMSwzMS4wMzExMjQ1IDE4Ljc4NTU1NTIsMzEuNTI1NDYzOSBDMTguOTE3ODYyNSwzMi4wMTk3MjQyIDE5LjIzMzE3MDUsMzIuNDMyNzIxMSAxOS42NzQ3OTg4LDMyLjY4ODg0MzMgQzIwLjU4NDgzOTYsMzMuMjEzMzQwMiAyMS43NTMzNTA0LDMyLjg5OTg2NzMgMjIuMjc4OTk1LDMxLjk4NjYwMjMgTDIyLjI3ODk5NSwzMS45ODY2MDIzIEwyOS42OTUxNzQxLDE5LjEwNzI5NjEgQzI5Ljc3NjMxNTIsMTguOTY1NjM4NCAyOS45Mjk0MTk4LDE4Ljg3ODIwOTEgMzAuMDkxNjIzMywxOC44OTAzMDM4IEMzMy4wMjAyNjU4LDE5LjA2ODEyNjggMzUuMzE1MTgwNSwyMS41MDk1NDc2IDM1LjMxNTE4MDUsMjQuNDUxMzE1NyBDMzUuMzE1MTgwNSwyNy40NzQ0NjU3IDMyLjkwMzA4MzksMjkuOTQzMDQwMyAyOS45MDg0NjQ5LDMwLjAyMTQxODQgTDI5LjkwODQ2NDksMzAuMDIxNDE4NCBMMjkuOTA4NDY0OSwzMC4wNDg0OTMgTDI5LjczNDIwODUsMzAuMDMwNDMwMSBMMjkuNjUzMTA2OCwzMC4wMzA0MzAxIEMyOS4wNTIzNDc1LDMwLjAzMDQzMDEgMjguNTU5NzEwNywzMC4zMDc3Mzc2IDI4LjMyODU3NjYsMzAuNzYyOTA3NyBDMjguMDUyMTA2LDMxLjMxNDQ3OTMgMjguMDYxMjA0OSwzMS45MDIyMTYzIDI4LjM1NTU1ODEsMzIuMzgxNDE3NyBDMjguNjQwOTY5OSwzMi44NDg2MDM0IDI5LjEzNjUyMTUsMzMuMTI1OTUwNCAyOS42ODYwNzUyLDMzLjEyMDA5MzggQzI5LjcwMTIwMDYsMzMuMTIwMDkzOCAyOS43MTYxNjg0LDMzLjEyMDA5MzggMjkuNzM0MjA4NSwzMy4xMTY4NTk3IEwyOS43MzQyMDg1LDMzLjExNjg1OTcgTDI5LjkwODQ2NDksMzMuMDg5Nzg1MSBMMjkuOTA4NDY0OSwzMy4xMjAwOTM4IEMzNC42MDMyMjY0LDMzLjAzODUyMTEgMzguNCwyOS4xODA0NDQ1IDM4LjQsMjQuNDUxMzE1NyBDMzguNCwyMi4zODM2NDM0IDM3LjY1ODAzMTYsMjAuMzc5MjUwNyAzNi4zMDkzOTU0LDE4LjgwNTg3ODMgQzM1LjU5NDU2NTksMTcuOTcwOTUxOCAzNC43NDE0MDI2LDE3LjI5Mjc4MTYgMzMuNzk4MzUzOSwxNi43ODk0MzA0IEMzMi44NTgwNjI0LDE2LjI4NjA3OTQgMzEuODI3ODg1NCwxNS45NjM1NTUyIDMwLjc0OTQ1NzEsMTUuODQgTDMwLjc0OTQ1NzEsMTUuODQgWiIgaWQ9IuW9oueKtue7k+WQiC1wYXRoIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjAuMjQyOTY4LDE0Ljg4IEMxOS42MDgzOTM4LDE0Ljg4IDE4Ljk4ODI1OSwxNS4yMjc0NTQ2IDE4LjY0OTIzNjksMTUuODQ5MTQ4MSBMMTguNjQ5MjM2OSwxNS44NDkxNDgxIEwxMS4yODYxMjQ4LDI5LjI1ODg0MDQgQzEwLjc3OTAzNTQsMzAuMTgyMjY4NiAxMS4wODA0MDExLDMxLjM2Nzc4NjUgMTEuOTYxMzE5MiwzMS45MDExMTc3IEMxMi44MzkzODc1LDMyLjQzNDQ4ODkgMTMuOTY2NDk3NiwzMi4xMTc0ODc1IDE0LjQ3MzYyNDksMzEuMTkxMDYxOSBMMTQuNDczNjI0OSwzMS4xOTEwNjE5IEwyMS44MzM3MzUxLDE3Ljc4MTM2OTYgQzIyLjM0MDgyNDUsMTYuODU3OTQxMyAyMi4wMzk2MTA4LDE1LjY3MjM4MzUgMjEuMTYxNTQyNSwxNS4xMzkwNTIzIEMyMC44NzE3NjYzLDE0Ljk2NTM2NSAyMC41NTU5NjEyLDE0Ljg4IDIwLjI0Mjk2OCwxNC44OCBaIiBpZD0i5b2i54q257uT5ZCILXBhdGgiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi41NTYxODU2LDE1LjM2MTU2MTggQzExLjkyMTIxNzUsMTUuMzM4NDM1NiAxMS4zMDM2NjM0LDE1LjU3Mjk2MzMgMTAuODM2NzUyNywxNi4wMTAyMzQ0IEMxMC4zNjk5NTYxLDE2LjQ1MDM5MTYgMTAuMTAwMjY1NywxNy4wNDQwNzc4IDEwLjA4LDE3LjY4NDA1NDQgQzEwLjA4MzAwMzcsMTcuNzI0NjEwNiAxMC4wODU4MTc0LDE3Ljc0MTk2NDggMTAuMDg1ODE3NCwxNy43NTkzNTY5IEwxMC4wODU4MTc0LDE3Ljc1OTM1NjkgTDEwLjA4LDIwLjEzOTcyMTkgTDEyLjI4NjQ5NTIsMjAuMTM5NzIxOSBDMTIuMzIxMzIzNCwyMC4xNDI2MDc5IDEyLjM0MTcwMzMsMjAuMTQ1NDkzOSAxMi4zNjE5NjksMjAuMTUxMzAzOSBMMTIuMzYxOTY5LDIwLjE1MTMwMzkgTDEyLjQwNTQyODIsMjAuMTU3MTE0IEMxMi40MzcyOTA3LDIwLjE1NzExNCAxMi40NjkyNjcyLDIwLjE2IDEyLjUwMTEyOTcsMjAuMTYgQzEzLjEwNDIzNTMsMjAuMTYgMTMuNjc4MzMwMiwxOS45MjI1MTAzIDE0LjEyNDg2MTEsMTkuNTA4NDQxMyBDMTQuNTkxNjU3NywxOS4wNjgyNDYyIDE0Ljg1ODM4MjMsMTguNDc0NTk4IDE0Ljg3ODc2MjEsMTcuODM0NjIxNCBDMTQuODk5MDI3OSwxNy4xOTQ2NDQ5IDE0LjY2OTk0NTEsMTYuNTgzNjA0NSAxNC4yMjkyMzE2LDE2LjExNzQzNTIgQzEzLjc5MTQ0NTgsMTUuNjUxMTUxOSAxMy4xOTY5NzExLDE1LjM4MTg3NzkgMTIuNTU2MTg1NiwxNS4zNjE1NjE4IFoiIGlkPSLlvaLnirbnu5PlkIgtcGF0aCIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="å¾çˆ±å¹»ç¯ç‰‡" />                </div>                <div class="flink-item-info">                  <div class="flink-item-name">å¾çˆ±å¹»ç¯ç‰‡</div>                  <div class="flink-item-desc" title="å¹»ç¯ç‰‡">å¹»ç¯ç‰‡</div>                </div>              </a>            </div>            <div class="flink-list-item">              <a href="https://www.51pptmoban.com/" title="51PPTæ¨¡æ¿" class="cf-friends-link" target="_blank">                <div class="flink-item-icon">                  <img class="no-lightbox cf-friends-avatar" src="https://www.51pptmoban.com/images/logo.gif" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="51PPTæ¨¡æ¿" />                </div>                <div class="flink-item-info">                  <div class="flink-item-name">51PPTæ¨¡æ¿</div>                  <div class="flink-item-desc" title="è¿™æ˜¯ä¸€ä¸ªå…³äºPPTçš„ç½‘ç«™">è¿™æ˜¯ä¸€ä¸ªå…³äºPPTçš„ç½‘ç«™</div>                </div>              </a>            </div></div></div></div><h2 id="æ¨è"><a href="#æ¨è" class="headerlink" title="æ¨è"></a>æ¨è</h2><ul><li><a href="https://panjiachen.github.io/awesome-bookmarks/">panjiachen (opens new window)</a>by èŠ±è£¤è¡©</li><li><a href="https://www.code-nav.cn/">ç¼–ç¨‹å¯¼èˆª (opens new window)</a>by ç¨‹åºå‘˜é±¼çš®</li><li><a href="https://r2coding.com/">ç¼–ç¨‹è‡ªå­¦ä¹‹è·¯ (opens new window)</a>by ç¨‹åºç¾Š</li><li><a href="https://gitee.com/jishupang/web_atlas">å‰ç«¯çŸ¥è¯†å›¾è°±+Bç«™èµ„æºæ•´åˆ (opens new window)</a>by æŠ€æœ¯èƒ–</li><li><a href="https://shengxinjing.cn/">å¤§åœ£ç¼–ç¨‹è‡ªå­¦ç½‘ (opens new window)</a>by å¤§åœ£</li><li><a href="https://devtool.tech/">å¼€å‘è€…æ­¦å™¨åº“(opens new window)</a></li><li><a href="https://www.fly63.com/tool/home.html">å·¥å…·å¤§å…¨(opens new window)</a></li></ul><h2 id="åœ¨çº¿ç»˜å›¾"><a href="#åœ¨çº¿ç»˜å›¾" class="headerlink" title="åœ¨çº¿ç»˜å›¾"></a>åœ¨çº¿ç»˜å›¾</h2><ul><li><a href="https://www.iodraw.com/">https://www.iodraw.com(opens new window)</a></li><li><a href="https://excalidraw.com/">https://excalidraw.com(opens new window)</a></li><li><a href="https://www.processon.com/">https://www.processon.com(opens new window)</a></li><li><a href="https://naotu.baidu.com/">https://naotu.baidu.com/(opens new window)</a></li></ul><p><code>iodraw</code> å…¨å…è´¹åœ¨çº¿ç”»å›¾ï¼Œæ— éœ€æ³¨å†Œï¼Œæ— æ–‡ä»¶é™åˆ¶ï¼Œæ”¯æŒæµç¨‹å›¾ã€æ€ç»´å¯¼å›¾ã€ç”˜ç‰¹å›¾ã€æ‹“æ‰‘å›¾ã€æ—¶åºå›¾ã€åŸå‹å›¾ã€UMLã€å¹³é¢è®¾è®¡å›¾ã€ç”µè·¯å›¾ç­‰ã€‚</p><h2 id="å›¾ç‰‡èƒŒæ™¯æ¶ˆé™¤"><a href="#å›¾ç‰‡èƒŒæ™¯æ¶ˆé™¤" class="headerlink" title="å›¾ç‰‡èƒŒæ™¯æ¶ˆé™¤"></a>å›¾ç‰‡èƒŒæ™¯æ¶ˆé™¤</h2><p>é“¾æ¥ï¼š<a href="https://www.remove.bg/zh">https://www.remove.bg/zh(opens new window)</a></p><p>åœ¨çº¿æŠ å›¾ï¼Œ<code>100%</code> å…¨è‡ªåŠ¨æ¶ˆé™¤å›¾ç‰‡èƒŒæ™¯ä¸”å…è´¹ã€‚</p><h2 id="æ–‡æ¡£"><a href="#æ–‡æ¡£" class="headerlink" title="æ–‡æ¡£"></a>æ–‡æ¡£</h2><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web">MDN (opens new window)</a>| <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects">MDN-JSæ ‡å‡†å†…ç½®å¯¹è±¡ (opens new window)</a>WebæŠ€æœ¯æƒå¨æ–‡æ¡£</li><li><a href="https://devdocs.io/">DevDocs (opens new window)</a>Web å¼€å‘æŠ€æœ¯æ–‡æ¡£ï¼Œéå¸¸ä¸é”™çš„å­¦ä¹ æ‰‹å†Œï¼</li><li><a href="https://zh.javascript.info/">ç°ä»£JavaScriptæ•™ç¨‹ (opens new window)</a>ä»¥æœ€æ–°æ ‡å‡†ä¸ºåŸºå‡†çš„JSæ•™ç¨‹</li><li><a href="https://wangdoc.com/javascript/">ES5æ•™ç¨‹ (opens new window)</a>é˜®ä¸€å³°çš„JSæ•™ç¨‹</li><li><a href="http://es6.ruanyifeng.com/">ES6æ•™ç¨‹ (opens new window)</a>é˜®ä¸€å³°çš„ES6æ•™ç¨‹</li><li><a href="https://wangdoc.com/bash/">Bash è„šæœ¬æ•™ç¨‹ (opens new window)</a>é˜®ä¸€å³°ç¼–å†™</li><li><a href="https://www.ecma-international.org/">ECMA (opens new window)</a>ECMAå®˜ç½‘</li><li><a href="https://www.runoob.com/">èœé¸Ÿæ•™ç¨‹ (opens new window)</a>æ¶µç›–å¤šç§è¯­è¨€çš„åˆçº§æ•™ç¨‹</li><li><a href="https://cloud.tencent.com/developer/devdocs">è…¾è®¯äº‘å¼€å‘è€…æ‰‹å†Œ(opens new window)</a></li></ul><h2 id="ç¤¾åŒº"><a href="#ç¤¾åŒº" class="headerlink" title="ç¤¾åŒº"></a>ç¤¾åŒº</h2><ul><li><a href="https://github.com/">Github (opens new window)</a>ç¨‹åºå‘˜åŒæ€§äº¤å‹ç¤¾åŒº</li><li><a href="https://juejin.im/">æ˜é‡‘ (opens new window)</a>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</li><li><a href="https://www.jianshu.com/">ç®€ä¹¦ (opens new window)</a>æœ‰å¾ˆå¤šé¢‘é“çš„åˆ›ä½œç¤¾åŒº</li><li><a href="https://segmentfault.com/">æ€å¦ (opens new window)</a>è§£å†³æŠ€æœ¯é—®é¢˜çš„ç¤¾åŒº</li><li><a href="https://stackoverflow.com/">stack overflow (opens new window)</a>åŒä¸Šï¼Œå¤–ç½‘çš„</li><li><a href="https://www.infoq.cn/topic/Front-end">InfoQ (opens new window)</a>ä¿ƒè¿›è½¯ä»¶å¼€å‘åŠç›¸å…³é¢†åŸŸçŸ¥è¯†ä¸åˆ›æ–°çš„ä¼ æ’­</li><li><a href="https://www.v2ex.com/">V2EX (opens new window)</a>åˆ›æ„å·¥ä½œè€…ä»¬çš„ç¤¾åŒº</li><li><a href="https://mo.fish/">é±¼å¡˜çƒ­æ¦œ (opens new window)</a>åˆ’æ°´ç½‘ç«™ï¼Œæ”¶é›†äº†å¾ˆå¤šç½‘ç«™ï¼Œå½“å¤©çƒ­é—¨æ–‡ç« </li><li><a href="https://maliquankai.com/designnav/">ç åŠ›å…¨å¼€èµ„æºåº“ (opens new window)</a>å¾ˆå…¨å¾ˆå¼ºå¤§ï¼Œç‹¬ç«‹å¼€å‘è€…&#x2F;è®¾è®¡å¹²è´§&#x2F;ä¼˜è´¨åˆ©å™¨&#x2F;å·¥å…·èµ„æºâ€¦</li></ul><h3 id="ç¤¾åŒºäº’åŠ¨"><a href="#ç¤¾åŒºäº’åŠ¨" class="headerlink" title="ç¤¾åŒºäº’åŠ¨"></a>ç¤¾åŒºäº’åŠ¨</h3><ul><li><a href="https://gitter.im/home/explore">gitter(opens new window)</a></li><li><a href="https://txc.qq.com/">å…”å°å·¢(opens new window)</a></li></ul><h2 id="æŠ€å·§"><a href="#æŠ€å·§" class="headerlink" title="æŠ€å·§"></a>æŠ€å·§</h2><ul><li><a href="https://trends.google.com/trends">Google è¶‹åŠ¿ (opens new window)</a>æŸ¥çœ‹æŸé¡¹æŠ€æœ¯æˆ–å…³é”®å­—çš„çƒ­åº¦è¶‹åŠ¿ï¼Œå¯ç”¨äºåˆ†ææŸé¡¹æŠ€æœ¯çš„å‘å±•å‰æ™¯ï¼Œæˆ–å¯¹æ¯”æŸä¸¤é¡¹æŠ€æœ¯çš„çƒ­åº¦ã€‚</li><li><a href="https://index.baidu.com/v2/index.html#/">ç™¾åº¦æŒ‡æ•° (opens new window)</a>åŒä¸Šï¼Œä½†ç™¾åº¦çš„æ•°æ®ä»…é™å›½å†…ã€‚</li></ul><h2 id="åšå®¢"><a href="#åšå®¢" class="headerlink" title="åšå®¢"></a>åšå®¢</h2><ul><li><a href="http://www.ruanyifeng.com/blog/">é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—(opens new window)</a></li><li><a href="https://www.samanthaming.com/">samanthaming (opens new window)</a>å¯¹å‰ç«¯å°çŸ¥è¯†ç‚¹çš„æ€»ç»“ï¼Œå¹¶ä¸ºæ¯ä¸ªçŸ¥è¯†ç‚¹åˆ¶ä½œç²¾ç¾çš„å°å¡ç‰‡ã€‚</li></ul><h2 id="ç”µå­ä¹¦"><a href="#ç”µå­ä¹¦" class="headerlink" title="ç”µå­ä¹¦"></a>ç”µå­ä¹¦</h2><ul><li><a href="https://ebook.hep.com.cn/ebooks/h5/index.html">é«˜æ•™ä¹¦è‹‘ (opens new window)</a>é«˜ç­‰æ•™è‚²å‡ºç‰ˆç¤¾çš„ä¹¦ç±ï¼ŒåŒ…å«å¤šç§å­¦ç§‘ã€‚</li><li><a href="https://sobooks.cc/">SoBooks (opens new window)</a>å…è´¹çš„ç”µå­ä¹¦èµ„æºç½‘ç«™</li><li><a href="https://www.shidianguji.com/">è¯†å…¸å¤ç± (opens new window)</a>å¤ç±æ•°å­—åŒ–å¹³å°</li></ul><h2 id="ä¼˜ç§€æ–‡ç« "><a href="#ä¼˜ç§€æ–‡ç« " class="headerlink" title="ä¼˜ç§€æ–‡ç« "></a>ä¼˜ç§€æ–‡ç« </h2><ul><li><a href="https://coolshell.cn/articles/21672.html">æˆ‘åšç³»ç»Ÿæ¶æ„çš„ä¸€äº›åŸåˆ™ (opens new window)</a>ä½œè€…å¯¹ç³»ç»Ÿæ¶æ„çš„æ–¹æ³•è®ºæ€»ç»“</li><li><a href="https://juejin.im/post/5d4d0ec651882549594e7293">çµæ´»è¿ç”¨CSSå¼€å‘æŠ€å·§(opens new window)</a></li><li><a href="https://ishadeed.com/article/defensive-css/">é˜²å¾¡æ€§CSS(opens new window)</a></li></ul><h2 id="è§†é¢‘"><a href="#è§†é¢‘" class="headerlink" title="è§†é¢‘"></a>è§†é¢‘</h2><ul><li><a href="https://www.bilibili.com/">bilibili (opens new window)</a>Bç«™ï¼Œä¸Šé¢å¾ˆå¤šå…è´¹æ•™å­¦è§†é¢‘</li><li><a href="https://www.imooc.com/">æ…•è¯¾ç½‘ (opens new window)</a>å®æˆ˜è§†é¢‘æ•™ç¨‹</li><li><a href="https://www.miaov.com/">å¦™å‘³è¯¾å ‚ (opens new window)</a>æ¯”è¾ƒç³»ç»Ÿçš„å‰ç«¯å…¥é—¨è§†é¢‘æ•™ç¨‹</li><li><a href="https://www.icourse163.org/">ä¸­å›½å¤§å­¦MOOC (opens new window)</a>æ¶µç›–è®¡ç®—æœºã€å¤–è¯­ã€å¿ƒç†å­¦ç­‰ä¸“ä¸šå…è´¹è¯¾ç¨‹</li><li><a href="http://le.ouchn.cn/">ç»ˆèº«æ•™è‚²å¹³å° (opens new window)</a>æ¶µç›–ç”Ÿæ´»ã€å…´è¶£ã€èŒåœºã€æŠ€èƒ½ã€è€å¹´ã€å­¦å†ç­‰å…è´¹è¯¾ç¨‹</li><li><a href="http://egghead.io/">egghead (opens new window)</a>è´¨é‡è¿˜ä¸é”™çš„çŸ­è§†é¢‘æ•™ç¨‹ï¼Œå¤–ç½‘</li></ul><h2 id="Github"><a href="#Github" class="headerlink" title="Github"></a>Github</h2><ul><li><p><a href="https://repobeats.axiom.co/">Repobeats (opens new window)</a>ç”Ÿæˆä»“åº“çš„åŠ¨æ€æ•°æ®ç»Ÿè®¡å›¾</p></li><li><p><a href="https://git.io/">github çŸ­åŸŸåæœåŠ¡(opens new window)</a></p></li><li><p><a href="https://shields.io/">shields (opens new window)</a>å¾½ç« å›¾æ ‡</p></li><li><p><a href="https://wangchujiang.com/github-rank/index.html">followers å…¨çƒæ’å(opens new window)</a></p></li><li><p><a href="https://star-history.t9t.io/">star-history (opens new window)</a>å±•ç¤ºä¸€ä¸ªé¡¹ç›® Stars å¢é•¿æ›²çº¿</p></li></ul><h2 id="è¯„è®ºç³»ç»Ÿ"><a href="#è¯„è®ºç³»ç»Ÿ" class="headerlink" title="è¯„è®ºç³»ç»Ÿ"></a>è¯„è®ºç³»ç»Ÿ</h2><ul><li><a href="https://giscus.app/zh-CN">giscus (opens new window)</a>ç”± <a href="https://docs.github.com/en/discussions">GitHub Discussions (opens new window)</a>é©±åŠ¨çš„è¯„è®ºç³»ç»Ÿ</li></ul><h2 id="å‰ç«¯å°å·¥å…·"><a href="#å‰ç«¯å°å·¥å…·" class="headerlink" title="å‰ç«¯å°å·¥å…·"></a>å‰ç«¯å°å·¥å…·</h2><ul><li><a href="https://caniuse.com/">Can I use (opens new window)</a>æŸ¥çœ‹å±æ€§å’Œæ–¹æ³•çš„å…¼å®¹æ€§</li><li><a href="https://30secondsofcode.org/">30 seconds of code (opens new window)</a>æ”¶é›†äº†è®¸å¤šæœ‰ç”¨çš„ä»£ç å°ç‰‡æ®µ</li></ul><h2 id="ä»£ç ç¼–è¾‘"><a href="#ä»£ç ç¼–è¾‘" class="headerlink" title="ä»£ç ç¼–è¾‘"></a>ä»£ç ç¼–è¾‘</h2><ul><li><a href="https://codepen.io/">codepen (opens new window)</a>åœ¨çº¿ä»£ç ç¼–è¾‘ä¸æ¼”ç¤º</li><li><a href="https://codesandbox.io/">codesandbox (opens new window)</a>å†…åµŒVSCodeçš„åœ¨çº¿IDE</li></ul><h2 id="Emojiè¡¨æƒ…"><a href="#Emojiè¡¨æƒ…" class="headerlink" title="Emojiè¡¨æƒ…"></a>Emojiè¡¨æƒ…</h2><ul><li><a href="https://emojipedia.org/">emojiè¡¨æƒ…(opens new window)</a></li><li><a href="https://www.webfx.com/tools/emoji-cheat-sheet">emojiè¡¨æƒ…å¤‡å¿˜å½•(opens new window)</a></li><li><a href="https://translate.yandex.com/?lang=zh-emj">æ ¹æ®æ–‡æœ¬åŒ¹é…emoji(opens new window)</a></li><li><a href="https://github.com/carloscuesta/gitmoji">gitmoji (opens new window)</a>é€šè¿‡ emoji è¡¨è¾¾ git çš„æ“ä½œå†…å®¹</li></ul><blockquote><p>åœ¨ä»»æ„è¾“å…¥æ¡†å¿«é€Ÿæ‰“å¼€emojiè¡¨æƒ…æ–¹æ³•ï¼š<br>Windowsç³»ç»Ÿä¸‹æŒ‰Win + .<br>Macç³»ç»Ÿä¸‹æŒ‰Control + Command + ç©ºæ ¼</p></blockquote><h2 id="å›¾ç‰‡å·¥å…·"><a href="#å›¾ç‰‡å·¥å…·" class="headerlink" title="å›¾ç‰‡å·¥å…·"></a>å›¾ç‰‡å·¥å…·</h2><ul><li><a href="https://tinypng.com/">tinypngå›¾ç‰‡å‹ç¼© (opens new window)</a>å‹ç¼©pngå¾ˆæœ‰ç”¨</li><li><a href="https://devtool.tech/tiny-image">å¾®å›¾ (opens new window)</a>æµè§ˆå™¨ç«¯å›¾ç‰‡å‹ç¼©ï¼Œä¸ä¼šä¸Šä¼ å›¾ç‰‡åˆ°æœåŠ¡å™¨</li><li><a href="https://squoosh.app/">Squoosh (opens new window)</a>è°·æ­Œå‡ºå“åœ¨çº¿å…è´¹å›¾ç‰‡å‹ç¼©å·¥å…·ï¼ˆjpgã€pngç­‰,å‹ç¼©æ•ˆæœæ¯”tinypngç¨å¥½ï¼‰</li><li><a href="http://waifu2x.udp.jp/">waifu2x (opens new window)</a>é€šè¿‡å·ç§¯ç½‘ç»œæ”¾å¤§å›¾ç‰‡</li><li><a href="https://vectormagic.com/">vectormagic (opens new window)</a>è½¬æ¢çŸ¢é‡å›¾</li><li><a href="https://www.vectorizer.io/">vectorizer (opens new window)</a>çœŸæ­£çš„ png è½¬ svg ç¥å™¨</li><li><a href="https://photo.opencool.cn/">åœ¨çº¿AIå›¾ç‰‡å¤„ç† (opens new window)</a>é»‘ç™½ä¿®å¤ã€æ— æŸæ”¾å¤§ã€åŠ¨æ¼«åŒ–ã€é“…ç¬”ç”»ç­‰ã€‚</li><li><a href="https://www.remove.bg/zh">remove (opens new window)</a>AIæŠ å›¾ï¼ˆæŠ èƒŒæ™¯ï¼‰</li><li><a href="https://www.magiceraser.io/">magic eraser (opens new window)</a>AIæŠ å›¾ï¼ˆæŠ å‰æ™¯ï¼‰</li><li><a href="https://github.com/nadermx/backgroundremover">backgroundremover (opens new window)</a>åˆä¸€ä¸ªæŠ å›¾çš„</li></ul><h2 id="èƒŒæ™¯æ¸å˜è‰²"><a href="#èƒŒæ™¯æ¸å˜è‰²" class="headerlink" title="èƒŒæ™¯æ¸å˜è‰²"></a>èƒŒæ™¯æ¸å˜è‰²</h2><p>é“¾æ¥ï¼š</p><ul><li><a href="http://color.oulu.me/">http://color.oulu.me(opens new window)</a></li><li><a href="https://uigradients.com/">https://uigradients.com(opens new window)</a></li><li><a href="https://webgradients.com/">https://webgradients.com(opens new window)</a></li><li><a href="http://zhongguose.com/">http://zhongguose.com(opens new window)</a></li></ul><p>å…è´¹çš„çº¿æ€§æ¸å˜ç½‘ç«™ï¼Œå¯åœ¨ä»»ä½•ç½‘ç«™ä½¿ç”¨æ‚¨ä¸ä»…å¯ä»¥å¤åˆ¶æ¸å˜çš„åŸç”Ÿ<code>CSS</code>é¢œè‰²ä»£ç ï¼Œè¿˜å¯ä»¥æŸ¥çœ‹ä¸‹è½½æ¯ä¸ªä¼˜è´¨çš„æ¸å˜å›¾ç‰‡ã€‚</p><h2 id="SVG"><a href="#SVG" class="headerlink" title="SVG"></a>SVG</h2><ul><li><a href="https://e2.cool/">svgç¼–è¾‘å™¨-E2.Cool(opens new window)</a></li><li><a href="https://x.ipaiban.com/login">svgç¼–è¾‘å™¨-iæ’ç‰ˆ(opens new window)</a></li></ul><h2 id="éŸ³è§†é¢‘å·¥å…·"><a href="#éŸ³è§†é¢‘å·¥å…·" class="headerlink" title="éŸ³è§†é¢‘å·¥å…·"></a>éŸ³è§†é¢‘å·¥å…·</h2><ul><li><a href="https://app.xunjieshipin.com/video-converter/">è¿…æ·è§†é¢‘è½¬æ¢å™¨ (opens new window)</a>åœ¨çº¿è½¬æ¢å„ç§è§†é¢‘æ ¼å¼</li><li><a href="https://app.xunjieshipin.com/video-converter/">è¿…æ·éŸ³é¢‘è½¬æ¢å™¨ (opens new window)</a>åœ¨çº¿è½¬æ¢å„ç§éŸ³é¢‘æ ¼å¼</li><li><a href="https://mp3cut.net/cn/">ä¿®å‰ªéŸ³é¢‘ (opens new window)</a>åœ¨çº¿ä¿®å‰ªæˆ–å‰ªåˆ‡ä»»ä½•éŸ³é¢‘æ–‡ä»¶</li></ul><h2 id="æ€ç»´å¯¼å›¾"><a href="#æ€ç»´å¯¼å›¾" class="headerlink" title="æ€ç»´å¯¼å›¾"></a>æ€ç»´å¯¼å›¾</h2><ul><li><a href="https://www.processon.com/">processonåœ¨çº¿ä½œå›¾ (opens new window)</a>æµç¨‹å›¾ã€æ€ç»´å¯¼å›¾ã€åŸå‹å›¾ç­‰</li><li><a href="https://naotu.baidu.com/">ç™¾åº¦è„‘å›¾ (opens new window)</a>æ€ç»´å¯¼å›¾</li><li><a href="https://docs.wmhello.cn/pages/beb6c0bd8a66cea6/plectica.com">plectica</a> ç»˜åˆ¶çŸ¥è¯†å›¾è°±</li></ul><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><ul><li><p><a href="https://juejin.cn/post/7030572979868139551?utm_source=gold_browser_extension">å„ç§CSSç”Ÿæˆå™¨å’ŒJSä»£ç ç‰‡æ®µ(opens new window)</a></p></li><li><p><a href="http://css-tricks.neatbang.com/">CSS Tricks (opens new window)</a>CSSæŠ€å·§æ”¶é›†ä¸æ¼”ç¤º</p></li><li><p><a href="https://neumorphism.io/">CSSç”Ÿæˆå™¨(opens new window)</a></p></li><li><p><a href="https://www.colorzilla.com/gradient-editor/">CSSæ¸å˜ç”Ÿæˆå™¨(opens new window)</a></p></li><li><p><a href="https://www.html.cn/tool/css3Preview/Box-Shadow.html">CSS3-Box Shadow(é˜´å½±)(opens new window)</a></p></li><li><p><a href="https://cubic-bezier.com/">è´å¡å°”æ›²çº¿ç”Ÿæˆå™¨ (opens new window)</a></p></li><li><p><a href="http://www.heropatterns.com/">èŠ±çº¹èƒŒæ™¯ç”Ÿæˆå™¨(opens new window)</a></p></li><li><p><a href="https://github.com/bansal-io/pattern.css">èŠ±çº¹èƒŒæ™¯-pattern.css(opens new window)</a></p></li><li><p><a href="https://bennettfeely.com/ztext/">3Då­—ä½“(opens new window)</a></p></li><li><p><a href="https://css-tricks.com/">css-tricks (opens new window)</a>cssæŠ€å·§æ–‡ç« </p></li><li><p><a href="https://lhammer.cn/You-need-to-know-css/#/zh-cn/">You-need-to-know-css (opens new window)</a>CSSçš„å„ç§DEMOï¼Œå¾ˆå…¨</p></li><li><p><a href="https://animista.net/">animista (opens new window)</a>CSSåŠ¨ç”»å¯è§†åŒ–å·¥å…·ï¼Œå¤åˆ¶ä»£ç å°±èƒ½ç”¨</p></li><li><p><a href="http://navnav.co/">navnav (opens new window)</a>å„ç§ç‚«é…·çš„CSSåŠ¨ç”»ç»„ä»¶</p></li></ul><h2 id="CDNåŠ é€Ÿ"><a href="#CDNåŠ é€Ÿ" class="headerlink" title="CDNåŠ é€Ÿ"></a>CDNåŠ é€Ÿ</h2><ul><li><a href="http://www.jsdelivr.com/">jsDelivr (opens new window)</a>å›½å¤–çš„ä¸€å®¶ä¼˜ç§€çš„å…¬å…± CDN æœåŠ¡æä¾›å•†</li><li><a href="https://unpkg.com/">unpkg (opens new window)</a>cdn æœåŠ¡</li></ul><h2 id="åœ¨çº¿çš„æ–‡æœ¬æ¯”è¾ƒ"><a href="#åœ¨çº¿çš„æ–‡æœ¬æ¯”è¾ƒ" class="headerlink" title="åœ¨çº¿çš„æ–‡æœ¬æ¯”è¾ƒ"></a>åœ¨çº¿çš„æ–‡æœ¬æ¯”è¾ƒ</h2><p>é“¾æ¥ï¼š<a href="https://www.jq22.com/textDifference">https://www.jq22.com/textDifference(opens new window)</a></p><p>å…¶ä»–æ–‡ä»¶å¯¹æ¯”å·¥å…·ï¼š<code>WinMerge</code>ã€<code>Diffuse</code>ã€<code>Beyond Compare</code>ã€<code>Altova DiffDog</code>ã€<code>AptDiff</code>ã€<code>Code Compare</code>ç­‰ã€‚</p><h2 id="NB-Map"><a href="#NB-Map" class="headerlink" title="NB Map"></a>NB Map</h2><p>é“¾æ¥ï¼š<a href="https://nbcharts.com/map/map.php">https://nbcharts.com/map/map.php(opens new window)</a></p><p>NB Map æ˜¯ç°è‰²æ‰§ç…§å¼€å‘çš„ä¸€æ¬¾ä¸‰ç»´åœ°å›¾çš„å·¥å…·ï¼Œå¯ä»¥éšæ„è°ƒèŠ‚åœ°å›¾é¢œè‰²ã€æ¿å—é«˜åº¦ã€æ—‹è½¬ä¸åŒçš„è§’åº¦è°ƒæ•´æˆä½ éœ€è¦çš„åœ°å›¾åï¼Œå¯ä»¥ä¸‹è½½é€æ˜èƒŒæ™¯çš„ PNG æ ¼å¼ã€‚</p><h2 id="å¼€å‘è€…è—ç»é˜"><a href="#å¼€å‘è€…è—ç»é˜" class="headerlink" title="å¼€å‘è€…è—ç»é˜"></a>å¼€å‘è€…è—ç»é˜</h2><p>é“¾æ¥ï¼š<a href="https://developer.aliyun.com/ebook/">https://developer.aliyun.com/ebook/(opens new window)</a></p><p>é˜¿é‡Œå·´å·´æŠ€æœ¯å®è·µç²¾åï¼Œæ¶µç›–äº‘åŸç”Ÿã€ç‰©è”ç½‘ã€å¤§æ•°æ®ã€AI ç­‰æŠ€æœ¯é¢†åŸŸã€‚</p><h2 id="Chrome-æ’ä»¶ä¸‹è½½"><a href="#Chrome-æ’ä»¶ä¸‹è½½" class="headerlink" title="Chrome æ’ä»¶ä¸‹è½½"></a>Chrome æ’ä»¶ä¸‹è½½</h2><p><a href="https://crxdl.com/">æ’ä»¶</a></p><h2 id="pdfæ–‡ä»¶è½¬ä¸ºmdæ–‡ä»¶"><a href="#pdfæ–‡ä»¶è½¬ä¸ºmdæ–‡ä»¶" class="headerlink" title="pdfæ–‡ä»¶è½¬ä¸ºmdæ–‡ä»¶"></a>pdfæ–‡ä»¶è½¬ä¸ºmdæ–‡ä»¶</h2><p>å°†PDFæ–‡ä»¶æ‹–åˆ°é¡µé¢å³å¯</p><p><a href="https://pdf2md.morethan.io/">PDF To MarkDown Converter Tool</a></p><p><a href="https://smallpdf.com/cn/pdf-to-word">PDF è½¬ Wordï¼ŒExcelï¼ŒPPTï¼ŒJPG çš„ç½‘å€</a></p><p><a href="https://pdf2md.morethan.io/">PDF è½¬ Markdown çš„ç½‘å€</a></p><p><a href="https://www.pdftohtml.net/">PDF è½¬ HTML çš„ç½‘å€</a></p><p><a href="https://www.cleverpdf.com/cn/downToWord">Wordï¼ŒExcelï¼ŒPPTï¼ŒJPG è½¬ PDF çš„ç½‘å€</a></p><p><a href="http://open.rongcard.com/md2pdf">Markdown è½¬ PDF çš„ç½‘å€</a></p><p><a href="https://www.htm2pdf.co.uk/">HTML è½¬ PDF çš„ç½‘å€ï¼š</a></p><p><a href="http://coolaf.com/tool/md">Markdown ä¸ HTMLï¼ŒPDFï¼ŒDoc äº’è½¬ çš„ç½‘å€ï¼š</a></p><p><a href="http://www.bejson.com/convert/html2markdown/">HTML ä¸ Markdown äº’è½¬ çš„ç½‘å€</a></p><h2 id="ç½‘ç«™æ‰˜ç®¡"><a href="#ç½‘ç«™æ‰˜ç®¡" class="headerlink" title="ç½‘ç«™æ‰˜ç®¡"></a>ç½‘ç«™æ‰˜ç®¡</h2><ul><li><a href="https://vercel.com/">vercel (opens new window)</a>å¥½ç”¨çš„ç½‘ç«™æ‰˜ç®¡æœåŠ¡</li></ul><h2 id="æ­£åˆ™"><a href="#æ­£åˆ™" class="headerlink" title="æ­£åˆ™"></a>æ­£åˆ™</h2><ul><li><a href="https://regex101.com/">æ­£åˆ™å¯è§†åŒ–(opens new window)</a></li><li><a href="https://ihateregex.io/">iHateRegex (opens new window)</a>æ­£åˆ™æœç´¢ï¼Œç»†èŠ‚åšå¾—å¾ˆå¥½</li><li><a href="https://github.com/qdlaoyao/js-regex-mini-book">æ­£åˆ™è¿·ä½ ä¹¦ (opens new window)</a>å­¦ä¹ æ­£åˆ™çš„å°æ‰‹å†Œ</li></ul><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><ul><li><a href="https://ipcmen.com/">Linuxå‘½ä»¤æ‰‹å†Œ(opens new window)</a></li><li><a href="https://carbon.now.sh/">carbonä»£ç å›¾ç‰‡ç”Ÿæˆå™¨ (opens new window)</a>ç”Ÿæˆå¥½çœ‹çš„ä»£ç å›¾ç‰‡</li></ul><h2 id="è®¾è®¡"><a href="#è®¾è®¡" class="headerlink" title="è®¾è®¡"></a>è®¾è®¡</h2><ul><li><a href="http://chuangzaoshi.com/">åˆ›é€ å¸ˆå¯¼èˆª(opens new window)</a></li><li><a href="http://hao.uisdc.com/">è®¾è®¡å¸ˆç½‘å€å¯¼èˆª(opens new window)</a></li><li><a href="https://www.remove.bg/zh">remove (opens new window)</a>AIæŠ å›¾ï¼ŒæŠ å›¾ç®—æ³•å¾ˆå‰å®³</li><li><a href="https://www.manypixels.co/gallery/">Manypixels (opens new window)</a>æ’ç”»</li><li><a href="https://undraw.co/illustrations">Undraw (opens new window)</a>æ’ç”»</li><li><a href="https://storytale.io/">storytale (opens new window)</a>æ’ç”»ï¼Œç§ç±»ä¸°å¯Œï¼ŒåŒ…å«3Dæ’ç”»</li><li><a href="https://uimovement.com/">uimovement (opens new window)</a>èƒ½ä»è¿™ä¸ªç½‘ç«™æ‰¾åˆ°ä¸å°‘åŠ¨ç”»äº¤äº’çš„çµæ„Ÿ</li><li><a href="https://www.awwwards.com/">awwwards (opens new window)</a>æ˜¯ä¸€ä¸ªä¸€ä¸ªä¸“é—¨ä¸ºè®¾è®¡ç²¾ç¾çš„ç½‘ç«™ä»¥åŠå¯Œæœ‰åˆ›æ„çš„ç½‘ç«™é¢å¥–çš„ç½‘ç«™</li><li><a href="https://dribbble.com/">dribbble (opens new window)</a>ç»å¸¸èƒ½åœ¨ä¸Šé¢æ‰¾åˆ°å¾ˆå¤šæœ‰åˆ›æ„å¥½çœ‹çš„ gif æˆ–è€…å›¾ç‰‡</li><li><a href="https://www.behance.net/">BÄ“hance (opens new window)</a>dribbble æ˜¯è®¾è®¡å¸ˆçš„å¾®åšï¼ŒBÄ“hance æ˜¯è®¾è®¡å¸ˆçš„åšå®¢</li><li><a href="https://logojoy.com/">Logojoy (opens new window)</a>ä½¿ç”¨ ai åš logo çš„ç½‘ç«™ï¼Œåšå‡ºæ¥çš„ logo è´¨é‡è¿˜ä¸é”™ã€‚</li><li><a href="http://brandmark.io/">brandmark (opens new window)</a>å¦ä¸€ä¸ªåœ¨çº¿åˆ¶ä½œ logo ç½‘ç«™</li><li><a href="https://instantlogodesign.com/">instant (opens new window)</a>åˆä¸€ä¸ª logo åˆ¶ä½œç½‘ç«™</li><li><a href="https://www.namecheap.com/logo-maker/app/">namecheap (opens new window)</a>åˆä¸€ä¸ª logo åˆ¶ä½œç½‘ç«™</li><li><a href="https://www.designevo.com/logo-maker/">logo-maker (opens new window)</a>åˆä¸€ä¸ª logo åˆ¶ä½œç½‘ç«™ è¿™ä¸ªæ›´ç®€å•ç‚¹ å°±æ˜¯é€‰æ¨¡æ¿ä¹‹åå¾®è°ƒ</li><li><a href="https://coolors.co/">coolors (opens new window)</a>å¸®ä½ åœ¨çº¿é…è‰²çš„ç½‘ç«™ ä½ èƒ½æ‰¾åˆ°ä¸å°‘é…è‰²çµæ„Ÿ</li><li><a href="http://colorhunt.co/">colorhunt (opens new window)</a>å¦ä¸€ä¸ªé…è‰²ç½‘ç«™</li><li><a href="https://uigradients.com/#SummerDog">uigradients (opens new window)</a>æ¸å˜è‰²ç½‘ç«™</li><li><a href="https://www.designcap.com/">designcap (opens new window)</a>åœ¨çº¿æµ·æŠ¥è®¾è®¡</li><li><a href="https://flatuicolors.com/">Flat UI è‰²è¡¨ (opens new window)</a>Flat UI è‰²è¡¨</li><li><a href="https://www.0to255.com/">0to255 (opens new window)</a>é¢œè‰²æ¢¯åº¦</li><li><a href="https://github.com/mikolajdobrucki/ikonate">Ikonate (opens new window)</a>æä¾›å…è´¹çš„å›¾æ ‡ icons</li><li><a href="https://remixicon.com/">remixicon (opens new window)</a>åˆä¸€ä¸ªæä¾›å…è´¹å›¾æ ‡ icons</li><li><a href="https://github.com/feathericons/feather">feather (opens new window)</a>å…è´¹çš„ icons</li><li><a href="https://github.com/arcticicestudio/nord">nord (opens new window)</a>åŒ—æ¬§æ€§å†·æ·¡é£ä¸»é¢˜é…è‰²</li><li><a href="https://unsplash.com/">Unsplash (opens new window)</a>æä¾›å…è´¹çš„é«˜æ¸…å›¾ç‰‡</li><li><a href="https://www.pexels.com/zh-cn/">Pexels (opens new window)</a>æä¾›å…è´¹çš„é«˜æ¸…å›¾ç‰‡</li><li><a href="https://colorkitty.com/">colorkitty (opens new window)</a>ä»ä½ çš„å›¾ç‰‡ä¸­æå–é…è‰²</li><li><a href="http://design.youzan.com/">design.youzan (opens new window)</a>æœ‰èµè®¾è®¡åŸåˆ™</li><li><a href="https://www.iconfont.cn/">iconfont (opens new window)</a>é˜¿é‡Œå·´å·´çŸ¢é‡å›¾æ ‡åº“</li><li><a href="https://undraw.co/illustrations">undraw (opens new window)</a>å…è´¹çš„çŸ¢é‡æ’ç”»</li><li><a href="https://icomoon.io/">icomoon (opens new window)</a>çŸ¢é‡å›¾æ ‡åº“</li><li><a href="http://cssicon.space/#/">cssicon (opens new window)</a>æ‰€æœ‰çš„ icon éƒ½æ˜¯çº¯ css ç”»çš„ ç¼ºç‚¹ï¼šicon ä¸å¤Ÿå¤š</li><li><a href="http://apps.eky.hk/css-triangle-generator/">CSS triangle generator (opens new window)</a>å¸®ä½ å¿«é€Ÿç”¨ css åšå‡ºä¸‰è§’å½¢</li><li><a href="http://bennettfeely.com/clippy/">clippy (opens new window)</a>åœ¨çº¿å¸®ä½ ä½¿ç”¨ css clip-path åšå‡ºå„ç§å½¢çŠ¶çš„å›¾å½¢</li><li><a href="https://picsum.photos/">Lorem Picsum (opens new window)</a>æä¾›å…è´¹çš„å ä½å›¾</li><li><a href="https://www.canva.cn/">Canva å¯ç”» (opens new window)</a>ç”Ÿæˆæ’ç”»ã€å°é¢ã€æµ·æŠ¥ã€å¤´åƒç­‰</li><li><a href="https://error404.fun/">404é¡µ (opens new window)</a>404é¡µç´ æ</li><li><a href="https://collectui.com/">collectui (opens new window)</a>æŒ‰åŠŸèƒ½ç»„ä»¶åˆ†ç±»çš„è®¾è®¡å›¾</li><li><a href="https://smartmockups.com/zh">smartmockups (opens new window)</a>äº§å“æ¨¡æ¿ç”Ÿæˆå·¥å…·</li></ul><h2 id="å›¾åº“"><a href="#å›¾åº“" class="headerlink" title="å›¾åº“"></a>å›¾åº“</h2><ul><li><a href="https://uigradients.com/">uigradients (opens new window)</a>æ¸å˜è‰²ç”Ÿæˆå·¥å…·</li><li><a href="https://www.freepik.com/">freepik (opens new window)</a>banner å›¾åº“</li><li><a href="http://www.51yuansu.com/">è§…å…ƒç´  (opens new window)</a>ä¸€å¤©å…è´¹ä¸‹è½½åå¼  psdï¼ˆå…æŠ å…ƒç´ ï¼‰</li><li><a href="https://www.gaoding.com/">æå®šè®¾è®¡ (opens new window)</a>å¯ä»¥æŠ å›¾</li><li><a href="https://www.vectorizer.io/">vectorizer (opens new window)</a>çœŸæ­£çš„ png è½¬ svg ç¥å™¨</li><li><a href="https://www.zcool.com.cn/">ç«™é…· (opens new window)</a>å›½å†…ä¼˜ç§€çš„è®¾è®¡ä½œå“å±•ç¤º</li><li><a href="https://huaban.com/">èŠ±ç“£(opens new window)</a></li><li><a href="https://huke88.com/">è™å…‹ (opens new window)</a>ps å­¦ä¹ æ•™ç¨‹</li><li><a href="https://themes.muffingroup.com/be/splash/">beTheme(opens new window)</a></li><li><a href="https://www.ui.cn/">UI ä¸­å›½(opens new window)</a></li><li><a href="https://alpha.wallhaven.cc/">wallhaven (opens new window)</a>å£çº¸ç½‘ç«™-</li></ul><h2 id="3D"><a href="#3D" class="headerlink" title="3D"></a>3D</h2><ul><li><a href="https://sketchfab.com/">sketchfab (opens new window)</a>3Dæ¨¡å‹</li></ul><h2 id="äº¤äº’"><a href="#äº¤äº’" class="headerlink" title="äº¤äº’"></a>äº¤äº’</h2><ul><li><a href="http://aliscued.lofter.com/">å¾®äº¤äº’ (opens new window)</a>é‡Œé¢æ”¶é›†äº†å¸‚é¢ä¸Šå¾ˆå¤šå¾ˆå¥½çš„å¾®äº¤äº’ä¾‹å­ å€¼å¾—å­¦ä¹ </li><li><a href="http://littlebigdetails.com/">Little Big Details (opens new window)</a>åŒä¸Šï¼Œä¸€ä¸ªå›½å¤–å¾®äº¤äº’æ±‡é›†ç½‘ç«™</li><li><a href="https://cruip.com/">cruip (opens new window)</a>ç™»å½•é¡µçš„å„ç§é¡µé¢è®¾è®¡ï¼Œå¯ä»¥å…è´¹ä¸‹è½½æ¨¡æ¿</li><li><a href="https://comixify.ii.pw.edu.pl/">Comixify (opens new window)</a>ä¸€ä¸ªæ³¢å…°å›¢é˜Ÿåšäº†éå¸¸å¥½ç©çš„å·¥å…·ï¼Œå¯ä»¥æŠŠè§†é¢‘è‡ªåŠ¨è½¬æˆæ¼«ç”»ï¼Œä¸Šå›¾æ˜¯ä»–ä»¬æä¾›çš„ demoï¼Œæ•ˆæœå¾ˆæ£’ã€‚</li><li><a href="https://github.com/bui/taiko-web">taiko-web (opens new window)</a>å¤ªé¼“è¾¾äººç½‘é¡µç‰ˆ åªèƒ½è¯´å¾ˆ 6</li></ul><h2 id="æœ‰è¶£"><a href="#æœ‰è¶£" class="headerlink" title="æœ‰è¶£"></a>æœ‰è¶£</h2><ul><li><a href="https://pranx.com/">ç”µè„‘æ¶æ (opens new window)</a>æ”¶é›†äº†ä¸€äº›æ¶æå°ç½‘é¡µï¼Œæ¯”å¦‚xpç³»ç»Ÿè“å±ã€é»‘å®¢ç•Œé¢ç­‰</li><li><a href="https://neocities.org/browse">neocities (opens new window)</a>ä¸Šé¢æ‰˜ç®¡äº†å¾ˆå¤šæœ‰è¶£çš„ç½‘ç«™</li><li><a href="https://fuun.fun/">å¥‡è¶£ç½‘ç«™æ”¶è—å®¶ (opens new window)</a>æ”¶è—äº†å¾ˆå¤šæœ‰è¶£çš„ç½‘ç«™</li><li><a href="https://game.xugaoyi.com/">FCåœ¨çº¿æ¨¡æ‹Ÿå™¨(å°éœ¸ç‹æ¸¸æˆæœº) (opens new window)</a>ç«¥å¹´å›å¿†</li><li><a href="http://www.baidu-x.com/">å¸®ä½ ç™¾åº¦ä¸€ä¸‹ (opens new window)</a>å¯ä»¥ <a href="http://www.baidu-x.com/?q=%E5%92%8C%E8%B0%90%E6%9C%89%E7%88%B1%E5%AF%8C%E5%BC%BA">ç‚¹æˆ‘æµ‹è¯•ä¸€ä¸‹ (opens new window)</a>-</li><li><a href="http://lmgtfy.com/">å›½é™…ç‰ˆ (opens new window)</a>åŒ<code>å¸®æˆ‘ç™¾åº¦ä¸€ä¸‹</code>-<a href="http://lmgtfy.com/?q=a">ç‚¹æˆ‘æµ‹è¯•ä¸€ä¸‹ (opens new window)</a>-</li><li><a href="http://matthewrayfield.com/articles/animating-urls-with-javascript-and-emojis/#%F0%9F%8C%96">URL åœ°å€æ’­æ”¾ Emojis åŠ¨ç”» (opens new window)</a>åœ¨åœ°å€æ é‡Œé¢æ’­æ”¾ emoji</li><li><a href="https://cantunsee.space/">Canâ€™t Unsee (opens new window)</a>å¼ºçƒˆå»ºè®®å‰ç«¯ã€å®¢æˆ·ç«¯ã€UI å¼€å‘çš„åŒå­¦ç©ä¸‹ï¼Œæ£€æŸ¥ä¸€ä¸‹è‡ªå·±å¯¹è®¾è®¡ç¨¿çš„æ•æ„Ÿåº¦æ€ä¹ˆæ ·</li><li><a href="https://talk.swift.gg/">ggtalk (opens new window)</a>å¹³æ—¶ä¸€ç›´åœ¨å¬çš„ä¸€ä¸ªæŠ€æœ¯åšå®¢</li><li><a href="https://github.com/Blankj/awesome-comment">awesome-comment (opens new window)</a>é‡Œé¢æ”¶é›†äº†å¾ˆå¤šæœ‰è¶£çš„ä»£ç æ³¨é‡Š</li><li><a href="https://www.text-image.com/index.html">text-img (opens new window)</a>éƒ½å°†å›¾ç‰‡è½¬åŒ–ä¸º ascii ç”¨æ¥å†™æ³¨é‡Š</li><li><a href="https://pessimistress.github.io/ascii/">ascii video (opens new window)</a>ä½¿ç”¨asciiç¼–ç ç”Ÿæˆè§†é¢‘åŠ¨ç”»</li><li><a href="https://github.com/beizhedenglong/weird-fonts">weird-fonts (opens new window)</a>å°†æ™®é€šå­—æ¯è½¬åŒ–ä¸º ç‰¹æ®Š unicode</li><li><a href="https://github.com/epidemian/snake">snake (opens new window)</a>åœ¨åœ°å€æ é‡Œé¢ç©è´ªåƒè›‡</li><li><a href="https://github.com/yuanfux/zero-width-lib">zero-width-lib (opens new window)</a>åˆ©ç”¨é›¶å®½åº¦å­—ç¬¦å®ç° éšå½¢æ°´å°ã€åŠ å¯†ä¿¡æ¯åˆ†äº«ã€é€ƒè„±è¯åŒ¹é…ï¼Œå¾ˆæœ‰åˆ›æ„</li><li><a href="https://www.abbreviations.com/">abbreviations (opens new window)</a>æŸ¥çœ‹ä¸€ä¸ªç®€å†™æ˜¯ä»€ä¹ˆæ„æ€çš„ç½‘ç«™</li><li><a href="https://magi.com/">magi (opens new window)</a>ai æœç´¢ç¥å™¨ï¼Œè¶…å±Œ</li><li><a href="https://www.qmsjmfb.com/">åœ¨çº¿å–å (opens new window)</a>è§£å†³å–åéš¾é—®é¢˜ï¼Œè¶…å¤šåå­—ç”Ÿæˆ</li><li><a href="https://collet66.web.fc2.com/nijisanji/index.html">åƒç´ ç”»GIF(opens new window)</a></li><li><a href="https://uchinoko-maker.jp/">çŒ«å’ªç”Ÿæˆå™¨(opens new window)</a></li></ul><h2 id="ç”Ÿæˆå™¨"><a href="#ç”Ÿæˆå™¨" class="headerlink" title="ç”Ÿæˆå™¨"></a>ç”Ÿæˆå™¨</h2><ul><li><a href="https://toonme.com/">å¡é€šå¤´åƒç”Ÿæˆå™¨ (opens new window)</a>ä¸Šä¼ çœŸäººå¤´åƒç”Ÿæˆå¡é€šå¤´åƒ</li><li><a href="https://www.artbreeder.com/">artbreeder (opens new window)</a>åŠ¨æ¼«å›¾ç”ŸæˆçœŸäººå›¾åƒ</li><li><a href="https://neal.fun/ambient-chaos/">å£°éŸ³ç”Ÿæˆå™¨ (opens new window)</a>ç”Ÿæˆä¸‹é›¨ã€å’–å•¡å…ã€æµ·æµªã€ç«è½¦ç­‰å£°éŸ³ï¼Œå¯å‡ ç§å£°éŸ³åˆæˆ</li><li><a href="https://zzkia.noddl.me:8020/">è¯ºåŸºäºšçŸ­ä¿¡å›¾ç‰‡ç”Ÿæˆå™¨(opens new window)</a></li><li><a href="https://zfb.xugaoyi.com/">åˆ°è´¦è¯­éŸ³ç”Ÿæˆå™¨ (opens new window)</a>æ”¯ä»˜å®åˆ°è´¦1äº¿å…ƒ</li></ul><h2 id="å…ƒå®‡å®™"><a href="#å…ƒå®‡å®™" class="headerlink" title="å…ƒå®‡å®™"></a>å…ƒå®‡å®™</h2><p>ç¬¦åˆå…ƒå®‡å®™ç‰¹å¾çš„å‡ ä¸ªç½‘ç«™ï¼Œå…è®¸ç”¨æˆ·æ‹¥æœ‰è™šæ‹ŸåœŸåœ°ï¼Œåœ¨ä¸Šé¢æ„å»ºè‡ªå·±çš„ä¸–ç•Œï¼š</p><ul><li><a href="https://www.sandbox.game/cn/">æ²™ç›’(opens new window)</a></li><li><a href="https://somniumspace.com/">æ¢¦å¢ƒç©ºé—´(opens new window)</a></li><li><a href="https://market.decentraland.org/">Decentraland(opens new window)</a></li></ul><h2 id="æ•™ç¨‹"><a href="#æ•™ç¨‹" class="headerlink" title="æ•™ç¨‹"></a>æ•™ç¨‹</h2><ul><li><a href="https://egghead.io/courses/execute-npm-package-binaries-with-the-npx-package-runner">npx (opens new window)</a>æ•™ä½ æ€ä¹ˆåˆç†çš„ä½¿ç”¨ npx</li><li><a href="https://www.hacksplaining.com/lessons">hacksplaining (opens new window)</a>ç½‘ç»œå®‰å…¨å­¦ä¹ ç½‘ç«™</li><li><a href="https://github.com/mcuking/mobile-web-best-practice">mobile-web-best-practice (opens new window)</a>ç§»åŠ¨ web æœ€ä½³å®è·µ</li></ul><h2 id="äº§å“"><a href="#äº§å“" class="headerlink" title="äº§å“"></a>äº§å“</h2><ul><li><a href="https://www.producthunt.com/">Product Hunt (opens new window)</a>å¥½äº§å“æ¨è</li><li><a href="http://www.pmdaniu.com/">äº§å“å¤§ç‰› (opens new window)</a>ä»€ä¹ˆæœ‰å¾ˆå¤šå®Œæ•´çš„äº§å“åŸå‹å¯ä»¥å€Ÿé‰´</li><li><a href="https://modao.cc/pricing">ç£¨åˆ€ (opens new window)</a>å¿«é€Ÿå‡º ui åŸå‹</li></ul><h2 id="å®ç”¨"><a href="#å®ç”¨" class="headerlink" title="å®ç”¨"></a>å®ç”¨</h2><ul><li><a href="https://webden.dev/">webden (opens new window)</a>åœ¨çº¿ç½‘é¡µç¼–è¾‘å™¨ï¼Œè½»ä¾¿å¿«æ·</li><li><a href="https://browser-update.org/">browser-update (opens new window)</a>æµè§ˆå™¨ç‰ˆæœ¬æ›´æ–°æç¤ºæ’ä»¶</li><li><a href="https://admin.typeform.com/signup">typeform (opens new window)</a>ä¸€ä¸ªå›½å¤–çš„åœ¨çº¿è°ƒæŸ¥é—®å·ç½‘ç«™</li><li><a href="https://www.videofk.com/">VideoFk (opens new window)</a>VideoFk è§†é¢‘åœ¨çº¿è§£æä¸‹è½½</li><li><a href="https://www.allhistory.com/">å…¨å†å² (opens new window)</a>å†å²å†…å®¹èšåˆç½‘ç«™</li><li><a href="https://www.uzer.me/">UzerMe (opens new window)</a>äº‘ç«¯åŠå…¬å·¥å…·</li><li><a href="https://sobooks.cc/">SoBooks (opens new window)</a>å¼ºå¤§çš„ç”µå­ä¹¦èµ„æºç½‘ç«™</li><li><a href="https://www.gaoding.com/">ç¨¿å®šè®¾è®¡ (opens new window)</a>é”®å¼è®¾è®¡å·¥å…·+æ™ºèƒ½æŠ å›¾</li><li><a href="https://dalipan.com/">å¤§åŠ›ç›˜ (opens new window)</a>ç™¾åº¦ç½‘ç›˜æœç´¢</li><li><a href="https://www.macbl.com/app/internet/enfi">ENFI ä¸‹è½½å™¨ (opens new window)</a>ä¸é™é€Ÿä¸‹è½½å™¨</li><li><a href="https://www.laihua.com/">æ¥ç”»è§†é¢‘ (opens new window)</a>åƒåš PPT ä¸€æ ·åšçŸ­è§†é¢‘</li><li><a href="https://www.arkie.cn/">Arkie æµ·æŠ¥åˆ¶ä½œå·¥å…·(opens new window)</a></li><li><a href="http://www.ypppt.com/">ä¼˜å“ PPT(opens new window)</a></li><li><a href="http://www.tretars.com/">æ¯”æ ¼ PPT(opens new window)</a></li><li><a href="https://www.pexels.com/">é«˜æ¸…å…è´¹å›¾ç‰‡(opens new window)</a></li><li><a href="https://unsplash.com/">é«˜æ¸…å…è´¹å›¾ç‰‡ 2(opens new window)</a></li><li><a href="https://www.shapedivider.app/">shapedivider (opens new window)</a>ç”Ÿæˆæ³¢æµªåˆ†éš”çº¿</li><li><a href="https://www.notion.so/">Notion (opens new window)</a>çŸ¥è¯†åº“ã€å¿«é€Ÿç¬”è®°ã€TaskListã€æ—¥è®°ã€è¯»ä¹¦æ¸…å•ï¼Œå„ç§ç±»å‹ï¼Œåº”æœ‰å°½æœ‰</li></ul><h2 id="Talk"><a href="#Talk" class="headerlink" title="Talk"></a>Talk</h2><ul><li><a href="https://github.com/peerigon/talks">peerigon-talks (opens new window)</a>æ”¶é›†äº†ä¸å°‘æœ‰æ„æ€çš„ talks</li></ul><h2 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h2><ul><li><a href="https://github.com/azl397985856/leetcode">leetcode (opens new window)</a>ç”¨ js åˆ· leetcode</li></ul><h2 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h2><ul><li><a href="https://www.digitalocean.com/community/tools/nginx?global.app.lang=zhCN">nginx å¯è§†åŒ–é…ç½®å·¥å…·(opens new window)</a></li></ul><h2 id="ç”Ÿæ´»"><a href="#ç”Ÿæ´»" class="headerlink" title="ç”Ÿæ´»"></a>ç”Ÿæ´»</h2><ul><li><a href="https://www.ventusky.com/">Ventusky (opens new window)</a>é£é›¨æ°”æ¸©å›¾</li></ul><h2 id="å¸¸ç”¨APIæ¥å£"><a href="#å¸¸ç”¨APIæ¥å£" class="headerlink" title="å¸¸ç”¨APIæ¥å£"></a>å¸¸ç”¨APIæ¥å£</h2><p>å„ç±»æ— æ¬¡æ•°é™åˆ¶çš„å…è´¹APIæ¥å£æ•´ç†ï¼Œä¸»è¦æ˜¯èšåˆæ•°æ®ä¸Šå’ŒAPI Storeä¸Šçš„ä¸€äº›ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„ã€‚</p><p>èšåˆæ•°æ®æä¾›30å¤§ç±»,160ç§ä»¥ä¸ŠåŸºç¡€æ•°æ®APIæœåŠ¡,å›½å†…æœ€å¤§çš„åŸºç¡€æ•°æ®APIæœåŠ¡ï¼Œä¸‹é¢å°±ç½—åˆ—ä¸€äº›å…è´¹çš„å„ç±»APIæ¥å£ã€‚</p><p><a href="https://www.juhe.cn/docs/api/id/11">æ‰‹æœºå·ç å½’å±åœ°APIæ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/63">å†å²ä¸Šçš„ä»Šå¤©APIæ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/21">è‚¡ç¥¨æ•°æ®APIæ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/18">å…¨å›½WIFIæ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/58">æ˜Ÿåº§è¿åŠ¿æ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/29">é»„é‡‘æ•°æ®æ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/134">è¯­éŸ³è¯†åˆ«æ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/64">å‘¨å…¬è§£æ¢¦æ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/73">å¤©æ°”é¢„æŠ¥APIæ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/38">èº«ä»½è¯æŸ¥è¯¢APIæ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/95">ç¬‘è¯å¤§å…¨APIæ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/66">é‚®ç¼–æŸ¥è¯¢æ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/65">è€é»„å†æ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/19">ç½‘ç«™å®‰å…¨æ£€æµ‹æ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/72">æ‰‹æœºå›ºè¯æ¥ç”µæ˜¾ç¤ºæ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/28">åŸºé‡‘è´¢åŠ¡æ•°æ®æ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/157">æˆè¯­è¯å…¸æ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/235">æ–°é—»å¤´æ¡æ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/1">IPåœ°å€æ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/112">é—®ç­”æœºå™¨äººæ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/80">æ±‡ç‡APIæ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/44">ç”µå½±ç¥¨æˆ¿æ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/177">ä¸‡å¹´å†APIæ¥å£</a></p><p><a href="https://www.juhe.cn/docs/api/id/92">NBAèµ›äº‹æ¥å£</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/114.html">IPåœ°å€æŸ¥è¯¢</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/688.html">é¢‘é“æ–°é—»API_æ˜“æº</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/632.html">å¾®ä¿¡çƒ­é—¨ç²¾é€‰</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/112.html">å¤©æ°”æŸ¥è¯¢</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/478.html">ä¸­å›½å’Œä¸–ç•Œå¤©æ°”é¢„æŠ¥</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/115.html">è‚¡ç¥¨æŸ¥è¯¢</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/113.html">èº«ä»½è¯æŸ¥è¯¢</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/720.html">ç¾å¥³å›¾ç‰‡</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/1020.html">éŸ³ä¹æœç´¢</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/736.html">å›¾çµæœºå™¨äºº</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/119.html">æ±‡ç‡è½¬æ¢</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/1116.html">èŠ‚å‡æ—¥</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/143.html">pullwordåœ¨çº¿åˆ†è¯æœåŠ¡</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/697.html">å»å“ªå„¿ç½‘ç«è½¦ç¥¨</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/864.html">ç¬‘è¯å¤§å…¨</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/735.html">é“¶è¡Œå¡æŸ¥è¯¢æœåŠ¡</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/867.html">è¯­éŸ³åˆæˆ</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/446.html">å®…è¨€API-åŠ¨æ¼«å°è¯æ¥å£</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/140.html">å»å“ªå„¿æ™¯ç‚¹é—¨ç¥¨æŸ¥è¯¢</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/794.html">æ‰‹æœºå·ç å½’å±åœ°</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/711.html">ä½“è‚²æ–°é—»</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/709.html">æ‰‹æœºå½’å±åœ°æŸ¥è¯¢</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/1061.html">ç§‘æŠ€æ–°é—»</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/116.html">ç©ºæ°”è´¨é‡æŒ‡æ•°</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/987.html">å¤©ç‹—å¥åº·èœè°±</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/520.html">çƒ­é—¨æ¸¸è®°åˆ—è¡¨</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/916.html">å¤©ç‹—è¯å“æŸ¥è¯¢</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/1124.html">æ±‰å­—è½¬æ‹¼éŸ³</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/823.html">å›½é™…æ–°é—»</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/164.html">å½©ç¥¨</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/863.html">å¾®ä¿¡ç²¾é€‰</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/888.html">å¤©ç‹—å¥åº·èµ„è®¯</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/182.html">å…´è¶£ç‚¹æ£€ç´¢</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/754.html">ç”¨è¯å‚è€ƒ</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/899.html">å¤©ç‹—å¥åº·çŸ¥è¯†</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/633.html">å¥‡é—»è¶£äº‹ </a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/768.html">èŠ±è¾¹æ–°é—» </a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/988.html">å¤©ç‹—åŒ»é™¢å¤§å…¨</a></p><p><a href="http://apistore.baidu.com/apiworks/servicedetail/989.html">ç”Ÿæ´»å¥åº· </a></p><p>ä¸€äº›å…¶ä»–çš„APIæ¥å£ï¼š</p><p><a href="https://developers.douban.com/wiki/?title=guide">è±†ç“£å¼€æ”¾ </a></p><p><a href="http://open.taobao.com/?spm=a219a.7395905.1.1.YdFDV6">æ·˜å®å¼€æ”¾å¹³å° </a></p><p><a href="http://www.tuling123.com/help/h_cent_andriodsdk.jhtml?nav=doc">å›¾çµè¯­éŸ³</a></p><p><a href="http://www.xfyun.cn/robots/solution">è®¯é£è¯­éŸ³</a></p><p><a href="https://open.weixin.qq.com/">é©¬åŒ–è…¾çš„å¾®ä¿¡å¼€æ”¾å¹³å°ï¼ˆå¯¹åº”çš„è¿˜æœ‰è…¾è®¯å¼€æ”¾å¹³å°)</a></p><p><a href="https://developer.rongcloud.cn/signin?returnUrl=/app/appkey/Pv4vYQwaxSZdfpLX5AI%253">èäº‘IM</a></p><p><a href="http://developer.baidu.com/">ç™¾åº¦å¼€å‘è€…ä¸­å¿ƒ</a></p><p><a href="http://www.faceplusplus.com.cn/">äººè„¸è¯†åˆ«</a></p><p><a href="http://lbs.amap.com/">é«˜å¾·åœ°å›¾</a></p><p><a href="http://open.qingting.fm/">FM</a></p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç«™æ¨è </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘ç«™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢</title>
      <link href="/2023/09/05/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/"/>
      <url>/2023/09/05/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<h1 id="ä½ å¥½"><a href="#ä½ å¥½" class="headerlink" title="ä½ å¥½"></a>ä½ å¥½</h1>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2023/09/05/hello-world/"/>
      <url>/2023/09/05/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
