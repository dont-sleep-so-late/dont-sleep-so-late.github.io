<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>ES6常用知识 | 你别睡这么晚！</title><meta name="keywords" content="ES6"><meta name="author" content="你别睡这么晚"><meta name="copyright" content="你别睡这么晚"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="ES6常用知识"><meta name="application-name" content="ES6常用知识"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="ES6常用知识"><meta property="og:url" content="https://dont-sleep-so-late.github.io/2023/09/14/ES6%E5%B8%B8%E7%94%A8%E7%9F%A5%E8%AF%86/index.html"><meta property="og:site_name" content="你别睡这么晚！"><meta property="og:description" content="ECMAScript 6 (简称 ES6) 是 JavaScript 语言的下一代标准 ECMAScript 的提案流程  Stage 0 - Strawman（展示阶段） Stage 1 - Proposal（征求意见阶段） Stage 2 - Draft（草案阶段） Stage 3 - Cand"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://avatars.githubusercontent.com/u/47170023?v=4"><meta property="article:author" content="你别睡这么晚"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://avatars.githubusercontent.com/u/47170023?v=4"><meta name="description" content="ECMAScript 6 (简称 ES6) 是 JavaScript 语言的下一代标准 ECMAScript 的提案流程  Stage 0 - Strawman（展示阶段） Stage 1 - Proposal（征求意见阶段） Stage 2 - Draft（草案阶段） Stage 3 - Cand"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://dont-sleep-so-late.github.io/2023/09/14/ES6%E5%B8%B8%E7%94%A8%E7%9F%A5%E8%AF%86/"><link rel="preconnect" href="//npm.elemecdn.com"/><link rel="preconnect" href="//npm.onmicrosoft.cn"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2023/09/03/125766904/ee23df8517f3c3e3efc4145658269c06_5714860933110284659.png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: {"enable":true,"default":"晚上好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":15},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":16,"endTime":18},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":19,"endTime":24}]},
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多"]},
  algolia: {"appId":"K880G321DE","apiKey":"5c9b9d0f591eb08ace149bf3d24ed065","indexName":"hexo","hits":{"per_page":6},"languages":{"input_placeholder":"输入关键词后按下回车查找","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: 你别睡这么晚","link":"链接: ","source":"来源: 你别睡这么晚！","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: {"enable":true,"delay":100,"shiftDelay":200},
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '你别睡这么晚！',
  title: 'ES6常用知识',
  postAI: '',
  pageFillDescription: 'let const, 变量提升, 挂载到全局对象, 重复声明, 作用域范围, const 常量定义, 模板字符串, 解构赋值, 解构对象, 解构数组, 解构字符串, 函数的扩展, 参数默认值, 剩余参数(rest 参数), 箭头函数, 扩展运算符, 函数调用, 拷贝数组x2F对象, 合并数组x2F对象, 使用表达式, 与解构赋值结合, 数组的扩展, Array.from(), Array.of(), 实例方法 includes(), 实例方法 find() 和 findIndex(), 实例方法 at(), 实例方法 flat() 和 flatMap(), 对象的扩展, 属性简写, 属性名表达式, Object.is(), Object.assign(), 只有一个参数时会直接返回该参数, 传入参数不是对象时会先转成对象再返回, 传入非对象类型的场景, 传入数组时会把数组当对象处理, Object.keys() Object.value() Object.entries(), Object.fromEntries(), 对象遍历方法对比, 运算符的扩展, ?. 可选链操作符, ?? 空值合并运算符, 逻辑赋值运算符, ESModule, export 命令, import 命令, export default 命令, 如何保证导入都是引用？, export 与 import 的复合写法, import(), 浏览器对 ESModule 的加载规则, 在 script 中使用 ESModule, Promise, Promise 实例方法, Promise 静态方法简称是语言的下一代标准的提案流程展示阶段征求意见阶段草案阶段候选人阶段定案阶段一个提案只要能进入就差不多肯定会包括在以后的正式标准里面当前的所有提案和的区别是一个年份标记表示当年发布的标准的正式版本其全称为标准简称是一个历史名词也是一个泛指含义是版以后的的下一代标准涵盖了等等新增了和命令用于声明变量其声明的变量只在声明所在的块级作用域内有效的区别声明的变量会提升到作用域的顶部不存在变量提升声明的全局变量会被挂载到全局对象上而不会可以对一个变量进行重复声明而不能重复声明声明的变量作用域范围是函数作用域声明的变量作用域范围是块级作用域声明的是一个只读的常量一旦声明常量的值就不能改变必须对变量进行初始化基本类型保证值不可变引用类型保证内存指针不可变变量提升变量提升是指在代码执行过程中变量和函数声明会在它们被实际执行之前被提升到它们所在作用域的顶部输出报错报错为什么和不存在变量提升知乎函数声明优先于变量声明函数声明会覆盖变量声明变量提升变量声明函数声明在同一作用域内存在同名的函数声明和变量声明时函数声明会覆盖变量声明挂载到全局对象输出输出输出重复声明输出报错同一作用域下和不能声明同名变量而可以作用域范围输出输出输出输出报错报错和只能在块作用域里访问常量定义报错定义常量而且不能修改但是在定义的对象时对象属性值可以改变模板字符串模板字符串是增强版的字符串用反引号标识它可以当作普通字符串定义多行字符串或者在字符串中嵌入变量函数调用以及表达式拼接字符串我叫我的年龄是岁模板字符串我叫我的年龄是岁解构赋值解构对象写法解构写法重命名指定默认值解构数组写法解构写法指定默认值解构字符串字符串也可以解构赋值因为字符串被转换成了一个类似数组的对象解构属性解构赋值注意点解构数组和字符串时变量的取值由它的位置决定解构对象时变量必须与属性同名才能取到正确的值变量在没有找到对应的值多余的变量会被赋值为在指定默认值时只有属性值严格等于才会生效数组本质是特殊的对象因此可以对数组进行对象属性的解构解构数值和布尔值时会通过其对应的包装函数将其转换成对象再解构和无法转为对象在解构时会报错函数的扩展参数默认值当参数对应的布尔值为则该赋值不起作用函数参数的默认值参数变量是默认声明的不能用或再次声明否则会报错使用参数默认值时函数不能有同名参数参数默认值的位置应该是函数的尾参数剩余参数参数引入参数形式为变量名用于获取函数的剩余参数可以替换对象剩余参数参数参数是一个真正的数组数组特有的方法都可以使用参数之后不能再有其他参数否则会报错函数的属性不包括参数箭头函数允许使用箭头定义函数不需要参数时使用一个圆括号代表参数部分等同于当函数体只有时等同于箭头函数与普通函数的区别普通函数指向是动态的取决于函数的调用方式可以用改变指向箭头函数指向是固定的指向定义时上层作用域中的它没有自己的无法改变箭头函数的指向上下文值始终按词法解析全局作用域下指向全局对象箭头函数不可以当作构造函数不能使用运算符否则会报错箭头函数的函数体内不可以使用箭头函数不可以使用命令不能用作函数在中使用箭头函数其会和类实例进行绑定注意点以下场合不应该使用箭头函数定义对象方法且该方法内部包括时定义原型方法且该方法内部包括时需要动态时利用编译箭头函数代码查看的指向编译后的代码扩展运算符扩展运算符是三个点它好比参数的逆运算数组的扩展运算符会将数组转为用逗号分隔的参数序列对象的扩展运算符会取出参数对象的所有可遍历属性拷贝到当前对象之中函数调用扩展运算符在函数调用时可以将一个数组变为参数序列从而可以替代函数的方法举个求出一个数组最大元素写法写法等同于拷贝数组对象拷贝数组写法一写法二拷贝对象写法一写法二合并数组对象合并数组合并对象使用表达式展开对象展开数组与解构赋值结合写法写法扩展运算符使用扩展运算符拷贝数组或对象时其都是浅拷贝对象的扩展运算符等同于使用方法只有函数调用时扩展运算符才可以放在圆括号中否则会报错扩展运算符用于赋值时只能放在参数的最后一位否则会报错在扩展运算符展开数组时其参数必须要有接口否则会报错在扩展运算符展开对象时其参数如果不是对象时会自动转为对象调用等同于等同于等同于等同于数组的扩展用于将两类对象转为真正的数组类似数组的对象操作返回的对象可遍历的对象包括新增的数据结构和转数组写法写法可以接受一个函数作为第二个参数作用类似于数组的用来对每个元素进行处理将处理后的值放入返回的数组在字符串转为数组时能正确处理各种字符可以避免将大于的字符算作两个字符的用于将一组值转换为数组方法的主要目的是弥补数组构造函数的不足因为参数个数的不同会导致的行为有差异总是返回参数值组成的数组如果没有参数就返回一个空数组的模拟实现实例方法方法返回一个布尔值表示某个数组是否包含给定的值引入和的对比不够语义化其含义是找到参数值的第一个出现位置所以要去比较是否不等于表达起来不够直观内部使用严格相等运算符进行判断这会导致对的误判实例方法和方法用于找出第一个符合条件的数组成员如果没有符合条件的成员则返回方法用于找出第一个符合条件的数组成员的位置如果没有符合条件的成员则返回实例方法方法接受一个整数支持负数作为参数返回对应位置的成员如果参数位置超出了数组范围则返回实例方法和方法用于将嵌套的数组拍平变成一维的数组该方法返回一个新数组不改变原数组方法会先对原数组的每个成员执行一个函数相当于执行然后对返回值组成的数组执行方法该方法返回一个新数组不改变原数组相当于和注意点方法默认只会拉平一层方法会跳过原数组中的空位只能展开一层数组对象的扩展属性简写允许在大括号里面直接写入变量和函数作为对象的属性和方法属性简写写法写法方法简写写法写法属性简写简写的对象方法不能用作构造函数否则会报错报错属性名表达式定义属性名定义方法名属性名表达式属性名表达式与属性简写不能同时使用否则会报错报错正确属性名表达式如果是一个对象会自动将其转为字符串方法用来比较两个值是否严格相等严格比较运算符的行为基本一致与的不同之处不等于不等于等于自身方法用于对象的合并将源对象的所有可枚举属性复制到目标对象第一个参数是目标对象后面的参数都是源对象只有一个参数时会直接返回该参数传入参数不是对象时会先转成对象再返回传入非对象类型的场景和首位参数时会报错非首位参数时会忽略非首位参数为数值布尔值字符串时数值和布尔值会忽略字符串会以字符数组的形式做合并数组当参数都为数组时当首位参数为对象时后续参数为数组时传入数组时会把数组当对象处理总结和应用场景总结是浅拷贝方法存在同名属性时后面的属性会覆盖前面的属性只有一个参数时会直接返回该参数传入参数不是对象时会先转成对象再返回传入和时如果为第一个参数会报错无法转成对象如果不为第一个参数时会被忽略传入数组时会把数组当对象处理应用场景为对象添加属性为对象添加方法拷贝对象合并多个对象为属性指定默认值提示提示方法返回一个数组其成员为参数对象自身的不含继承的所有可遍历属性的键名引入方法返回一个数组其成员为参数对象自身的不含继承的所有可遍历属性的键值引入方法返回一个数组二维数组其成员为参数对象自身的不含继承的所有可遍历属性的键值对数组引入方法是的逆操作用于将键值对的数据结构还原为对象转对象将查询字符串转为对象对象遍历方法对比方法名说明继承的原型属性不可枚举属性属性返回值遍历对象自身和继承的所有可枚举属性不含属性遍历对象自身所有可枚举属性不含属性遍历对象自身所有属性不含属性遍历对象自身所有的属性遍历对象自身所有的属性包含不可枚举和属性遍历对象自身所有可枚举属性不含属性遍历对象自身所有可枚举属性不含属性遍历顺序没有规定遍历顺序其遍历顺序由浏览器厂商定义可以简单理解为无序的之后规定遍历顺序将按如下规则进行首先遍历所有数值键按照数值升序排列其次遍历所有字符串键按照加入时间升序排列最后遍历所有键按照加入时间升序排列内部定义了方法对属性进行分类和排序运算符的扩展可选链操作符引入了可选链操作符又名链判断运算符其允许我们在读取对象内部的某个属性时不需要判断属性的上层对象是否存在可选链操作符之前的写法可选链操作符简化写法可选链操作符的三种写法属性是否存在等同于函数或对象方法是否存在等同于注意点可选链操作符相当于一种短路机制只要不满足条件就不再往下执行当有括号时可选链操作符对圆括号外部没有影响只对圆括号内部有影响右侧不得为十进制数值为了保证兼容以前的代码允许会被解析成因此规定如果后面紧跟一个十进制数字那么不再被看成是一个完整的运算符而会按照三元运算符进行处理即小数点会归属于后面的十进制数字形成一个小数禁止使用以下写法构造函数右侧有模板字符串左侧是用于赋值运算符左侧空值合并运算符引入了空值合并运算符只有运算符左侧的值为或时才会返回右侧的值运算符运算符和的区别运算符只有左侧是或才会返回右侧的值运算符只要左侧是假值就会返回右侧的值逻辑赋值运算符引了入三个新的逻辑赋值运算符用于将逻辑运算符与赋值运算符进行结合或赋值运算符等同于与赋值运算符等同于赋值运算符等同于是在语言标准的层面上实现的模块功能其设计思想是尽量的静态化使得编译时就能确定模块的依赖关系以及输入和输出的变量是编译时加载使静态分析成为可能模块内部自动使用严格模式模块中的顶层指向命令命令用于规定模块的对外接口一个模块就是一个独立的文件该文件内部的所有变量外部无法获取如果希望外部可以获取必须使用关键字输出该变量通常情况下输出的变量就是本来的名字但可以使用关键字重命名命令规定的是对外的接口其必须与模块内部的变量建立一一对应关系命令输出的接口与其对应的值是动态绑定关系可以取到模块内部实时的值命令可以出现在模块的任何位置只要处于模块顶层就可以在块级作用域内使用会报错单个输出统一输出使用关键字重命名命令命令用于输入其他模块提供的功能变量函数等命令输入的变量都是只读的类似于常量即基本类型不可重新赋值引用类型可修改属性命令具有提升效果会提升到整个模块的头部首先执行命令是编译阶段执行的不能使用表达式和变量重复执行同一句命令只会执行一次后面的指定模块文件的位置其可以是相对路径也可以是绝对路径使用关键字重命名模块的整体加载命令命令可以为模块指定默认输出是对赋值的特例本质上是一种赋值输出匿名函数输出非匿名函数命令注意点一个模块只能有一个默认输出命令只能使用一次命令本质上是输出一个叫做的变量或方法使用时可以为它取任意名字命令后面是一个表达式不能跟变量声明语句错误正确直接输出和的区别导出的都是引用导出的都是值而不是引用是对赋值的特例本质上是一种赋值即后的语句会被视为表达式所以拿到的是值而不是引用是特例导出的是引用写法为引用导出导入时除外均为引用如何保证导入都是引用保证导入总是引用尽量使用命名导入使用除外的写法注意命名导出的写法少用默认导出做不到上面的要求时尽量把需要维持引用的变量使用封装不要使用简单变量相关文章精读默认命名导出的区别与的复合写法如果在一个模块之中需要先输入后输出同一个模块命令可以与命令写在一起等同于接口改名整体输出具名接口改为默认接口等同于默认接口改为具名接口整体加载等同于注意点在与的复合写法时输入的接口不能在当前模块中使用只是相当于对外转发了接口引入函数支持动态加载模块函数可以用在任何地方不仅仅是模块非模块的脚本也可以使用函数是运行时执行函数与所加载的模块没有静态连接关系函数类似于中的函数区别主要是前者是异步加载后者是同步加载函数的返回值是对象函数的使用场景按需加载条件加载动态的模块路径浏览器对的加载规则浏览器加载同样使用标签但是需要设置属性浏览器对于带有的都是异步加载不会堵塞浏览器即等到整个页面渲染完再执行模块脚本等同于设置了标签的属性有多个时会按照在页面出现的顺序依次执行等同于当同时设置了和属性时只要加载完成渲染引擎就会中断渲染立即执行等执行完成后再恢复渲染即不会按照在页面出现的顺序执行而是只要该模块加载完成就执行该模块在中使用内嵌在网页中使用时语法行为与加载外部脚本完全一致只需注意以下几点代码是在模块作用域之中运行而不是在全局作用域运行模块内部的顶层变量外部不可见自动采用严格模式不管有没有声明可以使用命令加载其他模块后缀不可省略需要提供绝对或相对也可以使用命令输出对外接口顶层的关键字返回而不是指向同一个模块如果加载多次将只执行一次小技巧利用顶层的等于这个语法点可以判断当前代码是否在模块之中是异步编程的一种解决方案比传统的解决方案回调函数和事件更合理和更强大对象具有以下种状态等待初始成功拒绝的特点对象的状态不受外界影响状态一旦改变就不会再变不可逆任何时候都可以得到这个结果无法取消一旦新建就会立即执行无法中途取消当处于状态时无法得知目前进展到哪一个阶段刚刚开始还是即将完成基本用法成功链式调用实例方法用于实例添加状态改变时的回调函数第一个参数是状态的回调函数第二个参数是状态的回调函数会返回的是一个新的实例用于指定状态的回调函数是或的别名用于指定不管对象最后状态如何都会执行的操作本质上是方法的特例实现方法静态方法将传入的参数转为对象参数是一个实例则直接返回参数是一个对象具有方法的对象转为对象再立即执行对象的方法参数不是具有方法的对象或根本就不是对象时返回一个状态的新对象没有参数时返回一个状态的新对象返回一个状态的新对象将多个实例包装成一个新的实例只有所有的状态成功才会成功如果其中一个的状态失败就会失败将多个实例包装成一个新的实例新的实例状态会根据最先更改状态的参数实例而更改状态可以轻松实现超时方法将多个实例包装成一个新的实例新的实例只有等到所有这些参数实例都返回结果不管是还是包装实例才会结束一旦结束状态总是将多个实例包装成一个新的实例只要参数实例有一个变成状态包装实例就会变成状态如果所有参数实例都变成状态包装实例才会变成状态实现简易实现规范实现原型方法静态方法实现',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-09-14 21:31:10',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="你别睡这么晚！" type="application/atom+xml">
</head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://avatars.githubusercontent.com/u/47170023?v=4"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://dont-sleep-so-late.github.io/" title="博客"><img class="back-menu-item-icon" src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">你别睡这么晚！</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 文档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=150767257&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 我的装备</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/wechatQRCode.jpg" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/wechatQRCode.jpg"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/qqQRCode.jpg" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/qqQRCode.jpg"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/API%E6%96%87%E6%A1%A3%E7%AE%A1%E7%90%86/" style="font-size: 1.05rem;">API文档管理<sup>1</sup></a><a href="/tags/CSS/" style="font-size: 1.05rem;">CSS<sup>4</sup></a><a href="/tags/CSS-Less/" style="font-size: 1.05rem;">CSS Less<sup>1</sup></a><a href="/tags/CSS-flex/" style="font-size: 1.05rem;">CSS flex<sup>1</sup></a><a href="/tags/CSS-grid/" style="font-size: 1.05rem;">CSS grid<sup>1</sup></a><a href="/tags/ES6/" style="font-size: 1.05rem;">ES6<sup>1</sup></a><a href="/tags/Express/" style="font-size: 1.05rem;">Express<sup>1</sup></a><a href="/tags/Git/" style="font-size: 1.05rem;">Git<sup>3</sup></a><a href="/tags/HTML/" style="font-size: 1.05rem;">HTML<sup>1</sup></a><a href="/tags/HTML5/" style="font-size: 1.05rem;">HTML5<sup>1</sup></a><a href="/tags/HTTP/" style="font-size: 1.05rem;">HTTP<sup>1</sup></a><a href="/tags/JS-WebStorage/" style="font-size: 1.05rem;">JS WebStorage<sup>1</sup></a><a href="/tags/JS-array/" style="font-size: 1.05rem;">JS array<sup>1</sup></a><a href="/tags/JS-%E6%A8%A1%E5%9D%97%E5%8C%96/" style="font-size: 1.05rem;">JS 模块化<sup>1</sup></a><a href="/tags/JavaScript/" style="font-size: 1.05rem;">JavaScript<sup>4</sup></a><a href="/tags/Mybatis/" style="font-size: 1.05rem;">Mybatis<sup>2</sup></a><a href="/tags/MybatisPlus/" style="font-size: 1.05rem;">MybatisPlus<sup>1</sup></a><a href="/tags/Nodejs/" style="font-size: 1.05rem;">Nodejs<sup>3</sup></a><a href="/tags/OpenAPI-Swagger/" style="font-size: 1.05rem;">OpenAPI/Swagger<sup>1</sup></a><a href="/tags/Spring/" style="font-size: 1.05rem;">Spring<sup>3</sup></a><a href="/tags/SpringBoot/" style="font-size: 1.05rem;">SpringBoot<sup>1</sup></a><a href="/tags/SpringMVC/" style="font-size: 1.05rem;">SpringMVC<sup>1</sup></a><a href="/tags/TCP/" style="font-size: 1.05rem;">TCP<sup>1</sup></a><a href="/tags/Vue/" style="font-size: 1.05rem;">Vue<sup>17</sup></a><a href="/tags/Vue3/" style="font-size: 1.05rem;">Vue3<sup>3</sup></a><a href="/tags/Vue%E6%8F%92%E4%BB%B6/" style="font-size: 1.05rem;">Vue插件<sup>1</sup></a><a href="/tags/Vue%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80/" style="font-size: 1.05rem;">Vue核心基础<sup>1</sup></a><a href="/tags/Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E7%BC%96%E7%A8%8B/" style="font-size: 1.05rem;">Vue组件化编程<sup>1</sup></a><a href="/tags/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/" style="font-size: 1.05rem;">Vue脚手架<sup>1</sup></a><a href="/tags/axios/" style="font-size: 1.05rem;">axios<sup>1</sup></a><a href="/tags/css/" style="font-size: 1.05rem;">css<sup>1</sup></a><a href="/tags/json-server/" style="font-size: 1.05rem;">json-server<sup>1</sup></a><a href="/tags/mysql/" style="font-size: 1.05rem;">mysql<sup>1</sup></a><a href="/tags/sass/" style="font-size: 1.05rem;">sass<sup>1</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size: 1.05rem;">前端开发<sup>1</sup></a><a href="/tags/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/" style="font-size: 1.05rem;">实用技巧<sup>1</sup></a><a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 1.05rem;">微信小程序<sup>4</sup></a><a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 1.05rem;">正则表达式<sup>1</sup></a><a href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86/" style="font-size: 1.05rem;">浏览器知识<sup>1</sup></a><a href="/tags/%E7%94%B5%E5%AD%90%E4%B9%A6%E5%AF%BC%E8%88%AA/" style="font-size: 1.05rem;">电子书导航<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">4</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">十二月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">4</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">7</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">九月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">44</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div><div class="console-btn-item" id="consoleKeyboard" onclick="anzhiyu.keyboardToggle()" title="快捷键开关"><a class="keyboard-switch"><i class="anzhiyufont anzhiyu-icon-keyboard"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" itemprop="url">前端开发</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/ES6/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>ES6</span></a></span></div></div><h1 class="post-title" itemprop="name headline">ES6常用知识</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2023-09-14T07:18:35.000Z" title="发表于 2023-09-14 15:18:35">2023-09-14</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2023-09-14T13:31:10.993Z" title="更新于 2023-09-14 21:31:10">2023-09-14</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">8.3k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>32分钟</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="ES6常用知识"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为湛江"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>湛江</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src=""></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://dont-sleep-so-late.github.io/2023/09/14/ES6%E5%B8%B8%E7%94%A8%E7%9F%A5%E8%AF%86/"><header><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" itemprop="url">前端开发</a><a href="/tags/ES6/" tabindex="-1" itemprop="url">ES6</a><h1 id="CrawlerTitle" itemprop="name headline">ES6常用知识</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">你别睡这么晚</span><time itemprop="dateCreated datePublished" datetime="2023-09-14T07:18:35.000Z" title="发表于 2023-09-14 15:18:35">2023-09-14</time><time itemprop="dateCreated datePublished" datetime="2023-09-14T13:31:10.993Z" title="更新于 2023-09-14 21:31:10">2023-09-14</time></header><p><code>ECMAScript 6</code> (简称 <code>ES6</code>) 是 <code>JavaScript</code> 语言的下一代标准</p>
<p><code>ECMAScript</code> 的提案流程</p>
<ul>
<li><code>Stage 0 - Strawman</code>（展示阶段）</li>
<li><code>Stage 1 - Proposal</code>（征求意见阶段）</li>
<li><code>Stage 2 - Draft</code>（草案阶段）</li>
<li><code>Stage 3 - Candidate</code>（候选人阶段）</li>
<li><code>Stage 4 - Finished</code>（定案阶段）</li>
</ul>
<p>一个提案只要能进入 <code>Stage 2</code> 就差不多肯定会包括在以后的正式标准里面</p>
<p><a target="_blank" rel="noopener" href="https://github.com/tc39/ecma262">ECMAScript 当前的所有提案</a></p>
<p>ES6 和 ES2015 的区别</p>
<p><code>ES2015</code> 是一个年份标记，表示当年发布的 <code>ECMAScript</code> 标准的正式版本，其全称为《<code>ECMAScript 2015</code> 标准》（简称 <code>ES2015</code>）<br><code>ES6</code> 是一个历史名词也是一个泛指，含义是 <code>5.1</code> 版以后的 <code>JavaScript</code> 的下一代标准，涵盖了 <code>ES2015、ES2016、ES2017 ES2018</code> 等等</p>
<hr>
<h2 id="let-const"><a href="#let-const" class="headerlink" title="let const"></a>let const</h2><p><code>ES6</code> 新增了 <strong><code>let</code></strong> 和 <strong><code>const</code></strong> 命令，用于声明变量，其声明的变量只在声明所在的块级作用域内有效</p>
<p>let const var 的区别</p>
<ul>
<li><code>var</code> 声明的变量会提升到作用域的顶部，<code>let const</code> 不存在变量提升</li>
<li><code>var</code> 声明的全局变量会被挂载到全局对象 <code>window</code> 上，而 <code>let const</code> 不会</li>
<li><code>var</code> 可以对一个变量进行重复声明，而 <code>let const</code> 不能重复声明</li>
<li><code>var</code> 声明的变量作用域范围是函数作用域，<code>let const</code> 声明的变量作用域范围是块级作用域</li>
<li><code>const</code>声明的是一个只读的常量，一旦声明常量的值就不能改变(必须对变量进行初始化)<ul>
<li>基本类型保证值不可变</li>
<li>引用类型保证内存指针不可变</li>
</ul>
</li>
</ul>
<h3 id="变量提升"><a href="#变量提升" class="headerlink" title="变量提升"></a>变量提升</h3><p>变量提升是指<strong>在代码执行过程中 <code>var</code> 变量和函数声明会在它们被实际执行之前被”提升”到它们所在作用域的顶部</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// 输出 undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// 报错</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c) <span class="comment">// 报错</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;var&#x27;</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="string">&#x27;let&#x27;</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="string">&#x27;const&#x27;</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/535442142/answer/2510328090">为什么 let 和 const 不存在变量提升？ - 知乎</a></p>
<p>函数声明优先于变量声明，函数声明会覆盖变量声明</p>
<p>变量提升</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* var 变量声明 */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;var&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 函数声明 */</span></span><br><span class="line"><span class="title function_">fn</span>() <span class="comment">// function a() &#123; console.log(&#x27;fn&#x27;) &#125;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fn&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在同一作用域内存在同名的函数声明和 <code>var</code> 变量声明时<strong>函数声明会覆盖变量声明</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// function a() &#123; console.log(&#x27;fn&#x27;) &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;var&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fn&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="挂载到全局对象"><a href="#挂载到全局对象" class="headerlink" title="挂载到全局对象"></a>挂载到全局对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;var&#x27;</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="string">&#x27;let&#x27;</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="string">&#x27;const&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">a</span>) <span class="comment">// 输出 var</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">b</span>) <span class="comment">// 输出 undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">c</span>) <span class="comment">// 输出 undefined</span></span><br></pre></td></tr></table></figure>

<h3 id="重复声明"><a href="#重复声明" class="headerlink" title="重复声明"></a>重复声明</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;var&#x27;</span></span><br><span class="line"><span class="keyword">var</span> a</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// 输出 var</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="string">&#x27;let&#x27;</span>	</span><br><span class="line"><span class="keyword">let</span> b <span class="comment">// 报错</span></span><br></pre></td></tr></table></figure>

<p>同一作用域下let和const不能声明同名变量，而var可以</p>
<h3 id="作用域范围"><a href="#作用域范围" class="headerlink" title="作用域范围"></a>作用域范围</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="string">&#x27;var&#x27;</span></span><br><span class="line">    <span class="keyword">let</span> b = <span class="string">&#x27;let&#x27;</span></span><br><span class="line">	<span class="keyword">const</span> c = <span class="string">&#x27;const&#x27;</span></span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// 输出 var</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// 输出 let</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(c) <span class="comment">// 输出 const</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// 输出 var</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// 报错</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(c) <span class="comment">// 报错</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fn</span>()</span><br></pre></td></tr></table></figure>

<p>let和const只能在块作用域里访问</p>
<h3 id="const-常量定义"><a href="#const-常量定义" class="headerlink" title="const 常量定义"></a>const 常量定义</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">NAME</span> = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="variable constant_">NAME</span> = <span class="string">&#x27;strawberry2002&#x27;</span> <span class="comment">// 报错</span></span><br></pre></td></tr></table></figure>

<p>const定义常量，而且不能修改，<code>但是在定义的对象时对象属性值可以改变</code></p>
<hr>
<h2 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h2><p>模板字符串 (template string) 是增强版的字符串，用反引号(<strong>&#96;</strong>)标识。它可以当作普通字符串、定义多行字符串或者在字符串中嵌入变量、函数调用以及表达式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">let</span> age = <span class="number">18</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ES5 拼接字符串 */</span></span><br><span class="line"><span class="keyword">let</span> es5Str = <span class="string">&#x27;我叫: &#x27;</span> + name + <span class="string">&#x27;，我的年龄是: &#x27;</span> + (age + <span class="number">1</span>) + <span class="string">&#x27; 岁&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ES6 模板字符串 */</span></span><br><span class="line"><span class="keyword">let</span> es6Str = <span class="string">`我叫: <span class="subst">$&#123;name&#125;</span>，我的年龄是: <span class="subst">$&#123;age + <span class="number">1</span>&#125;</span> 岁`</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h2><h3 id="解构对象"><a href="#解构对象" class="headerlink" title="解构对象"></a>解构对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;strawberry&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5 写法</span></span><br><span class="line"><span class="keyword">const</span> name = obj.<span class="property">name</span></span><br><span class="line"><span class="keyword">const</span> age = obj.<span class="property">age</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ES6 解构写法 */</span></span><br><span class="line"><span class="keyword">const</span> &#123; name, age &#125; = obj</span><br><span class="line"><span class="comment">// 重命名</span></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="attr">name</span>: myName &#125; = obj</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 指定默认值 */</span></span><br><span class="line"><span class="keyword">const</span> &#123; x = <span class="number">1</span>, y = <span class="number">2</span> &#125; = &#123; <span class="attr">y</span>: <span class="literal">null</span> &#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x) <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y) <span class="comment">// null</span></span><br></pre></td></tr></table></figure>

<h3 id="解构数组"><a href="#解构数组" class="headerlink" title="解构数组"></a>解构数组</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;strawberry&#x27;</span>, <span class="number">18</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ES5 写法 */</span></span><br><span class="line"><span class="keyword">const</span> name = arr[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">const</span> age = arr[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ES6 解构写法 */</span></span><br><span class="line"><span class="keyword">const</span> [name, age] = arr</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="number">0</span>: name, <span class="number">1</span>: age &#125; = arr</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 指定默认值 */</span></span><br><span class="line"><span class="keyword">const</span> [x = <span class="number">1</span>] = []</span><br><span class="line"><span class="keyword">const</span> [y = <span class="number">2</span>] = [<span class="literal">undefined</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x) <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y) <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [z = <span class="number">3</span>] = [<span class="literal">null</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(z) <span class="comment">// null</span></span><br></pre></td></tr></table></figure>

<h3 id="解构字符串"><a href="#解构字符串" class="headerlink" title="解构字符串"></a>解构字符串</h3><p>字符串也可以解构赋值，因为字符串被转换成了一个类似数组的对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [a, b, c] = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// m</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b) <span class="comment">// a</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(c) <span class="comment">// o</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 解构 length 属性 */</span></span><br><span class="line"><span class="keyword">const</span> &#123; length &#125; = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(length) <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>

<p>解构赋值注意点</p>
<ul>
<li>解构数组和字符串时变量的取值由它的位置决定</li>
<li>解构对象时变量必须与属性同名，才能取到正确的值</li>
<li>变量在没有找到对应的值，多余的变量会被赋值为 <code>undefined</code></li>
<li>在指定默认值时，只有属性值严格等于 <code>undefined</code> 才会生效</li>
<li>数组本质是特殊的对象，因此可以对数组进行对象属性的解构</li>
<li>解构数值和布尔值时会通过其对应的包装函数将其转换成对象再解构</li>
<li><code>undefined</code> 和 <code>null</code> 无法转为对象，在解构时会报错</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; toString &#125; = <span class="number">123</span></span><br><span class="line">toString === <span class="title class_">Number</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; toString &#125; = <span class="literal">true</span></span><br><span class="line">toString === <span class="title class_">Boolean</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span> <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; x &#125; = <span class="literal">undefined</span> <span class="comment">// TypeError</span></span><br><span class="line"><span class="keyword">const</span> &#123; y &#125; = <span class="literal">null</span> <span class="comment">// TypeError</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="函数的扩展"><a href="#函数的扩展" class="headerlink" title="函数的扩展"></a>函数的扩展</h2><h3 id="参数默认值"><a href="#参数默认值" class="headerlink" title="参数默认值"></a>参数默认值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ES5 */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="comment">// 当参数 y 对应的布尔值为 false 则该赋值不起作用</span></span><br><span class="line">  y = y || <span class="number">1</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(x + y)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">add</span>(<span class="number">10</span>) <span class="comment">// 11</span></span><br><span class="line"><span class="title function_">add</span>(<span class="number">10</span>, <span class="number">2</span>) <span class="comment">// 12</span></span><br><span class="line"><span class="title function_">add</span>(<span class="number">10</span>, <span class="number">0</span>) <span class="comment">// 11</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ES6 */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x, y = <span class="number">1</span></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(x + y)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">add</span>(<span class="number">10</span>) <span class="comment">// 11</span></span><br><span class="line"><span class="title function_">add</span>(<span class="number">10</span>, <span class="number">2</span>) <span class="comment">// 12</span></span><br><span class="line"><span class="title function_">add</span>(<span class="number">10</span>, <span class="number">0</span>) <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<p>函数参数的默认值</p>
<ul>
<li>参数变量是默认声明的不能用 <code>let</code>或 <code>const</code> 再次声明，否则会报错</li>
<li>使用参数默认值时函数不能有同名参数</li>
<li>参数默认值的位置应该是函数的尾参数</li>
</ul>
<h3 id="剩余参数-rest-参数"><a href="#剩余参数-rest-参数" class="headerlink" title="剩余参数(rest 参数)"></a>剩余参数(rest 参数)</h3><p><code>ES6</code> 引入 <code>rest</code> 参数(形式为 <code>...变量名</code>) 用于获取函数的剩余参数(可以替换 <code>arguments</code> 对象)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">name, ...params</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(name, params)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">log</span>(<span class="string">&#x27;strawberry&#x27;</span>, <span class="number">1</span>, <span class="number">2</span>) <span class="comment">// strawberry [1, 2]</span></span><br><span class="line"><span class="title function_">log</span>(<span class="string">&#x27;strawberry&#x27;</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) <span class="comment">// strawberry [1, 2, 3]</span></span><br></pre></td></tr></table></figure>

<p>剩余参数(rest 参数)</p>
<ul>
<li><code>rest</code> 参数是一个真正的数组，数组特有的方法都可以使用</li>
<li><code>rest</code> 参数之后不能再有其他参数，否则会报错</li>
<li>函数的 <code>length</code> 属性，不包括 <code>rest</code> 参数</li>
</ul>
<h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><p><code>ES6</code> 允许使用<strong>箭头</strong>(<code>=&gt;</code>)定义函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不需要参数时使用一个圆括号代表参数部分</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">fn</span> = (<span class="params"></span>) =&gt; &#123;&#125;</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">const</span> fn = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 当函数体只有 return 时</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">fn</span> = (<span class="params">value</span>) =&gt; value</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">const</span> fn = <span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>箭头函数与普通函数的区别</strong></p>
<ul>
<li><code>this</code><ul>
<li>普通函数<ul>
<li><code>this</code> 指向是动态的(取决于函数的调用方式)</li>
<li>可以用 <code>call apply bind</code> 改变 <code>this</code> 指向</li>
</ul>
</li>
<li>箭头函数<ul>
<li><code>this</code> 指向是固定的，指向定义时上层作用域中的 <code>this</code>(它没有自己的 <code>this</code>)</li>
<li><code>call apply bind</code> 无法改变箭头函数的 <code>this</code> 指向(上下文值始终按词法解析)</li>
<li>全局作用域下 <code>this</code> 指向全局对象</li>
</ul>
</li>
</ul>
</li>
<li>箭头函数不可以当作构造函数(不能使用 <code>new</code> 运算符，否则会报错)</li>
<li>箭头函数的函数体内不可以使用<code>arguments super new.target</code></li>
<li>箭头函数不可以使用 yield 命令(不能用作 <code>Generator</code> 函数)</li>
<li>在 <code>class</code> 中使用箭头函数其 <code>this</code> 会和类实例进行绑定</li>
</ul>
<p>注意点(以下场合不应该使用箭头函数)</p>
<ul>
<li>定义对象方法且该方法内部包括 <code>this</code> 时</li>
<li>定义原型方法且该方法内部包括 <code>this</code> 时</li>
<li>需要动态 <code>this</code> 时</li>
</ul>
<p>[利用 <code>babel</code> 编译箭头函数代码查看 <code>this</code> 的指向](<a target="_blank" rel="noopener" href="https://www.babeljs.cn/repl#?browsers=defaults%2C">https://www.babeljs.cn/repl#?browsers=defaults%2C</a> not ie 11%2C not ie_mob 11&amp;build&#x3D;&amp;builtIns&#x3D;false&amp;corejs&#x3D;3.6&amp;spec&#x3D;false&amp;loose&#x3D;false&amp;code_lz&#x3D;MYewdgzgLgBANiA5jAvDAFASlQPhgbwCgYZRIQ4BTAOgUXQHI6YoALASwgC4GAaFjhEyEAvoUIAzAK5hgUduBgSwWAsRgRKUACrsAtpRBSo6VSjxESJMhAo06jZQM49-bTsJIj-ARgAMfsIiQA&amp;debug&#x3D;false&amp;forceAllTransforms&#x3D;true&amp;shippedProposals&#x3D;false&amp;circleciRepo&#x3D;&amp;evaluate&#x3D;false&amp;fileSize&#x3D;false&amp;timeTravel&#x3D;false&amp;sourceType&#x3D;script&amp;lineWrap&#x3D;true&amp;presets&#x3D;env%2Creact&amp;prettier&#x3D;false&amp;targets&#x3D;&amp;version&#x3D;7.17.11&amp;externalPlugins&#x3D;&amp;assumptions&#x3D;{})</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ES6 */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">log</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;log this:&#x27;</span>, <span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fn this:&#x27;</span>, <span class="variable language_">this</span>)</span><br><span class="line">  &#125;, <span class="number">100</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* babel 编译后的 ES5 代码 */</span></span><br><span class="line"><span class="keyword">var</span> _this = <span class="variable language_">this</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> log = <span class="keyword">function</span> <span class="title function_">log</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;log this:&#x27;</span>, _this)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> _this2 = <span class="variable language_">this</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fn this:&#x27;</span>, _this2)</span><br><span class="line">  &#125;, <span class="number">100</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="扩展运算符"><a href="#扩展运算符" class="headerlink" title="扩展运算符"></a>扩展运算符</h2><p>扩展运算符 (<code>spread</code>)是三个点 (<code>...</code>) 它好比 <code>rest</code> 参数的逆运算</p>
<ul>
<li>数组的扩展运算符会将数组转为用逗号分隔的参数序列</li>
<li>对象的扩展运算符会取出参数对象的所有可遍历属性，拷贝到当前对象之中</li>
</ul>
<h3 id="函数调用"><a href="#函数调用" class="headerlink" title="函数调用"></a>函数调用</h3><p>扩展运算符在函数调用时可以将一个数组变为参数序列，从而可以替代函数的 <code>apply()</code> 方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 举个 🌰 求出一个数组最大元素</span></span><br><span class="line"><span class="comment">/* ES5 写法 */</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="property">max</span>.<span class="title function_">apply</span>(<span class="literal">null</span>, [<span class="number">2022</span>, <span class="number">520</span>, <span class="number">1314</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ES6 写法 */</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">max</span>(...[<span class="number">2022</span>, <span class="number">520</span>, <span class="number">1314</span>])</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">2022</span>, <span class="number">520</span>, <span class="number">1314</span>)</span><br></pre></td></tr></table></figure>

<h3 id="拷贝数组-对象"><a href="#拷贝数组-对象" class="headerlink" title="拷贝数组&#x2F;对象"></a>拷贝数组&#x2F;对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 拷贝数组 */</span></span><br><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="comment">// 写法一</span></span><br><span class="line"><span class="keyword">const</span> arr2 = [...arr1]</span><br><span class="line"><span class="comment">// 写法二</span></span><br><span class="line"><span class="keyword">const</span> [...arr2] = arr1</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 拷贝对象 */</span></span><br><span class="line"><span class="keyword">const</span> obj1 = &#123; <span class="attr">name</span>: <span class="string">&#x27;strawberry&#x27;</span> &#125;</span><br><span class="line"><span class="comment">// 写法一</span></span><br><span class="line"><span class="keyword">const</span> obj2 = &#123; ...obj1 &#125;</span><br><span class="line"><span class="comment">// 写法二</span></span><br><span class="line"><span class="keyword">const</span> &#123; ...obj2 &#125; = obj1</span><br></pre></td></tr></table></figure>

<h3 id="合并数组-对象"><a href="#合并数组-对象" class="headerlink" title="合并数组&#x2F;对象"></a>合并数组&#x2F;对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 合并数组 */</span></span><br><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> arr = [...arr1, ...arr2]</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 合并对象 */</span></span><br><span class="line"><span class="keyword">const</span> obj1 = &#123; <span class="attr">name</span>: <span class="string">&#x27;strawberry&#x27;</span> &#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123; <span class="attr">age</span>: <span class="number">18</span> &#125;</span><br><span class="line"><span class="keyword">const</span> obj = &#123; ...obj1, ...obj2 &#125;</span><br></pre></td></tr></table></figure>

<h3 id="使用表达式"><a href="#使用表达式" class="headerlink" title="使用表达式"></a>使用表达式</h3><blockquote>
<p>展开对象</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  ...(<span class="literal">false</span> ? &#123; <span class="attr">a</span>: <span class="number">1</span> &#125; : &#123;&#125;),</span><br><span class="line">  <span class="attr">b</span>: <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &#123;b: 2&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  ...(<span class="literal">true</span> ? &#123; <span class="attr">a</span>: <span class="number">1</span> &#125; : &#123;&#125;),</span><br><span class="line">  <span class="attr">b</span>: <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &#123;a: 1, b: 2&#125;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>展开数组</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [...(<span class="literal">false</span> ? [<span class="number">1</span>] : []), <span class="number">2</span>]</span><br><span class="line"><span class="comment">// [2]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = [...(<span class="literal">true</span> ? [<span class="number">1</span>] : []), <span class="number">2</span>]</span><br><span class="line"><span class="comment">// [1, 2]</span></span><br></pre></td></tr></table></figure>

<h3 id="与解构赋值结合"><a href="#与解构赋值结合" class="headerlink" title="与解构赋值结合"></a>与解构赋值结合</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ES5 写法 */</span></span><br><span class="line"><span class="keyword">const</span> first = arr1[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">const</span> rest = arr1.<span class="title function_">slice</span>(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ES6 写法 */</span></span><br><span class="line"><span class="keyword">const</span> [first, ...rest] = arr1</span><br></pre></td></tr></table></figure>

<p>扩展运算符</p>
<ul>
<li>使用扩展运算符拷贝数组或对象时其都是<strong>浅拷贝</strong></li>
<li>对象的扩展运算符等同于使用 <code>Object.assign()</code> 方法</li>
<li>只有函数调用时扩展运算符才可以放在圆括号中，否则会报错</li>
<li>扩展运算符用于赋值时只能放在参数的最后一位，否则会报错</li>
<li>在扩展运算符展开数组时，其参数必须要有 <code>iterator</code> 接口，否则会报错</li>
<li>在扩展运算符展开对象时，其参数如果不是对象时会自动转为对象（调用 <code>Object()</code>）</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 等同于 &#123;...Object(1)&#125;</span></span><br><span class="line">&#123;...<span class="number">1</span>&#125; <span class="comment">// &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于 &#123;...Object(true)&#125;</span></span><br><span class="line">&#123;...<span class="literal">true</span>&#125; <span class="comment">// &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于 &#123;...Object(undefined)&#125;</span></span><br><span class="line">&#123;...<span class="literal">undefined</span>&#125; <span class="comment">// &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于 &#123;...Object(null)&#125;</span></span><br><span class="line">&#123;...<span class="literal">null</span>&#125; <span class="comment">// &#123;&#125;</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="数组的扩展"><a href="#数组的扩展" class="headerlink" title="数组的扩展"></a>数组的扩展</h2><h3 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from()"></a>Array.from()</h3><p><code>Array.from()</code> 用于将两类对象转为真正的数组</p>
<ul>
<li>类似数组的对象 (<code>array-like object</code>)<ul>
<li><code>DOM</code> 操作返回的 <code>NodeList</code></li>
<li><code>arguments</code> 对象</li>
</ul>
</li>
<li>可遍历 (<code>iterable</code>) 的对象 (包括 <code>ES6</code> 新增的数据结构 <code>Set</code> 和 <code>Map</code>)</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* array-like object 转数组 */</span></span><br><span class="line"><span class="keyword">const</span> arrayLike = &#123;</span><br><span class="line">  <span class="number">0</span>: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">  <span class="number">1</span>: <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">  <span class="number">2</span>: <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">  <span class="attr">length</span>: <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5 写法</span></span><br><span class="line"><span class="keyword">var</span> arr1 = [].<span class="property">slice</span>.<span class="title function_">call</span>(arrayLike) <span class="comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6 写法</span></span><br><span class="line"><span class="keyword">let</span> arr2 = <span class="title class_">Array</span>.<span class="title function_">from</span>(arrayLike) <span class="comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>Array.from()</p>
<p><code>Array.from()</code> 可以接受一个函数作为第二个参数，作用类似于数组的<code>map()</code> 用来对每个元素进行处理，将处理后的值放入返回的数组</p>
<p>在字符串转为数组时 <code>Array.from()</code> 能正确处理各种 <code>Unicode</code> 字符，可以避免 <code>JavaScript</code> 将大于 <code>\uFFFF</code> 的 <code>Unicode</code> 字符算作两个字符的 <code>bug</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;𠮷&#x27;</span>.<span class="property">length</span> <span class="comment">// 2</span></span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="string">&#x27;𠮷&#x27;</span>).<span class="property">length</span> <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;👪&#x27;</span>.<span class="property">length</span> <span class="comment">// 2</span></span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="string">&#x27;👪&#x27;</span>).<span class="property">length</span> <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<h3 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of()"></a>Array.of()</h3><p><code>Array.of()</code> 用于将一组值转换为数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="title function_">of</span>(<span class="number">3</span>, <span class="number">11</span>, <span class="number">8</span>) <span class="comment">// [3,11,8]</span></span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">of</span>(<span class="number">3</span>) <span class="comment">// [3]</span></span><br><span class="line"><span class="title class_">Array</span>.<span class="title function_">of</span>(<span class="number">3</span>).<span class="property">length</span> <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<p>Array.of()</p>
<p><code>Array.of()</code> 方法的主要目的是弥补数组构造函数 <code>Array()</code> 的不足(因为参数个数的不同会导致<code>Array()</code>的行为有差异)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>() <span class="comment">// []</span></span><br><span class="line"><span class="title class_">Array</span>(<span class="number">3</span>) <span class="comment">// [, , ,]</span></span><br><span class="line"><span class="title class_">Array</span>(<span class="number">3</span>, <span class="number">11</span>, <span class="number">8</span>) <span class="comment">// [3, 11, 8]</span></span><br></pre></td></tr></table></figure>

<p><code>Array.of()</code> 总是返回参数值组成的数组。如果没有参数就返回一个空数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Array.of() 的模拟实现 */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">ArrayOf</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> [].<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="实例方法-includes"><a href="#实例方法-includes" class="headerlink" title="实例方法: includes()"></a>实例方法: includes()</h3><p><code>includes()</code> 方法返回一个布尔值，表示某个数组是否包含给定的值(<code>ES2016</code> 引入)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="title class_">NaN</span>]</span><br><span class="line">arr.<span class="title function_">includes</span>(<span class="number">2</span>) <span class="comment">// true</span></span><br><span class="line">arr.<span class="title function_">includes</span>(<span class="number">4</span>) <span class="comment">// false</span></span><br><span class="line">arr.<span class="title function_">includes</span>(<span class="title class_">NaN</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>includes() 和 indexOf() 的对比</p>
<p><code>indexOf()</code> 不够语义化，其含义是找到参数值的第一个出现位置，所以要去比较是否不等于 <code>-1</code>，表达起来不够直观<br><code>indexOf()</code> 内部使用严格相等运算符 (<code>===</code>) 进行判断，这会导致对 <code>NaN</code> 的误判</p>
<h3 id="实例方法-find-和-findIndex"><a href="#实例方法-find-和-findIndex" class="headerlink" title="实例方法: find() 和 findIndex()"></a>实例方法: find() 和 findIndex()</h3><p><code>find()</code> 方法用于找出第一个符合条件的数组成员，如果<strong>没有符合条件的成员则返回 <code>undefined</code></strong></p>
<p><code>findIndex()</code> 方法用于找出第一个符合条件的数组成员的位置，如果<strong>没有符合条件的成员则返回 <code>-1</code></strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">/* find() */</span></span><br><span class="line">arr.<span class="title function_">find</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item &gt; <span class="number">9</span>) <span class="comment">// 10</span></span><br><span class="line">arr.<span class="title function_">find</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item === <span class="number">9</span>) <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* findIndex() */</span></span><br><span class="line">arr.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item &gt; <span class="number">9</span>) <span class="comment">// 2</span></span><br><span class="line">arr.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item === <span class="number">9</span>) <span class="comment">// -1</span></span><br></pre></td></tr></table></figure>

<h3 id="实例方法-at"><a href="#实例方法-at" class="headerlink" title="实例方法: at()"></a>实例方法: at()</h3><p><code>at()</code> 方法接受一个整数(支持负数)作为参数返回对应位置的成员，如果<strong>参数位置超出了数组范围则返回 <code>undefined</code></strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;strawberry&#x27;</span>, <span class="number">18</span>]</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">at</span>(<span class="number">0</span>) <span class="comment">// &#x27;strawberry&#x27;</span></span><br><span class="line">arr.<span class="title function_">at</span>(-<span class="number">1</span>) <span class="comment">// 18</span></span><br><span class="line">arr.<span class="title function_">at</span>(<span class="number">99</span>) <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<h3 id="实例方法-flat-和-flatMap"><a href="#实例方法-flat-和-flatMap" class="headerlink" title="实例方法: flat() 和 flatMap()"></a>实例方法: flat() 和 flatMap()</h3><p><code>flat()</code> 方法用于将嵌套的数组拍平变成一维的数组，该方法<strong>返回一个新数组不改变原数组</strong></p>
<p><code>flatMap()</code> 方法会先对原数组的每个成员执行一个函数(相当于执行 <code>Array.prototype.map()</code>) 然后对返回值组成的数组执行 <code>flat()</code> 方法，该方法<strong>返回一个新数组不改变原数组</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* flat() */</span></span><br><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>, <span class="number">5</span>]]]</span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="number">1</span>, <span class="number">2</span>, , <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">arr1.<span class="title function_">flat</span>() <span class="comment">// [1, 2, 3, [4, 5]]</span></span><br><span class="line">arr1.<span class="title function_">flat</span>(<span class="number">2</span>) <span class="comment">// [1, 2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line">arr2.<span class="title function_">flat</span>() <span class="comment">// [1, 2, 4, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* flatMap() */</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">arr.<span class="title function_">flatMap</span>(<span class="function">(<span class="params">x</span>) =&gt;</span> [[x * <span class="number">2</span>]]) <span class="comment">// [[2], [4], [6], [8]]</span></span><br><span class="line"><span class="comment">// 相当于 [[2, 4], [3, 6], [4, 8]].flat()</span></span><br></pre></td></tr></table></figure>

<p>flat() 和 flatMap() 注意点</p>
<ul>
<li><code>flat()</code> 方法默认只会拉平一层</li>
<li><code>flat()</code>方法会跳过原数组中的空位</li>
<li><code>flatMap()</code> 只能展开一层数组</li>
</ul>
<hr>
<h2 id="对象的扩展"><a href="#对象的扩展" class="headerlink" title="对象的扩展"></a>对象的扩展</h2><h3 id="属性简写"><a href="#属性简写" class="headerlink" title="属性简写"></a>属性简写</h3><p><code>ES6</code> 允许在大括号里面直接写入变量和函数作为对象的属性和方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 属性简写 */</span></span><br><span class="line"><span class="comment">// ES5 写法</span></span><br><span class="line"><span class="keyword">const</span> key = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">key</span>: key &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6 写法</span></span><br><span class="line"><span class="keyword">const</span> key = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123; key &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 方法简写 */</span></span><br><span class="line"><span class="comment">// ES5 写法</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">log</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;strawberry&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6 写法</span></span><br><span class="line"><span class="keyword">const</span> key = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="title function_">log</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>属性简写</p>
<p>简写的对象方法不能用作构造函数否则会报错</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="title function_">f</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> obj.<span class="title function_">f</span>() <span class="comment">// 报错</span></span><br></pre></td></tr></table></figure>

<h3 id="属性名表达式"><a href="#属性名表达式" class="headerlink" title="属性名表达式"></a>属性名表达式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义属性名</span></span><br><span class="line"><span class="keyword">const</span> key = <span class="string">&#x27;age&#x27;</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  [<span class="string">&#x27;name&#x27;</span> + <span class="number">1</span>]: <span class="string">&#x27;strawberry&#x27;</span>,</span><br><span class="line">  [key]: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义方法名</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  [<span class="string">&#x27;log&#x27;</span> + <span class="string">&#x27;name&#x27;</span>]() &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;strawberry&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>属性名表达式</p>
<p>属性名表达式与属性简写不能同时使用否则会报错</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 报错</span></span><br><span class="line"><span class="keyword">const</span> key = <span class="string">&#x27;name&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> obj = &#123; [key] &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 正确</span></span><br><span class="line"><span class="keyword">const</span> key = <span class="string">&#x27;name&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> obj = &#123; [key]: <span class="string">&#x27;strawberry&#x27;</span>&#125;;</span><br></pre></td></tr></table></figure>

<p>属性名表达式如果是一个对象会自动将其转为字符串 <code>[object Object]</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> keyA = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">const</span> keyB = &#123; <span class="attr">b</span>: <span class="number">2</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  [keyA]: <span class="string">&#x27;valueA&#x27;</span>,</span><br><span class="line">  [keyB]: <span class="string">&#x27;valueB&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj) <span class="comment">// &#123;[object Object]: &#x27;valueB&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="Object-is"><a href="#Object-is" class="headerlink" title="Object.is()"></a>Object.is()</h3><p><code>Object.is()</code> 方法用来比较两个值是否严格相等，严格比较运算符 (<code>===</code>) 的行为基本一致</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;key&#x27;</span>) <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(&#123;&#125;, &#123;&#125;) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>Object.is() 与 &#x3D;&#x3D;&#x3D; 的不同之处：<code>+0 不等于 -0</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* +0 不等于 -0 */</span></span><br><span class="line">;+<span class="number">0</span> === -<span class="number">0</span> <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(+<span class="number">0</span>, -<span class="number">0</span>) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* NaN 等于自身 */</span></span><br><span class="line"><span class="title class_">NaN</span> === <span class="title class_">NaN</span> <span class="comment">// false</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(<span class="title class_">NaN</span>, <span class="title class_">NaN</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign()"></a>Object.assign()</h3><p><code>Object.assign()</code> 方法用于对象的合并，将源对象的所有可枚举属性复制到目标对象（第一个参数是目标对象后面的参数都是源对象）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> target = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">1</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> source1 = &#123; <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">2</span> &#125;</span><br><span class="line"><span class="keyword">const</span> source2 = &#123; <span class="attr">c</span>: <span class="number">3</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(target, source1, source2)</span><br></pre></td></tr></table></figure>

<h5 id="只有一个参数时会直接返回该参数"><a href="#只有一个参数时会直接返回该参数" class="headerlink" title="只有一个参数时会直接返回该参数"></a>只有一个参数时会直接返回该参数</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(obj) === obj <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h5 id="传入参数不是对象时会先转成对象再返回"><a href="#传入参数不是对象时会先转成对象再返回" class="headerlink" title="传入参数不是对象时会先转成对象再返回"></a>传入参数不是对象时会先转成对象再返回</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="number">1</span>) <span class="comment">// &quot;object&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="literal">true</span>) <span class="comment">// &quot;object&quot;</span></span><br></pre></td></tr></table></figure>

<h5 id="传入非对象类型的场景"><a href="#传入非对象类型的场景" class="headerlink" title="传入非对象类型的场景"></a>传入非对象类型的场景</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* undefined 和 null */</span></span><br><span class="line"><span class="comment">// 首位参数时会报错</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="literal">undefined</span>) <span class="comment">// TypeError</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="literal">null</span>) <span class="comment">// TypeError</span></span><br><span class="line"><span class="comment">// 非首位参数时会忽略</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(obj, <span class="literal">undefined</span>) === obj <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(obj, <span class="literal">null</span>) === obj <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 非首位参数为数值 布尔值 字符串时 */</span></span><br><span class="line"><span class="comment">// 数值和布尔值会忽略</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(obj, <span class="number">1</span>, <span class="literal">true</span>) === obj <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 字符串会以字符数组的形式做合并</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, <span class="string">&#x27;strawberry&#x27;</span>) <span class="comment">// &#123;0: &#x27;m&#x27;, 1: &#x27;a&#x27;, 2: &#x27;o&#x27;, 3: &#x27;m&#x27;, 4: &#x27;a&#x27;, 5: &#x27;o&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 数组 */</span></span><br><span class="line"><span class="comment">// 当参数都为数组时</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]) <span class="comment">// [4, 5, 3]</span></span><br><span class="line"><span class="comment">// 当首位参数为对象时，后续参数为数组时</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123; <span class="attr">a</span>: <span class="number">1</span> &#125;, [<span class="number">1</span>, <span class="number">2</span>]) <span class="comment">// &#123;0: 1, 1: 2, a: 1&#125;</span></span><br></pre></td></tr></table></figure>

<h5 id="传入数组时会把数组当对象处理"><a href="#传入数组时会把数组当对象处理" class="headerlink" title="传入数组时会把数组当对象处理"></a>传入数组时会把数组当对象处理</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]) <span class="comment">// [4, 5, 3]</span></span><br></pre></td></tr></table></figure>

<p>Object.assign() 总结和应用场景</p>
<p>总结</p>
<ul>
<li><code>Object.assign()</code> 是<strong>浅拷贝</strong>方法</li>
<li>存在同名属性时，后面的属性会覆盖前面的属性</li>
<li>只有一个参数时会直接返回该参数</li>
<li>传入参数不是对象时会先转成对象再返回</li>
<li>传入 <code>undefined</code>和 <code>null</code>时</li>
<li>如果为第一个参数会报错（无法转成对象）</li>
<li>如果不为第一个参数时会被忽略</li>
<li>传入数组时会把数组当对象处理</li>
</ul>
<p>应用场景</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 为对象添加属性 */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="variable language_">this</span>, &#123; x, y &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 为对象添加方法 */</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>, &#123;</span><br><span class="line">  <span class="title function_">log</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 拷贝对象 */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">clone</span> = (<span class="params">origin</span>) =&gt; <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, origin)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 合并多个对象 */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">merge</span> = (<span class="params">target, ...sources</span>) =&gt; <span class="title class_">Object</span>.<span class="title function_">assign</span>(target, ...sources)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 为属性指定默认值 */</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">DEFAULTS</span> = &#123; <span class="attr">duration</span>: <span class="number">2000</span> &#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">toast</span>(<span class="params">options</span>) &#123;</span><br><span class="line">  options = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, <span class="variable constant_">DEFAULTS</span>, options)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">toast</span>(&#123; <span class="attr">content</span>: <span class="string">&#x27;提示&#x27;</span> &#125;) <span class="comment">// &#123;duration: 2000, content: &#x27;提示&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="Object-keys-Object-value-Object-entries"><a href="#Object-keys-Object-value-Object-entries" class="headerlink" title="Object.keys() Object.value() Object.entries()"></a>Object.keys() Object.value() Object.entries()</h3><p><code>Object.keys()</code> 方法返回一个数组，其成员为参数对象自身的（不含继承的）所有可遍历属性的键名(<code>ES5</code> 引入)</p>
<p><code>Object.value()</code> 方法返回一个数组，其成员为参数对象自身的（不含继承的）所有可遍历属性的键值(<code>ES2017</code> 引入)</p>
<p><code>Object.entries()</code> 方法返回一个数组（二维数组），其成员为参数对象自身的（不含继承的）所有可遍历属性的键值对数组(<code>ES2017</code> 引入)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">name</span>: <span class="string">&#x27;strawberry&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">keys</span>(obj) <span class="comment">// [&#x27;name&#x27;, &#x27;age&#x27;]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">values</span>(obj) <span class="comment">//  [&#x27;strawberry&#x27;, 18]</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">entries</span>(obj) <span class="comment">// [[&#x27;name&#x27;, &#x27;strawberry&#x27;], [&#x27;age&#x27;, 18]]</span></span><br></pre></td></tr></table></figure>

<h3 id="Object-fromEntries"><a href="#Object-fromEntries" class="headerlink" title="Object.fromEntries()"></a>Object.fromEntries()</h3><p><code>Object.fromEntries()</code> 方法是 <code>Object.entries()</code> 的逆操作，用于将键值对的数据结构还原为对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">fromEntries</span>([[<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;strawberry&#x27;</span>]]) <span class="comment">// &#123;name: &#x27;strawberry&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Map 转对象 */</span></span><br><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>([[<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;strawberry&#x27;</span>]])</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">fromEntries</span>(map) <span class="comment">// &#123;name: &#x27;strawberry&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 将查询字符串转为对象 */</span></span><br><span class="line"><span class="keyword">const</span> params = <span class="string">&#x27;name=strawberry&amp;age=18&#x27;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">fromEntries</span>(<span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(params)) <span class="comment">// &#123;name: &#x27;strawberry&#x27;, age: &#x27;18&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="对象遍历方法对比"><a href="#对象遍历方法对比" class="headerlink" title="对象遍历方法对比"></a>对象遍历方法对比</h3><table>
<thead>
<tr>
<th align="left">方法名</th>
<th align="left">说明</th>
<th align="center">继承的原型属性</th>
<th align="center">不可枚举属性</th>
<th align="center">Symbol 属性</th>
<th align="center">返回值</th>
</tr>
</thead>
<tbody><tr>
<td align="left">for…in</td>
<td align="left">遍历对象自身和继承的所有可枚举属性(不含 Symbol 属性)</td>
<td align="center">✅</td>
<td align="center">❌</td>
<td align="center">❌</td>
<td align="center">key</td>
</tr>
<tr>
<td align="left">Object.keys</td>
<td align="left">遍历对象自身所有可枚举属性(不含 Symbol 属性)</td>
<td align="center">❌</td>
<td align="center">❌</td>
<td align="center">❌</td>
<td align="center">[key…]</td>
</tr>
<tr>
<td align="left">Object.getOwnPropertyNames</td>
<td align="left">遍历对象自身所有属性(不含 Symbol 属性)</td>
<td align="center">❌</td>
<td align="center">✅</td>
<td align="center">❌</td>
<td align="center">[key…]</td>
</tr>
<tr>
<td align="left">Object.getOwnPropertySymbols</td>
<td align="left">遍历对象自身所有的 Symbol 属性</td>
<td align="center">❌</td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">[key…]</td>
</tr>
<tr>
<td align="left">Reflect.ownKeys</td>
<td align="left">遍历对象自身所有的属性(包含不可枚举和 Symbol 属性)</td>
<td align="center">❌</td>
<td align="center">✅</td>
<td align="center">✅</td>
<td align="center">[key…]</td>
</tr>
<tr>
<td align="left">Object.values</td>
<td align="left">遍历对象自身所有可枚举属性(不含 Symbol 属性)</td>
<td align="center">❌</td>
<td align="center">❌</td>
<td align="center">❌</td>
<td align="center">[value…]</td>
</tr>
<tr>
<td align="left">Object.entries</td>
<td align="left">遍历对象自身所有可枚举属性(不含 Symbol 属性)</td>
<td align="center">❌</td>
<td align="center">❌</td>
<td align="center">❌</td>
<td align="center">[[key,value]…]</td>
</tr>
</tbody></table>
<p>遍历顺序</p>
<p><code>ES5</code> 没有规定遍历顺序，其遍历顺序由浏览器厂商定义(可以简单理解为无序的)</p>
<p><code>ES6</code> 之后规定遍历顺序将按如下规则进行</p>
<ol>
<li>首先遍历所有数值键，按照数值升序排列。</li>
<li>其次遍历所有字符串键，按照加入时间升序排列。</li>
<li>最后遍历所有 <code>Symbol</code> 键，按照加入时间升序排列。</li>
</ol>
<p><code>ES6</code> 内部定义了 [<a target="_blank" rel="noopener" href="https://262.ecma-international.org/11.0/#sec-ordinary-object-internal-methods-and-internal-slots-ownpropertykeys">[OwnPropertyKeys]]()</a> 方法对属性进行分类和排序</p>
<hr>
<h2 id="运算符的扩展"><a href="#运算符的扩展" class="headerlink" title="运算符的扩展"></a>运算符的扩展</h2><h3 id="可选链操作符"><a href="#可选链操作符" class="headerlink" title="?. 可选链操作符"></a>?. 可选链操作符</h3><p><a target="_blank" rel="noopener" href="https://github.com/tc39/proposal-optional-chaining">ES2020</a> 引入了可选链操作符(又名链判断运算符)，其允许我们在读取对象内部的某个属性时，不需要判断属性的上层对象是否存在</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 可选链操作符之前的写法</span></span><br><span class="line"><span class="keyword">const</span> firstName =</span><br><span class="line">  (message &amp;&amp; message.<span class="property">body</span> &amp;&amp; message.<span class="property">body</span>.<span class="property">user</span> &amp;&amp; message.<span class="property">body</span>.<span class="property">user</span>.<span class="property">firstName</span>) || <span class="string">&#x27;default&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 可选链操作符简化写法</span></span><br><span class="line"><span class="keyword">const</span> firstName = message?.<span class="property">body</span>?.<span class="property">user</span>?.<span class="property">firstName</span> || <span class="string">&#x27;default&#x27;</span></span><br></pre></td></tr></table></figure>

<p>可选链操作符 <code>?.</code> 的三种写法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 属性是否存在 */</span></span><br><span class="line">obj?.<span class="property">prop</span></span><br><span class="line">obj?.[expr]</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line">obj == <span class="literal">null</span> ? <span class="literal">undefined</span> : obj.<span class="property">prop</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 函数或对象方法是否存在 */</span></span><br><span class="line">func?.(...args)</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line">func == <span class="literal">null</span> ? <span class="literal">undefined</span> : <span class="title function_">func</span>()</span><br></pre></td></tr></table></figure>

<p>注意点</p>
<ol>
<li>可选链操作符相当于一种短路机制，只要不满足条件就不再往下执行</li>
<li>当有括号时，可选链操作符对圆括号外部没有影响，只对圆括号内部有影响。</li>
<li>右侧不得为十进制数值。为了保证兼容以前的代码，允许 <code>foo?.3:0</code> 会被解析成 <code>foo ? .3 : 0</code>，因此规定如果 <code>?.</code> 后面紧跟一个十进制数字，那么 <code>?.</code> 不再被看成是一个完整的运算符，而会按照三元运算符进行处理，即小数点会归属于后面的十进制数字形成一个小数。</li>
<li>禁止使用以下写法</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 构造函数</span></span><br><span class="line"><span class="keyword">new</span> a?.()</span><br><span class="line"><span class="keyword">new</span> a?.<span class="title function_">b</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 右侧有模板字符串</span></span><br><span class="line">a?.<span class="string">`&#123;b&#125;`</span></span><br><span class="line">a?.<span class="property">b</span><span class="string">`&#123;c&#125;`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 左侧是 super</span></span><br><span class="line"><span class="variable language_">super</span>?.()</span><br><span class="line"><span class="variable language_">super</span>?.<span class="property">foo</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 用于赋值运算符左侧</span></span><br><span class="line">a?.<span class="property">b</span> = c</span><br></pre></td></tr></table></figure>

<h3 id="空值合并运算符"><a href="#空值合并运算符" class="headerlink" title="?? 空值合并运算符"></a>?? 空值合并运算符</h3><p><a target="_blank" rel="noopener" href="https://github.com/tc39/proposal-nullish-coalescing">ES2020</a> 引入了空值合并运算符，只有运算符左侧的值为 <code>null</code> 或 <code>undefined</code> 时才会返回右侧的值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ?? 运算符 */</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="number">0</span> ?? <span class="string">&#x27;strawberry&#x27;</span>         <span class="comment">// 0</span></span><br><span class="line"><span class="keyword">const</span> b = <span class="string">&#x27;&#x27;</span> ?? <span class="string">&#x27;strawberry&#x27;</span>        <span class="comment">// &#x27;&#x27;</span></span><br><span class="line"><span class="keyword">const</span> c = <span class="literal">null</span> ?? <span class="string">&#x27;strawberry&#x27;</span>      <span class="comment">// &#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">const</span> d = <span class="literal">undefined</span> ?? <span class="string">&#x27;strawberry&#x27;</span> <span class="comment">// &#x27;strawberry&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* || 运算符 */</span></span><br><span class="line"><span class="keyword">const</span> A = <span class="number">0</span> || <span class="string">&#x27;strawberry&#x27;</span>         <span class="comment">// &#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">const</span> B = <span class="string">&#x27;&#x27;</span> || <span class="string">&#x27;strawberry&#x27;</span>        <span class="comment">// &#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">const</span> C = <span class="literal">null</span> || <span class="string">&#x27;strawberry&#x27;</span>      <span class="comment">// &#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">const</span> D = <span class="literal">undefined</span> || <span class="string">&#x27;strawberry&#x27;</span> <span class="comment">// &#x27;strawberry&#x27;</span></span><br></pre></td></tr></table></figure>

<p>?? 和 || 的区别</p>
<ul>
<li><strong><code>??</code> 运算符</strong>只有左侧是 <code>null</code> 或 <code>undefined</code>才会返回右侧的值</li>
<li><strong><code>||</code> 运算符</strong>只要左侧是 <a target="_blank" rel="noopener" href="https://notes.fe-mm.com/fe/javascript/conversions#toboolean">假值</a> 就会返回右侧的值</li>
</ul>
<h3 id="逻辑赋值运算符"><a href="#逻辑赋值运算符" class="headerlink" title="逻辑赋值运算符"></a>逻辑赋值运算符</h3><p><code>ES2021</code> 引了入三个新的逻辑赋值运算符，用于将逻辑运算符与赋值运算符进行结合</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 或赋值运算符 */</span></span><br><span class="line">x ||= y</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line">x || (x = y)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 与赋值运算符 */</span></span><br><span class="line">x &amp;&amp;= y</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line">x &amp;&amp; (x = y)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Null 赋值运算符 */</span></span><br><span class="line">x ??= y</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line">x ?? (x = y)</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="ESModule"><a href="#ESModule" class="headerlink" title="ESModule"></a>ESModule</h2><p><code>ESModule</code> 是 <code>ES6</code> 在语言标准的层面上实现的模块功能，其设计思想是尽量的静态化，使得编译时就能确定模块的依赖关系以及输入和输出的变量</p>
<ul>
<li><code>ESModule</code> 是编译时加载，使静态分析成为可能	</li>
<li>模块内部<strong>自动使用严格模式</strong></li>
<li>模块中的<strong>顶层 <code>this</code> 指向 <code>undefined</code></strong></li>
</ul>
<h3 id="export-命令"><a href="#export-命令" class="headerlink" title="export 命令"></a>export 命令</h3><p><code>export</code> 命令用于规定模块的对外接口</p>
<ul>
<li>一个模块就是一个独立的文件，该文件内部的所有变量外部无法获取，如果希望外部可以获取必须使用 <code>export</code> 关键字输出该变量</li>
<li>通常情况下 <code>export</code> 输出的变量就是本来的名字，但可以使用 <code>as</code> 关键字重命名</li>
<li><code>export</code> 命令规定的是对外的接口其必须与模块内部的变量建立一一对应关系</li>
<li><code>export</code> 命令输出的接口与其对应的值是动态绑定关系(可以取到模块内部实时的值)</li>
<li><code>export</code> 命令可以出现在模块的任何位置，只要处于<strong>模块顶层</strong>就可以(在块级作用域内使用会报错)</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// util.js</span></span><br><span class="line"><span class="comment">/* 单个输出 */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> name = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">log</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 统一输出 */</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123; name, log &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 使用 as 关键字重命名 */</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">export</span> &#123; name <span class="keyword">as</span> nickname &#125;</span><br></pre></td></tr></table></figure>

<h3 id="import-命令"><a href="#import-命令" class="headerlink" title="import 命令"></a>import 命令</h3><p><code>import</code> 命令用于输入其他模块提供的功能(变量、函数、class 等)</p>
<ul>
<li><p><code>import</code> 命令<strong>输入的变量都是只读的</strong>(类似于常量，即基本类型不可重新赋值，引用类型可修改属性)</p>
</li>
<li><p><code>import</code>命令具有提升效果，会提升到整个模块的头部首先执行</p>
<ul>
<li><code>import</code> 命令是编译阶段执行的</li>
<li>不能使用表达式和变量</li>
</ul>
</li>
<li><p>重复执行同一句 <code>import</code> 命令只会执行一次</p>
</li>
<li><p><code>import</code> 后面的 <code>from</code> 指定模块文件的位置，其可以是相对路径，也可以是绝对路径</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; name, log &#125; <span class="keyword">from</span> <span class="string">&#x27;./util&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 使用 as 关键字重命名 */</span></span><br><span class="line"><span class="keyword">import</span> &#123; name <span class="keyword">as</span> nickname, log <span class="keyword">as</span> logName &#125; <span class="keyword">from</span> <span class="string">&#x27;./util&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 模块的整体加载 */</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> util <span class="keyword">from</span> <span class="string">&#x27;./util&#x27;</span></span><br><span class="line">util.<span class="property">name</span> <span class="comment">// strawberry</span></span><br><span class="line">util.<span class="title function_">log</span>() <span class="comment">// strawberry</span></span><br></pre></td></tr></table></figure>

<h3 id="export-default-命令"><a href="#export-default-命令" class="headerlink" title="export default 命令"></a>export default 命令</h3><p><code>export default</code> 命令可以为模块指定默认输出，是<strong>对 <code>default</code> 赋值的特例，本质上是一种赋值</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 输出匿名函数 */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;strawberry&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> log <span class="keyword">from</span> <span class="string">&#x27;./export-default&#x27;</span></span><br><span class="line"><span class="title function_">log</span>() <span class="comment">// &#x27;strawberry&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 输出非匿名函数 */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> fn <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;strawberry&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> log <span class="keyword">from</span> <span class="string">&#x27;./export-default&#x27;</span></span><br><span class="line"><span class="title function_">log</span>() <span class="comment">// &#x27;strawberry&#x27;</span></span><br></pre></td></tr></table></figure>

<p>export default 命令注意点</p>
<ul>
<li>一个模块只能有一个默认输出(<code>export default</code> 命令只能使用一次)</li>
<li><code>export default</code> 命令本质上是输出一个叫做 <code>default</code> 的变量或方法，使用时可以为它取任意名字</li>
<li><code>export default</code> 命令后面是一个表达式，不能跟变量声明语句</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 错误 */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">const</span> a = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 正确 */</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> a;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 直接输出</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="string">&#x27;strawberry&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="number">1</span> + <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>export 和 export default 的区别</p>
<ul>
<li><p><code>export &#123;&#125;</code> 导出的都是引用</p>
</li>
<li><p><code>export default</code>导出的都是值而不是引用</p>
<ul>
<li><code>export default</code> 是<strong>对 <code>default</code> 赋值的特例，本质上是一种赋值</strong>（即 <code>export default</code> 后的语句会被视为表达式）所以拿到的是值而不是引用</li>
<li><strong><code>export default function</code> 是特例，导出的是引用</strong></li>
</ul>
</li>
<li><p><code>export &#123; thing as default &#125;</code> 写法为引用导出</p>
</li>
<li><p>导入时除 <code>&#123;&#125; = await import()</code> 外均为引用</p>
</li>
</ul>
<h6 id="如何保证导入都是引用？"><a href="#如何保证导入都是引用？" class="headerlink" title="如何保证导入都是引用？"></a>如何保证导入都是引用？</h6><ul>
<li>保证导入总是引用<ul>
<li>尽量使用命名导入（使用除 <code>&#123;&#125; = await import()</code> 外的写法）</li>
<li>注意命名导出的写法</li>
<li>少用默认导出</li>
</ul>
</li>
<li>做不到上面的要求时尽量把需要维持引用的变量使用 <code>Object</code> 封装，不要使用简单变量</li>
</ul>
<blockquote>
<p>相关文章</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/ascoders/weekly/blob/master/%E5%89%8D%E6%B2%BF%E6%8A%80%E6%9C%AF/204.%E7%B2%BE%E8%AF%BB%E3%80%8A%E9%BB%98%E8%AE%A4%E3%80%81%E5%91%BD%E5%90%8D%E5%AF%BC%E5%87%BA%E7%9A%84%E5%8C%BA%E5%88%AB%E3%80%8B.md">精读《默认、命名导出的区别》</a></li>
<li><a target="_blank" rel="noopener" href="https://jakearchibald.com/2021/export-default-thing-vs-thing-as-default/"><code>export default thing</code> is different to <code>export &#123; thing as default &#125;</code></a></li>
</ul>
</blockquote>
<h3 id="export-与-import-的复合写法"><a href="#export-与-import-的复合写法" class="headerlink" title="export 与 import 的复合写法"></a>export 与 import 的复合写法</h3><p>如果在一个模块之中，需要先输入后输出同一个模块，<code>import</code> 命令可以与 <code>export</code> 命令写在一起</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123; foo, bar &#125; <span class="keyword">from</span> <span class="string">&#x27;my_module&#x27;</span></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">import</span> &#123; foo, bar &#125; <span class="keyword">from</span> <span class="string">&#x27;my_module&#x27;</span></span><br><span class="line"><span class="keyword">export</span> &#123; foo, bar &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 接口改名 */</span></span><br><span class="line"><span class="keyword">export</span> &#123; foo <span class="keyword">as</span> myFoo &#125; <span class="keyword">from</span> <span class="string">&#x27;my_module&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 整体输出 */</span></span><br><span class="line"><span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">&#x27;my_module&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 具名接口改为默认接口 */</span></span><br><span class="line"><span class="keyword">export</span> &#123; es6 <span class="keyword">as</span> <span class="keyword">default</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;my_module&#x27;</span>;</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">import</span> &#123; es6 &#125; <span class="keyword">from</span> <span class="string">&#x27;my_module&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> es6;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 默认接口改为具名接口 */</span></span><br><span class="line"><span class="keyword">export</span> &#123; <span class="keyword">default</span> <span class="keyword">as</span> es6 &#125; <span class="keyword">from</span> <span class="string">&#x27;my_module&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 整体加载 */</span></span><br><span class="line"><span class="keyword">export</span> * <span class="keyword">as</span> util <span class="keyword">from</span> <span class="string">&quot;util&quot;</span>;</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> util <span class="keyword">from</span> <span class="string">&quot;util&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> &#123;util&#125;;</span><br></pre></td></tr></table></figure>

<p>注意点</p>
<p>在 <code>export</code> 与 <code>import</code> 的复合写法时，输入的接口不能在当前模块中使用，只是相当于对外转发了接口</p>
<h3 id="import"><a href="#import" class="headerlink" title="import()"></a>import()</h3><p><a target="_blank" rel="noopener" href="https://github.com/tc39/proposal-dynamic-import">ES2020</a> 引入 <code>import()</code> 函数支持动态加载模块</p>
<ul>
<li><code>import()</code> 函数可以用在任何地方，不仅仅是模块非模块的脚本也可以使用</li>
<li><code>import()</code> 函数是运行时执行</li>
<li><code>import()</code> 函数与所加载的模块没有静态连接关系</li>
<li><code>import()</code> 函数类似于 <code>Node.js</code> 中的 <code>require()</code> 函数，区别主要是前者是异步加载后者是同步加载</li>
<li><code>import()</code> 函数的返回值是 <code>Promise</code> 对象</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(<span class="string">&#x27;./dialogBox.js&#x27;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">dialogBox</span>) =&gt;</span> &#123;</span><br><span class="line">    dialogBox.<span class="title function_">open</span>()</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">/* Error handling */</span></span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<p>import() 函数的使用场景</p>
<ul>
<li>按需加载</li>
<li>条件加载</li>
<li>动态的模块路径</li>
</ul>
<h3 id="浏览器对-ESModule-的加载规则"><a href="#浏览器对-ESModule-的加载规则" class="headerlink" title="浏览器对 ESModule 的加载规则"></a>浏览器对 ESModule 的加载规则</h3><p>浏览器加载 <code>ESModule</code> 同样使用 <code>&lt;script&gt;</code> 标签但是需要设置 <code>type=&quot;module</code>“ 属性<br>浏览器对于带有 <code>type=&quot;module&quot;</code> 的 <code>&lt;script&gt;</code>都是异步加载，不会堵塞浏览器，即等到整个页面渲染完再执行模块脚本，等同于设置了 <code>&lt;script&gt;</code> 标签的 <code>defer</code> 属性<br>有多个 <code>&lt;script type=&quot;module&quot;&gt;</code> 时会按照在页面出现的顺序依次执行</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./util.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 等同于 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./util.js&quot;</span> <span class="attr">defer</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>当 <code>&lt;script&gt;</code> 同时设置了 <code>type=&quot;module&quot;</code> 和 <code>async</code> 属性时，只要加载完成渲染引擎就会中断渲染立即执行，等执行完成后再恢复渲染，即不会按照在页面出现的顺序执行，而是只要该模块加载完成就执行该模块</p>
<h4 id="在-script-中使用-ESModule"><a href="#在-script-中使用-ESModule" class="headerlink" title="在 script 中使用 ESModule"></a>在 script 中使用 ESModule</h4><p><code>ESModule</code> 内嵌在网页中使用时语法行为与加载外部脚本完全一致，只需注意以下几点</p>
<ul>
<li>代码是在模块作用域之中运行而不是在全局作用域运行，模块内部的顶层变量外部不可见</li>
<li>自动采用严格模式不管有没有声明 <code>use strict</code></li>
<li>可以使用 <code>import</code> 命令加载其他模块(<code>.js</code> 后缀不可省略，需要提供绝对 <code>URL</code> 或相对 <code>URL</code>) 也可以使用 <code>export</code> 命令输出对外接口</li>
<li>顶层的 <code>this</code> 关键字返回 <code>undefined</code> 而不是指向 <code>window</code></li>
<li>同一个模块如果加载多次将只执行一次</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">&#x27;./jquery/src/jquery.js&#x27;</span></span></span><br><span class="line"><span class="language-javascript">  $(<span class="string">&#x27;#message&#x27;</span>).<span class="title function_">text</span>(<span class="string">&#x27;Hi from jQuery!&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>小技巧</p>
<p>利用顶层的 <code>this</code> 等于 <code>undefined</code> 这个语法点可以判断当前代码是否在 ES6 模块之中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isNotModuleScript = <span class="variable language_">this</span> !== <span class="literal">undefined</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><p><code>Promise</code> 是异步编程的一种解决方案，比传统的解决方案(回调函数和事件)更合理和更强大</p>
<p><code>Promise</code> 对象具有以下 <code>3</code> 种状态</p>
<ul>
<li><code>pending</code> 等待(初始)</li>
<li><code>fulfilled</code> 成功</li>
<li><code>rejected</code> 拒绝</li>
</ul>
<p>Promise 的特点</p>
<ul>
<li><code>Promise</code> 对象的状态不受外界影响</li>
<li>状态一旦改变就不会再变(不可逆)，任何时候都可以得到这个结果</li>
<li>无法取消 <code>Promise</code>，一旦新建就会立即执行无法中途取消</li>
<li>当处于 <code>pending</code> 状态时，无法得知目前进展到哪一个阶段(刚刚开始还是即将完成)</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 基本用法 */</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="title function_">resolve</span>(<span class="string">&#x27;成功&#x27;</span>), <span class="number">1000</span>)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 链式调用 */</span></span><br><span class="line"><span class="title function_">ajax</span>(<span class="string">&#x27;/get/1&#x27;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">ajax</span>(<span class="string">&#x27;/get/2&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">ajax</span>(<span class="string">&#x27;/get/3&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(res))</span><br></pre></td></tr></table></figure>

<h3 id="Promise-实例方法"><a href="#Promise-实例方法" class="headerlink" title="Promise 实例方法"></a>Promise 实例方法</h3><ul>
<li><code>Promise.prototype.then()</code> 用于实例添加状态改变时的回调函数(第一个参数是 <code>fulfilled</code> 状态的回调函数，第二个参数是 <code>rejected</code> 状态的回调函数)，会返回的是一个新的 <code>Promise</code> 实例</li>
<li><code>Promise.prototype.catch()</code> 用于指定 <code>rejected</code> 状态的回调函数(是 <code>.then(null, rejection)</code> 或 <code>.then(undefined, rejection)</code> 的别名)</li>
<li><code>Promise.prototype.finally()</code> (ES2018) 用于指定不管 <code>Promise</code> 对象最后状态如何都会执行的操作 (<code>finally</code> 本质上是 <code>then</code> 方法的特例)</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*  实现 finally 方法 */</span></span><br><span class="line"><span class="title class_">Promise</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">finally</span> = <span class="keyword">function</span> (<span class="params">callback</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> P = <span class="variable language_">this</span>.<span class="property">constructor</span></span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">then</span>(</span><br><span class="line">    <span class="function">(<span class="params">value</span>) =&gt;</span> P.<span class="title function_">resolve</span>(<span class="title function_">callback</span>()).<span class="title function_">then</span>(<span class="function">() =&gt;</span> value),</span><br><span class="line">    <span class="function">(<span class="params">reason</span>) =&gt;</span></span><br><span class="line">      P.<span class="title function_">resolve</span>(<span class="title function_">callback</span>()).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> reason</span><br><span class="line">      &#125;)</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Promise-静态方法"><a href="#Promise-静态方法" class="headerlink" title="Promise 静态方法"></a>Promise 静态方法</h3><ul>
<li><p><code>Promise.resolve()</code></p>
<ul>
<li><p>将传入的参数转为<code>Promise</code>对象</p>
</li>
<li><p>参数是一个 <code>Promise</code> 实例则直接返回</p>
</li>
<li><p>参数是一个 <code>thenable</code> 对象(具有 <code>then</code> 方法的对象) 转为 <code>Promise</code> 对象再立即执行 <code>thenable</code> 对象的 <code>then</code> 方法</p>
</li>
<li><p>参数不是具有 <code>then</code> 方法的对象或根本就不是对象时返回一个 <code>fulfilled</code> 状态的新 <code>Promise</code> 对象</p>
<ul>
<li>没有参数时返回一个 <code>fulfilled</code> 状态的新 <code>Promise</code> 对象</li>
</ul>
</li>
</ul>
</li>
<li><p><code>Promise.reject()</code></p>
<ul>
<li>返回一个 <code>rejected</code> 状态的新 <code>Promise</code> 对象</li>
</ul>
</li>
<li><p><code>Promise.all()</code></p>
<ul>
<li>将多个 <code>Promise</code> 实例，包装成一个新的 <code>Promise</code> 实例，只有所有的 <code>Promise</code> 状态成功才会成功，如果其中一个 <code>Promise</code> 的状态失败就会失败</li>
</ul>
</li>
<li><p><code>Promise.race()</code></p>
<ul>
<li>将多个 <code>Promise</code> 实例，包装成一个新的 <code>Promise</code> 实例，新的 <code>Promise</code> 实例状态会根据最先更改状态的参数实例而更改状态(可以轻松实现超时方法)</li>
</ul>
</li>
<li><p><code>Promise.allSettled()</code>(ES2020)</p>
<ul>
<li>将多个 <code>Promise</code> 实例，包装成一个新的 <code>Promise</code> 实例，新的 <code>Promise</code> 实例只有等到所有这些参数实例都返回结果，不管是 <code>fulfilled</code> 还是 <code>rejected</code> ，包装实例才会结束，一旦结束，状态总是 <code>fulfilled</code></li>
</ul>
</li>
<li><p><code>Promise.any()</code>(ES2021)</p>
<ul>
<li>将多个 <code>Promise</code> 实例，包装成一个新的 <code>Promise</code> 实例，只要参数实例有一个变成 <code>fulfilled</code> 状态，包装实例就会变成 <code>fulfilled</code> 状态；如果所有参数实例都变成 <code>rejected</code> 状态，包装实例才会变成 <code>rejected</code> 状态</li>
</ul>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://github.com/strawberry2002/Promise">Promise 实现</a> 简易实现、A+ 规范实现、原型方法、静态方法实现</p>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://avatars.githubusercontent.com/u/47170023?v=4" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://avatars.githubusercontent.com/u/47170023?v=4" title="头像" alt="头像"></a><div class="post-copyright__author_name">你别睡这么晚</div><div class="post-copyright__author_desc">我有一只小兔兔🐇</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://dont-sleep-so-late.github.io/2023/09/14/ES6%E5%B8%B8%E7%94%A8%E7%9F%A5%E8%AF%86/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://dont-sleep-so-late.github.io/2023/09/14/ES6%E5%B8%B8%E7%94%A8%E7%9F%A5%E8%AF%86/')">ES6常用知识</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/wechatQRCode.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/wechatQRCode.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/qqQRCode.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/qqQRCode.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://dont-sleep-so-late.github.io/2023/09/14/ES6%E5%B8%B8%E7%94%A8%E7%9F%A5%E8%AF%86/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=ES6常用知识&amp;url=https://dont-sleep-so-late.github.io/2023/09/14/ES6%E5%B8%B8%E7%94%A8%E7%9F%A5%E8%AF%86/&amp;pic=" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="rm.copyPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://dont-sleep-so-late.github.io" target="_blank">你别睡这么晚！</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/ES6/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>ES6<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://avatars.githubusercontent.com/u/47170023?v=4" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/09/13/%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">常用代码片段</div></div></a></div><div class="next-post pull-right"><a href="/2023/09/22/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8Fthis-setData%E7%BB%99%E5%AF%B9%E8%B1%A1/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">微信小程序this.setData给对象</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://avatars.githubusercontent.com/u/47170023?v=4" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://emotion.acs.pw/emotion/tieba/彩虹.png" ait="status"/></div></div><div class="author-info__description">一个学习笔记网站</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">你别睡这么晚</h1><div class="author-info__desc">我有一只小兔兔🐇</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/dont-sleep-so-late" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/14680267" target="_blank" title="BiliBili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#let-const"><span class="toc-number">1.</span> <span class="toc-text">let const</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87"><span class="toc-number">1.1.</span> <span class="toc-text">变量提升</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%82%E8%BD%BD%E5%88%B0%E5%85%A8%E5%B1%80%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.2.</span> <span class="toc-text">挂载到全局对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%A4%8D%E5%A3%B0%E6%98%8E"><span class="toc-number">1.3.</span> <span class="toc-text">重复声明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E8%8C%83%E5%9B%B4"><span class="toc-number">1.4.</span> <span class="toc-text">作用域范围</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#const-%E5%B8%B8%E9%87%8F%E5%AE%9A%E4%B9%89"><span class="toc-number">1.5.</span> <span class="toc-text">const 常量定义</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">2.</span> <span class="toc-text">模板字符串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-number">3.</span> <span class="toc-text">解构赋值</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.1.</span> <span class="toc-text">解构对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E6%95%B0%E7%BB%84"><span class="toc-number">3.2.</span> <span class="toc-text">解构数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">3.3.</span> <span class="toc-text">解构字符串</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E6%89%A9%E5%B1%95"><span class="toc-number">4.</span> <span class="toc-text">函数的扩展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-number">4.1.</span> <span class="toc-text">参数默认值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%A9%E4%BD%99%E5%8F%82%E6%95%B0-rest-%E5%8F%82%E6%95%B0"><span class="toc-number">4.2.</span> <span class="toc-text">剩余参数(rest 参数)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-number">4.3.</span> <span class="toc-text">箭头函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">5.</span> <span class="toc-text">扩展运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8"><span class="toc-number">5.1.</span> <span class="toc-text">函数调用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%B7%E8%B4%9D%E6%95%B0%E7%BB%84-%E5%AF%B9%E8%B1%A1"><span class="toc-number">5.2.</span> <span class="toc-text">拷贝数组&#x2F;对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E6%95%B0%E7%BB%84-%E5%AF%B9%E8%B1%A1"><span class="toc-number">5.3.</span> <span class="toc-text">合并数组&#x2F;对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">5.4.</span> <span class="toc-text">使用表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8E%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC%E7%BB%93%E5%90%88"><span class="toc-number">5.5.</span> <span class="toc-text">与解构赋值结合</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%9A%84%E6%89%A9%E5%B1%95"><span class="toc-number">6.</span> <span class="toc-text">数组的扩展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Array-from"><span class="toc-number">6.1.</span> <span class="toc-text">Array.from()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Array-of"><span class="toc-number">6.2.</span> <span class="toc-text">Array.of()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95-includes"><span class="toc-number">6.3.</span> <span class="toc-text">实例方法: includes()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95-find-%E5%92%8C-findIndex"><span class="toc-number">6.4.</span> <span class="toc-text">实例方法: find() 和 findIndex()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95-at"><span class="toc-number">6.5.</span> <span class="toc-text">实例方法: at()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95-flat-%E5%92%8C-flatMap"><span class="toc-number">6.6.</span> <span class="toc-text">实例方法: flat() 和 flatMap()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%A9%E5%B1%95"><span class="toc-number">7.</span> <span class="toc-text">对象的扩展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E7%AE%80%E5%86%99"><span class="toc-number">7.1.</span> <span class="toc-text">属性简写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E5%90%8D%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">7.2.</span> <span class="toc-text">属性名表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object-is"><span class="toc-number">7.3.</span> <span class="toc-text">Object.is()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object-assign"><span class="toc-number">7.4.</span> <span class="toc-text">Object.assign()</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%E6%97%B6%E4%BC%9A%E7%9B%B4%E6%8E%A5%E8%BF%94%E5%9B%9E%E8%AF%A5%E5%8F%82%E6%95%B0"><span class="toc-number">7.4.0.1.</span> <span class="toc-text">只有一个参数时会直接返回该参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BC%A0%E5%85%A5%E5%8F%82%E6%95%B0%E4%B8%8D%E6%98%AF%E5%AF%B9%E8%B1%A1%E6%97%B6%E4%BC%9A%E5%85%88%E8%BD%AC%E6%88%90%E5%AF%B9%E8%B1%A1%E5%86%8D%E8%BF%94%E5%9B%9E"><span class="toc-number">7.4.0.2.</span> <span class="toc-text">传入参数不是对象时会先转成对象再返回</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BC%A0%E5%85%A5%E9%9D%9E%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%9C%BA%E6%99%AF"><span class="toc-number">7.4.0.3.</span> <span class="toc-text">传入非对象类型的场景</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BC%A0%E5%85%A5%E6%95%B0%E7%BB%84%E6%97%B6%E4%BC%9A%E6%8A%8A%E6%95%B0%E7%BB%84%E5%BD%93%E5%AF%B9%E8%B1%A1%E5%A4%84%E7%90%86"><span class="toc-number">7.4.0.4.</span> <span class="toc-text">传入数组时会把数组当对象处理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object-keys-Object-value-Object-entries"><span class="toc-number">7.5.</span> <span class="toc-text">Object.keys() Object.value() Object.entries()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object-fromEntries"><span class="toc-number">7.6.</span> <span class="toc-text">Object.fromEntries()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E9%81%8D%E5%8E%86%E6%96%B9%E6%B3%95%E5%AF%B9%E6%AF%94"><span class="toc-number">7.7.</span> <span class="toc-text">对象遍历方法对比</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E6%89%A9%E5%B1%95"><span class="toc-number">8.</span> <span class="toc-text">运算符的扩展</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E9%80%89%E9%93%BE%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">8.1.</span> <span class="toc-text">?. 可选链操作符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A9%BA%E5%80%BC%E5%90%88%E5%B9%B6%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">8.2.</span> <span class="toc-text">?? 空值合并运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">8.3.</span> <span class="toc-text">逻辑赋值运算符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ESModule"><span class="toc-number">9.</span> <span class="toc-text">ESModule</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#export-%E5%91%BD%E4%BB%A4"><span class="toc-number">9.1.</span> <span class="toc-text">export 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#import-%E5%91%BD%E4%BB%A4"><span class="toc-number">9.2.</span> <span class="toc-text">import 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#export-default-%E5%91%BD%E4%BB%A4"><span class="toc-number">9.3.</span> <span class="toc-text">export default 命令</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E5%AF%BC%E5%85%A5%E9%83%BD%E6%98%AF%E5%BC%95%E7%94%A8%EF%BC%9F"><span class="toc-number">9.3.0.0.1.</span> <span class="toc-text">如何保证导入都是引用？</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#export-%E4%B8%8E-import-%E7%9A%84%E5%A4%8D%E5%90%88%E5%86%99%E6%B3%95"><span class="toc-number">9.4.</span> <span class="toc-text">export 与 import 的复合写法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#import"><span class="toc-number">9.5.</span> <span class="toc-text">import()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AF%B9-ESModule-%E7%9A%84%E5%8A%A0%E8%BD%BD%E8%A7%84%E5%88%99"><span class="toc-number">9.6.</span> <span class="toc-text">浏览器对 ESModule 的加载规则</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8-script-%E4%B8%AD%E4%BD%BF%E7%94%A8-ESModule"><span class="toc-number">9.6.1.</span> <span class="toc-text">在 script 中使用 ESModule</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Promise"><span class="toc-number">10.</span> <span class="toc-text">Promise</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Promise-%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95"><span class="toc-number">10.1.</span> <span class="toc-text">Promise 实例方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Promise-%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-number">10.2.</span> <span class="toc-text">Promise 静态方法</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/07/%E5%85%AB%E8%82%A1%E6%96%87/Vue%E5%85%AB%E8%82%A1%E6%96%87/" title="Vue八股文">Vue八股文</a><time datetime="2024-03-07T15:31:36.000Z" title="发表于 2024-03-07 23:31:36">2024-03-07</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/07/%E5%85%AB%E8%82%A1%E6%96%87/JavaScript%E5%85%AB%E8%82%A1%E6%96%87/" title="JavaScript八股文">JavaScript八股文</a><time datetime="2024-03-07T15:31:36.000Z" title="发表于 2024-03-07 23:31:36">2024-03-07</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/06/html5/" title="HTML">HTML</a><time datetime="2024-03-06T07:02:15.000Z" title="发表于 2024-03-06 15:02:15">2024-03-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/05/Vue/Vue3%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE/" title="Vue3项目配置">Vue3项目配置</a><time datetime="2024-03-05T09:31:36.000Z" title="发表于 2024-03-05 17:31:36">2024-03-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/01/28/Vue/Vue3%E5%AD%A6%E4%B9%A0(%E6%96%B0)/" title="Vue3学习">Vue3学习</a><time datetime="2024-01-28T15:31:36.000Z" title="发表于 2024-01-28 23:31:36">2024-01-28</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2023 - 2024 By <a class="footer-bar-link" href="/" title="你别睡这么晚" target="_blank">你别睡这么晚</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-Theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">65</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">52</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">6</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://dont-sleep-so-late.github.io/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 文档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=150767257&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 我的装备</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/API%E6%96%87%E6%A1%A3%E7%AE%A1%E7%90%86/" style="font-size: 0.88rem;">API文档管理<sup>1</sup></a><a href="/tags/CSS/" style="font-size: 0.88rem;">CSS<sup>4</sup></a><a href="/tags/CSS-Less/" style="font-size: 0.88rem;">CSS Less<sup>1</sup></a><a href="/tags/CSS-flex/" style="font-size: 0.88rem;">CSS flex<sup>1</sup></a><a href="/tags/CSS-grid/" style="font-size: 0.88rem;">CSS grid<sup>1</sup></a><a href="/tags/ES6/" style="font-size: 0.88rem;">ES6<sup>1</sup></a><a href="/tags/Express/" style="font-size: 0.88rem;">Express<sup>1</sup></a><a href="/tags/Git/" style="font-size: 0.88rem;">Git<sup>3</sup></a><a href="/tags/HTML/" style="font-size: 0.88rem;">HTML<sup>1</sup></a><a href="/tags/HTML5/" style="font-size: 0.88rem;">HTML5<sup>1</sup></a><a href="/tags/HTTP/" style="font-size: 0.88rem;">HTTP<sup>1</sup></a><a href="/tags/JS-WebStorage/" style="font-size: 0.88rem;">JS WebStorage<sup>1</sup></a><a href="/tags/JS-array/" style="font-size: 0.88rem;">JS array<sup>1</sup></a><a href="/tags/JS-%E6%A8%A1%E5%9D%97%E5%8C%96/" style="font-size: 0.88rem;">JS 模块化<sup>1</sup></a><a href="/tags/JavaScript/" style="font-size: 0.88rem;">JavaScript<sup>4</sup></a><a href="/tags/Mybatis/" style="font-size: 0.88rem;">Mybatis<sup>2</sup></a><a href="/tags/MybatisPlus/" style="font-size: 0.88rem;">MybatisPlus<sup>1</sup></a><a href="/tags/Nodejs/" style="font-size: 0.88rem;">Nodejs<sup>3</sup></a><a href="/tags/OpenAPI-Swagger/" style="font-size: 0.88rem;">OpenAPI/Swagger<sup>1</sup></a><a href="/tags/Spring/" style="font-size: 0.88rem;">Spring<sup>3</sup></a><a href="/tags/SpringBoot/" style="font-size: 0.88rem;">SpringBoot<sup>1</sup></a><a href="/tags/SpringMVC/" style="font-size: 0.88rem;">SpringMVC<sup>1</sup></a><a href="/tags/TCP/" style="font-size: 0.88rem;">TCP<sup>1</sup></a><a href="/tags/Vue/" style="font-size: 0.88rem;">Vue<sup>17</sup></a><a href="/tags/Vue3/" style="font-size: 0.88rem;">Vue3<sup>3</sup></a><a href="/tags/Vue%E6%8F%92%E4%BB%B6/" style="font-size: 0.88rem;">Vue插件<sup>1</sup></a><a href="/tags/Vue%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80/" style="font-size: 0.88rem;">Vue核心基础<sup>1</sup></a><a href="/tags/Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E7%BC%96%E7%A8%8B/" style="font-size: 0.88rem;">Vue组件化编程<sup>1</sup></a><a href="/tags/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/" style="font-size: 0.88rem;">Vue脚手架<sup>1</sup></a><a href="/tags/axios/" style="font-size: 0.88rem;">axios<sup>1</sup></a><a href="/tags/css/" style="font-size: 0.88rem;">css<sup>1</sup></a><a href="/tags/json-server/" style="font-size: 0.88rem;">json-server<sup>1</sup></a><a href="/tags/mysql/" style="font-size: 0.88rem;">mysql<sup>1</sup></a><a href="/tags/sass/" style="font-size: 0.88rem;">sass<sup>1</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size: 0.88rem;">前端开发<sup>1</sup></a><a href="/tags/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/" style="font-size: 0.88rem;">实用技巧<sup>1</sup></a><a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 0.88rem;">微信小程序<sup>4</sup></a><a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 0.88rem;">正则表达式<sup>1</sup></a><a href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86/" style="font-size: 0.88rem;">浏览器知识<sup>1</sup></a><a href="/tags/%E7%94%B5%E5%AD%90%E4%B9%A6%E5%AF%BC%E8%88%AA/" style="font-size: 0.88rem;">电子书导航<sup>1</sup></a></div></div><hr/></div></div><div id="keyboard-tips"><div class="keyboardTitle">博客快捷键</div><div class="keybordList"><div class="keybordItem"><div class="keyGroup"><div class="key">shift K</div></div><div class="keyContent"><div class="content">关闭快捷键功能</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift A</div></div><div class="keyContent"><div class="content">打开/关闭中控台</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift M</div></div><div class="keyContent"><div class="content">播放/暂停音乐</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift D</div></div><div class="keyContent"><div class="content">深色/浅色显示模式</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift S</div></div><div class="keyContent"><div class="content">站内搜索</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift R</div></div><div class="keyContent"><div class="content">随机访问</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift H</div></div><div class="keyContent"><div class="content">返回首页</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift F</div></div><div class="keyContent"><div class="content">友链鱼塘</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift L</div></div><div class="keyContent"><div class="content">友链页面</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift P</div></div><div class="keyContent"><div class="content">关于本站</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift I</div></div><div class="keyContent"><div class="content">原版/本站右键菜单</div></div></div></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="150767257" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random"></meting-js></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://music.163.com/#/playlist?id=150767257&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.4/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("09/05/2023 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2023 By 安知鱼 V1.6.6",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 你别睡这么晚 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script src="https://cdn.cbd.int/algoliasearch@4.18.0/dist/algoliasearch-lite.umd.js"></script><script src="https://cdn.cbd.int/instantsearch.js@4.56.5/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "visitor@anheyu.com";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>