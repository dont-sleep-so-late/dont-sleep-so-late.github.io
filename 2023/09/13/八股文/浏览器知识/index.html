<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>浏览器知识 | 你别睡这么晚！</title><meta name="keywords" content="浏览器知识"><meta name="author" content="你别睡这么晚"><meta name="copyright" content="你别睡这么晚"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="浏览器知识"><meta name="application-name" content="浏览器知识"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="浏览器知识"><meta property="og:url" content="https://dont-sleep-so-late.github.io/2023/09/13/%E5%85%AB%E8%82%A1%E6%96%87/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86/index.html"><meta property="og:site_name" content="你别睡这么晚！"><meta property="og:description" content="基础知识线程和进程 进程（process）和线程（thread）是操作系统的基本概念  进程是 CPU 资源分配的最小单位（是能拥有资源和独立运行的最小单位）线程是 CPU 调度的最小单位（是建立在进程基础上的一次程序运行单位） 一个进程就是一个程序的运行实例：启动一个程序时，操作系统会为该程序创建"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://avatars.githubusercontent.com/u/47170023?v=4"><meta property="article:author" content="你别睡这么晚"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://avatars.githubusercontent.com/u/47170023?v=4"><meta name="description" content="基础知识线程和进程 进程（process）和线程（thread）是操作系统的基本概念  进程是 CPU 资源分配的最小单位（是能拥有资源和独立运行的最小单位）线程是 CPU 调度的最小单位（是建立在进程基础上的一次程序运行单位） 一个进程就是一个程序的运行实例：启动一个程序时，操作系统会为该程序创建"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://dont-sleep-so-late.github.io/2023/09/13/%E5%85%AB%E8%82%A1%E6%96%87/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86/"><link rel="preconnect" href="//npm.elemecdn.com"/><link rel="preconnect" href="//npm.onmicrosoft.cn"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2023/09/03/125766904/ee23df8517f3c3e3efc4145658269c06_5714860933110284659.png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: {"enable":true,"default":"晚上好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":15},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":16,"endTime":18},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":19,"endTime":24}]},
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多"]},
  algolia: {"appId":"K880G321DE","apiKey":"5c9b9d0f591eb08ace149bf3d24ed065","indexName":"hexo","hits":{"per_page":6},"languages":{"input_placeholder":"输入关键词后按下回车查找","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: 你别睡这么晚","link":"链接: ","source":"来源: 你别睡这么晚！","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: {"enable":true,"delay":100,"shiftDelay":200},
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '你别睡这么晚！',
  title: '浏览器知识',
  postAI: '',
  pageFillDescription: '基础知识, 线程和进程, Chrome 打开一个页面会有几个进程？, 跨域, 常用的跨域解决方案, CORS 跨源资源共享, 简单请求, 浏览器缓存机制, 强缓存（200 OK）, 缓存位置, 协商缓存（304 Not Modified）, Last-Modified 和 If-Modified-Since, ETag 和 If-None-Match, 过程, 应用场景, 用户行为对缓存的影响, 浏览器存储, Cookie, Cookie 的生成和使用, Web Storage, API 使用, IndexedDB, API 使用, 面试官：为什么说HTTPS比HTTP安全? HTTPS是如何保证安全的？, 一、安全特性, 二、如何做, 对称加密, 非对称加密, 混合加密, 举个例子：, 摘要算法, 数字签名, CA验证机构, 三、总结, 参考文献, 面试官：什么是HTTP? HTTP 和 HTTPS 的区别?, 一、HTTP, 二、HTTPS, 三、区别, 参考文献, 面试官：如何理解TCPx2FIP协议?, 一、是什么, 二、划分, 五层体系, 应用层, 传输层, 网络层, 数据链路层, 物理层, 四层体系, 三、总结, 参考文献, 面试官：说说 HTTP1.0x2F1.1x2F2.0 的区别?, 一、HTTP1.0, 二、HTTP1.1, 三、HTTP2.0, 多路复用, 二进制分帧, 首部压缩, 服务器推送, 四、总结, 参考文献, 面试官：DNS协议 是什么？说说DNS 完整的查询过程?, 一、是什么, 二、域名, 三、查询方式, 四、域名缓存, 五、查询过程, 参考文献基础知识线程和进程进程和线程是操作系统的基本概念进程是资源分配的最小单位是能拥有资源和独立运行的最小单位线程是调度的最小单位是建立在进程基础上的一次程序运行单位一个进程就是一个程序的运行实例启动一个程序时操作系统会为该程序创建一块内存用来存放代码运行中的数据和一个执行任务的主线程我们把这样的一个运行环境叫进程线程是进程内的一个执行单元线程是不能单独存在的是依附于进程并由进程来启动和管理的进程和线程的关系特点进程是拥有资源的基本单位线程是调度和分配的基本单位是进程内的一个执行单元也是进程内的可调度实体进程之间相互隔离互不干扰一个进程中可以并发执行多个线程一个线程只能隶属于一个进程而一个进程是可以拥有多个线程的但至少有一个主线程同一进程的所有线程共享该进程的所有数据进程中的任意一线程执行出错都会导致整个进程的崩溃当一个进程关闭之后操作系统会回收进程所占用的内存打开一个页面会有几个进程最新的多进程架构图浏览器主进程负责界面显示用户交互子进程管理同时提供存储等功能渲染进程负责将和转换为用户可以与之交互的网页排版引擎和引擎都是运行在该进程中默认情况下会为每个标签创建一个渲染进程出于安全考虑渲染进程都是运行在沙箱模式下进程负责网页的界面的绘制网络进程负责页面的网络资源加载之前是作为一个模块运行在浏览器进程插件进程负责插件的运行因为插件易崩溃所以需要通过插件进程来隔离以保证插件崩溃不会对浏览器和页面造成影响架构仅仅打开了个页面为什么有个进程浏览器工作原理与实践跨域跨域的原因浏览器的同源策略同源策略是浏览器一个重要的安全策略它用于限制一个的文档或者它加载的脚本如何能与另一个源的资源进行交互它能帮助阻隔恶意文档减少可能被攻击的媒介同源的定义是两个的协议域名子域名主域名端口号都相同否则就会出现跨域同源策略的限制范围限制跨源网络访问请求不能发送限制跨源脚本访问无法获得限制跨源数据存储访问和无法读取一般常说的跨域指网络跨域常用的跨域解决方案常用的跨域解决方案反向代理跨源资源共享跨源资源共享是的一部分它允许浏览器向跨源服务器发出请求从而解决了只能同源使用的限制需要浏览器和服务器同时支持目前所有浏览器均已支持只需服务器配置即可使用浏览器将请求分成两类简单请求和非简单请求简单请求简单请求必须同时满足以下条件日常开发只会关注前两点请求方法是以下三种方法之一只使用了如下的安全首部字段不得人为设置其他首部字段仅限以下三种请求中的任意对象均没有注册任何事件监听器使用属性访问对象请求中没有使用对象简单请求基本流程浏览器会直接发出请求并在请求头信息之中增加一个字段用来说明本次请求来自哪个源协议域名端口服务器判断字段决定是否同意这次请求通过请求会在响应头增加相关的字段以开头拒绝请求时不会增加相关的字段浏览器会抛出异常简单请求响应头中的字段只能是接受任意域名的请求或者是请求时字段的值可选是一个布尔值表示是否允许发送可选请求时对象的方法只能拿到个基本字段如果想拿到其他字段就必须在里面指定中的设置请求默认不发送如果需要发送需要满足如下条件服务器必须设置字段不能为请求的配置项需设置非简单请求非简单请求是那种对服务器有特殊要求的请求如请求方法是或或者字段的类型是非简单请求会在正式通信之前增加一次查询请求称为预检请求用于获取服务器是否允许该实际请求同时避免跨域请求对服务器的用户数据产生预期之外的影响预检请求预检请求用的请求方法是表示这个请求是用来询问的在预检请求请求头信息里会包含如下字段表示本次请求来自哪个源用于列出浏览器的请求会用到哪些方法可选指定浏览器请求会额外发送的头信息字段服务器通过后会在预检请求响应头中设置如下字段可选表示服务器支持的所有跨域请求的方法为了避免多次预检请求表示服务器支持的所有头信息字段不限于浏览器在预检中请求的字段可选用来指定本次预检请求的有效期单位为秒在有效期内将不发出另一条预检请求一旦服务器通过了预检请求以后每次浏览器正常的请求就都跟简单请求一样会有一个头信息字段服务器的回应也都会有一个头信息字段请求过程请求过程相关资料跨域资源共享详解是利用标签没有跨域限制的漏洞当前源可以得到从其他来源动态产生的数据请求过程流程前端定义一个解析的回调函数创建标签其指向接口地址并拼接好参数和回调函数名后端处理数据并将其拼接到前端传入的回调函数中拼接好的数据必须是一个合法的脚本浏览器执行后端返回的脚本代码调用定义好的回调函数并删除刚创建的标签跨域跨域优缺点优点实现简单兼容性好缺点只支持请求容易遭受攻击了解更多跨域解决方案请点击种跨域解决方案浏览器缓存机制浏览器在发送请求前先判断是否命中强缓存命中则不发送请求直接使用缓存否则进行下一步浏览器发送请求后会由服务器判断是否命中协商缓存命中则从缓存获取资源否则进行下一步浏览器直接使用服务器返回的资源并更新缓存强缓存是服务器告诉浏览器的缓存过期时间值为时间即格林尼治时间的产物受本地时间影响设置的值为是秒用于控制缓存的行为是的产物取值允许被客户端和代理服务器缓存只允许被客户端缓存默认值允许被客户端和代理服务器缓存但在使用缓存时需要经过协商缓存来验证决定所有内容都不会被缓存即不使用强制缓存也不使用协商缓存每次请求都会下载完整的资源设置客户端和代理服务器的缓存时间表示缓存内容将在秒后失效设置代理服务器的缓存时间优先级比高注意点名字存在误导其并不是不缓存数据只是在使用缓存时需要经过协商缓存来验证决定和效果一致缓存位置内存缓存快速读取内存缓存将编译解析后的文件直接存入该进程的内存中占据该进程一定的内存资源以方便下次运行使用时的快速读取进程关闭时数据会被清除不请求网络资源资源存在内存中一般和图片文件会存入内存状态码硬盘缓存写入硬盘文件进行操作进程关闭时数据不会被清除速度比慢不请求网络资源资源存在磁盘中一般非脚本会存在磁盘中如状态码代理服务器缓存可以拦截处理页面的所有网络请求仅下可用存在兼容问题状态码协商缓存和表示资源的最后修改时间值为格式时间字符串精确到秒浏览器第一次请求时服务器会在响应头中返回请求资源的上次更新时间当浏览器再次请求时会在请求头中携带值为上次请求返回的服务器收到请求后会根据请求头中的和该资源在服务器的最后被修改时间做对比大于重新返回资源文件状态码为小于资源无更新继续使用缓存文件状态码为存在的问题时间精度为秒级会出现误差情况对文件修改精度有严格要求的场景不能满足在集群服务器上各个服务器上的文件时间可能不同如果用旧文件覆盖新文件因为时间更前浏览器不会请求旧文件编辑了文件但未修改会导致缓存失效和是服务器通过算法对资源内容计算出的一个唯一标识文件其有强弱之分强资源发生任何改变都会立刻更新难生成利于比较弱使用标识只在资源发生本质变化时更新易生成不利于比较过程浏览器第一次请求时服务器会在响应头中返回当前资源文件的一个唯一标识当浏览器再次请求时会在请求头中携带值为上次请求返回的通过接收的和服务器重新生成的进行对比不一致重新返回资源文件状态码为一致资源无更新继续使用缓存文件状态码为和对比精确度上优于性能上每次生成都需要进行读写操作而只需要读取操作优先级服务器校验优先考虑先判断是否变化如果没有变化再判断应用场景强缓存协商缓存不常变化的文件带值的图片频繁变动的文件文件用户行为对缓存的影响地址栏输入查找磁盘缓存中是否有匹配有则使用缓存没有则发送网络请求普通刷新因为浏览器标签并没有关闭因此内存缓存是可用的会被优先使用其次使用磁盘缓存跳过强缓存规则直接走协商缓存强制刷新浏览器不使用缓存因此发送的请求头部均带有为了兼容还带了服务器直接返回和最新内容跳过所有缓存规则浏览器存储也叫或浏览器是服务器发送到用户浏览器并保存在本地的一小块数据它会在浏览器下次向同一服务器再发起请求时被携带并发送到服务器上通常它用于告知服务端两个请求是否来自同一浏览器如保持用户的登录状态使基于无状态的协议记录稳定的状态信息成为了可能在存储时是以键值对的形式存在的主要用于以下三个方面会话状态管理如用户登录状态购物车游戏分数或其它需要记录的信息个性化设置如用户自定义设置主题等浏览器行为跟踪如跟踪分析用户行为等的本职工作并非本地存储而是维持状态因当时并没有其它合适的存储办法而作为唯一的存储手段所以会用其进行本地存储的生成和使用服务器生成通过中的在中使用进行读写读取写入的缺点最大只能有同时大多数浏览器对一个站点的个数也是有限制的同一个域名下的所有请求都会携带从而带来不必要的开销和安全问题是专门为浏览器存储而提供的数据存储机制其大小限制为去查看当前浏览器下的容量限制数据仅保存在客户端不与服务器进行通信提供了两种机制供我们使用本地存储会话存储保存的数据长期存在在同源的所有标签页和窗口之间共享数据数据只存在于当前浏览器的标签页在新标签或窗口打开一个页面时会复制顶级浏览会话的上下文作为新会话的上下文在当前标签中打开一个同域下的页面时会复制当前标签页中的数据复制的数据是独立的不会相互影响类似深拷贝重新加载或恢复页面仍会保持原来的数据关闭对应浏览器标签或窗口后数据会被清除使用以为例存储数据读取数据删除指定数据清空数据和的区别相同点都是在客户端保存数据存储数据的类型都是字符串不同点生命周期可以设置失效时间默认是关闭浏览器后失效除非被手动清除否则将会永久保存仅在当前浏览器的标签页下有效关闭标签或窗口后就会被清除数据大小和请求每次都会携带在请求头中和仅在客户储保存不会与服务器通信是一个运行在浏览器上的非关系型数据库用于在客户端存储大量结构化数据的特点存储空间大一般来说不少于甚至没有上限支持存储二进制数据和键值对储存同源限制执行的操作是异步执行以免阻塞应用程序是一个事务型数据库系统使用打开创建一个数据库并指定数据库的版本号版本号只能为整数成功回调获取实例也可以使用获取实例连接成功失败回调连接失败创建一个对象仓库类似于数据库中的表事件会在初始化数据库或版本发生更新时被调用创建对象仓库并指定主键创建对象仓库成功定义存储对象的数据项第一个参数是创建的索引名称可以为空第二个参数是索引使用的关键名称可以为空第三个参数是可选配置参数可以不传常用参数之一就是表示该字段是否唯一不能重复添加数据创建事务指并定表格名称和读写权限获取对象添加数据获取数据获取数据修改数据删除数据删除成功在日常开发中可以使用如下类库简化代码量一个提供的简单语法的客户端数据存储垫片基于实现并在不持支的浏览器中自动回退到和对的封装通过提供更友好和简单语法进行快速的编码开发对的封装通过提供更友好和简单语法进行快速的编码开发面试官为什么说比安全是如何保证安全的一安全特性在上篇文章中我们了解到在通信过程中存在以下问题通信使用明文不加密内容可能被窃听不验证通信方的身份因此有可能遭遇伪装而的出现正是解决这些问题是建立在之上其安全性由来保证在采用后就拥有了的加密证书和完整性保护这些功能安全套接字协议及其继任者传输层安全是为网络通信提供安全及数据完整性的一种安全协议二如何做的实现这些功能主要依赖于三种手段对称加密采用协商的密钥对数据加密非对称加密实现身份认证和密钥协商摘要算法验证信息的完整性数字签名身份验证对称加密对称加密指的是加密和解密使用的秘钥都是同一个是对称的只要保证了密钥的安全那整个通信过程就可以说具有了机密性非对称加密非对称加密存在两个秘钥一个叫公钥一个叫私钥两个秘钥是不同的公钥可以公开给任何人使用私钥则需要保密公钥和私钥都可以用来加密解密但公钥加密后只能用私钥解密反过来私钥加密后也只能用公钥解密混合加密在通信过程中采用的是对称加密非对称加密也就是混合加密在对称加密中讲到如果能够保证了密钥的安全那整个通信过程就可以说具有了机密性而采用非对称加密解决秘钥交换的问题具体做法是发送密文的一方使用对方的公钥进行加密处理对称的密钥然后对方用自己的私钥解密拿到对称的密钥这样可以确保交换的密钥是安全的前提下使用对称加密方式进行通信举个例子网站秘密保管私钥在网上任意分发公钥你想要登录网站只要用公钥加密就行了密文只能由私钥持有者才能解密而黑客因为没有私钥所以就无法破解密文上述的方法解决了数据加密在网络传输过程中数据有可能被篡改并且黑客可以伪造身份发布公钥如果你获取到假的公钥那么混合加密也并无多大用处你的数据扔被黑客解决因此在上述加密的基础上仍需加上完整性身份验证的特性来实现真正的安全实现这一功能则是摘要算法摘要算法实现完整性的手段主要是摘要算法也就是常说的散列函数哈希函数可以理解成一种特殊的压缩算法它能够把任意长度的数据压缩成固定长度而且独一无二的摘要字符串就好像是给这段数据生成了一个数字指纹摘要算法保证了数字摘要和原文是完全等价的所以我们只要在原文后附上它的摘要就能够保证数据的完整性比如你发了条消息转账元然后再加上一个的摘要网站收到后也计算一下消息的摘要把这两份指纹做个对比如果一致就说明消息是完整可信的没有被修改数字签名数字签名能确定消息确实是由发送方签名并发出来的因为别人假冒不了发送方的签名原理其实很简单就是用私钥加密公钥解密签名和公钥一样完全公开任何人都可以获取但这个签名只有用私钥对应的公钥才能解开拿到摘要后再比对原文验证完整性就可以像签署文件一样证明消息确实是你发的和消息本身一样因为谁都可以发布公钥我们还缺少防止黑客伪造公钥的手段也就是说怎么判断这个公钥就是你的公钥这时候就需要一个第三方就是证书验证机构验证机构数字证书认证机构处于客户端与服务器双方都可信赖的第三方机构的立场对公钥的签名认证要求包括序列号用途颁发者有效时间等等把这些打成一个包再签名完整地证明公钥关联的各种信息形成数字证书流程如下图服务器的运营人员向数字证书认证机构提出公开密钥的申请数字证书认证机构在判明提出申请者的身份之后会对已申请的公开密钥做数字签名然后分配这个已签名的公开密钥并将该公开密钥放入公钥证书后绑定在一起服务器会将这份由数字证书认证机构颁发的数字证书发送给客户端以进行非对称加密方式通信接到证书的客户端可使用数字证书认证机构的公开密钥对那张证书上的数字签名进行验证一旦验证通过则证明认证服务器的公开密钥的是真实有效的数字证书认证机构服务器的公开密钥是值得信赖的三总结可以看到与虽然只差一个但是通信安全得到了大大的保障通信的四大特性都以解决解决方式如下机密性混合算法完整性摘要算法身份认证数字签名不可否定数字签名同时引入第三方证书机构确保公开秘钥的安全性参考文献面试官什么是和的区别一即超文本运输协议是实现网络通信的一种规范在计算机和网络世界有存在不同的协议如广播协议寻址协议路由协议等等而是一个传输协议即将数据由传到或将传输到并且与之间能够存放很多第三方如传输的数据并不是计算机底层中的二进制包而是完整的有意义的数据如文件图片文件查询结果等超文本能够被上层应用识别在实际应用中常被用于在浏览器和网站服务器之间传递信息以明文方式发送内容不提供任何方式的数据加密特点如下支持客户服务器模式简单快速客户向服务器请求服务时只需传送请求方法和路径由于协议简单使得服务器的程序规模小因而通信速度很快灵活允许传输任意类型的数据对象正在传输的类型由加以标记无连接无连接的含义是限制每次连接只处理一个请求服务器处理完客户的请求并收到客户的应答后即断开连接采用这种方式可以节省传输时间无状态协议无法根据之前的状态进行本次的请求处理二在上述介绍中了解到传递信息是以明文的形式发送内容这并不安全而出现正是为了解决不安全的特性为了保证这些隐私数据能加密传输让运行安全的协议上即通过证书来验证服务器的身份并为浏览器和服务器之间的通信进行加密协议位于协议与各种应用层协议之间浏览器和服务器在使用建立连接时需要选择一组恰当的加密算法来实现安全通信为数据通讯提供安全支持流程图如下所示首先客户端通过访问服务器建立连接服务端收到客户端请求后会将网站支持的证书信息证书中包含公钥传送一份给客户端客户端的服务器开始协商连接的安全等级也就是信息加密的等级客户端的浏览器根据双方同意的安全等级建立会话密钥然后利用网站的公钥将会话密钥加密并传送给网站服务器利用自己的私钥解密出会话密钥服务器利用会话密钥加密与客户端之间的通信三区别是协议的安全版本协议的数据传输是明文的是不安全的使用了协议进行了加密处理相对更安全和使用连接方式不同默认端口也不一样是是由于需要设计加密以及多次握手性能方面不如需要证书需要钱功能越强大的证书费用越高参考文献面试官如何理解协议一是什么传输控制协议网际协议是指能够在多个不同网络间实现信息传输的协议簇传输控制协议一种面向连接的可靠的基于字节流的传输层通信协议网际协议用于封包交换数据网络的协议协议不仅仅指的是和两个协议而是指一个由等协议构成的协议簇只是因为在协议中协议和协议最具代表性所以通称为协议族英语或二划分协议族按层次分别了五层体系或者四层体系五层体系的协议结构是综合了和优点的一种协议包括应用层传输层网络层数据链路层和物理层五层协议的体系结构只是为介绍网络原理而设计的实际应用还是四层体系结构包括应用层传输层网络层网际互联层网络接口层如下图所示五层体系应用层模型将参考模型中的会话层表示层和应用层的功能合并到一个应用层实现通过不同的应用层协议为不同的应用提供服务如等传输层该层对应于参考模型的传输层为上层实体提供源端到对端主机的通信功能传输层定义了两个主要协议传输控制协议和用户数据报协议其中面向连接的协议保证了数据的传输可靠性面向无连接的协议能够实现数据包简单快速地传输网络层负责为分组网络中的不同主机提供通信服务并通过选择合适的路由将数据传递到目标主机在发送数据时网络层把运输层产生的报文段或用户数据封装成分组或包进行传送数据链路层数据链路层在两个相邻节点传输数据时将网络层交下来的数据报组装成帧在两个相邻节点之间的链路上传送帧物理层保数据可以在各种物理媒介上进行传输为数据的传输提供可靠的环境四层体系的四层结构则如下表所示层次名称单位功能协议网络接口层帧负责实际数据的传输对应参考模型的下两层高级链路控制协议点对点协议串行线路接口协议网络层数据报负责网络间的寻址数据传输对应参考模型的第三层网际协议网际控制消息协议地址解析协议反向地址解析协议传输层报文段负责提供可靠的传输服务对应参考模型的第四层控制传输协议用户数据报协议应用层负责实现一切与应用程序相关的功能对应参考模型的上三层文件传输协议超文本传输协议域名服务器协议简单邮件传输协议网络文件系统协议三总结参考模型与参考模型区别如下相同点参考模型与参考模型都采用了层次结构都能够提供面向连接和无连接两种通信服务机制不同点采用的七层模型是四层或五层结构参考模型没有对网络接口层进行细分只是一些概念性的描述参考模型对服务和协议做了明确的区分参考模型虽然网络划分为七层但实现起来较困难参考模型作为一种简化的分层结构是可以的协议去掉表示层和会话层的原因在于会话层表示层应用层都是在应用程序内部实现的最终产出的是一个应用数据包而应用程序之间是几乎无法实现代码的抽象共享的这也就造成设想中的应用程序维度的分层是无法实现的三种模型对应关系如下图所示参考文献面试官说说的区别一协议的第二个版本第一个在通讯中指定版本号的协议版本浏览器与服务器只保持短暂的连接每次请求都需要与服务器建立一个连接服务器完成请求处理后立即断开连接服务器不跟踪每个客户也不记录过去的请求简单来讲每次与服务器交互都需要新开一个连接例如解析文件当发现文件中存在资源文件的时候这时候又创建单独的链接最终导致一个文件的访问包含了多次的请求和响应每次请求都需要创建连接关系连接这种形式明显造成了性能上的缺陷如果需要建立长连接需要设置一个非标准的字段二在中默认支持长连接即在一个连接上可以传送多个请求和响应减少了建立和关闭连接的消耗和延迟建立一次连接多次请求均由这个连接完成这样在加载文件的时候文件中多个请求和响应就可以在一个连接中传输同时还允许客户端不用等待上一次请求结果返回就可以发出下一次请求但服务器端必须按照接收到客户端请求的先后顺序依次回送响应结果以保证客户端能够区分出每次请求的响应内容这样也显著地减少了整个下载过程所需要的时间同时在的基础上增加更多的请求头和响应头来完善的功能如下引入了更多的缓存控制策略如等缓存头来控制缓存策略引入允许值请求资源某个部分引入实现了在一台服务器上可以在同一个地址和端口号上使用不同的主机名来创建多个虚拟站点并且还添加了其他的请求方法三而在相比之前版本性能上有很大的提升如添加了一个特性多路复用二进制分帧首部压缩服务器推送多路复用复用连接在一个连接里客户端和浏览器都可以同时发送多个请求或回应而且不用按照顺序一一对应这样就避免了队头堵塞上图中可以看到第四步中资源是同时发送到服务端二进制分帧帧是通信中最小单位信息采用二进制格式传输数据而非的文本格式解析起来更高效将请求和响应数据分割为更小的帧并且它们采用二进制编码中同域名下所有通信都在单个连接上完成该连接可以承载任意数量的双向数据流每个数据流都以消息的形式发送而消息又由一个或多个帧组成多个帧之间可以乱序发送根据帧首部的流标识可以重新组装这也是多路复用同时发送数据的实现条件首部压缩在客户端和服务器端使用首部表来跟踪和存储之前发送的键值对对于相同的数据不再通过每次请求和响应发送首部表在的连接存续期内始终存在由客户端和服务器共同渐进地更新例如下图中的两个请求请求一发送了所有的头部字段第二个请求则只需要发送差异数据这样可以减少冗余数据降低开销服务器推送引入服务器推送允许服务端推送资源给客户端服务器会顺便把一些客户端需要的资源一起推送到客户端如在响应一个页面请求中就可以随同页面的其它资源免得客户端再次创建连接发送请求到服务器端获取这种方式非常合适加载静态资源四总结浏览器与服务器只保持短暂的连接浏览器的每次请求都需要与服务器建立一个连接引入了持久连接即连接默认不关闭可以被多个请求复用在同一个连接里面客户端可以同时发送多个请求虽然允许复用连接但是同一个连接里面所有的数据通信是按次序进行的服务器只有处理完一个请求才会接着处理下一个请求如果前面的处理特别慢后面就会有许多请求排队等着新增了一些请求方法新增了一些请求头和响应头采用二进制格式而非文本格式完全多路复用而非有序并阻塞的只需一个连接即可实现并行使用报头压缩降低开销服务器推送参考文献面试官协议是什么说说完整的查询过程一是什么域名系统是互联网一项服务是进行域名和与之相对应的地址进行转换的服务器简单来讲相当于一个翻译官负责将域名翻译成地址地址一长串能够唯一地标记网络上的计算机的数字域名是由一串用点分隔的名字组成的上某一台计算机或计算机组的名称用于在数据传输时对计算机的定位标识二域名域名是一个具有层次的结构从上到下一次为根域名顶级域名二级域名三级域名例如为三级域名为二级域名为顶级域名系统为用户做了兼容域名末尾的根域名一般不需要输入在域名的每一层都会有一个域名服务器如下图除此之外还有电脑默认的本地域名服务器三查询方式查询的方式有两种递归查询如果请求那么作为请求的接收者一定要给想要的答案迭代查询如果接收者没有请求者所需要的准确内容接收者将告诉请求者如何去获得这个内容但是自己并不去发出请求四域名缓存在域名服务器解析的时候使用缓存保存域名和地址的映射计算机中的记录也分成了两种缓存方式浏览器缓存浏览器在获取网站域名的实际地址后会对其进行缓存减少网络请求的损耗操作系统缓存操作系统的缓存其实是用户自己配置的文件五查询过程解析域名的过程如下首先搜索浏览器的缓存缓存中维护一张域名与地址的对应表若没有命中则继续搜索操作系统的缓存若仍然没有命中则操作系统将域名发送至本地域名服务器本地域名服务器采用递归查询自己的缓存查找成功则返回结果若本地域名服务器的缓存没有命中则本地域名服务器向上级域名服务器进行迭代查询首先本地域名服务器向根域名服务器发起请求根域名服务器返回顶级域名服务器的地址给本地服务器本地域名服务器拿到这个顶级域名服务器的地址后就向其发起请求获取权限域名服务器的地址本地域名服务器根据权限域名服务器的地址向其发起请求最终得到该域名对应的地址本地域名服务器将得到的地址返回给操作系统同时自己将地址缓存起来操作系统将地址返回给浏览器同时自己也将地址缓存起至此浏览器就得到了域名对应的地址并将地址缓存起流程如下图所示参考文献',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-04-19 08:50:13',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="你别睡这么晚！" type="application/atom+xml">
</head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://avatars.githubusercontent.com/u/47170023?v=4"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://dont-sleep-so-late.github.io/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">你别睡这么晚！</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 文档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=150767257&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 我的装备</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/wechatQRCode.jpg" target="_blank"><img class="post-qr-code-img" alt="微信" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/wechatQRCode.jpg"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/qqQRCode.jpg" target="_blank"><img class="post-qr-code-img" alt="支付宝" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/qqQRCode.jpg"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/API%E6%96%87%E6%A1%A3%E7%AE%A1%E7%90%86/" style="font-size: 1.05rem;">API文档管理<sup>1</sup></a><a href="/tags/Array/" style="font-size: 1.05rem;">Array<sup>1</sup></a><a href="/tags/CSS/" style="font-size: 1.05rem;">CSS<sup>4</sup></a><a href="/tags/CSS-Less/" style="font-size: 1.05rem;">CSS Less<sup>1</sup></a><a href="/tags/CSS-flex/" style="font-size: 1.05rem;">CSS flex<sup>1</sup></a><a href="/tags/CSS-grid/" style="font-size: 1.05rem;">CSS grid<sup>1</sup></a><a href="/tags/ES6/" style="font-size: 1.05rem;">ES6<sup>1</sup></a><a href="/tags/Git/" style="font-size: 1.05rem;">Git<sup>3</sup></a><a href="/tags/HTML/" style="font-size: 1.05rem;">HTML<sup>2</sup></a><a href="/tags/HTML5/" style="font-size: 1.05rem;">HTML5<sup>1</sup></a><a href="/tags/HTTP/" style="font-size: 1.05rem;">HTTP<sup>1</sup></a><a href="/tags/JS-WebStorage/" style="font-size: 1.05rem;">JS WebStorage<sup>1</sup></a><a href="/tags/JS-array/" style="font-size: 1.05rem;">JS array<sup>1</sup></a><a href="/tags/JS-%E6%A8%A1%E5%9D%97%E5%8C%96/" style="font-size: 1.05rem;">JS 模块化<sup>1</sup></a><a href="/tags/JavaSciprt/" style="font-size: 1.05rem;">JavaSciprt<sup>2</sup></a><a href="/tags/JavaScript/" style="font-size: 1.05rem;">JavaScript<sup>7</sup></a><a href="/tags/Mybatis/" style="font-size: 1.05rem;">Mybatis<sup>2</sup></a><a href="/tags/MybatisPlus/" style="font-size: 1.05rem;">MybatisPlus<sup>1</sup></a><a href="/tags/OpenAPI-Swagger/" style="font-size: 1.05rem;">OpenAPI/Swagger<sup>1</sup></a><a href="/tags/Router/" style="font-size: 1.05rem;">Router<sup>1</sup></a><a href="/tags/SpringBoot/" style="font-size: 1.05rem;">SpringBoot<sup>1</sup></a><a href="/tags/SpringMVC/" style="font-size: 1.05rem;">SpringMVC<sup>1</sup></a><a href="/tags/TCP/" style="font-size: 1.05rem;">TCP<sup>1</sup></a><a href="/tags/Vue/" style="font-size: 1.05rem;">Vue<sup>18</sup></a><a href="/tags/Vue3/" style="font-size: 1.05rem;">Vue3<sup>5</sup></a><a href="/tags/Vuex/" style="font-size: 1.05rem;">Vuex<sup>1</sup></a><a href="/tags/Vue%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80/" style="font-size: 1.05rem;">Vue核心基础<sup>1</sup></a><a href="/tags/Vue%E7%BB%84%E4%BB%B6/" style="font-size: 1.05rem;">Vue组件<sup>1</sup></a><a href="/tags/Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E7%BC%96%E7%A8%8B/" style="font-size: 1.05rem;">Vue组件化编程<sup>1</sup></a><a href="/tags/Vue%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1/" style="font-size: 1.05rem;">Vue组件间通信<sup>1</sup></a><a href="/tags/Vue%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/" style="font-size: 1.05rem;">Vue网络请求<sup>1</sup></a><a href="/tags/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/" style="font-size: 1.05rem;">Vue脚手架<sup>1</sup></a><a href="/tags/axios/" style="font-size: 1.05rem;">axios<sup>1</sup></a><a href="/tags/css/" style="font-size: 1.05rem;">css<sup>1</sup></a><a href="/tags/echart/" style="font-size: 1.05rem;">echart<sup>2</sup></a><a href="/tags/sass/" style="font-size: 1.05rem;">sass<sup>1</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size: 1.05rem;">前端开发<sup>2</sup></a><a href="/tags/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/" style="font-size: 1.05rem;">实用技巧<sup>1</sup></a><a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 1.05rem;">微信小程序<sup>5</sup></a><a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 1.05rem;">正则表达式<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">十月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">五月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">8</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">7</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">十二月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">4</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">7</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div><div class="console-btn-item" id="consoleKeyboard" onclick="anzhiyu.keyboardToggle()" title="快捷键开关"><a class="keyboard-switch"><i class="anzhiyufont anzhiyu-icon-keyboard"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E7%BD%91%E7%BB%9C/" itemprop="url">浏览器与网络</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>浏览器知识</span></a></span></div></div><h1 class="post-title" itemprop="name headline">浏览器知识</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2023-09-13T14:54:09.000Z" title="发表于 2023-09-13 22:54:09">2023-09-13</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2024-04-19T00:50:13.580Z" title="更新于 2024-04-19 08:50:13">2024-04-19</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">11.4k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>37分钟</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="浏览器知识"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为湛江"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>湛江</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src=""></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://dont-sleep-so-late.github.io/2023/09/13/%E5%85%AB%E8%82%A1%E6%96%87/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86/"><header><a class="post-meta-categories" href="/categories/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8E%E7%BD%91%E7%BB%9C/" itemprop="url">浏览器与网络</a><a href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86/" tabindex="-1" itemprop="url">浏览器知识</a><h1 id="CrawlerTitle" itemprop="name headline">浏览器知识</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">你别睡这么晚</span><time itemprop="dateCreated datePublished" datetime="2023-09-13T14:54:09.000Z" title="发表于 2023-09-13 22:54:09">2023-09-13</time><time itemprop="dateCreated datePublished" datetime="2024-04-19T00:50:13.580Z" title="更新于 2024-04-19 08:50:13">2024-04-19</time></header><h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><h3 id="线程和进程"><a href="#线程和进程" class="headerlink" title="线程和进程"></a>线程和进程</h3><blockquote>
<p>进程（process）和线程（thread）是操作系统的基本概念</p>
</blockquote>
<p>进程是 CPU 资源分配的最小单位（是能拥有资源和独立运行的最小单位）<br>线程是 CPU 调度的最小单位（是建立在进程基础上的一次程序运行单位）</p>
<p><strong>一个进程就是一个程序的运行实例</strong>：启动一个程序时，操作系统会为该程序创建一块内存，用来存放代码、运行中的数据和一个执行任务的主线程，我们把这样的一个运行环境叫<strong>进程</strong></p>
<p><strong>线程是进程内的一个执行单元</strong>：线程是不能单独存在的，是依附于进程并由进程来启动和管理的</p>
<p>进程和线程的关系特点</p>
<ul>
<li>进程是拥有资源的基本单位；线程是调度和分配的基本单位（是进程内的一个执行单元，也是进程内的可调度实体）</li>
<li>进程之间相互隔离，互不干扰</li>
<li>一个进程中可以并发执行多个线程</li>
<li>一个线程只能隶属于一个进程，而一个进程是可以拥有多个线程的（但至少有一个主线程）</li>
<li>同一进程的所有线程共享该进程的所有数据</li>
<li>进程中的任意一线程执行出错，都会导致整个进程的崩溃</li>
<li>当一个进程关闭之后，操作系统会回收进程所占用的内存</li>
</ul>
<h3 id="Chrome-打开一个页面会有几个进程？"><a href="#Chrome-打开一个页面会有几个进程？" class="headerlink" title="Chrome 打开一个页面会有几个进程？"></a>Chrome 打开一个页面会有几个进程？</h3><blockquote>
<p>最新的 Chrome 多进程架构图</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/chrome-framework.5e7e4a3d.png" alt="Chrome 多进程架构图"></p>
<ul>
<li><p><strong>浏览器主进程</strong>：负责界面显示、用户交互、子进程管理，同时提供存储等功能</p>
</li>
<li><p>渲染进程</p>
<p>：负责将</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HTML</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CSS</span><br></pre></td></tr></table></figure>

<p>和</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JavaScript</span><br></pre></td></tr></table></figure>

<p>转换为用户可以与之交互的网页</p>
<ul>
<li>排版引擎 Blink 和 JavaScript 引擎 V8 都是运行在该进程中</li>
<li>默认情况下 Chrome 会为每个 Tab 标签创建一个渲染进程</li>
<li>出于安全考虑渲染进程都是运行在沙箱模式下</li>
</ul>
</li>
<li><p><strong>GPU 进程</strong>：负责网页、Chrome 的 UI 界面的绘制</p>
</li>
<li><p><strong>网络进程</strong>：负责页面的网络资源加载（之前是作为一个模块运行在浏览器进程）</p>
</li>
<li><p><strong>插件进程</strong>：负责插件的运行（因为插件易崩溃所以需要通过插件进程来隔离，以保证插件崩溃不会对浏览器和页面造成影响）</p>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://time.geekbang.org/column/article/113513">Chrome 架构：仅仅打开了 1 个页面，为什么有 4 个进程？—— 浏览器工作原理与实践</a></p>
<h2 id="跨域"><a href="#跨域" class="headerlink" title="跨域"></a>跨域</h2><p>跨域的原因 —— 浏览器的同源策略</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy">同源策略</a>是浏览器一个重要的安全策略，它用于限制一个 <code>origin</code> 的文档或者它加载的脚本如何能与另一个源的资源进行交互。它能帮助阻隔恶意文档，减少可能被攻击的媒介</p>
<p>同源的定义是两个 <code>URL</code> 的 <strong>协议</strong>、<strong>域名</strong>(子域名 + 主域名)、<strong>端口号</strong> 都相同，否则就会出现跨域</p>
<p>同源策略的限制范围</p>
<ol>
<li>限制跨源网络访问: <code>AJAX</code> 请求不能发送</li>
<li>限制跨源脚本 <code>API</code> 访问: <code>DOM</code> 无法获得</li>
<li>限制跨源数据存储访问: <code>Cookie</code> <code>LocalStorage</code> 和 <code>IndexDB</code> 无法读取</li>
</ol>
<p>一般常说的跨域指网络跨域</p>
<h3 id="常用的跨域解决方案"><a href="#常用的跨域解决方案" class="headerlink" title="常用的跨域解决方案"></a>常用的跨域解决方案</h3><p>常用的跨域解决方案</p>
<ol>
<li><strong>CORS</strong></li>
<li><strong>JSONP</strong></li>
<li>Nginx 反向代理</li>
<li>WebSocket</li>
<li>postMessage</li>
<li>document.domain</li>
</ol>
<h3 id="CORS-跨源资源共享"><a href="#CORS-跨源资源共享" class="headerlink" title="CORS 跨源资源共享"></a>CORS 跨源资源共享</h3><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS">CORS (跨源资源共享)</a> 是 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/HTTP">HTTP</a> 的一部分，它允许浏览器向跨源服务器发出 <code>XMLHttpRequest</code> 请求，从而解决了 <code>AJAX</code> 只能同源使用的限制。</p>
<blockquote>
<p><code>CORS</code> 需要浏览器和服务器同时支持，目前所有浏览器均已支持，只需服务器配置即可使用</p>
</blockquote>
<p>浏览器将 <code>CORS</code> 请求分成两类: <strong>简单请求</strong>和<strong>非简单请求</strong></p>
<h4 id="简单请求"><a href="#简单请求" class="headerlink" title="简单请求"></a>简单请求</h4><p>简单请求必须同时满足以下条件</p>
<blockquote>
<p>日常开发只会关注前两点</p>
</blockquote>
<ul>
<li><p>请求方法是以下三种方法之一</p>
<ul>
<li><code>HEAD</code></li>
<li><code>GET</code></li>
<li><code>POST</code></li>
</ul>
</li>
<li><p>只使用了如下的安全首部字段，不得人为设置其他首部字段</p>
<ul>
<li><p><code>Accept</code></p>
</li>
<li><p><code>Accept-Language</code></p>
</li>
<li><p><code>Content-Language</code></p>
</li>
<li><pre><code>Content-Type
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    仅限以下三种</span><br><span class="line"></span><br><span class="line">    - `application/x-www-form-urlencoded`</span><br><span class="line">    - `multipart/form-data`</span><br><span class="line">    - `text/plain`</span><br><span class="line"></span><br><span class="line">- 请求中的任意 `XMLHttpRequestUpload` 对象均没有注册任何事件监听器(使用 `XMLHttpRequest.upload` 属性访问`XMLHttpRequestUpload` 对象)</span><br><span class="line"></span><br><span class="line">- 请求中没有使用 `ReadableStream` 对象</span><br><span class="line"></span><br><span class="line">##### 简单请求基本流程</span><br><span class="line"></span><br><span class="line">1. 浏览器会直接发出 `CORS` 请求并在请求头信息之中增加一个 `Origin` 字段(用来说明本次请求来自哪个源(协议 + 域名 + 端口))</span><br><span class="line"></span><br><span class="line">2. 服务器判断</span><br><span class="line"></span><br></pre></td></tr></table></figure>
 Origin
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   字段决定是否同意这次请求</span><br><span class="line"></span><br><span class="line">   1. 通过请求会在响应头增加 `CORS` 相关的字段(以`Access-Control-`开头)</span><br><span class="line">   2. 拒绝请求时不会增加 `CORS` 相关的字段，浏览器会抛出异常</span><br><span class="line"></span><br><span class="line">简单请求响应头中的 CORS 字段</span><br><span class="line"></span><br><span class="line">- `Access-Control-Allow-Origin`: 只能是 `*`(接受任意域名的请求)或者是请求时 `Origin` 字段的值</span><br><span class="line">- `Access-Control-Allow-Credentials`(可选): 是一个布尔值,表示是否允许发送 `Cookie`</span><br><span class="line">- `Access-Control-Expose-Headers`(可选): `CORS` 请求时 `XMLHttpRequest` 对象的 `getResponseHeader()` 方法只能拿到 6 个基本字段：`Cache-Control、Content-Language、Content-Type、Expires、Last-Modified、Pragma`。如果想拿到其他字段就必须在 `Access-Control-Expose-Headers` 里面指定</span><br><span class="line"></span><br><span class="line">CORS 中的 Cookie 设置</span><br><span class="line"></span><br><span class="line">`CORS` 请求默认不发送 `Cookie`，如果需要发送需要满足如下条件</span><br><span class="line"></span><br><span class="line">- 服务器必须设置 `Access-Control-Allow-Credentials: true`</span><br><span class="line">- `Access-Control-Allow-Origin` 字段不能为 `*`</span><br><span class="line">- `AJAX` 请求的配置项需设置 `withCredentials = true`</span><br><span class="line"></span><br><span class="line">#### 非简单请求</span><br><span class="line"></span><br><span class="line">非简单请求是那种对服务器有特殊要求的请求，如请求方法是 `PUT` 或 `DELETE`，或者 `Content-Type` 字段的类型是 `application/json`。</span><br><span class="line">非简单请求会在正式通信之前增加一次 `HTTP` 查询请求，称为**预检请求**，用于获取服务器是否允许该实际请求，同时避免跨域请求对服务器的用户数据产生预期之外的影响</span><br><span class="line"></span><br><span class="line">预检请求</span><br><span class="line"></span><br><span class="line">预检请求用的请求方法是 `OPTIONS` 表示这个请求是用来询问的</span><br><span class="line"></span><br><span class="line">- 在预检请求请求头信息里会包含如下字段</span><br><span class="line">  - `Origin`: 表示本次请求来自哪个源</span><br><span class="line">  - `Access-Control-Request-Method`: 用于列出浏览器的 `CORS` 请求会用到哪些 `HTTP` 方法</span><br><span class="line">  - `Access-Control-Request-Headers`(可选): 指定浏览器 `CORS` 请求会额外发送的头信息字段</span><br><span class="line">- 服务器通过后会在预检请求响应头中设置如下字段</span><br><span class="line">  - `Access-Control-Allow-Origin`</span><br><span class="line">  - `Access-Control-Allow-Credentials`(可选)</span><br><span class="line">  - `Access-Control-Allow-Methods`: 表示服务器支持的所有跨域请求的方法(为了避免多次预检请求)</span><br><span class="line">  - `Access-Control-Allow-Headers`: 表示服务器支持的所有头信息字段，不限于浏览器在预检中请求的字段</span><br><span class="line">  - `Access-Control-Max-Age`(可选): 用来指定本次预检请求的有效期单位为秒，在有效期内将不发出另一条预检请求</span><br><span class="line"></span><br><span class="line">一旦服务器通过了预检请求，以后每次浏览器正常的 `CORS` 请求，就都跟简单请求一样会有一个 `Origin` 头信息字段。服务器的回应也都会有一个 `Access-Control-Allow-Origin` 头信息字段</span><br><span class="line"></span><br><span class="line">&lt;details class=&quot;details custom-block&quot; style=&quot;box-sizing: border-box; border-width: 1px; border-style: solid; border-color: var(--vp-custom-block-details-border); border-image: initial; border-radius: 8px; padding: 16px 16px 8px; line-height: 24px; font-size: var(--vp-custom-block-font-size); color: var(--vp-custom-block-details-text); background-color: var(--vp-custom-block-details-bg); margin: 16px 0px;&quot;&gt;&lt;summary style=&quot;box-sizing: border-box; touch-action: manipulation; margin: 0px 0px 8px; font-weight: 700; cursor: pointer;&quot;&gt;CORS 请求过程&lt;/summary&gt;&lt;p style=&quot;box-sizing: border-box; margin: 8px 0px; overflow-wrap: break-word; line-height: 24px;&quot;&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/20230913230220.png&quot; alt=&quot;CORS 请求过程&quot; class=&quot;medium-zoom-image&quot; style=&quot;box-sizing: border-box; display: block; max-width: 100%; height: auto; cursor: zoom-in; transition: transform 0.3s cubic-bezier(0.2, 0, 0.2, 1) 0s !important;&quot;&gt;&lt;/p&gt;&lt;/details&gt;</span><br><span class="line"></span><br><span class="line">------</span><br><span class="line"></span><br><span class="line">相关资料</span><br><span class="line"></span><br><span class="line">[跨域资源共享 CORS 详解](http://www.ruanyifeng.com/blog/2016/04/cors.html)</span><br><span class="line"></span><br><span class="line">### JSONP</span><br><span class="line"></span><br><span class="line">`JSONP` 是利用 `&lt;script&gt;` 标签没有跨域限制的漏洞，当前源可以得到从其他来源动态产生的 `JSON` 数据</span><br><span class="line"></span><br><span class="line">**`JSONP` 请求过程流程**</span><br><span class="line"></span><br><span class="line">1. 前端定义一个解析的回调函数</span><br><span class="line">2. 创建 `script` 标签，其 `src` 指向接口地址并拼接好参数和回调函数名</span><br><span class="line">3. 后端处理数据并将其拼接到前端传入的回调函数中(拼接好的数据必须是一个合法的 `JavaScript` 脚本 )</span><br><span class="line">4. 浏览器执行后端返回的 `JavaScript` 脚本代码(调用定义好的回调函数)并删除刚创建的 `script` 标签</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">function normalizeParams(params) &#123;</span><br><span class="line">  if (!params) &#123;</span><br><span class="line">    return &#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">  return Object.keys(params)</span><br><span class="line">    .map((key) =&gt; `$&#123;key&#125;=$&#123;params[key]&#125;`)</span><br><span class="line">    .join(&#x27;&amp;&#x27;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function jsonp(url, params) &#123;</span><br><span class="line">  return new Promise((resolve) =&gt; &#123;</span><br><span class="line">    const callback = `jsonp_$&#123;Date.now()&#125;`</span><br><span class="line">    window[callback] = function (data) &#123;</span><br><span class="line">      resolve(data)</span><br><span class="line">      document.body.removeChild(scriptEle)</span><br><span class="line">    &#125;</span><br><span class="line">    params.cb = callback</span><br><span class="line">    const scriptEle = document.createElement(&#x27;script&#x27;)</span><br><span class="line">    scriptEle.src = `$&#123;url&#125;$&#123;url.includes(&#x27;?&#x27;) ? &#x27;&amp;&#x27; : &#x27;?&#x27;&#125;$&#123;normalizeParams(params)&#125;`</span><br><span class="line">    document.body.appendChild(scriptEle)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">jsonp(&#x27;https://www.baidu.com/sugrec&#x27;, &#123;</span><br><span class="line">  prod: &#x27;pc&#x27;,</span><br><span class="line">  wd: &#x27;跨域&#x27;</span><br><span class="line">&#125;).then((res) =&gt; &#123;</span><br><span class="line">  console.log(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
<p>JSONP 跨域优缺点</p>
<ul>
<li>优点: 实现简单，兼容性好</li>
<li>缺点<ul>
<li>只支持 <code>GET</code> 请求</li>
<li>容易遭受 <code>XSS</code> 攻击</li>
</ul>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904126246027278">了解更多跨域解决方案请点击 —— 10 种跨域解决方案</a></p>
<h2 id="浏览器缓存机制"><a href="#浏览器缓存机制" class="headerlink" title="浏览器缓存机制"></a>浏览器缓存机制</h2><ul>
<li><ol>
<li>浏览器在发送请求前先判断是否命中强缓存</li>
</ol>
<ul>
<li>命中则不发送请求直接使用缓存，否则进行下一步</li>
</ul>
</li>
<li><ol>
<li>浏览器发送请求后会由服务器判断是否命中协商缓存</li>
</ol>
<ul>
<li>命中则从缓存获取资源，否则进行下一步</li>
</ul>
</li>
<li><ol>
<li>浏览器直接使用服务器返回的资源并更新缓存</li>
</ol>
</li>
</ul>
<h3 id="强缓存（200-OK）"><a href="#强缓存（200-OK）" class="headerlink" title="强缓存（200 OK）"></a>强缓存（200 OK）</h3><ul>
<li><pre><code>Expires
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">是服务器告诉浏览器的缓存过期时间（值为</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br></pre></td></tr></table></figure>
GMT
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  时间，即格林尼治时间）</span><br><span class="line"></span><br><span class="line">  - `HTTP1.0` 的产物</span><br><span class="line">  - 受本地时间影响</span><br><span class="line">  - 设置的值为 `max-age=xxx`（xxx 是 秒）</span><br><span class="line"></span><br><span class="line">- ```</span><br><span class="line">  Cache-Control</span><br></pre></td></tr></table></figure>

 

用于控制缓存的行为

- 是 `HTTP1.1` 的产物
- 取值
  - `public`：允许被客户端和代理服务器缓存
  - `private`：只允许被客户端缓存（默认值）
  - `no-cache`：允许被客户端和代理服务器缓存，但在使用缓存时需要经过协商缓存来验证决定
  - `no-store`：所有内容都不会被缓存，即不使用强制缓存也不使用协商缓存每次请求都会下载完整的资源
  - `maxage=xxx`：设置客户端和代理服务器的缓存时间，表示缓存内容将在 xxx 秒后失效
  - `s-maxage=xxx`：设置代理服务器的缓存时间（优先级比 `max-age` 高）
</code></pre>
</li>
</ul>
<p>Cache-Control 注意点</p>
<p><code>no-cache</code> 名字存在误导，其并不是不缓存数据，只是在使用缓存时需要经过协商缓存来验证决定<br><code>max-age=0</code> 和 <code>no-cache</code> 效果一致</p>
<h4 id="缓存位置"><a href="#缓存位置" class="headerlink" title="缓存位置"></a>缓存位置</h4><ul>
<li>内存缓存（memory cache）<ul>
<li>快速读取（内存缓存将编译解析后的文件，直接存入该进程的内存中，占据该进程一定的内存资源，以方便下次运行使用时的快速读取）</li>
<li>进程关闭时数据会被清除</li>
<li>不请求网络资源，资源存在内存中一般 <code>JS</code> 和图片文件会存入内存</li>
<li>状态码：<code>200（from memory cache）</code></li>
</ul>
</li>
<li>硬盘缓存（disk cache）<ul>
<li>写入硬盘文件进行 <code>I/O</code> 操作</li>
<li>进程关闭时数据不会被清除</li>
<li>速度比 <code>memory cache</code> 慢</li>
<li>不请求网络资源，资源存在磁盘中一般非脚本会存在磁盘中，如 <code>css</code></li>
<li>状态码：<code>200（from disk cache）</code></li>
</ul>
</li>
<li>代理服务器缓存（server worker）<ul>
<li>可以拦截处理页面的所有网络请求</li>
<li>仅 <code>HTTPS</code> 下可用、存在兼容问题</li>
<li>状态码：<code>200（from service worker）</code></li>
</ul>
</li>
</ul>
<h3 id="协商缓存（304-Not-Modified）"><a href="#协商缓存（304-Not-Modified）" class="headerlink" title="协商缓存（304 Not Modified）"></a>协商缓存（304 Not Modified）</h3><h4 id="Last-Modified-和-If-Modified-Since"><a href="#Last-Modified-和-If-Modified-Since" class="headerlink" title="Last-Modified 和 If-Modified-Since"></a><code>Last-Modified</code> 和 <code>If-Modified-Since</code></h4><p><code>Last-Modified</code> 表示资源的最后修改时间，值为 <code>GMT</code> 格式时间字符串，精确到秒</p>
<ul>
<li><p>浏览器第一次请求时，服务器会在响应头中返回请求资源的上次更新时间 <code>Last-Modified</code></p>
</li>
<li><p>当浏览器再次请求时，会在请求头中携带 <code>If-Modified-Since</code> 值为上次请求返回的 <code>Last-Modified</code></p>
</li>
<li><p>服务器收到请求后，会根据请求头中的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">If-Modified-Since</span><br></pre></td></tr></table></figure>

<p>和该资源在服务器的最后被修改时间做对比</p>
<ul>
<li>大于 <code>If-Modified-Since</code> 重新返回资源文件，状态码为 200</li>
<li>小于 <code>If-Modified-Since</code> 资源无更新继续使用缓存文件，状态码为 304</li>
</ul>
</li>
</ul>
<p>Last-Modified 存在的问题</p>
<ul>
<li>时间精度为秒级会出现误差情况，对文件修改精度有严格要求的场景不能满足</li>
<li>在集群服务器上各个服务器上的文件时间可能不同</li>
<li>如果用旧文件覆盖新文件，因为时间更前浏览器不会请求旧文件</li>
<li>编辑了文件但未修改，会导致缓存失效</li>
</ul>
<h4 id="ETag-和-If-None-Match"><a href="#ETag-和-If-None-Match" class="headerlink" title="ETag 和 If-None-Match"></a>ETag 和 If-None-Match</h4><p><code>ETag</code> 是服务器通过算法对资源内容计算出的一个唯一标识（文件 <code>hash</code>）其有强弱之分</p>
<ul>
<li><p>强</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Etag</span><br></pre></td></tr></table></figure>

<ul>
<li><code>ETag: &quot;&lt;etag_value&gt;&quot;</code></li>
<li>资源发生任何改变都会立刻更新</li>
<li>难生成，利于比较</li>
</ul>
</li>
<li><p>弱</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Etag</span><br></pre></td></tr></table></figure>

<p>（使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">W/</span><br></pre></td></tr></table></figure>

<p>标识）</p>
<ul>
<li><code>ETag: W/&quot;&lt;etag_value&gt;&quot;</code></li>
<li>只在资源发生本质变化时更新</li>
<li>易生成，不利于比较</li>
</ul>
</li>
</ul>
<h5 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h5><ul>
<li><p>浏览器第一次请求时，服务器会在响应头中返回当前资源文件的一个唯一标识 <code>ETag</code></p>
</li>
<li><p>当浏览器再次请求时，会在请求头中携带 <code>If-None-Match</code> 值为上次请求返回的 <code>ETag</code></p>
</li>
<li><p>通过接收的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ETag</span><br></pre></td></tr></table></figure>

<p>和服务器重新生成的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ETag</span><br></pre></td></tr></table></figure>

<p>进行对比</p>
<ul>
<li>不一致 重新返回资源文件，状态码为 200</li>
<li>一致 资源无更新继续使用缓存文件，状态码为 304</li>
</ul>
</li>
</ul>
<p>Last-Modified 和 Etag 对比</p>
<ul>
<li>精确度上：<code>Etag</code> 优于 <code>Last-Modified</code></li>
<li>性能上：<code>Etag &lt; Last-Modified</code> 每次生成 <code>ETag</code> 都需要进行读写操作，而 <code>Last-Modified</code> 只需要读取操作</li>
<li>优先级：服务器校验优先考虑 <code>Etag</code>（先判断 <code>Etag</code> 是否变化，如果 <code>Etag</code> 没有变化再判断 <code>Last-Modified</code>）</li>
</ul>
<h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><table>
<thead>
<tr>
<th align="left">强缓存</th>
<th align="left">协商缓存</th>
</tr>
</thead>
<tbody><tr>
<td align="left">不常变化的文件 带 hash 值的 css js 图片</td>
<td align="left">频繁变动的文件 html 文件</td>
</tr>
</tbody></table>
<h3 id="用户行为对缓存的影响"><a href="#用户行为对缓存的影响" class="headerlink" title="用户行为对缓存的影响"></a>用户行为对缓存的影响</h3><ul>
<li>地址栏输入<ul>
<li>查找 <code>disk cache</code>（磁盘缓存）中是否有匹配，有则使用缓存，没有则发送网络请求</li>
</ul>
</li>
<li>普通刷新（F5）<ul>
<li>因为浏览器 <code>tab</code> 标签并没有关闭，因此 <code>memory cache</code> （内存缓存）是可用的，会被优先使用，其次使用 <code>disk cache</code>（磁盘缓存）</li>
<li>跳过强缓存规则，直接走协商缓存</li>
</ul>
</li>
<li>强制刷新（Ctrl + F5）<ul>
<li>浏览器不使用缓存，因此发送的请求头部均带有 <code>Cache-control: no-cache</code> （为了兼容还带了 <code>Pragma: no-cache</code>）服务器直接返回 200 和最新内容。</li>
<li>跳过所有缓存规则</li>
</ul>
</li>
</ul>
<h2 id="浏览器存储"><a href="#浏览器存储" class="headerlink" title="浏览器存储"></a>浏览器存储</h2><h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><p><code>Cookie</code>（也叫 <code>Web Cookie</code> 或浏览器 <code>Cookie</code>）是服务器发送到用户浏览器并保存在本地的一小块数据，它会在浏览器下次向同一服务器再发起请求时被携带并发送到服务器上。通常，它用于告知服务端两个请求是否来自同一浏览器，如保持用户的登录状态。<code>Cookie</code> 使基于无状态的 <code>HTTP</code> 协议记录稳定的状态信息成为了可能，<code>Cookie</code> 在存储时是以键值对的形式存在的</p>
<p><code>Cookie</code> 主要用于以下三个方面：</p>
<ul>
<li>会话状态管理（如用户登录状态、购物车、游戏分数或其它需要记录的信息）</li>
<li>个性化设置（如用户自定义设置、主题等）</li>
<li>浏览器行为跟踪（如跟踪分析用户行为等）</li>
</ul>
<p><code>Cookie</code> 的本职工作并非本地存储，而是“维持状态”，因当时并没有其它合适的存储办法而作为唯一的存储手段，所以会用其进行本地存储</p>
<h4 id="Cookie-的生成和使用"><a href="#Cookie-的生成和使用" class="headerlink" title="Cookie 的生成和使用"></a>Cookie 的生成和使用</h4><ul>
<li>服务器生成，通过 <code>http response header</code> 中的 <code>set-cookie</code></li>
<li>在 <code>JavaScript</code> 中使用 <code>document.cookie</code> 进行读写</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 读取 */</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 写入 */</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&#x27;name=maomao&#x27;</span></span><br></pre></td></tr></table></figure>

<p>Cookie 的缺点</p>
<ul>
<li><code>Cookie</code> 最大只能有 <code>4KB</code> 同时大多数浏览器对一个站点的 <code>Cookie</code> 个数也是有限制的</li>
<li>同一个域名下的所有请求都会携带 <code>Cookie</code> 从而带来不必要的开销和安全问题</li>
</ul>
<h3 id="Web-Storage"><a href="#Web-Storage" class="headerlink" title="Web Storage"></a>Web Storage</h3><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Storage_API">Web Storage</a>是 <code>HTML5</code> 专门为浏览器存储而提供的数据存储机制，其大小限制为 <code>5MB ~ 10MB</code> (<a target="_blank" rel="noopener" href="http://dev-test.nemikor.com/web-storage/support-test/">去查看当前浏览器下 Web Storage 的容量限制</a>)，数据仅保存在客户端不与服务器进行通信</p>
<p><code>Web Storage</code> 提供了两种机制供我们使用</p>
<ul>
<li><code>Local Storage</code>(本地存储)</li>
<li><code>Session Storage</code>(会话存储)</li>
</ul>
<p>LocalStorage</p>
<ul>
<li>保存的数据长期存在</li>
<li>在同源的所有标签页和窗口之间共享数据</li>
</ul>
<p>SessionStorage</p>
<ul>
<li>数据只存在于当前浏览器的标签页</li>
<li>在新标签或窗口打开一个页面时会复制顶级浏览会话的上下文作为新会话的上下文<ul>
<li>在当前标签中打开一个同域下的页面时会复制当前标签页中的 <code>SessionStorage</code> 数据</li>
<li>复制的 <code>SessionStorage</code> 数据是独立的，不会相互影响(类似深拷贝)</li>
</ul>
</li>
<li>重新加载或恢复页面仍会保持原来的数据</li>
<li>关闭对应浏览器标签或窗口后数据会被清除</li>
</ul>
<h4 id="API-使用"><a href="#API-使用" class="headerlink" title="API 使用"></a>API 使用</h4><blockquote>
<p>以 <code>localStorage</code> 为例</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 存储数据 setItem() */</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;maomao&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 读取数据 getItem() */</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 删除指定数据 removeItem() */</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 清空数据 clear() */</span></span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">clear</span>()</span><br></pre></td></tr></table></figure>

<p>sessionStorage localStorage 和 cookie 的区别</p>
<ul>
<li>相同点<ul>
<li>都是在客户端保存数据</li>
<li>存储数据的类型都是字符串</li>
</ul>
</li>
<li>不同点<ul>
<li>生命周期<ul>
<li><code>Cookie</code>: 可以设置失效时间(默认是关闭浏览器后失效)</li>
<li><code>localStorage</code>: 除非被手动清除否则将会永久保存</li>
<li><code>sessionStorage</code>: 仅在当前浏览器的标签页下有效，关闭标签或窗口后就会被清除</li>
</ul>
</li>
<li>数据大小<ul>
<li><code>Cookie</code>: 4KB</li>
<li><code>localStorage</code> 和 <code>sessionStorage</code>: <code>5MB ~ 10MB</code></li>
</ul>
</li>
<li>http 请求<ul>
<li><code>Cookie</code>: 每次都会携带在 <code>HTTP</code> 请求头中</li>
<li><code>localStorage</code> 和 <code>sessionStorage</code>: 仅在客户储保存不会与服务器通信</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="IndexedDB"><a href="#IndexedDB" class="headerlink" title="IndexedDB"></a>IndexedDB</h3><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/IndexedDB_API">IndexedDB</a> 是一个运行在浏览器上的非关系型数据库，用于<strong>在客户端存储大量结构化数据</strong></p>
<p>IndexedDB 的特点</p>
<ul>
<li>存储空间大(一般来说不少于 <code>250MB</code> 甚至没有上限)</li>
<li>支持存储二进制数据(<code>ArrayBuffer</code> 和 <code>Blob</code>)</li>
<li>键值对储存</li>
<li>同源限制</li>
<li>执行的操作是异步执行，以免阻塞应用程序</li>
<li>是一个事务型数据库系统</li>
</ul>
<h4 id="API-使用-1"><a href="#API-使用-1" class="headerlink" title="API 使用"></a>API 使用</h4><p>打开&#x2F;创建一个 IndexedDB 数据库，并指定数据库的版本号 (版本号只能为整数)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> request = <span class="variable language_">window</span>.<span class="property">indexedDB</span>.<span class="title function_">open</span>(<span class="string">&#x27;myDatabase&#x27;</span>, <span class="number">1</span>)</span><br><span class="line"><span class="keyword">let</span> db</span><br><span class="line"></span><br><span class="line"><span class="comment">// 成功回调</span></span><br><span class="line">request.<span class="property">onsuccess</span> = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="comment">// 获取 indexedDB 实例</span></span><br><span class="line">  db = event.<span class="property">target</span>.<span class="property">result</span></span><br><span class="line">  <span class="comment">// 也可以使用 request.result 获取 indexedDB 实例</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;连接 IndexedDB 成功&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 失败回调</span></span><br><span class="line">request.<span class="property">onerror</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;连接 IndexedDB 失败&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>创建一个对象仓库(类似于数据库中的表)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// upgradeneeded 事件会在初始化数据库或版本发生更新时被调用</span></span><br><span class="line">request.<span class="property">onupgradeneeded</span> = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> db = event.<span class="property">target</span>.<span class="property">result</span></span><br><span class="line">  <span class="comment">// 创建对象仓库并指定主键</span></span><br><span class="line">  <span class="keyword">const</span> objectStore = db.<span class="title function_">createObjectStore</span>(<span class="string">&#x27;userInfo&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">keyPath</span>: <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">    <span class="attr">autoIncrement</span>: <span class="literal">false</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;创建对象仓库成功&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 定义存储对象的数据项</span></span><br><span class="line"><span class="comment">   * 第一个参数是创建的索引名称，可以为空</span></span><br><span class="line"><span class="comment">   * 第二个参数是索引使用的关键名称，可以为空</span></span><br><span class="line"><span class="comment">   * 第三个参数是可选配置参数，可以不传，常用参数之一就是 unique ，表示该字段是否唯一，不能重复</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  objectStore.<span class="title function_">createIndex</span>(<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;id&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">unique</span>: <span class="literal">true</span></span><br><span class="line">  &#125;)</span><br><span class="line">  objectStore.<span class="title function_">createIndex</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>添加数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建事务指并定表格名称和读写权限</span></span><br><span class="line"><span class="keyword">const</span> transaction = db.<span class="title function_">transaction</span>([<span class="string">&#x27;userInfo&#x27;</span>], <span class="string">&#x27;readwrite&#x27;</span>)</span><br><span class="line"><span class="comment">// 获取 Object Store 对象</span></span><br><span class="line"><span class="keyword">const</span> objectStore = transaction.<span class="title function_">objectStore</span>(<span class="string">&#x27;userInfo&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 添加数据 */</span></span><br><span class="line">objectStore.<span class="title function_">add</span>(&#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;test&#x27;</span> &#125;)</span><br></pre></td></tr></table></figure>

<p>获取数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> transaction = db.<span class="title function_">transaction</span>([<span class="string">&#x27;userInfo&#x27;</span>], <span class="string">&#x27;readonly&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> objectStore = transaction.<span class="title function_">objectStore</span>(<span class="string">&#x27;userInfo&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> objectStoreRequest = objectStore.<span class="title function_">get</span>(<span class="number">1</span>)</span><br><span class="line">objectStoreRequest.<span class="property">onsuccess</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;获取数据&#x27;</span>, objectStoreRequest.<span class="property">result</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>修改数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> transaction = db.<span class="title function_">transaction</span>([<span class="string">&#x27;userInfo&#x27;</span>], <span class="string">&#x27;readwrite&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> objectStore = transaction.<span class="title function_">objectStore</span>(<span class="string">&#x27;userInfo&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> objectStoreRequest = objectStore.<span class="title function_">get</span>(<span class="number">1</span>)</span><br><span class="line">objectStoreRequest.<span class="property">onsuccess</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> data = objectStoreRequest.<span class="property">result</span></span><br><span class="line">  data.<span class="property">name</span> = <span class="string">&#x27;maomao&#x27;</span></span><br><span class="line">  objectStore.<span class="title function_">put</span>(data)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>删除数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> transaction = db.<span class="title function_">transaction</span>([<span class="string">&#x27;userInfo&#x27;</span>], <span class="string">&#x27;readwrite&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> objectStore = transaction.<span class="title function_">objectStore</span>(<span class="string">&#x27;userInfo&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> objectStoreRequest = objectStore.<span class="title function_">delete</span>(<span class="number">1</span>)</span><br><span class="line">objectStoreRequest.<span class="property">onsuccess</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;删除成功&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在日常开发中可以使用如下类库简化代码量</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/localForage/localForage">localForage</a> 一个提供 <code>name:value</code> 的简单语法的客户端数据存储垫片，基于 <code>IndexedDB</code> 实现，并在不持支 <code>IndexedDB</code> 的浏览器中自动回退到 <code>WebSQL</code> 和 <code>localStorage</code></li>
<li><a target="_blank" rel="noopener" href="https://github.com/dexie/Dexie.js">Dexie.js</a> 对 <code>IndexedDB</code> 的封装，通过提供更友好和简单语法进行快速的编码开发</li>
<li><a target="_blank" rel="noopener" href="https://github.com/pouchdb/pouchdb">PouchDB</a> 对 <code>IndexedDB</code> 的封装，通过提供更友好和简单语法进行快速的编码开发</li>
</ul>
<h1 id="面试官：为什么说HTTPS比HTTP安全-HTTPS是如何保证安全的？"><a href="#面试官：为什么说HTTPS比HTTP安全-HTTPS是如何保证安全的？" class="headerlink" title="面试官：为什么说HTTPS比HTTP安全? HTTPS是如何保证安全的？"></a>面试官：为什么说HTTPS比HTTP安全? HTTPS是如何保证安全的？</h1><h2 id="一、安全特性"><a href="#一、安全特性" class="headerlink" title="一、安全特性"></a>一、安全特性</h2><p>在上篇文章中，我们了解到<code>HTTP</code>在通信过程中，存在以下问题：</p>
<ul>
<li>通信使用明文（不加密），内容可能被窃听</li>
<li>不验证通信方的身份，因此有可能遭遇伪装</li>
</ul>
<p>而<code>HTTPS</code>的出现正是解决这些问题，<code>HTTPS</code>是建立在<code>SSL</code>之上，其安全性由<code>SSL</code>来保证</p>
<p>在采用<code>SSL</code>后，<code>HTTP</code>就拥有了<code>HTTPS</code>的加密、证书和完整性保护这些功能</p>
<blockquote>
<p>SSL(Secure Sockets Layer 安全套接字协议),及其继任者传输层安全（Transport Layer Security，TLS）是为网络通信提供安全及数据完整性的一种安全协议</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/cb559400-b2ff-11eb-85f6-6fac77c0c9b3.png" alt="img"></p>
<h2 id="二、如何做"><a href="#二、如何做" class="headerlink" title="二、如何做"></a>二、如何做</h2><p><code>SSL </code>的实现这些功能主要依赖于三种手段：</p>
<ul>
<li>对称加密：采用协商的密钥对数据加密</li>
<li>非对称加密：实现身份认证和密钥协商</li>
<li>摘要算法：验证信息的完整性</li>
<li>数字签名：身份验证</li>
</ul>
<h3 id="对称加密"><a href="#对称加密" class="headerlink" title="对称加密"></a>对称加密</h3><p>对称加密指的是加密和解密使用的秘钥都是同一个，是对称的。只要保证了密钥的安全，那整个通信过程就可以说具有了机密性</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/e3f040f0-b2ff-11eb-ab90-d9ae814b240d.png" alt="img"></p>
<h3 id="非对称加密"><a href="#非对称加密" class="headerlink" title="非对称加密"></a>非对称加密</h3><p>非对称加密，存在两个秘钥，一个叫公钥，一个叫私钥。两个秘钥是不同的，公钥可以公开给任何人使用，私钥则需要保密</p>
<p>公钥和私钥都可以用来加密解密，但公钥加密后只能用私钥解 密，反过来，私钥加密后也只能用公钥解密</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/d9603e60-b2ff-11eb-ab90-d9ae814b240d.png" alt="img"></p>
<h3 id="混合加密"><a href="#混合加密" class="headerlink" title="混合加密"></a>混合加密</h3><p>在<code>HTTPS</code>通信过程中，采用的是对称加密+非对称加密，也就是混合加密</p>
<p>在对称加密中讲到，如果能够保证了密钥的安全，那整个通信过程就可以说具有了机密性</p>
<p>而<code>HTTPS</code>采用非对称加密解决秘钥交换的问题</p>
<p>具体做法是发送密文的一方使用对方的公钥进行加密处理“对称的密钥”，然后对方用自己的私钥解密拿到“对称的密钥”</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/f375f290-b2ff-11eb-85f6-6fac77c0c9b3.png" alt="img"></p>
<p>这样可以确保交换的密钥是安全的前提下，使用对称加密方式进行通信</p>
<h4 id="举个例子："><a href="#举个例子：" class="headerlink" title="举个例子："></a>举个例子：</h4><p>网站秘密保管私钥，在网上任意分发公钥，你想要登录网站只要用公钥加密就行了，密文只能由私钥持有者才能解密。而黑客因为没有私钥，所以就无法破解密文</p>
<p>上述的方法解决了数据加密，在网络传输过程中，数据有可能被篡改，并且黑客可以伪造身份发布公钥，如果你获取到假的公钥，那么混合加密也并无多大用处，你的数据扔被黑客解决</p>
<p>因此，在上述加密的基础上仍需加上完整性、身份验证的特性，来实现真正的安全，实现这一功能则是摘要算法</p>
<h3 id="摘要算法"><a href="#摘要算法" class="headerlink" title="摘要算法"></a>摘要算法</h3><p>实现完整性的手段主要是摘要算法，也就是常说的散列函数、哈希函数</p>
<p>可以理解成一种特殊的压缩算法，它能够把任意长度的数据“压缩”成固定长度、而且独一无二的“摘要”字符串，就好像是给这段数据生成了一个数字“指纹”</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/12798da0-b300-11eb-85f6-6fac77c0c9b3.png" alt="img"></p>
<p>摘要算法保证了“数字摘要”和原文是完全等价的。所以，我们只要在原文后附上它的摘要，就能够保证数据的完整性</p>
<p>比如，你发了条消息：“转账 1000 元”，然后再加上一个 SHA-2 的摘要。网站收到后也计算一下消息的摘要，把这两份“指纹”做个对比，如果一致，就说明消息是完整可信的，没有被修改</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/023790e0-b300-11eb-ab90-d9ae814b240d.png" alt="img"></p>
<h3 id="数字签名"><a href="#数字签名" class="headerlink" title="数字签名"></a>数字签名</h3><p>数字签名能确定消息确实是由发送方签名并发出来的，因为别人假冒不了发送方的签名</p>
<p>原理其实很简单，就是用私钥加密，公钥解密</p>
<p>签名和公钥一样完全公开，任何人都可以获取。但这个签名只有用私钥对应的公钥才能解开，拿到摘要后，再比对原文验证完整性，就可以像签署文件一样证明消息确实是你发的</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/21aa6880-b300-11eb-85f6-6fac77c0c9b3.png" alt="img"></p>
<p>和消息本身一样，因为谁都可以发布公钥，我们还缺少防止黑客伪造公钥的手段，也就是说，怎么判断这个公钥就是你的公钥</p>
<p>这时候就需要一个第三方，就是证书验证机构</p>
<h3 id="CA验证机构"><a href="#CA验证机构" class="headerlink" title="CA验证机构"></a>CA验证机构</h3><p>数字证书认证机构处于客户端与服务器双方都可信赖的第三方机构的立场</p>
<p>CA 对公钥的签名认证要求包括序列号、用途、颁发者、有效时间等等，把这些打成一个包再签名，完整地证明公钥关联的各种信息，形成“数字证书”</p>
<p>流程如下图：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/395648a0-b300-11eb-85f6-6fac77c0c9b3.png" alt="img"></p>
<ul>
<li>服务器的运营人员向数字证书认证机构提出公开密钥的申请</li>
<li>数字证书认证机构在判明提出申请者的身份之后，会对已申请的公开密钥做数字签名</li>
<li>然后分配这个已签名的公开密钥，并将该公开密钥放入公钥证书后绑定在一起</li>
<li>服务器会将这份由数字证书认证机构颁发的数字证书发送给客户端，以进行非对称加密方式通信</li>
</ul>
<p>接到证书的客户端可使用数字证书认证机构的公开密钥，对那张证书上的数字签名进行验证，一旦验证通过，则证明：</p>
<ul>
<li>认证服务器的公开密钥的是真实有效的数字证书认证机构</li>
<li>服务器的公开密钥是值得信赖的</li>
</ul>
<h2 id="三、总结"><a href="#三、总结" class="headerlink" title="三、总结"></a>三、总结</h2><p>可以看到，<code>HTTPS</code>与<code>HTTP</code>虽然只差一个<code>SSL</code>，但是通信安全得到了大大的保障，通信的四大特性都以解决，解决方式如下：</p>
<ul>
<li>机密性：混合算法</li>
<li>完整性：摘要算法</li>
<li>身份认证：数字签名</li>
<li>不可否定：数字签名</li>
</ul>
<p>同时引入第三方证书机构，确保公开秘钥的安全性</p>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/100657391">https://zhuanlan.zhihu.com/p/100657391</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903830987997197#heading-7">https://juejin.cn/post/6844903830987997197#heading-7</a></li>
<li><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1748862">https://cloud.tencent.com/developer/article/1748862</a></li>
</ul>
<h1 id="面试官：什么是HTTP-HTTP-和-HTTPS-的区别"><a href="#面试官：什么是HTTP-HTTP-和-HTTPS-的区别" class="headerlink" title="面试官：什么是HTTP? HTTP 和 HTTPS 的区别?"></a>面试官：什么是HTTP? HTTP 和 HTTPS 的区别?</h1><p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/f50c71f0-b20b-11eb-ab90-d9ae814b240d.png"></p>
<h2 id="一、HTTP"><a href="#一、HTTP" class="headerlink" title="一、HTTP"></a>一、HTTP</h2><p><code>HTTP</code> (HyperText Transfer Protocol)，即超文本运输协议，是实现网络通信的一种规范</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/fda119b0-b20b-11eb-85f6-6fac77c0c9b3.png"></p>
<p>在计算机和网络世界有，存在不同的协议，如广播协议、寻址协议、路由协议等等……</p>
<p>而<code>HTTP</code>是一个传输协议，即将数据由A传到B或将B传输到A，并且 A 与 B 之间能够存放很多第三方，如： A&lt;&#x3D;&gt;X&lt;&#x3D;&gt;Y&lt;&#x3D;&gt;Z&lt;&#x3D;&gt;B</p>
<p>传输的数据并不是计算机底层中的二进制包，而是完整的、有意义的数据，如HTML 文件, 图片文件, 查询结果等超文本，能够被上层应用识别</p>
<p>在实际应用中，<code>HTTP</code>常被用于在<code>Web</code>浏览器和网站服务器之间传递信息，以明文方式发送内容，不提供任何方式的数据加密</p>
<p>特点如下：</p>
<ul>
<li><p>支持客户&#x2F;服务器模式</p>
</li>
<li><p>简单快速：客户向服务器请求服务时，只需传送请求方法和路径。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快</p>
</li>
<li><p>灵活：HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type加以标记</p>
</li>
<li><p>无连接：无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间</p>
</li>
<li><p>无状态：HTTP协议无法根据之前的状态进行本次的请求处理</p>
</li>
</ul>
<h2 id="二、HTTPS"><a href="#二、HTTPS" class="headerlink" title="二、HTTPS"></a>二、HTTPS</h2><p>在上述介绍<code>HTTP</code>中，了解到<code>HTTP</code>传递信息是以明文的形式发送内容，这并不安全。而<code>HTTPS</code>出现正是为了解决<code>HTTP</code>不安全的特性</p>
<p>为了保证这些隐私数据能加密传输，让<code>HTTP</code>运行安全的<code>SSL/TLS</code>协议上，即 HTTPS &#x3D; HTTP + SSL&#x2F;TLS，通过 <code>SSL</code>证书来验证服务器的身份，并为浏览器和服务器之间的通信进行加密</p>
<p><code>SSL</code> 协议位于<code> TCP/IP</code> 协议与各种应用层协议之间，浏览器和服务器在使用 <code>SSL</code> 建立连接时需要选择一组恰当的加密算法来实现安全通信，为数据通讯提供安全支持</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/078c50c0-b20c-11eb-ab90-d9ae814b240d.png"></p>
<p>流程图如下所示：</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/0e409fc0-b20c-11eb-85f6-6fac77c0c9b3.png"></p>
<ul>
<li>首先客户端通过URL访问服务器建立SSL连接</li>
<li>服务端收到客户端请求后，会将网站支持的证书信息（证书中包含公钥）传送一份给客户端</li>
<li>客户端的服务器开始协商SSL连接的安全等级，也就是信息加密的等级</li>
<li>客户端的浏览器根据双方同意的安全等级，建立会话密钥，然后利用网站的公钥将会话密钥加密，并传送给网站</li>
<li>服务器利用自己的私钥解密出会话密钥</li>
<li>服务器利用会话密钥加密与客户端之间的通信</li>
</ul>
<h2 id="三、区别"><a href="#三、区别" class="headerlink" title="三、区别"></a>三、区别</h2><ul>
<li>HTTPS是HTTP协议的安全版本，HTTP协议的数据传输是明文的，是不安全的，HTTPS使用了SSL&#x2F;TLS协议进行了加密处理，相对更安全</li>
<li>HTTP 和 HTTPS 使用连接方式不同，默认端口也不一样，HTTP是80，HTTPS是443</li>
<li>HTTPS 由于需要设计加密以及多次握手，性能方面不如 HTTP</li>
<li>HTTPS需要SSL，SSL 证书需要钱，功能越强大的证书费用越高</li>
</ul>
<h2 id="参考文献-1"><a href="#参考文献-1" class="headerlink" title="参考文献"></a>参考文献</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/klb561/p/10289199.html">https://www.cnblogs.com/klb561/p/10289199.html</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/205c0fc51c97">https://www.jianshu.com/p/205c0fc51c97</a></li>
<li><a target="_blank" rel="noopener" href="https://vue3js.cn/interview">https://vue3js.cn/interview</a></li>
</ul>
<h1 id="面试官：如何理解TCP-IP协议"><a href="#面试官：如何理解TCP-IP协议" class="headerlink" title="面试官：如何理解TCP&#x2F;IP协议?"></a>面试官：如何理解TCP&#x2F;IP协议?</h1><p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/4f69a930-b647-11eb-85f6-6fac77c0c9b3.png"></p>
<h2 id="一、是什么"><a href="#一、是什么" class="headerlink" title="一、是什么"></a>一、是什么</h2><p>TCP&#x2F;IP，<strong>传输控制协议</strong>&#x2F;<strong>网际协议</strong>，是指能够在多个不同网络间实现信息传输的协议簇</p>
<ul>
<li>TCP（传输控制协议）</li>
</ul>
<p>一种面向连接的、可靠的、基于字节流的传输层通信协议</p>
<ul>
<li>IP（网际协议）</li>
</ul>
<p>用于封包交换数据网络的协议</p>
<p>TCP&#x2F;IP协议不仅仅指的是<code>TCP </code>和<code>IP</code>两个协议，而是指一个由<code>FTP</code>、<code>SMTP</code>、<code>TCP</code>、<code>UDP</code>、<code>IP</code>等协议构成的协议簇，</p>
<p>只是因为在<code>TCP/IP</code>协议中<code>TCP</code>协议和<code>IP</code>协议最具代表性，所以通称为TCP&#x2F;IP协议族（英语：TCP&#x2F;IP Protocol Suite，或TCP&#x2F;IP Protocols）</p>
<h2 id="二、划分"><a href="#二、划分" class="headerlink" title="二、划分"></a>二、划分</h2><p>TCP&#x2F;IP协议族按层次分别了五层体系或者四层体系</p>
<p>五层体系的协议结构是综合了 OSI 和 TCP&#x2F;IP 优点的一种协议，包括应用层、传输层、网络层、数据链路层和物理层</p>
<p>五层协议的体系结构只是为介绍网络原理而设计的，实际应用还是 TCP&#x2F;IP 四层体系结构，包括应用层、传输层、网络层（网际互联层）、网络接口层</p>
<p>如下图所示：</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/5bb93610-b647-11eb-85f6-6fac77c0c9b3.png"></p>
<h3 id="五层体系"><a href="#五层体系" class="headerlink" title="五层体系"></a>五层体系</h3><h4 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h4><p><code>TCP/IP</code> 模型将 <code>OSI </code>参考模型中的会话层、表示层和应用层的功能合并到一个应用层实现，通过不同的应用层协议为不同的应用提供服务</p>
<p>如：<code>FTP</code>、<code>Telnet</code>、<code>DNS</code>、<code>SMTP</code> 等</p>
<h4 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h4><p>该层对应于 OSI 参考模型的传输层，为上层实体提供源端到对端主机的通信功能</p>
<p>传输层定义了两个主要协议：传输控制协议（TCP）和用户数据报协议（UDP）</p>
<p>其中面向连接的 TCP 协议保证了数据的传输可靠性，面向无连接的 UDP 协议能够实现数据包简单、快速地传输</p>
<h4 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h4><p>负责为分组网络中的不同主机提供通信服务，并通过选择合适的路由将数据传递到目标主机</p>
<p>在发送数据时，网络层把运输层产生的报文段或用户数据封装成分组或包进行传送</p>
<h4 id="数据链路层"><a href="#数据链路层" class="headerlink" title="数据链路层"></a>数据链路层</h4><p>数据链路层在两个相邻节点传输数据时，将网络层交下来的IP数据报组装成帧，在两个相邻节点之间的链路上传送帧</p>
<h4 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h4><p>保数据可以在各种物理媒介上进行传输，为数据的传输提供可靠的环境</p>
<h3 id="四层体系"><a href="#四层体系" class="headerlink" title="四层体系"></a>四层体系</h3><p>TCP&#x2F;IP 的四层结构则如下表所示：</p>
<table>
<thead>
<tr>
<th>层次名称</th>
<th>单位</th>
<th>功 能</th>
<th>协 议</th>
</tr>
</thead>
<tbody><tr>
<td>网络接口层</td>
<td>帧</td>
<td>负责实际数据的传输，对应OSI参考模型的下两层</td>
<td>HDLC（高级链路控制协议）PPP（点对点协议） SLIP（串行线路接口协议）</td>
</tr>
<tr>
<td>网络层</td>
<td>数据报</td>
<td>负责网络间的寻址数据传输，对应OSI参考模型的第三层</td>
<td>IP（网际协议） ICMP（网际控制消息协议）ARP（地址解析协议） RARP（反向地址解析协议）</td>
</tr>
<tr>
<td>传输层</td>
<td>报文段</td>
<td>负责提供可靠的传输服务，对应OSI参考模型的第四层</td>
<td>TCP（控制传输协议） UDP（用户数据报协议）</td>
</tr>
<tr>
<td>应用层</td>
<td></td>
<td>负责实现一切与应用程序相关的功能，对应OSI参考模型的上三层</td>
<td>FTP（文件传输协议） HTTP（超文本传输协议） DNS（域名服务器协议）SMTP（简单邮件传输协议）NFS（网络文件系统协议）</td>
</tr>
</tbody></table>
<h2 id="三、总结-1"><a href="#三、总结-1" class="headerlink" title="三、总结"></a>三、总结</h2><p>OSI 参考模型与 TCP&#x2F;IP 参考模型区别如下：</p>
<p>相同点：</p>
<ul>
<li>OSI 参考模型与 TCP&#x2F;IP 参考模型都采用了层次结构</li>
<li>都能够提供面向连接和无连接两种通信服务机制</li>
</ul>
<p>不同点：</p>
<ul>
<li><p>OSI 采用的七层模型； TCP&#x2F;IP 是四层或五层结构</p>
</li>
<li><p>TCP&#x2F;IP 参考模型没有对网络接口层进行细分，只是一些概念性的描述； OSI 参考模型对服务和协议做了明确的区分</p>
</li>
<li><p>OSI 参考模型虽然网络划分为七层，但实现起来较困难。TCP&#x2F;IP 参考模型作为一种简化的分层结构是可以的</p>
</li>
<li><p>TCP&#x2F;IP协议去掉表示层和会话层的原因在于会话层、表示层、应用层都是在应用程序内部实现的，最终产出的是一个应用数据包，而应用程序之间是几乎无法实现代码的抽象共享的，这也就造成 <code>OSI</code> 设想中的应用程序维度的分层是无法实现的</p>
</li>
</ul>
<p>三种模型对应关系如下图所示：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/3fbff4d0-b647-11eb-ab90-d9ae814b240d.png"></p>
<h2 id="参考文献-2"><a href="#参考文献-2" class="headerlink" title="参考文献"></a>参考文献</h2><ul>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/TCP/IP%E5%8D%8F%E8%AE%AE%E6%97%8F">https://zh.wikipedia.org/wiki/TCP/IP%E5%8D%8F%E8%AE%AE%E6%97%8F</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/103162095">https://zhuanlan.zhihu.com/p/103162095</a></li>
<li><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000039204681">https://segmentfault.com/a/1190000039204681</a></li>
<li><a target="_blank" rel="noopener" href="https://leetcode-cn.com/leetbook/detail/networks-interview-highlights/">https://leetcode-cn.com/leetbook/detail/networks-interview-highlights/</a></li>
<li><a target="_blank" rel="noopener" href="https://vue3js.cn/interview">https://vue3js.cn/interview</a></li>
</ul>
<h1 id="面试官：说说-HTTP1-0-1-1-2-0-的区别"><a href="#面试官：说说-HTTP1-0-1-1-2-0-的区别" class="headerlink" title="面试官：说说 HTTP1.0&#x2F;1.1&#x2F;2.0 的区别?"></a>面试官：说说 HTTP1.0&#x2F;1.1&#x2F;2.0 的区别?</h1><p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/e167a580-b93a-11eb-ab90-d9ae814b240d.png"></p>
<h2 id="一、HTTP1-0"><a href="#一、HTTP1-0" class="headerlink" title="一、HTTP1.0"></a>一、HTTP1.0</h2><p><code>HTTP</code>协议的第二个版本，第一个在通讯中指定版本号的HTTP协议版本</p>
<p><code>HTTP 1.0</code> 浏览器与服务器只保持短暂的连接，每次请求都需要与服务器建立一个<code>TCP</code>连接</p>
<p>服务器完成请求处理后立即断开<code>TCP</code>连接，服务器不跟踪每个客户也不记录过去的请求</p>
<p>简单来讲，每次与服务器交互，都需要新开一个连接</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/efff4da0-b93a-11eb-85f6-6fac77c0c9b3.png"></p>
<p>例如，解析<code>html</code>文件，当发现文件中存在资源文件的时候，这时候又创建单独的链接</p>
<p>最终导致，一个<code>html</code>文件的访问包含了多次的请求和响应，每次请求都需要创建连接、关系连接</p>
<p>这种形式明显造成了性能上的缺陷</p>
<p>如果需要建立长连接，需要设置一个非标准的Connection字段 <code>Connection: keep-alive</code></p>
<h2 id="二、HTTP1-1"><a href="#二、HTTP1-1" class="headerlink" title="二、HTTP1.1"></a>二、HTTP1.1</h2><p>在<code>HTTP1.1</code>中，默认支持长连接（<code>Connection: keep-alive</code>），即在一个TCP连接上可以传送多个<code>HTTP</code>请求和响应，减少了建立和关闭连接的消耗和延迟</p>
<p>建立一次连接，多次请求均由这个连接完成</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/22db2b90-b93b-11eb-ab90-d9ae814b240d.png"></p>
<p>这样，在加载<code>html</code>文件的时候，文件中多个请求和响应就可以在一个连接中传输</p>
<p>同时，<code>HTTP 1.1</code>还允许客户端不用等待上一次请求结果返回，就可以发出下一次请求，但服务器端必须按照接收到客户端请求的先后顺序依次回送响应结果，以保证客户端能够区分出每次请求的响应内容，这样也显著地减少了整个下载过程所需要的时间</p>
<p>同时，<code>HTTP1.1</code>在<code>HTTP1.0</code>的基础上，增加更多的请求头和响应头来完善的功能，如下：</p>
<ul>
<li>引入了更多的缓存控制策略，如If-Unmodified-Since, If-Match, If-None-Match等缓存头来控制缓存策略</li>
<li>引入range，允许值请求资源某个部分</li>
<li>引入host，实现了在一台WEB服务器上可以在同一个IP地址和端口号上使用不同的主机名来创建多个虚拟WEB站点</li>
</ul>
<p>并且还添加了其他的请求方法：<code>put</code>、<code>delete</code>、<code>options</code>…</p>
<h2 id="三、HTTP2-0"><a href="#三、HTTP2-0" class="headerlink" title="三、HTTP2.0"></a>三、HTTP2.0</h2><p>而<code>HTTP2.0</code>在相比之前版本，性能上有很大的提升，如添加了一个特性：</p>
<ul>
<li>多路复用</li>
<li>二进制分帧</li>
<li>首部压缩</li>
<li>服务器推送</li>
</ul>
<h3 id="多路复用"><a href="#多路复用" class="headerlink" title="多路复用"></a>多路复用</h3><p><code>HTTP/2</code> 复用<code>TCP</code>连接，在一个连接里，客户端和浏览器都可以<strong>同时</strong>发送多个请求或回应，而且不用按照顺序一一对应，这样就避免了”队头堵塞”</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/313f1980-b93b-11eb-85f6-6fac77c0c9b3.png"></p>
<p>上图中，可以看到第四步中<code>css</code>、<code>js</code>资源是同时发送到服务端</p>
<h3 id="二进制分帧"><a href="#二进制分帧" class="headerlink" title="二进制分帧"></a>二进制分帧</h3><p>帧是<code>HTTP2</code>通信中最小单位信息</p>
<p><code>HTTP/2</code> 采用二进制格式传输数据，而非 <code>HTTP 1.x </code>的文本格式，解析起来更高效</p>
<p>将请求和响应数据分割为更小的帧，并且它们采用二进制编码</p>
<p><code>HTTP2 </code>中，同域名下所有通信都在单个连接上完成，该连接可以承载任意数量的双向数据流</p>
<p>每个数据流都以消息的形式发送，而消息又由一个或多个帧组成。多个帧之间可以乱序发送，根据帧首部的流标识可以重新组装，这也是多路复用同时发送数据的实现条件</p>
<h3 id="首部压缩"><a href="#首部压缩" class="headerlink" title="首部压缩"></a>首部压缩</h3><p><code>HTTP/2</code>在客户端和服务器端使用“首部表”来跟踪和存储之前发送的键值对，对于相同的数据，不再通过每次请求和响应发送</p>
<p>首部表在<code>HTTP/2</code>的连接存续期内始终存在，由客户端和服务器共同渐进地更新</p>
<p>例如：下图中的两个请求， 请求一发送了所有的头部字段，第二个请求则只需要发送差异数据，这样可以减少冗余数据，降低开销</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/3c536740-b93b-11eb-ab90-d9ae814b240d.png"></p>
<h3 id="服务器推送"><a href="#服务器推送" class="headerlink" title="服务器推送"></a>服务器推送</h3><p><code>HTTP2</code>引入服务器推送，允许服务端推送资源给客户端</p>
<p>服务器会顺便把一些客户端需要的资源一起推送到客户端，如在响应一个页面请求中，就可以随同页面的其它资源</p>
<p>免得客户端再次创建连接发送请求到服务器端获取</p>
<p>这种方式非常合适加载静态资源</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/47130550-b93b-11eb-85f6-6fac77c0c9b3.png"></p>
<h2 id="四、总结"><a href="#四、总结" class="headerlink" title="四、总结"></a>四、总结</h2><p>HTTP1.0：</p>
<ul>
<li>浏览器与服务器只保持短暂的连接，浏览器的每次请求都需要与服务器建立一个TCP连接</li>
</ul>
<p>HTTP1.1：</p>
<ul>
<li>引入了持久连接，即TCP连接默认不关闭，可以被多个请求复用</li>
<li>在同一个TCP连接里面，客户端可以同时发送多个请求</li>
<li>虽然允许复用TCP连接，但是同一个TCP连接里面，所有的数据通信是按次序进行的，服务器只有处理完一个请求，才会接着处理下一个请求。如果前面的处理特别慢，后面就会有许多请求排队等着</li>
<li>新增了一些请求方法</li>
<li>新增了一些请求头和响应头</li>
</ul>
<p>HTTP2.0：</p>
<ul>
<li>采用二进制格式而非文本格式</li>
<li>完全多路复用，而非有序并阻塞的、只需一个连接即可实现并行</li>
<li>使用报头压缩，降低开销</li>
<li>服务器推送</li>
</ul>
<h2 id="参考文献-3"><a href="#参考文献-3" class="headerlink" title="参考文献"></a>参考文献</h2><ul>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE#HTTP/1.0">https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE#HTTP/1.0</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/52d86558ca57">https://www.jianshu.com/p/52d86558ca57</a></li>
<li><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000016496448">https://segmentfault.com/a/1190000016496448</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/26559480">https://zhuanlan.zhihu.com/p/26559480</a></li>
</ul>
<h1 id="面试官：DNS协议-是什么？说说DNS-完整的查询过程"><a href="#面试官：DNS协议-是什么？说说DNS-完整的查询过程" class="headerlink" title="面试官：DNS协议 是什么？说说DNS 完整的查询过程?"></a>面试官：DNS协议 是什么？说说DNS 完整的查询过程?</h1><p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/88081710-b78f-11eb-ab90-d9ae814b240d.png"></p>
<h2 id="一、是什么-1"><a href="#一、是什么-1" class="headerlink" title="一、是什么"></a>一、是什么</h2><p>DNS（Domain Names System），域名系统，是互联网一项服务，是进行域名和与之相对应的 IP 地址进行转换的服务器</p>
<p>简单来讲，<code>DNS</code>相当于一个翻译官，负责将域名翻译成<code>ip</code>地址</p>
<ul>
<li>IP 地址：一长串能够唯一地标记网络上的计算机的数字</li>
<li>域名：是由一串用点分隔的名字组成的 Internet 上某一台计算机或计算机组的名称，用于在数据传输时对计算机的定位标识</li>
</ul>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/965a03a0-b78f-11eb-ab90-d9ae814b240d.png"></p>
<h2 id="二、域名"><a href="#二、域名" class="headerlink" title="二、域名"></a>二、域名</h2><p>域名是一个具有层次的结构，从上到下一次为根域名、顶级域名、二级域名、三级域名…</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/9f112780-b78f-11eb-85f6-6fac77c0c9b3.png"></p>
<p>例如<code>www.xxx.com</code>，<code>www</code>为三级域名、<code>xxx</code>为二级域名、<code>com</code>为顶级域名，系统为用户做了兼容，域名末尾的根域名<code>.</code>一般不需要输入</p>
<p>在域名的每一层都会有一个域名服务器，如下图：</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/f40e0090-b7a4-11eb-85f6-6fac77c0c9b3.png"></p>
<p>除此之外，还有电脑默认的本地域名服务器</p>
<h2 id="三、查询方式"><a href="#三、查询方式" class="headerlink" title="三、查询方式"></a>三、查询方式</h2><p>DNS 查询的方式有两种：</p>
<ul>
<li>递归查询：如果 A 请求 B，那么 B 作为请求的接收者一定要给 A 想要的答案</li>
</ul>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/a73be9e0-b78f-11eb-85f6-6fac77c0c9b3.png"></p>
<ul>
<li>迭代查询：如果接收者 B 没有请求者 A 所需要的准确内容，接收者 B 将告诉请求者 A，如何去获得这个内容，但是自己并不去发出请求</li>
</ul>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/b023e1c0-b78f-11eb-85f6-6fac77c0c9b3.png"></p>
<h2 id="四、域名缓存"><a href="#四、域名缓存" class="headerlink" title="四、域名缓存"></a>四、域名缓存</h2><p>在域名服务器解析的时候，使用缓存保存域名和<code>IP</code>地址的映射</p>
<p>计算机中<code>DNS</code>的记录也分成了两种缓存方式：</p>
<ul>
<li>浏览器缓存：浏览器在获取网站域名的实际 IP 地址后会对其进行缓存，减少网络请求的损耗</li>
<li>操作系统缓存：操作系统的缓存其实是用户自己配置的 <code>hosts</code> 文件</li>
</ul>
<h2 id="五、查询过程"><a href="#五、查询过程" class="headerlink" title="五、查询过程"></a>五、查询过程</h2><p>解析域名的过程如下：</p>
<ul>
<li><p>首先搜索浏览器的 DNS 缓存，缓存中维护一张域名与 IP 地址的对应表</p>
</li>
<li><p>若没有命中，则继续搜索操作系统的 DNS 缓存</p>
</li>
<li><p>若仍然没有命中，则操作系统将域名发送至本地域名服务器，本地域名服务器采用递归查询自己的 DNS 缓存，查找成功则返回结果</p>
</li>
<li><p>若本地域名服务器的 DNS 缓存没有命中，则本地域名服务器向上级域名服务器进行迭代查询</p>
<ul>
<li>首先本地域名服务器向根域名服务器发起请求，根域名服务器返回顶级域名服务器的地址给本地服务器</li>
<li>本地域名服务器拿到这个顶级域名服务器的地址后，就向其发起请求，获取权限域名服务器的地址</li>
<li>本地域名服务器根据权限域名服务器的地址向其发起请求，最终得到该域名对应的 IP 地址</li>
</ul>
</li>
<li><p>本地域名服务器将得到的 IP 地址返回给操作系统，同时自己将 IP 地址缓存起来</p>
</li>
<li><p>操作系统将 IP 地址返回给浏览器，同时自己也将 IP 地址缓存起</p>
</li>
<li><p>至此，浏览器就得到了域名对应的 IP 地址，并将 IP 地址缓存起</p>
</li>
</ul>
<p>流程如下图所示：</p>
<p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://static.vue-js.com/bec3c740-b78f-11eb-ab90-d9ae814b240d.png"></p>
<h2 id="参考文献-4"><a href="#参考文献-4" class="headerlink" title="参考文献"></a>参考文献</h2><ul>
<li><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F">https://zh.wikipedia.org/wiki/%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/jmilkfan-fanguiju/p/12789677.html">https://www.cnblogs.com/jmilkfan-fanguiju/p/12789677.html</a></li>
<li><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000039039275">https://segmentfault.com/a/1190000039039275</a></li>
<li><a target="_blank" rel="noopener" href="https://vue3js.cn/interview">https://vue3js.cn/interview</a></li>
</ul>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://avatars.githubusercontent.com/u/47170023?v=4" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://avatars.githubusercontent.com/u/47170023?v=4" title="头像" alt="头像"></a><div class="post-copyright__author_name">你别睡这么晚</div><div class="post-copyright__author_desc">我有一只小兔兔🐇</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://dont-sleep-so-late.github.io/2023/09/13/%E5%85%AB%E8%82%A1%E6%96%87/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://dont-sleep-so-late.github.io/2023/09/13/%E5%85%AB%E8%82%A1%E6%96%87/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86/')">浏览器知识</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/wechatQRCode.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/wechatQRCode.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/qqQRCode.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cdn.jsdelivr.net/gh/dont-sleep-so-late/CDN/images/qqQRCode.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://dont-sleep-so-late.github.io/2023/09/13/%E5%85%AB%E8%82%A1%E6%96%87/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=浏览器知识&amp;url=https://dont-sleep-so-late.github.io/2023/09/13/%E5%85%AB%E8%82%A1%E6%96%87/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86/&amp;pic=" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="rm.copyPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://dont-sleep-so-late.github.io" target="_blank">你别睡这么晚！</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>浏览器知识<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://avatars.githubusercontent.com/u/47170023?v=4" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/09/12/git/Git%20%E7%9B%B8%E5%85%B3%E6%8A%80%E5%B7%A7/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Git 相关技巧</div></div></a></div><div class="next-post pull-right"><a href="/2023/09/13/TCP/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">TCP</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://avatars.githubusercontent.com/u/47170023?v=4" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://emotion.acs.pw/emotion/tieba/彩虹.png" ait="status"/></div></div><div class="author-info__description">一个学习笔记网站</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">你别睡这么晚</h1><div class="author-info__desc">我有一只小兔兔🐇</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/dont-sleep-so-late" target="_blank" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/14680267" target="_blank" title="BiliBili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">1.</span> <span class="toc-text">基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%92%8C%E8%BF%9B%E7%A8%8B"><span class="toc-number">1.1.</span> <span class="toc-text">线程和进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Chrome-%E6%89%93%E5%BC%80%E4%B8%80%E4%B8%AA%E9%A1%B5%E9%9D%A2%E4%BC%9A%E6%9C%89%E5%87%A0%E4%B8%AA%E8%BF%9B%E7%A8%8B%EF%BC%9F"><span class="toc-number">1.2.</span> <span class="toc-text">Chrome 打开一个页面会有几个进程？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%A8%E5%9F%9F"><span class="toc-number">2.</span> <span class="toc-text">跨域</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E8%B7%A8%E5%9F%9F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">2.1.</span> <span class="toc-text">常用的跨域解决方案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CORS-%E8%B7%A8%E6%BA%90%E8%B5%84%E6%BA%90%E5%85%B1%E4%BA%AB"><span class="toc-number">2.2.</span> <span class="toc-text">CORS 跨源资源共享</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E8%AF%B7%E6%B1%82"><span class="toc-number">2.2.1.</span> <span class="toc-text">简单请求</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6"><span class="toc-number">3.</span> <span class="toc-text">浏览器缓存机制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%BA%E7%BC%93%E5%AD%98%EF%BC%88200-OK%EF%BC%89"><span class="toc-number">3.1.</span> <span class="toc-text">强缓存（200 OK）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E4%BD%8D%E7%BD%AE"><span class="toc-number">3.1.1.</span> <span class="toc-text">缓存位置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98%EF%BC%88304-Not-Modified%EF%BC%89"><span class="toc-number">3.2.</span> <span class="toc-text">协商缓存（304 Not Modified）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Last-Modified-%E5%92%8C-If-Modified-Since"><span class="toc-number">3.2.1.</span> <span class="toc-text">Last-Modified 和 If-Modified-Since</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ETag-%E5%92%8C-If-None-Match"><span class="toc-number">3.2.2.</span> <span class="toc-text">ETag 和 If-None-Match</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%87%E7%A8%8B"><span class="toc-number">3.2.2.1.</span> <span class="toc-text">过程</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">3.3.</span> <span class="toc-text">应用场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E8%A1%8C%E4%B8%BA%E5%AF%B9%E7%BC%93%E5%AD%98%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="toc-number">3.4.</span> <span class="toc-text">用户行为对缓存的影响</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AD%98%E5%82%A8"><span class="toc-number">4.</span> <span class="toc-text">浏览器存储</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Cookie"><span class="toc-number">4.1.</span> <span class="toc-text">Cookie</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Cookie-%E7%9A%84%E7%94%9F%E6%88%90%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="toc-number">4.1.1.</span> <span class="toc-text">Cookie 的生成和使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Web-Storage"><span class="toc-number">4.2.</span> <span class="toc-text">Web Storage</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#API-%E4%BD%BF%E7%94%A8"><span class="toc-number">4.2.1.</span> <span class="toc-text">API 使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IndexedDB"><span class="toc-number">4.3.</span> <span class="toc-text">IndexedDB</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#API-%E4%BD%BF%E7%94%A8-1"><span class="toc-number">4.3.1.</span> <span class="toc-text">API 使用</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E8%AF%95%E5%AE%98%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4HTTPS%E6%AF%94HTTP%E5%AE%89%E5%85%A8-HTTPS%E6%98%AF%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81%E5%AE%89%E5%85%A8%E7%9A%84%EF%BC%9F"><span class="toc-number"></span> <span class="toc-text">面试官：为什么说HTTPS比HTTP安全? HTTPS是如何保证安全的？</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%AE%89%E5%85%A8%E7%89%B9%E6%80%A7"><span class="toc-number">1.</span> <span class="toc-text">一、安全特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%A6%82%E4%BD%95%E5%81%9A"><span class="toc-number">2.</span> <span class="toc-text">二、如何做</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86"><span class="toc-number">2.1.</span> <span class="toc-text">对称加密</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86"><span class="toc-number">2.2.</span> <span class="toc-text">非对称加密</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%B7%E5%90%88%E5%8A%A0%E5%AF%86"><span class="toc-number">2.3.</span> <span class="toc-text">混合加密</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BE%E4%B8%AA%E4%BE%8B%E5%AD%90%EF%BC%9A"><span class="toc-number">2.3.1.</span> <span class="toc-text">举个例子：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%91%98%E8%A6%81%E7%AE%97%E6%B3%95"><span class="toc-number">2.4.</span> <span class="toc-text">摘要算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D"><span class="toc-number">2.5.</span> <span class="toc-text">数字签名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CA%E9%AA%8C%E8%AF%81%E6%9C%BA%E6%9E%84"><span class="toc-number">2.6.</span> <span class="toc-text">CA验证机构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-number">3.</span> <span class="toc-text">三、总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"><span class="toc-number">4.</span> <span class="toc-text">参考文献</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E8%AF%95%E5%AE%98%EF%BC%9A%E4%BB%80%E4%B9%88%E6%98%AFHTTP-HTTP-%E5%92%8C-HTTPS-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number"></span> <span class="toc-text">面试官：什么是HTTP? HTTP 和 HTTPS 的区别?</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81HTTP"><span class="toc-number">1.</span> <span class="toc-text">一、HTTP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81HTTPS"><span class="toc-number">2.</span> <span class="toc-text">二、HTTPS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%8C%BA%E5%88%AB"><span class="toc-number">3.</span> <span class="toc-text">三、区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE-1"><span class="toc-number">4.</span> <span class="toc-text">参考文献</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E8%AF%95%E5%AE%98%EF%BC%9A%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3TCP-IP%E5%8D%8F%E8%AE%AE"><span class="toc-number"></span> <span class="toc-text">面试官：如何理解TCP&#x2F;IP协议?</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.</span> <span class="toc-text">一、是什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%88%92%E5%88%86"><span class="toc-number">2.</span> <span class="toc-text">二、划分</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94%E5%B1%82%E4%BD%93%E7%B3%BB"><span class="toc-number">2.1.</span> <span class="toc-text">五层体系</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82"><span class="toc-number">2.1.1.</span> <span class="toc-text">应用层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E8%BE%93%E5%B1%82"><span class="toc-number">2.1.2.</span> <span class="toc-text">传输层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82"><span class="toc-number">2.1.3.</span> <span class="toc-text">网络层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82"><span class="toc-number">2.1.4.</span> <span class="toc-text">数据链路层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-number">2.1.5.</span> <span class="toc-text">物理层</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E5%B1%82%E4%BD%93%E7%B3%BB"><span class="toc-number">2.2.</span> <span class="toc-text">四层体系</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%80%BB%E7%BB%93-1"><span class="toc-number">3.</span> <span class="toc-text">三、总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE-2"><span class="toc-number">4.</span> <span class="toc-text">参考文献</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E8%AF%95%E5%AE%98%EF%BC%9A%E8%AF%B4%E8%AF%B4-HTTP1-0-1-1-2-0-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number"></span> <span class="toc-text">面试官：说说 HTTP1.0&#x2F;1.1&#x2F;2.0 的区别?</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81HTTP1-0"><span class="toc-number">1.</span> <span class="toc-text">一、HTTP1.0</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81HTTP1-1"><span class="toc-number">2.</span> <span class="toc-text">二、HTTP1.1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81HTTP2-0"><span class="toc-number">3.</span> <span class="toc-text">三、HTTP2.0</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8"><span class="toc-number">3.1.</span> <span class="toc-text">多路复用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%88%86%E5%B8%A7"><span class="toc-number">3.2.</span> <span class="toc-text">二进制分帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A6%96%E9%83%A8%E5%8E%8B%E7%BC%A9"><span class="toc-number">3.3.</span> <span class="toc-text">首部压缩</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8E%A8%E9%80%81"><span class="toc-number">3.4.</span> <span class="toc-text">服务器推送</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-number">4.</span> <span class="toc-text">四、总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE-3"><span class="toc-number">5.</span> <span class="toc-text">参考文献</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E8%AF%95%E5%AE%98%EF%BC%9ADNS%E5%8D%8F%E8%AE%AE-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E8%AF%B4%E8%AF%B4DNS-%E5%AE%8C%E6%95%B4%E7%9A%84%E6%9F%A5%E8%AF%A2%E8%BF%87%E7%A8%8B"><span class="toc-number"></span> <span class="toc-text">面试官：DNS协议 是什么？说说DNS 完整的查询过程?</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%98%AF%E4%BB%80%E4%B9%88-1"><span class="toc-number">1.</span> <span class="toc-text">一、是什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%9F%9F%E5%90%8D"><span class="toc-number">2.</span> <span class="toc-text">二、域名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%9F%A5%E8%AF%A2%E6%96%B9%E5%BC%8F"><span class="toc-number">3.</span> <span class="toc-text">三、查询方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%9F%9F%E5%90%8D%E7%BC%93%E5%AD%98"><span class="toc-number">4.</span> <span class="toc-text">四、域名缓存</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%9F%A5%E8%AF%A2%E8%BF%87%E7%A8%8B"><span class="toc-number">5.</span> <span class="toc-text">五、查询过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE-4"><span class="toc-number">6.</span> <span class="toc-text">参考文献</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/10/03/%E5%89%8D%E7%AB%AFbug%E9%9B%86/" title="前端bug集">前端bug集</a><time datetime="2024-10-03T13:08:15.000Z" title="发表于 2024-10-03 21:08:15">2024-10-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/05/23/CSS%E5%B7%A5%E5%85%B7/" title="常用正则表达式">常用正则表达式</a><time datetime="2024-05-23T12:00:38.000Z" title="发表于 2024-05-23 20:00:38">2024-05-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/04/09/echart/" title="常用正则表达式">常用正则表达式</a><time datetime="2024-04-09T12:14:38.000Z" title="发表于 2024-04-09 20:14:38">2024-04-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/04/05/python/python%E5%9F%BA%E7%A1%80/" title="Python基础">Python基础</a><time datetime="2024-04-05T03:44:25.000Z" title="发表于 2024-04-05 11:44:25">2024-04-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/04/02/js/%E8%AF%AD%E9%9F%B3%E6%96%87%E5%AD%97%E4%BA%92%E8%BD%AC/" title="前端AI语音方面的实现">前端AI语音方面的实现</a><time datetime="2024-04-02T14:31:15.000Z" title="发表于 2024-04-02 22:31:15">2024-04-02</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2023 - 2024 By <a class="footer-bar-link" href="/" title="你别睡这么晚" target="_blank">你别睡这么晚</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-Theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">79</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">60</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">5</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://dont-sleep-so-late.github.io/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 文档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=150767257&amp;server=netease"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/equipment/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 我的装备</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/API%E6%96%87%E6%A1%A3%E7%AE%A1%E7%90%86/" style="font-size: 0.88rem;">API文档管理<sup>1</sup></a><a href="/tags/Array/" style="font-size: 0.88rem;">Array<sup>1</sup></a><a href="/tags/CSS/" style="font-size: 0.88rem;">CSS<sup>4</sup></a><a href="/tags/CSS-Less/" style="font-size: 0.88rem;">CSS Less<sup>1</sup></a><a href="/tags/CSS-flex/" style="font-size: 0.88rem;">CSS flex<sup>1</sup></a><a href="/tags/CSS-grid/" style="font-size: 0.88rem;">CSS grid<sup>1</sup></a><a href="/tags/ES6/" style="font-size: 0.88rem;">ES6<sup>1</sup></a><a href="/tags/Git/" style="font-size: 0.88rem;">Git<sup>3</sup></a><a href="/tags/HTML/" style="font-size: 0.88rem;">HTML<sup>2</sup></a><a href="/tags/HTML5/" style="font-size: 0.88rem;">HTML5<sup>1</sup></a><a href="/tags/HTTP/" style="font-size: 0.88rem;">HTTP<sup>1</sup></a><a href="/tags/JS-WebStorage/" style="font-size: 0.88rem;">JS WebStorage<sup>1</sup></a><a href="/tags/JS-array/" style="font-size: 0.88rem;">JS array<sup>1</sup></a><a href="/tags/JS-%E6%A8%A1%E5%9D%97%E5%8C%96/" style="font-size: 0.88rem;">JS 模块化<sup>1</sup></a><a href="/tags/JavaSciprt/" style="font-size: 0.88rem;">JavaSciprt<sup>2</sup></a><a href="/tags/JavaScript/" style="font-size: 0.88rem;">JavaScript<sup>7</sup></a><a href="/tags/Mybatis/" style="font-size: 0.88rem;">Mybatis<sup>2</sup></a><a href="/tags/MybatisPlus/" style="font-size: 0.88rem;">MybatisPlus<sup>1</sup></a><a href="/tags/OpenAPI-Swagger/" style="font-size: 0.88rem;">OpenAPI/Swagger<sup>1</sup></a><a href="/tags/Router/" style="font-size: 0.88rem;">Router<sup>1</sup></a><a href="/tags/SpringBoot/" style="font-size: 0.88rem;">SpringBoot<sup>1</sup></a><a href="/tags/SpringMVC/" style="font-size: 0.88rem;">SpringMVC<sup>1</sup></a><a href="/tags/TCP/" style="font-size: 0.88rem;">TCP<sup>1</sup></a><a href="/tags/Vue/" style="font-size: 0.88rem;">Vue<sup>18</sup></a><a href="/tags/Vue3/" style="font-size: 0.88rem;">Vue3<sup>5</sup></a><a href="/tags/Vuex/" style="font-size: 0.88rem;">Vuex<sup>1</sup></a><a href="/tags/Vue%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80/" style="font-size: 0.88rem;">Vue核心基础<sup>1</sup></a><a href="/tags/Vue%E7%BB%84%E4%BB%B6/" style="font-size: 0.88rem;">Vue组件<sup>1</sup></a><a href="/tags/Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E7%BC%96%E7%A8%8B/" style="font-size: 0.88rem;">Vue组件化编程<sup>1</sup></a><a href="/tags/Vue%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1/" style="font-size: 0.88rem;">Vue组件间通信<sup>1</sup></a><a href="/tags/Vue%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/" style="font-size: 0.88rem;">Vue网络请求<sup>1</sup></a><a href="/tags/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/" style="font-size: 0.88rem;">Vue脚手架<sup>1</sup></a><a href="/tags/axios/" style="font-size: 0.88rem;">axios<sup>1</sup></a><a href="/tags/css/" style="font-size: 0.88rem;">css<sup>1</sup></a><a href="/tags/echart/" style="font-size: 0.88rem;">echart<sup>2</sup></a><a href="/tags/sass/" style="font-size: 0.88rem;">sass<sup>1</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" style="font-size: 0.88rem;">前端开发<sup>2</sup></a><a href="/tags/%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/" style="font-size: 0.88rem;">实用技巧<sup>1</sup></a><a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 0.88rem;">微信小程序<sup>5</sup></a><a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 0.88rem;">正则表达式<sup>1</sup></a></div></div><hr/></div></div><div id="keyboard-tips"><div class="keyboardTitle">博客快捷键</div><div class="keybordList"><div class="keybordItem"><div class="keyGroup"><div class="key">shift K</div></div><div class="keyContent"><div class="content">关闭快捷键功能</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift A</div></div><div class="keyContent"><div class="content">打开/关闭中控台</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift M</div></div><div class="keyContent"><div class="content">播放/暂停音乐</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift D</div></div><div class="keyContent"><div class="content">深色/浅色显示模式</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift S</div></div><div class="keyContent"><div class="content">站内搜索</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift R</div></div><div class="keyContent"><div class="content">随机访问</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift H</div></div><div class="keyContent"><div class="content">返回首页</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift F</div></div><div class="keyContent"><div class="content">友链鱼塘</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift L</div></div><div class="keyContent"><div class="content">友链页面</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift P</div></div><div class="keyContent"><div class="content">关于本站</div></div></div><div class="keybordItem"><div class="keyGroup"><div class="key">shift I</div></div><div class="keyContent"><div class="content">原版/本站右键菜单</div></div></div></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="150767257" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random"></meting-js></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://music.163.com/#/playlist?id=150767257&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.4/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("09/05/2023 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2023 By 安知鱼 V1.6.6",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 你别睡这么晚 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script src="https://cdn.cbd.int/algoliasearch@4.18.0/dist/algoliasearch-lite.umd.js"></script><script src="https://cdn.cbd.int/instantsearch.js@4.56.5/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "visitor@anheyu.com";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>